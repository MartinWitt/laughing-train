# ozone 
 
# Bad smells
I found 3362 bad smells with 375 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| RuleId[ruleID=ReturnNull] | 339 | false |
| RuleId[ruleID=SystemOutErr] | 267 | false |
| RuleId[ruleID=BoundedWildcard] | 251 | false |
| RuleId[ruleID=MissortedModifiers] | 238 | false |
| RuleId[ruleID=UnusedAssignment] | 212 | false |
| RuleId[ruleID=RedundantFieldInitialization] | 206 | false |
| RuleId[ruleID=AssignmentToMethodParameter] | 175 | false |
| RuleId[ruleID=SizeReplaceableByIsEmpty] | 172 | true |
| RuleId[ruleID=DataFlowIssue] | 109 | false |
| RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized] | 83 | false |
| RuleId[ruleID=UnnecessaryLocalVariable] | 77 | true |
| RuleId[ruleID=UnnecessaryFullyQualifiedName] | 73 | false |
| RuleId[ruleID=ConstantValue] | 56 | false |
| RuleId[ruleID=SynchronizeOnThis] | 50 | false |
| RuleId[ruleID=UnnecessaryToStringCall] | 49 | true |
| RuleId[ruleID=NonProtectedConstructorInAbstractClass] | 47 | true |
| RuleId[ruleID=InstanceofCatchParameter] | 42 | false |
| RuleId[ruleID=ZeroLengthArrayInitialization] | 41 | false |
| RuleId[ruleID=Convert2MethodRef] | 34 | false |
| RuleId[ruleID=OptionalUsedAsFieldOrParameterType] | 32 | false |
| RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator] | 31 | false |
| RuleId[ruleID=BusyWait] | 30 | false |
| RuleId[ruleID=StaticCallOnSubclass] | 27 | false |
| RuleId[ruleID=SimplifyStreamApiCallChains] | 24 | false |
| RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern] | 23 | false |
| RuleId[ruleID=StringEqualsEmptyString] | 23 | false |
| RuleId[ruleID=CodeBlock2Expr] | 22 | false |
| RuleId[ruleID=StringConcatenationInsideStringBufferAppend] | 22 | false |
| RuleId[ruleID=RedundantImplements] | 20 | false |
| RuleId[ruleID=NullableProblems] | 19 | false |
| RuleId[ruleID=RedundantMethodOverride] | 19 | false |
| RuleId[ruleID=StringBufferReplaceableByString] | 18 | false |
| RuleId[ruleID=UnnecessarySemicolon] | 16 | false |
| RuleId[ruleID=OptionalGetWithoutIsPresent] | 16 | false |
| RuleId[ruleID=Finalize] | 15 | false |
| RuleId[ruleID=UnstableApiUsage] | 15 | false |
| RuleId[ruleID=EmptyMethod] | 14 | false |
| RuleId[ruleID=NestedAssignment] | 13 | false |
| RuleId[ruleID=UnnecessarySuperQualifier] | 13 | false |
| RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter] | 12 | false |
| RuleId[ruleID=DeprecatedIsStillUsed] | 12 | false |
| RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment] | 11 | false |
| RuleId[ruleID=RedundantSuppression] | 11 | false |
| RuleId[ruleID=UnnecessaryReturn] | 11 | true |
| RuleId[ruleID=DefaultAnnotationParam] | 11 | false |
| RuleId[ruleID=ThrowablePrintStackTrace] | 11 | false |
| RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument] | 10 | true |
| RuleId[ruleID=PointlessArithmeticExpression] | 10 | false |
| RuleId[ruleID=NonFinalFieldOfException] | 10 | false |
| RuleId[ruleID=StringOperationCanBeSimplified] | 9 | false |
| RuleId[ruleID=NonShortCircuitBoolean] | 9 | false |
| RuleId[ruleID=UtilityClassWithoutPrivateConstructor] | 9 | false |
| RuleId[ruleID=MismatchedJavadocCode] | 9 | false |
| RuleId[ruleID=WrapperTypeMayBePrimitive] | 8 | false |
| RuleId[ruleID=KeySetIterationMayUseEntrySet] | 8 | false |
| RuleId[ruleID=IgnoreResultOfCall] | 8 | false |
| RuleId[ruleID=IndexOfReplaceableByContains] | 8 | false |
| RuleId[ruleID=DuplicateBranchesInSwitch] | 8 | false |
| RuleId[ruleID=IOResource] | 8 | false |
| RuleId[ruleID=AbstractMethodCallInConstructor] | 8 | false |
| RuleId[ruleID=UnnecessaryBoxing] | 8 | false |
| RuleId[ruleID=ProtectedMemberInFinalClass] | 7 | true |
| RuleId[ruleID=CharsetObjectCanBeUsed] | 7 | false |
| RuleId[ruleID=CaughtExceptionImmediatelyRethrown] | 7 | false |
| RuleId[ruleID=IfStatementWithIdenticalBranches] | 7 | false |
| RuleId[ruleID=AssignmentToForLoopParameter] | 7 | false |
| RuleId[ruleID=AccessStaticViaInstance] | 6 | false |
| RuleId[ruleID=ClassNameSameAsAncestorName] | 6 | false |
| RuleId[ruleID=Convert2Lambda] | 6 | false |
| RuleId[ruleID=WhileCanBeForeach] | 5 | false |
| RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod] | 5 | false |
| RuleId[ruleID=RegExpRedundantEscape] | 5 | false |
| RuleId[ruleID=TrivialStringConcatenation] | 5 | false |
| RuleId[ruleID=ManualMinMaxCalculation] | 5 | false |
| RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal] | 5 | false |
| RuleId[ruleID=RedundantCollectionOperation] | 5 | false |
| RuleId[ruleID=NonSerializableFieldInSerializableClass] | 5 | false |
| RuleId[ruleID=SynchronizeOnNonFinalField] | 5 | false |
| RuleId[ruleID=CommentedOutCode] | 4 | false |
| RuleId[ruleID=ObjectNotify] | 4 | false |
| RuleId[ruleID=IntegerMultiplicationImplicitCastToLong] | 4 | false |
| RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod] | 4 | false |
| RuleId[ruleID=UnnecessaryStringEscape] | 4 | false |
| RuleId[ruleID=ObsoleteCollection] | 4 | false |
| RuleId[ruleID=OctalLiteral] | 4 | false |
| RuleId[ruleID=StringBufferReplaceableByStringBuilder] | 4 | false |
| RuleId[ruleID=MismatchedCollectionQueryUpdate] | 3 | false |
| RuleId[ruleID=DoubleBraceInitialization] | 3 | false |
| RuleId[ruleID=PublicFieldAccessedInSynchronizedContext] | 3 | false |
| RuleId[ruleID=UseBulkOperation] | 3 | false |
| RuleId[ruleID=NullArgumentToVariableArgMethod] | 3 | false |
| RuleId[ruleID=MethodOverridesStaticMethod] | 3 | false |
| RuleId[ruleID=UnnecessaryContinue] | 3 | false |
| RuleId[ruleID=CopyConstructorMissesField] | 3 | false |
| RuleId[ruleID=SocketResource] | 2 | false |
| RuleId[ruleID=OptionalContainsCollection] | 2 | false |
| RuleId[ruleID=ObviousNullCheck] | 2 | false |
| RuleId[ruleID=AssignmentToLambdaParameter] | 2 | false |
| RuleId[ruleID=StringEquality] | 2 | false |
| RuleId[ruleID=ConditionalBreakInInfiniteLoop] | 2 | false |
| RuleId[ruleID=AnonymousHasLambdaAlternative] | 2 | false |
| RuleId[ruleID=FunctionalExpressionCanBeFolded] | 2 | false |
| RuleId[ruleID=ThrowFromFinallyBlock] | 2 | false |
| RuleId[ruleID=RedundantStringFormatCall] | 2 | false |
| RuleId[ruleID=FuseStreamOperations] | 2 | false |
| RuleId[ruleID=NonExceptionNameEndsWithException] | 2 | false |
| RuleId[ruleID=OptionalIsPresent] | 2 | false |
| RuleId[ruleID=CatchMayIgnoreException] | 2 | false |
| RuleId[ruleID=ConditionCoveredByFurtherCondition] | 2 | false |
| RuleId[ruleID=MissingDeprecatedAnnotation] | 2 | false |
| RuleId[ruleID=Java8MapApi] | 2 | false |
| RuleId[ruleID=EqualsWhichDoesntCheckParameterClass] | 2 | false |
| RuleId[ruleID=EqualsWithItself] | 1 | false |
| RuleId[ruleID=UnnecessaryModifier] | 1 | true |
| RuleId[ruleID=MismatchedArrayReadWrite] | 1 | false |
| RuleId[ruleID=ForLoopReplaceableByWhile] | 1 | false |
| RuleId[ruleID=UnnecessaryUnboxing] | 1 | false |
| RuleId[ruleID=RegExpDuplicateCharacterInClass] | 1 | false |
| RuleId[ruleID=ExcessiveLambdaUsage] | 1 | false |
| RuleId[ruleID=ReturnFromFinallyBlock] | 1 | false |
| RuleId[ruleID=DuplicateThrows] | 1 | false |
| RuleId[ruleID=ReplaceInefficientStreamCount] | 1 | false |
| RuleId[ruleID=MethodOverloadsParentMethod] | 1 | false |
| RuleId[ruleID=UnnecessaryInitCause] | 1 | false |
| RuleId[ruleID=KotlinMavenPluginPhase] | 1 | false |
| RuleId[ruleID=RedundantClassCall] | 1 | false |
| RuleId[ruleID=RegExpSimplifiable] | 1 | false |
| RuleId[ruleID=AbstractClassNeverImplemented] | 1 | false |
| RuleId[ruleID=IfStatementMissingBreakInLoop] | 1 | false |
| RuleId[ruleID=InfiniteLoopStatement] | 1 | false |
| RuleId[ruleID=UseOfPropertiesAsHashtable] | 1 | false |
| RuleId[ruleID=ArrayEquality] | 1 | false |
| RuleId[ruleID=TypeParameterExtendsObject] | 1 | false |
| RuleId[ruleID=FieldMayBeStatic] | 1 | false |
| RuleId[ruleID=InnerClassMayBeStatic] | 1 | true |
| RuleId[ruleID=SuspiciousMethodCalls] | 1 | false |
| RuleId[ruleID=NestedSynchronizedStatement] | 1 | false |
| RuleId[ruleID=WrongPackageStatement] | 1 | false |
| RuleId[ruleID=ThrowableNotThrown] | 1 | false |
| RuleId[ruleID=ThreadStartInConstruction] | 1 | false |
| RuleId[ruleID=BigDecimalMethodWithoutRoundingCalled] | 1 | false |
| RuleId[ruleID=CastCanBeRemovedNarrowingVariableType] | 1 | false |
## RuleId[ruleID=EqualsWithItself]
### RuleId[ruleID=EqualsWithItself]
`equals()` called on itself
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketInfo.java`
#### Snippet
```java
        Objects.equals(bekInfo, that.bekInfo) &&
        Objects.equals(owner, that.owner) &&
        Objects.equals(defaultReplicationConfig, this.defaultReplicationConfig);
  }

```

## RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new String\[hostList.size()\]'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
          });

      String[] hosts = hostList.toArray(new String[hostList.size()]);
      String[] names = nameList.toArray(new String[nameList.size()]);
      BlockLocation blockLocation = new BlockLocation(
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new String\[nameList.size()\]'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java

      String[] hosts = hostList.toArray(new String[hostList.size()]);
      String[] names = nameList.toArray(new String[nameList.size()]);
      BlockLocation blockLocation = new BlockLocation(
          names, hosts, offsetOfBlockInFile,
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new String\[hostList.size()\]'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
          });

      String[] hosts = hostList.toArray(new String[hostList.size()]);
      String[] names = nameList.toArray(new String[nameList.size()]);
      BlockLocation blockLocation = new BlockLocation(
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new String\[nameList.size()\]'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java

      String[] hosts = hostList.toArray(new String[hostList.size()]);
      String[] names = nameList.toArray(new String[nameList.size()]);
      BlockLocation blockLocation = new BlockLocation(
          names, hosts, offsetOfBlockInFile,
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new CompletableFuture\[moveSelectionToFutureMap.size()\]'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
    CompletableFuture<Void> allFuturesResult = CompletableFuture.allOf(
        moveSelectionToFutureMap.values()
            .toArray(new CompletableFuture[moveSelectionToFutureMap.size()]));
    try {
      allFuturesResult.get(config.getMoveTimeout().toMillis(),
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new CommandHandler\[handlerList.size()\]'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CommandDispatcher.java`
#### Snippet
```java
      Preconditions.checkArgument(this.handlerList.size() > 0);
      return new CommandDispatcher(this.container, this.connectionManager,
          this.context, handlerList.toArray(
              new CommandHandler[handlerList.size()]));
    }
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new CompletableFuture\[futureList.size()\]'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java`
#### Snippet
```java
            .map(Map.Entry::getValue).collect(Collectors.toList());
    return CompletableFuture.allOf(
        futureList.toArray(new CompletableFuture[futureList.size()]));
  }
  /*
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new GeneralName\[altNames.size()\]'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificates/utils/SelfSignedCertificate.java`
#### Snippet
```java
      if (altNames != null && altNames.size() >= 1) {
        builder.addExtension(new Extension(Extension.subjectAlternativeName,
            false, new GeneralNames(altNames.toArray(
                new GeneralName[altNames.size()])).getEncoded()));
      }
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new GeneralName\[altNames.size()\]'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificates/utils/CertificateSignRequest.java`
#### Snippet
```java
        return Optional.of(new Extension(Extension.subjectAlternativeName,
            false, new DEROctetString(new GeneralNames(
            altNames.toArray(new GeneralName[altNames.size()])))));
      }
      return Optional.empty();
```

### RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
Call to `toArray()` with pre-sized array argument 'new Extension\[extensions.size()\]'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificates/utils/CertificateSignRequest.java`
#### Snippet
```java

      return new Extensions(
          extensions.toArray(new Extension[extensions.size()]));
    }

```

## RuleId[ruleID=Finalize]
### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedLRUCache.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedObject.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedStatistics.java`
#### Snippet
```java
public class ManagedStatistics extends Statistics {
  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedSlice.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectMetrics.INSTANCE.increaseManagedObject();
    if (this.isOwningHandle()) {
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedColumnFamilyOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedWriteOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedEnvOptions.java`
#### Snippet
```java
public class ManagedEnvOptions extends EnvOptions {
  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedWriteBatch.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedDBOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedFlushOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedReadOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedBloomFilter.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedIngestExternalFileOptions.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

### RuleId[ruleID=Finalize]
'finalize()' should not be overridden
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedSstFileWriter.java`
#### Snippet
```java

  @Override
  protected void finalize() throws Throwable {
    ManagedRocksObjectUtils.assertClosed(this);
    super.finalize();
```

## RuleId[ruleID=WrapperTypeMayBePrimitive]
### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
            coderFactory.getCodecName(), coderFactory.getCoderName());
      } else {
        Boolean hasConflit = false;
        for (RawErasureCoderFactory coder : coders) {
          if (coder.getCoderName().equals(coderFactory.getCoderName())) {
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManagerImpl.java`
#### Snippet
```java
  public void scrubPipelines() throws IOException, TimeoutException {
    Instant currentTime = clock.instant();
    Long pipelineScrubTimeoutInMills = conf.getTimeDuration(
        ScmConfigKeys.OZONE_SCM_PIPELINE_ALLOCATED_TIMEOUT,
        ScmConfigKeys.OZONE_SCM_PIPELINE_ALLOCATED_TIMEOUT_DEFAULT,
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/PipelineEndpoint.java`
#### Snippet
```java

  private Long getElectionCountMetricValue(String groupId) {
    Long electionCount = 0L;
    String metricsQuery = String.format(
            "query=ratis_leader_election_electionCount{group=\"%s\"}", groupId);
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      throws OMException {

    Boolean lockAcquired = metadataManager.getLock().acquireReadLock(
            BUCKET_LOCK, volume, bucket);
    String dbBucketKey = metadataManager.getBucketKey(volume, bucket);
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

  private String getVolumeOwner(String volume) throws OMException {
    Boolean lockAcquired = metadataManager.getLock().acquireReadLock(
        VOLUME_LOCK, volume);
    String dbVolumeKey = metadataManager.getVolumeKey(volume);
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/SCMConnectionManager.java`
#### Snippet
```java
  public SCMConnectionManager(ConfigurationSource conf) {
    this.mapLock = new ReentrantReadWriteLock();
    Long timeOut = getScmRpcTimeOutInMilliseconds(conf);
    this.rpcTimeout = timeOut.intValue();
    this.scmMachines = new HashMap<>();
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/containergenerator/BaseGenerator.java`
#### Snippet
```java
  public long getContainerSize(ConfigurationSource conf) {
    if (containerSize == 0) {
      final Double defaultContainerSize =
          conf.getStorageSize(ScmConfigKeys.OZONE_SCM_CONTAINER_SIZE,
              ScmConfigKeys.OZONE_SCM_CONTAINER_SIZE_DEFAULT,
```

### RuleId[ruleID=WrapperTypeMayBePrimitive]
Type may be primitive
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4QueryParser.java`
#### Snippet
```java
    final String expiresString = queryParameters.get("X-Amz-Expires");
    if (expiresString != null && expiresString.length() > 0) {
      final Long expires = Long.valueOf(expiresString);

      if (ZonedDateTime.parse(dateString, StringToSignProducer.TIME_FORMATTER)
```

## RuleId[ruleID=UnnecessaryModifier]
### RuleId[ruleID=UnnecessaryModifier]
Modifier `transient` is redundant for a 'static' field
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/conf/HddsConfServlet.java`
#### Snippet
```java
  private static final OzoneConfiguration OZONE_CONFIG =
      new OzoneConfiguration();
  private static final transient Logger LOG =
      LoggerFactory.getLogger(HddsConfServlet.class);

```

## RuleId[ruleID=MismatchedArrayReadWrite]
### RuleId[ruleID=MismatchedArrayReadWrite]
Contents of array `erasureFlags` are written to, but never read
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/RSRawDecoder.java`
#### Snippet
```java
  private int[] validIndexes;
  private int numErasedDataUnits;
  private boolean[] erasureFlags;

  public RSRawDecoder(ECReplicationConfig ecReplicationConfig) {
```

## RuleId[ruleID=PointlessArithmeticExpression]
### RuleId[ruleID=PointlessArithmeticExpression]
`oPos + 0` can be replaced with 'oPos'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/RSUtil.java`
#### Snippet
```java

        for (i = 0; i < times; i++, iPos += 8, oPos += 8) {
          output.put(oPos + 0, (byte) (output.get(oPos + 0) ^
              tableLine[0xff & input.get(iPos + 0)]));
          output.put(oPos + 1, (byte) (output.get(oPos + 1) ^
```

### RuleId[ruleID=PointlessArithmeticExpression]
`oPos + 0` can be replaced with 'oPos'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/RSUtil.java`
#### Snippet
```java

        for (i = 0; i < times; i++, iPos += 8, oPos += 8) {
          output.put(oPos + 0, (byte) (output.get(oPos + 0) ^
              tableLine[0xff & input.get(iPos + 0)]));
          output.put(oPos + 1, (byte) (output.get(oPos + 1) ^
```

### RuleId[ruleID=PointlessArithmeticExpression]
`iPos + 0` can be replaced with 'iPos'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/RSUtil.java`
#### Snippet
```java
        for (i = 0; i < times; i++, iPos += 8, oPos += 8) {
          output.put(oPos + 0, (byte) (output.get(oPos + 0) ^
              tableLine[0xff & input.get(iPos + 0)]));
          output.put(oPos + 1, (byte) (output.get(oPos + 1) ^
              tableLine[0xff & input.get(iPos + 1)]));
```

### RuleId[ruleID=PointlessArithmeticExpression]
`oPos + 0` can be replaced with 'oPos'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/RSUtil.java`
#### Snippet
```java
         */
        for (i = 0; i < times; i++, iPos += 8, oPos += 8) {
          output[oPos + 0] ^= tableLine[0xff & input[iPos + 0]];
          output[oPos + 1] ^= tableLine[0xff & input[iPos + 1]];
          output[oPos + 2] ^= tableLine[0xff & input[iPos + 2]];
```

### RuleId[ruleID=PointlessArithmeticExpression]
`iPos + 0` can be replaced with 'iPos'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/RSUtil.java`
#### Snippet
```java
         */
        for (i = 0; i < times; i++, iPos += 8, oPos += 8) {
          output[oPos + 0] ^= tableLine[0xff & input[iPos + 0]];
          output[oPos + 1] ^= tableLine[0xff & input[iPos + 1]];
          output[oPos + 2] ^= tableLine[0xff & input[iPos + 2]];
```

### RuleId[ruleID=PointlessArithmeticExpression]
`offset + 0` can be replaced with 'offset'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java
    c15 = (byte) (c8 ^ c7);

    tbl[offset + 0] = 0;
    tbl[offset + 1] = c;
    tbl[offset + 2] = c2;
```

### RuleId[ruleID=PointlessArithmeticExpression]
`1 * 1024 * 1024` can be replaced with '1024 \* 1024'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java`
#### Snippet
```java
  public static final String CHUNK_OVERWRITE = "OverWriteRequested";

  public static final int CHUNK_SIZE = 1 * 1024 * 1024; // 1 MB
  public static final long KB = 1024L;
  public static final long MB = KB * 1024L;
```

### RuleId[ruleID=PointlessArithmeticExpression]
`0 - decrement` can be replaced with '- decrement'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java`
#### Snippet
```java
      //with this write, container size might breach max size
      long decrement = Math.min(bytes, unused);
      this.getVolume().incCommittedBytes(0 - decrement);
    }
  }
```

### RuleId[ruleID=PointlessArithmeticExpression]
`0 - unused` can be replaced with '- unused'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java`
#### Snippet
```java
    // only if container size < max size
    if (unused > 0 && committedSpace) {
      getVolume().incCommittedBytes(0 - unused);
    }
    committedSpace = false;
```

### RuleId[ruleID=PointlessArithmeticExpression]
`1L * 60 * 60 * 1000 * 1000` can be replaced with '60 \* 60 \* 1000 \* 1000'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeConfiguration.java`
#### Snippet
```java
  // one hour
  static final long ROCKSDB_DELETE_OBSOLETE_FILES_PERIOD_MICRO_SECONDS_DEFAULT =
      1L * 60 * 60 * 1000 * 1000;
  static final int ROCKSDB_MAX_OPEN_FILES_DEFAULT = 1024;
  public static final String ROCKSDB_LOG_MAX_FILE_SIZE_BYTES_KEY =
```

## RuleId[ruleID=WhileCanBeForeach]
### RuleId[ruleID=WhileCanBeForeach]
`while` loop can be replaced with enhanced 'for'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetUtils.java`
#### Snippet
```java
    }
    Iterator<Node> iterator = nodes.iterator();
    while (iterator.hasNext()) {
      Node node = iterator.next();
      Node ancestor = topology.getAncestor(node, generation);
```

### RuleId[ruleID=WhileCanBeForeach]
`while` loop can be replaced with enhanced 'for'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
      Iterator iter =
          multipartKeyInfo.getPartKeyInfoMap().entrySet().iterator();
      while (iter.hasNext()) {
        Map.Entry entry = (Map.Entry)iter.next();
        PartKeyInfo iterPartKeyInfo = (PartKeyInfo)entry.getValue();
```

### RuleId[ruleID=WhileCanBeForeach]
`while` loop can be replaced with enhanced 'for'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionCoordinator.java`
#### Snippet
```java
    Iterator<Map.Entry<Integer, DatanodeDetails>> iterator =
        sourceNodeMap.entrySet().iterator();
    while (iterator.hasNext()) {
      Map.Entry<Integer, DatanodeDetails> next = iterator.next();
      Integer key = next.getKey();
```

### RuleId[ruleID=WhileCanBeForeach]
`while` loop can be replaced with enhanced 'for'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionCoordinator.java`
#### Snippet
```java
        sourceNodeMap.entrySet().iterator();

    while (iterator.hasNext()) {
      Map.Entry<Integer, DatanodeDetails> next = iterator.next();
      Integer index = next.getKey();
```

### RuleId[ruleID=WhileCanBeForeach]
`while` loop can be replaced with enhanced 'for'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java

    Iterator<Path> pathIterator =  p.iterator();
    while (pathIterator.hasNext()) {
      Path elem = pathIterator.next();
      String path =
```

## RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
### RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
Assignment to static field `provider` from instance context
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/x509/SecurityConfig.java`
#### Snippet
```java
    if (SecurityConfig.provider == null) {
      synchronized (SecurityConfig.class) {
        provider = Security.getProvider(this.providerString);
        if (SecurityConfig.provider == null) {
          // Provider not found, let us try to Dynamically initialize the
```

### RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
Assignment to static field `provider` from instance context
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/x509/SecurityConfig.java`
#### Snippet
```java
          // Provider not found, let us try to Dynamically initialize the
          // provider.
          provider = initSecurityProvider(this.providerString);
        }
      }
```

### RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
Assignment to static field `separator` from instance context
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/DatanodeSchemaThreeDBDefinition.java`
#### Snippet
```java

  private void setSeparator(String keySeparator) {
    separator = keySeparator;
  }
}
```

### RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
Assignment to static field `instance` from instance context
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OnDemandContainerScanner.java`
#### Snippet
```java

  private synchronized void shutdownScanner() {
    instance = null;
    metrics.unregister();
    this.canceler.cancel("On-demand container" +
```

### RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
Assignment to static field `dbProfile` from instance context
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/AbstractDatanodeStore.java`
#### Snippet
```java
      throws IOException {

    dbProfile = DatanodeDBProfile
        .getProfile(config.getEnum(HDDS_DB_PROFILE, HDDS_DEFAULT_DB_PROFILE));

```

## RuleId[ruleID=CommentedOutCode]
### RuleId[ruleID=CommentedOutCode]
Commented out code (2 lines)
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
      // TODO: Turn the below buffer empty check on when Standalone pipeline
      // is removed in the write path in tests
      // Preconditions.checkArgument(buffer.position() == 0);
      // bufferPool.checkBufferPoolEmpty();

```

### RuleId[ruleID=CommentedOutCode]
Commented out code (4 lines)
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/NodeStateMap.java`
#### Snippet
```java
    StringBuilder builder = new StringBuilder();
    builder.append("Total number of nodes: ").append(getTotalNodeCount());
   // for (NodeState state : NodeState.values()) {
   //   builder.append("Number of nodes in ").append(state).append(" state: ")
   //       .append(getNodeCount(state));
```

### RuleId[ruleID=CommentedOutCode]
Commented out code (2 lines)
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ReplicatedFileChecksumHelper.java`
#### Snippet
```java
    case COMPOSITE_CRC:
      // TODO: abort if chunk checksum type is not CRC32/CRC32C
      //BlockChecksumType returnedType = PBHelperClient.convert(
      //    checksumData.getBlockChecksumOptions().getBlockChecksumType());
      /*if (returnedType != BlockChecksumType.COMPOSITE_CRC) {
```

### RuleId[ruleID=CommentedOutCode]
Commented out code (5 lines)
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ReplicatedFileChecksumHelper.java`
#### Snippet
```java
      //BlockChecksumType returnedType = PBHelperClient.convert(
      //    checksumData.getBlockChecksumOptions().getBlockChecksumType());
      /*if (returnedType != BlockChecksumType.COMPOSITE_CRC) {
        throw new IOException(String.format(
            "Unexpected blockChecksumType '%s', expecting COMPOSITE_CRC",
```

## RuleId[ruleID=RegExpRedundantEscape]
### RuleId[ruleID=RegExpRedundantEscape]
Redundant character escape `\\.` in RegExp
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java

  private static final Pattern URL_SCHEMA_PATTERN =
      Pattern.compile("([^\\.]+)\\.([^\\.]+)\\.{0,1}(.*)");

  private static final String URI_EXCEPTION_TEXT = "Ozone file system URL " +
```

### RuleId[ruleID=RegExpRedundantEscape]
Redundant character escape `\\.` in RegExp
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java

  private static final Pattern URL_SCHEMA_PATTERN =
      Pattern.compile("([^\\.]+)\\.([^\\.]+)\\.{0,1}(.*)");

  private static final String URI_EXCEPTION_TEXT = "Ozone file system URL " +
```

### RuleId[ruleID=RegExpRedundantEscape]
Redundant character escape `\\:` in RegExp
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
      return Optional.empty();
    }
    String hostname = value.replaceAll("\\:[0-9]+$", "");
    if (hostname.length() == 0) {
      return Optional.empty();
```

### RuleId[ruleID=RegExpRedundantEscape]
Redundant character escape `\\|` in RegExp
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java`
#### Snippet
```java
   */
  public static final Pattern KEYNAME_ILLEGAL_CHARACTER_CHECK_REGEX  =
          Pattern.compile("^[^^{}<>^?%~#`\\[\\]\\|\\\\(\\x80-\\xff)]+$");

  public static final String FS_FILE_COPYING_TEMP_SUFFIX = "._COPYING_";
```

### RuleId[ruleID=RegExpRedundantEscape]
Redundant character escape `\\]` in RegExp
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
public class OzoneAcl {

  private static final String ACL_SCOPE_REGEX = ".*\\[(ACCESS|DEFAULT)\\]";
  private ACLIdentityType type;
  private String name;
```

## RuleId[ruleID=KeySetIterationMayUseEntrySet]
### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `pendingOps.keySet()` may be replaced with 'entrySet()' iteration
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
   */
  public void removeExpiredEntries(long expiryMilliSeconds) {
    for (ContainerID containerID : pendingOps.keySet()) {
      // Rather than use an entry set, we get the map entry again. This is
      // to protect against another thread modifying the value after this
```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `fileSizeCountMap.keySet()` may be replaced with 'Map.forEach()' iteration
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java`
#### Snippet
```java
    List<FileCountBySize> updateInDb = new ArrayList<>();

    fileSizeCountMap.keySet().forEach((FileSizeCountKey key) -> {
      FileCountBySize newRecord = new FileCountBySize();
      newRecord.setVolume(key.volume);
```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `nsSummaryMap.keySet()` may be replaced with 'Map.forEach()' iteration
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskDbEventHandler.java`
#### Snippet
```java
      throws IOException {
    try (RDBBatchOperation rdbBatchOperation = new RDBBatchOperation()) {
      nsSummaryMap.keySet().forEach((Long key) -> {
        try {
          reconNamespaceSummaryManager.batchStoreNSSummaries(rdbBatchOperation,
```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `containerKeyMap.keySet()` may be replaced with 'Map.forEach()' iteration
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
      throws IOException {
    try (RDBBatchOperation rdbBatchOperation = new RDBBatchOperation()) {
      containerKeyMap.keySet().forEach((ContainerKeyPrefix key) -> {
        try {
          reconContainerMetadataManager
```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `containerKeyCountMap.keySet()` may be replaced with 'Map.forEach()' iteration
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java


      containerKeyCountMap.keySet().forEach((Long key) -> {
        try {
          reconContainerMetadataManager
```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `headers.keySet()` may be replaced with 'Map.forEach()' iteration
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AWSSignatureProcessor.java`
#### Snippet
```java

      if (LOG.isTraceEnabled()) {
        headers.keySet().forEach(k -> LOG.trace("Header:{},value:{}", k,
            headers.get(k)));
      }
```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `epochEntries.keySet()` may be replaced with 'entrySet()' iteration
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/cache/FullTableCache.java`
#### Snippet
```java
    CACHEKEY cachekey;
    long lastEpoch = epochs.get(epochs.size() - 1);
    for (long currentEpoch : epochEntries.keySet()) {
      currentCacheKeys = epochEntries.get(currentEpoch);

```

### RuleId[ruleID=KeySetIterationMayUseEntrySet]
Iteration over `epochEntries.keySet()` may be replaced with 'entrySet()' iteration
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/cache/PartialTableCache.java`
#### Snippet
```java
    CACHEKEY cachekey;
    long lastEpoch = epochs.get(epochs.size() - 1);
    for (long currentEpoch : epochEntries.keySet()) {
      currentCacheKeys = epochEntries.get(currentEpoch);

```

## RuleId[ruleID=ObjectNotify]
### RuleId[ruleID=ObjectNotify]
`notify` should probably be replaced with 'notifyAll()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
  public synchronized void runImmediately() {
    runImmediately = true;
    notify();
  }

```

### RuleId[ruleID=ObjectNotify]
`notify` should probably be replaced with 'notifyAll()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/UnderReplicatedProcessor.java`
#### Snippet
```java
  synchronized void runImmediately() {
    runImmediately = true;
    notify();
  }
}
```

### RuleId[ruleID=ObjectNotify]
`notify` should probably be replaced with 'notifyAll()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/OverReplicatedProcessor.java`
#### Snippet
```java
  synchronized void runImmediately() {
    runImmediately = true;
    notify();
  }
}
```

### RuleId[ruleID=ObjectNotify]
`notify` should probably be replaced with 'notifyAll()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
      long transactionIndex) {
    currentBuffer.add(new DoubleBufferEntry<>(transactionIndex, response));
    notify();

    if (!isRatisEnabled) {
```

## RuleId[ruleID=ForLoopReplaceableByWhile]
### RuleId[ruleID=ForLoopReplaceableByWhile]
`for` loop statement may be replace by 'while' loop
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java

    private static int update(int crc, ByteBuffer b, int[] table) {
      for (; b.remaining() > 7;) {
        final int c0 = (b.get() ^ crc) & 0xff;
        final int c1 = (b.get() ^ (crc >>>= 8)) & 0xff;
```

## RuleId[ruleID=SizeReplaceableByIsEmpty]
### RuleId[ruleID=SizeReplaceableByIsEmpty]
`chunkStreams.size() == 0` can be replaced with 'chunkStreams.isEmpty()'
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
    while (len > 0) {
      // if we are at the last chunk and have read the entire chunk, return
      if (chunkStreams.size() == 0 ||
          (chunkStreams.size() - 1 <= chunkIndex &&
              chunkStreams.get(chunkIndex)
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneClientUtils.java`
#### Snippet
```java
    Preconditions.checkArgument(length >= 0);

    if (keyName.length() == 0) {
      return null;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyNameList.size() == 0` can be replaced with 'keyNameList.isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
  @Override
  public boolean deleteObjects(List<String> keyNameList) {
    if (keyNameList.size() == 0) {
      return true;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyStr.length() > 0` can be replaced with '!keyStr.isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
      // of volume and bucket. We won't feed empty keyStr to
      // bucket.createDirectory as that would be a NPE.
      if (keyStr != null && keyStr.length() > 0) {
        bucket.createDirectory(keyStr);
      }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
    OFSPath ofsPath = new OFSPath(path);
    String keyName = ofsPath.getKeyName();
    if (keyName.length() == 0) {
      return false;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`hosts.size() > 0` can be replaced with '!hosts.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/DecommissionSubCommand.java`
#### Snippet
```java
  @Override
  public void execute(ScmClient scmClient) throws IOException {
    if (hosts.size() > 0) {
      List<DatanodeAdminError> errors = scmClient.decommissionNodes(hosts);
      System.out.println("Started decommissioning datanode(s):\n" +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`nodes.size() > 0` can be replaced with '!nodes.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java
      List<HddsProtos.Node> nodes = scmClient.queryNode(null, state,
          HddsProtos.QueryScope.CLUSTER, "");
      if (nodes != null && nodes.size() > 0) {
        // show node state
        System.out.println("State = " + state.toString());
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`errors.size() > 0` can be replaced with '!errors.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/DecommissionSubCommand.java`
#### Snippet
```java
      System.out.println("Started decommissioning datanode(s):\n" +
          String.join("\n", hosts));
      if (errors.size() > 0) {
        for (DatanodeAdminError error : errors) {
          System.err.println("Error: " + error.getHostname() + ": "
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`hosts.size() > 0` can be replaced with '!hosts.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/MaintenanceSubCommand.java`
#### Snippet
```java
  @Override
  public void execute(ScmClient scmClient) throws IOException {
    if (hosts.size() > 0) {
      List<DatanodeAdminError> errors =
          scmClient.startMaintenanceNodes(hosts, endInHours);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`errors.size() > 0` can be replaced with '!errors.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/MaintenanceSubCommand.java`
#### Snippet
```java
      System.out.println("Entering maintenance mode on datanode(s):\n" +
          String.join("\n", hosts));
      if (errors.size() > 0) {
        for (DatanodeAdminError error : errors) {
          System.err.println("Error: " + error.getHostname() + ": "
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`hosts.size() > 0` can be replaced with '!hosts.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/RecommissionSubCommand.java`
#### Snippet
```java
  @Override
  public void execute(ScmClient scmClient) throws IOException {
    if (hosts.size() > 0) {
      List<DatanodeAdminError> errors = scmClient.recommissionNodes(hosts);
      System.out.println("Started recommissioning datanode(s):\n" +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`errors.size() > 0` can be replaced with '!errors.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/RecommissionSubCommand.java`
#### Snippet
```java
      System.out.println("Started recommissioning datanode(s):\n" +
          String.join("\n", hosts));
      if (errors.size() > 0) {
        for (DatanodeAdminError error : errors) {
          System.err.println("Error: " + error.getHostname() + ": "
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`containers.size() > 0` can be replaced with '!containers.isEmpty()'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/ReportSubcommand.java`
#### Snippet
```java
        : ReplicationManagerReport.HealthState.values()) {
      List<ContainerID> containers = report.getSample(state);
      if (containers.size() > 0) {
        output("First " + ReplicationManagerReport.SAMPLE_LIMIT + " " +
            state + " containers:");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyList.size() > 0` can be replaced with '!keyList.isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
          }
        }
        if (keyList.size() > 0) {
          if (!processKey(keyList)) {
            return false;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyPathList.size() > 0` can be replaced with '!keyPathList.isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
          }
        }
        if (keyPathList.size() > 0) {
          if (!processKeyPath(keyPathList)) {
            return false;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`error.getMessage().length() == 0` can be replaced with 'error.getMessage().isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java
    //print out the stack trace.
    if (verbose || error.getMessage() == null
        || error.getMessage().length() == 0) {
      error.printStackTrace(System.err);
    } else {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`hostname.length() == 0` can be replaced with 'hostname.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
    }
    String hostname = value.replaceAll("\\:[0-9]+$", "");
    if (hostname.length() == 0) {
      return Optional.empty();
    } else {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`scmNodeIds.size() == 0` can be replaced with 'scmNodeIds.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMNodeInfo.java`
#### Snippet
```java
      ArrayList< String > scmNodeIds = new ArrayList<>(
          SCMHAUtils.getSCMNodeIds(conf, scmServiceId));
      if (scmNodeIds.size() == 0) {
        throw new ConfigurationException(
            String.format("Configuration does not have any value set for %s " +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`nodes.size() == 0` can be replaced with 'nodes.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
    Preconditions.checkState(genToReturn >= 0);

    if (nodes == null || nodes.size() == 0) {
      return Collections.emptyMap();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`excludedScopes.size() > 0` can be replaced with '!excludedScopes.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
        continue;
      }
      if (excludedScopes != null && excludedScopes.size() > 0) {
        if (excludedScopes.stream().anyMatch(node::isDescendant)) {
          continue;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`tasks.size() > 0` can be replaced with '!tasks.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/BackgroundService.java`
#### Snippet
```java
  public void runPeriodicalTaskNow() throws Exception {
    BackgroundTaskQueue tasks = getTasks();
    while (tasks.size() > 0) {
      tasks.poll().call();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`tasks.size() > 0` can be replaced with '!tasks.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/BackgroundService.java`
#### Snippet
```java
      }

      while (tasks.size() > 0) {
        BackgroundTask task = tasks.poll();
        CompletableFuture.runAsync(() -> {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`this.checksums.size() == 0` can be replaced with 'this.checksums.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumData.java`
#### Snippet
```java

    // pre checks
    if (this.checksums.size() == 0) {
      throw new OzoneChecksumException("Original checksumData has no " +
          "checksums");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`that.checksums.size() == 0` can be replaced with 'that.checksums.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumData.java`
#### Snippet
```java
    }

    if (that.checksums.size() == 0) {
      throw new OzoneChecksumException("Computed checksumData has no " +
          "checksums");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`id.length() > 0` can be replaced with '!id.isEmpty()'
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/Component.java`
#### Snippet
```java

  public String prefix() {
    return name + (id != null && id.length() > 0 ? "-" + id : "");
  }

```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`msgs.size() > 0` can be replaced with '!msgs.isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
    List<String> returningMsgs = new ArrayList<>(msgs.size() + 10);
    Status status = versionManager.getUpgradeState();
    while (msgs.size() > 0) {
      returningMsgs.add(msgs.poll());
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`scmNodeIds.size() == 0` can be replaced with 'scmNodeIds.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
      // TODO: need to fall back to ozone.scm.names in case scm node ids are
      // not defined.
      if (scmNodeIds.size() == 0) {
        throw new IllegalArgumentException(
            String.format("Configuration does not have any value set for %s " +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`healthyNodes.size() == 0` can be replaced with 'healthyNodes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
    }
    String msg;
    if (healthyNodes.size() == 0) {
      msg = "No healthy node found to allocate container.";
      LOG.error(msg);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`dns.size() > 0` can be replaced with '!dns.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
    int requiredRacks = getRequiredRackCount(replicas);
    if (topology == null || replicas == 1 || requiredRacks == 1) {
      if (dns.size() > 0) {
        // placement is always satisfied if there is at least one DN.
        return validPlacement;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`report.size() != 0` can be replaced with '!report.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
      Set<StorageLocationReport> report) throws SCMException {
    Preconditions.checkNotNull(report);
    Preconditions.checkState(report.size() != 0);
    Preconditions.checkNotNull(datanodeID);
    synchronized (scmNodeStorageReportMap) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`report.size() != 0` can be replaced with '!report.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
    Preconditions.checkNotNull(datanodeID);
    Preconditions.checkNotNull(report);
    Preconditions.checkState(report.size() != 0);
    synchronized (scmNodeStorageReportMap) {
      if (!scmNodeStorageReportMap.containsKey(datanodeID)) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`cmdList.size() > 0` can be replaced with '!cmdList.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/CommandQueue.java`
#### Snippet
```java
      if (cmds != null) {
        cmdList = cmds.getCommands();
        commandsInQueue -= cmdList.size() > 0 ? cmdList.size() : 0;
        // A post condition really.
        Preconditions.checkState(commandsInQueue >= 0);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`found.size() == 0` can be replaced with 'found.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionManager.java`
#### Snippet
```java
      }
      List<DatanodeDetails> found = nodeManager.getNodesByAddress(dnsName);
      if (found.size() == 0) {
        throw new InvalidHostStringException("Host " + host.getRawHostname()
            + " (" + dnsName + ") is not running any datanodes registered"
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`pipelines.size() == 0` can be replaced with 'pipelines.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
    Set<PipelineID> pipelines = nodeManager.getPipelines(dn);
    NodeStatus status = nodeManager.getNodeStatus(dn);
    if (pipelines == null || pipelines.size() == 0
        || status.operationalStateExpired()) {
      return true;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`trackedNodes.size() > 0` can be replaced with '!trackedNodes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
      }
      processTransitioningNodes();
      if (trackedNodes.size() > 0 || pendingNodes.size() > 0) {
        LOG.info("There are {} nodes tracked for decommission and " +
            "maintenance.  {} pending nodes.",
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`pendingNodes.size() > 0` can be replaced with '!pendingNodes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
      }
      processTransitioningNodes();
      if (trackedNodes.size() > 0 || pendingNodes.size() > 0) {
        LOG.info("There are {} nodes tracked for decommission and " +
            "maintenance.  {} pending nodes.",
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`icrs.size() > 0` can be replaced with '!icrs.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java`
#### Snippet
```java
          heartbeat.getIncrementalContainerReportList();

      if (icrs.size() > 0) {
        LOG.debug("Dispatching ICRs.");
        for (IncrementalContainerReportProto icr : icrs) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`possibleClients.size() > 0` can be replaced with '!possibleClients.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMBlockProtocolServer.java`
#### Snippet
```java
      List<DatanodeDetails> possibleClients =
          nodeManager.getNodesByAddress(clientMachine);
      if (possibleClients.size() > 0) {
        client = possibleClients.get(0);
      }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`containers.size() == 0` can be replaced with 'containers.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableECContainerProvider.java`
#### Snippet
```java
        pipelineManager.getContainersInPipeline(pipeline.getId());
    // Assume 1 container per pipeline for EC
    if (containers.size() == 0) {
      return null;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`existingPipelines.size() > 0` can be replaced with '!existingPipelines.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableECContainerProvider.java`
#### Snippet
```java
            .setSize(size)
            .build();
    while (existingPipelines.size() > 0) {
      Pipeline pipeline =
          pipelineChoosePolicy.choosePipeline(existingPipelines, pri);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`excludeList.getDatanodes().size() > 0` can be replaced with '!excludeList.getDatanodes().isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableECContainerProvider.java`
#### Snippet
```java

    List<DatanodeDetails> excludedNodes = Collections.emptyList();
    if (excludeList.getDatanodes().size() > 0) {
      excludedNodes = new ArrayList<>(excludeList.getDatanodes());
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`availablePipelines.size() != 0` can be replaced with '!availablePipelines.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableRatisContainerProvider.java`
#### Snippet
```java
                        excludeList,
                        Pipeline.PipelineState.OPEN);
        if (availablePipelines.size() != 0) {
          containerInfo = selectContainer(availablePipelines, size, owner,
              excludeList);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`availablePipelines.size() == 0` can be replaced with 'availablePipelines.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableRatisContainerProvider.java`
#### Snippet
```java
      }

      if (availablePipelines.size() == 0) {
        try {
          // TODO: #CLUTIL Remove creation logic when all replication types
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`availablePipelines.size() == 0` can be replaced with 'availablePipelines.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableRatisContainerProvider.java`
#### Snippet
```java
                  excludeList,
                  Pipeline.PipelineState.OPEN);
          if (availablePipelines.size() == 0) {
            LOG.info("Could not find available pipeline of repConfig: {} "
                + "even after retrying", repConfig);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`pipelines.size() == 0` can be replaced with 'pipelines.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableRatisContainerProvider.java`
#### Snippet
```java
            pipelineState, excludeList.getDatanodes(),
            excludeList.getPipelineIds());
    if (pipelines.size() == 0 && !excludeList.isEmpty()) {
      // if no pipelines can be found, try finding pipeline without
      // exclusion
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`pipelineList.size() > 0` can be replaced with '!pipelineList.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/choose/algorithms/HealthyPipelineChoosePolicy.java`
#### Snippet
```java
      PipelineRequestInformation pri) {
    Pipeline fallback = null;
    while (pipelineList.size() > 0) {
      Pipeline pipeline = super.choosePipeline(pipelineList, pri);
      if (pipeline.isHealthy()) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`tmp.size() > 0` can be replaced with '!tmp.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMClientProtocolServer.java`
#### Snippet
```java
    List<DatanodeDetails> tmp = scm.getScmNodeManager()
        .getNodes(opState, nodeState);
    if ((tmp != null) && (tmp.size() > 0)) {
      returnSet.addAll(tmp);
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`healthyNodes.size() == 0` can be replaced with 'healthyNodes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
        nodeManager.getNodes(NodeStatus.inServiceHealthy());
    String msg;
    if (healthyNodes.size() == 0) {
      msg = "No healthy node found to allocate container.";
      LOG.error(msg);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`stateSet.size() == 0` can be replaced with 'stateSet.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java`
#### Snippet
```java
    final NavigableSet<ContainerID> stateSet =
        lifeCycleStateMap.getCollection(state);
    if (stateSet.size() == 0) {
      return EMPTY_SET;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`ownerSet.size() == 0` can be replaced with 'ownerSet.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java`
#### Snippet
```java
    final NavigableSet<ContainerID> ownerSet =
        ownerMap.getCollection(owner);
    if (ownerSet.size() == 0) {
      return EMPTY_SET;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`factorSet.size() == 0` can be replaced with 'factorSet.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java`
#### Snippet
```java
    final NavigableSet<ContainerID> factorSet =
        repConfigMap.getCollection(repConfig);
    if (factorSet.size() == 0) {
      return EMPTY_SET;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`typeSet.size() == 0` can be replaced with 'typeSet.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java`
#### Snippet
```java
    final NavigableSet<ContainerID> typeSet =
        typeMap.getCollection(repConfig.getReplicationType());
    if (typeSet.size() == 0) {
      return EMPTY_SET;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`nodes.size() == 0` can be replaced with 'nodes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
  @VisibleForTesting
  double calculateAvgUtilization(List<DatanodeUsageInfo> nodes) {
    if (nodes.size() == 0) {
      LOG.warn("No nodes to calculate average utilization for in " +
          "ContainerBalancer.");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`ops.size() == 0` can be replaced with 'ops.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
          }
        }
        if (ops.size() == 0) {
          pendingOps.remove(containerID);
        }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`ops.size() == 0` can be replaced with 'ops.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
          }
        }
        if (ops.size() == 0) {
          pendingOps.remove(containerID);
        }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`unhealthyReplicas.size() > 0` can be replaced with '!unhealthyReplicas.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/ClosedWithMismatchedReplicasHandler.java`
#### Snippet
```java
        .collect(Collectors.toList());

    if (unhealthyReplicas.size() > 0) {
      handleUnhealthyReplicas(containerInfo, unhealthyReplicas);
      return true;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`overReplicatedIndexes.size() == 0` can be replaced with 'overReplicatedIndexes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECOverReplicationHandler.java`
#### Snippet
```java
        replicaCount.overReplicatedIndexes(true);
    //sanity check
    if (overReplicatedIndexes.size() == 0) {
      LOG.warn("The container {} with replicas {} is found over replicated " +
              "by ContainerHealthCheck, but found not over replicated by " +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`index2replicas.size() > 0` can be replaced with '!index2replicas.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECOverReplicationHandler.java`
#### Snippet
```java
        });

    if (index2replicas.size() > 0) {
      final Map<DatanodeDetails, SCMCommand<?>> commands = new HashMap<>();
      final int replicationFactor =
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`commands.size() == 0` can be replaced with 'commands.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECOverReplicationHandler.java`
#### Snippet
```java
        }
      });
      if (commands.size() == 0) {
        LOG.info("With the current state of avilable replicas {}, no" +
            " commands to process due to over replication.", replicas);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`request.getContainerReplicas().size() == 0` can be replaced with 'request.getContainerReplicas().isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/DeletingContainerHandler.java`
#### Snippet
```java
    }

    if (request.getContainerReplicas().size() == 0) {
      replicationManager.updateContainerState(
          cID, HddsProtos.LifeCycleEvent.CLEANUP);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`missingIndexes.size() > 0` can be replaced with '!missingIndexes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/ECReplicationCheckHandler.java`
#### Snippet
```java
      int remainingRedundancy = repConfig.getParity();
      boolean dueToDecommission = true;
      if (missingIndexes.size() > 0) {
        // The container has reduced redundancy and will need reconstructed
        // via an EC reconstruction command. Note that it may also have some
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`replicaPendingOps.size() > 0` can be replaced with '!replicaPendingOps.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/RatisReplicationCheckHandler.java`
#### Snippet
```java
    ContainerPlacementStatus placementStatusWithPending = placementStatus;
    if (!placementStatus.isPolicySatisfied()) {
      if (replicaPendingOps.size() > 0) {
        placementStatusWithPending =
            getPlacementStatus(replicas, requiredNodes, replicaPendingOps);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`mutableFavoredNodes.size() > 0` can be replaced with '!mutableFavoredNodes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
      }

      if (mutableFavoredNodes.size() > 0) {
        List<DatanodeDetails> chosenFavoredNodesInForLoop = new ArrayList<>();
        for (DatanodeDetails favoredNode : mutableFavoredNodes) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyPathList.size() > 0` can be replaced with '!keyPathList.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
          }
        }
        if (keyPathList.size() > 0) {
          if (!processKeyPath(keyPathList)) {
            return false;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`missingIndexes.size() > 0` can be replaced with '!missingIndexes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECUnderReplicationHandler.java`
#### Snippet
```java
      // We got the missing indexes, this is excluded any decommissioning
      // indexes. Find the good source nodes.
      if (missingIndexes.size() > 0) {

        LOG.debug("Missing indexes detected for the container {}." +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`decomIndexes.size() > 0` can be replaced with '!decomIndexes.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECUnderReplicationHandler.java`
#### Snippet
```java
      }
      Set<Integer> decomIndexes = replicaCount.decommissioningOnlyIndexes(true);
      if (decomIndexes.size() > 0) {
        final List<DatanodeDetails> selectedDatanodes =
            getTargetDatanodes(excludedNodes, container, decomIndexes.size());
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`commands.size() == 0` can be replaced with 'commands.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECUnderReplicationHandler.java`
#### Snippet
```java
      throw ex;
    }
    if (commands.size() == 0) {
      LOG.warn("Container {} is under replicated, but no commands were " +
          "created to correct it", id);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`prefixList.size() > 0` can be replaced with '!prefixList.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java
        prefixTree.getLongestPrefix(ozoneObj.getPath()));

    if (prefixList.size() > 0) {
      // Add all acls from direct parent to key.
      OmPrefixInfo parentPrefixInfo = prefixList.get(prefixList.size() - 1);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`omNodeIds.size() == 0` can be replaced with 'omNodeIds.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
          serviceId);

      if (omNodeIds.size() == 0) {
        throwConfException("Configuration does not have any value set for %s " +
            "for the service %s. List of OM Node ID's should be specified " +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`flushedEpochs.size() > 0` can be replaced with '!flushedEpochs.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
   */
  public void updateLastAppliedIndex(List<Long> flushedEpochs) {
    Preconditions.checkArgument(flushedEpochs.size() > 0);
    computeAndUpdateLastAppliedIndex(
        flushedEpochs.get(flushedEpochs.size() - 1), -1L, flushedEpochs, true);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java

    // If keyName is empty string throw error.
    if (path.length() == 0) {
      throw new OMException("Invalid KeyPath, empty keyName" + path,
          INVALID_KEY_NAME);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`principalInfo.getAccessIds().size() > 0` can be replaced with '!principalInfo.getAccessIds().isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/tenant/OMTenantRevokeUserAccessIdRequest.java`
#### Snippet
```java
      omMetadataManager.getPrincipalToAccessIdsTable().addCacheEntry(
          new CacheKey<>(userPrincipal),
          new CacheValue<>(principalInfo.getAccessIds().size() > 0 ?
              // Invalidate (remove) the entry if accessIds set is empty
              Optional.of(principalInfo) : Optional.absent(),
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`replicas.size() == 0` can be replaced with 'replicas.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      final Set<ContainerReplica> replicas) throws IOException,
      InvalidStateTransitionException, TimeoutException {
    if (replicas.size() == 0) {
      containerManager.updateContainerState(container.containerID(),
          HddsProtos.LifeCycleEvent.CLEANUP);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`filteredReplicas.size() > 0` can be replaced with '!filteredReplicas.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          .collect(Collectors.toSet());
      // Resend the delete command
      if (filteredReplicas.size() > 0) {
        filteredReplicas.stream().forEach(rp -> {
          sendDeleteCommand(container, rp.getDatanodeDetails(), false);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`source.size() > 0` can be replaced with '!source.isEmpty()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          .map(ContainerReplica::getDatanodeDetails)
          .collect(Collectors.toList());
      if (source.size() > 0) {
        final int replicationFactor = container
            .getReplicationConfig().getRequiredNodes();
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() > 0` can be replaced with '!volumeName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/tenant/OMTenantDeleteRequest.java`
#### Snippet
```java
      LOG.debug("Tenant '{}' has volume '{}'", tenantId, volumeName);
      // decVolumeRefCount is true if volumeName is not empty string
      decVolumeRefCount = volumeName.length() > 0;

      // Acquire the volume lock
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`toKeyName.length() == 0` can be replaced with 'toKeyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequestWithFSO.java`
#### Snippet
```java
    Result result;
    try {
      if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
        throw new OMException("Key name is empty",
                OMException.ResultCodes.INVALID_KEY_NAME);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`fromKeyName.length() == 0` can be replaced with 'fromKeyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequestWithFSO.java`
#### Snippet
```java
    Result result;
    try {
      if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
        throw new OMException("Key name is empty",
                OMException.ResultCodes.INVALID_KEY_NAME);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`currentBuffer.size() == 0` can be replaced with 'currentBuffer.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
    // When transactions are added to buffer it notifies, then we check if
    // currentBuffer size once and return from this method.
    while (currentBuffer.size() == 0) {
      wait(Long.MAX_VALUE);
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`toKeyName.length() == 0` can be replaced with 'toKeyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequest.java`
#### Snippet
```java
    Result result = null;
    try {
      if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
        throw new OMException("Key name is empty",
            OMException.ResultCodes.INVALID_KEY_NAME);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`fromKeyName.length() == 0` can be replaced with 'fromKeyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequest.java`
#### Snippet
```java
    Result result = null;
    try {
      if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
        throw new OMException("Key name is empty",
            OMException.ResultCodes.INVALID_KEY_NAME);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`partsList.size() > 0` can be replaced with '!partsList.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
          multipartKeyInfo.getPartKeyInfoMap();

      if (partsList.size() > 0) {
        if (partKeyInfoMap.size() == 0) {
          LOG.error("Complete MultipartUpload failed for key {} , MPU Key has" +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`partKeyInfoMap.size() == 0` can be replaced with 'partKeyInfoMap.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java

      if (partsList.size() > 0) {
        if (partKeyInfoMap.size() == 0) {
          LOG.error("Complete MultipartUpload failed for key {} , MPU Key has" +
                  " no parts in OM, parts given to upload are {}", ozoneKey,
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`prefixList.size() > 0` can be replaced with '!prefixList.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
              keyArgs.getKeyName());

      if (prefixList.size() > 0) {
        // Add all acls from direct parent to key.
        OmPrefixInfo prefixInfo = prefixList.get(prefixList.size() - 1);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`toKeyName.length() == 0` can be replaced with 'toKeyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
        RenameKeysMap.Builder unRenameKey = RenameKeysMap.newBuilder();

        if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
          renameStatus = false;
          unRenamedKeys.add(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`fromKeyName.length() == 0` can be replaced with 'fromKeyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
        RenameKeysMap.Builder unRenameKey = RenameKeysMap.newBuilder();

        if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
          renameStatus = false;
          unRenamedKeys.add(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    try {
      // Check if this is the root of the filesystem.
      if (keyName.length() == 0) {
        OMFileRequest.validateBucket(metadataManager, volumeName, bucketName);
        return new OzoneFileStatus();
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    try {
      // Check if this is the root of the filesystem.
      if (keyName.length() == 0) {
        OMFileRequest.validateBucket(metadataManager, volumeName, bucketName);
        return new OzoneFileStatus();
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`omPrefixInfo.getAcls().size() == 0` can be replaced with 'omPrefixInfo.getAcls().isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
      // prefix from prefix table.
      if (getOmRequest().hasRemoveAclRequest() &&
          omPrefixInfo.getAcls().size() == 0) {
        omMetadataManager.getPrefixTable().addCacheEntry(
            new CacheKey<>(prefixPath),
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequestWithFSO.java`
#### Snippet
```java
      bucketName = keyArgs.getBucketName();

      if (keyName.length() == 0) {
        // Check if this is the root of the filesystem.
        throw new OMException("Can not write to directory: " + keyName,
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMDirectoryCreateRequest.java`
#### Snippet
```java

      // Check if this is the root of the filesystem.
      if (keyName.length() == 0) {
        throw new OMException("Directory create failed. Cannot create " +
            "directory at root of the filesystem",
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMDirectoryCreateRequestWithFSO.java`
#### Snippet
```java

      // Check if this is the root of the filesystem.
      if (keyName.length() == 0) {
        throw new OMException("Directory create failed. Cannot create " +
            "directory at root of the filesystem",
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java`
#### Snippet
```java
      validateBucketAndVolume(omMetadataManager, volumeName, bucketName);

      if (keyName.length() == 0) {
        // Check if this is the root of the filesystem.
        throw new OMException("Can not write to directory: " + keyName,
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`omDBUserPrincipalInfo.getAccessIds().size() > 0` can be replaced with '!omDBUserPrincipalInfo.getAccessIds().isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/s3/tenant/OMTenantRevokeUserAccessIdResponse.java`
#### Snippet
```java
        batchOperation, accessId);

    if (omDBUserPrincipalInfo.getAccessIds().size() > 0) {
      omMetadataManager.getPrincipalToAccessIdsTable().putWithBatch(
          batchOperation, principal, omDBUserPrincipalInfo);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() > 0` can be replaced with '!volumeName.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/s3/tenant/OMTenantDeleteResponse.java`
#### Snippet
```java
        batchOperation, tenantId);

    if (volumeName.length() > 0) {
      Preconditions.checkNotNull(omVolumeArgs);
      Preconditions.checkState(omVolumeArgs.getVolume().equals(volumeName));
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`missing.size() > 0` can be replaced with '!missing.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
      fullKeyPath.append(OzoneConsts.OM_KEY_PREFIX);
      fullKeyPath.append(fileName);
      if (missing.size() > 0) {
        // Add all the sub-dirs to the missing list except the leaf element.
        // For example, /vol1/buck1/a/b/c/d/e/f/file1.txt.
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`prefixInfo.getAcls().size() == 0` can be replaced with 'prefixInfo.getAcls().isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/acl/prefix/OMPrefixAclResponse.java`
#### Snippet
```java

    if (getOMResponse().hasRemoveAclResponse() &&
        prefixInfo.getAcls().size() == 0) {
      // if acl list size is zero, delete the entry.
      omMetadataManager.getPrefixTable().deleteWithBatch(batchOperation,
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`jsonBucketNameArray.size() > 0` can be replaced with '!jsonBucketNameArray.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
          }

          if (jsonBucketNameArray.size() > 0) {
            JsonObject jsonBucketResource = new JsonObject();
            jsonBucketResource.add("values", jsonBucketNameArray);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`jsonKeyNameArray.size() > 0` can be replaced with '!jsonKeyNameArray.isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
            jsonKeyNameArray.add(new JsonPrimitive(keyName));
          }
          if (jsonKeyNameArray.size() > 0) {
            JsonObject jsonKeyResource = new JsonObject();
            jsonKeyResource.add("values", jsonKeyNameArray);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/NSSummaryEndpoint.java`
#### Snippet
```java
                               @QueryParam("replica") boolean withReplica)
      throws IOException {
    if (path == null || path.length() == 0) {
      return Response.status(Response.Status.BAD_REQUEST).build();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/NSSummaryEndpoint.java`
#### Snippet
```java
      throws IOException {

    if (path == null || path.length() == 0) {
      return Response.status(Response.Status.BAD_REQUEST).build();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/NSSummaryEndpoint.java`
#### Snippet
```java
      @QueryParam("path") String path) throws IOException {

    if (path == null || path.length() == 0) {
      return Response.status(Response.Status.BAD_REQUEST).build();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/NSSummaryEndpoint.java`
#### Snippet
```java
      throws IOException {

    if (path == null || path.length() == 0) {
      return Response.status(Response.Status.BAD_REQUEST).build();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`args.getKeyName().length() == 0` can be replaced with 'args.getKeyName().isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

  private ResourceType getResourceType(OmKeyArgs args) {
    if (args.getKeyName() == null || args.getKeyName().length() == 0) {
      return ResourceType.BUCKET;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`containerManager.getContainerReplicas(containerInfo.containerID()) .size() == 0` can be replaced with 'containerManager.getContainerReplicas(containerInfo.containerID()).isEmpty()'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
        }
        if (containerInfo.getState() == HddsProtos.LifeCycleState.DELETING &&
            containerManager.getContainerReplicas(containerInfo.containerID())
                .size() == 0
        ) {
          containerManager.updateContainerState(containerInfo.containerID(),
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`partStreams.size() == 0` can be replaced with 'partStreams.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
    int totalReadLen = 0;
    while (len > 0) {
      if (partStreams.size() == 0 ||
          (partStreams.size() - 1 <= partIndex &&
              partStreams.get(partIndex).getRemaining() == 0)) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`chunkInfoList.size() > 0` can be replaced with '!chunkInfoList.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ECBlockChecksumComputer.java`
#### Snippet
```java
  private void computeCompositeCrc() throws IOException {
    DataChecksum.Type dataChecksumType;
    Preconditions.checkArgument(chunkInfoList.size() > 0);

    final ContainerProtos.ChunkInfo firstChunkInfo = chunkInfoList.get(0);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`chunkInfoList.size() > 0` can be replaced with '!chunkInfoList.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ECBlockChecksumComputer.java`
#### Snippet
```java

  private void computeMd5Crc() throws IOException {
    Preconditions.checkArgument(chunkInfoList.size() > 0);

    final ContainerProtos.ChunkInfo firstChunkInfo = chunkInfoList.get(0);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`chunkInfoList.size() > 0` can be replaced with '!chunkInfoList.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ReplicatedBlockChecksumComputer.java`
#### Snippet
```java
    long bytesPerCrc;
    long chunkSize;
    Preconditions.checkArgument(chunkInfoList.size() > 0);

    final ContainerProtos.ChunkInfo firstChunkInfo = chunkInfoList.get(0);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyLocationInfos.size() > 0` can be replaced with '!keyLocationInfos.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/BaseFileChecksumHelper.java`
#### Snippet
```java
  FileChecksum makeCompositeCrcResult() throws IOException {
    long blockSizeHint = 0;
    if (keyLocationInfos.size() > 0) {
      blockSizeHint = keyLocationInfos.get(0).getLength();
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`chunkInfos.size() == 0` can be replaced with 'chunkInfos.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ECFileChecksumHelper.java`
#### Snippet
```java
    List<ContainerProtos.ChunkInfo> chunkInfos =
        getChunkInfos(keyLocationInfo);
    if (chunkInfos.size() == 0) {
      return false;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`chunkInfos.size() == 0` can be replaced with 'chunkInfos.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ReplicatedFileChecksumHelper.java`
#### Snippet
```java
    List<ContainerProtos.ChunkInfo> chunkInfos =
        getChunkInfos(keyLocationInfo);
    if (chunkInfos.size() == 0) {
      return false;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`blockStreams.size() == 0` can be replaced with 'blockStreams.isEmpty()'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
    while (buffLen > 0) {
      // if we are at the last block and have read the entire block, return
      if (blockStreams.size() == 0 ||
          (blockStreams.size() - 1 <= blockIndex &&
              blockStreams.get(blockIndex)
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`toReconstructIndexes.size() == 0` can be replaced with 'toReconstructIndexes.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionCoordinator.java`
#### Snippet
```java
    // group. The reason for this should be block group had only padding blocks
    // in the missing locations.
    if (toReconstructIndexes.size() == 0) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Skipping the reconstruction for the block: "
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`dnCRLStore.getPendingCRLs().size() > 0` can be replaced with '!dnCRLStore.getPendingCRLs().isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/CRLStatusReportPublisher.java`
#### Snippet
```java

    builder.setReceivedCrlId(dnCRLStore.getLatestCRLSequenceID());
    if (dnCRLStore.getPendingCRLs().size() > 0) {
      List<Long> pendingCRLIds =
          dnCRLStore.getPendingCRLs().stream().map(CRLInfo::getCrlSequenceID)
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeSet.getVolumesList().size() == 0` can be replaced with 'volumeSet.getVolumesList().isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/endpoint/VersionEndpointTask.java`
#### Snippet
```java
        }
      }
      if (volumeSet.getVolumesList().size() == 0) {
        // All volumes are in inconsistent state
        throw new DiskOutOfSpaceException(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`failedVolumes.size() > 0` can be replaced with '!failedVolumes.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java
    volumeChecker.checkVolume(
        volume, (healthyVolumes, failedVolumes) -> {
          if (failedVolumes.size() > 0) {
            LOG.warn("checkVolumeAsync callback got {} failed volumes: {}",
                failedVolumes.size(), failedVolumes);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeMap.size() == 0` can be replaced with 'volumeMap.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java
    // First checking if we have any volumes, if all volumes are failed the
    // volumeMap size will be zero, and we throw Exception.
    if (volumeMap.size() == 0) {
      throw new DiskOutOfSpaceException("No storage locations configured");
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`failedVolumes.size() > 0` can be replaced with '!failedVolumes.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java
    }

    if (failedVolumes.size() > 0) {
      LOG.warn("checkAllVolumes got {} failed volumes - {}",
          failedVolumes.size(), failedVolumes);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`sourceDatanodes.size() > 0` can be replaced with '!sourceDatanodes.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/ReplicateContainerCommandHandler.java`
#### Snippet
```java
    final long containerID = replicateCommand.getContainerID();

    Preconditions.checkArgument(sourceDatanodes.size() > 0,
        "Replication command is received for container %s "
            + "without source datanodes.", containerID);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`this.handlerList.size() > 0` can be replaced with '!this.handlerList.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CommandDispatcher.java`
#### Snippet
```java
      Preconditions.checkNotNull(this.container, "Missing container.");
      Preconditions.checkNotNull(this.context, "Missing context.");
      Preconditions.checkArgument(this.handlerList.size() > 0);
      return new CommandDispatcher(this.container, this.connectionManager,
          this.context, handlerList.toArray(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`ex.getQueue().size() == 0` can be replaced with 'ex.getQueue().isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java

    ThreadPoolExecutor ex = (ThreadPoolExecutor) executor;
    if (ex.getQueue().size() == 0) {
      return true;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`block.getChunks().size() > 0` can be replaced with '!block.getChunks().isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerCheck.java`
#### Snippet
```java
        // So, we need to make sure, chunk length > 0, before declaring
        // the missing chunk file.
        if (block.getChunks().size() > 0 && block
            .getChunks().get(0).getLen() > 0) {
          throw new IOException(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`containers.size() > 0` can be replaced with '!containers.isEmpty()'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java`
#### Snippet
```java
        totalBlocks += containerBlockInfo.numBlocksToDelete;
      }
      if (containers.size() > 0) {
        LOG.debug("Queued {} blocks from {} containers for deletion",
            totalBlocks, containers.size());
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`mountName.length() > 0` can be replaced with '!mountName.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OFSPath.java`
#### Snippet
```java

  public boolean isMount() {
    return mountName.length() > 0;
  }

```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`name.length() != 0` can be replaced with '!name.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
      if (!name.equals(ACLIdentityType.WORLD.name()) &&
          !name.equals(ACLIdentityType.ANONYMOUS.name()) &&
          name.length() != 0) {
        throw new IllegalArgumentException("Unexpected name:{" + name +
            "} for type WORLD, ANONYMOUS. It should be WORLD & " +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`name.length() == 0` can be replaced with 'name.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
    }
    if (((type == ACLIdentityType.USER) || (type == ACLIdentityType.GROUP))
        && (name.length() == 0)) {
      throw new IllegalArgumentException("User or group name is required");
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`name.length() != 0` can be replaced with '!name.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
      if (!name.equals(ACLIdentityType.WORLD.name()) &&
          !name.equals(ACLIdentityType.ANONYMOUS.name()) &&
          name.length() != 0) {
        throw new IllegalArgumentException("Unexpected name:{" + name +
            "} for type WORLD, ANONYMOUS. It should be WORLD & " +
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`name.length() == 0` can be replaced with 'name.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
    }
    if (((type == ACLIdentityType.USER) || (type == ACLIdentityType.GROUP))
        && (name.length() == 0)) {
      throw new IllegalArgumentException("User or group name is required");
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`omNodeIds.size() == 0` can be replaced with 'omNodeIds.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
    String rpcAddrStr, hostAddr, httpAddr, httpsAddr;
    int rpcPort, ratisPort;
    if (omNodeIds.size() == 0) {
      // If there are no nodeIds present, return empty list
      return Collections.EMPTY_LIST;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`omList.size() == 0` can be replaced with 'omList.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
   */
  public static String getOMAddressListPrintString(List<OMNodeDetails> omList) {
    if (omList.size() == 0) {
      return null;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`val.length() > 0` can be replaced with '!val.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
  public static boolean isServiceIdsDefined(ConfigurationSource conf) {
    String val = conf.get(OZONE_OM_SERVICE_IDS_KEY);
    return val != null && val.length() > 0;
  }

```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/SummarySubCommand.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    if (path == null || path.length() == 0) {
      printEmptyPathRequest();
      return null;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    if (path == null || path.length() == 0) {
      printEmptyPathRequest();
      return null;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    if (path == null || path.length() == 0) {
      printEmptyPathRequest();
      return null;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    if (path == null || path.length() == 0) {
      printEmptyPathRequest();
      return null;
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`args.getMetadata().size() > 0` can be replaced with '!args.getMetadata().isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
    }

    if (args.getMetadata() != null && args.getMetadata().size() > 0) {
      keyArgs.addAllMetadata(KeyValueUtil.toProtobuf(args.getMetadata()));
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`endpoint.length() > 0` can be replaced with '!endpoint.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/S3EntityGenerator.java`
#### Snippet
```java
            .withCredentials(new EnvironmentVariableCredentialsProvider());

    if (endpoint.length() > 0) {
      amazonS3ClientBuilder
          .withPathStyleAccessEnabled(true)
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyLocationVersions.size() == 0` can be replaced with 'keyLocationVersions.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
    }

    if (keyLocationVersions.size() == 0) {
      // no version exist, these blocks are the very first version.
      keyLocationVersions.add(new OmKeyLocationInfoGroup(0, newLocationList));
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyLocationVersions.size() == 0` can be replaced with 'keyLocationVersions.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java

  public synchronized OmKeyLocationInfoGroup getLatestVersionLocations() {
    return keyLocationVersions.size() == 0 ? null :
        keyLocationVersions.get(keyLocationVersions.size() - 1);
  }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyLocationVersions.size() == 0` can be replaced with 'keyLocationVersions.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
      List<OmKeyLocationInfo> newLocationList, boolean updateTime)
      throws IOException {
    if (keyLocationVersions.size() == 0) {
      throw new IOException("Appending new block, but no version exist");
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyLocationVersions.size() == 0` can be replaced with 'keyLocationVersions.isEmpty()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
  private KeyInfo getProtobuf(boolean ignorePipeline, String fullKeyName,
                              int clientVersion, boolean latestVersionBlocks) {
    long latestVersion = keyLocationVersions.size() == 0 ? -1 :
        keyLocationVersions.get(keyLocationVersions.size() - 1).getVersion();

```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`prefix.length() == 0` can be replaced with 'prefix.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java
    attemptCounter = new AtomicLong(0);

    if (prefix.length() == 0) {
      prefix = RandomStringUtils.randomAlphanumeric(10).toLowerCase();
    } else {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`pipelineId.length() > 0` can be replaced with '!pipelineId.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java
          .peek(p -> log.debug("Found pipeline {}", p.getId().getId()));
    }
    if (pipelineId != null && pipelineId.length() > 0) {
      pipeline = pipelines
          .filter(p -> p.getId().toString().equals(pipelineId))
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() != 0` can be replaced with '!keyName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java

  public void ensureVolumeAddress() throws OzoneClientException {
    if (keyName.length() != 0) {
      throw new OzoneClientException(
          "Invalid volume name. Delimiters (/) not allowed in volume name");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() == 0` can be replaced with 'volumeName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Invalid volume name. Delimiters (/) not allowed in volume name");
    } else if (volumeName.length() == 0) {
      throw new OzoneClientException(
          "Volume name is required");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`bucketName.length() != 0` can be replaced with '!bucketName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Volume name is required");
    } else if (bucketName.length() != 0) {
      throw new OzoneClientException(
          "Invalid volume name. Delimiters (/) not allowed in volume name");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() != 0` can be replaced with '!keyName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java

  public void ensureRootAddress() throws OzoneClientException {
    if (keyName.length() != 0 || bucketName.length() != 0
        || volumeName.length() != 0) {
      throw new OzoneClientException(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`bucketName.length() != 0` can be replaced with '!bucketName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java

  public void ensureRootAddress() throws OzoneClientException {
    if (keyName.length() != 0 || bucketName.length() != 0
        || volumeName.length() != 0) {
      throw new OzoneClientException(
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() != 0` can be replaced with '!volumeName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
  public void ensureRootAddress() throws OzoneClientException {
    if (keyName.length() != 0 || bucketName.length() != 0
        || volumeName.length() != 0) {
      throw new OzoneClientException(
          "Invalid URI. Volume/bucket/key elements should not been used");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java

  public void ensureKeyAddress() throws OzoneClientException {
    if (keyName.length() == 0) {
      throw new OzoneClientException(
          "Key name is missing.");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() == 0` can be replaced with 'volumeName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Key name is missing.");
    } else if (volumeName.length() == 0) {
      throw new OzoneClientException(
          "Volume name is missing");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`bucketName.length() == 0` can be replaced with 'bucketName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Volume name is missing");
    } else if (bucketName.length() == 0) {
      throw new OzoneClientException(
          "Bucket name is missing");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() == 0` can be replaced with 'keyName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
  // Allow CLI to differentiate key and prefix address
  public void ensurePrefixAddress() throws OzoneClientException {
    if (keyName.length() == 0) {
      throw new OzoneClientException(
          "prefix name is missing.");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() == 0` can be replaced with 'volumeName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "prefix name is missing.");
    } else if (volumeName.length() == 0) {
      throw new OzoneClientException(
          "Volume name is missing");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`bucketName.length() == 0` can be replaced with 'bucketName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Volume name is missing");
    } else if (bucketName.length() == 0) {
      throw new OzoneClientException(
          "Bucket name is missing");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`keyName.length() > 0` can be replaced with '!keyName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java

  public void ensureBucketAddress() throws OzoneClientException {
    if (keyName.length() > 0) {
      throw new OzoneClientException(
          "Invalid bucket name. Delimiters (/) not allowed in bucket name");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`volumeName.length() == 0` can be replaced with 'volumeName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Invalid bucket name. Delimiters (/) not allowed in bucket name");
    } else if (volumeName.length() == 0) {
      throw new OzoneClientException(
          "Volume name is required.");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`bucketName.length() == 0` can be replaced with 'bucketName.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throw new OzoneClientException(
          "Volume name is required.");
    } else if (bucketName.length() == 0) {
      throw new OzoneClientException(
          "Bucket name is required.");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`accessIdInfoList.size() == 0` can be replaced with 'accessIdInfoList.isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/tenant/GetUserInfoHandler.java`
#### Snippet
```java
    final List<ExtendedUserAccessIdInfo> accessIdInfoList =
        tenantUserInfo.getAccessIdInfoList();
    if (accessIdInfoList.size() == 0) {
      err().println("User '" + userPrincipal +
          "' is not assigned to any tenant.");
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`signatureLine.length() == 0` can be replaced with 'signatureLine.isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
    }
    String signatureLine = buf.toString().trim();
    if (signatureLine.length() == 0) {
      return -1;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`lastDir.length() > 0` can be replaced with '!lastDir.isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/ContinueToken.java`
#### Snippet
```java
        "The last key can't be null in the continue token.");
    this.lastKey = lastKey;
    if (lastDir != null && lastDir.length() > 0) {
      this.lastDir = lastDir;
    }
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`signedHeaders.size() == 0` can be replaced with 'signedHeaders.isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4HeaderParser.java`
#### Snippet
```java
      Collection<String> signedHeaders =
          StringUtils.getStringCollection(parsedSignedHeaders, ";");
      if (signedHeaders.size() == 0) {
        throw new MalformedResourceException("No signed headers found.",
            authHeader);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`expiresString.length() > 0` can be replaced with '!expiresString.isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4QueryParser.java`
#### Snippet
```java
    final String dateString = queryParameters.get("X-Amz-Date");
    final String expiresString = queryParameters.get("X-Amz-Expires");
    if (expiresString != null && expiresString.length() > 0) {
      final Long expires = Long.valueOf(expiresString);

```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`0 < headerEntry.getValue().size()` can be replaced with '!headerEntry.getValue().isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AWSSignatureProcessor.java`
#### Snippet
```java

      for (Entry<String, List<String>> headerEntry : rawHeaders.entrySet()) {
        if (0 < headerEntry.getValue().size()) {
          String headerKey = headerEntry.getKey();
          if (headers.containsKey(headerKey)) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`result.getErrors().size() != 0` can be replaced with '!result.getErrors().isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java
      }
    }
    if (result.getErrors().size() != 0) {
      AUDIT.logWriteFailure(buildAuditMessageForFailure(s3GAction,
          getAuditParameters(), new Exception("MultiDelete Exception")));
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`currentAclsOnVolume.size() > 0` can be replaced with '!currentAclsOnVolume.isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java
      List<OzoneAcl> currentAclsOnVolume = volume.getAcls();
      // Remove input user/group's permission from Volume first
      if (currentAclsOnVolume.size() > 0) {
        for (OzoneAcl acl : acls) {
          if (acl.getAclScope() == ACCESS) {
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`uri.trim().length() > 0` can be replaced with '!uri.trim().isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java

    // If the absolute path is empty, use a forward slash (/)
    uri = (uri.trim().length() > 0) ? uri : "/";
    // Encode URI and preserve forward slashes
    strToSign.append(signatureInfo.getAlgorithm() + NEWLINE);
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`cfDescs.size() > 0` can be replaced with '!cfDescs.isEmpty()'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/DBConfigFromFile.java`
#### Snippet
```java
    Preconditions.checkNotNull(dbFileName);
    Preconditions.checkNotNull(cfDescs);
    Preconditions.checkArgument(cfDescs.size() > 0);

    //TODO: Add Documentation on how to support RocksDB Mem Env.
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`result.size() > 0` can be replaced with '!result.isEmpty()'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBTable.java`
#### Snippet
```java
            result.add(currentEntry);
          } else {
            if (result.size() > 0 && sequential) {
              // if the caller asks for a sequential range of results,
              // and we met a dis-match, abort iteration from here.
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`columnFamilyDescriptors.size() > 0` can be replaced with '!columnFamilyDescriptors.isEmpty()'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/DBStoreBuilder.java`
#### Snippet
```java
      }

      if (columnFamilyDescriptors.size() > 0) {
        try {
          option = DBConfigFromFile.readFromFile(dbname,
```

### RuleId[ruleID=SizeReplaceableByIsEmpty]
`value.length() > 0` can be replaced with '!value.isEmpty()'
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/StorageSize.java`
#### Snippet
```java

  public static StorageSize parse(String value) {
    checkState(value != null && value.length() > 0, "value cannot be blank");
    String sanitizedValue = value.trim().toLowerCase(Locale.ENGLISH);
    StorageUnit parsedUnit = null;
```

## RuleId[ruleID=TrivialStringConcatenation]
### RuleId[ruleID=TrivialStringConcatenation]
Empty string used in concatenation
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  @Override
  public String getRpcPort() {
    return "" + omRpcAddress.getPort();
  }

```

### RuleId[ruleID=TrivialStringConcatenation]
Empty string used in concatenation
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/TarContainerPacker.java`
#### Snippet
```java
        } else {
          throw new IllegalArgumentException(
              "Unknown entry in the tar file: " + "" + name);
        }
        entry = archiveInput.getNextEntry();
```

### RuleId[ruleID=TrivialStringConcatenation]
Empty string used in concatenation
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java
    keyMetadata.setKey(next.getName());
    keyMetadata.setSize(next.getDataSize());
    keyMetadata.setETag("" + next.getModificationTime());
    if (next.getReplicationType().toString().equals(ReplicationType
        .STAND_ALONE.toString())) {
```

### RuleId[ruleID=TrivialStringConcatenation]
Empty string used in concatenation
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java

    ResponseBuilder response = Response.ok().status(HttpStatus.SC_OK)
        .header("ETag", "" + key.getModificationTime())
        .header("Content-Length", key.getDataSize())
        .header("Content-Type", "binary/octet-stream");
```

### RuleId[ruleID=TrivialStringConcatenation]
Empty string used in concatenation
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
            cmd.add(event.getInternalName());
            cmd.add("-d");
            cmd.add("" + duration);
            cmd.add("-o");
            cmd.add(output.name().toLowerCase());
```

## RuleId[ruleID=NullableProblems]
### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
          @Nullable OmBucketInfo omBucketInfo,
          OMFileRequest.OMPathInfoWithFSO omPathInfo,
          @Nonnull long transactionLogIndex, long objectID)
          throws IOException {

```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/s3/multipart/S3InitiateMultipartUploadResponseWithFSO.java`
#### Snippet
```java
      @Nonnull OmKeyInfo omKeyInfo, @Nonnull String mpuDBKey,
      @Nonnull List<OmDirectoryInfo> parentDirInfos,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
    super(omResponse, omMultipartKeyInfo, omKeyInfo, bucketLayout);
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/s3/multipart/S3InitiateMultipartUploadResponseWithFSO.java`
#### Snippet
```java
      @Nonnull List<OmDirectoryInfo> parentDirInfos,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
    super(omResponse, omMultipartKeyInfo, omKeyInfo, bucketLayout);
    this.parentDirInfos = parentDirInfos;
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/s3/multipart/S3MultipartUploadCompleteResponseWithFSO.java`
#### Snippet
```java
      @Nonnull BucketLayout bucketLayout,
      @Nonnull OmBucketInfo omBucketInfo,
      RepeatedOmKeyInfo keysToDelete, @Nonnull long volumeId) {
    super(omResponse, multipartKey, multipartOpenKey, omKeyInfo, unUsedParts,
        bucketLayout, omBucketInfo, keysToDelete);
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeysDeleteResponseWithFSO.java`
#### Snippet
```java
      @NotNull List<OmKeyInfo> keyDeleteList,
      @NotNull List<OmKeyInfo> dirDeleteList, boolean isRatisEnabled,
      @NotNull OmBucketInfo omBucketInfo, @Nonnull long volId) {
    super(omResponse, keyDeleteList, isRatisEnabled, omBucketInfo);
    this.dirsList = dirDeleteList;
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeyDeleteResponseWithFSO.java`
#### Snippet
```java
      @Nonnull String keyName, @Nonnull OmKeyInfo omKeyInfo,
      boolean isRatisEnabled, @Nonnull OmBucketInfo omBucketInfo,
      @Nonnull boolean isDeleteDirectory, @Nonnull long volumeId) {
    super(omResponse, omKeyInfo, isRatisEnabled, omBucketInfo);
    this.keyName = keyName;
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeyDeleteResponseWithFSO.java`
#### Snippet
```java
      @Nonnull String keyName, @Nonnull OmKeyInfo omKeyInfo,
      boolean isRatisEnabled, @Nonnull OmBucketInfo omBucketInfo,
      @Nonnull boolean isDeleteDirectory, @Nonnull long volumeId) {
    super(omResponse, omKeyInfo, isRatisEnabled, omBucketInfo);
    this.keyName = keyName;
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeyCreateResponseWithFSO.java`
#### Snippet
```java
      @Nonnull List<OmDirectoryInfo> parentDirInfos,
      long openKeySessionID, @Nonnull OmBucketInfo omBucketInfo,
      @Nonnull long volumeId) {
    super(omResponse, omKeyInfo, parentDirInfos, openKeySessionID,
        omBucketInfo, volumeId);
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMAllocateBlockResponseWithFSO.java`
#### Snippet
```java
  public OMAllocateBlockResponseWithFSO(@Nonnull OMResponse omResponse,
      @Nonnull OmKeyInfo omKeyInfo, long clientID,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
    super(omResponse, omKeyInfo, clientID, bucketLayout);
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMAllocateBlockResponseWithFSO.java`
#### Snippet
```java
      @Nonnull OmKeyInfo omKeyInfo, long clientID,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
    super(omResponse, omKeyInfo, clientID, bucketLayout);
    this.volumeId = volumeId;
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/acl/OMKeyAclResponseWithFSO.java`
#### Snippet
```java
      @NotNull OzoneManagerProtocolProtos.OMResponse omResponse,
      @NotNull OmKeyInfo omKeyInfo, boolean isDirectory,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
    super(omResponse, omKeyInfo, bucketLayout);
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/acl/OMKeyAclResponseWithFSO.java`
#### Snippet
```java
      @NotNull OmKeyInfo omKeyInfo, boolean isDirectory,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
    super(omResponse, omKeyInfo, bucketLayout);
    this.isDirectory = isDirectory;
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/file/OMDirectoryCreateResponseWithFSO.java`
#### Snippet
```java

  public OMDirectoryCreateResponseWithFSO(@Nonnull OMResponse omResponse,
      @Nonnull long volumeId, @Nonnull long bucketId,
      @Nonnull OmDirectoryInfo dirInfo,
      @Nonnull List<OmDirectoryInfo> pDirInfos, @Nonnull Result result,
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/file/OMDirectoryCreateResponseWithFSO.java`
#### Snippet
```java

  public OMDirectoryCreateResponseWithFSO(@Nonnull OMResponse omResponse,
      @Nonnull long volumeId, @Nonnull long bucketId,
      @Nonnull OmDirectoryInfo dirInfo,
      @Nonnull List<OmDirectoryInfo> pDirInfos, @Nonnull Result result,
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/file/OMFileCreateResponseWithFSO.java`
#### Snippet
```java
      @Nonnull OmKeyInfo omKeyInfo,
      @Nonnull List<OmDirectoryInfo> parentDirInfos, long openKeySessionID,
      @Nonnull OmBucketInfo omBucketInfo, @Nonnull long volumeId) {
    super(omResponse, omKeyInfo, new ArrayList<>(), openKeySessionID,
        omBucketInfo);
```

### RuleId[ruleID=NullableProblems]
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/TimeoutFuture.java`
#### Snippet
```java

    Fire(
        TimeoutFuture<V> timeoutFuture) {
      this.timeoutFutureRef = timeoutFuture;
    }
```

### RuleId[ruleID=NullableProblems]
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/ThrottledAsyncChecker.java`
#### Snippet
```java
     * @param result
     */
    private LastCheckResult(V result, long completedAt) {
      this.result = result;
      this.exception = null;
```

### RuleId[ruleID=NullableProblems]
Overridden methods are not annotated
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
  }

  @NotNull
  @VisibleForTesting
  protected XceiverClientFactory createXceiverClientFactory(
```

### RuleId[ruleID=NullableProblems]
Primitive type members cannot be annotated
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ClosedContainerReplicator.java`
#### Snippet
```java
  }

  @NotNull
  private void initializeReplicationSupervisor(ConfigurationSource conf)
      throws IOException {
```

## RuleId[ruleID=IgnoreResultOfCall]
### RuleId[ruleID=IgnoreResultOfCall]
Result of `FileStatusAdapter.getSymlink()` is ignored
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
    Path symLink = null;
    try {
      fileStatusAdapter.getSymlink();
    } catch (Exception ex) {
      //NOOP: If not symlink symlink remains null.
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `FileInputStream.read()` is ignored
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerPrepareState.java`
#### Snippet
```java
      byte[] data = new byte[(int) prepareMarkerFile.length()];
      try (FileInputStream stream = new FileInputStream(prepareMarkerFile)) {
        stream.read(data);
      } catch (IOException e) {
        throwPrepareException(e, "Failed to read prepare marker " +
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `InputStream.read()` is ignored
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyReadWriteOps.java`
#### Snippet
```java
      byte[] data = new byte[objectSizeInBytes];
      try (OzoneInputStream introStream = keyDetails.getContent()) {
        introStream.read(data);
      } catch (Exception ex) {
        throw ex;
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `InputStream.read()` is ignored
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
        if (remainingData == 0) {
          //read the "\r\n" at the end of the data section
          originalStream.read();
          originalStream.read();
        }
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `InputStream.read()` is ignored
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
          //read the "\r\n" at the end of the data section
          originalStream.read();
          originalStream.read();
        }
      } else {
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `InputStream.read()` is ignored
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
      if (remainingData == 0) {
        //read the "\r\n" at the end of the data section
        originalStream.read();
        originalStream.read();
      }
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `InputStream.read()` is ignored
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
        //read the "\r\n" at the end of the data section
        originalStream.read();
        originalStream.read();
      }
      return curr;
```

### RuleId[ruleID=IgnoreResultOfCall]
Result of `InetAddress.getByName()` is ignored
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
      try {
        URI hostUri = new URI(schema + "://" + headerValue);
        InetAddress.getByName(hostUri.getHost());
        // TODO: Validate if current request is coming from same host.
      } catch (UnknownHostException | URISyntaxException e) {
```

## RuleId[ruleID=UnnecessaryUnboxing]
### RuleId[ruleID=UnnecessaryUnboxing]
Unnecessary unboxing
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
        .getGroupInfo(createGroupInfoRequest(pipelineID.getProtobuf()));
    minIndex = RatisHelper.getMinReplicatedIndex(reply.getCommitInfos());
    return minIndex == null ? -1 : minIndex.longValue();
  }

```

## RuleId[ruleID=AccessStaticViaInstance]
### RuleId[ruleID=AccessStaticViaInstance]
Static member 'org.apache.hadoop.hdds.scm.server.StorageContainerManager.getMetrics()' accessed via instance reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDBCheckpointServlet.java`
#### Snippet
```java

    initialize(scm.getScmMetadataStore().getStore(),
        scm.getMetrics().getDBCheckpointMetrics(),
        false,
        Collections.emptyList(),
```

### RuleId[ruleID=AccessStaticViaInstance]
Static member 'java.lang.Thread.sleep(long)' accessed via instance reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
      }
      long startTime = Time.monotonicNow();
      Thread.currentThread().sleep(10);
      long timeDiff = Time.monotonicNow() - startTime;
      timeoutMillis -= timeDiff;
```

### RuleId[ruleID=AccessStaticViaInstance]
Static member 'java.lang.Thread.sleep(long)' accessed via instance reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
    Objects.requireNonNull(value);
    while (!addValue(value)) {
      Thread.currentThread().sleep(10);
    }
  }
```

### RuleId[ruleID=AccessStaticViaInstance]
Static member 'org.apache.hadoop.hdds.scm.metadata.SCMMetadataStoreMetrics.unRegister()' accessed via instance reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/metadata/SCMMetadataStoreImpl.java`
#### Snippet
```java
    }
    if (metrics != null) {
      metrics.unRegister();
      metrics = null;
    }
```

### RuleId[ruleID=AccessStaticViaInstance]
Static member 'org.apache.hadoop.fs.FileSystem.TRASH_PREFIX' accessed via instance reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java
    // first condition tests when length key is <= length trash
    // and second when length key > length trash
    if ((key.contains(this.fs.TRASH_PREFIX)) && (trashRootKey.startsWith(key))
        || key.startsWith(trashRootKey)) {
      return false;
```

### RuleId[ruleID=AccessStaticViaInstance]
Static member 'java.lang.Thread.sleep(long)' accessed via instance reference
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
        }
        try {
          Thread.currentThread().sleep(1);
        } catch (InterruptedException e) {
          close(columnFamilies, db, descriptors, writeOptions, dbOptions);
```

## RuleId[ruleID=ClassNameSameAsAncestorName]
### RuleId[ruleID=ClassNameSameAsAncestorName]
Class name `Factory` is the same as one of its superclass' names
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
 */
public class InnerNodeImpl extends NodeImpl implements InnerNode {
  protected static class Factory implements InnerNode.Factory<InnerNodeImpl> {
    protected Factory() { }

```

### RuleId[ruleID=ClassNameSameAsAncestorName]
Class name `Builder` is the same as one of its superclass' names
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECKeyOutputStream.java`
#### Snippet
```java
   * Builder class of ECKeyOutputStream.
   */
  public static class Builder extends KeyOutputStream.Builder {
    private ECReplicationConfig replicationConfig;
    private ByteBufferPool byteBufferPool;
```

### RuleId[ruleID=ClassNameSameAsAncestorName]
Class name `Builder` is the same as one of its superclass' names
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MetadataVolume.java`
#### Snippet
```java
   * Builder class for MetadataVolume.
   */
  public static class Builder extends StorageVolume.Builder<Builder> {

    public Builder(String volumeRootStr) {
```

### RuleId[ruleID=ClassNameSameAsAncestorName]
Class name `Builder` is the same as one of its superclass' names
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/DbVolume.java`
#### Snippet
```java
   * Builder class for DbVolume.
   */
  public static class Builder extends StorageVolume.Builder<Builder> {

    public Builder(String volumeRootStr) {
```

### RuleId[ruleID=ClassNameSameAsAncestorName]
Class name `Builder` is the same as one of its superclass' names
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java`
#### Snippet
```java
   * Builder for HddsVolume.
   */
  public static class Builder extends StorageVolume.Builder<Builder> {

    public Builder(String volumeRootStr) {
```

### RuleId[ruleID=ClassNameSameAsAncestorName]
Class name `Builder` is the same as one of its superclass' names
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyLocationInfo.java`
#### Snippet
```java
   * Builder of OmKeyLocationInfo.
   */
  public static class Builder extends BlockLocationInfo.Builder {

    @Override
```

## RuleId[ruleID=RedundantMethodOverride]
### RuleId[ruleID=RedundantMethodOverride]
Method `seekToNewSource()` is identical to its super method
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java

  @Override
  public synchronized boolean seekToNewSource(long l) throws IOException {
    return false;
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `equals()` is identical to its super method
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java

  @Override
  public boolean equals(Object to) {
    if (to == null) {
      return false;
```

### RuleId[ruleID=RedundantMethodOverride]
Method `hashCode()` only delegates to its super method
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java

  @Override
  public int hashCode() {
    return super.hashCode();
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getRpcAddressString()` is identical to its super method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMNodeDetails.java`
#### Snippet
```java
  }

  public String getRpcAddressString() {
    return NetUtils.getHostPortString(getRpcAddress());
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `hashCode()` only delegates to its super method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeInfo.java`
#### Snippet
```java

  @Override
  public int hashCode() {
    return super.hashCode();
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `equals()` only delegates to its super method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeInfo.java`
#### Snippet
```java

  @Override
  public boolean equals(Object obj) {
    return super.equals(obj);
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `size()` is identical to its super method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ContainerMap.java`
#### Snippet
```java
  @VisibleForTesting
  @Override
  public int size() {
    return dn2ObjectMap.size();
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `validateAndUpdateCache()` only delegates to its super method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java

  @Override
  public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,
      long trxnLogIndex, OzoneManagerDoubleBufferHelper omDoubleBufferHelper) {
    return super.validateAndUpdateCache(ozoneManager, trxnLogIndex,
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getPriority()` is identical to its super method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/OpenKeyCleanupService.java`
#### Snippet
```java

    @Override
    public int getPriority() {
      return 0;
    }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getPriority()` is identical to its super method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/KeyDeletingService.java`
#### Snippet
```java

    @Override
    public int getPriority() {
      return 0;
    }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getPriority()` is identical to its super method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/DirectoryDeletingService.java`
#### Snippet
```java

    @Override
    public int getPriority() {
      return 0;
    }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getPriority()` is identical to its super method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/OMRangerBGSyncService.java`
#### Snippet
```java

    @Override
    public int getPriority() {
      return 0;
    }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getParentObjectID()` is identical to its super method
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmDirectoryInfo.java`
#### Snippet
```java
  }

  public long getParentObjectID() {
    return parentObjectID;
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `hashCode()` only delegates to its super method
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneTokenIdentifier.java`
#### Snippet
```java

  @Override
  public int hashCode() {
    return super.hashCode();
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getParentObjectID()` is identical to its super method
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
  }

  public long getParentObjectID() {
    return parentObjectID;
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getAddress()` is identical to its super method
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/s3/S3Handler.java`
#### Snippet
```java

  @Override
  protected OzoneAddress getAddress() throws OzoneClientException {
    return new OzoneAddress();
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `getAddress()` is identical to its super method
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/tenant/TenantHandler.java`
#### Snippet
```java

  @Override
  protected OzoneAddress getAddress() throws OzoneClientException {
    return new OzoneAddress();
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `inspectCSR()` only delegates to its super method
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/DefaultApprover.java`
#### Snippet
```java
  @Override
  public CompletableFuture<X509CertificateHolder>
      inspectCSR(PKCS10CertificationRequest csr) {
    return super.inspectCSR(csr);
  }
```

### RuleId[ruleID=RedundantMethodOverride]
Method `inspectCSR()` only delegates to its super method
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/DefaultApprover.java`
#### Snippet
```java

  @Override
  public CompletableFuture<X509CertificateHolder> inspectCSR(String csr)
      throws IOException {
    return super.inspectCSR(csr);
```

## RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
### RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
10 \* getLogWarnInterval(conf): integer multiplication implicitly cast to long
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/EndpointStateMachine.java`
#### Snippet
```java
      // Recon connection failures can be logged 10 times lower than regular
      // SCM.
      missCounter = this.getMissedCount() % (10 * getLogWarnInterval(conf));
      serverName = "Recon";
    }
```

### RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
batching \* 3: integer multiplication implicitly cast to long
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/FollowerAppendLogEntryGenerator.java`
#### Snippet
```java
    if (lastCommit % 1000 == 0) {
      long currentIndex = getAttemptCounter().get();
      if (currentIndex - lastCommit > batching * 3) {
        LOG.warn(
            "Last committed index ({}) is behind the current index ({}) on "
```

### RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
chunkSize \* chunksPerBlock: integer multiplication implicitly cast to long
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ChunkManagerDiskWrite.java`
#### Snippet
```java
      }

      blockSize = chunkSize * chunksPerBlock;
      data = randomAscii(chunkSize).getBytes(UTF_8);

```

### RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
totalBucketCount \* numOfKeys: integer multiplication implicitly cast to long
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java

    totalBucketCount = numOfVolumes * numOfBuckets;
    totalKeyCount = totalBucketCount * numOfKeys;

    LOG.info("Number of Threads: {}", numOfThreads);
```

## RuleId[ruleID=RegExpDuplicateCharacterInClass]
### RuleId[ruleID=RegExpDuplicateCharacterInClass]
Duplicate character '\^' inside character class
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/OzoneConsts.java`
#### Snippet
```java
   */
  public static final Pattern KEYNAME_ILLEGAL_CHARACTER_CHECK_REGEX  =
          Pattern.compile("^[^^{}<>^?%~#`\\[\\]\\|\\\\(\\x80-\\xff)]+$");

  public static final String FS_FILE_COPYING_TEMP_SUFFIX = "._COPYING_";
```

## RuleId[ruleID=NestedAssignment]
### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
      for (; b.remaining() > 7;) {
        final int c0 = (b.get() ^ crc) & 0xff;
        final int c1 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c2 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c3 = (b.get() ^ (crc >>> 8)) & 0xff;
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        final int c0 = (b.get() ^ crc) & 0xff;
        final int c1 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c2 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c3 = (b.get() ^ (crc >>> 8)) & 0xff;
        crc = (table[0x700 + c0] ^ table[0x600 + c1])
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
            urlConnection.getInputStream(), StandardCharsets.UTF_8))) {
      String responseLine;
      while ((responseLine = br.readLine()) != null) {
        response.append(responseLine.trim());
      }
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
        TarArchiveEntry entry;

        while ((entry = (TarArchiveEntry) tarInStream.getNextEntry()) != null) {
          Path path = Paths.get(destPath.toString(), entry.getName());
          HddsUtils.validatePath(path, destPath);
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
            try (BufferedOutputStream dest =
                     new BufferedOutputStream(fos, WRITE_BUFFER)) {
              while ((count =
                  tarInStream.read(data, 0, WRITE_BUFFER)) != -1) {
                dest.write(data, 0, count);
              }
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java`
#### Snippet
```java
      // updates the latest BCSID on every putBlock or putSmallFile
      // transaction over Ratis.
      container2BCSIDMap.computeIfPresent(containerId, (u, v) -> v = bcsID);
    }
  }
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
    public void run() {
      int b;
      while ((b = cleanedBucketCounter.getAndIncrement()) < totalBucketCount) {
        if (!cleanBucket(b)) {
          return;
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
    public void run() {
      int v;
      while ((v = volumeCounter.getAndIncrement()) < numOfVolumes) {
        if (!createVolume(v)) {
          return;
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java

      int b;
      while ((b = bucketCounter.getAndIncrement()) < totalBucketCount) {
        if (!createBucket(b)) {
          return;
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java

      long k;
      while ((k = keyCounter.getAndIncrement()) < totalKeyCount) {
        if (!createKey(k)) {
          return;
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/CRLClientUpdateHandler.java`
#### Snippet
```java

        CRLInfo crl = null;
        while ((crl = clientStore.getNextPendingCrl()) != null) {
          if (crl.shouldRevokeNow()) {
            serviceGrpcClient.incrPendingCrlRemoveCount();
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java

      int len;
      while (-1 != (len = stream.read(buffer))) {
        sign.update(buffer, 0, len);
      }
```

### RuleId[ruleID=NestedAssignment]
Result of assignment expression used
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java

      int len;
      while (-1 != (len = stream.read(buffer))) {
        sign.update(buffer, 0, len);
      }
```

## RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`value = value * 2` could be simplified to 'value \*= 2'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GaloisField.java`
#### Snippet
```java
      powTable[pow] = value;
      logTable[value] = pow;
      value = value * 2;
      if (value >= fieldSize) {
        value = value ^ primitivePolynomial;
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`prop = prop + "/"` could be simplified to 'prop += "/"'
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/GenericTestUtils.java`
#### Snippet
```java
    }
    if (!prop.endsWith("/")) {
      prop = prop + "/";
    }
    return prop + subpath;
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`chunkSize = chunkSize * 1024` could be simplified to 'chunkSize \*= 1024'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ECReplicationConfig.java`
#### Snippet
```java
    if (matcher.group(5) != null) {
      // The "k" modifier is present, so multiple by 1024
      chunkSize = chunkSize * 1024;
    }
    ecChunkSize = chunkSize;
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`totalContainers = totalContainers + stateCount.get(state.toString())` could be simplified to 'totalContainers += stateCount.get(state.toString())'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMContainerMetrics.java`
#### Snippet
```java
    int totalContainers = 0;
    for (HddsProtos.LifeCycleState state : HddsProtos.LifeCycleState.values()) {
      totalContainers = totalContainers + stateCount.get(state.toString());
    }

```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`count = count - 1` could be simplified to 'count -= 1'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECContainerReplicaCount.java`
#### Snippet
```java
      Integer count = healthyIndexes.get(i);
      if (count != null) {
        count = count - 1;
        if (count < 1) {
          healthyIndexes.remove(i);
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`remainNum = remainNum - subDirs.size()` could be simplified to 'remainNum -= subDirs.size()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/DirectoryDeletingService.java`
#### Snippet
```java
                .getPendingDeletionSubDirs(volumeId, bucketId,
                    pendingDeletedDirInfo.getValue(), remainNum);
            remainNum = remainNum - subDirs.size();

            if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`remainNum = remainNum - subFiles.size()` could be simplified to 'remainNum -= subFiles.size()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/DirectoryDeletingService.java`
#### Snippet
```java
                .getPendingDeletionSubFiles(volumeId, bucketId,
                    pendingDeletedDirInfo.getValue(), remainNum);
            remainNum = remainNum - subFiles.size();

            if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`currentNumber = currentNumber >> 8` could be simplified to 'currentNumber \>\>= 8'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/containergenerator/GeneratorDatanode.java`
#### Snippet
```java
      }
      data[writtenBytes++] = (byte) currentNumber;
      currentNumber = currentNumber >> 8;
    }
  }
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`initCase = initCase | 1 << 2` could be simplified to 'initCase \|= 1 \<\< 2'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
    X509Certificate certificate = getCertificate();
    if (pvtKey != null) {
      initCase = initCase | 1 << 2;
    }
    if (pubKey != null) {
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`initCase = initCase | 1 << 1` could be simplified to 'initCase \|= 1 \<\< 1'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
    }
    if (pubKey != null) {
      initCase = initCase | 1 << 1;
    }
    if (certificate != null) {
```

### RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
`initCase = initCase | 1` could be simplified to 'initCase \|= 1'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
    }
    if (certificate != null) {
      initCase = initCase | 1;
    }

```

## RuleId[ruleID=ExcessiveLambdaUsage]
### RuleId[ruleID=ExcessiveLambdaUsage]
Excessive lambda usage
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/freon/FakeRatisFollower.java`
#### Snippet
```java
            .stream()
            .mapToLong(CommitInfoProto::getCommitIndex)
            .max().orElseGet(() -> 0L);

        maxCommitted = Math.min(maxCommitted, maxIndex);
```

## RuleId[ruleID=ReturnFromFinallyBlock]
### RuleId[ruleID=ReturnFromFinallyBlock]
'return' inside 'finally' block
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
          }
        }
        return new OzoneFileStatus(fileKeyInfo, scmBlockSize, false);
      }
    }
```

## RuleId[ruleID=MismatchedCollectionQueryUpdate]
### RuleId[ruleID=MismatchedCollectionQueryUpdate]
Contents of collection `configurationOverrides` are queried, but never updated
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java

  @Option(names = {"-D", "--set"})
  private Map<String, String> configurationOverrides = new HashMap<>();

  @Option(names = {"-conf"})
```

### RuleId[ruleID=MismatchedCollectionQueryUpdate]
Contents of collection `withinThresholdUtilizedNodes` are updated, but never queried
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
  private List<DatanodeUsageInfo> overUtilizedNodes;
  private List<DatanodeUsageInfo> underUtilizedNodes;
  private List<DatanodeUsageInfo> withinThresholdUtilizedNodes;
  private Set<String> excludeNodes;
  private Set<String> includeNodes;
```

### RuleId[ruleID=MismatchedCollectionQueryUpdate]
Contents of collection `revokedCerts` are updated, but never queried
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/ClientCRLStore.java`
#### Snippet
```java
public class ClientCRLStore implements CRLStore {
  private PriorityQueue<CRLInfo> pendingCrls;
  private List<Long> revokedCerts;
  private long localCrlId;

```

## RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `emptyChunk` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/CoderUtil.java`
#### Snippet
```java
  }

  private static byte[] emptyChunk = new byte[4096];

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `metrics` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
  private List<X509Certificate> caCerts;

  private static XceiverClientMetrics metrics;
  private boolean isSecurityEnabled;
  private final boolean topologyAwareRead;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `verifyChecksum` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
  private XceiverClientSpi xceiverClient;
  private final Supplier<Pipeline> pipelineSupplier;
  private boolean verifyChecksum;
  private boolean allocated = false;
  // Buffers to store the chunk data read from the DN container
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `chunkPosition` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
  // block or key. This variable is also set before attempting a read to enable
  // retry.  Once the chunk is read, this variable is reset.
  private long chunkPosition = -1;

  private final Token<? extends TokenIdentifier> token;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `buffers` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
  private boolean allocated = false;
  // Buffers to store the chunk data read from the DN container
  private ByteBuffer[] buffers;

  // Index of the buffers corresponding to the current position of the buffers
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `xceiverClient` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
  private final BlockID blockID;
  private final XceiverClientFactory xceiverClientFactory;
  private XceiverClientSpi xceiverClient;
  private final Supplier<Pipeline> pipelineSupplier;
  private boolean verifyChecksum;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `chunkInfo` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
      LoggerFactory.getLogger(ChunkInputStream.class);

  private ChunkInfo chunkInfo;
  private final long length;
  private final BlockID blockID;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `failedLocations` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java
  private BlockExtendedInputStream blockReader;
  private boolean reconstructionReader = false;
  private List<DatanodeDetails> failedLocations = new ArrayList<>();
  private boolean closed = false;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `closed` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java
  private boolean reconstructionReader = false;
  private List<DatanodeDetails> failedLocations = new ArrayList<>();
  private boolean closed = false;

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `blockReader` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java
  private final ECBlockInputStreamFactory ecBlockInputStreamFactory;

  private BlockExtendedInputStream blockReader;
  private boolean reconstructionReader = false;
  private List<DatanodeDetails> failedLocations = new ArrayList<>();
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `reconstructionReader` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java

  private BlockExtendedInputStream blockReader;
  private boolean reconstructionReader = false;
  private List<DatanodeDetails> failedLocations = new ArrayList<>();
  private boolean closed = false;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `xceiverClientFactory` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
  private final Token<OzoneBlockTokenIdentifier> token;
  private final boolean verifyChecksum;
  private XceiverClientFactory xceiverClientFactory;
  private XceiverClientSpi xceiverClient;
  private boolean initialized = false;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `pipeline` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
  private final BlockID blockID;
  private final long length;
  private Pipeline pipeline;
  private final Token<OzoneBlockTokenIdentifier> token;
  private final boolean verifyChecksum;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `xceiverClient` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
  private final boolean verifyChecksum;
  private XceiverClientFactory xceiverClientFactory;
  private XceiverClientSpi xceiverClient;
  private boolean initialized = false;
  // TODO: do we need to change retrypolicy based on exception.
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `seeked` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
  private long position = 0;
  private boolean closed = false;
  private boolean seeked = false;

  protected ECReplicationConfig getRepConfig() {
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `position` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
  private final int maxLocations;

  private long position = 0;
  private boolean closed = false;
  private boolean seeked = false;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `decoderInputBuffers` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedStripeInputStream.java`
#### Snippet
```java
  // List of buffers, data + parity long, needed by the EC decoder. Missing
  // or not-need locations will be null.
  private ByteBuffer[] decoderInputBuffers;
  // Missing chunks are recovered into these buffers.
  private ByteBuffer[] decoderOutputBuffers;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `xceiverClientManager` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerOperationClient.java`
#### Snippet
```java
  private final boolean containerTokenEnabled;
  private final OzoneConfiguration configuration;
  private XceiverClientManager xceiverClientManager;

  public synchronized XceiverClientManager getXceiverClientManager()
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `scheduledExecutorService` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/Scheduler.java`
#### Snippet
```java
      LoggerFactory.getLogger(Scheduler.class);

  private ScheduledExecutorService scheduledExecutorService;

  private volatile boolean isClosed;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `ports` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java`
#### Snippet
```java
  private String ipAddress;
  private String hostName;
  private List<Port> ports;
  private String certSerialId;
  private String version;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `activeLeases` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lease/LeaseManager.java`
#### Snippet
```java
  private final long defaultTimeout;
  private final Object monitor = new Object();
  private Map<T, Lease<T>> activeLeases;
  private LeaseMonitor leaseMonitor;
  private Thread leaseMonitorThread;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `component` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
  private final V versionManager;
  private String clientID;
  private T component;
  private UpgradeFinalizationExecutor<T> finalizationExecutor;
  // Ensures that there is only one finalization thread running at a time.
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `metricsByHost` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  private MetricsRegistry registry;

  private Map<String, ContainerStateInWorkflow> metricsByHost;

  /** Private constructor. */
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `monitor` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionManager.java`
#### Snippet
```java

  private ScheduledExecutorService executor;
  private DatanodeAdminMonitor monitor;

  private NodeManager nodeManager;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `nodeManager` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionManager.java`
#### Snippet
```java
  private DatanodeAdminMonitor monitor;

  private NodeManager nodeManager;
  //private ContainerManager containerManager;
  private SCMContext scmContext;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `sufficientlyReplicatedContainers` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private NodeDecommissionMetrics metrics;
  private long pipelinesWaitingToClose = 0;
  private long sufficientlyReplicatedContainers = 0;
  private long trackedDecomMaintenance = 0;
  private long trackedRecommission = 0;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `containerStateByHost` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long underReplicatedContainers = 0;

  private Map<String, ContainerStateInWorkflow> containerStateByHost;

  private static final Logger LOG =
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `underReplicatedContainers` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long trackedRecommission = 0;
  private long unhealthyContainers = 0;
  private long underReplicatedContainers = 0;

  private Map<String, ContainerStateInWorkflow> containerStateByHost;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `trackedNodes` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private Queue<DatanodeDetails> pendingNodes = new ArrayDeque();
  private Queue<DatanodeDetails> cancelledNodes = new ArrayDeque();
  private Set<DatanodeDetails> trackedNodes = new HashSet<>();
  private NodeDecommissionMetrics metrics;
  private long pipelinesWaitingToClose = 0;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `unhealthyContainers` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long trackedDecomMaintenance = 0;
  private long trackedRecommission = 0;
  private long unhealthyContainers = 0;
  private long underReplicatedContainers = 0;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `cancelledNodes` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private ReplicationManager replicationManager;
  private Queue<DatanodeDetails> pendingNodes = new ArrayDeque();
  private Queue<DatanodeDetails> cancelledNodes = new ArrayDeque();
  private Set<DatanodeDetails> trackedNodes = new HashSet<>();
  private NodeDecommissionMetrics metrics;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `pendingNodes` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private NodeManager nodeManager;
  private ReplicationManager replicationManager;
  private Queue<DatanodeDetails> pendingNodes = new ArrayDeque();
  private Queue<DatanodeDetails> cancelledNodes = new ArrayDeque();
  private Set<DatanodeDetails> trackedNodes = new HashSet<>();
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `pipelinesWaitingToClose` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private Set<DatanodeDetails> trackedNodes = new HashSet<>();
  private NodeDecommissionMetrics metrics;
  private long pipelinesWaitingToClose = 0;
  private long sufficientlyReplicatedContainers = 0;
  private long trackedDecomMaintenance = 0;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `droppedCount` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  private int capacity = 0;

  private AtomicInteger droppedCount = new AtomicInteger();

  public ContainerReportQueue() {
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `orderingQueue` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
   * order as added to queue.
   */
  private LinkedBlockingQueue<String> orderingQueue
      = new LinkedBlockingQueue<>();
  private Map<String, List<ContainerReport>> dataMap = new HashMap<>();
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `instance` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java

  private MetricsRegistry registry;
  private static SCMPipelineMetrics instance;

  private @Metric MutableCounterLong numPipelineAllocated;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `oneShotRun` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/BackgroundPipelineCreator.java`
#### Snippet
```java
  private final long waitTimeInMillis;
  private long lastTimeToBeReadyInMillis = 0;
  private boolean oneShotRun = false;

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `metrics` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
   * SCM metrics.
   */
  private static SCMMetrics metrics;

  /*
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `safeModeCutoff` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/ContainerSafeModeRule.java`
#### Snippet
```java
      LoggerFactory.getLogger(ContainerSafeModeRule.class);
  // Required cutoff % for containers with at least 1 reported replica.
  private double safeModeCutoff;
  // Containers read from scm db (excluding containers in ALLOCATED state).
  private Map<Long, ContainerInfo> containerMap;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `containerWithMinReplicas` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/ContainerSafeModeRule.java`
#### Snippet
```java
  private double maxContainer;

  private AtomicLong containerWithMinReplicas = new AtomicLong(0);
  private final ContainerManager containerManager;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `containerMap` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/ContainerSafeModeRule.java`
#### Snippet
```java
  private double safeModeCutoff;
  // Containers read from scm db (excluding containers in ALLOCATED state).
  private Map<Long, ContainerInfo> containerMap;
  private double maxContainer;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `exitRules` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SCMSafeModeManager.java`
#### Snippet
```java
  private AtomicBoolean preCheckComplete = new AtomicBoolean(false);

  private Map<String, SafeModeExitRule> exitRules = new HashMap(1);
  private Set<String> preCheckRules = new HashSet<>(1);
  private ConfigurationSource config;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `pipelineManager` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/OneReplicaPipelineSafeModeRule.java`
#### Snippet
```java
  private Set<PipelineID> oldPipelineIDSet;
  private int currentReportedPipelineCount = 0;
  private PipelineManager pipelineManager;
  private final double pipelinePercent;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `thresholdCount` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/OneReplicaPipelineSafeModeRule.java`
#### Snippet
```java
      LoggerFactory.getLogger(OneReplicaPipelineSafeModeRule.class);

  private int thresholdCount;
  private Set<PipelineID> reportedPipelineIDSet = new HashSet<>();
  private Set<PipelineID> oldPipelineIDSet;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `oldPipelineIDSet` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/OneReplicaPipelineSafeModeRule.java`
#### Snippet
```java
  private int thresholdCount;
  private Set<PipelineID> reportedPipelineIDSet = new HashSet<>();
  private Set<PipelineID> oldPipelineIDSet;
  private int currentReportedPipelineCount = 0;
  private PipelineManager pipelineManager;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `config` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
  private Set<String> excludeNodes;
  private Set<String> includeNodes;
  private ContainerBalancerConfiguration config;
  private ContainerBalancerMetrics metrics;
  private long clusterCapacity;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `replicationQueue` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
  private final EventPublisher eventPublisher;
  private final ReentrantLock lock = new ReentrantLock();
  private ReplicationQueue replicationQueue;
  private final ECUnderReplicationHandler ecUnderReplicationHandler;
  private final ECOverReplicationHandler ecOverReplicationHandler;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `legacyReplicationManager` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
   * for now, it is used to process non-EC container.
   */
  private LegacyReplicationManager legacyReplicationManager;

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `containerReport` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
   * Report object that is refreshed each time replication Manager runs.
   */
  private ReplicationManagerReport containerReport;

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `applyTransactionMap` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
  // Map which contains index and term for the ratis transactions which are
  // stateMachine entries which are received through applyTransaction.
  private ConcurrentMap<Long, Long> applyTransactionMap =
      new ConcurrentSkipListMap<>();

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `ozoneManagerDoubleBuffer` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
  private RequestHandler handler;
  private RaftGroupId raftGroupId;
  private OzoneManagerDoubleBuffer ozoneManagerDoubleBuffer;
  private final RatisSnapshotInfo snapshotInfo;
  private final ExecutorService executorService;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `metrics` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
   * Replication progress related metrics.
   */
  private ReplicationManagerMetrics metrics;

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `readyBuffer` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
  // solve this.
  private Queue<DoubleBufferEntry<OMClientResponse>> currentBuffer;
  private Queue<DoubleBufferEntry<OMClientResponse>> readyBuffer;


```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `registry` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/validation/RequestValidations.java`
#### Snippet
```java
  private String validationsPackageName = DEFAULT_PACKAGE;
  private ValidationContext context = null;
  private ValidatorRegistry registry = null;

  public synchronized RequestValidations fromPackage(String packageName) {
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `tokenRemoverThread` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java
  private final OzoneSecretStore store;
  private final S3SecretManagerImpl s3SecretManager;
  private Thread tokenRemoverThread;
  private final long tokenRemoverScanInterval;
  private String omCertificateSerialId;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `isRatisEnabled` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java
  private Object noInterruptsLock = new Object();

  private boolean isRatisEnabled;

  /**
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `reconTaskStatusDao` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconScmTask.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(ReconScmTask.class);
  private Thread taskThread;
  private ReconTaskStatusDao reconTaskStatusDao;
  private volatile boolean running;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `processedContainers` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
  private PlacementPolicy placementPolicy;
  private final long interval;
  private Set<ContainerInfo> processedContainers = new HashSet<>();

  public ContainerHealthTask(
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `reconTaskStatusDao` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ReconTaskControllerImpl.java`
#### Snippet
```java
  private Map<String, AtomicInteger> taskFailureCounter = new HashMap<>();
  private static final int TASK_FAILURE_THRESHOLD = 2;
  private ReconTaskStatusDao reconTaskStatusDao;

  @Inject
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `reconOmTasks` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ReconTaskControllerImpl.java`
#### Snippet
```java
      LoggerFactory.getLogger(ReconTaskControllerImpl.class);

  private Map<String, ReconOmTask> reconOmTasks;
  private ExecutorService executorService;
  private final int threadCount;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `taskFailureCounter` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ReconTaskControllerImpl.java`
#### Snippet
```java
  private ExecutorService executorService;
  private final int threadCount;
  private Map<String, AtomicInteger> taskFailureCounter = new HashMap<>();
  private static final int TASK_FAILURE_THRESHOLD = 2;
  private ReconTaskStatusDao reconTaskStatusDao;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `length` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java

  private String key;
  private long length = 0L;
  private boolean closed = false;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `partStreams` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java

  // List of OzoneCryptoInputStream, one for each part of the key
  private List<OzoneCryptoInputStream> partStreams;

  // partOffsets[i] stores the index of the first data byte in
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `closed` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
  private String key;
  private long length = 0L;
  private boolean closed = false;

  // List of OzoneCryptoInputStream, one for each part of the key
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `partIndex` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
  // Index of the partStream corresponding to the current position of the
  // MultipartCryptoKeyInputStream.
  private int partIndex = 0;

  // Tracks the partIndex corresponding to the last seeked position so that it
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `partOffsets` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
  // Then, partOffsets[0] = 0 (the offset of the first byte of data in
  // part[0]), partOffsets[1] = 200 and so on.
  private long[] partOffsets;

  // Index of the partStream corresponding to the current position of the
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `committedSpace` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java`
#### Snippet
```java
  private final long maxSize;

  private boolean committedSpace;

  //ID of the pipeline where this container is created
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `metrics` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/ContainerCache.java`
#### Snippet
```java
  private static final float LOAD_FACTOR = 0.75f;
  private final Striped<Lock> rocksDBLock;
  private static ContainerCacheMetrics metrics;
  /**
   * Constructs a cache that holds DBHandle references.
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `cache` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/ContainerCache.java`
#### Snippet
```java
      LoggerFactory.getLogger(ContainerCache.class);
  private final Lock lock = new ReentrantLock();
  private static ContainerCache cache;
  private static final float LOAD_FACTOR = 0.75f;
  private final Striped<Lock> rocksDBLock;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `volumeMap` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java
   * Each volume has one-to-one mapping with a volumeInfo object.
   */
  private Map<String, StorageVolume> volumeMap;
  /**
   * Maintains a map of volumes which have failed. The keys in this map and
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `context` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
  private final ConfigurationSource conf;
  private final SCMConnectionManager connectionManager;
  private StateContext context;
  private final OzoneContainer container;
  private final DatanodeCRLStore dnCRLStore;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `config` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java`
#### Snippet
```java

  private final KeyValueContainerData containerData;
  private ConfigurationSource config;

  // Cache of Blocks (LocalIDs) awaiting final PutBlock call after the stream
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `omProxies` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java

  // Map of OMNodeID to its proxy
  private Map<String, ProxyInfo<T>> omProxies;
  private List<String> omNodeIDList;

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `omNodeIDList` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
  // Map of OMNodeID to its proxy
  private Map<String, ProxyInfo<T>> omProxies;
  private List<String> omNodeIDList;

  private String currentProxyOMNodeId;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `keyLocationVersions` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
  private String keyName;
  private long dataSize;
  private List<OmKeyLocationInfoGroup> keyLocationVersions;
  private final long creationTime;
  private long modificationTime;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `client` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java`
#### Snippet
```java
      LoggerFactory.getLogger(OzoneClientProducer.class);

  private OzoneClient client;

  @Inject
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `instance` is accessed in both synchronized and unsynchronized contexts
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java

  private MetricsRegistry registry;
  private static S3GatewayMetrics instance;

  // BucketEndpoint
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `blockCacheHolder` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedBlockBasedTableConfig.java`
#### Snippet
```java
 */
public class ManagedBlockBasedTableConfig extends BlockBasedTableConfig {
  private Cache blockCacheHolder;
  private AtomicBoolean closed = new AtomicBoolean(false);

```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `currentKey` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/OzoneSecretManager.java`
#### Snippet
```java
  private CertificateClient certClient;
  private volatile boolean running;
  private OzoneSecretKey currentKey;
  private AtomicInteger currentKeyId;
  private AtomicInteger tokenSequenceNumber;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `certClient` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/OzoneSecretManager.java`
#### Snippet
```java
  private final long tokenRenewInterval;
  private final Text service;
  private CertificateClient certClient;
  private volatile boolean running;
  private OzoneSecretKey currentKey;
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `dirPermissionSet` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/KeyCodec.java`
#### Snippet
```java
  private final Path location;
  private final SecurityConfig securityConfig;
  private Set<PosixFilePermission> dirPermissionSet =
      Stream.of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE)
          .collect(Collectors.toSet());
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `filePermissionSet` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/KeyCodec.java`
#### Snippet
```java
      Stream.of(OWNER_READ, OWNER_WRITE, OWNER_EXECUTE)
          .collect(Collectors.toSet());
  private Set<PosixFilePermission> filePermissionSet =
      Stream.of(OWNER_READ, OWNER_WRITE)
          .collect(Collectors.toSet());
```

### RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
Field `isPosixFileSystem` is accessed in both synchronized and unsynchronized contexts
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/KeyCodec.java`
#### Snippet
```java
      Stream.of(OWNER_READ, OWNER_WRITE)
          .collect(Collectors.toSet());
  private Supplier<Boolean> isPosixFileSystem;

  /**
```

## RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
      // TODO RenameKey needs to be changed to batch operation
      for (String key : keyList) {
        String newKeyName = dstKey.concat(key.substring(srcKey.length()));
        adapter.renameKey(key, newKeyName);
      }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
    boolean processKeyPath(List<String> keyPathList) throws IOException {
      for (String keyPath : keyPathList) {
        String newPath = dstPath.concat(keyPath.substring(srcPath.length()));
        adapterImpl.rename(this.bucket, keyPath, newPath);
      }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
      }
      ratisRoles.add((peer.getAddress() == null ? "" :
          peer.getAddress().concat(peer.equals(leader) ?
                  ":".concat(RaftProtos.RaftPeerRole.LEADER.toString()) :
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
      ratisRoles.add((peer.getAddress() == null ? "" :
          peer.getAddress().concat(peer.equals(leader) ?
                  ":".concat(RaftProtos.RaftPeerRole.LEADER.toString()) :
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
          peer.getAddress().concat(peer.equals(leader) ?
                  ":".concat(RaftProtos.RaftPeerRole.LEADER.toString()) :
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
                  .concat(":".concat(peerInetAddress.getHostAddress()))));
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
                  ":".concat(RaftProtos.RaftPeerRole.LEADER.toString()) :
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
                  .concat(":".concat(peerInetAddress.getHostAddress()))));
    }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
                  ":".concat(RaftProtos.RaftPeerRole.LEADER.toString()) :
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
                  .concat(":".concat(peerInetAddress.getHostAddress()))));
    }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
                  .concat(":".concat(peerInetAddress.getHostAddress()))));
    }
    return ratisRoles;
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
                  .concat(":".concat(peerInetAddress.getHostAddress()))));
    }
    return ratisRoles;
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
    boolean processKeyPath(List<String> keyPathList) {
      for (String keyPath : keyPathList) {
        String newPath = dstPath.concat(keyPath.substring(srcPath.length()));
        OFSPath src = new OFSPath(keyPath);
        OFSPath dst = new OFSPath(newPath);
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
    }
    prefixName = OzoneFSUtils.addTrailingSlashIfNeeded(prefixName);
    return prefixName.concat(fileName);
  }

```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
    try {
      String sourceDir = sourcePath.toString();
      String fileName = sourceDir.concat(".tar.gz");
      fileOutputStream = new FileOutputStream(fileName);
      gzipOutputStream =
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/AbstractOmBucketReadWriteOps.java`
#### Snippet
```java
      throws Exception {
    for (int i = 0; i < keyCount; i++) {
      String keyName = path.concat(OzoneConsts.OM_KEY_PREFIX)
          .concat(RandomStringUtils.randomAlphanumeric(length));
      if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/AbstractOmBucketReadWriteOps.java`
#### Snippet
```java
    for (int i = 0; i < keyCount; i++) {
      String keyName = path.concat(OzoneConsts.OM_KEY_PREFIX)
          .concat(RandomStringUtils.randomAlphanumeric(length));
      if (LOG.isDebugEnabled()) {
        LOG.debug("Key/FileName : {}", keyName);
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteKeyOps.java`
#### Snippet
```java
  @Override
  protected String createPath(String path) {
    return "".concat(OzoneConsts.OM_KEY_PREFIX).concat(path);
  }

```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteKeyOps.java`
#### Snippet
```java
  @Override
  protected String createPath(String path) {
    return "".concat(OzoneConsts.OM_KEY_PREFIX).concat(path);
  }

```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteFileOps.java`
#### Snippet
```java
  @Override
  protected String createPath(String path) throws IOException {
    String fullPath = rootPath.concat(OzoneConsts.OM_KEY_PREFIX).concat(path);
    fileSystem.mkdirs(new Path(fullPath));
    return fullPath;
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteFileOps.java`
#### Snippet
```java
  @Override
  protected String createPath(String path) throws IOException {
    String fullPath = rootPath.concat(OzoneConsts.OM_KEY_PREFIX).concat(path);
    fileSystem.mkdirs(new Path(fullPath));
    return fullPath;
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
    String dirString = RandomStringUtils.randomAlphanumeric(length);
    for (int i = 1; i <= depth; i++) {
      dirString = dirString.concat("/").concat(RandomStringUtils.
          randomAlphanumeric(length));
    }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
    String dirString = RandomStringUtils.randomAlphanumeric(length);
    for (int i = 1; i <= depth; i++) {
      dirString = dirString.concat("/").concat(RandomStringUtils.
          randomAlphanumeric(length));
    }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
          randomAlphanumeric(length));
    }
    Path file = new Path(rootPath.concat("/").concat(dirString));
    fileSystem.mkdirs(file.getParent());
    String leafDir = dirString.substring(0, dirString.length() - length);
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
          randomAlphanumeric(length));
    }
    Path file = new Path(rootPath.concat("/").concat(dirString));
    fileSystem.mkdirs(file.getParent());
    String leafDir = dirString.substring(0, dirString.length() - length);
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
    String tmp = "/0";
    for (int i = 1; i <= span; i++) {
      String childDir = leafDir.concat(Integer.toString(i)).concat(tmp);
      Path dir = new Path(rootPath.concat("/").concat(childDir));
      fileSystem.mkdirs(dir.getParent());
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
    String tmp = "/0";
    for (int i = 1; i <= span; i++) {
      String childDir = leafDir.concat(Integer.toString(i)).concat(tmp);
      Path dir = new Path(rootPath.concat("/").concat(childDir));
      fileSystem.mkdirs(dir.getParent());
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
    for (int i = 1; i <= span; i++) {
      String childDir = leafDir.concat(Integer.toString(i)).concat(tmp);
      Path dir = new Path(rootPath.concat("/").concat(childDir));
      fileSystem.mkdirs(dir.getParent());
    }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopNestedDirGenerator.java`
#### Snippet
```java
    for (int i = 1; i <= span; i++) {
      String childDir = leafDir.concat(Integer.toString(i)).concat(tmp);
      Path dir = new Path(rootPath.concat("/").concat(childDir));
      fileSystem.mkdirs(dir.getParent());
    }
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java

  private void createFile(String dir, long counter) throws Exception {
    String fileName = dir.concat("/").concat(RandomStringUtils.
            randomAlphanumeric(length));
    Path file = new Path(fileName);
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java

  private void createFile(String dir, long counter) throws Exception {
    String fileName = dir.concat("/").concat(RandomStringUtils.
            randomAlphanumeric(length));
    Path file = new Path(fileName);
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java
          throws Exception {
    String dir = RandomStringUtils.randomAlphanumeric(length);
    dir = parent.toString().concat("/").concat(dir);
    fileSystem.mkdirs(new Path(dir));
    totalDirsCnt.incrementAndGet();
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java
          throws Exception {
    String dir = RandomStringUtils.randomAlphanumeric(length);
    dir = parent.toString().concat("/").concat(dir);
    fileSystem.mkdirs(new Path(dir));
    totalDirsCnt.incrementAndGet();
```

### RuleId[ruleID=CallToStringConcatCanBeReplacedByOperator]
Call to `concat()` can be replaced with '+' expression
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedRocksObjectUtils.java`
#### Snippet
```java
        String debugMessage = String
            .format("%n StackTrace for unclosed instance: %s", stackTrace);
        warning = warning.concat(debugMessage);
      }
      LOG.warn(warning);
```

## RuleId[ruleID=DuplicateThrows]
### RuleId[ruleID=DuplicateThrows]
There is a more general exception, 'java.io.IOException', in the throws list already.
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificates/utils/SelfSignedCertificate.java`
#### Snippet
```java

    public X509CertificateHolder build()
        throws SCMSecurityException, IOException {
      Preconditions.checkNotNull(key, "Key cannot be null");
      Preconditions.checkArgument(Strings.isNotBlank(subject), "Subject " +
```

## RuleId[ruleID=SynchronizeOnThis]
### RuleId[ruleID=SynchronizeOnThis]
Lock operations on a class may have unforeseen side-effects
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/CoderUtil.java`
#### Snippet
```java
    }

    synchronized (CoderUtil.class) {
      emptyChunk = new byte[leastLength];
    }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on a class may have unforeseen side-effects
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/x509/SecurityConfig.java`
#### Snippet
```java
    // First Startup -- if the provider is null, check for the provider.
    if (SecurityConfig.provider == null) {
      synchronized (SecurityConfig.class) {
        provider = Security.getProvider(this.providerString);
        if (SecurityConfig.provider == null) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
          }
        }
        synchronized (this) {
          if (!runImmediately) {
            wait(intervalInMillis);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
        synchronized (this) {
          if (!runImmediately) {
            wait(intervalInMillis);
          }
          runImmediately = false;
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
  public synchronized void runImmediately() {
    runImmediately = true;
    notify();
  }

```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
  @Override
  public void stop() {
    synchronized (this) {
      if (!running.compareAndSet(true, false)) {
        log.info("{} Service is not running, skip stop.", getServiceName());
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
    try {
      containerStateByHost.clear();
      synchronized (this) {
        trackedRecommission = getCancelledCount();
        processCancelledNodes();
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public void clear() {
    synchronized (this) {
      orderingQueue.clear();
      dataMap.clear();
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public ContainerReport element() {
    synchronized (this) {
      String uuid = orderingQueue.element();
      return getReport(uuid);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  private boolean addIncrementalReport(ContainerReport val) {
    String uuidString = val.getDatanodeDetails().getUuidString();
    synchronized (this) {
      // 1. check if no previous report available, else add the report
      if (!dataMap.containsKey(uuidString)) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public ContainerReport peek() {
    synchronized (this) {
      String uuid = orderingQueue.peek();
      return getReport(uuid);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public int size() {
    synchronized (this) {
      return capacity;
    }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public int remainingCapacity() {
    synchronized (this) {
      return maxCapacity - capacity;
    }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public ContainerReport poll() {
    synchronized (this) {
      String uuid = orderingQueue.poll();
      return removeAndGet(uuid);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  public boolean offer(@NotNull ContainerReport value) {
    Objects.requireNonNull(value);
    synchronized (this) {
      return addValue(value);
    }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  @Override
  public ContainerReport remove() {
    synchronized (this) {
      String uuid = orderingQueue.remove();
      return removeAndGet(uuid);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  public boolean add(@NotNull ContainerReport value) {
    Objects.requireNonNull(value);
    synchronized (this) {
      if (remainingCapacity() == 0) {
        throw new IllegalStateException("capacity not available");
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java

  public boolean addValue(@NotNull ContainerReport value) {
    synchronized (this) {
      if (remainingCapacity() == 0) {
        return false;
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
      throws InterruptedException {
    String uuid = orderingQueue.poll(timeout, unit);
    synchronized (this) {
      return removeAndGet(uuid);
    }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  public ContainerReport take() throws InterruptedException {
    String uuid = orderingQueue.take();
    synchronized (this) {
      return removeAndGet(uuid);
    }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  private boolean addContainerReport(ContainerReport val) {
    String uuidString = val.getDatanodeDetails().getUuidString();
    synchronized (this) {
      // 1. check if no previous report available, else add the report
      if (!dataMap.containsKey(uuidString)) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/update/server/SCMUpdateServiceGrpcServer.java`
#### Snippet
```java
  public void join() throws InterruptedException {
    while (isStarted.get()) {
      wait();
    }
  }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableECContainerProvider.java`
#### Snippet
```java
      ECReplicationConfig repConfig, String owner, ExcludeList excludeList)
      throws IOException, TimeoutException {
    synchronized (this) {
      int openPipelineCount = pipelineManager.getPipelineCount(repConfig,
          Pipeline.PipelineState.OPEN);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableECContainerProvider.java`
#### Snippet
```java
    // allocate a new one and usePipelineManagerV2Impl.java it.
    try {
      synchronized (this) {
        return allocateContainer(repConfig, size, owner, excludeList);
      }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
      LOG.error("Container Balancer is stopped abnormally, ", e);
    } finally {
      synchronized (this) {
        taskStatus = Status.STOPPED;
      }
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
   */
  private void tryStopWithSaveConfiguration(String stopReason) {
    synchronized (this) {
      try {
        LOG.info("Save Configuration for stopping. Reason: {}", stopReason);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
   */
  public void stop() {
    synchronized (this) {
      if (taskStatus == Status.RUNNING) {
        taskStatus = Status.STOPPING;
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
      return;
    }
    synchronized (this) {
      if (isBalancerRunning()) {
        containerBalancer.saveConfiguration(configuration, shouldRun, index);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/UnderReplicatedProcessor.java`
#### Snippet
```java
          processAll();
        }
        synchronized (this) {
          if (!runImmediately) {
            wait(intervalInMillis);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/UnderReplicatedProcessor.java`
#### Snippet
```java
        synchronized (this) {
          if (!runImmediately) {
            wait(intervalInMillis);
          }
          runImmediately = false;
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/UnderReplicatedProcessor.java`
#### Snippet
```java
  synchronized void runImmediately() {
    runImmediately = true;
    notify();
  }
}
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/OverReplicatedProcessor.java`
#### Snippet
```java
          processAll();
        }
        synchronized (this) {
          if (!runImmediately) {
            wait(intervalInMillis);
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/OverReplicatedProcessor.java`
#### Snippet
```java
        synchronized (this) {
          if (!runImmediately) {
            wait(intervalInMillis);
          }
          runImmediately = false;
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/OverReplicatedProcessor.java`
#### Snippet
```java
  synchronized void runImmediately() {
    runImmediately = true;
    notify();
  }
}
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
      while (running) {
        processAll();
        wait(rmConf.getInterval());
      }
    } catch (Throwable t) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
  public boolean isRunning() {
    if (!running) {
      synchronized (this) {
        return replicationMonitor != null
            && replicationMonitor.isAlive();
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
        datanode, replicaIndex);

    synchronized (this) {
      metrics.incrNumDeletionCmdsSent();
      metrics.incrNumDeletionBytesTotal(container.getUsedBytes());
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
      long transactionIndex) {
    currentBuffer.add(new DoubleBufferEntry<>(transactionIndex, response));
    notify();

    if (!isRatisEnabled) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
    // currentBuffer size once and return from this method.
    while (currentBuffer.size() == 0) {
      wait(Long.MAX_VALUE);
    }
    return true;
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java
  private void removeExpiredToken() {
    long now = Time.now();
    synchronized (this) {
      Iterator<Map.Entry<OzoneTokenIdentifier,
          TokenInfo>> i = currentTokens.entrySet().iterator();
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconScmTask.java`
#### Snippet
```java
      LOG.info("Stopping {} Thread.", getTaskName());
      running = false;
      notifyAll();
    } else {
      LOG.info("{} Thread is not running.", getTaskName());
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconScmTask.java`
#### Snippet
```java
  public boolean isRunning() {
    if (!running) {
      synchronized (this) {
        return taskThread != null
            && taskThread.isAlive();
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/PipelineSyncTask.java`
#### Snippet
```java
            Time.monotonicNow() - start);
        recordSingleRunCompletion();
        wait(interval);
      }
    } catch (Throwable t) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
    try {
      while (canRun()) {
        wait(interval);
        long start = Time.monotonicNow();
        long currentTime = System.currentTimeMillis();
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerSet.java`
#### Snippet
```java
    // This is to make sure FCR and ICR can be linearized and processed by
    // consumers such as SCM.
    synchronized (this) {
      for (Container<?> container : containers) {
        if (container.getContainerState()
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/DatanodeStoreCache.java`
#### Snippet
```java
    RawDB db = datanodeStoreMap.get(containerDBPath);
    if (db == null) {
      synchronized (this) {
        db = datanodeStoreMap.get(containerDBPath);
        if (db == null) {
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/ThrottledAsyncChecker.java`
#### Snippet
```java
      @Override
      public void onFailure(@Nonnull Throwable t) {
        synchronized (ThrottledAsyncChecker.this) {
          checksInProgress.remove(target);
          completedChecks.put(target, new LastCheckResult<>(
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/ThrottledAsyncChecker.java`
#### Snippet
```java
      @Override
      public void onSuccess(@Nullable V result) {
        synchronized (ThrottledAsyncChecker.this) {
          checksInProgress.remove(target);
          completedChecks.put(target, new LastCheckResult<>(
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/StorageVolumeChecker.java`
#### Snippet
```java

    numAllVolumeChecks.incrementAndGet();
    synchronized (this) {
      // All volumes that have not been detected as healthy should be
      // considered failed. This is a superset of 'failedVolumes'.
```

### RuleId[ruleID=SynchronizeOnThis]
Lock operations on 'this' may have unforeseen side-effects
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    ExecutorService executor = ecReconstructExecutor;
    if (executor == null) {
      synchronized (this) {
        executor = ecReconstructExecutor;
        if (executor == null) {
```

## RuleId[ruleID=DoubleBraceInitialization]
### RuleId[ruleID=DoubleBraceInitialization]
Double brace initialization
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManagerMetrics.java`
#### Snippet
```java
  private static final Map<LifeCycleState, MetricsInfo> LIFECYCLE_STATE_METRICS
      = Collections.unmodifiableMap(
          new LinkedHashMap<LifeCycleState, MetricsInfo>() {{
            for (LifeCycleState s : LifeCycleState.values()) {
              String name = CaseFormat.UPPER_UNDERSCORE
```

### RuleId[ruleID=DoubleBraceInitialization]
Double brace initialization
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManagerMetrics.java`
#### Snippet
```java
  private static final Map<HealthState, MetricsInfo>
      CONTAINER_HEALTH_STATE_METRICS = Collections.unmodifiableMap(
          new LinkedHashMap<HealthState, MetricsInfo>() {{
            for (HealthState s :  HealthState.values()) {
              put(s, Interns.info(s.getMetricName(), s.getDescription()));
```

### RuleId[ruleID=DoubleBraceInitialization]
Double brace initialization
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconContainerManager.java`
#### Snippet
```java
      // putIfAbsent to avoid TOCTOU
      replicaHistoryMap.putIfAbsent(id,
          new ConcurrentHashMap<UUID, ContainerReplicaHistory>() {{
            put(uuid, new ContainerReplicaHistory(uuid, currTime, currTime,
                bcsId));
```

## RuleId[ruleID=UnusedAssignment]
### RuleId[ruleID=UnusedAssignment]
Variable `usingDirect` initializer `false` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/BufferAllocator.java`
#### Snippet
```java
 */
public abstract class BufferAllocator {
  private boolean usingDirect = false;

  public BufferAllocator(boolean usingDirect) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `response` initializer `null` is redundant
in `hadoop-ozone/csi/src/main/java/org/apache/hadoop/ozone/csi/NodeService.java`
#### Snippet
```java
  public void nodeGetInfo(NodeGetInfoRequest request,
      StreamObserver<NodeGetInfoResponse> responseObserver) {
    NodeGetInfoResponse response = null;
    try {
      response = NodeGetInfoResponse.newBuilder()
```

### RuleId[ruleID=UnusedAssignment]
Variable `client` initializer `null` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
        @Override
          public XceiverClientSpi call() throws Exception {
            XceiverClientSpi client = null;
            switch (type) {
            case RATIS:
```

### RuleId[ruleID=UnusedAssignment]
Variable `clientDeterminedReplConfig` initializer `null` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneClientUtils.java`
#### Snippet
```java
      short replication, ReplicationConfig clientConfiguredReplConfig,
      ReplicationConfig bucketReplConfig, ConfigurationSource config) {
    ReplicationConfig clientDeterminedReplConfig = null;

    boolean isECBucket = bucketReplConfig != null && bucketReplConfig
```

### RuleId[ruleID=UnusedAssignment]
Variable `fileStatus` initializer `null` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    Path qualifiedPath = f.makeQualified(uri, workingDir);
    String key = pathToKey(qualifiedPath);
    FileStatus fileStatus = null;
    try {
      fileStatus = convertFileStatus(
```

### RuleId[ruleID=UnusedAssignment]
Variable `fileStatus` initializer `null` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
      throw new FileNotFoundException("File not found. path /NONE.");
    }
    FileStatusAdapter fileStatus = null;
    try {
      fileStatus = 
```

### RuleId[ruleID=UnusedAssignment]
The value `conf.get(DFS_DATANODE_DNS_INTERFACE_KEY)` assigned to `dnsInterface` is never used
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
      if (dnsInterface == null) {
        // Try the legacy configuration keys.
        dnsInterface = conf.get(DFS_DATANODE_DNS_INTERFACE_KEY);
        dnsInterface = conf.get(DFS_DATANODE_DNS_INTERFACE_KEY);
        nameServer = conf.get(DFS_DATANODE_DNS_NAMESERVER_KEY);
```

### RuleId[ruleID=UnusedAssignment]
Variable `port` initializer `-1` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
    } else {
      String address = conf.getTrimmed(OZONE_SCM_CLIENT_ADDRESS_KEY);
      int port = -1;

      if (address == null) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `nSize` initializer `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/OzoneQuota.java`
#### Snippet
```java
        .replaceAll("\\s+", "");
    String size = "";
    long nSize = 0;
    Units currUnit = Units.B;

```

### RuleId[ruleID=UnusedAssignment]
Variable `persistedOpStateExpiryEpochSec` initializer `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java`
#### Snippet
```java
  private String buildDate;
  private HddsProtos.NodeOperationalState persistedOpState;
  private long persistedOpStateExpiryEpochSec = 0;
  private int initialVersion;
  private int currentVersion;
```

### RuleId[ruleID=UnusedAssignment]
Variable `newCRC32C` initializer `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBufferFactory.java`
#### Snippet
```java

    static {
      MethodHandle newCRC32C = null;
      try {
        newCRC32C = MethodHandles.publicLookup()
```

### RuleId[ruleID=UnusedAssignment]
Variable `msgStart` initializer `""` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/AbstractLayoutVersionManager.java`
#### Snippet
```java
        }
      } else {
        String msgStart = "";
        if (layoutFeature.layoutVersion() <= metadataLayoutVersion) {
          msgStart = "Finalize attempt on a layoutFeature which has already "
```

### RuleId[ruleID=UnusedAssignment]
Variable `localScmServiceId` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
      throws IOException {
    InetSocketAddress localRpcAddress = null;
    String localScmServiceId = null;
    String localScmNodeId = null;
    int localRatisPort = 0;
```

### RuleId[ruleID=UnusedAssignment]
Variable `localScmNodeId` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
    InetSocketAddress localRpcAddress = null;
    String localScmServiceId = null;
    String localScmNodeId = null;
    int localRatisPort = 0;
    int localGrpcPort = 0;
```

### RuleId[ruleID=UnusedAssignment]
Variable `addr` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
            conf.getInt(OZONE_SCM_GRPC_PORT_KEY, OZONE_SCM_GRPC_PORT_DEFAULT));

        InetSocketAddress addr = null;
        try {
          addr = NetUtils.createSocketAddr(rpcAddrStr, ratisPort);
```

### RuleId[ruleID=UnusedAssignment]
Variable `termIndex` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMStateMachine.java`
#### Snippet
```java
    installingDBCheckpoint = null;

    TermIndex termIndex = null;
    try {
      termIndex =
```

### RuleId[ruleID=UnusedAssignment]
Variable `numRacks` initializer `1` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
    }
    // We have a network topology so calculate if it is satisfied or not.
    int numRacks = 1;
    final int maxLevel = topology.getMaxLevel();
    // The leaf nodes are all at max level, so the number of nodes at
```

### RuleId[ruleID=UnusedAssignment]
Variable `underReplicatedContainers` initializer `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
    private long sufficientlyReplicated = 0;
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
    private String host = "";
    private long pipelinesWaitingToClose = 0;
```

### RuleId[ruleID=UnusedAssignment]
Variable `host` initializer `""` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
    private String host = "";
    private long pipelinesWaitingToClose = 0;

```

### RuleId[ruleID=UnusedAssignment]
Variable `pipelinesWaitingToClose` initializer `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
    private long underReplicatedContainers = 0;
    private String host = "";
    private long pipelinesWaitingToClose = 0;

    private static final MetricsInfo HOST_UNDER_REPLICATED = Interns.info(
```

### RuleId[ruleID=UnusedAssignment]
Variable `unhealthyContainers` initializer `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  public static final class ContainerStateInWorkflow {
    private long sufficientlyReplicated = 0;
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
    private String host = "";
```

### RuleId[ruleID=UnusedAssignment]
Variable `sufficientlyReplicated` initializer `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
   */
  public static final class ContainerStateInWorkflow {
    private long sufficientlyReplicated = 0;
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
```

### RuleId[ruleID=UnusedAssignment]
Variable `layoutVersion` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeHeartbeatDispatcher.java`
#### Snippet
```java
    } else {

      LayoutVersionProto layoutVersion = null;
      if (!heartbeat.hasDataNodeLayoutVersion()) {
        // Backward compatibility to make sure old Datanodes can still talk to
```

### RuleId[ruleID=UnusedAssignment]
Variable `keyPrefix` initializer `""` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java

    for (DatanodeInfo node : nodeStateManager.getAllNodes()) {
      String keyPrefix = "";
      NodeStatus status = node.getNodeStatus();
      if (status.isMaintenance()) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `pipelines` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineStateMap.java`
#### Snippet
```java
        .checkNotNull(excludePipelines, "Pipeline exclude list cannot be null");

    List<Pipeline> pipelines = null;
    if (state == PipelineState.OPEN) {
      pipelines = new ArrayList<>(query2OpenPipelines.getOrDefault(
```

### RuleId[ruleID=UnusedAssignment]
Variable `stat` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
   */
  public ContainerStat getContainerReport(String datanodeUuid) {
    ContainerStat stat = null;
    synchronized (containerReportCache) {
      stat = containerReportCache.getIfPresent(datanodeUuid);
```

### RuleId[ruleID=UnusedAssignment]
Variable `container` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/IncrementalContainerReportHandler.java`
#### Snippet
```java
          report.getReport().getReportList()) {
        ContainerID id = ContainerID.valueOf(replicaProto.getContainerID());
        ContainerInfo container = null;
        try {
          try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `count` initializer `-1` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocolServerSideTranslatorPB.java`
#### Snippet
```java

    long startContainerID = 0;
    int count = -1;

    // Arguments check.
```

### RuleId[ruleID=UnusedAssignment]
Variable `dirs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java
            trashRoot);

    FileStatus[] dirs = null;
    try {
      dirs = fs.listStatus(trashRoot); // scan trash sub-directories
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/S3SecretManagerImpl.java`
#### Snippet
```java
    Preconditions.checkArgument(Strings.isNotBlank(kerberosID),
        "kerberosID cannot be null or empty.");
    S3SecretValue result = null;
    omMetadataManager.getLock().acquireWriteLock(S3_SECRET_LOCK, kerberosID);
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `removed` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
    String volume = obj.getVolumeName();
    String bucket = obj.getBucketName();
    boolean removed = false;
    metadataManager.getLock().acquireWriteLock(BUCKET_LOCK, volume, bucket);
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `changed` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
    String volume = obj.getVolumeName();
    String bucket = obj.getBucketName();
    boolean changed = false;
    metadataManager.getLock().acquireWriteLock(BUCKET_LOCK, volume, bucket);
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `replicationConfig` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneConfigUtil.java`
#### Snippet
```java
      DefaultReplicationConfig bucketDefaultReplicationConfig,
      ReplicationConfig omDefaultReplicationConfig) {
    ReplicationConfig replicationConfig = null;
    if (clientType != HddsProtos.ReplicationType.NONE) {
      // Client passed the replication config, so let's use it.
```

### RuleId[ruleID=UnusedAssignment]
Variable `port` initializer `8981` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/GrpcOzoneManagerServer.java`
#### Snippet
```java

  private Server server;
  private int port = 8981;
  private final int maxSize;

```

### RuleId[ruleID=UnusedAssignment]
Variable `localOMServiceId` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
  public static OMHANodeDetails loadOMHAConfig(OzoneConfiguration conf) {
    InetSocketAddress localRpcAddress = null;
    String localOMServiceId = null;
    String localOMNodeId = null;
    int localRatisPort = 0;
```

### RuleId[ruleID=UnusedAssignment]
Variable `addr` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
        int ratisPort = conf.getInt(ratisPortKey, OZONE_OM_RATIS_PORT_DEFAULT);

        InetSocketAddress addr = null;
        try {
          addr = NetUtils.createSocketAddr(rpcAddrStr);
```

### RuleId[ruleID=UnusedAssignment]
Variable `volumeName` initializer `""` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/utils/OzoneManagerRatisUtils.java`
#### Snippet
```java
    OzoneManagerProtocolProtos.KeyArgs keyArgs;
    BucketLayout bucketLayout = BucketLayout.DEFAULT;
    String volumeName = "";
    String bucketName = "";

```

### RuleId[ruleID=UnusedAssignment]
Variable `bucketName` initializer `""` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/utils/OzoneManagerRatisUtils.java`
#### Snippet
```java
    BucketLayout bucketLayout = BucketLayout.DEFAULT;
    String volumeName = "";
    String bucketName = "";

    switch (cmdType) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `mp` initializer `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
        throws IOException {
      ContainerID cid = null;
      MoveDataNodePair mp = null;
      try {
        cid = ContainerID.getFromProtobuf(contianerIDProto);
```

### RuleId[ruleID=UnusedAssignment]
Variable `multipartKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
    boolean acquiredLock = false;
    IOException exception = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    String multipartKey = null;
    OMResponse.Builder omResponse = OmResponseUtil.getOMResponseBuilder(
```

### RuleId[ruleID=UnusedAssignment]
Variable `multipartKey` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
    IOException exception = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    String multipartKey = null;
    OMResponse.Builder omResponse = OmResponseUtil.getOMResponseBuilder(
        getOmRequest());
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
        getOmRequest());
    OMClientResponse omClientResponse = null;
    Result result = null;
    OmBucketInfo omBucketInfo = null;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
    OMClientResponse omClientResponse = null;
    Result result = null;
    OmBucketInfo omBucketInfo = null;
    try {
      keyArgs = resolveBucketLink(ozoneManager, keyArgs, auditMap);
```

### RuleId[ruleID=UnusedAssignment]
Variable `multipartKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequestWithFSO.java`
#### Snippet
```java
    boolean acquiredBucketLock = false;
    IOException exception = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    OmKeyInfo omKeyInfo = null;
    List<OmDirectoryInfo> missingParentInfos;
```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequestWithFSO.java`
#### Snippet
```java
    IOException exception = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    OmKeyInfo omKeyInfo = null;
    List<OmDirectoryInfo> missingParentInfos;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequestWithFSO.java`
#### Snippet
```java
    OmKeyInfo omKeyInfo = null;
    List<OmDirectoryInfo> missingParentInfos;
    Result result = null;

    OMResponse.Builder omResponse = OmResponseUtil.getOMResponseBuilder(
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCommitPartRequest.java`
#### Snippet
```java
    String multipartKey = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    Result result = null;
    OmBucketInfo omBucketInfo = null;
    OmBucketInfo copyBucketInfo = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCommitPartRequest.java`
#### Snippet
```java
    OmMultipartKeyInfo multipartKeyInfo = null;
    Result result = null;
    OmBucketInfo omBucketInfo = null;
    OmBucketInfo copyBucketInfo = null;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `multipartKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequest.java`
#### Snippet
```java
    boolean acquiredBucketLock = false;
    IOException exception = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    OmKeyInfo omKeyInfo = null;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequest.java`
#### Snippet
```java
    IOException exception = null;
    OmMultipartKeyInfo multipartKeyInfo = null;
    OmKeyInfo omKeyInfo = null;
    Result result = null;
    long objectID = ozoneManager.getObjectIdFromTxId(transactionLogIndex);
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequest.java`
#### Snippet
```java
    OmMultipartKeyInfo multipartKeyInfo = null;
    OmKeyInfo omKeyInfo = null;
    Result result = null;
    long objectID = ozoneManager.getObjectIdFromTxId(transactionLogIndex);

```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyDeleteRequest.java`
#### Snippet
```java
    boolean acquiredLock = false;
    OMClientResponse omClientResponse = null;
    Result result = null;
    OmBucketInfo omBucketInfo =
        OmBucketInfo.newBuilder().setVolumeName(volumeName)
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `OmBucketInfo.newBuilder().setVolumeName(volumeName) .setBucketName(bucketName).setCreati...` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyDeleteRequest.java`
#### Snippet
```java
    Result result = null;
    OmBucketInfo omBucketInfo =
        OmBucketInfo.newBuilder().setVolumeName(volumeName)
            .setBucketName(bucketName).setCreationTime(Time.now())
            .setBucketLayout(bucketLayout).build();
    try {
      keyArgs = resolveBucketLink(ozoneManager, keyArgs, auditMap);
```

### RuleId[ruleID=UnusedAssignment]
Variable `openKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequest.java`
#### Snippet
```java
    OMClientResponse omClientResponse = null;

    OmKeyInfo openKeyInfo = null;
    IOException exception = null;
    OmBucketInfo omBucketInfo = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequest.java`
#### Snippet
```java
    OmKeyInfo openKeyInfo = null;
    IOException exception = null;
    OmBucketInfo omBucketInfo = null;
    boolean acquiredLock = false;

```

### RuleId[ruleID=UnusedAssignment]
Variable `flushedEpochs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java

          setReadyBuffer();
          List<Long> flushedEpochs = null;
          try (BatchOperation batchOperation = omMetadataManager.getStore()
              .initBatchOperation()) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequestWithFSO.java`
#### Snippet
```java
    IOException exception = null;
    OmKeyInfo omKeyInfo = null;
    OmBucketInfo omBucketInfo = null;
    OMClientResponse omClientResponse = null;
    boolean bucketLockAcquired = false;
```

### RuleId[ruleID=UnusedAssignment]
Variable `dbOpenFileKey` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequestWithFSO.java`
#### Snippet
```java

      Iterator<Path> pathComponents = Paths.get(keyName).iterator();
      String dbOpenFileKey = null;

      List<OmKeyLocationInfo> locationInfoList = new ArrayList<>();
```

### RuleId[ruleID=UnusedAssignment]
Variable `omClientResponse` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyPurgeRequest.java`
#### Snippet
```java
    OMResponse.Builder omResponse = OmResponseUtil.getOMResponseBuilder(
        getOmRequest());
    OMClientResponse omClientResponse = null;


```

### RuleId[ruleID=UnusedAssignment]
Variable `exception` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMOpenKeysDeleteRequest.java`
#### Snippet
```java
            OmResponseUtil.getOMResponseBuilder(getOmRequest());

    IOException exception = null;
    OMClientResponse omClientResponse = null;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMOpenKeysDeleteRequest.java`
#### Snippet
```java
    IOException exception = null;
    OMClientResponse omClientResponse = null;
    Result result = null;
    Map<String, OmKeyInfo> deletedOpenKeys = new HashMap<>();

```

### RuleId[ruleID=UnusedAssignment]
Variable `fromKeyValue` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequest.java`
#### Snippet
```java
    OMClientResponse omClientResponse = null;
    IOException exception = null;
    OmKeyInfo fromKeyValue = null;
    String toKey = null, fromKey = null;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `toKey` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequest.java`
#### Snippet
```java
    IOException exception = null;
    OmKeyInfo fromKeyValue = null;
    String toKey = null, fromKey = null;
    Result result = null;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `fromKey` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequest.java`
#### Snippet
```java
    IOException exception = null;
    OmKeyInfo fromKeyValue = null;
    String toKey = null, fromKey = null;
    Result result = null;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequest.java`
#### Snippet
```java
    OmKeyInfo fromKeyValue = null;
    String toKey = null, fromKey = null;
    Result result = null;
    try {
      if (toKeyName.length() == 0 || fromKeyName.length() == 0) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `multipartKey` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
    String keyName = keyArgs.getKeyName();
    String uploadID = keyArgs.getMultipartUploadID();
    String multipartKey = null;

    ozoneManager.getMetrics().incNumCompleteMultipartUploads();
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
    OMClientResponse omClientResponse = null;
    IOException exception = null;
    Result result = null;
    try {
      keyArgs = resolveBucketLink(ozoneManager, keyArgs, auditMap);
```

### RuleId[ruleID=UnusedAssignment]
Variable `currentPartKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
      }

      OmKeyInfo currentPartKeyInfo = null;
      try {
        currentPartKeyInfo =
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyDeleteRequestWithFSO.java`
#### Snippet
```java
    boolean acquiredLock = false;
    OMClientResponse omClientResponse = null;
    Result result = null;
    OmBucketInfo omBucketInfo = null;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyDeleteRequestWithFSO.java`
#### Snippet
```java
    OMClientResponse omClientResponse = null;
    Result result = null;
    OmBucketInfo omBucketInfo = null;
    try {
      keyArgs = resolveBucketLink(ozoneManager, keyArgs, auditMap);
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequestWithFSO.java`
#### Snippet
```java

    OMMetadataManager omMetadataManager = ozoneManager.getMetadataManager();
    OmBucketInfo omBucketInfo = null;
    final List<OmKeyLocationInfo> locations = new ArrayList<>();

```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java
    OMMetadataManager omMetadataManager = ozoneManager.getMetadataManager();
    OzoneLockStrategy ozoneLockStrategy = getOzoneLockStrategy(ozoneManager);
    OmKeyInfo omKeyInfo = null;
    OmBucketInfo omBucketInfo = null;
    final List< OmKeyLocationInfo > locations = new ArrayList<>();
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java
    OzoneLockStrategy ozoneLockStrategy = getOzoneLockStrategy(ozoneManager);
    OmKeyInfo omKeyInfo = null;
    OmBucketInfo omBucketInfo = null;
    final List< OmKeyLocationInfo > locations = new ArrayList<>();

```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java
        getOmRequest());
    IOException exception = null;
    Result result = null;
    List<OmKeyInfo> missingParentInfos = null;
    int numMissingParents = 0;
```

### RuleId[ruleID=UnusedAssignment]
Variable `newCreateKeyRequest` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java
    //  this. We do not call allocateBlock in openKey for multipart upload.

    CreateKeyRequest.Builder newCreateKeyRequest = null;
    KeyArgs.Builder newKeyArgs = null;
    if (!keyArgs.getIsMultipartKey()) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `newKeyArgs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java

    CreateKeyRequest.Builder newCreateKeyRequest = null;
    KeyArgs.Builder newKeyArgs = null;
    if (!keyArgs.getIsMultipartKey()) {

```

### RuleId[ruleID=UnusedAssignment]
Variable `openKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequestWithFSO.java`
#### Snippet
```java
    OMClientResponse omClientResponse = null;

    OmKeyInfo openKeyInfo = null;
    IOException exception = null;
    OmBucketInfo omBucketInfo = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequestWithFSO.java`
#### Snippet
```java
    OmKeyInfo openKeyInfo = null;
    IOException exception = null;
    OmBucketInfo omBucketInfo = null;
    boolean acquiredLock = false;

```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequest.java`
#### Snippet
```java
      long trxnLogIndex, OzoneManagerDoubleBufferHelper omDoubleBufferHelper) {

    OmKeyInfo omKeyInfo = null;

    OMResponse.Builder omResponse = onInit();
```

### RuleId[ruleID=UnusedAssignment]
Variable `key` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequest.java`
#### Snippet
```java
    String volume = null;
    String bucket = null;
    String key = null;
    boolean operationResult = false;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequest.java`
#### Snippet
```java
    String key = null;
    boolean operationResult = false;
    Result result = null;
    try {
      ObjectParser objectParser = new ObjectParser(getPath(),
```

### RuleId[ruleID=UnusedAssignment]
Variable `bucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
    // reading DB in pre-execute.

    OmBucketInfo bucketInfo = null;
    if (ozoneManager.getKmsProvider() != null) {
      try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `acquireLock` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
    String bucketName = keyArgs.getBucketName();

    boolean acquireLock = false;
    OMMetadataManager omMetadataManager = ozoneManager.getMetadataManager();

```

### RuleId[ruleID=UnusedAssignment]
Variable `multipartKey` initializer `""` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
    String uploadID = args.getMultipartUploadID();
    Preconditions.checkNotNull(uploadID);
    String multipartKey = "";
    if (omPathInfo != null) {
      final long volumeId = omMetadataManager.getVolumeId(
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java`
#### Snippet
```java
    IOException exception = null;
    OmKeyInfo omKeyInfo = null;
    OmBucketInfo omBucketInfo = null;
    OMClientResponse omClientResponse = null;
    boolean bucketLockAcquired = false;
```

### RuleId[ruleID=UnusedAssignment]
Variable `fromKeyValue` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
    OMMetadataManager omMetadataManager = ozoneManager.getMetadataManager();
    IOException exception = null;
    OmKeyInfo fromKeyValue = null;
    Result result = null;
    Map<String, String> auditMap = new LinkedHashMap<>();
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
    IOException exception = null;
    OmKeyInfo fromKeyValue = null;
    Result result = null;
    Map<String, String> auditMap = new LinkedHashMap<>();
    String fromKeyName = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `fromKeyName` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
    Result result = null;
    Map<String, String> auditMap = new LinkedHashMap<>();
    String fromKeyName = null;
    String toKeyName = null;
    boolean acquiredLock = false;
```

### RuleId[ruleID=UnusedAssignment]
Variable `toKeyName` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
    Map<String, String> auditMap = new LinkedHashMap<>();
    String fromKeyName = null;
    String toKeyName = null;
    boolean acquiredLock = false;
    boolean renameStatus = true;
```

### RuleId[ruleID=UnusedAssignment]
Variable `changed` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    String bucket = obj.getBucketName();
    String keyName = obj.getKeyName();
    boolean changed = false;

    metadataManager.getLock().acquireWriteLock(BUCKET_LOCK, volume, bucket);
```

### RuleId[ruleID=UnusedAssignment]
Variable `buckInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      String buckKey =
          ozoneManager.getMetadataManager().getBucketKey(volume, bucket);
      OmBucketInfo buckInfo = null;
      try {
        buckInfo =
```

### RuleId[ruleID=UnusedAssignment]
Variable `isTruncated` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    Preconditions.checkNotNull(keyName);
    Preconditions.checkNotNull(uploadID);
    boolean isTruncated = false;
    int nextPartNumberMarker = 0;
    BucketLayout bucketLayout = BucketLayout.DEFAULT;
```

### RuleId[ruleID=UnusedAssignment]
Variable `value` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
            bucketLayout);

    OmKeyInfo value = null;
    try {
      if (bucketLayout.isFileSystemOptimized()) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `changed` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    String bucket = obj.getBucketName();
    String keyName = obj.getKeyName();
    boolean changed = false;

    metadataManager.getLock().acquireWriteLock(BUCKET_LOCK, volume, bucket);
```

### RuleId[ruleID=UnusedAssignment]
Variable `fileStatus` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    final String bucketName = args.getBucketName();
    final String keyName = args.getKeyName();
    OzoneFileStatus fileStatus = null;
    metadataManager.getLock().acquireReadLock(BUCKET_LOCK, volumeName,
            bucketName);
```

### RuleId[ruleID=UnusedAssignment]
Variable `changed` initializer `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    String bucket = obj.getBucketName();
    String keyName = obj.getKeyName();
    boolean changed = false;


```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequestWithFSO.java`
#### Snippet
```java
  public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,
      long trxnLogIndex, OzoneManagerDoubleBufferHelper omDoubleBufferHelper) {
    OmKeyInfo omKeyInfo = null;

    OzoneManagerProtocolProtos.OMResponse.Builder omResponse = onInit();
```

### RuleId[ruleID=UnusedAssignment]
Variable `key` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequestWithFSO.java`
#### Snippet
```java
    String volume = null;
    String bucket = null;
    String key = null;
    boolean operationResult = false;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequestWithFSO.java`
#### Snippet
```java
    String key = null;
    boolean operationResult = false;
    Result result = null;
    try {
      ObjectParser objectParser = new ObjectParser(getPath(),
```

### RuleId[ruleID=UnusedAssignment]
Variable `omPrefixInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
      long trxnLogIndex, OzoneManagerDoubleBufferHelper omDoubleBufferHelper) {

    OmPrefixInfo omPrefixInfo = null;

    OMResponse.Builder omResponse = onInit();
```

### RuleId[ruleID=UnusedAssignment]
Variable `volume` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
    OMMetadataManager omMetadataManager = ozoneManager.getMetadataManager();
    boolean lockAcquired = false;
    String volume = null;
    String bucket = null;
    String key = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `bucket` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
    boolean lockAcquired = false;
    String volume = null;
    String bucket = null;
    String key = null;
    OMPrefixAclOpResult operationResult = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `key` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
    String volume = null;
    String bucket = null;
    String key = null;
    OMPrefixAclOpResult operationResult = null;
    boolean opResult = false;
```

### RuleId[ruleID=UnusedAssignment]
Variable `operationResult` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
    String bucket = null;
    String key = null;
    OMPrefixAclOpResult operationResult = null;
    boolean opResult = false;
    Result result = null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
    OMPrefixAclOpResult operationResult = null;
    boolean opResult = false;
    Result result = null;

    PrefixManagerImpl prefixManager =
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
    IOException exception = null;
    OMClientResponse omClientResponse = null;
    Result result = null;

    OMMetrics omMetrics = ozoneManager.getMetrics();
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequestWithFSO.java`
#### Snippet
```java
    boolean acquiredLock = false;

    OmBucketInfo omBucketInfo = null;
    final List<OmKeyLocationInfo> locations = new ArrayList<>();
    List<OmDirectoryInfo> missingParentInfos;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequestWithFSO.java`
#### Snippet
```java
        getOmRequest());
    IOException exception = null;
    Result result = null;
    try {
      keyArgs = resolveBucketLink(ozoneManager, keyArgs, auditMap);
```

### RuleId[ruleID=UnusedAssignment]
Variable `dirKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMDirectoryCreateRequest.java`
#### Snippet
```java
          omPathInfo.getDirectoryResult();

      OmKeyInfo dirKeyInfo = null;
      if (omDirectoryResult == FILE_EXISTS ||
          omDirectoryResult == FILE_EXISTS_IN_GIVENPATH) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java`
#### Snippet
```java
    boolean acquiredLock = false;

    OmKeyInfo omKeyInfo = null;
    OmBucketInfo omBucketInfo = null;
    final List<OmKeyLocationInfo> locations = new ArrayList<>();
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java`
#### Snippet
```java

    OmKeyInfo omKeyInfo = null;
    OmBucketInfo omBucketInfo = null;
    final List<OmKeyLocationInfo> locations = new ArrayList<>();
    List<OmKeyInfo> missingParentInfos;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java`
#### Snippet
```java
        getOmRequest());
    IOException exception = null;
    Result result = null;
    try {
      keyArgs = resolveBucketLink(ozoneManager, keyArgs, auditMap);
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketSetPropertyRequest.java`
#### Snippet
```java
    OMResponse.Builder omResponse = OmResponseUtil.getOMResponseBuilder(
        getOmRequest());
    OmBucketInfo omBucketInfo = null;

    AuditLogger auditLogger = ozoneManager.getAuditLogger();
```

### RuleId[ruleID=UnusedAssignment]
Variable `totalBucketQuota` initializer `0` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketCreateRequest.java`
#### Snippet
```java
    long volumeQuotaInBytes = omVolumeArgs.getQuotaInBytes();

    long totalBucketQuota = 0;
    if (quotaInBytes > 0) {
      totalBucketQuota = quotaInBytes;
```

### RuleId[ruleID=UnusedAssignment]
Variable `bekb` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketCreateRequest.java`
#### Snippet
```java
      throws IOException {
    BucketEncryptionInfoProto bek = bucketInfo.getBeinfo();
    BucketEncryptionInfoProto.Builder bekb = null;
    if (kmsProvider == null) {
      throw new OMException("Invalid KMS provider, check configuration " +
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketCreateRequest.java`
#### Snippet
```java
    OMResponse.Builder omResponse = OmResponseUtil.getOMResponseBuilder(
        getOmRequest());
    OmBucketInfo omBucketInfo = null;

    // bucketInfo.hasBucketLayout() would be true when user sets bucket layout.
```

### RuleId[ruleID=UnusedAssignment]
Variable `omVolumeArgs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/OMVolumeSetOwnerRequest.java`
#### Snippet
```java
      OzoneManagerStorageProtos.PersistedUserVolumeInfo oldOwnerVolumeList;
      OzoneManagerStorageProtos.PersistedUserVolumeInfo newOwnerVolumeList;
      OmVolumeArgs omVolumeArgs = null;

      acquiredVolumeLock = omMetadataManager.getLock().acquireWriteLock(
```

### RuleId[ruleID=UnusedAssignment]
Variable `omVolumeArgs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/OMVolumeCreateRequest.java`
#### Snippet
```java
    IOException exception = null;
    OMClientResponse omClientResponse = null;
    OmVolumeArgs omVolumeArgs = null;
    Map<String, String> auditMap = null;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `volumeList` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/OMVolumeCreateRequest.java`
#### Snippet
```java
      String dbVolumeKey = omMetadataManager.getVolumeKey(volume);

      PersistedUserVolumeInfo volumeList = null;
      if (omMetadataManager.getVolumeTable().isExist(dbVolumeKey)) {
        LOG.debug("volume:{} already exists", omVolumeArgs.getVolume());
```

### RuleId[ruleID=UnusedAssignment]
Variable `omBucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/acl/OMBucketAclRequest.java`
#### Snippet
```java
    OMMetrics omMetrics = ozoneManager.getMetrics();
    omMetrics.incNumBucketUpdates();
    OmBucketInfo omBucketInfo = null;

    OMResponse.Builder omResponse = onInit();
```

### RuleId[ruleID=UnusedAssignment]
Variable `response` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/upgrade/OMCancelPrepareRequest.java`
#### Snippet
```java
        OmResponseUtil.getOMResponseBuilder(omRequest);
    responseBuilder.setCmdType(Type.CancelPrepare);
    OMClientResponse response = null;

    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `omVolumeArgs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/acl/OMVolumeAclRequest.java`
#### Snippet
```java
    OMMetrics omMetrics = ozoneManager.getMetrics();
    omMetrics.incNumVolumeUpdates();
    OmVolumeArgs omVolumeArgs = null;

    OMResponse.Builder omResponse = onInit();
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/acl/OMVolumeAclRequest.java`
#### Snippet
```java
    OMMetadataManager omMetadataManager = ozoneManager.getMetadataManager();
    boolean lockAcquired = false;
    Result result = null;
    try {
      // check Acl
```

### RuleId[ruleID=UnusedAssignment]
Variable `response` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/upgrade/OMPrepareRequest.java`
#### Snippet
```java
        OmResponseUtil.getOMResponseBuilder(omRequest);
    responseBuilder.setCmdType(Type.Prepare);
    OMClientResponse response = null;

    // Allow double buffer this many seconds to flush all transactions before
```

### RuleId[ruleID=UnusedAssignment]
Variable `volumeName` initializer `""` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeysDeleteResponse.java`
#### Snippet
```java
  public void addToDBBatch(OMMetadataManager omMetadataManager,
                           BatchOperation batchOperation) throws IOException {
    String volumeName = "";
    String bucketName = "";
    String keyName = "";
```

### RuleId[ruleID=UnusedAssignment]
Variable `bucketName` initializer `""` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeysDeleteResponse.java`
#### Snippet
```java
                           BatchOperation batchOperation) throws IOException {
    String volumeName = "";
    String bucketName = "";
    String keyName = "";
    Table<String, OmKeyInfo> keyTable =
```

### RuleId[ruleID=UnusedAssignment]
Variable `keyName` initializer `""` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OMKeysDeleteResponse.java`
#### Snippet
```java
    String volumeName = "";
    String bucketName = "";
    String keyName = "";
    Table<String, OmKeyInfo> keyTable =
        omMetadataManager.getKeyTable(getBucketLayout());
```

### RuleId[ruleID=UnusedAssignment]
Variable `layoutVersionToWrite` initializer `-1` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/upgrade/OMFinalizeUpgradeResponse.java`
#### Snippet
```java
  private static final Logger LOG =
      LoggerFactory.getLogger(OMFinalizeUpgradeResponse.class);
  private int layoutVersionToWrite = -1;
  public OMFinalizeUpgradeResponse(
      OzoneManagerProtocolProtos.OMResponse omResponse,
```

### RuleId[ruleID=UnusedAssignment]
Variable `renewTime` initializer `-1L` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/security/OMGetDelegationTokenResponse.java`
#### Snippet
```java
public class OMGetDelegationTokenResponse extends OMClientResponse {
  private OzoneTokenIdentifier ozoneTokenIdentifier;
  private long renewTime = -1L;

  public OMGetDelegationTokenResponse(
```

### RuleId[ruleID=UnusedAssignment]
Variable `renewTime` initializer `-1L` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/security/OMRenewDelegationTokenResponse.java`
#### Snippet
```java
public class OMRenewDelegationTokenResponse extends OMClientResponse {
  private OzoneTokenIdentifier ozoneTokenIdentifier;
  private long renewTime = -1L;

  public OMRenewDelegationTokenResponse(
```

### RuleId[ruleID=UnusedAssignment]
Variable `omClientResponse` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java`
#### Snippet
```java
  private OMResponse submitRequestDirectlyToOM(OMRequest request) throws
      ServiceException {
    OMClientResponse omClientResponse = null;
    long index = 0L;
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `index` initializer `0L` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java`
#### Snippet
```java
      ServiceException {
    OMClientResponse omClientResponse = null;
    long index = 0L;
    try {
      if (OmUtils.isReadOnly(request)) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `signerCert` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java
  public boolean verifySignature(OzoneTokenIdentifier identifier,
      byte[] password) {
    X509Certificate signerCert = null;
    try {
      signerCert = getCertClient().getCertificate(
```

### RuleId[ruleID=UnusedAssignment]
Variable `storageContainerLocationProtocol` initializer `null` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconControllerModule.java`
#### Snippet
```java
  StorageContainerLocationProtocol getSCMProtocol(
      final OzoneConfiguration configuration) {
    StorageContainerLocationProtocol storageContainerLocationProtocol = null;
    storageContainerLocationProtocol = newContainerRpcClient(configuration);
    return storageContainerLocationProtocol;
```

### RuleId[ruleID=UnusedAssignment]
Variable `omClientRequest` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
  public OMClientResponse handleWriteRequest(OMRequest omRequest,
      long transactionLogIndex) throws IOException {
    OMClientRequest omClientRequest = null;
    OMClientResponse omClientResponse = null;
    omClientRequest =
```

### RuleId[ruleID=UnusedAssignment]
Variable `omClientResponse` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      long transactionLogIndex) throws IOException {
    OMClientRequest omClientRequest = null;
    OMClientResponse omClientResponse = null;
    omClientRequest =
        OzoneManagerRatisUtils.createClientRequest(omRequest, impl);
```

### RuleId[ruleID=UnusedAssignment]
Variable `replicaDeltaCount` initializer `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainerMetadata.java`
#### Snippet
```java

  @XmlElement(name = "replicaDeltaCount")
  private long replicaDeltaCount = 0;

  @XmlElement(name = "reason")
```

### RuleId[ruleID=UnusedAssignment]
Variable `actualReplicaCount` initializer `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainerMetadata.java`
#### Snippet
```java

  @XmlElement(name = "actualReplicaCount")
  private long actualReplicaCount = 0;

  @XmlElement(name = "replicaDeltaCount")
```

### RuleId[ruleID=UnusedAssignment]
Variable `expectedReplicaCount` initializer `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainerMetadata.java`
#### Snippet
```java

  @XmlElement(name = "expectedReplicaCount")
  private long expectedReplicaCount = 0;

  @XmlElement(name = "actualReplicaCount")
```

### RuleId[ruleID=UnusedAssignment]
Variable `kmsProvider` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      new ConcurrentHashMap<>();

  private KeyProviderCryptoExtension kmsProvider = null;
  private static String keyProviderUriKeyName =
      CommonConfigurationKeysPublic.HADOOP_SECURITY_KEY_PROVIDER_PATH;
```

### RuleId[ruleID=UnusedAssignment]
Variable `bucketInfo` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
            BUCKET_LOCK, volume, bucket);
    String dbBucketKey = metadataManager.getBucketKey(volume, bucket);
    OmBucketInfo bucketInfo = null;
    try {
      bucketInfo = metadataManager.getBucketTable().get(dbBucketKey);
```

### RuleId[ruleID=UnusedAssignment]
Variable `volumeArgs` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        VOLUME_LOCK, volume);
    String dbVolumeKey = metadataManager.getVolumeKey(volume);
    OmVolumeArgs volumeArgs = null;
    try {
      volumeArgs = metadataManager.getVolumeTable().get(dbVolumeKey);
```

### RuleId[ruleID=UnusedAssignment]
Variable `serviceList` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  @Override
  public String getRatisRoles() {
    List<ServiceInfo> serviceList = null;
    int port = omNodeDetails.getRatisPort();
    RaftPeer leaderId;
```

### RuleId[ruleID=UnusedAssignment]
Variable `scmId` initializer `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    OMStorage omStorage = new OMStorage(conf);
    StorageState state = omStorage.getState();
    String scmId = null;
    try {
      ScmInfo scmInfo = getScmInfo(conf);
```

### RuleId[ruleID=UnusedAssignment]
Variable `dirObjectId` initializer `getBucketObjectId(names)` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/LegacyBucketHandler.java`
#### Snippet
```java
  @Override
  public long getDirObjectId(String[] names, int cutoff) throws IOException {
    long dirObjectId = getBucketObjectId(names);
    StringBuilder bld = new StringBuilder();
    for (int i = 0; i < cutoff; ++i) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `omSnapshotDBParentDir` initializer `null` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java`
#### Snippet
```java
  private URLConnectionFactory connectionFactory;

  private File omSnapshotDBParentDir = null;
  private String omDBSnapshotUrl;

```

### RuleId[ruleID=UnusedAssignment]
Variable `returnValue` initializer `false` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
    public static boolean retainOrUpdateRecord(
        ContainerHealthStatus container, UnhealthyContainersRecord rec) {
      boolean returnValue = false;
      switch (UnHealthyContainerStates.valueOf(rec.getContainerState())) {
      case MISSING:
```

### RuleId[ruleID=UnusedAssignment]
Variable `volPrefix` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/ObjectStore.java`
#### Snippet
```java

    private String user = null;
    private String volPrefix = null;

    private Iterator<OzoneVolume> currentIterator;
```

### RuleId[ruleID=UnusedAssignment]
Variable `user` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/ObjectStore.java`
#### Snippet
```java
  private class VolumeIterator implements Iterator<OzoneVolume> {

    private String user = null;
    private String volPrefix = null;

```

### RuleId[ruleID=UnusedAssignment]
Variable `bucketLayout` initializer `BucketLayout.DEFAULT` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/BucketArgs.java`
#### Snippet
```java
   * Bucket Layout.
   */
  private BucketLayout bucketLayout = BucketLayout.DEFAULT;

  /**
```

### RuleId[ruleID=UnusedAssignment]
Variable `responseFuture` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockOutputStreamEntry.java`
#### Snippet
```java
      }
      CompletableFuture<ContainerProtos.ContainerCommandResponseProto>
          responseFuture = null;
      if (forPutBlock) {
        responseFuture = stream.getCurrentPutBlkResponseFuture();
```

### RuleId[ruleID=UnusedAssignment]
The value `Math.min(value.getLeaderCommit(), maxIndex)` assigned to `maxCommitted` is never used
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/freon/FakeRatisFollower.java`
#### Snippet
```java
                .setRaftGroupId(value.getServerRequest().getRaftGroupId()))
            .build();
        maxCommitted = Math.min(value.getLeaderCommit(), maxIndex);
        addLatency();
        responseHandler.onNext(response);
```

### RuleId[ruleID=UnusedAssignment]
Variable `finalizeUpgrade` initializer `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/FinalizeNewLayoutVersionCommand.java`
#### Snippet
```java
    extends SCMCommand<FinalizeNewLayoutVersionCommandProto> {

  private boolean finalizeUpgrade = false;
  private LayoutVersionProto layoutInfo;

```

### RuleId[ruleID=UnusedAssignment]
Variable `blocksDeletionAck` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteBlockCommandStatus.java`
#### Snippet
```java
public class DeleteBlockCommandStatus extends CommandStatus {

  private ContainerBlocksDeletionACKProto blocksDeletionAck = null;

  public DeleteBlockCommandStatus(Type type, Long cmdId,
```

### RuleId[ruleID=UnusedAssignment]
Variable `base` initializer `10` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java
          value = value.substring(1);
        }
        int base = 10;
        if ("0".equals(value)) {
          return Long.valueOf(0);
```

### RuleId[ruleID=UnusedAssignment]
Variable `addresses` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/datanode/InitDatanodeState.java`
#### Snippet
```java
  @Override
  public DatanodeStateMachine.DatanodeStates call() throws Exception {
    Collection<InetSocketAddress> addresses = null;
    try {
      addresses = getSCMAddressForDatanodes(conf);
```

### RuleId[ruleID=UnusedAssignment]
Variable `responseProto` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java`
#### Snippet
```java

    ContainerType containerType;
    ContainerCommandResponseProto responseProto = null;
    long startTime = Time.monotonicNow();
    Type cmdType = msg.getCmdType();
```

### RuleId[ruleID=UnusedAssignment]
The value `bcsID` assigned to `v` is never used
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java`
#### Snippet
```java
      // updates the latest BCSID on every putBlock or putSmallFile
      // transaction over Ratis.
      container2BCSIDMap.computeIfPresent(containerId, (u, v) -> v = bcsID);
    }
  }
```

### RuleId[ruleID=UnusedAssignment]
Variable `bucketPrefix` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneVolume.java`
#### Snippet
```java
  private class BucketIterator implements Iterator<OzoneBucket> {

    private String bucketPrefix = null;

    private Iterator<OzoneBucket> currentIterator;
```

### RuleId[ruleID=UnusedAssignment]
Variable `registry` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerMetrics.java`
#### Snippet
```java
  private MutableRate[] opsLatency;
  private MutableQuantiles[][] opsLatQuantiles;
  private MetricsRegistry registry = null;

  public ContainerMetrics(int[] intervals) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `unsafe` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java

    static {
      sun.misc.Unsafe unsafe = null;
      try {
        unsafe = sun.misc.Unsafe.getUnsafe();
```

### RuleId[ruleID=UnusedAssignment]
The value `null` assigned to `future` is never used
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
      // push the current set of listeners onto next
      next = future.clearListeners(next);
      future = null;
      while (next != null) {
        Listener curr = next;
```

### RuleId[ruleID=UnusedAssignment]
Variable `registry` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableRate transactionLatency;
  private MutableRate[] opsLatency;
  private MetricsRegistry registry = null;

  // Failure Metrics
```

### RuleId[ruleID=UnusedAssignment]
Variable `setNodeCmdProto` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/SetNodeOperationalStateCommandHandler.java`
#### Snippet
```java
    invocationCount.incrementAndGet();
    StorageContainerDatanodeProtocolProtos.SetNodeOperationalStateCommandProto
        setNodeCmdProto = null;

    if (command.getType() != Type.setNodeOperationalStateCommand) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `now` initializer `0` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
   */
  private void startStateMachineThread() throws IOException {
    long now = 0;

    reportManager.init();
```

### RuleId[ruleID=UnusedAssignment]
Variable `decrypted` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    // check crypto protocol version
    OzoneKMSUtil.checkCryptoProtocolVersion(feInfo);
    KeyProvider.KeyVersion decrypted = null;
    try {

```

### RuleId[ruleID=UnusedAssignment]
Variable `caCertPem` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
        }
      }
      String caCertPem = null;
      List<String> caCertPems = null;
      caCertPem = serviceInfoEx.getCaCertificate();
```

### RuleId[ruleID=UnusedAssignment]
Variable `caCertPems` initializer `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
      }
      String caCertPem = null;
      List<String> caCertPems = null;
      caCertPem = serviceInfoEx.getCaCertificate();
      caCertPems = serviceInfoEx.getCaCertPemList();
```

### RuleId[ruleID=UnusedAssignment]
Variable `reply` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
  public void submitRequest(ContainerCommandRequestProto request,
      HddsProtos.PipelineID pipelineID) throws IOException {
    RaftClientReply reply = null;
    Span span = TracingUtil
        .importAndCreateSpan(
```

### RuleId[ruleID=UnusedAssignment]
Variable `kvData` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerMetadataInspector.java`
#### Snippet
```java
    }

    KeyValueContainerData kvData = null;
    if (containerData instanceof KeyValueContainerData) {
      kvData = (KeyValueContainerData) containerData;
```

### RuleId[ruleID=UnusedAssignment]
Variable `result` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/BlockManagerImpl.java`
#### Snippet
```java
    container.readLock();
    try {
      List<BlockData> result = null;
      KeyValueContainerData cData =
          (KeyValueContainerData) container.getContainerData();
```

### RuleId[ruleID=UnusedAssignment]
Variable `channel` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/FilePerBlockStrategy.java`
#### Snippet
```java
    HddsVolume volume = containerData.getVolume();

    FileChannel channel = null;
    try {
      channel = files.getChannel(chunkFile, doSyncWrite);
```

### RuleId[ruleID=UnusedAssignment]
Variable `layoutInfo` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocolPB/StorageContainerDatanodeProtocolServerSideTranslatorPB.java`
#### Snippet
```java
    NodeReportProto dnNodeReport = request.getNodeReport();
    PipelineReportsProto pipelineReport = request.getPipelineReports();
    LayoutVersionProto layoutInfo = null;
    if (request.hasDataNodeLayoutVersion()) {
      layoutInfo = request.getDataNodeLayoutVersion();
```

### RuleId[ruleID=UnusedAssignment]
Variable `containers` initializer `Lists.newArrayList()` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java`
#### Snippet
```java
  public BackgroundTaskQueue getTasks() {
    BackgroundTaskQueue queue = new BackgroundTaskQueue();
    List<ContainerBlockInfo> containers = Lists.newArrayList();
    try {
      // We at most list a number of containers a time,
```

### RuleId[ruleID=UnusedAssignment]
Variable `containerBlockInfos` initializer `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/statemachine/background/BlockDeletingService.java`
#### Snippet
```java
          containerDeletionPolicy);

      BlockDeletingTask containerBlockInfos = null;
      long totalBlocks = 0;
      for (ContainerBlockInfo containerBlockInfo : containers) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `fromKeyAndToKeyInfo` initializer `new HashMap<>()` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmRenameKeys.java`
#### Snippet
```java
  private String bucket;
  private Map<String, String> fromAndToKey = new HashMap<>();
  private Map<String, OmKeyInfo> fromKeyAndToKeyInfo = new HashMap<>();

  public OmRenameKeys(String volume, String bucket,
```

### RuleId[ruleID=UnusedAssignment]
Variable `fromAndToKey` initializer `new HashMap<>()` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmRenameKeys.java`
#### Snippet
```java
  private String volume;
  private String bucket;
  private Map<String, String> fromAndToKey = new HashMap<>();
  private Map<String, OmKeyInfo> fromKeyAndToKeyInfo = new HashMap<>();

```

### RuleId[ruleID=UnusedAssignment]
Variable `dataList` initializer `new ArrayList<>()` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/DBUpdates.java`
#### Snippet
```java
public class DBUpdates {

  private List<byte[]> dataList = new ArrayList<>();

  private long currentSequenceNumber = -1;
```

### RuleId[ruleID=UnusedAssignment]
The value `Integer.MAX_VALUE` assigned to `this.rpcTimeOut` is never used
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/conf/OMClientConfig.java`
#### Snippet
```java
    // Rpc layer SocketTimeout parameter is int.
    if (rpcTimeOut > Integer.MAX_VALUE) {
      this.rpcTimeOut = Integer.MAX_VALUE;
    }
    this.rpcTimeOut = timeOut;
```

### RuleId[ruleID=UnusedAssignment]
Variable `maxKey` initializer `0` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/web/utils/OzoneUtils.java`
#### Snippet
```java
  public static void verifyMaxKeyLength(String length)
      throws IllegalArgumentException {
    int maxKey = 0;
    try {
      maxKey = Integer.parseInt(length);
```

### RuleId[ruleID=UnusedAssignment]
Variable `action` initializer `null` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
  private boolean shouldRetry(Exception ex, int expectedFailoverCount) {
    boolean retry = false;
    RetryPolicy.RetryAction action = null;
    try {
      action = retryPolicy.shouldRetry((Exception)ex, 0, failoverCount++, true);
```

### RuleId[ruleID=UnusedAssignment]
Variable `grpcException` initializer `null` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java

  private Exception unwrapException(Exception ex) {
    Exception grpcException = null;
    try {
      StatusRuntimeException srexp =
```

### RuleId[ruleID=UnusedAssignment]
Variable `remote` initializer `null` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
        cn.setAccessible(true);
        grpcException = cn.newInstance(status.getDescription());
        IOException remote = null;
        try {
          String cause = status.getDescription();
```

### RuleId[ruleID=UnusedAssignment]
Variable `expectedFailoverCount` initializer `0` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
    OMResponse resp = null;
    boolean tryOtherHost = true;
    int expectedFailoverCount = 0;
    ResultCodes resultCode = ResultCodes.INTERNAL_ERROR;
    while (tryOtherHost) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `failoverCount` initializer `0` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
  private List<String> oms;
  private RetryPolicy retryPolicy;
  private int failoverCount = 0;
  private GrpcOMFailoverProxyProvider<OzoneManagerProtocolPB>
      omFailoverProxyProvider;
```

### RuleId[ruleID=UnusedAssignment]
Variable `defaultReplicationConfigObj` initializer `null` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
    final ReplicationType type =
        ReplicationType.fromProto(defaultReplicationConfig.getType());
    DefaultReplicationConfig defaultReplicationConfigObj = null;
    switch (type) {
    case EC:
```

### RuleId[ruleID=UnusedAssignment]
Variable `tempchunks` initializer `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ChunkKeyHandler.java`
#### Snippet
```java
    String bucketName = address.getBucketName();
    String keyName = address.getKeyName();
    List<ContainerProtos.ChunkInfo> tempchunks = null;
    List<ChunkDetails> chunkDetailsList = new ArrayList<ChunkDetails>();
    HashSet<String> chunkPaths = new HashSet<>();
```

### RuleId[ruleID=UnusedAssignment]
Variable `omKeyLocationInfoGroups` initializer `new ArrayList<>()` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
    private long dataSize;
    private List<OmKeyLocationInfoGroup> omKeyLocationInfoGroups =
        new ArrayList<>();
    private long creationTime;
    private long modificationTime;
```

### RuleId[ruleID=UnusedAssignment]
Variable `volumeName` initializer `""` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
  private URI ozoneURI;

  private String volumeName = "";

  private String bucketName = "";
```

### RuleId[ruleID=UnusedAssignment]
Variable `benchmark` initializer `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java

  private ThroughputBenchmark createBenchmark() {
    ThroughputBenchmark benchmark = null;
    BenchmarkType type = BenchmarkType.valueOf(benchmarkType);
    switch (type) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `realReadLen` initializer `0` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
    int currentLen = len;
    int totalReadBytes = 0;
    int realReadLen = 0;
    int maxReadLen = 0;
    do {
```

### RuleId[ruleID=UnusedAssignment]
Variable `maxReadLen` initializer `0` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
    int totalReadBytes = 0;
    int realReadLen = 0;
    int maxReadLen = 0;
    do {
      if (remainingData > 0) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `ozoneClient` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java`
#### Snippet
```java
  private OzoneClient getClient(OzoneConfiguration config)
      throws IOException {
    OzoneClient ozoneClient = null;
    try {
      ozoneClient =
```

### RuleId[ruleID=UnusedAssignment]
Variable `caCertPem` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientCache.java`
#### Snippet
```java

        if (OzoneSecurityUtil.isSecurityEnabled(conf)) {
          String caCertPem = null;
          List<String> caCertPems = null;
          caCertPem = serviceInfoEx.getCaCertificate();
```

### RuleId[ruleID=UnusedAssignment]
Variable `caCertPems` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientCache.java`
#### Snippet
```java
        if (OzoneSecurityUtil.isSecurityEnabled(conf)) {
          String caCertPem = null;
          List<String> caCertPems = null;
          caCertPem = serviceInfoEx.getCaCertificate();
          caCertPems = serviceInfoEx.getCaCertPemList();
```

### RuleId[ruleID=UnusedAssignment]
Variable `end` initializer `0` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/RangeHeaderParserUtil.java`
#### Snippet
```java
      length) {
    long start = 0;
    long end = 0;
    boolean noStart = false;
    boolean readFull = false;
```

### RuleId[ruleID=UnusedAssignment]
Variable `clientDeterminedReplConfig` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/S3Utils.java`
#### Snippet
```java
      ReplicationConfig bucketReplConfig)
      throws OS3Exception {
    ReplicationConfig clientDeterminedReplConfig = null;

    // Let's map the user provided s3 storage type header to ozone s3 storage
```

### RuleId[ruleID=UnusedAssignment]
Variable `signPayload` initializer `true` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/SignatureInfo.java`
#### Snippet
```java
  private String algorithm;

  private boolean signPayload = true;

  @SuppressWarnings("checkstyle:ParameterNumber")
```

### RuleId[ruleID=UnusedAssignment]
Variable `credentialObj` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4HeaderParser.java`
#### Snippet
```java
  private Credential parseCredentials(String credential)
      throws MalformedResourceException {
    Credential credentialObj = null;
    if (isNotEmpty(credential) && credential.startsWith(CREDENTIAL)) {
      credential = credential.substring(CREDENTIAL.length());
```

### RuleId[ruleID=UnusedAssignment]
Variable `credential` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4QueryParser.java`
#### Snippet
```java

    Credential credential =
        null;
    try {
      credential = new Credential(urlDecode(rawCredential));
```

### RuleId[ruleID=UnusedAssignment]
The value `Integer.MAX_VALUE` assigned to `this.rpcTimeOut` is never used
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMClientConfig.java`
#### Snippet
```java
    // Rpc layer SocketTimeout parameter is int.
    if (rpcTimeOut > Integer.MAX_VALUE) {
      this.rpcTimeOut = Integer.MAX_VALUE;
    }
    this.rpcTimeOut = timeOut;
```

### RuleId[ruleID=UnusedAssignment]
Variable `crl` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/CRLClientUpdateHandler.java`
#### Snippet
```java
        // background thread handle pending crl and update server

        CRLInfo crl = null;
        while ((crl = clientStore.getNextPendingCrl()) != null) {
          if (crl.shouldRevokeNow()) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `storageType` initializer `null` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
    OzoneOutputStream output = null;

    String copyHeader = null, storageType = null;
    try {
      OzoneVolume volume = getVolume();
```

### RuleId[ruleID=UnusedAssignment]
Variable `response` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/StorageContainerLocationProtocolClientSideTranslatorPB.java`
#### Snippet
```java
            .addAllContainerIDs(containerIDs)
            .build();
    ScmContainerLocationResponse response = null;
    List<ContainerWithPipeline> cps = new ArrayList<>();
    try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `appender` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpRequestLog.java`
#### Snippet
```java
      Log4JLogger httpLog4JLog = (Log4JLogger) logger;
      org.apache.log4j.Logger httpLogger = httpLog4JLog.getLogger();
      Appender appender = null;

      try {
```

### RuleId[ruleID=UnusedAssignment]
Variable `key` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java
  public static PublicKey getPublicKey(byte[] encodedKey,
      SecurityConfig secureConfig) {
    PublicKey key = null;
    if (encodedKey == null || encodedKey.length == 0) {
      return null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `kf` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java

    try {
      KeyFactory kf = null;
      kf = KeyFactory.getInstance(secureConfig.getKeyAlgo(),
          secureConfig.getProvider());
```

### RuleId[ruleID=UnusedAssignment]
Variable `pvtKey` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java
  public static PrivateKey getPrivateKey(byte[] encodedKey,
      SecurityConfig secureConfig) {
    PrivateKey pvtKey = null;
    if (encodedKey == null || encodedKey.length == 0) {
      return null;
```

### RuleId[ruleID=UnusedAssignment]
Variable `kf` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java

    try {
      KeyFactory kf = null;

      kf = KeyFactory.getInstance(secureConfig.getKeyAlgo(),
```

### RuleId[ruleID=UnusedAssignment]
Variable `resourceUrl` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
   */
  private String getWebAppsPath(String appName) throws FileNotFoundException {
    URL resourceUrl = null;
    File webResourceDevLocation = new File("src/main/webapps", appName);
    if (webResourceDevLocation.exists()) {
```

### RuleId[ruleID=UnusedAssignment]
Variable `ioException` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
  private void bindForPortRange(ServerConnector listener, int startPort)
      throws Exception {
    IOException ioException = null;
    try {
      bindListener(listener);
```

### RuleId[ruleID=UnusedAssignment]
Variable `keyPair` initializer `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
  protected KeyPair createKeyPair() throws CertificateException {
    HDDSKeyGenerator keyGenerator = new HDDSKeyGenerator(securityConfig);
    KeyPair keyPair = null;
    try {
      keyPair = keyGenerator.generateKey();
```

## RuleId[ruleID=IndexOfReplaceableByContains]
### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("Maintenance") >= 0` can be replaced with 'metric.contains("Maintenance")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    StringBuilder sb = new StringBuilder();
    sb.append("Total");
    if (metric.indexOf("Maintenance") >= 0) {
      sb.append(" maintenance");
    } else if (metric.indexOf("Decommissioned") >= 0) {
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("Decommissioned") >= 0` can be replaced with 'metric.contains("Decommissioned")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    if (metric.indexOf("Maintenance") >= 0) {
      sb.append(" maintenance");
    } else if (metric.indexOf("Decommissioned") >= 0) {
      sb.append(" decommissioned");
    }
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("DiskCapacity") >= 0` can be replaced with 'metric.contains("DiskCapacity")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
      sb.append(" decommissioned");
    }
    if (metric.indexOf("DiskCapacity") >= 0) {
      sb.append(" disk capacity");
    } else if (metric.indexOf("DiskUsed") >= 0) {
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("DiskUsed") >= 0` can be replaced with 'metric.contains("DiskUsed")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    if (metric.indexOf("DiskCapacity") >= 0) {
      sb.append(" disk capacity");
    } else if (metric.indexOf("DiskUsed") >= 0) {
      sb.append(" disk capacity used");
    } else if (metric.indexOf("DiskRemaining") >= 0) {
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("DiskRemaining") >= 0` can be replaced with 'metric.contains("DiskRemaining")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    } else if (metric.indexOf("DiskUsed") >= 0) {
      sb.append(" disk capacity used");
    } else if (metric.indexOf("DiskRemaining") >= 0) {
      sb.append(" disk capacity remaining");
    } else if (metric.indexOf("SSDCapacity") >= 0) {
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("SSDCapacity") >= 0` can be replaced with 'metric.contains("SSDCapacity")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    } else if (metric.indexOf("DiskRemaining") >= 0) {
      sb.append(" disk capacity remaining");
    } else if (metric.indexOf("SSDCapacity") >= 0) {
      sb.append(" SSD capacity");
    } else if (metric.indexOf("SSDUsed") >= 0) {
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("SSDUsed") >= 0` can be replaced with 'metric.contains("SSDUsed")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    } else if (metric.indexOf("SSDCapacity") >= 0) {
      sb.append(" SSD capacity");
    } else if (metric.indexOf("SSDUsed") >= 0) {
      sb.append(" SSD capacity used");
    } else if (metric.indexOf("SSDRemaining") >= 0) {
```

### RuleId[ruleID=IndexOfReplaceableByContains]
`metric.indexOf("SSDRemaining") >= 0` can be replaced with 'metric.contains("SSDRemaining")'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
    } else if (metric.indexOf("SSDUsed") >= 0) {
      sb.append(" SSD capacity used");
    } else if (metric.indexOf("SSDRemaining") >= 0) {
      sb.append(" SSD capacity remaining");
    }
```

## RuleId[ruleID=SocketResource]
### RuleId[ruleID=SocketResource]
'ServerSocket' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
    ExecutionDataWriter destination =
        new ExecutionDataWriter(new FileOutputStream(destinationFile));
    ServerSocket serverSocket = new ServerSocket(port);
    Runtime.getRuntime().addShutdownHook(new Thread(() -> {
      try {
```

### RuleId[ruleID=SocketResource]
'Socket' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java

    while (true) {
      final Socket socket = serverSocket.accept();
      new Thread(() -> {
        try {
```

## RuleId[ruleID=ReplaceInefficientStreamCount]
### RuleId[ruleID=ReplaceInefficientStreamCount]
Can be replaced with '!stream.findAny().isPresent()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ClosedContainerReplicator.java`
#### Snippet
```java
    }
    try (Stream<Path> stream = Files.list(dirPath)) {
      if (stream.count() == 0) {
        return;
      }
```

## RuleId[ruleID=UnnecessarySemicolon]
### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
              synchronizedCall(destination::visitClassExecution));
          while (reader.read()) {
            ;//read until the end of the stream.
          }
          synchronized (lockMonitor) {
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/annotation/InterfaceAudience.java`
#### Snippet
```java
  @Documented
  @Retention(RetentionPolicy.RUNTIME)
  public @interface Public { };
  
  /**
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/annotation/InterfaceAudience.java`
#### Snippet
```java
  public @interface LimitedPrivate {
    String[] value();
  };
  
  /**
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/annotation/InterfaceAudience.java`
#### Snippet
```java
  @Documented
  @Retention(RetentionPolicy.RUNTIME)
  public @interface Private { };

  private InterfaceAudience() { } // Audience can't exist on its own
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/UpgradeActionHdds.java`
#### Snippet
```java
  enum Component {
    SCM,
    DATANODE;
  }
}
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/UpgradeException.java`
#### Snippet
```java
    PREFINALIZE_ACTION_VALIDATION_FAILED,
    FIRST_UPGRADE_START_ACTION_FAILED,
    PREFINALIZE_VALIDATION_FAILED;
  }
}
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBufferFactory.java`
#### Snippet
```java
      }
    }
  };

  public static ChecksumByteBuffer crc32Impl() {
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/Component.java`
#### Snippet
```java
   */
  public enum Type {
    SCM, OM, DATANODE, S3G, RECON;
  }

```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
   */
  public enum UtilizationThreshold {
    NORMAL, WARN, CRITICAL;
  }

```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
    NOT_LEADER,
    LEADER_AND_NOT_READY,
    LEADER_AND_READY;
  }

```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
  public enum AclScope {
    ACCESS,
    DEFAULT;
  }
}
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/QuotaUtil.java`
#### Snippet
```java

  private QuotaUtil() {
  };

  /**
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocol/OzoneManagerProtocol.java`
#### Snippet
```java
    throw new UnsupportedOperationException("OzoneManager does not require " +
        "this to be implemented, as write requests use a new approach");
  };

  /**
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/AccessPolicy.java`
#### Snippet
```java
   *
   */
  enum AccessPolicyType { NATIVE_ACL, RANGER_POLICY, AWS_POLICY, OTHER };

  /**
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/AccessPolicy.java`
#### Snippet
```java
   * Allow or deny.
   */
  enum AccessGrantType { ALLOW, DENY };

  /**
```

### RuleId[ruleID=UnnecessarySemicolon]
Unnecessary semicolon `;`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/SignatureInfo.java`
#### Snippet
```java
   */
  public enum Version {
    NONE, V4, V2;
  }
}
```

## RuleId[ruleID=SimplifyStreamApiCallChains]
### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'java.util.ArrayList' constructor
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
          adapter.listStatus(pathToKey(f), false, startPath,
              numEntries, uri, workingDir, getUsername())
              .stream()
              .collect(Collectors.toList());

      if (!tmpStatusList.isEmpty()) {
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetUtils.java`
#### Snippet
```java

      // ancestor is covered by excludedScope
      mutableExcludedScopes.stream().forEach(scope -> {
        if (ancestor.isDescendant(scope)) {
          // remove exclude node if it's covered by excludedScope
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  private void checkExcludedScopes(List<String> excludedScopes) {
    if (!CollectionUtils.isEmpty(excludedScopes)) {
      excludedScopes.stream().forEach(scope -> {
        if (scope.startsWith(SCOPE_REVERSE_STR)) {
          throw new IllegalArgumentException("excludedScope " + scope +
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'String.join'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
              + "{}, excludedNodes = {}, affinityNode = {}, ancestorGen = {}",
          scope, leafIndex, (excludedScopes == null ? "" :
              excludedScopes.stream().collect(Collectors.joining(", "))),
          (excludedNodes == null ? "" : excludedNodes.stream()
              .map(Object::toString).collect(Collectors.joining(", "))),
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with '.keySet().stream()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
            getScmUsedratio(getUsedSpace(entry.getKey()),
                getCapacity(entry.getKey())))))
        .map(Map.Entry::getKey)
        .collect(Collectors.toList());
  }
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMBlockProtocolServer.java`
#### Snippet
```java
      }
      List<Node> nodeList = new ArrayList();
      nodes.stream().forEach(uuid -> {
        DatanodeDetails node = nodeManager.getNodeByUuid(uuid);
        if (node != null) {
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMBlockProtocolServer.java`
#### Snippet
```java
          .sortByDistanceCost(client, nodeList, nodes.size());
      List<DatanodeDetails> ret = new ArrayList<>();
      sortedNodeList.stream().forEach(node -> ret.add((DatanodeDetails)node));
      return ret;
    } catch (Exception ex) {
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'java.util.ArrayList' constructor
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECContainerReplicaCount.java`
#### Snippet
```java
      missing.remove(i);
    }
    return missing.stream().collect(Collectors.toList());
  }

```

### RuleId[ruleID=SimplifyStreamApiCallChains]
'!Stream.anyMatch(...)' can be replaced with 'noneMatch()'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java

    if (!replicaSet.stream()
        .anyMatch(r -> r.getDatanodeDetails().equals(srcDn))) {
      // if the target is present but source disappears somehow,
      // we can consider move is successful.
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'java.util.HashSet' constructor
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
        getPlacementStatus(replicaSet, replicationFactor);
    Set<ContainerReplica> newReplicaSet = replicaSet.
        stream().collect(Collectors.toSet());
    newReplicaSet.removeIf(r -> r.getDatanodeDetails().equals(srcDn));
    ContainerPlacementStatus newCPS =
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
    Preconditions.assertTrue(container.getNumberOfKeys() == 0);

    replicas.stream().forEach(rp -> {
      Preconditions.assertTrue(rp.getState() == State.CLOSED);
      Preconditions.assertTrue(rp.getKeyCount() == 0);
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      // Resend the delete command
      if (filteredReplicas.size() > 0) {
        filteredReplicas.stream().forEach(rp -> {
          sendDeleteCommand(container, rp.getDatanodeDetails(), false);
        });
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'java.util.HashSet' constructor
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
                    final List<ContainerReplica> replicas) {
    Set<ContainerReplica> movedReplicas =
        replicas.stream().collect(Collectors.toSet());
    movedReplicas.removeIf(r -> r.getDatanodeDetails().equals(srcDn));
    movedReplicas.add(ContainerReplica.newBuilder()
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'java.util.ArrayList' constructor
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      // satisfies current placement policy
      if (!isPolicySatisfiedAfterMove(cif, srcDn, targetDn,
          currentReplicas.stream().collect(Collectors.toList()))) {
        ret.complete(MoveResult.PLACEMENT_POLICY_NOT_SATISFIED);
        return ret;
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        .createRemoteUser(userName).getGroupNames());

    userGroups.stream().forEach((group) -> listOfAcls.add(
        new OzoneAcl(ACLIdentityType.GROUP, group, ACLType.ALL, ACCESS)));

```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'Collectors.joining'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/DeletedContainerBlocksSummary.java`
#### Snippet
```java
  public String getTXIDs() {
    return String.join(",", txSummary.keySet()
        .stream().map(String::valueOf).collect(Collectors.toList()));
  }

```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    List<String> userGroups = Arrays.asList(UserGroupInformation
        .createRemoteUser(owner).getGroupNames());
    userGroups.stream().forEach((group) -> listOfAcls.add(
        new OzoneAcl(ACLIdentityType.GROUP, group, groupRights, ACCESS)));
    //ACLs from VolumeArgs
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
            HddsServerUtil.getOzoneDatanodeRatisDirectory(conf);
    List<File> storageDirs = new ArrayList<>(storageDirPaths.size());
    storageDirPaths.stream().forEach(d -> storageDirs.add(new File(d)));

    RaftServerConfigKeys.setStorageDir(properties, storageDirs);
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
    }
    if (inheritedAcls != null && !inheritedAcls.isEmpty()) {
      inheritedAcls.stream().forEach(acl -> addAcl(acls, acl));
      return true;
    }
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEachOrdered()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
        }
        if (isInprogress(progress.status()) || isDone(progress.status())) {
          progress.msgs().stream().forEachOrdered(System.out::println);
        }
        if (isDone(progress.status())) {
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEachOrdered()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
        }
        if (isInprogress(progress.status()) || isDone(progress.status())) {
          progress.msgs().stream().forEachOrdered(System.out::println);
        }
        if (isDone(progress.status())) {
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisDropwizardExports.java`
#### Snippet
```java
  public static void clear(Map<String, RatisDropwizardExports>
                               ratisMetricsMap) {
    ratisMetricsMap.entrySet().stream().forEach(e -> {
      // remove and deregister from registry only one registered
      // as unregistered element if performed unregister again will
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
    if (isClosed.compareAndSet(false, true)) {
      if (columnFamilies != null) {
        columnFamilies.values().stream().forEach(f -> f.markClosed());
      }
      // wait till all access to rocks db is process to avoid crash while close
```

### RuleId[ruleID=SimplifyStreamApiCallChains]
Can be replaced with 'String.join'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
      closeOnError(e, true);
      String msg = "Failed to ingest external files " +
          files.stream().collect(Collectors.joining(", ")) + " of " +
          family.getName();
      throw toIOException(this, msg, e);
```

## RuleId[ruleID=StringOperationCanBeSimplified]
### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `toString()` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java

    if (srcStatus.isDirectory()) {
      if (dstPath.toString()
          .startsWith(srcPath.toString() + OZONE_URI_DELIMITER)) {
        LOG.trace("Cannot rename a directory to a subdirectory of self");
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `toString()` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    if (srcStatus.isDirectory()) {
      if (dstPath.toString()
          .startsWith(srcPath.toString() + OZONE_URI_DELIMITER)) {
        LOG.trace("Cannot rename a directory to a subdirectory of self");
        return false;
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `toString()` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
      }
      LOG.info("Instantiating OM Ratis server with groupID: {} and peers: {}",
          raftGroupIdStr, raftPeersStr.toString().substring(2));
    }
    this.omStateMachine = getStateMachine(conf);
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Unnecessary empty string argument
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  private void logVersionMismatch(OzoneConfiguration conf, ScmInfo scmInfo) {
    List<SCMNodeInfo> scmNodeInfoList = SCMNodeInfo.buildNodeInfo(conf);
    StringBuilder scmBlockAddressBuilder = new StringBuilder("");
    for (SCMNodeInfo scmNodeInfo : scmNodeInfoList) {
      scmBlockAddressBuilder.append(scmNodeInfo.getBlockClientAddress())
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `toString()` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java
      @Override
      public Object construct(Node node) {
        String value = constructScalar((ScalarNode) node).toString()
            .replaceAll("_", "");
        int sign = +1;
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `toString()` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java
          throws Exception {
    String dir = RandomStringUtils.randomAlphanumeric(length);
    dir = parent.toString().concat("/").concat(dir);
    fileSystem.mkdirs(new Path(dir));
    totalDirsCnt.incrementAndGet();
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Unnecessary string length argument
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
    // uri path is the rest of the string. ? or # are not interpreted,
    // but any occurrence of them will be quoted by the URI ctor.
    String path = pathString.substring(start, pathString.length());

    // add leading slash to the path, if it does not exist
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `substring()` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
    StringBuilder buffer = new StringBuilder();
    while (next != -1) {
      buffer.append(item.substring(posn, next));
      if (item.startsWith("&amp;", next)) {
        buffer.append('&');
```

### RuleId[ruleID=StringOperationCanBeSimplified]
Call to `substring()` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
      next = item.indexOf('&', posn);
    }
    buffer.append(item.substring(posn, len));
    return buffer.toString();
  }
```

## RuleId[ruleID=MethodOverloadsParentMethod]
### RuleId[ruleID=MethodOverloadsParentMethod]
Method `setReplicationConfig()` overloads a compatible method of a superclass, when overriding might have been intended
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECKeyOutputStream.java`
#### Snippet
```java
    }

    public ECKeyOutputStream.Builder setReplicationConfig(
        ECReplicationConfig replConfig) {
      this.replicationConfig = replConfig;
```

## RuleId[ruleID=OptionalContainsCollection]
### RuleId[ruleID=OptionalContainsCollection]
'Optional' contains collection `List`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager, String volumeName,
      String bucketName, Optional<OmKeyInfo> keyInfo,
      Optional<List<OmKeyInfo>> parentInfoList,
      long index) throws IOException {
    for (OmKeyInfo parentInfo : parentInfoList.get()) {
```

### RuleId[ruleID=OptionalContainsCollection]
'Optional' contains collection `List`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
          OMMetadataManager omMetadataManager,
          long volumeId, long bucketId, long trxnLogIndex,
          Optional<List<OmDirectoryInfo>> missingParentInfos,
          Optional<OmDirectoryInfo> dirInfo) {

```

## RuleId[ruleID=ObviousNullCheck]
### RuleId[ruleID=ObviousNullCheck]
Redundant null-check: a value of primitive type 'long' is never null
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmRangerSyncArgs.java`
#### Snippet
```java

    public OmRangerSyncArgs build() {
      Preconditions.checkNotNull(newServiceVersion);
      return new OmRangerSyncArgs(newServiceVersion);
    }
```

### RuleId[ruleID=ObviousNullCheck]
Redundant null-check: a value of primitive type 'int' is never null
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/OzoneSecretKey.java`
#### Snippet
```java

  public OzoneSecretKey(int keyId, long expiryDate, KeyPair keyPair) {
    Preconditions.checkNotNull(keyId);
    this.keyId = keyId;
    this.expiryDate = expiryDate;
```

## RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod]
### RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod]
Unsynchronized method `seekToNewSource()` overrides synchronized method
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java

  @Override
  public boolean seekToNewSource(long targetPos) throws IOException {
    return false;
  }
```

### RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod]
Unsynchronized method `readWithStrategy()` overrides synchronized method
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedStripeInputStream.java`
#### Snippet
```java

  @Override
  protected int readWithStrategy(ByteReaderStrategy strategy) {
    throw new NotImplementedException("readWithStrategy is not implemented. " +
        "Use readStripe() instead");
```

### RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod]
Unsynchronized method `stop()` overrides synchronized method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java
   */
  @Override
  public void stop() throws IOException {
    super.stop();
    stopThreads();
```

### RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod]
Unsynchronized method `seekToNewSource()` overrides synchronized method
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java

  @Override
  public boolean seekToNewSource(long targetPos) throws IOException {
    return false;
  }
```

## RuleId[ruleID=ProtectedMemberInFinalClass]
### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java

  @VisibleForTesting
  protected DatanodeDetails chooseNodeBasedOnSameRack(
      List<DatanodeDetails> healthyNodes,  List<DatanodeDetails> excludedNodes,
      NetworkTopology networkTopology, DatanodeDetails anchor) {
```

### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
   */
  @VisibleForTesting
  protected DatanodeDetails chooseNodeBasedOnRackAwareness(
      List<DatanodeDetails> healthyNodes,  List<DatanodeDetails> excludedNodes,
      NetworkTopology networkTopology, DatanodeDetails anchor) {
```

### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/upgrade/OMLayoutVersionManager.java`
#### Snippet
```java
   */
  @VisibleForTesting
  protected void registerUpgradeActions(String packageName) {
    Reflections reflections = new Reflections(new ConfigurationBuilder()
        .forPackages(packageName)
```

### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
    }

    protected ColumnFamilyHandle getHandle() {
      return handle;
    }
```

### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
   * Add default servlets.
   */
  protected void addDefaultServlets() {
    // set up default servlets
    addServlet("stacks", "/stacks", StackServlet.class);
```

### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java

  @VisibleForTesting
  protected List<ServerConnector> getListeners() {
    return listeners;
  }
```

### RuleId[ruleID=ProtectedMemberInFinalClass]
Class member declared `protected` in 'final' class
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
   * @throws IOException
   */
  protected void addDefaultApps(ContextHandlerCollection parent,
      final String appDir, ConfigurationSource conf) throws IOException {
    // set up the context for "/logs/" if "hadoop.log.dir" property is defined
```

## RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
### RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
Non-private field `referenceCount` accessed in synchronized context
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/ContainerClientMetrics.java`
#### Snippet
```java
          "Ozone Client Metrics", new ContainerClientMetrics());
    }
    referenceCount++;
    return instance;
  }
```

### RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
Non-private field `referenceCount` accessed in synchronized context
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/ContainerClientMetrics.java`
#### Snippet
```java
      throw new IllegalStateException("This metrics class is not used.");
    }
    referenceCount--;
    if (referenceCount == 0) {
      DefaultMetricsSystem.instance().unregisterSource(
```

### RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
Non-private field `referenceCount` accessed in synchronized context
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/ContainerClientMetrics.java`
#### Snippet
```java
    }
    referenceCount--;
    if (referenceCount == 0) {
      DefaultMetricsSystem.instance().unregisterSource(
          SOURCE_NAME + instanceCount);
```

## RuleId[ruleID=RedundantSuppression]
### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/upgrade/HDDSLayoutVersionManager.java`
#### Snippet
```java
 */
@SuppressWarnings("FinalClass")
public class HDDSLayoutVersionManager extends
    AbstractLayoutVersionManager<HDDSLayoutFeature> {

```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
          CommonConfigurationKeys.HADOOP_JETTY_LOGS_SERVE_ALIASES,
          CommonConfigurationKeys.DEFAULT_HADOOP_JETTY_LOGS_SERVE_ALIASES)) {
        @SuppressWarnings("unchecked")
        Map<String, String> params = logContext.getInitParams();
        params.put("org.eclipse.jetty.servlet.Default.aliases", "true");
      }
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
    staticContext.addServlet(DefaultServlet.class, "/*");
    staticContext.setDisplayName("static");
    @SuppressWarnings("unchecked")
    Map<String, String> params = staticContext.getInitParams();
    params.put("org.eclipse.jetty.servlet.Default.dirAllowed", "false");
    params.put("org.eclipse.jetty.servlet.Default.gzip", "true");
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      @SuppressWarnings("unchecked")
      @Override
      public Enumeration<String> getParameterNames() {
        return new Enumeration<String>() {
          private Enumeration<String> rawIterator =
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      @SuppressWarnings("unchecked")
      @Override
      public Map<String, String[]> getParameterMap() {
        Map<String, String[]> result = new HashMap<>();
        Map<String, String[]> raw = rawRequest.getParameterMap();
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/CommandQueue.java`
#### Snippet
```java
   */
  @SuppressWarnings("unchecked")
  List<SCMCommand> getCommand(final UUID datanodeUuid) {
    lock.lock();
    try {
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
  @Override
  @SuppressWarnings("SuspiciousMethodCalls")
  public void getMetrics(MetricsCollector collector, boolean all) {
    Map<String, Map<String, Integer>> nodeCount = managerMXBean.getNodeCount();
    Map<String, Long> nodeInfo = managerMXBean.getNodeInfo();
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  @Override
  @SuppressWarnings("SuspiciousMethodCalls")
  public void getMetrics(MetricsCollector collector, boolean all) {
    MetricsRecordBuilder recordBuilder = collector.addRecord(SOURCE_NAME);
    numPipelineAllocated.snapshot(recordBuilder, true);
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMContainerMetrics.java`
#### Snippet
```java
  @Override
  @SuppressWarnings("SuspiciousMethodCalls")
  public void getMetrics(MetricsCollector collector, boolean all) {
    Map<String, Integer> stateCount = scmmxBean.getContainerStateCount();

```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
   */
  @SuppressWarnings("UnstableApiUsage")
  private Cache<String, ContainerStat> buildContainerReportCache() {
    return
        CacheBuilder.newBuilder()
```

### RuleId[ruleID=RedundantSuppression]
Redundant suppression
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
   */
  @SuppressWarnings("unchecked")
  public static <T, E extends Throwable> E intercept(
      Class<E> clazz,
      Callable<T> eval)
```

## RuleId[ruleID=UnnecessaryInitCause]
### RuleId[ruleID=UnnecessaryInitCause]
Unnecessary `Throwable.initCause()` call
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java
      }
      throw (IOException) new IOException("Failed to move to trash: " + path)
          .initCause(cause);
    }
    return false;
```

## RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'maxSizeEnteringTargetInGB'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
          "balancing. This is the sum of data from multiple sources (for " +
          "example, '26' for 26GB).")
  private Optional<Long> maxSizeEnteringTargetInGB;

  @Option(names = {"-l", "--maxSizeLeavingSourceInGB"},
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'iterations'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
      description = "Maximum consecutive iterations that" +
          " balancer will run for.")
  private Optional<Integer> iterations;

  @Option(names = {"-d", "--maxDatanodesPercentageToInvolvePerIteration"},
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'maxSizeToMovePerIterationInGB'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
      description = "Maximum size that can be moved per iteration of " +
          "balancing (for example, '500' for 500GB).")
  private Optional<Long> maxSizeToMovePerIterationInGB;

  @Option(names = {"-e", "--maxSizeEnteringTargetInGB"},
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'maxDatanodesPercentageToInvolvePerIteration'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
          "that can be involved in balancing in one iteration (for example, " +
          "'20' for 20%%).")
  private Optional<Integer> maxDatanodesPercentageToInvolvePerIteration;

  @Option(names = {"-s", "--maxSizeToMovePerIterationInGB"},
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'threshold'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
          "the cluster after which a datanode will be rebalanced (for " +
          "example, '10' for 10%%).")
  private Optional<Double> threshold;

  @Option(names = {"-i", "--iterations"},
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'maxSizeLeavingSourceInGB'
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
          "balancing. This is the sum of data moving to multiple targets " +
          "(for example, '26' for 26GB).")
  private Optional<Long> maxSizeLeavingSourceInGB;

  @Override
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'threshold'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java`
#### Snippet
```java
   */
  StartContainerBalancerResponseProto startContainerBalancer(
      Optional<Double> threshold,
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'iterations'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java`
#### Snippet
```java
  StartContainerBalancerResponseProto startContainerBalancer(
      Optional<Double> threshold,
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxDatanodesPercentageToInvolvePerIteration'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java`
#### Snippet
```java
      Optional<Double> threshold,
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxSizeToMovePerIterationInGB'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java`
#### Snippet
```java
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
      Optional<Long> maxSizeLeavingSourceInGB) throws IOException;
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxSizeEnteringTargetInGB'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java`
#### Snippet
```java
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
      Optional<Long> maxSizeLeavingSourceInGB) throws IOException;

```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxSizeLeavingSourceInGB'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java`
#### Snippet
```java
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
      Optional<Long> maxSizeLeavingSourceInGB) throws IOException;

  /**
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'threshold'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java`
#### Snippet
```java
   */
  StartContainerBalancerResponseProto startContainerBalancer(
      Optional<Double> threshold,
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'iterations'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java`
#### Snippet
```java
  StartContainerBalancerResponseProto startContainerBalancer(
      Optional<Double> threshold,
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxDatanodesPercentageToInvolvePerIteration'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java`
#### Snippet
```java
      Optional<Double> threshold,
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxSizeToMovePerIterationInGB'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java`
#### Snippet
```java
      Optional<Integer> iterations,
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
      Optional<Long> maxSizeLeavingSourceInGB) throws IOException;
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxSizeEnteringTargetInGB'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java`
#### Snippet
```java
      Optional<Integer> maxDatanodesPercentageToInvolvePerIteration,
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
      Optional<Long> maxSizeLeavingSourceInGB) throws IOException;

```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'maxSizeLeavingSourceInGB'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java`
#### Snippet
```java
      Optional<Long> maxSizeToMovePerIterationInGB,
      Optional<Long> maxSizeEnteringTargetInGB,
      Optional<Long> maxSizeLeavingSourceInGB) throws IOException;

  /**
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'actual'
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
   */
  public static <T> void assertOptionalUnset(String message,
      Optional<T> actual) {
    Assert.assertNotNull(message, actual);
    actual.ifPresent(
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'actual'
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
  public static <T> void assertOptionalEquals(String message,
      T expected,
      Optional<T> actual) {
    Assert.assertNotNull(message, actual);
    Assert.assertTrue(message + " -not present", actual.isPresent());
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'action'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java

  protected void runFinalizationAction(LayoutFeature feature,
      Optional<?extends UpgradeAction> action) throws UpgradeException {

    if (!action.isPresent()) {
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'action'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
      throws UpgradeException;

  protected void finalizeLayoutFeature(LayoutFeature lf, Optional<?
      extends UpgradeAction> action, Storage storage)
      throws UpgradeException {
    runFinalizationAction(lf, action);
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'keyInfo'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
  public static void addKeyTableCacheEntries(
      OMMetadataManager omMetadataManager, String volumeName,
      String bucketName, Optional<OmKeyInfo> keyInfo,
      Optional<List<OmKeyInfo>> parentInfoList,
      long index) throws IOException {
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional`> used as type for parameter 'parentInfoList'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager, String volumeName,
      String bucketName, Optional<OmKeyInfo> keyInfo,
      Optional<List<OmKeyInfo>> parentInfoList,
      long index) throws IOException {
    for (OmKeyInfo parentInfo : parentInfoList.get()) {
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional`> used as type for parameter 'missingParentInfos'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
          OMMetadataManager omMetadataManager,
          long volumeId, long bucketId, long trxnLogIndex,
          Optional<List<OmDirectoryInfo>> missingParentInfos,
          Optional<OmDirectoryInfo> dirInfo) {

```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'dirInfo'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
          long volumeId, long bucketId, long trxnLogIndex,
          Optional<List<OmDirectoryInfo>> missingParentInfos,
          Optional<OmDirectoryInfo> dirInfo) {

    for (OmDirectoryInfo subDirInfo : missingParentInfos.get()) {
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'lastDataScanTime'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java`
#### Snippet
```java
   * eg. in prior versions). */
  private Long dataScanTimestamp; // for serialization
  private transient Optional<Instant> lastDataScanTime = Optional.empty();

  public static final Charset CHARSET_ENCODING = StandardCharsets.UTF_8;
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'termOfLeaderSCM'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
   * For non-HA mode, term of SCMCommand will be 0.
   */
  private Optional<Long> termOfLeaderSCM = Optional.empty();

  /**
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'volumeArgs'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/KeyInfoWithVolumeContext.java`
#### Snippet
```java
   * Volume arguments.
   */
  private final Optional<OmVolumeArgs> volumeArgs;

  /**
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'userPrincipal'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/KeyInfoWithVolumeContext.java`
#### Snippet
```java
   * To be used for client-side operations involving KMS like getDEK().
   */
  private final Optional<String> userPrincipal;

  private final OmKeyInfo keyInfo;
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for field 'value'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/cache/CacheValue.java`
#### Snippet
```java
public class CacheValue<VALUE> {

  private Optional<VALUE> value;
  // This value is used for evict entries from cache.
  // This value is set with ratis transaction context log entry index.
```

### RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
`Optional` used as type for parameter 'value'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/cache/CacheValue.java`
#### Snippet
```java
  private long epoch;

  public CacheValue(Optional<VALUE> value, long epoch) {
    this.value = value;
    this.epoch = epoch;
```

## RuleId[ruleID=CharsetObjectCanBeUsed]
### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/KeyPrefixContainerCodec.java`
#### Snippet
```java
    byte[] keyBytes = ArrayUtils.subarray(rawData,
        0, rawData.length - Long.BYTES * 2 - 2);
    String keyPrefix = new String(keyBytes, UTF_8);

    // Second 8 bytes is the key version.
```

### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/KeyPrefixContainerCodec.java`
#### Snippet
```java
    Preconditions.checkNotNull(keyPrefixContainer,
            "Null object can't be converted to byte array.");
    byte[] keyPrefixBytes = keyPrefixContainer.getKeyPrefix().getBytes(UTF_8);

    //Prefix seek can be done only with keyPrefix. In that case, we can
```

### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/KeyPrefixContainerCodec.java`
#### Snippet
```java
    if (keyPrefixContainer.getKeyVersion() != -1) {
      keyPrefixBytes = ArrayUtils.addAll(keyPrefixBytes, KEY_DELIMITER
          .getBytes(UTF_8));
      keyPrefixBytes = ArrayUtils.addAll(keyPrefixBytes, Longs.toByteArray(
          keyPrefixContainer.getKeyVersion()));
```

### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/KeyPrefixContainerCodec.java`
#### Snippet
```java
    if (keyPrefixContainer.getContainerId() != -1) {
      keyPrefixBytes = ArrayUtils.addAll(keyPrefixBytes, KEY_DELIMITER
          .getBytes(UTF_8));
      keyPrefixBytes = ArrayUtils.addAll(keyPrefixBytes, Longs.toByteArray(
          keyPrefixContainer.getContainerId()));
```

### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/ContainerKeyPrefixCodec.java`
#### Snippet
```java
        Long.BYTES + 1,
        rawData.length - Long.BYTES - 1);
    String keyPrefix = new String(keyBytes, UTF_8);

    // Last 8 bytes is the key version.
```

### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/ContainerKeyPrefixCodec.java`
#### Snippet
```java
    if (StringUtils.isNotEmpty(containerKeyPrefix.getKeyPrefix())) {
      byte[] keyPrefixBytes = (KEY_DELIMITER +
          containerKeyPrefix.getKeyPrefix()).getBytes(UTF_8);
      containerIdBytes = ArrayUtils.addAll(containerIdBytes, keyPrefixBytes);
    }
```

### RuleId[ruleID=CharsetObjectCanBeUsed]
StandardCharsets.UTF_8 can be used instead
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/ContainerKeyPrefixCodec.java`
#### Snippet
```java
    if (containerKeyPrefix.getKeyVersion() != -1) {
      containerIdBytes = ArrayUtils.addAll(containerIdBytes, KEY_DELIMITER
          .getBytes(UTF_8));
      containerIdBytes = ArrayUtils.addAll(containerIdBytes, Longs.toByteArray(
          containerKeyPrefix.getKeyVersion()));
```

## RuleId[ruleID=SystemOutErr]
### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/RSRawEncoder.java`
#### Snippet
```java
        getNumDataUnits() * getNumDataUnits(), gfTables);
    if (allowVerboseDump()) {
      System.out.println(DumpUtil.bytesToHex(gfTables, -1));
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
    for (int i = 0; i < numDataUnits; i++) {
      for (int j = 0; j < numAllUnits; j++) {
        System.out.print(" ");
        System.out.print(0xff & matrix[i * numAllUnits + j]);
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
      for (int j = 0; j < numAllUnits; j++) {
        System.out.print(" ");
        System.out.print(0xff & matrix[i * numAllUnits + j]);
      }
      System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
        System.out.print(0xff & matrix[i * numAllUnits + j]);
      }
      System.out.println();
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
   */
  public static void dumpChunks(String header, ECChunk[] chunks) {
    System.out.println();
    System.out.println(header);
    for (int i = 0; i < chunks.length; i++) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
  public static void dumpChunks(String header, ECChunk[] chunks) {
    System.out.println();
    System.out.println(header);
    for (int i = 0; i < chunks.length; i++) {
      dumpChunk(chunks[i]);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
      dumpChunk(chunks[i]);
    }
    System.out.println();
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
      str = DumpUtil.bytesToHex(bytes, 16);
    }
    System.out.println(str);
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/RSRawDecoder.java`
#### Snippet
```java
        decodeMatrix, 0, gfTables);
    if (allowVerboseDump()) {
      System.out.println(DumpUtil.bytesToHex(gfTables, -1));
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/TimedOutTestsListener.java`
#### Snippet
```java
  public TimedOutTestsListener() {
    this(new PrintWriter(new BufferedWriter(new OutputStreamWriter(
        System.err, UTF_8))));
  }
  
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStatusSubcommand.java`
#### Snippet
```java
    boolean execReturn = scmClient.getContainerBalancerStatus();
    if (execReturn) {
      System.out.println("ContainerBalancer is Running.");
    } else {
      System.out.println("ContainerBalancer is Not Running.");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStatusSubcommand.java`
#### Snippet
```java
      System.out.println("ContainerBalancer is Running.");
    } else {
      System.out.println("ContainerBalancer is Not Running.");
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStopSubcommand.java`
#### Snippet
```java
  public void execute(ScmClient scmClient) throws IOException {
    scmClient.stopContainerBalancer();
    System.out.println("Stopping ContainerBalancer...");
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/GenericTestUtils.java`
#### Snippet
```java
      bytes = new ByteArrayOutputStream();
      bytesPrintStream = new PrintStream(bytes, false, UTF_8.name());
      oldOut = System.out;
      System.setOut(new TeePrintStream(oldOut, bytesPrintStream));
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/GenericTestUtils.java`
#### Snippet
```java
      bytes = new ByteArrayOutputStream();
      bytesPrintStream = new PrintStream(bytes, false, UTF_8.name());
      oldErr = System.err;
      System.setErr(new TeePrintStream(oldErr, bytesPrintStream));
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
        maxSizeLeavingSourceInGB);
    if (response.getStart()) {
      System.out.println("Container Balancer started successfully.");
    } else {
      System.out.println("Failed to start Container Balancer.");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
      System.out.println("Container Balancer started successfully.");
    } else {
      System.out.println("Failed to start Container Balancer.");
      if (response.hasMessage()) {
        System.out.printf("Failure reason: %s", response.getMessage());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/ContainerBalancerStartSubcommand.java`
#### Snippet
```java
      System.out.println("Failed to start Container Balancer.");
      if (response.hasMessage()) {
        System.out.printf("Failure reason: %s", response.getMessage());
      }
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java
  private void printNodesWithLocation(Collection<HddsProtos.Node> nodes) {
    nodes.forEach(node -> {
      System.out.print(" " + getAdditionNodeOutput(node) +
          node.getNodeID().getIpAddress() + "(" +
          node.getNodeID().getHostName() + ")" +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java
          node.getNodeID().getHostName() + ")" +
          ":" + formatPortOutput(node.getNodeID().getPortsList()));
      System.out.println("    "
          + node.getNodeOperationalStates(0) + "    " +
          (node.getNodeID().getNetworkLocation() != null ?
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/DecommissionSubCommand.java`
#### Snippet
```java
    if (hosts.size() > 0) {
      List<DatanodeAdminError> errors = scmClient.decommissionNodes(hosts);
      System.out.println("Started decommissioning datanode(s):\n" +
          String.join("\n", hosts));
      if (errors.size() > 0) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/DecommissionSubCommand.java`
#### Snippet
```java
      if (errors.size() > 0) {
        for (DatanodeAdminError error : errors) {
          System.err.println("Error: " + error.getHostname() + ": "
              + error.getError());
        }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java
      if (nodes != null && nodes.size() > 0) {
        // show node state
        System.out.println("State = " + state.toString());
        if (nodeOperationalState != null) {
          if (nodeOperationalState.equals("IN_SERVICE") ||
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java

    locations.forEach(location -> {
      System.out.println("Location: " + location);
      tree.get(location).forEach(n -> {
        System.out.println(" " + n.getIpAddress() + "(" + n.getHostName()
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java
      System.out.println("Location: " + location);
      tree.get(location).forEach(n -> {
        System.out.println(" " + n.getIpAddress() + "(" + n.getHostName()
            + ") " + state.get(n));
      });
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/MaintenanceSubCommand.java`
#### Snippet
```java
      List<DatanodeAdminError> errors =
          scmClient.startMaintenanceNodes(hosts, endInHours);
      System.out.println("Entering maintenance mode on datanode(s):\n" +
          String.join("\n", hosts));
      if (errors.size() > 0) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/MaintenanceSubCommand.java`
#### Snippet
```java
      if (errors.size() > 0) {
        for (DatanodeAdminError error : errors) {
          System.err.println("Error: " + error.getHostname() + ": "
              + error.getError());
        }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/RecommissionSubCommand.java`
#### Snippet
```java
    if (hosts.size() > 0) {
      List<DatanodeAdminError> errors = scmClient.recommissionNodes(hosts);
      System.out.println("Started recommissioning datanode(s):\n" +
          String.join("\n", hosts));
      if (errors.size() > 0) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/RecommissionSubCommand.java`
#### Snippet
```java
      if (errors.size() > 0) {
        for (DatanodeAdminError error : errors) {
          System.err.println("Error: " + error.getHostname() + ": "
              + error.getError());
        }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/pipeline/CreatePipelineSubcommand.java`
#### Snippet
```java

    if (pipeline != null) {
      System.out.println(pipeline.getId().toString() +
          " is created. " + pipeline.toString());
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/pipeline/ListPipelinesSubcommand.java`
#### Snippet
```java
          .compareToIgnoreCase(state) == 0);
    }
    stream.forEach(System.out::println);
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
   */
  private void printInfo(DatanodeUsage info) {
    System.out.printf("%-13s: %s %n", "UUID",
        info.getDatanodeDetails().getUuid());
    System.out.printf("%-13s: %s (%s) %n", "IP Address",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
    System.out.printf("%-13s: %s %n", "UUID",
        info.getDatanodeDetails().getUuid());
    System.out.printf("%-13s: %s (%s) %n", "IP Address",
        info.getDatanodeDetails().getIpAddress(),
        info.getDatanodeDetails().getHostName());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
        info.getDatanodeDetails().getHostName());
    // print capacity in a readable format
    System.out.printf("%-13s: %s (%s) %n", "Capacity", info.getCapacity()
        + " B", StringUtils.byteDesc(info.getCapacity()));

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java

    // print total used space and its percentage in a readable format
    System.out.printf("%-13s: %s (%s) %n", "Total Used", info.getTotalUsed()
        + " B", StringUtils.byteDesc(info.getTotalUsed()));
    System.out.printf("%-13s: %s %n", "Total Used %",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
    System.out.printf("%-13s: %s (%s) %n", "Total Used", info.getTotalUsed()
        + " B", StringUtils.byteDesc(info.getTotalUsed()));
    System.out.printf("%-13s: %s %n", "Total Used %",
        PERCENT_FORMAT.format(info.getTotalUsedRatio()));

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java

    // print space used by ozone and its percentage in a readable format
    System.out.printf("%-13s: %s (%s) %n", "Ozone Used", info.getOzoneUsed()
        + " B", StringUtils.byteDesc(info.getOzoneUsed()));
    System.out.printf("%-13s: %s %n", "Ozone Used %",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
    System.out.printf("%-13s: %s (%s) %n", "Ozone Used", info.getOzoneUsed()
        + " B", StringUtils.byteDesc(info.getOzoneUsed()));
    System.out.printf("%-13s: %s %n", "Ozone Used %",
        PERCENT_FORMAT.format(info.getUsedRatio()));

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java

    // print total remaining space and its percentage in a readable format
    System.out.printf("%-13s: %s (%s) %n", "Remaining", info.getRemaining()
        + " B", StringUtils.byteDesc(info.getRemaining()));
    System.out.printf("%-13s: %s %n%n", "Remaining %",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
    System.out.printf("%-13s: %s (%s) %n", "Remaining", info.getRemaining()
        + " B", StringUtils.byteDesc(info.getRemaining()));
    System.out.printf("%-13s: %s %n%n", "Remaining %",
        PERCENT_FORMAT.format(info.getRemainingRatio()));
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java

    if (json) {
      System.out.print(
          JsonUtils.toJsonStringWithDefaultPrettyPrinter(usageList));
      return;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
      return;
    }
    System.out.printf("Usage Information (%d Datanodes)%n%n", usageList.size());
    usageList.forEach(this::printInfo);
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/ListInfoSubcommand.java`
#### Snippet
```java
      pipelineListInfo.append("No pipelines in cluster.");
    }
    System.out.println("Datanode: " + datanode.getUuid().toString() +
        " (" + datanode.getNetworkLocation() + "/" + datanode.getIpAddress()
        + "/" + datanode.getHostName() + "/" + relatedPipelineNum +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/ListInfoSubcommand.java`
#### Snippet
```java
        + "/" + datanode.getHostName() + "/" + relatedPipelineNum +
        " pipelines)");
    System.out.println("Operational State: " + dna.getOpState());
    System.out.println("Health State: " + dna.getHealthState());
    System.out.println("Related pipelines:\n" + pipelineListInfo);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/ListInfoSubcommand.java`
#### Snippet
```java
        " pipelines)");
    System.out.println("Operational State: " + dna.getOpState());
    System.out.println("Health State: " + dna.getHealthState());
    System.out.println("Related pipelines:\n" + pipelineListInfo);
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/ListInfoSubcommand.java`
#### Snippet
```java
    System.out.println("Operational State: " + dna.getOpState());
    System.out.println("Health State: " + dna.getHealthState());
    System.out.println("Related pipelines:\n" + pipelineListInfo);
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/ReportSubcommand.java`
#### Snippet
```java

  private void blankLine() {
    System.out.print("\n");
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/ReportSubcommand.java`
#### Snippet
```java

  private void output(String s) {
    System.out.println(s);
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/ReportSubcommand.java`
#### Snippet
```java
    output(s);
    for (int i = 0; i < s.length(); i++) {
      System.out.print("=");
    }
    System.out.print("\n");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/ReportSubcommand.java`
#### Snippet
```java
      System.out.print("=");
    }
    System.out.print("\n");
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/fs/DU.java`
#### Snippet
```java
    DU du = new DU(new File(path));
    du.duShell.getUsed();
    System.out.println(du.duShell);
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java
   */
  public static void missingSubcommand(CommandSpec spec) {
    System.err.println("Incomplete command");
    spec.commandLine().usage(System.err);
    System.exit(EXECUTION_ERROR_EXIT_CODE);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java
  public static void missingSubcommand(CommandSpec spec) {
    System.err.println("Incomplete command");
    spec.commandLine().usage(System.err);
    System.exit(EXECUTION_ERROR_EXIT_CODE);
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java
    if (verbose || error.getMessage() == null
        || error.getMessage().length() == 0) {
      error.printStackTrace(System.err);
    } else {
      System.err.println(error.getMessage().split("\n")[0]);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java
      error.printStackTrace(System.err);
    } else {
      System.err.println(error.getMessage().split("\n")[0]);
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/HddsVersionInfo.java`
#### Snippet
```java

  public static void main(String[] args) {
    System.out.println("Using HDDS " + HDDS_VERSION_INFO.getVersion());
    System.out.println(
        "Source code repository " + HDDS_VERSION_INFO.getUrl() + " -r " +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/HddsVersionInfo.java`
#### Snippet
```java
  public static void main(String[] args) {
    System.out.println("Using HDDS " + HDDS_VERSION_INFO.getVersion());
    System.out.println(
        "Source code repository " + HDDS_VERSION_INFO.getUrl() + " -r " +
            HDDS_VERSION_INFO.getRevision());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/HddsVersionInfo.java`
#### Snippet
```java
        "Source code repository " + HDDS_VERSION_INFO.getUrl() + " -r " +
            HDDS_VERSION_INFO.getRevision());
    System.out.println("Compiled by " + HDDS_VERSION_INFO.getUser() + " on "
        + HDDS_VERSION_INFO.getDate());
    System.out.println(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/HddsVersionInfo.java`
#### Snippet
```java
    System.out.println("Compiled by " + HDDS_VERSION_INFO.getUser() + " on "
        + HDDS_VERSION_INFO.getDate());
    System.out.println(
        "Compiled with protoc " + HDDS_VERSION_INFO.getHadoopProtoc2Version() +
            ", " + HDDS_VERSION_INFO.getGrpcProtocVersion() +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/HddsVersionInfo.java`
#### Snippet
```java
            ", " + HDDS_VERSION_INFO.getGrpcProtocVersion() +
            " and " + HDDS_VERSION_INFO.getHadoopProtoc3Version());
    System.out.println(
        "From source with checksum " + HDDS_VERSION_INFO.getSrcChecksum());
    if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ListSubCommand.java`
#### Snippet
```java
  public Void call() throws Exception {

    System.out.println("Available insight points:\n\n");

    Map<String, InsightPoint> insightPoints =
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ListSubCommand.java`
#### Snippet
```java
    for (Entry<String, InsightPoint> entry : insightPoints.entrySet()) {
      if (insightPrefix == null || entry.getKey().startsWith(insightPrefix)) {
        System.out.println(String.format("  %-33s    %s", entry.getKey(),
            entry.getValue().getDescription()));
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
            .collect(Collectors.toSet());
    Map<Component, List<String>> metrics = getMetrics(conf, sources);
    System.out.println(
        "Metrics for `" + insightName + "` (" + insight.getDescription() + ")");
    System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
    System.out.println(
        "Metrics for `" + insightName + "` (" + insight.getDescription() + ")");
    System.out.println();
    for (MetricGroupDisplay group : insight.getMetrics(filters)) {
      System.out.println(group.getDescription());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
    System.out.println();
    for (MetricGroupDisplay group : insight.getMetrics(filters)) {
      System.out.println(group.getDescription());
      System.out.println();
      for (MetricDisplay display : group.getMetrics()) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
    for (MetricGroupDisplay group : insight.getMetrics(filters)) {
      System.out.println(group.getDescription());
      System.out.println();
      for (MetricDisplay display : group.getMetrics()) {
        System.out.println("  " + display.getDescription() + ": " + selectValue(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
      System.out.println();
      for (MetricDisplay display : group.getMetrics()) {
        System.out.println("  " + display.getDescription() + ": " + selectValue(
            metrics.get(group.getComponent()), display));
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
            metrics.get(group.getComponent()), display));
      }
      System.out.println();
      System.out.println();

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
      }
      System.out.println();
      System.out.println();

    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        Config config = field.getAnnotation(Config.class);
        String key = prefix + "." + config.key();
        System.out.println(">>> " + key);
        System.out.println("       default: " + config.defaultValue());
        System.out.println("       current: " + conf.get(key));
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        String key = prefix + "." + config.key();
        System.out.println(">>> " + key);
        System.out.println("       default: " + config.defaultValue());
        System.out.println("       current: " + conf.get(key));
        System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        System.out.println(">>> " + key);
        System.out.println("       default: " + config.defaultValue());
        System.out.println("       current: " + conf.get(key));
        System.out.println();
        System.out.println(config.description());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        System.out.println("       default: " + config.defaultValue());
        System.out.println("       current: " + conf.get(key));
        System.out.println();
        System.out.println(config.description());
        System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        System.out.println("       current: " + conf.get(key));
        System.out.println();
        System.out.println(config.description());
        System.out.println();
        System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        System.out.println();
        System.out.println(config.description());
        System.out.println();
        System.out.println();
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        System.out.println(config.description());
        System.out.println();
        System.out.println();
      }
      final Class superclass = clazz.getSuperclass();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
    InsightPoint insight =
        getInsight(getInsightCommand().createOzoneConfiguration(), insightName);
    System.out.println(
        "Configuration for `" + insightName + "` (" + insight.getDescription()
            + ")");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java`
#### Snippet
```java
        "Configuration for `" + insightName + "` (" + insight.getDescription()
            + ")");
    System.out.println();

    Type type = Type.valueOf(insightName.split("\\.")[0].toUpperCase());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java
            .map(this::processLogLine)
            .map(l -> "[" + logComponent.prefix() + "] " + l)
            .forEach(System.out::println);
      }
    } catch (IOException e) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManagerStarter.java`
#### Snippet
```java
  public void generateClusterId() {
    commonInit();
    System.out.println("Generating new cluster id:");
    System.out.println(receiver.generateClusterId());
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManagerStarter.java`
#### Snippet
```java
    commonInit();
    System.out.println("Generating new cluster id:");
    System.out.println(receiver.generateClusterId());
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        omStorage.setClusterId(clusterId);
        omStorage.initialize();
        System.out.println(
            "OM initialization succeeded.Current cluster id for sd="
                + omStorage.getStorageDir() + ";cid=" + omStorage
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
                .getLayoutVersion());
      } else {
        System.out.println(
            "OM already initialized.Reusing existing cluster id for sd="
                + omStorage.getStorageDir() + ";cid=" + omStorage
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/freon/FakeRatisFollower.java`
#### Snippet
```java
      RequestVoteRequestProto request) {
    addLatency();
    System.out.println("Request vote response");
    return RequestVoteReplyProto.newBuilder()
        .setServerReply(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java

  public static void main(String[] args) {
    System.out.println(
        "                  //////////////                 \n" +
        "               ////////////////////              \n" +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java
            "              /    " + OZONE_VERSION_INFO.getVersion() + "("
            + OZONE_VERSION_INFO.getRelease() + ")\n");
    System.out.println(
        "Source code repository " + OZONE_VERSION_INFO.getUrl() + " -r " +
            OZONE_VERSION_INFO.getRevision());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java
        "Source code repository " + OZONE_VERSION_INFO.getUrl() + " -r " +
            OZONE_VERSION_INFO.getRevision());
    System.out.println("Compiled by " + OZONE_VERSION_INFO.getUser() + " on "
        + OZONE_VERSION_INFO.getDate());
    System.out.println(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java
    System.out.println("Compiled by " + OZONE_VERSION_INFO.getUser() + " on "
        + OZONE_VERSION_INFO.getDate());
    System.out.println(
        "Compiled with protoc " + OZONE_VERSION_INFO.getHadoopProtoc2Version() +
            ", " + OZONE_VERSION_INFO.getGrpcProtocVersion() +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java
            ", " + OZONE_VERSION_INFO.getGrpcProtocVersion() +
            " and " + OZONE_VERSION_INFO.getHadoopProtoc3Version());
    System.out.println(
        "From source with checksum " + OZONE_VERSION_INFO.getSrcChecksum());
    System.out.println(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java
    System.out.println(
        "From source with checksum " + OZONE_VERSION_INFO.getSrcChecksum());
    System.out.println(
        "With Apache Ratis: " + RATIS_VERSION_INFO.getBuildVersion());
    System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/OzoneVersionInfo.java`
#### Snippet
```java
    System.out.println(
        "With Apache Ratis: " + RATIS_VERSION_INFO.getBuildVersion());
    System.out.println();
    LOG.debug("This command was run using " +
        ClassUtil.findContainingJar(OzoneVersionInfo.class));
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/conf/OzoneGetConf.java`
#### Snippet
```java

  protected OzoneGetConf(OzoneConfiguration conf) {
    this(conf, System.out, System.err);
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/conf/OzoneGetConf.java`
#### Snippet
```java

  protected OzoneGetConf(OzoneConfiguration conf) {
    this(conf, System.out, System.err);
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/fsck/ContainerMapper.java`
#### Snippet
```java

    ObjectMapper mapper = new ObjectMapper();
    System.out.println(mapper.writeValueAsString(dataMap));

  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/DecommissionOMSubcommand.java`
#### Snippet
```java
      omAdminProtocolClient.decommission(decommNodeDetails);

      System.out.println("Successfully decommissioned OM " + decommNodeId);
    } catch (IOException e) {
      System.out.println("Failed to decommission OM " + decommNodeId);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/DecommissionOMSubcommand.java`
#### Snippet
```java
      System.out.println("Successfully decommissioned OM " + decommNodeId);
    } catch (IOException e) {
      System.out.println("Failed to decommission OM " + decommNodeId);
      throw e;
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
        // when there is already nothing to take over.
        if (isFinalized(progress.status())) {
          System.out.println("Finalization already finished.");
          emitExitMsg();
          return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
        }
        if (isInprogress(progress.status()) || isDone(progress.status())) {
          progress.msgs().stream().forEachOrdered(System.out::println);
        }
        if (isDone(progress.status())) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
          client.finalizeUpgrade(upgradeClientID);
      if (isFinalized(finalizationResponse.status())) {
        System.out.println("Upgrade has already been finalized.");
        emitExitMsg();
        return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
        return null;
      } else if (!isStarting(finalizationResponse.status())) {
        System.err.println("Invalid response from Ozone Manager.");
        System.err.println(
            "Current finalization status is: " + finalizationResponse.status()
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
      } else if (!isStarting(finalizationResponse.status())) {
        System.err.println("Invalid response from Ozone Manager.");
        System.err.println(
            "Current finalization status is: " + finalizationResponse.status()
        );
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
    long prepareTxnId = client.prepareOzoneManager(txnApplyWaitTimeSeconds,
        txnApplyCheckIntervalSeconds);
    System.out.println("Ozone Manager Prepare Request successfully returned " +
        "with Transaction Id : [" + prepareTxnId + "].");

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
    Duration pInterval = Duration.of(prepareCheckInterval, ChronoUnit.SECONDS);

    System.out.println();
    System.out.println("Checking individual OM instances for prepare request " +
        "completion...");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java

    System.out.println();
    System.out.println("Checking individual OM instances for prepare request " +
        "completion...");
    long endTime = System.currentTimeMillis() + pTimeout.toMillis();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
                singleOmClient.getOzoneManagerPrepareStatus(prepareTxnId);
            PrepareStatus status = response.getStatus();
            System.out.println("OM : [" + omHost + "], Prepare " +
                "Status : [" + status.name() + "], Current Transaction Id : [" +
                response.getCurrentTxnIndex() + "]");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/CancelPrepareSubCommand.java`
#### Snippet
```java
    OzoneManagerProtocol client = parent.createOmClient(omServiceId);
    client.cancelOzoneManagerPrepare();
    System.out.println("Cancel prepare succeeded, cluster can now accept " +
        "write requests.");
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
            }
          } catch (IOException ioEx) {
            System.out.println("Exception while checking preparation " +
                "completeness for [" + omHost +
                "], Error : [" + ioEx.getMessage() + "]");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
      }
      if (currentNumPreparedOms < expectedNumPreparedOms) {
        System.out.println("Waiting for " + prepareCheckInterval +
            " seconds before retrying...");
        Thread.sleep(pInterval.toMillis());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
          " prepared yet.");
    } else {
      System.out.println();
      System.out.println("OM Preparation successful! ");
      if (currentNumPreparedOms == expectedNumPreparedOms) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
    } else {
      System.out.println();
      System.out.println("OM Preparation successful! ");
      if (currentNumPreparedOms == expectedNumPreparedOms) {
        System.out.println("All OMs are prepared");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
      System.out.println("OM Preparation successful! ");
      if (currentNumPreparedOms == expectedNumPreparedOms) {
        System.out.println("All OMs are prepared");
      } else {
        System.out.println("A majority of OMs are prepared. OMs that are not " +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
        System.out.println("All OMs are prepared");
      } else {
        System.out.println("A majority of OMs are prepared. OMs that are not " +
            "prepared : " +
            omPreparedStatusMap.entrySet().stream()
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
                .collect(Collectors.joining()));
      }
      System.out.println("No new write requests will be allowed until " +
          "preparation is cancelled or upgrade/downgrade is done.");
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/UpdateRangerSubcommand.java`
#### Snippet
```java

    if (StringUtils.isEmpty(omServiceId) && StringUtils.isEmpty(omHost)) {
      System.err.println("Error: Please specify -id or -host");
      return null;
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/UpdateRangerSubcommand.java`
#### Snippet
```java

      if (res) {
        System.out.println("Operation completed successfully");
      } else {
        System.err.println("Operation completed with errors. "
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/UpdateRangerSubcommand.java`
#### Snippet
```java
        System.out.println("Operation completed successfully");
      } else {
        System.err.println("Operation completed with errors. "
            + "Check OM log for details");
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/UpdateRangerSubcommand.java`
#### Snippet
```java

    } catch (OzoneClientException ex) {
      System.err.printf("Error: %s", ex.getMessage());
    }
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/GetServiceRolesSubcommand.java`
#### Snippet
```java
      getOmServerRoles(ozoneManagerClient.getServiceList());
    } catch (OzoneClientException ex) {
      System.out.printf("Error: %s", ex.getMessage());
    } finally {
      if (ozoneManagerClient != null) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/GetServiceRolesSubcommand.java`
#### Snippet
```java
      if (omRoleInfo != null &&
          serviceInfo.getNodeType() == HddsProtos.NodeType.OM) {
        System.out.println(
            serviceInfo.getOmRoleInfo().getNodeId() + " : " +
                serviceInfo.getOmRoleInfo().getServerRole() + " (" +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizationStatusSubCommand.java`
#### Snippet
```java
    UpgradeFinalizer.StatusAndMessages progress =
        client.queryUpgradeFinalizationProgress(upgradeClientID, false, true);
    System.out.println(progress.status());
    return null;
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java

  public static void emitGeneralErrorMsg() {
    System.err.println("Finalization was not successful.");
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java

  public static void emitCancellationMsg(String component) {
    System.err.println("Finalization command was cancelled. Note that, this"
        + "will not cancel finalization in " + component + ". Progress can be"
        + "monitored in the Ozone Manager's log.");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java

  public static void emitFinishedMsg(String component) {
    System.out.println("Finalization of " + component + "'s metadata upgrade "
        + "finished.");
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java

  public static void emitExitMsg() {
    System.out.println("Exiting...");
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java
        return;
      }
      System.err.println("Finalization is already in progress, it is not"
          + "possible to initiate it again.");
      e.printStackTrace(System.err);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java
      System.err.println("Finalization is already in progress, it is not"
          + "possible to initiate it again.");
      e.printStackTrace(System.err);
      System.err.println("If you want to track progress from a new client"
          + "for any reason, use --takeover, and the status update will be"
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeUpgradeCommandUtil.java`
#### Snippet
```java
          + "possible to initiate it again.");
      e.printStackTrace(System.err);
      System.err.println("If you want to track progress from a new client"
          + "for any reason, use --takeover, and the status update will be"
          + "received by the new client. Note that with forcing to monitor"
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/GetScmRatisRolesSubcommand.java`
#### Snippet
```java
    List<String> roles = scmClient.getScmRatisRoles();
    for (String role: roles) {
      System.out.println(role);
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizationScmStatusSubcommand.java`
#### Snippet
```java
    UpgradeFinalizer.StatusAndMessages progress =
        client.queryUpgradeFinalizationProgress(upgradeClientID, false, true);
    System.out.println(progress.status());
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/ResetDeletedBlockRetryCountSubcommand.java`
#### Snippet
```java
    } else {
      if (group.txList == null || group.txList.isEmpty()) {
        System.out.println("TransactionId list should not be empty");
        return;
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/ResetDeletedBlockRetryCountSubcommand.java`
#### Snippet
```java
      count = client.resetDeletedBlockRetryCount(group.txList);
    }
    System.out.println("Reset " + count + " deleted block transactions in" +
        " SCM.");
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/SummarySubCommand.java`
#### Snippet
```java
      printWithUnderline("Entity Type", false);
      printKVSeparator();
      System.out.println(summaryResponse.get("type"));
      int numVol = ((Double) summaryResponse.get("numVolume")).intValue();
      int numBucket = ((Double) summaryResponse.get("numBucket")).intValue();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/SummarySubCommand.java`
#### Snippet
```java
        printWithUnderline("Volumes", false);
        printKVSeparator();
        System.out.println(numVol);
      }
      if (numBucket != -1) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/SummarySubCommand.java`
#### Snippet
```java
        printWithUnderline("Buckets", false);
        printKVSeparator();
        System.out.println(numBucket);
      }
      if (numDir != -1) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/SummarySubCommand.java`
#### Snippet
```java
        printWithUnderline("Directories", false);
        printKVSeparator();
        System.out.println(numDir);
      }
      if (numKey != -1) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/SummarySubCommand.java`
#### Snippet
```java
        printWithUnderline("Keys", false);
        printKVSeparator();
        System.out.println(numKey);
      }
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
        // when there is already nothing to take over.
        if (isFinalized(progress.status())) {
          System.out.println("Finalization already finished.");
          emitExitMsg();
          return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
        }
        if (isInprogress(progress.status()) || isDone(progress.status())) {
          progress.msgs().stream().forEachOrdered(System.out::println);
        }
        if (isDone(progress.status())) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
          scmClient.finalizeScmUpgrade(upgradeClientID);
      if (isFinalized(finalizationResponse.status())) {
        System.out.println("Upgrade has already been finalized.");
        emitExitMsg();
        return;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
        return;
      } else if (!isStarting(finalizationResponse.status())) {
        System.err.println("Invalid response from Storage Container Manager.");
        System.err.println(
            "Current finalization status is: " + finalizationResponse.status()
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
      } else if (!isStarting(finalizationResponse.status())) {
        System.err.println("Invalid response from Storage Container Manager.");
        System.err.println(
            "Current finalization status is: " + finalizationResponse.status()
        );
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
      long quotaUsed = (long)(double)quotaResponse.get("used");
      printSpaces(2);
      System.out.print("Allowed");
      printKVSeparator();
      if (quotaAllowed != -1) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
      printKVSeparator();
      if (quotaAllowed != -1) {
        System.out.println(FileUtils.byteCountToDisplaySize(quotaAllowed));
      } else {
        System.out.println("Quota not set");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
        System.out.println(FileUtils.byteCountToDisplaySize(quotaAllowed));
      } else {
        System.out.println("Quota not set");
      }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java

      printSpaces(2);
      System.out.print("Used");
      printKVSeparator();
      System.out.println(FileUtils.byteCountToDisplaySize(quotaUsed));
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
      System.out.print("Used");
      printKVSeparator();
      System.out.println(FileUtils.byteCountToDisplaySize(quotaUsed));

      printSpaces(2);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java

      printSpaces(2);
      System.out.print("Remaining");
      printKVSeparator();
      if (quotaAllowed != -1) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
      printKVSeparator();
      if (quotaAllowed != -1) {
        System.out.println(
            FileUtils.byteCountToDisplaySize(quotaAllowed - quotaUsed));
      } else {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/QuotaUsageSubCommand.java`
#### Snippet
```java
            FileUtils.byteCountToDisplaySize(quotaAllowed - quotaUsed));
      } else {
        System.out.println("Unknown");
      }
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
      if (sum == 0) {
        printSpaces(2);
        System.out.println("The object is empty.\n" +
            "Put more files into it to visualize file size distribution");
        printNewLines(1);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
  private void printDistRow(String label, double num, double sum) {
    printSpaces(2);
    System.out.print(label);
    System.out.print(" - ");
    System.out.printf("%.1f", (num / sum) * 100);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
    printSpaces(2);
    System.out.print(label);
    System.out.print(" - ");
    System.out.printf("%.1f", (num / sum) * 100);
    System.out.print("% ");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
    System.out.print(label);
    System.out.print(" - ");
    System.out.printf("%.1f", (num / sum) * 100);
    System.out.print("% ");
    System.out.println("(" + (int) num + ")");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
    System.out.print(" - ");
    System.out.printf("%.1f", (num / sum) * 100);
    System.out.print("% ");
    System.out.println("(" + (int) num + ")");
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/FileSizeDistSubCommand.java`
#### Snippet
```java
    System.out.printf("%.1f", (num / sum) * 100);
    System.out.print("% ");
    System.out.println("(" + (int) num + ")");
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryAdmin.java`
#### Snippet
```java
      return Objects.nonNull(bucket);
    } catch (IOException e) {
      System.out.println(
          "Bucket layout couldn't be verified for path: " + ofsPath +
              ". Exception: " + e);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryAdmin.java`
#### Snippet
```java
      return resolvedBucketLayout.isObjectStore(enableFileSystemPaths);
    } catch (IOException e) {
      System.out.println(
          "Bucket layout couldn't be verified for path: " + ofsPath +
              ". Exception: " + e);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryAdmin.java`
#### Snippet
```java
      return resolvedBucketLayout.isFileSystemOptimized();
    } catch (IOException e) {
      System.out.println(
          "Bucket layout couldn't be verified for path: " + ofsPath +
              ". Exception: " + e);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java

  public static void printKVSeparator() {
    System.out.print(" : ");
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java

  public static void printPathNotFound() {
    System.err.println("Path not found in the system.\n" +
        "Did you remove any protocol prefix before the path?");
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
  public static void printBucketReminder() {
    printNewLines(1);
    System.out.println(
        "[Warning] Namespace CLI is not designed for OBS bucket layout.\n" +
            "Bucket being accessed must be of type FILE_SYSTEM_OPTIMIZED " +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
  public static void printTypeNA(String requestType) {
    String markUp = "@|underline " + requestType + "|@";
    System.err.println("Path found in the system.\nBut the entity type " +
        "is not applicable to the " + Ansi.AUTO.string(markUp) + " request");
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
    }

    System.out.println("Connecting to Recon: " + url + " ...");
    final URLConnectionFactory connectionFactory =
        URLConnectionFactory.newDefaultURLConnectionFactory(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java

      if (httpURLConnection.getErrorStream() != null) {
        System.out.println("Recon is being initialized. Please wait a moment");
        return null;
      } else {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
        return null;
      } else {
        System.out.println("Unexpected null in http payload," +
            " while processing request");
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
      return null;
    } catch (ConnectException ex) {
      System.err.println("Connection Refused. Please make sure the " +
          "Recon Server has been started.");
      return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
      return null;
    } catch (AuthenticationException authEx) {
      System.err.println("Authentication Failed. Please make sure you " +
          "have login or disable Ozone security settings.");
      return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
  public static void printNewLines(int cnt) {
    for (int i = 0; i < cnt; ++i) {
      System.out.println();
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java

  public static void printEmptyPathRequest() {
    System.err.println("The path parameter is empty.\n" +
        "If you mean the root path, use / instead.");
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
  public static void printSpaces(int cnt) {
    for (int i = 0; i < cnt; ++i) {
      System.out.print(" ");
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
    String markupStr = "@|underline " + str + "|@";
    if (newLine) {
      System.out.println(Ansi.AUTO.string(markupStr));
    } else {
      System.out.print(Ansi.AUTO.string(markupStr));
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
      System.out.println(Ansi.AUTO.string(markupStr));
    } else {
      System.out.print(Ansi.AUTO.string(markupStr));
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/QueryCommandHandler.java`
#### Snippet
```java
  public Void call() throws Exception {
    try {
      System.out.println(
          DatabaseHelper.executeCustomQuery(auditParser.getDatabase(), query)
      );
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/QueryCommandHandler.java`
#### Snippet
```java
      );
    } catch (SQLException ex) {
      System.err.println(ex.getMessage());
    }
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/TemplateCommandHandler.java`
#### Snippet
```java
    try {
      if (DatabaseHelper.validateTemplate(template)) {
        System.out.println(
            DatabaseHelper.executeTemplate(auditParser.getDatabase(),
                template)
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/TemplateCommandHandler.java`
#### Snippet
```java
        );
      } else {
        System.err.println("ERROR: Invalid template name - " + template);
      }
    } catch (SQLException ex) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/TemplateCommandHandler.java`
#### Snippet
```java
      }
    } catch (SQLException ex) {
      System.err.println(ex.getMessage());
    }
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/LoadCommandHandler.java`
#### Snippet
```java
  public Void call() throws Exception {
    if (DatabaseHelper.setup(auditParser.getDatabase(), logs)) {
      System.out.println(logs + " has been loaded successfully");
    } else {
      System.out.println("Failed to load " + logs);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/handler/LoadCommandHandler.java`
#### Snippet
```java
      System.out.println(logs + " has been loaded successfully");
    } else {
      System.out.println("Failed to load " + logs);
    }
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
        printWithUnderline("Path", false);
        printKVSeparator();
        System.out.println(duResponse.get("path"));

        printWithUnderline("Total Size", false);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
        printWithUnderline("Total Size", false);
        printKVSeparator();
        System.out.println(FileUtils.byteCountToDisplaySize(totalSize));

        if (withReplica) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
          printKVSeparator();
          long du = (long)(double)duResponse.get("sizeWithReplica");
          System.out.println(FileUtils.byteCountToDisplaySize(du));
        }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
          printWithUnderline("Size of Direct Keys", false);
          printKVSeparator();
          System.out.println(FileUtils.byteCountToDisplaySize(sizeDirectKey));
        }
        printNewLines(1);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
        if (totalSize == 0) {
          // the object is empty
          System.out.println("The object is empty.\n" +
              "Put more files into it to visualize DU");
        } else {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
              "Put more files into it to visualize DU");
        } else {
          System.out.println("There's no immediate " +
              "sub-path under this object.");
          // remind clients if listFiles is not enabled
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
          // remind clients if listFiles is not enabled
          if (!listFiles) {
            System.out.println("Add -f as an option to visualize files " +
                "as sub-path, if any.");
          }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
  private void printDUHeader() {
    printSpaces(SIZE_INDENT);
    System.out.print(SIZE_HEADER);
    printSpaces(DU_INDENT - SIZE_INDENT - SIZE_HEADER.length());
    if (withReplica) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
    printSpaces(DU_INDENT - SIZE_INDENT - SIZE_HEADER.length());
    if (withReplica) {
      System.out.print(DU_HEADER);
      printSpaces(PATH_INDENT - DU_INDENT - DU_HEADER.length());
      System.out.println(PATH_HEADER);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
      System.out.print(DU_HEADER);
      printSpaces(PATH_INDENT - DU_INDENT - DU_HEADER.length());
      System.out.println(PATH_HEADER);
    } else {
      System.out.println(PATH_HEADER);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
      System.out.println(PATH_HEADER);
    } else {
      System.out.println(PATH_HEADER);
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
    printSpaces(SIZE_INDENT);
    String dataSize = FileUtils.byteCountToDisplaySize(size);
    System.out.print(dataSize);
    printSpaces(DU_INDENT - SIZE_INDENT - dataSize.length());
    if (sizeWithReplica != -1) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
      String dataSizeWithReplica =
          FileUtils.byteCountToDisplaySize(sizeWithReplica);
      System.out.print(dataSizeWithReplica);
      printSpaces(PATH_INDENT - DU_INDENT - dataSizeWithReplica.length());
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/DiskUsageSubCommand.java`
#### Snippet
```java
      printSpaces(PATH_INDENT - DU_INDENT - dataSizeWithReplica.length());
    }
    System.out.println(subPath);
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DropTable.java`
#### Snippet
```java
      }
      if (toBeDeletedCf == null) {
        System.err.println(tableName + " is not in a column family in DB "
            + parent.getDbPath());
      } else {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DropTable.java`
#### Snippet
```java
            + parent.getDbPath());
      } else {
        System.out.println(tableName + " will be deleted from DB "
            + parent.getDbPath());
        rocksDB.get().dropColumnFamily(toBeDeletedCf);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ListTables.java`
#### Snippet
```java
        parent.getDbPath());
    for (byte[] b : columnFamilies) {
      System.out.println(new String(b, StandardCharsets.UTF_8));
    }
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/container/ContainerCommands.java`
#### Snippet
```java

  public static void outputContainer(ContainerData data) throws IOException {
    System.out.println(JsonUtils.toJsonStringWithDefaultPrettyPrinter(data));
  }
}
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ChunkKeyHandler.java`
#### Snippet
```java
    // for zero-sized key
    if (locationInfos.isEmpty()) {
      System.out.println("No Key Locations Found");
      return;
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ChunkKeyHandler.java`
#### Snippet
```java
    Gson gson2 = new GsonBuilder().setPrettyPrinting().create();
    String prettyJson = gson2.toJson(result);
    System.out.println(prettyJson);
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
                    String file) throws Exception {
    if (!Files.exists(Paths.get(db))) {
      System.out.println("DB path not exist:" + db);
      return;
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    }

    System.out.println("FilePath is:" + file);
    System.out.println("Db Path is:" + db);

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java

    System.out.println("FilePath is:" + file);
    System.out.println("Db Path is:" + db);

    OzoneConfiguration conf = new OzoneConfiguration();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    String volumeKey = metadataManager.getVolumeKey(vol);
    if (!metadataManager.getVolumeTable().isExist(volumeKey)) {
      System.out.println("Invalid Volume:" + vol);
      metadataManager.stop();
      return;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    OmBucketInfo info = metadataManager.getBucketTable().get(bucketKey);
    if (info == null) {
      System.out.println("Invalid Bucket:" + buck);
      metadataManager.stop();
      return;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java

    if (!bucketLayout.isFileSystemOptimized()) {
      System.out.println("Prefix tool only works for FileSystem Optimized" +
              "bucket. Bucket Layout is:" + bucketLayout);
      metadataManager.stop();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
          getEffectivePath(effectivePath, elem.toString());
      if (directoryInfo == null) {
        System.out.println("Given path contains a non-existent directory at:" +
            tmpPath);
        System.out.println("Dumping files and dirs at level:" +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
        System.out.println("Given path contains a non-existent directory at:" +
            tmpPath);
        System.out.println("Dumping files and dirs at level:" +
            tmpPath.getParent());
        System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
        System.out.println("Dumping files and dirs at level:" +
            tmpPath.getParent());
        System.out.println();
        parserStats[Types.NON_EXISTENT_DIRECTORY.ordinal()]++;
        break;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
                        WithParentObjectId id,  String key) {
    parserStats[level.ordinal()]++;
    System.out.println("Type:" + level);
    System.out.println("Path: " + effectivePath);
    System.out.println("DB Path: " + key);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    parserStats[level.ordinal()]++;
    System.out.println("Type:" + level);
    System.out.println("Path: " + effectivePath);
    System.out.println("DB Path: " + key);
    System.out.println("Object Id: " + id.getObjectID());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    System.out.println("Type:" + level);
    System.out.println("Path: " + effectivePath);
    System.out.println("DB Path: " + key);
    System.out.println("Object Id: " + id.getObjectID());
    System.out.println("Parent object Id: " + id.getParentObjectID());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    System.out.println("Path: " + effectivePath);
    System.out.println("DB Path: " + key);
    System.out.println("Object Id: " + id.getObjectID());
    System.out.println("Parent object Id: " + id.getParentObjectID());
    System.out.println();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    System.out.println("DB Path: " + key);
    System.out.println("Object Id: " + id.getObjectID());
    System.out.println("Parent object Id: " + id.getParentObjectID());
    System.out.println();

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/PrefixParser.java`
#### Snippet
```java
    System.out.println("Object Id: " + id.getObjectID());
    System.out.println("Parent object Id: " + id.getParentObjectID());
    System.out.println();

  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
  private void constructColumnFamilyMap(DBDefinition dbDefinition) {
    if (dbDefinition == null) {
      System.out.println("Incorrect Db Path");
      return;
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
            .getColumnFamilies();
    for (DBColumnFamilyDefinition definition:columnFamilyDefinitions) {
      System.out.println("Added definition for table:" +
          definition.getTableName());
      this.columnFamilyMap.put(definition.getTableName(), definition);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
          printWriter.println(result);
        } else {
          System.out.println(result.toString());
        }
        limit--;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
    if (this.columnFamilyMap != null) {
      if (!this.columnFamilyMap.containsKey(tableName)) {
        System.out.print("Table with name:" + tableName + " does not exist");
      } else {
        DBColumnFamilyDefinition columnFamilyDefinition =
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
      }
    } else {
      System.out.println("Incorrect db Path");
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ReadReplicas.java`
#### Snippet
```java
        String fileName = keyName + "_block" + blockIndex + "_" +
            replica.getKey().getHostName();
        System.out.println("Writing : " + fileName);
        File replicaFile
            = new File(outputDir + "/" + directoryName + "/" + fileName);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ReadReplicas.java`
#### Snippet
```java
    String directoryName = volumeName + "_" + bucketName + "_" + keyName +
        "_" + fileSuffix;
    System.out.println("Creating directory : " + directoryName);
    File dir = new File(outputDir + "/" + directoryName);
    if (!dir.exists()) {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ReadReplicas.java`
#### Snippet
```java
    if (!dir.exists()) {
      if (dir.mkdir()) {
        System.out.println("Successfully created!");
      } else {
        throw new IOException(String.format(
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ReadReplicas.java`
#### Snippet
```java

    String manifestFileName = keyName + "_manifest";
    System.out.println("Writing manifest file : " + manifestFileName);
    File manifestFile
        = new File(outputDir + "/" + directoryName + "/" + manifestFileName);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/LeaderAppendLogEntryGenerator.java`
#### Snippet
```java
    long containerId = 1L;

    System.out.println(client.sendCommand(createContainerRequest(containerId)));

    timer = getMetrics().timer("append-entry");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Shell.java`
#### Snippet
```java
      // In non-verbose mode, reformat OMExceptions as error messages to the
      // user.
      System.err.println(String.format("%s %s", omException.getResult().name(),
              omException.getMessage()));
    } else {
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java
    executor = Executors.newFixedThreadPool(threadNo);

    progressBar = new ProgressBar(System.out, testNo, successCounter::get,
        freonCommand.isInteractive());
    progressBar.start();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java

    Consumer<String> print = freonCommand.isInteractive()
        ? System.out::println
        : LOG::info;
    messages.forEach(print);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java
  public void print(String msg) {
    Consumer<String> print = freonCommand.isInteractive()
            ? System.out::println
            : LOG::info;
    print.accept(msg);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java`
#### Snippet
```java

  protected PrintStream err() {
    return System.err;
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java`
#### Snippet
```java

  protected PrintStream out() {
    return System.out;
  }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/keys/CatKeyHandler.java`
#### Snippet
```java
    OzoneBucket bucket = vol.getBucket(bucketName);
    try (InputStream input = bucket.readKey(keyName)) {
      IOUtils.copyBytes(input, System.out, 4096);
    }
  }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/token/PrintTokenHandler.java`
#### Snippet
```java
    if (tokenFile.exists()) {
      Token<OzoneTokenIdentifier> token = tokenFile.decode();
      System.out.println(token.toString());
    }
    return null;
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.err` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/token/TokenOption.java`
#### Snippet
```java
    boolean exists = tokenFile != null && tokenFile.exists();
    if (!exists) {
      System.err.println("Error: token operation failed as token file: "
          + tokenFile + " containing encoded token doesn't exist.");
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/token/TokenOption.java`
#### Snippet
```java
        ts.addToken(token.getService(), token);
        ts.writeTokenStorageToStream(dos);
        System.out.println("Token persisted to " + tokenFile.toString() +
            " successfully!");
      }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      float blocksPerSec = execSecs != 0 ? (float) blocks / execSecs : blocks;

      System.out.println("***************************************");
      System.out.printf("Total allocated blocks: %d%n",
          succBlockCounter.get());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java

      System.out.println("***************************************");
      System.out.printf("Total allocated blocks: %d%n",
          succBlockCounter.get());
      System.out.printf("Total failed blocks: %d%n",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Total allocated blocks: %d%n",
          succBlockCounter.get());
      System.out.printf("Total failed blocks: %d%n",
          failBlockCounter.get());
      System.out.printf("Execution Time: %s%n", getFormattedTime());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Total failed blocks: %d%n",
          failBlockCounter.get());
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", blocksPerSec);
      System.out.println("***************************************");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
          failBlockCounter.get());
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", blocksPerSec);
      System.out.println("***************************************");
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", blocksPerSec);
      System.out.println("***************************************");
    }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
          (float) succReportsProcessed / execSecs : succReportsProcessed;

      System.out.println("***************************************");
      System.out.printf("Total container reports processed: %d%n",
          succReportsProcessed);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java

      System.out.println("***************************************");
      System.out.printf("Total container reports processed: %d%n",
          succReportsProcessed);
      System.out.printf("Total container reports failed: %d%n",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Total container reports processed: %d%n",
          succReportsProcessed);
      System.out.printf("Total container reports failed: %d%n",
          failReportsProcessed);
      System.out.printf("Containers per report: %d%n", containersPerReport);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Total container reports failed: %d%n",
          failReportsProcessed);
      System.out.printf("Containers per report: %d%n", containersPerReport);
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", reportsPerSec);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
          failReportsProcessed);
      System.out.printf("Containers per report: %d%n", containersPerReport);
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", reportsPerSec);
      System.out.println("***************************************");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Containers per report: %d%n", containersPerReport);
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", reportsPerSec);
      System.out.println("***************************************");
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", reportsPerSec);
      System.out.println("***************************************");
    }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
          (float)containers / execSecs : containers;

      System.out.println("***************************************");
      System.out.printf("Total allocated containers: %d%n",
          succContainerCounter.get());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java

      System.out.println("***************************************");
      System.out.printf("Total allocated containers: %d%n",
          succContainerCounter.get());
      System.out.printf("Total failed containers: %d%n",
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Total allocated containers: %d%n",
          succContainerCounter.get());
      System.out.printf("Total failed containers: %d%n",
          failContainerCounter.get());
      System.out.printf("Execution Time: %s%n", getFormattedTime());
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Total failed containers: %d%n",
          failContainerCounter.get());
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", containersPerSec);
      System.out.println("***************************************");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
          failContainerCounter.get());
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", containersPerSec);
      System.out.println("***************************************");
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
      System.out.printf("Execution Time: %s%n", getFormattedTime());
      System.out.printf("Throughput: %f (ops)%n", containersPerSec);
      System.out.println("***************************************");
    }

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/segmentparser/SCMRatisLogParser.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    System.out.println("Dumping SCM Ratis Log");

    parseRatisLogs(SCMRatisRequest::smProtoToString);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/segmentparser/OMRatisLogParser.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    System.out.println("Dumping OM Ratis Log");

    parseRatisLogs(OMRatisHelper::smProtoToString);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/segmentparser/DatanodeRatisLogParser.java`
#### Snippet
```java
  @Override
  public Void call() throws Exception {
    System.out.println("Dumping Datanode Ratis Log");
    System.out.println("Using Dummy PipelineID:" + DUMMY_PIPELINE_ID + "\n\n");

```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/segmentparser/DatanodeRatisLogParser.java`
#### Snippet
```java
  public Void call() throws Exception {
    System.out.println("Dumping Datanode Ratis Log");
    System.out.println("Using Dummy PipelineID:" + DUMMY_PIPELINE_ID + "\n\n");

    parseRatisLogs(DatanodeRatisLogParser::smToContainerLogString);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java

    LongSupplier currentValue = numberOfKeysAdded::get;
    progressbar = new ProgressBar(System.out, totalKeyCount, currentValue);

    LOG.info("Starting progress bar Thread.");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
  private void addShutdownHook() {
    ShutdownHookManager.get().addShutdownHook(() -> {
      printStats(System.out);
      if (freon != null) {
        freon.stopHttpServer();
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
    }
    LongSupplier currentValue = numberOfBucketsCleaned::get;
    progressbar = new ProgressBar(System.out, totalBucketCount, currentValue);

    LOG.info("Starting clean progress bar Thread.");
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/segmentparser/BaseLogParser.java`
#### Snippet
```java
      prl.dumpSegmentFile();
    } catch (Exception e) {
      System.out.println(DatanodeRatisLogParser.class.getSimpleName()
          + "failed with exception  " + e.toString());
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genconf/GenerateOzoneRequiredConfigurations.java`
#### Snippet
```java
      m.marshal(generatedConfig, output);

      System.out.println("ozone-site.xml has been generated at " + path);
    } else {
      System.out.printf("ozone-site.xml already exists at %s and " +
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genconf/GenerateOzoneRequiredConfigurations.java`
#### Snippet
```java
      System.out.println("ozone-site.xml has been generated at " + path);
    } else {
      System.out.printf("ozone-site.xml already exists at %s and " +
          "will not be overwritten%n", path);
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    for (String arg : args) {
      System.out.println("Original: " + arg);
      String quoted = quoteHtmlChars(arg);
      System.out.println("Quoted: " + quoted);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
      System.out.println("Original: " + arg);
      String quoted = quoteHtmlChars(arg);
      System.out.println("Quoted: " + quoted);
      String unquoted = unquoteHtmlChars(quoted);
      System.out.println("Unquoted: " + unquoted);
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
      System.out.println("Quoted: " + quoted);
      String unquoted = unquoteHtmlChars(quoted);
      System.out.println("Unquoted: " + unquoted);
      System.out.println();
    }
```

### RuleId[ruleID=SystemOutErr]
Uses of `System.out` should probably be replaced with more robust logging
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
      String unquoted = unquoteHtmlChars(quoted);
      System.out.println("Unquoted: " + unquoted);
      System.out.println();
    }
  }
```

## RuleId[ruleID=KotlinMavenPluginPhase]
### RuleId[ruleID=KotlinMavenPluginPhase]
You have kotlin-stdlib configured but no corresponding plugin execution
in `hadoop-hdds/common/pom.xml`
#### Snippet
```java
    <dependency>
      <groupId>org.jetbrains.kotlin</groupId>
      <artifactId>kotlin-stdlib</artifactId>
    </dependency>
    <dependency>
```

## RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
      return Optional.empty();
    }
    String hostname = value.replaceAll("\\:[0-9]+$", "");
    if (hostname.length() == 0) {
      return Optional.empty();
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/OzoneQuota.java`
#### Snippet
```java

    String uppercase = quotaInBytes.toUpperCase()
        .replaceAll("\\s+", "");
    String size = "";
    long nSize = 0;
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
    Preconditions.checkNotNull(clusterId);
    return RaftGroupId.valueOf(
        UUID.fromString(clusterId.replace(OzoneConsts.CLUSTER_ID_PREFIX, "")));
  }

```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java
    StringBuffer sb = new StringBuffer();
    while (m.find()) {
      m.appendReplacement(sb, "\n" + m.group(1).replaceAll("\\\\n", "\n"));
    }
    m.appendTail(sb);
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMDatanodeProtocolServer.java`
#### Snippet
```java
        .replaceAll(System.lineSeparator(), " ")
        .trim()
        .replaceAll(" +", " ");
  }

```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
      Result result) {
    auditMap.put(OzoneConsts.MULTIPART_LIST, partsList.toString()
        .replaceAll("\\n", " "));

    // audit log
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconRestServletModule.java`
#### Snippet
```java

  private void checkIfPackageExistsAndLog(String pkg, String path) {
    String resourcePath = pkg.replace(".", "/");
    URL resource = getClass().getClassLoader().getResource(resourcePath);
    if (resource != null) {
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java
      public Object construct(Node node) {
        String value = constructScalar((ScalarNode) node).toString()
            .replaceAll("_", "");
        int sign = +1;
        char first = value.charAt(0);
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/SchemaOneKeyCodec.java`
#### Snippet
```java
    String stringData = StringUtils.bytes2String(rawData);

    if (stringData.matches(prefixedBlockRegex)
        || stringData.matches(metadataRegex)) {

```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/SchemaOneKeyCodec.java`
#### Snippet
```java

    if (stringData.matches(prefixedBlockRegex)
        || stringData.matches(metadataRegex)) {

      LOG.trace("Byte array {} matched the format for a string key." +
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/SchemaOneDeletedBlocksTable.java`
#### Snippet
```java
    String result = null;
    if (key != null && key.startsWith(DELETED_KEY_PREFIX)) {
      result = key.replaceFirst(DELETED_KEY_PREFIX, "");
    }

```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java

    // Check if acl string contains scope info.
    if (parts[2].matches(ACL_SCOPE_REGEX)) {
      int indexOfOpenBracket = parts[2].indexOf("[");
      bits = parts[2].substring(0, indexOfOpenBracket);
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/common/DatabaseHelper.java`
#### Snippet
```java
          break;
        } else {
          if (!currentLine.matches(ParserConsts.DATE_REGEX)) {
            tempEntry.appendException(currentLine);
          } else {
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/common/DatabaseHelper.java`
#### Snippet
```java
            }
          }
          if (nextLine == null || nextLine.matches(ParserConsts.DATE_REGEX)) {
            listResult.add(tempEntry);
            tempEntry = null;
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
    String path = this.ozoneURI.getPath();

    path = path.replaceAll("^/+", "");

    int sep1 = path.indexOf('/');
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4HeaderParser.java`
#### Snippet
```java

    //split the value parts of the authorization header
    String[] split = authHeader.substring(firstSep + 1).trim().split(", *");

    if (split.length != 3) {
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/commontypes/ObjectKeyNameAdapter.java`
#### Snippet
```java
      throws UnsupportedEncodingException {
    return S3Utils.urlEncode(s)
        .replaceAll("%2F", "/");
  }
}
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
    try {
      return S3Utils.urlEncode(str)
          .replaceAll("\\+", "%20")
          .replaceAll("\\*", "%2A")
          .replaceAll("%7E", "~");
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
      return S3Utils.urlEncode(str)
          .replaceAll("\\+", "%20")
          .replaceAll("\\*", "%2A")
          .replaceAll("%7E", "~");
    } catch (UnsupportedEncodingException e) {
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
          .replaceAll("\\+", "%20")
          .replaceAll("\\*", "%2A")
          .replaceAll("%7E", "~");
    } catch (UnsupportedEncodingException e) {
      throw new RuntimeException(e);
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/OzoneProtocolMessageDispatcher.java`
#### Snippet
```java

  private static String escapeNewLines(Object input) {
    return input.toString().replaceAll("\n", "\\\\n");
  }
}
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java`
#### Snippet
```java
                event.getName(),
                executorAndHandlers.getKey().getName(),
                TRACING_SERIALIZER.toJson(payload).replaceAll("\n", "\\\\n"));
          } else if (LOG.isDebugEnabled()) {
            LOG.debug("Delivering [event={}] to executor/handler {}: {}",
```

### RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/ConfigurationSource.java`
#### Snippet
```java
    }

    return valueString.trim().split("\\s*[,\n]\\s*");
  }

```

## RuleId[ruleID=NonProtectedConstructorInAbstractClass]
### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BufferAllocator()` of an abstract class should not be declared 'public'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/BufferAllocator.java`
#### Snippet
```java
  private boolean usingDirect = false;

  public BufferAllocator(boolean usingDirect) {
    this.usingDirect = usingDirect;
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `RawErasureEncoder()` of an abstract class should not be declared 'public'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/RawErasureEncoder.java`
#### Snippet
```java
  private final ECReplicationConfig coderOptions;

  public RawErasureEncoder(ECReplicationConfig coderOptions) {
    this.coderOptions = coderOptions;
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `RawErasureDecoder()` of an abstract class should not be declared 'public'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/RawErasureDecoder.java`
#### Snippet
```java
  private final ECReplicationConfig coderOptions;

  public RawErasureDecoder(ECReplicationConfig coderOptions) {
    this.coderOptions = coderOptions;
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `NodeDetails()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/NodeDetails.java`
#### Snippet
```java
   * Constructs NodeDetails object.
   */
  public NodeDetails(String serviceId, String nodeId,
      InetSocketAddress rpcAddress, int ratisPort,
      String httpAddress, String httpsAddress) {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `NodeDetails()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/NodeDetails.java`
#### Snippet
```java
   * Constructs NodeDetails object.
   */
  public NodeDetails(String serviceId, String nodeId, String hostAddr,
      int rpcPort, int ratisPort, String httpAddress, String httpsAddress) {
    this.serviceId = serviceId;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `XceiverClientSpi()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientSpi.java`
#### Snippet
```java
  private boolean isEvicted;

  public XceiverClientSpi() {
    this.referenceCount = new AtomicInteger(0);
    this.isEvicted = false;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BackgroundService()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/BackgroundService.java`
#### Snippet
```java
  private final PeriodicalTask service;

  public BackgroundService(String serviceName, long interval,
      TimeUnit unit, int threadPoolSize, long serviceTimeout) {
    this.interval = interval;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `Storage()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java`
#### Snippet
```java
  }

  public Storage(NodeType type, File root, String sdName,
                 int defaultLayoutVersion)
      throws IOException {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `Storage()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Storage.java`
#### Snippet
```java
  }

  public Storage(NodeType type, File root, String sdName,
                 String id, int defaultLayoutVersion)
      throws IOException {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BasicUpgradeFinalizer()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
  private boolean isDone = false;

  public BasicUpgradeFinalizer(V versionManager) {
    this(versionManager, new DefaultUpgradeFinalizationExecutor<>());
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BasicUpgradeFinalizer()` of an abstract class should not be declared 'public'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
  }

  public BasicUpgradeFinalizer(V versionManager,
                               UpgradeFinalizationExecutor<T> executor) {
    this.versionManager = versionManager;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `SCMCommonPlacementPolicy()` of an abstract class should not be declared 'public'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
   * @param conf        Configuration class.
   */
  public SCMCommonPlacementPolicy(NodeManager nodeManager,
      ConfigurationSource conf) {
    this.nodeManager = nodeManager;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `PipelineProvider()` of an abstract class should not be declared 'public'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineProvider.java`
#### Snippet
```java
  private final PipelineStateManager stateManager;

  public PipelineProvider(NodeManager nodeManager,
      PipelineStateManager stateManager) {
    this.nodeManager = nodeManager;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `PipelineProvider()` of an abstract class should not be declared 'public'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineProvider.java`
#### Snippet
```java
  }

  public PipelineProvider() {
    this.nodeManager = null;
    this.stateManager = null;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `LeaderChoosePolicy()` of an abstract class should not be declared 'public'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/leader/choose/algorithms/LeaderChoosePolicy.java`
#### Snippet
```java
  private final PipelineStateManager pipelineStateManager;

  public LeaderChoosePolicy(
      NodeManager nodeManager, PipelineStateManager pipelineStateManager) {
    this.nodeManager = nodeManager;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `SafeModeExitRule()` of an abstract class should not be declared 'public'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeExitRule.java`
#### Snippet
```java
  private final String ruleName;

  public SafeModeExitRule(SCMSafeModeManager safeModeManager,
      String ruleName, EventQueue eventQueue) {
    this.safeModeManager = safeModeManager;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMClientRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
  }

  public OMClientRequest(OMRequest omRequest) {
    Preconditions.checkNotNull(omRequest);
    this.omRequest = omRequest;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMKeyAclRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequest.java`
#### Snippet
```java
  private BucketLayout bucketLayout = BucketLayout.DEFAULT;

  public OMKeyAclRequest(OMRequest omRequest) {
    super(omRequest);
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMKeyRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
  private BucketLayout bucketLayout = BucketLayout.DEFAULT;

  public OMKeyRequest(OMRequest omRequest) {
    super(omRequest);
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMKeyRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
  }

  public OMKeyRequest(OMRequest omRequest, BucketLayout bucketLayoutArg) {
    super(omRequest);
    this.bucketLayout = bucketLayoutArg;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMKeyAclRequestWithFSO()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequestWithFSO.java`
#### Snippet
```java
public abstract class OMKeyAclRequestWithFSO extends OMKeyAclRequest {

  public OMKeyAclRequestWithFSO(OzoneManagerProtocolProtos.OMRequest omReq,
                                BucketLayout bucketLayout) {
    super(omReq);
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMPrefixAclRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/prefix/OMPrefixAclRequest.java`
#### Snippet
```java
public abstract class OMPrefixAclRequest extends OMClientRequest {

  public OMPrefixAclRequest(OMRequest omRequest) {
    super(omRequest);
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMVolumeRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/OMVolumeRequest.java`
#### Snippet
```java
      LoggerFactory.getLogger(OMVolumeRequest.class);

  public OMVolumeRequest(OMRequest omRequest) {
    super(omRequest);
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMBucketAclRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/acl/OMBucketAclRequest.java`
#### Snippet
```java
  private BooleanBiFunction<List<OzoneAcl>, OmBucketInfo> omBucketAclOp;

  public OMBucketAclRequest(OMRequest omRequest,
      BooleanBiFunction<List<OzoneAcl>, OmBucketInfo> aclOp) {
    super(omRequest);
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMVolumeAclRequest()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/acl/OMVolumeAclRequest.java`
#### Snippet
```java
      omVolumeAclOp;

  public OMVolumeAclRequest(OzoneManagerProtocolProtos.OMRequest omRequest,
      CheckedBiFunction<List<OzoneAcl>, OmVolumeArgs, IOException> aclOp) {
    super(omRequest);
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMClientResponse()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/OMClientResponse.java`
#### Snippet
```java
      LoggerFactory.getLogger(OMClientResponse.class);

  public OMClientResponse(OMResponse omResponse) {
    Preconditions.checkNotNull(omResponse);
    this.omResponse = omResponse;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OmKeyResponse()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OmKeyResponse.java`
#### Snippet
```java
  }

  public OmKeyResponse(OzoneManagerProtocolProtos.OMResponse omResponse) {
    super(omResponse);
    this.bucketLayout = BucketLayout.DEFAULT;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OmKeyResponse()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/OmKeyResponse.java`
#### Snippet
```java
  private BucketLayout bucketLayout;

  public OmKeyResponse(OzoneManagerProtocolProtos.OMResponse omResponse,
      BucketLayout bucketLayoutArg) {
    super(omResponse);
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `AbstractOMKeyDeleteResponse()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/AbstractOMKeyDeleteResponse.java`
#### Snippet
```java
  private boolean isRatisEnabled;

  public AbstractOMKeyDeleteResponse(
      @Nonnull OMResponse omResponse, boolean isRatisEnabled) {

```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `AbstractOMKeyDeleteResponse()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/AbstractOMKeyDeleteResponse.java`
#### Snippet
```java
   * For a successful request, the other constructor should be used.
   */
  public AbstractOMKeyDeleteResponse(@Nonnull OMResponse omResponse,
                                     @Nonnull BucketLayout bucketLayout) {
    super(omResponse, bucketLayout);
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `AbstractOMKeyDeleteResponse()` of an abstract class should not be declared 'public'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/AbstractOMKeyDeleteResponse.java`
#### Snippet
```java
  }

  public AbstractOMKeyDeleteResponse(@Nonnull OMResponse omResponse,
      boolean isRatisEnabled, BucketLayout bucketLayout) {

```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `EntityHandler()` of an abstract class should not be declared 'public'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/EntityHandler.java`
#### Snippet
```java
  private final String[] names;

  public EntityHandler(
          ReconNamespaceSummaryManager reconNamespaceSummaryManager,
          ReconOMMetadataManager omMetadataManager,
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BucketHandler()` of an abstract class should not be declared 'public'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/BucketHandler.java`
#### Snippet
```java
  private final ContainerManager containerManager;

  public BucketHandler(
          ReconNamespaceSummaryManager reconNamespaceSummaryManager,
          ReconOMMetadataManager omMetadataManager,
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BaseFileChecksumHelper()` of an abstract class should not be declared 'public'
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/BaseFileChecksumHelper.java`
#### Snippet
```java
  }

  public BaseFileChecksumHelper(OzoneVolume volume, OzoneBucket bucket,
      String keyName, long length,
      OzoneClientConfig.ChecksumCombineMode checksumCombineMode,
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `Builder()` of an abstract class should not be declared 'public'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/StorageVolume.java`
#### Snippet
```java
    private String clusterID;

    public Builder(String volumeRootStr, String storageDirStr) {
      this.volumeRootStr = volumeRootStr;
      this.storageDirStr = storageDirStr;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `StorageVolumeFactory()` of an abstract class should not be declared 'public'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/StorageVolumeFactory.java`
#### Snippet
```java
  private String clusterID;

  public StorageVolumeFactory(ConfigurationSource conf,
      SpaceUsageCheckFactory usageCheckFactory, MutableVolumeSet volumeSet,
      String datanodeUuid, String clusterID) {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `DBHandle()` of an abstract class should not be declared 'public'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/interfaces/DBHandle.java`
#### Snippet
```java
  private final String containerDBPath;

  public DBHandle(DatanodeStore store, String containerDBPath) {
    this.store = store;
    this.containerDBPath = containerDBPath;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `AbstractContainerScannerMetrics()` of an abstract class should not be declared 'public'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/AbstractContainerScannerMetrics.java`
#### Snippet
```java
  private MutableCounterInt numScanIterations;

  public AbstractContainerScannerMetrics(String name, MetricsSystem ms) {
    this.name = name;
    this.ms = ms;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `AbstractContainerScanner()` of an abstract class should not be declared 'public'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/AbstractContainerScanner.java`
#### Snippet
```java
  private volatile boolean stopping = false;

  public AbstractContainerScanner(String name, long dataScanInterval) {
    this.dataScanInterval = dataScanInterval;
    setName(name);
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OMFailoverProxyProviderBase()` of an abstract class should not be declared 'public'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
  private boolean performFailoverDone;

  public OMFailoverProxyProviderBase(ConfigurationSource configuration,
                                     String omServiceId,
                                     Class<T> protocol) throws IOException {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `Shell()` of an abstract class should not be declared 'public'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Shell.java`
#### Snippet
```java
  }

  public Shell(Class<?> type) {
    super(type);
  }
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `Shell()` of an abstract class should not be declared 'public'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Shell.java`
#### Snippet
```java
      + "the config files.";

  public Shell() {
  }

```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BaseHttpServer()` of an abstract class should not be declared 'public'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
  private boolean profilerSupport;

  public BaseHttpServer(MutableConfigurationSource conf, String name)
      throws IOException {
    this.name = name;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `OzoneSecretManager()` of an abstract class should not be declared 'public'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/OzoneSecretManager.java`
#### Snippet
```java
   * @param logger logger for the secret manager
   */
  public OzoneSecretManager(SecurityConfig secureConf, long tokenMaxLifetime,
      long tokenRenewInterval, Text service, Logger logger) {
    this.securityConfig = secureConf;
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `EventWatcher()` of an abstract class should not be declared 'public'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
  }

  public EventWatcher(Event<TIMEOUT_PAYLOAD> startEvent,
      Event<COMPLETION_PAYLOAD> completionEvent,
      LeaseManager<Long> leaseManager) {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `EventWatcher()` of an abstract class should not be declared 'public'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
  private final Map<Long, Long> startTrackingTimes = new HashMap<>();

  public EventWatcher(String name, Event<TIMEOUT_PAYLOAD> startEvent,
      Event<COMPLETION_PAYLOAD> completionEvent,
      LeaseManager<Long> leaseManager) {
```

### RuleId[ruleID=NonProtectedConstructorInAbstractClass]
Constructor `BaseApprover()` of an abstract class should not be declared 'public'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/BaseApprover.java`
#### Snippet
```java
  private final SecurityConfig securityConfig;

  public BaseApprover(PKIProfile pkiProfile, SecurityConfig config) {
    this.profile = Objects.requireNonNull(pkiProfile);
    this.securityConfig = Objects.requireNonNull(config);
```

## RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `e` is immediately rethrown
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
    try {
      resp = handleError(submitRequest(omRequest)).getGetFileStatusResponse();
    } catch (IOException e) {
      throw e;
    }
```

### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `ex` is immediately rethrown
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyReadWriteOps.java`
#### Snippet
```java
                         keyName, objectSizeInBytes, null, new HashMap())) {
      out.write(keyContent);
    } catch (Exception ex) {
      throw ex;
    }
```

### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `ex` is immediately rethrown
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyReadWriteOps.java`
#### Snippet
```java
      try (OzoneInputStream introStream = keyDetails.getContent()) {
        introStream.read(data);
      } catch (Exception ex) {
        throw ex;
      }
```

### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `e` is immediately rethrown
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
      try {
        Thread.sleep(CHECK_INTERVAL_MILLIS);
      } catch (InterruptedException e) {
        throw e;
      }
```

### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `e` is immediately rethrown
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
        try {
          Thread.sleep(CHECK_INTERVAL_MILLIS);
        } catch (InterruptedException e) {
          throw e;
        }
```

### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `e` is immediately rethrown
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
        try {
          Thread.sleep(CHECK_INTERVAL_MILLIS);
        } catch (InterruptedException e) {
          throw e;
        }
```

### RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
Caught exception `e` is immediately rethrown
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientCache.java`
#### Snippet
```java
      } catch (CertificateException ce) {
        throw new IOException(ce);
      } catch (IOException e) {
        throw e;
      } finally {
```

## RuleId[ruleID=AssignmentToMethodParameter]
### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `limit`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/DumpUtil.java`
#### Snippet
```java
  public static String bytesToHex(byte[] bytes, int limit) {
    if (limit <= 0 || limit > bytes.length) {
      limit = bytes.length;
    }
    int len = limit * 2;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `x`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GaloisField.java`
#### Snippet
```java
      return 0;
    }
    x = logTable[x] * n;
    if (x < primitivePeriod) {
      return powTable[x];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `x`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GaloisField.java`
#### Snippet
```java
      return powTable[x];
    }
    x = x % primitivePeriod;
    return powTable[x];
  }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `offset`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedInputStream.java`
#### Snippet
```java
      int newPos = Math.min(b.remaining(), offset);
      b.position(newPos);
      offset -= newPos;
      if (offset == 0) {
        break;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `off`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
      currentBufferRemaining -= writeLen;
      writeChunkIfNeeded();
      off += writeLen;
      len -= writeLen;
      updateWrittenDataLength(writeLen);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `len`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
      writeChunkIfNeeded();
      off += writeLen;
      len -= writeLen;
      updateWrittenDataLength(writeLen);
      doFlushOrWatchIfNeeded();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `len`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
        writeChunk(buffer);
      }
      len -= writeLen;
      count++;
      writtenDataLength += writeLen;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `len`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
      }
      buffers[bufferIndex].get(b, off + total, available);
      len -= available;
      total += available;

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `index`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
      // first block of the block group. All parity blocks have the same size
      // as block_1.
      index = 1;
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `url`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/O3fsDtFetcher.java`
#### Snippet
```java
      String renewer, String url) throws Exception {
    if (!url.startsWith(getServiceName().toString())) {
      url = getServiceName().toString() + "://" + url;
    }
    LOG.debug("addDelegationTokens from {} renewer {}.", url, renewer);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `omPort`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
    } else {
      // When port number is not specified, read it from config
      omPort = OmUtils.getOmRpcPort(conf);
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `startPath`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
    if (startPath.startsWith(uri.toString())) {
      try {
        startPath = new URI(startPath).getPath();
      } catch (URISyntaxException ex) {
        throw new IOException(ex);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `omPort`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
      } else {
        // When port number is not specified, read it from config
        omPort = OmUtils.getOmRpcPort(conf);
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `path`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    Objects.requireNonNull(path, "Path can not be null!");
    if (!path.isAbsolute()) {
      path = new Path(workingDir, path);
    }
    // removing leading '/' char
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dst`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
        // If dst is a directory, rename source as subpath of it.
        // for example rename /source to /dst will lead to /dst/source
        dst = new Path(dst, src.getName());
        dstPath = dst.toUri().getPath();
        FileStatus[] statuses;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `path`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
    Objects.requireNonNull(path, "Path can't be null!");
    if (!path.isAbsolute()) {
      path = new Path(workingDir, path);
    }
    String key = path.toUri().getPath();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dst`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
        // If dst is a directory, rename source as subpath of it.
        // for example rename /source to /dst will lead to /dst/source
        dst = new Path(dst, src.getName());
        FileStatus[] statuses;
        try {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `generation`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeImpl.java`
#### Snippet
```java
    while (generation > 0 && current != null) {
      current = current.getParent();
      generation--;
    }
    return current;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `genToExclude`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
    // with the recursive call, genToReturn can be smaller than genToExclude
    if (genToReturn < genToExclude) {
      genToExclude = genToReturn;
    }
    // ancestorToExclude to ancestorToReturn map
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `loc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      // current node is ROOT
      if (loc.startsWith(PATH_SEPARATOR_STR)) {
        loc = loc.substring(1);
      }
    } else if (loc.startsWith(fullPath)) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `loc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      }
    } else if (loc.startsWith(fullPath)) {
      loc = loc.substring(fullPath.length());
      // skip the separator "/"
      loc = loc.substring(1);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `loc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      loc = loc.substring(fullPath.length());
      // skip the separator "/"
      loc = loc.substring(1);
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `leafIndex`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
          return child.getLeaf(leafIndex);
        } else {
          leafIndex -= leafCount;
        }
      }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `leafIndex`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
        return node;
      }
      leafIndex--;
    }
    return null;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `leafIndex`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
            excludedNodes, ancestorGen);
      } else {
        leafIndex -= leafCount;
      }
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `index`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
    while (index >= 0 && iterator.hasNext()) {
      node = (Node)iterator.next();
      index--;
    }
    return node;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `type`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationConfig.java`
#### Snippet
```java
      ConfigurationSource config) {
    if (type == null) {
      type = ReplicationType.valueOf(
          config.get(OZONE_REPLICATION_TYPE, OZONE_REPLICATION_TYPE_DEFAULT));
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `replication`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationConfig.java`
#### Snippet
```java
          config.get(OZONE_REPLICATION_TYPE, OZONE_REPLICATION_TYPE_DEFAULT));
    }
    replication = Objects.toString(replication,
        config.get(OZONE_REPLICATION, OZONE_REPLICATION_DEFAULT));

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `valueTocheck`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/server/ServerUtils.java`
#### Snippet
```java
          + " the key value of {}, reset to the min value {}.",
          key, valueTocheck, minLimit, baseKey, minLimit);
      valueTocheck = minLimit;
    } else if (valueTocheck > maxLimit) {
      LOG.warn(
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `valueTocheck`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/server/ServerUtils.java`
#### Snippet
```java
          + " the key value of {}, reset to the max value {}.",
          key, valueTocheck, maxLimit, baseKey, maxLimit);
      valueTocheck = maxLimit;
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
      for (; b.remaining() > 7;) {
        final int c0 = (b.get() ^ crc) & 0xff;
        final int c1 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c2 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c3 = (b.get() ^ (crc >>> 8)) & 0xff;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        final int c0 = (b.get() ^ crc) & 0xff;
        final int c1 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c2 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c3 = (b.get() ^ (crc >>> 8)) & 0xff;
        crc = (table[0x700 + c0] ^ table[0x600 + c1])
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        final int c2 = (b.get() ^ (crc >>>= 8)) & 0xff;
        final int c3 = (b.get() ^ (crc >>> 8)) & 0xff;
        crc = (table[0x700 + c0] ^ table[0x600 + c1])
            ^ (table[0x500 + c2] ^ table[0x400 + c3]);

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        final int c7 = b.get() & 0xff;

        crc ^= (table[0x300 + c4] ^ table[0x200 + c5])
            ^ (table[0x100 + c6] ^ table[c7]);
      }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
      switch (b.remaining()) {
      case 7:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 6:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 6:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 5:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 5:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 4:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 4:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 3:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 3:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 2:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `data`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Checksum.java`
#### Snippet
```java
      throws OzoneChecksumException {
    if (!data.isReadOnly()) {
      data = data.asReadOnlyBuffer();
    }
    return computeChecksum(ChunkBuffer.wrap(data));
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 2:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 1:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `crc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      case 1:
        crc = (crc >>> 8) ^ table[((crc ^ b.get()) & 0xff)];
      default: // noop
      }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `scope`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      int ancestorGen) {
    if (scope == null) {
      scope = ROOT;
    }
    if (scope.startsWith(SCOPE_REVERSE_STR)) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `node1`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      }
      while (level1 > level2 && node1 != null) {
        node1 = node1.getParent();
        level1--;
        cost += node1 == null ? 0 : node1.getCost();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `node2`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      }
      while (level2 > level1 && node2 != null) {
        node2 = node2.getParent();
        level2--;
        cost += node2 == null ? 0 : node2.getCost();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `node1`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      }
      while (node1 != null && node2 != null && node1 != node2) {
        node1 = node1.getParent();
        node2 = node2.getParent();
        cost += node1 == null ? 0 : node1.getCost();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `node2`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      while (node1 != null && node2 != null && node1 != node2) {
        node1 = node1.getParent();
        node2 = node2.getParent();
        cost += node1 == null ? 0 : node1.getCost();
        cost += node2 == null ? 0 : node2.getCost();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `scope`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      int ancestorGen) {
    if (scope == null) {
      scope = ROOT;
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `scope`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
    Preconditions.checkArgument(leafIndex >= 0);
    if (scope == null) {
      scope = ROOT;
    }
    checkScope(scope);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `loc`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  @Override
  public Node getNode(String loc) {
    loc = NetUtils.normalize(loc);
    netlock.readLock().lock();
    try {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `node1`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
    netlock.readLock().lock();
    try {
      node1 = node1.getParent();
      node2 = node2.getParent();
      return node1 == node2;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `node2`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
    try {
      node1 = node1.getParent();
      node2 = node2.getParent();
      return node1 == node2;
    } finally {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `ancestorGen`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      }
      // reset ancestor generation since the new scope is identified now
      ancestorGen = 0;
    }
    Node scopeNode = getNode(finalScope);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `scope`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  public Node chooseRandom(String scope) {
    if (scope == null) {
      scope = ROOT;
    }
    if (scope.startsWith(SCOPE_REVERSE_STR)) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `scope`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  public Node chooseRandom(String scope, Collection<Node> excludedNodes) {
    if (scope == null) {
      scope = ROOT;
    }
    if (scope.startsWith(SCOPE_REVERSE_STR)) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `i`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
    if (ith != null) {
      // buffers must be empty
      for (i++; i < buffers.size(); i++) {
        ith = getAtIndex(i);
        if (ith == null) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `i`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
    if (ith != null) {
      // buffers must be empty
      for (i++; i < buffers.size(); i++) {
        ith = getAtIndex(i);
        if (ith == null) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `ith`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
      // buffers must be empty
      for (i++; i < buffers.size(); i++) {
        ith = getAtIndex(i);
        if (ith == null) {
          break; // found the first non-null
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `txIDs`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLogImpl.java`
#### Snippet
```java
    try {
      if (txIDs == null || txIDs.isEmpty()) {
        txIDs = getFailedTransactions().stream()
            .map(DeletedBlocksTransaction::getTxID)
            .collect(Collectors.toList());
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `startSerialID`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMCertStore.java`
#### Snippet
```java

    if (startSerialID.longValue() == 0) {
      startSerialID = null;
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `clusterId`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
          new HDDSLayoutVersionManager(scmStorageConfig.getLayoutVersion()));

      clusterId = scmStorageConfig.getClusterID();
      final boolean isSCMHAEnabled = scmStorageConfig.isSCMHAEnabled();

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `count`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMClientProtocolServer.java`
#### Snippet
```java
    // in-service nodes, just set count to that size
    if (count > datanodeUsageInfoList.size()) {
      count = datanodeUsageInfoList.size();
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `timeout`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManagerImpl.java`
#### Snippet
```java
    long st = clock.millis();
    if (timeout == 0) {
      timeout = pipelineWaitDefaultTimeout;
    }
    List<String> pipelineIDStrs =
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      }
      chosenNodes.add(firstNode);
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      }
      chosenNodes.add(secondNode);
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
        }
        chosenNodes.add(firstNode);
        nodesRequired--;
        if (nodesRequired == 0) {
          return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      chosenNodes.add(secondNode);
      mutableExcludedNodes.add(secondNode);
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `favorIndex`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
          excludedNodeList.get(excludedNodeList.size() - 1), favoredNode)) {
        chosenNode = favoredNode;
        favorIndex++;
      } else {
        chosenNode = chooseNode(excludedNodeList, null,
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
        chosenNodes.add(chosenNode);
      }
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `affinityNodes`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
          // fallback, don't consider the affinity node
          if (affinityNodes != null) {
            affinityNodes = null;
            continue;
          }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `path`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java

      if (!path.isAbsolute()) {                  // make path absolute
        path = new Path(fs.getWorkingDirectory(), path);
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `usedNodes`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java

    if (usedNodes == null) {
      usedNodes = Collections.emptyList();
    }
    List<Node> racks = getAllRacks();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
            chosenFavoredNodesInForLoop.add(favoredNode);
            unavailableNodes.add(favoredNode);
            nodesRequired--;
            if (nodesRequired == 0) {
              break;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodesRequired`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
          mutableFavoredNodes.remove(node);
          unavailableNodes.add(node);
          nodesRequired--;
          if (nodesRequired == 0) {
            break;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `maxOuterLoopIterations`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
        retryCount = 0;
      }
      maxOuterLoopIterations--;
    }
    return chosenNodes;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `omRequest`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
      OMClientRequest omClientRequest =
          OzoneManagerRatisUtils.createClientRequest(omRequest, ozoneManager);
      omRequest = omClientRequest.preExecute(ozoneManager);
      RaftClientRequest req = getRatisRequest(omRequest);
      ozoneManager.getOmRatisServer().submitRequest(omRequest, req);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `bucketInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerUtils.java`
#### Snippet
```java
        OmBucketInfo.Builder buckInfoBuilder = bucketInfo.toBuilder();
        buckInfoBuilder.setBucketLayout(sourceBucketInfo.getBucketLayout());
        bucketInfo = buckInfoBuilder.build();
      }
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `key`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
  @Override
  public String getOzoneDirKey(String volume, String bucket, String key) {
    key = OzoneFSUtils.addTrailingSlashIfNeeded(key);
    return getOzoneKey(volume, bucket, key);
  }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `args`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneListStatusHelper.java`
#### Snippet
```java
        keyName = OzoneFSUtils.getParentDir(startKey);
        prefixKey = keyName;
        args = args.toBuilder()
            .setKeyName(keyName)
            .setSortDatanodesInPipeline(false)
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `prefixInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java
        prefixInfoBuilder.setUpdateID(transactionLogIndex);
      }
      prefixInfo = prefixInfoBuilder.build();
      newPrefix = true;
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `prefixInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java
        prefixInfoBuilder.setUpdateID(transactionLogIndex);
      }
      prefixInfo = prefixInfoBuilder.build();
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `serviceId`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
    if (serviceId == null) {
      // If no serviceId is set, take the default serviceID om-service
      serviceId = OzoneConsts.OM_SERVICE_ID_DEFAULT;
      LOG.info("OM Service ID is not set. Setting it to the default ID: {}",
          serviceId);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `nodeId`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
    if (nodeId == null) {
      // If no nodeId is provided, set the default nodeID - om1
      nodeId = OzoneConsts.OM_DEFAULT_NODE_ID;
      LOG.info("OM Node ID is not set. Setting it to the default ID: {}",
          nodeId);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `keyPath`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
    LOG.debug("Bucket Layout: {}", bucketLayout);
    if (bucketLayout.shouldNormalizePaths(enableFileSystemPaths)) {
      keyPath = validateAndNormalizeKey(true, keyPath);
      if (keyPath.endsWith("/")) {
        throw new OMException(
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `excess`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          // OR if losing this replica still keep satisfied
          sendDeleteCommand(container, r.getDatanodeDetails(), true);
          excess -= 1;
          continue;
        }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `quotaReleased`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java

      omKeyInfo.setUpdateID(trxnLogIndex, ozoneManager.isRatisEnabled());
      quotaReleased += sumBlockLengths(omKeyInfo);
    }
    // Mark directory keys.
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `quotaReleased`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java

      omKeyInfo.setUpdateID(trxnLogIndex, ozoneManager.isRatisEnabled());
      quotaReleased += sumBlockLengths(omKeyInfo);
    }
    return quotaReleased;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `objectID`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
    if (omPathInfo != null) {
      // FileTable metadata format
      objectID = omPathInfo.getLeafNodeObjectId();
      builder.setParentObjectID(omPathInfo.getLastKnownParentId());
      builder.setFileName(omPathInfo.getLeafNodeName());
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `keyArgs`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
      Map<String, String> auditMap) throws IOException {
    ResolvedBucket bucket = ozoneManager.resolveBucketLink(keyArgs, this);
    keyArgs = bucket.update(keyArgs);
    bucket.audit(auditMap);
    return keyArgs;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `countEntries`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
          dirName);
      directories.add(omKeyInfo);
      countEntries++;
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `startKey`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java

    if (enableFileSystemPaths) {
      startKey = OmUtils.normalizeKey(startKey, true);
      keyPrefix = OmUtils.normalizeKey(keyPrefix, true);
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `keyPrefix`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    if (enableFileSystemPaths) {
      startKey = OmUtils.normalizeKey(startKey, true);
      keyPrefix = OmUtils.normalizeKey(keyPrefix, true);
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `startKey`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      }
      // keyName is a directory
      startKey = OzoneFSUtils.addTrailingSlashIfNeeded(keyName);
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `quotaReleased`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java

      omKeyInfo.setUpdateID(trxnLogIndex, ozoneManager.isRatisEnabled());
      quotaReleased += sumBlockLengths(omKeyInfo);
    }
    return quotaReleased;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `prefixName`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
      return fileName;
    }
    prefixName = OzoneFSUtils.addTrailingSlashIfNeeded(prefixName);
    return prefixName.concat(fileName);
  }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `errMsg`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
    }
    if (StringUtils.isBlank(errMsg)) {
      errMsg = "Failed to find parent directory of " + keyName;
    }
    OmDirectoryInfo omDirectoryInfo;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `keyPath`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
        return new OMPathInfo(missing, result, inheritAcls);
      }
      keyPath = keyPath.getParent();
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `request`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java`
#### Snippet
```java
        OMClientRequest omClientRequest =
            createClientRequest(request, ozoneManager);
        request = omClientRequest.preExecute(ozoneManager);
        index = transactionIndex.incrementAndGet();
        omClientResponse = handler.handleWriteRequest(request, index);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `request`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java`
#### Snippet
```java
            //  Added the assertion.
            assert (omClientRequest != null);
            request = omClientRequest.preExecute(ozoneManager);
          } catch (IOException ex) {
            // As some of the preExecute returns error. So handle here.
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dataSize`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
    int index = 0;
    while (dataSize != 0) {
      dataSize >>= 1;
      index += 1;
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
        !ctx.getBucketLayout(keyInfo.getVolumeName(), keyInfo.getBucketName())
            .equals(BucketLayout.LEGACY)) {
      resp = resp.toBuilder()
          .setStatus(Status.NOT_SUPPORTED_OPERATION)
          .setMessage("File is present inside a bucket with bucket layout " +
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
        !ctx.getBucketLayout(keyInfo.getVolumeName(), keyInfo.getBucketName())
            .isLegacy()) {
      resp = resp.toBuilder()
          .setStatus(Status.NOT_SUPPORTED_OPERATION)
          .setMessage("Key is present in a bucket using bucket layout features"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      if (!ctx.getBucketLayout(volumeBucket.getLeft(), volumeBucket.getRight())
          .isLegacy()) {
        resp = resp.toBuilder()
            .setStatus(Status.NOT_SUPPORTED_OPERATION)
            .setMessage("The list of keys contains keys present in buckets " +
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
    for (KeyInfo key : keys) {
      if (key.hasEcReplicationConfig()) {
        resp = resp.toBuilder()
            .setStatus(Status.NOT_SUPPORTED_OPERATION)
            .setMessage("The list of keys contains keys with Erasure Coded"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
    }
    if (resp.getLookupKeyResponse().getKeyInfo().hasEcReplicationConfig()) {
      resp = resp.toBuilder()
          .setStatus(Status.NOT_SUPPORTED_OPERATION)
          .setMessage("Key is a key with Erasure Coded replication, which"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
    if (resp.getGetFileStatusResponse().getStatus().getKeyInfo()
        .hasEcReplicationConfig()) {
      resp = resp.toBuilder()
          .setStatus(Status.NOT_SUPPORTED_OPERATION)
          .setMessage("Key is a key with Erasure Coded replication, which"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      for (KeyInfo key : repeatedKey.getKeyInfoList()) {
        if (key.hasEcReplicationConfig()) {
          resp = resp.toBuilder()
              .setStatus(Status.NOT_SUPPORTED_OPERATION)
              .setMessage("The list of keys contains keys with Erasure Coded"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      if (!ctx.getBucketLayout(volumeBucket.getLeft(),
          volumeBucket.getRight()).isLegacy()) {
        resp = resp.toBuilder()
            .setStatus(Status.NOT_SUPPORTED_OPERATION)
            .setMessage("The list of keys is present in a bucket using bucket"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
        !ctx.getBucketLayout(keyInfo.getVolumeName(), keyInfo.getBucketName())
            .equals(BucketLayout.LEGACY)) {
      resp = resp.toBuilder()
          .setStatus(Status.NOT_SUPPORTED_OPERATION)
          .setMessage("Key is present inside a bucket with bucket layout " +
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
    for (OzoneFileStatusProto status : statuses) {
      if (status.getKeyInfo().hasEcReplicationConfig()) {
        resp = resp.toBuilder()
            .setStatus(Status.NOT_SUPPORTED_OPERATION)
            .setMessage("The list of keys contains keys with Erasure Coded"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      payloadBytes = RandomUtils.nextBytes(payloadRespSize);
    }
    resp = resp.toBuilder()
            .setMessage(new String(payloadBytes, StandardCharsets.UTF_8))
            .clearEchoRPCResponse()
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      if (!ctx.getBucketLayout(volumeBucket.getLeft(), volumeBucket.getRight())
          .isLegacy()) {
        resp = resp.toBuilder()
            .setStatus(Status.NOT_SUPPORTED_OPERATION)
            .setMessage("The list of keys contains keys present inside bucket" +
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `resp`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
    }
    if (resp.getLookupFileResponse().getKeyInfo().hasEcReplicationConfig()) {
      resp = resp.toBuilder()
          .setStatus(Status.NOT_SUPPORTED_OPERATION)
          .setMessage("Key is a key with Erasure Coded replication, which the"
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `path`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/EntityHandler.java`
#### Snippet
```java
  public static String[] parseRequestPath(String path) {
    if (path.startsWith(OM_KEY_PREFIX)) {
      path = path.substring(1);
    }
    String[] names = path.split(OM_KEY_PREFIX);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `args`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    Map<String, String> auditMap = bucket.audit(args.toAuditMap());

    args = bucket.update(args);

    try {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `args`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    Map<String, String> auditMap = bucket.audit(args.toAuditMap());

    args = bucket.update(args);

    try {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `args`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    Map<String, String> auditMap = bucket.audit(args.toAuditMap());

    args = bucket.update(args);

    try {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `remaining`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneCryptoInputStream.java`
#### Snippet
```java
    // Check and adjust position if required
    adjustReadPosition(cryptoBufferSize);
    remaining += readPositionAdjustedBy;
    lenToRead += readPositionAdjustedBy;

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `lenToRead`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneCryptoInputStream.java`
#### Snippet
```java
    adjustReadPosition(cryptoBufferSize);
    remaining += readPositionAdjustedBy;
    lenToRead += readPositionAdjustedBy;

    return adjustNumBytesToRead(lenToRead, remaining, cryptoBufferSize);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `len`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyOutputStream.java`
#### Snippet
```java
          handleFlushOrClose(StreamAction.FULL);
        }
        len -= writtenLength;
        off += writtenLength;
      } catch (Exception e) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `off`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyOutputStream.java`
#### Snippet
```java
        }
        len -= writtenLength;
        off += writtenLength;
      } catch (Exception e) {
        markStreamClosed();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `writeLen`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyOutputStream.java`
#### Snippet
```java
          .getStreamBufferMaxSize());
      int dataWritten = (int) (current.getWrittenDataLength() - currentPos);
      writeLen = retry ? (int) len : dataWritten;
      // In retry path, the data written is already accounted in offset.
      if (!retry) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `user`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/ObjectStore.java`
#### Snippet
```java
      throws IOException {
    if (Strings.isNullOrEmpty(user)) {
      user = UserGroupInformation.getCurrentUser().getUserName();
    }
    return new VolumeIterator(user, volumePrefix, prevVolume);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `off`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
      int numBytesRead = current.read(b, off, len);
      totalReadLen += numBytesRead;
      off += numBytesRead;
      len -= numBytesRead;

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `len`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
      totalReadLen += numBytesRead;
      off += numBytesRead;
      len -= numBytesRead;

      if (current.getRemaining() <= 0 &&
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `blockCount`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/RandomContainerDeletionChoosingPolicy.java`
#### Snippet
```java
        long numBlocksToDelete = Math.min(blockCount,
            ((KeyValueContainerData) entry).getNumPendingDeletionBlocks());
        blockCount -= numBlocksToDelete;
        result.add(new ContainerBlockInfo(entry, numBlocksToDelete));
        if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `totalBlocks`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/TopNOrderedContainerDeletionChoosingPolicy.java`
#### Snippet
```java
        long numBlocksToDelete =
            Math.min(totalBlocks, entry.getNumPendingDeletionBlocks());
        totalBlocks -= numBlocksToDelete;
        result.add(new ContainerBlockInfo(entry, numBlocksToDelete));
        if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `number`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java
      Number result;
      if (sign < 0) {
        number = "-" + number;
      }
      result = Long.valueOf(number, radix);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `future`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
      // push the current set of listeners onto next
      next = future.clearListeners(next);
      future = null;
      while (next != null) {
        Listener curr = next;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `future`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
          // chain by doing this themselves.  It is also potentially common
          // if someone writes a recursive Futures.transformAsync transformer.
          future = setFuture.owner;
          if (future.value == setFuture) {
            Object valueToSet = getFutureValue(setFuture.future);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `newDeletionBlocks`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java`
#### Snippet
```java
          .initBatchOperation()) {
        marker.apply(delTxTable, batch, txnID, delTX);
        newDeletionBlocks += delTX.getLocalIDList().size();
        updateMetaData(containerData, delTX, newDeletionBlocks, containerDB,
            batch);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `key`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java`
#### Snippet
```java
  private String formatKey(String key) {
    if (schemaVersion.equals(OzoneConsts.SCHEMA_V3)) {
      key = getContainerKeyPrefix(getContainerID()) + key;
    }
    return key;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dispatcherContext`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
      ChunkBuffer data = null;
      if (dispatcherContext == null) {
        dispatcherContext = new DispatcherContext.Builder().build();
      }
      WriteChunkStage stage = dispatcherContext.getStage();
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dispatcherContext`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
          putSmallFileReq.getData().asReadOnlyByteBufferList());
      if (dispatcherContext == null) {
        dispatcherContext = new DispatcherContext.Builder().build();
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dispatcherContext`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
      BlockUtils.verifyBCSId(kvContainer, blockID);
      if (dispatcherContext == null) {
        dispatcherContext = new DispatcherContext.Builder().build();
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `firstUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
  public void releaseMultiUserLock(String firstUser, String secondUser) {
    Resource resource = Resource.USER_LOCK;
    firstUser = generateResourceName(resource, firstUser);
    secondUser = generateResourceName(resource, secondUser);

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `secondUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
    Resource resource = Resource.USER_LOCK;
    firstUser = generateResourceName(resource, firstUser);
    secondUser = generateResourceName(resource, secondUser);

    int compare = firstUser.compareTo(secondUser);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `secondUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
    if (compare > 0) {
      temp = secondUser;
      secondUser = firstUser;
      firstUser = temp;
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `firstUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
      temp = secondUser;
      secondUser = firstUser;
      firstUser = temp;
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `firstUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
  public boolean acquireMultiUserLock(String firstUser, String secondUser) {
    Resource resource = Resource.USER_LOCK;
    firstUser = generateResourceName(resource, firstUser);
    secondUser = generateResourceName(resource, secondUser);

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `secondUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
    Resource resource = Resource.USER_LOCK;
    firstUser = generateResourceName(resource, firstUser);
    secondUser = generateResourceName(resource, secondUser);

    if (!resource.canLock(lockSet.get())) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `secondUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
      if (compare > 0) {
        temp = secondUser;
        secondUser = firstUser;
        firstUser = temp;
      }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `firstUser`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
        temp = secondUser;
        secondUser = firstUser;
        firstUser = temp;
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `repeatedOmKeyInfo`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
    if (repeatedOmKeyInfo == null) {
      //The key doesn't exist in deletedTable, so create a new instance.
      repeatedOmKeyInfo = new RepeatedOmKeyInfo(keyInfo);
    } else {
      //The key exists in deletedTable, so update existing instance.
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `ancestor`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneFSUtils.java`
#### Snippet
```java
   */
  public static String getImmediateChild(String descendant, String ancestor) {
    ancestor =
        !ancestor.isEmpty() ? addTrailingSlashIfNeeded(ancestor) : ancestor;
    if (!descendant.startsWith(ancestor)) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `omServiceID`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/OMAdmin.java`
#### Snippet
```java
    OzoneConfiguration conf = parent.getOzoneConf();
    if (omHost != null && !omHost.isEmpty()) {
      omServiceID = null;
      conf.set(OZONE_OM_ADDRESS_KEY, omHost);
    } else if (omServiceID == null || omServiceID.isEmpty()) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `omServiceID`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/OMAdmin.java`
#### Snippet
```java
      conf.set(OZONE_OM_ADDRESS_KEY, omHost);
    } else if (omServiceID == null || omServiceID.isEmpty()) {
      omServiceID = getTheOnlyConfiguredOmServiceIdOrThrow();
    }
    RPC.setProtocolEngine(conf, OzoneManagerProtocolPB.class,
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dbPath`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
  private String removeTrailingSlashIfNeeded(String dbPath) {
    if (dbPath.endsWith(OzoneConsts.OZONE_URI_DELIMITER)) {
      dbPath = dbPath.substring(0, dbPath.length() - 1);
    }
    return dbPath;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `dbPath`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
                  " number is -1 which is to dump entire table");
    }
    dbPath = removeTrailingSlashIfNeeded(dbPath);
    DBDefinitionFactory.setDnDBSchemaVersion(dnDBSchemaVersion);
    this.constructColumnFamilyMap(DBDefinitionFactory.
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `readCount`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteKeyOps.java`
#### Snippet
```java
        OzoneConsts.OM_KEY_PREFIX + readPath + OzoneConsts.OM_KEY_PREFIX, true,
        "/", keyCountForRead);
    readCount += ozoneFileStatusList.size();
    return readCount;
  }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `readCount`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteFileOps.java`
#### Snippet
```java
      throws IOException {
    FileStatus[] status = fileSystem.listStatus(new Path(createPath(readPath)));
    readCount += status.length;
    return readCount;
  }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `depthIndex`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java
    if (depthIndex < depth) {
      String depthSubDir = makeDirWithGivenNumberOfFiles(parent);
      ++depthIndex;

      if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `spanIndex`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java
    while (spanIndex < span) {
      String levelSubDir = makeDirWithGivenNumberOfFiles(parent);
      ++spanIndex;

      if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `omServiceID`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java
          conf.getTrimmedStrings(OZONE_OM_SERVICE_IDS_KEY);
      if (configuredServiceIds.length == 1) {
        omServiceID = configuredServiceIds[0];
      }
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `address`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      throws OzoneClientException {
    if (address == null || address.equals("")) {
      address = OZONE_RPC_SCHEME + ":///";
    }
    this.ozoneURI = parseURI(address);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `credential`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4HeaderParser.java`
#### Snippet
```java
    Credential credentialObj = null;
    if (isNotEmpty(credential) && credential.startsWith(CREDENTIAL)) {
      credential = credential.substring(CREDENTIAL.length());
      // Parse credential. Other parts of header are not validated yet. When
      // security comes, it needs to be completed.
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `newLeader`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMSecurityProtocolFailoverProxyProvider.java`
#### Snippet
```java
                  .equals(snle.getSuggestedLeader())).findFirst();
      if (matchedProxyInfo.isPresent()) {
        newLeader = matchedProxyInfo.get().getNodeId();
        LOG.debug("Performing failover to suggested leader {}, nodeId {}",
            snle.getSuggestedLeader(), newLeader);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `newLeader`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMBlockLocationFailoverProxyProvider.java`
#### Snippet
```java
                  .equals(snle.getSuggestedLeader())).findFirst();
      if (matchedProxyInfo.isPresent()) {
        newLeader = matchedProxyInfo.get().getNodeId();
        LOG.debug("Performing failover to suggested leader {}, nodeId {}",
            snle.getSuggestedLeader(), newLeader);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `newLeader`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMContainerLocationFailoverProxyProvider.java`
#### Snippet
```java
                  .equals(snle.getSuggestedLeader())).findFirst();
      if (matchedProxyInfo.isPresent()) {
        newLeader = matchedProxyInfo.get().getNodeId();
        LOG.debug("Performing failover to suggested leader {}, nodeId {}",
            snle.getSuggestedLeader(), newLeader);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `prefix`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java

      if (prefix == null) {
        prefix = "";
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `startAfter`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java
      // Assign marker to startAfter. for the compatibility of aws api v1
      if (startAfter == null && marker != null) {
        startAfter = marker;
      }
      
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `uri`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java

    // If the absolute path is empty, use a forward slash (/)
    uri = (uri.trim().length() > 0) ? uri : "/";
    // Encode URI and preserve forward slashes
    strToSign.append(signatureInfo.getAlgorithm() + NEWLINE);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `storageType`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      String storageType) throws OS3Exception {
    if (StringUtils.isEmpty(storageType)) {
      storageType = S3StorageType.getDefault(ozoneConfiguration).toString();
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `body`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      if ("STREAMING-AWS4-HMAC-SHA256-PAYLOAD"
          .equals(headers.getHeaderString("x-amz-content-sha256"))) {
        body = new SignedChunksInputStream(body);
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `body`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      if ("STREAMING-AWS4-HMAC-SHA256-PAYLOAD"
          .equals(headers.getHeaderString("x-amz-content-sha256"))) {
        body = new SignedChunksInputStream(body);
      }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `name`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpRequestLog.java`
#### Snippet
```java
    String lookup = SERVER_TO_COMPONENT.get(name);
    if (lookup != null) {
      name = lookup;
    }
    String loggerName = "http.requests." + name;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `name`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
    Preconditions.checkNotNull(name);
    if (name.equals("")) {
      name = getClass().getSimpleName();
    }
    if (name.equals("")) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `name`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
    if (name.equals("")) {
      //for anonymous inner classes
      name = getClass().getName();
    }
    this.name = name;
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `vStr`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/TimeDurationUtil.java`
#### Snippet
```java
  public static long getTimeDurationHelper(String name, String vStr,
      TimeUnit unit) {
    vStr = vStr.trim();
    vStr = vStr.toLowerCase();
    ParsedTimeDuration vUnit = ParsedTimeDuration.unitFor(vStr);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `vStr`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/TimeDurationUtil.java`
#### Snippet
```java
      TimeUnit unit) {
    vStr = vStr.trim();
    vStr = vStr.toLowerCase();
    ParsedTimeDuration vUnit = ParsedTimeDuration.unitFor(vStr);
    if (null == vUnit) {
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `vStr`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/TimeDurationUtil.java`
#### Snippet
```java
      }
    } else {
      vStr = vStr.substring(0, vStr.lastIndexOf(vUnit.suffix()));
    }

```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `port`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      }
      // try the next port number
      listener.setPort(++port);
      Thread.sleep(100);
    }
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `exception`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      Exception e) {
    if (exception == null) {
      exception = new MultiException();
    }
    exception.add(e);
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `startKey`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java

      // listStatus API expects a not null 'startKey' value
      startKey = startKey == null ? "" : startKey;

      // 1. Get immediate children of keyPrefix, starting with startKey
```

### RuleId[ruleID=AssignmentToMethodParameter]
Assignment to method parameter `prevKey`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java
      // normalize paths
      if (!addedKeyPrefix) {
        prevKey = OmUtils.normalizeKey(prevKey, true);
        String keyPrefixName = "";
        if (StringUtils.isNotBlank(getKeyPrefix())) {
```

## RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `list`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/ReplicationManagerReport.java`
#### Snippet
```java
      return Collections.emptyList();
    }
    synchronized (list) {
      return new ArrayList<>(list);
    }
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `list`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/ReplicationManagerReport.java`
#### Snippet
```java
    List<ContainerID> list = containerSample
        .computeIfAbsent(stat, k -> new ArrayList<>());
    synchronized (list) {
      if (list.size() < SAMPLE_LIMIT) {
        list.add(container);
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `datanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerReportHandler.java`
#### Snippet
```java
      // issue between the container list in NodeManager and the replicas in
      // ContainerManager.
      synchronized (datanodeDetails) {
        final List<ContainerReplicaProto> replicas =
            containerReport.getReportsList();
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `dd`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/IncrementalContainerReportHandler.java`
#### Snippet
```java
    // issue between the container list in NodeManager and the replicas in
    // ContainerManager.
    synchronized (dd) {
      for (ContainerReplicaProto replicaProto :
          report.getReport().getReportList()) {
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on method parameter `containerInfo`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/AbstractContainerReportHandler.java`
#### Snippet
```java
    // Synchronized block should be replaced by container lock,
    // once we have introduced lock inside ContainerInfo.
    synchronized (containerInfo) {
      updateContainerStats(datanodeDetails, containerInfo, replicaProto);
      if (!updateContainerState(datanodeDetails, containerInfo, replicaProto,
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `actions`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          return Collections.emptyList();
        }
        synchronized (actions) {
          if (get(id) != actions) {
            continue; //actions is changed, retry
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `actions`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
        final List<InflightAction> actions = map.computeIfAbsent(id,
            key -> new LinkedList<>());
        synchronized (actions) {
          if (get(id) != actions) {
            continue; //actions is changed, retry
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on method parameter `container`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      throws ContainerNotFoundException {
    // TODO: using a RW lock for only read
    synchronized (container) {
      final Set<ContainerReplica> replica = containerManager
          .getContainerReplicas(container.containerID());
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on local variable `cif`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
    // TODO: use a Read lock after introducing a RW lock into ContainerInfo
    ContainerInfo cif = containerManager.getContainer(cid);
    synchronized (cif) {
      final Set<ContainerReplica> currentReplicas = containerManager
          .getContainerReplicas(cid);
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on method parameter `future`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    @Override
    boolean casValue(AbstractFuture<?> future, Object expect, Object update) {
      synchronized (future) {
        if (future.value == expect) {
          future.value = update;
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on method parameter `future`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    boolean casListeners(
        AbstractFuture<?> future, Listener expect, Listener update) {
      synchronized (future) {
        if (future.listeners == expect) {
          future.listeners = update;
```

### RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
Synchronization on method parameter `future`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    boolean casWaiters(AbstractFuture<?> future, Waiter expect, Waiter
        update) {
      synchronized (future) {
        if (future.waiters == expect) {
          future.waiters = update;
```

## RuleId[ruleID=ReturnNull]
### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/CoderUtil.java`
#### Snippet
```java
  static ByteBuffer cloneAsDirectByteBuffer(byte[] input, int offset, int len) {
    if (input == null) { // an input can be null, if erased or not to read
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-hadoop3/src/main/java/org/apache/hadoop/fs/ozone/RootedOzoneFileSystem.java`
#### Snippet
```java
    } catch (IOException ioe) {
      LOG.debug("Error retrieving KeyProvider.", ioe);
      return null;
    }
    if (keyProvider instanceof DelegationTokenIssuer) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-hadoop3/src/main/java/org/apache/hadoop/fs/ozone/RootedOzoneFileSystem.java`
#### Snippet
```java
      return new DelegationTokenIssuer[]{(DelegationTokenIssuer)keyProvider};
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-hadoop3/src/main/java/org/apache/hadoop/fs/ozone/OzoneFileSystem.java`
#### Snippet
```java
    } catch (IOException ioe) {
      LOG.debug("Error retrieving KeyProvider.", ioe);
      return null;
    }
    if (keyProvider instanceof DelegationTokenIssuer) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-hadoop3/src/main/java/org/apache/hadoop/fs/ozone/OzoneFileSystem.java`
#### Snippet
```java
      return new DelegationTokenIssuer[]{(DelegationTokenIssuer)keyProvider};
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BufferPool.java`
#### Snippet
```java

  ChunkBuffer getCurrentBuffer() {
    return currentBufferIndex == -1 ? null : bufferList.get(currentBufferIndex);
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/CommitWatcher.java`
#### Snippet
```java
      return watchForCommit(index);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/CommitWatcher.java`
#### Snippet
```java
      return watchForCommit(index);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedInputStream.java`
#### Snippet
```java
    long read = readStripe();
    if (read == EOF) {
      return null;
    }
    return selectNextBuffer();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
      handleInterruptedException(ex, false);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
  XceiverClientReply sendWatchForCommit(boolean bufferFull)
      throws IOException {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs/src/main/java/org/apache/hadoop/fs/ozone/RootedOzoneFileSystem.java`
#### Snippet
```java
    } catch (IOException ioe) {
      LOG.debug("Error retrieving KeyProvider.", ioe);
      return null;
    }
    if (keyProvider instanceof DelegationTokenIssuer) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs/src/main/java/org/apache/hadoop/fs/ozone/RootedOzoneFileSystem.java`
#### Snippet
```java
      return new DelegationTokenIssuer[]{(DelegationTokenIssuer)keyProvider};
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs/src/main/java/org/apache/hadoop/fs/ozone/OzoneFileSystem.java`
#### Snippet
```java
    } catch (IOException ioe) {
      LOG.debug("Error retrieving KeyProvider.", ioe);
      return null;
    }
    if (keyProvider instanceof DelegationTokenIssuer) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs/src/main/java/org/apache/hadoop/fs/ozone/OzoneFileSystem.java`
#### Snippet
```java
      return new DelegationTokenIssuer[]{(DelegationTokenIssuer)keyProvider};
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientGrpc.java`
#### Snippet
```java
      IOException {
    // there is no notion of watch for commit index in standalone pipeline
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
      Pipeline ecPipeline = refreshFunc.apply(blockID);
      if (ecPipeline == null) {
        return null;
      }
      DatanodeDetails curIndexNode = ecPipeline.getNodes()
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
          .findAny().orElse(null);
      if (curIndexNode == null) {
        return null;
      }
      return Pipeline.newBuilder().setReplicationConfig(
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneFSStorageStatistics.java`
#### Snippet
```java
  public Long getLong(String key) {
    final Statistic type = Statistic.fromSymbol(key);
    return type == null ? null : opsCount.get(type).get();
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneClientUtils.java`
#### Snippet
```java
    String replication = config.get(OZONE_REPLICATION);
    if (replication == null) {
      return null;
    }
    return ReplicationConfig.parse(ReplicationType.valueOf(
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneClientUtils.java`
#### Snippet
```java

    if (keyName.length() == 0) {
      return null;
    }
    OmKeyArgs keyArgs = new OmKeyArgs.Builder().setVolumeName(volume.getName())
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneClientUtils.java`
#### Snippet
```java
    // replication config as null, so that server will take decision.
    if (clientReplicationType == null || clientReplication == null) {
      return null;
    }
    return ReplicationConfig
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-hadoop2/src/main/java/org/apache/hadoop/fs/ozone/Hadoop27RpcTransport.java`
#### Snippet
```java
  @Override
  public Text getDelegationTokenService() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/TimedOutTestsListener.java`
#### Snippet
```java
      return stringWriter.toString();
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
      throws IOException {
    if (!securityEnabled) {
      return null;
    }
    Token<OzoneTokenIdentifier> token = ozoneClient.getObjectStore()
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
      OzoneKey next = original.next();
      if (next == null) {
        return null;
      } else {
        return new BasicKeyInfo(
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
      throws IOException {
    if (!securityEnabled) {
      return null;
    }
    Token<OzoneTokenIdentifier> token = ozoneClient.getObjectStore()
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
      OzoneKey next = original.next();
      if (next == null) {
        return null;
      } else {
        return new BasicKeyInfo(
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java

    if (msg == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
    String name = conf.get(OZONE_RECON_ADDRESS_KEY);
    if (StringUtils.isEmpty(name)) {
      return null;
    }
    Optional<String> hostname = getHostName(name);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java

    if (msg == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
    return blockID != null
        ? BlockID.getFromProtobuf(blockID)
        : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAUtils.java`
#### Snippet
```java
      t = t.getCause();
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaManager.java`
#### Snippet
```java
  public String complete(String path) {
    if (!enforcePrefix) {
      return null;
    }
    String normalizedPath = NetUtils.normalize(path);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaManager.java`
#### Snippet
```java
      return newPath.toString();
    }
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetUtils.java`
#### Snippet
```java
  public static String addSuffix(String path) {
    if (path == null) {
      return null;
    }
    if (!path.endsWith(NetConstants.PATH_SEPARATOR_STR)) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchema.java`
#### Snippet
```java
        }
      }
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
  public Node getNode(String loc) {
    if (loc == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
    Node child = childrenMap.get(path[0]);
    if (child == null) {
      return null;
    }
    if (path.length == 1) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      return ((InnerNode)child).getNode(path[1]);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      // range check
      if (leafIndex >= getNumOfChildren()) {
        return null;
      }
      return getChildNode(leafIndex);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
        }
      }
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
    Preconditions.checkArgument(isLeafParent() && leafIndex >= 0);
    if (leafIndex >= getNumOfChildren()) {
      return null;
    }
    for (Node node : childrenMap.values()) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      leafIndex--;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerInfo.java`
#### Snippet
```java
      return Arrays.copyOf(this.data, this.data.length);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationType.java`
#### Snippet
```java
       ReplicationType replicationType) {
    if (replicationType == null) {
      return null;
    }
    switch (replicationType) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationType.java`
#### Snippet
```java
      HddsProtos.ReplicationType replicationType) {
    if (replicationType == null) {
      return null;
    }
    switch (replicationType) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationFactor.java`
#### Snippet
```java
       ReplicationFactor replicationFactor) {
    if (replicationFactor == null) {
      return null;
    }
    return replicationFactor.toProto();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationFactor.java`
#### Snippet
```java
      HddsProtos.ReplicationFactor replicationFactor) {
    if (replicationFactor == null) {
      return null;
    }
    switch (replicationFactor) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/server/ServerUtils.java`
#### Snippet
```java
  public static String getRemoteUserName() {
    UserGroupInformation remoteUser = Server.getRemoteUser();
    return remoteUser != null ? remoteUser.getUserName() : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/server/ServerUtils.java`
#### Snippet
```java
    }

    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/tracing/TraceAllMethod.java`
#### Snippet
```java
      }
    }
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/tracing/TracingUtil.java`
#### Snippet
```java
  private static SpanContext extractParent(String parent, Tracer tracer) {
    if (!GlobalTracer.isRegistered()) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/tracing/TracingUtil.java`
#### Snippet
```java

    if (parent == null || parent.isEmpty()) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/token/OzoneBlockTokenSelector.java`
#### Snippet
```java
      Collection<Token<? extends TokenIdentifier>> tokens) {
    if (service == null) {
      return null;
    }
    for (Token<? extends TokenIdentifier> token : tokens) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/token/OzoneBlockTokenSelector.java`
#### Snippet
```java
      }
    }
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/token/OzoneBlockTokenSelector.java`
#### Snippet
```java
      Collection<Token<? extends TokenIdentifier>> tokens) {
    if (service == null) {
      return null;
    }
    for (Token<? extends TokenIdentifier> token : tokens) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/token/OzoneBlockTokenSelector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/ha/ConfUtils.java`
#### Snippet
```java
      return confValue;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/ha/ConfUtils.java`
#### Snippet
```java
  public static String concatSuffixes(String... suffixes) {
    if (suffixes == null) {
      return null;
    }
    return Joiner.on(".").skipNulls().join(suffixes);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/RatisHelper.java`
#### Snippet
```java
      return parameters;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java`
#### Snippet
```java
      return getPort(Name.RATIS);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditMessage.java`
#### Snippet
```java
  @Override
  public String getFormat() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/StorageInfo.java`
#### Snippet
```java
      return Long.parseLong(creationTime);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  public Node getAncestor(Node node, int ancestorGen) {
    if (node == null) {
      return null;
    }
    netlock.readLock().lock();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
        finalScope = affinityAncestor.getNetworkFullPath();
      } else if (!scope.startsWith(affinityAncestor.getNetworkFullPath())) {
        return null;
      }
      // reset ancestor generation since the new scope is identified now
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
        // excludeScope covers finalScope
        if (scopeNode.isDescendant(s)) {
          return null;
        }
        // excludeScope and finalScope share nothing case
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
          scopeNode.getNetworkFullPath(), excludedScopes, excludedNodes,
          ancestorGen);
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ha/ratis/RatisSnapshotInfo.java`
#### Snippet
```java
  @Override
  public List<FileInfo> getFiles() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/utils/BufferUtils.java`
#### Snippet
```java
      ByteBuffer[] byteBuffers) {
    if (byteBuffers == null) {
      return null;
    }
    ByteBuffer[] readOnlyBuffers = new ByteBuffer[byteBuffers.length];
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/LayoutVersionManager.java`
#### Snippet
```java
   */
  default Object getHandler(String type) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerCommandRequestPBHelper.java`
#### Snippet
```java
    default :
      LOG.debug("Invalid command type - {}", cmdType);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerCommandRequestPBHelper.java`
#### Snippet
```java
              + ex.getMessage());
        }
        return null;
      }
      return auditParams;
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerCommandRequestPBHelper.java`
#### Snippet
```java
      return auditParams;

    case CompactChunk: return null; //CompactChunk operation

    case PutSmallFile:
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerCommandRequestPBHelper.java`
#### Snippet
```java
    default :
      LOG.debug("Invalid command type - {}", cmdType);
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/HASecurityUtils.java`
#### Snippet
```java
          certificateClient.getCACertificate(), true);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHADBTransactionBufferStub.java`
#### Snippet
```java
  @Override
  public TransactionInfo getLatestTrxInfo() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHADBTransactionBufferStub.java`
#### Snippet
```java
  @Override
  public SnapshotInfo getLatestSnapshot() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
          e);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
            + " and checkpoint has lower TermIndex {}. Reloading old"
            + " state of SCM.", termIndex, checkpointTxnInfo.getTermIndex());
        return null;
      }
      return checkpointTxnInfo.getTermIndex();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
    } catch (Exception ex) {
      LOG.error("Failed to install snapshot from Leader SCM.", ex);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
      LOG.error("SCM Snapshot Provider is not configured as there are no peer "
          + "nodes.");
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
      ByteString leaderId = division.getInfo().getRoleInfoProto()
          .getFollowerInfo().getLeaderInfo().getId().getId();
      return leaderId.isEmpty() ? null :
          division.getRaftConf().getPeer(RaftPeerId.valueOf(leaderId));
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/StatefulService.java`
#### Snippet
```java
    ByteString byteString = stateManager.readConfiguration(getServiceName());
    if (byteString == null) {
      return null;
    }
    try {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
      return loadDefaultConfig(conf);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
    @Override
    public GrpcTlsConfig getGrpcTlsConfig() {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
  public TermIndex verifyCheckpointFromLeader(String leaderId,
                                              DBCheckpoint checkpoint) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
  @Override
  public TermIndex installCheckpoint(DBCheckpoint dbCheckpoint) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
  @Override
  public SCMSnapshotProvider getSCMSnapshotProvider() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
  @Override
  public DBCheckpoint downloadCheckpointFromLeader(String leaderId) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
    @Override
    public RaftServer.Division getDivision() {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerStub.java`
#### Snippet
```java
    @Override
    public SCMStateMachine getSCMStateMachine() {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMStateMachine.java`
#### Snippet
```java
    // Transaction buffer will be null during scm initlialization phase
    return transactionBuffer == null
        ? null : transactionBuffer.getLatestSnapshot();
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMStateMachine.java`
#### Snippet
```java

          if (checkpoint == null) {
            return null;
          }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  public Long getUnderReplicatedByHost(String host) {
    ContainerStateInWorkflow workflowMetrics = metricsByHost.get(host);
    return workflowMetrics == null ? null :
        workflowMetrics.getUnderReplicatedContainers();
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  public Long getSufficientlyReplicatedByHost(String host) {
    ContainerStateInWorkflow workflowMetrics = metricsByHost.get(host);
    return workflowMetrics == null ? null :
        workflowMetrics.getSufficientlyReplicated();
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  public Long getPipelinesWaitingToCloseByHost(String host) {
    ContainerStateInWorkflow workflowMetrics = metricsByHost.get(host);
    return workflowMetrics == null ? null :
        workflowMetrics.getPipelinesWaitingToClose();
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  public Long getUnhealthyContainersByHost(String host) {
    ContainerStateInWorkflow workflowMetrics = metricsByHost.get(host);
    return workflowMetrics == null ? null :
        workflowMetrics.getUnhealthyContainers();
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java`
#### Snippet
```java
   */
  default Collection<DatanodeDetails> getPeerList(DatanodeDetails dn) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeManager.java`
#### Snippet
```java

  default HDDSLayoutVersionManager getLayoutVersionManager() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeStateManager.java`
#### Snippet
```java

    if (executorService.isShutdown() || checkPaused) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeStateManager.java`
#### Snippet
```java

    if (executorService.isShutdown()) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java`
#### Snippet
```java
    } catch (PipelineNotFoundException ex) {
      LOG.error("Pipeline Machine count is zero.", ex);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java`
#### Snippet
```java
        "Unable to allocate a block for the size: {}, replicationConfig: {}",
        size, replicationConfig);
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  private ContainerReport getReport(String uuid) {
    if (uuid == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
      return dataList.get(0);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  private ContainerReport removeAndGet(String uuid) {
    if (uuid == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
      LOG.error("Node {} Resolution failed. Please make sure that DNS table " +
          "mapping or configured mapping is functional.", hostname);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
    if (Strings.isNullOrEmpty(uuid)) {
      LOG.warn("uuid is null");
      return null;
    }
    DatanodeDetails temp = DatanodeDetails.newBuilder()
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
    } catch (NodeNotFoundException e) {
      LOG.warn("Cannot find node for uuid {}", uuid);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
      LOG.warn("Cannot generate NodeStat, datanode {} not found.",
          datanodeDetails.getUuid());
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
  public SCMNodeMetric getNodeStat(DatanodeDetails datanodeDetails) {
    final SCMNodeStat nodeStat = getNodeStatInternal(datanodeDetails);
    return nodeStat != null ? new SCMNodeMetric(nodeStat) : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMCertStore.java`
#### Snippet
```java
    } else {
      CertInfo certInfo = getRevokedCertificateInfoByID(serialID);
      return certInfo != null ? certInfo.getX509Certificate() : null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMSecurityProtocolServer.java`
#### Snippet
```java
      return CertificateCodec.getPEMEncodedString(rootCACertificate);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/metadata/SCMMetadataStoreImpl.java`
#### Snippet
```java
    }

    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableECContainerProvider.java`
#### Snippet
```java
    // Assume 1 container per pipeline for EC
    if (containers.size() == 0) {
      return null;
    }
    ContainerID containerID = containers.first();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManager.java`
#### Snippet
```java
                                    long timeout)
          throws IOException {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableRatisContainerProvider.java`
#### Snippet
```java
        "Unable to allocate a block for the size: {}, repConfig: {}",
        size, repConfig);
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
      return primordialNode;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/leader/choose/algorithms/DefaultLeaderChoosePolicy.java`
#### Snippet
```java
  @Override
  public DatanodeDetails chooseLeader(List<DatanodeDetails> dns) {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
    Preconditions.checkArgument(networkTopology != null);
    if (checkAllNodesAreEqual(networkTopology)) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
      return nodesOnSameRack.get(0);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
    Preconditions.checkArgument(networkTopology != null);
    if (checkAllNodesAreEqual(networkTopology)) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
      return nodesOnOtherRack.get(0);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
            LOG.debug("Pipeline not found in pipeline state manager during" +
                " pipeline creation. PipelineID: {}", id, e);
            return null;
          }
        })
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
      final List<DatanodeDetails> healthyNodes) {
    if (healthyNodes == null || healthyNodes.isEmpty()) {
      return null;
    }
    DatanodeDetails selectedNode = healthyNodes.get(0);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
  public DatanodeDetails chooseNode(final List<DatanodeDetails> healthyNodes) {
    if (healthyNodes == null || healthyNodes.isEmpty()) {
      return null;
    }
    DatanodeDetails selectedNode =
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerManagerImpl.java`
#### Snippet
```java
    } catch (Exception e) {
      LOG.warn("Container allocation failed on pipeline={}", pipeline, e);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
            "for datanode {}", source.getUuidString());
      }
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
            "source node {}.", source.getUuidString());
      }
      return null;
    }
    LOG.info("ContainerBalancer matched source datanode {} with target " +
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/metrics/ContainerStat.java`
#### Snippet
```java
      return JsonUtils.toJsonString(this);
    } catch (IOException ignored) {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/FindSourceGreedy.java`
#### Snippet
```java
    if (potentialSources.isEmpty()) {
      LOG.info("no more candidate source data node");
      return null;
    }
    return potentialSources.poll().getDatanodeDetails();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/ContainerPlacementStatusDefault.java`
#### Snippet
```java
  public String misReplicatedReason() {
    if (isPolicySatisfied()) {
      return null;
    }
    return "The container is mis-replicated as it is on " + currentRacks +
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/AbstractFindTargetGreedy.java`
#### Snippet
```java
    logger.info("Container Balancer could not find a target for " +
        "source datanode {}", source.getUuidString());
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManagerImpl.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManagerImpl.java`
#### Snippet
```java
      PipelineID pipelineID, NavigableSet<ContainerID> containerIDs) {
    if (containerIDs.isEmpty()) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
  @Override
  public DatanodeDetails chooseNode(List<DatanodeDetails> healthyNodes) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
  @Override
  public DatanodeDetails chooseNode(List<DatanodeDetails> healthyNodes) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
            + "{}, excluded nodes {}",
            metadataSizeRequired, dataSizeRequired, scope, excludedNodes);
        return null;
      }
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
      tenantCacheLock.readLock().unlock();
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
            "for the service %s. List of OM Node ID's should be specified " +
            "for an OM service", OZONE_OM_NODES_KEY, serviceId);
        return null;
      }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
              "%s. OM RPC Address should be set for all nodes in an OM " +
              "service.", rpcAddrKey);
          return null;
        }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
            "and %s", OZONE_OM_ADDRESS_KEY, OZONE_OM_SERVICE_IDS_KEY,
            OZONE_OM_ADDRESS_KEY);
        return null;
      }
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
      throwConfException("Configuration has no %s address that matches local " +
          "node's address.", OZONE_OM_ADDRESS_KEY);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMEchoRPCRequest.java`
#### Snippet
```java
         long transactionLogIndex,
         OzoneManagerDoubleBufferHelper ozoneManagerDoubleBufferHelper) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
      ByteString leaderId = division.getInfo().getRoleInfoProto()
          .getFollowerInfo().getLeaderInfo().getId().getId();
      return leaderId.isEmpty() ? null :
          division.getRaftConf().getPeer(RaftPeerId.valueOf(leaderId));
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
    }

    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
      ExitUtils.terminate(1, errorMessage, e, LOG);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
      return omRequest.getUserInfo().getHostName();
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
      // This will never happen, as for every OM request preExecute, we
      // should add userInfo.
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
      return inetAddress;
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
      // In Non-HA case we don't need future to be returned, and this return
      // status is not used.
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java
    OzoneFileStatus keyStatus =
        getOzoneKeyStatus(omMetadataManager, volumeName, bucketName, keyName);
    return keyStatus != null ? keyStatus.getKeyInfo() : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
      List<OmKeyLocationInfo> uncommitted, OmKeyInfo omKeyInfo) {
    if (uncommitted.isEmpty()) {
      return null;
    }
    LOG.info("Detect allocated but uncommitted blocks {} in key {}.",
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
      String ezKeyName) throws IOException {
    if (ezKeyName == null) {
      return null;
    }
    long generateEDEKStartTime = monotonicNow();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
                    volumeName, bucketName, keyName, scmBlockSize);
    if (fileStatus == null) {
      return null;
    }
    // Appended trailing slash to represent directory to the user
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      final String ezKeyName) throws IOException {
    if (ezKeyName == null) {
      return null;
    }
    long generateEDEKStartTime = monotonicNow();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
      String keyName) throws IOException {
    // implemented in child class
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/snapshot/OzoneManagerSnapshotProvider.java`
#### Snippet
```java
        }
      }
      return null;
    });

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OMAdminProtocolServerSideImpl.java`
#### Snippet
```java
      DecommissionOMRequest request) throws ServiceException {
    if (request == null) {
      return null;
    }
    if (!ozoneManager.isRatisEnabled()) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OMInterServiceProtocolServerSideImpl.java`
#### Snippet
```java
      BootstrapOMRequest request) throws ServiceException {
    if (request == null) {
      return null;
    }
    if (!isRatisEnabled) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/MetricsServiceProviderFactory.java`
#### Snippet
```java
      return new PrometheusServiceProviderImpl(configuration, reconUtils);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
        new X509TrustManager() {
          public java.security.cert.X509Certificate[] getAcceptedIssuers() {
            return null;
          }
          public void checkClientTrusted(
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java

  public HashSet<String> getRoleList() {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
      }
    }
    return lastKnownSnapshotFileName == null ? null :
        new File(reconDbDir.getPath(), lastKnownSnapshotFileName);
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/ContainerKeyPrefix.java`
#### Snippet
```java
      return new KeyPrefixContainer(keyPrefix, keyVersion, containerId);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/BucketHandler.java`
#### Snippet
```java
    // If bucketInfo is null then entity type is UNKNOWN
    if (Objects.isNull(bucketInfo)) {
      return null;
    } else {
      if (bucketInfo.getBucketLayout()
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/BucketHandler.java`
#### Snippet
```java
        LOG.error("Unsupported bucket layout: " +
            bucketInfo.getBucketLayout());
        return null;
      }
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      LOG.error("Failed to download checkpoint from OM leader {}", leaderId, e);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

    if (StringUtils.isEmpty(userPrincipal)) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        metadataManager.getPrincipalToAccessIdsTable().get(userPrincipal);
    if (kerberosPrincipalInfo == null) {
      return null;
    }
    final Set<String> accessIds = kerberosPrincipalInfo.getAccessIds();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
                                    int payloadSizeResp)
          throws IOException {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      LOG.error("OM Snapshot Provider is not configured as there are no peer " +
          "nodes.");
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        keyProviderUriKeyName);
    if (keyProvider == null) {
      return null;
    }
    KeyProviderCryptoExtension cryptoProvider = KeyProviderCryptoExtension
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    String layoutVersion =
        metadataManager.getMetaTable().get(LAYOUT_VERSION_KEY);
    return (layoutVersion == null) ? null : Integer.parseInt(layoutVersion);
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  public LifeCycle.State getOmRatisServerState() {
    if (omRatisServer == null) {
      return null;
    } else {
      return omRatisServer.getServerState();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

    if (StringUtils.isEmpty(tenantId)) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      // Install Snapshot failed and old state was reloaded. Return null to
      // Ratis to indicate that installation failed.
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      if (delegationTokenMgr == null || !delegationTokenMgr.isRunning()) {
        LOG.warn("trying to get DT with no secret manager running in OM.");
        return null;
      }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/codec/ReconNodeDBKeyCodec.java`
#### Snippet
```java
  @Override
  public UUID copyObject(UUID object) {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/StorageContainerServiceProviderImpl.java`
#### Snippet
```java
            FileUtils.copyInputStreamToFile(inputStream, targetFile);
          }
          return null;
        });
        LOG.info("Downloaded SCM Snapshot from SCM");
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/StorageContainerServiceProviderImpl.java`
#### Snippet
```java
      LOG.error("Unable to obtain SCM DB Snapshot. ", e);
    }
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconStorageContainerManagerFacade.java`
#### Snippet
```java
  @Override
  public ReplicationManager getReplicationManager() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconStorageContainerManagerFacade.java`
#### Snippet
```java
  @Override
  public ContainerBalancer getContainerBalancer() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconStorageContainerManagerFacade.java`
#### Snippet
```java
  @Override
  public BlockManager getScmBlockManager() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java`
#### Snippet
```java
          FileUtils.copyInputStreamToFile(inputStream, targetFile);
        }
        return null;
      });
      // Untar the checkpoint file.
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java`
#### Snippet
```java
      LOG.error("Unable to obtain Ozone Manager DB Snapshot. ", e);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneOutputStream.java`
#### Snippet
```java
    }
    // Otherwise return null.
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockOutputStreamEntry.java`
#### Snippet
```java
  private BlockID underlyingBlockID() {
    if (blockOutputStreams[0] == null) {
      return null;
    }
    // blockID is the same for EC blocks inside one block group managed by
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockOutputStreamEntry.java`
#### Snippet
```java
  public OutputStream getOutputStream() {
    if (!isInitialized()) {
      return null;
    }
    checkState(blockOutputStreams[currentStreamIdx] != null);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/BlockOutputStreamEntryPool.java`
#### Snippet
```java
  BlockOutputStreamEntry getCurrentStreamEntry() {
    if (streamEntries.isEmpty() || streamEntries.size() <= currentStreamIndex) {
      return null;
    } else {
      return streamEntries.get(currentStreamIndex);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
              return collect.get(0).getPipeline();
            } else {
              return null;
            }
          }, blockStreamFactory);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/TokenHelper.java`
#### Snippet
```java
    return blockTokenMgr != null
        ? blockTokenMgr.generateToken(user, blockID, MODES, length)
        : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/TokenHelper.java`
#### Snippet
```java

  static String encode(Token<?> token) throws IOException {
    return token != null ? token.encodeToUrlString() : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/TokenHelper.java`
#### Snippet
```java
    return containerTokenMgr != null
        ? containerTokenMgr.generateToken(user, containerID)
        : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECContainerOperationClient.java`
#### Snippet
```java
              e);
          // TODO: revisit here.
          return null;
        }
      }).collect(Collectors.toList())
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerLayoutVersion.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java
        Object bean, Property property, Object value, Tag tag) {
      return value == null
          ? null
          : super.representJavaBeanProperty(bean, property, value, tag);
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/CommandStatusReportPublisher.java`
#### Snippet
```java
      }
    });
    return builder.getCmdStatusCount() > 0 ? builder.build() : null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServerSpi.java`
#### Snippet
```java
  default List<MetadataStorageReportProto> getStorageReport() throws
          IOException {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
      throw new ExecutionException(((Failure) obj).exception);
    } else if (obj == NULL) {
      return null;
    } else {
      @SuppressWarnings("unchecked") // this is the only other option
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
          this);
    case SHUTDOWN:
      return null;
    default:
      throw new IllegalArgumentException("Not Implemented yet.");
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
      initTermOfLeaderSCM();
      if (!termOfLeaderSCM.isPresent()) {
        return null;      // not ready yet
      }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
        SCMCommand<?> command = commandQueue.poll();
        if (command == null) {
          return null;
        }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java`
#### Snippet
```java
      return getContainerKeyPrefix(getContainerID());
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
  @Override
  public String getCanonicalServiceName() {
    return (dtService != null) ? dtService.toString() : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    URI kmsUri = getKeyProviderUri();
    if (kmsUri == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    } catch (Exception e) {
      LOG.error("Can't create KeyProvider for Ozone RpcClient.", e);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
      } catch (IOException e) {
        LOG.error("Unable to lookup key {} on retry.", keyInfo.getKeyName(), e);
        return null;
      }
    });
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
    }

    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
      return reports;
    } catch (Exception e) {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
      return handler.handleGetCommittedBlockLength(request, kvContainer);
    default:
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/SimpleContainerDownloader.java`
#### Snippet
```java
    LOG.error("Container {} could not be downloaded from any datanode",
        containerId);
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyLocationInfo.java`
#### Snippet
```java
    try {
      return keyLocation.hasPipeline() ?
          Pipeline.getFromProtobuf(keyLocation.getPipeline()) : null;
    } catch (UnknownPipelineStateException e) {
      return null;
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyLocationInfo.java`
#### Snippet
```java
          Pipeline.getFromProtobuf(keyLocation.getPipeline()) : null;
    } catch (UnknownPipelineStateException e) {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/HadoopRpcOMFailoverProxyProvider.java`
#### Snippet
```java
      // If all OM addresses are unresolvable, set dt service to null. Let
      // this fail in later step when during connection setup.
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
    if (omServiceIds.isEmpty()) {
      LOG.info("No OzoneManager ServiceID configured.");
      return null;
    } else {
      String serviceId = omServiceIds.iterator().next();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
      return confValue;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
  public static String getOMAddressListPrintString(List<OMNodeDetails> omList) {
    if (omList.size() == 0) {
      return null;
    }
    StringBuilder printString = new StringBuilder();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
    } else {
      // The specified confKey is not set
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
      return keyInfo;
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneFSUtils.java`
#### Snippet
```java
        !ancestor.isEmpty() ? addTrailingSlashIfNeeded(ancestor) : ancestor;
    if (!descendant.startsWith(ancestor)) {
      return null;
    }
    java.nio.file.Path descendantPath = Paths.get(descendant);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OMNodeDetails.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OMNodeDetails.java`
#### Snippet
```java
    String rpcAddrStr = getOMNodeAddressFromConf(conf, omServiceId, omNodeId);
    if (rpcAddrStr == null || rpcAddrStr.isEmpty()) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OMAdminProtocolClientSideImpl.java`
#### Snippet
```java
      LOG.error("Failed to retrieve configuration of OM {}", omPrintInfo, e);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/impl/AccountNameSpaceImpl.java`
#### Snippet
```java
  @Override
  public SpaceUsageSource getSpaceUsage() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/impl/AccountNameSpaceImpl.java`
#### Snippet
```java
  @Override
  public OzoneQuota getQuota() {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/impl/SingleVolumeTenantNamespace.java`
#### Snippet
```java
  @Override
  public SpaceUsageSource getSpaceUsage() {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/impl/SingleVolumeTenantNamespace.java`
#### Snippet
```java
  @Override
  public OzoneQuota getQuota() {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
      // lets ignore the exception in case the field is not set.
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSelector.java`
#### Snippet
```java
      Collection<Token<? extends TokenIdentifier>> tokens) {
    if (service == null) {
      return null;
    }
    for (Token<? extends TokenIdentifier> token : tokens) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSelector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/RadixTree.java`
#### Snippet
```java
    Path p = Paths.get(path);
    if (lpp.size() != p.getNameCount() + 1) {
      return null;
    } else {
      return lpp.get(p.getNameCount());
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
      throws IOException {
    if (proto == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
      return CipherSuiteProto.AES_CTR_NOPADDING;
    default:
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
  public static FileChecksumProto convert(FileChecksum checksum) {
    if (checksum == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
          checksum, ioe);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
  public static OMResponse processForDebug(OMResponse msg) {
    if (msg == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
  public static FileEncryptionInfo convert(FileEncryptionInfoProto proto) {
    if (proto == null) {
      return null;
    }
    CipherSuite suite = convert(proto.getSuite());
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
          .ENCRYPTION_ZONES;
    default:
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OMPBHelper.java`
#### Snippet
```java
      FileEncryptionInfo info) {
    if (info == null) {
      return null;
    }
    return OzoneManagerProtocolProtos.FileEncryptionInfoProto.newBuilder()
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
      if (httpURLConnection.getErrorStream() != null) {
        System.out.println("Recon is being initialized. Please wait a moment");
        return null;
      } else {
        System.out.println("Unexpected null in http payload," +
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
            " while processing request");
      }
      return null;
    } catch (ConnectException ex) {
      System.err.println("Connection Refused. Please make sure the " +
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
      System.err.println("Connection Refused. Please make sure the " +
          "Recon Server has been started.");
      return null;
    } catch (AuthenticationException authEx) {
      System.err.println("Authentication Failed. Please make sure you " +
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/nssummary/NSSummaryCLIUtils.java`
#### Snippet
```java
      System.err.println("Authentication Failed. Please make sure you " +
          "have login or disable Ozone security settings.");
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBDefinitionFactory.java`
#### Snippet
```java
      return new OMDBDefinition();
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
      return resp.getResponse().hasToken() ?
          OMPBHelper.convertToDelegationToken(resp.getResponse().getToken())
          : null;
    } catch (IOException e) {
      if (e instanceof OMException) {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyGenerator.java`
#### Snippet
```java
        stream.flush();
      }
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmKeyGenerator.java`
#### Snippet
```java

      ozoneManagerClient.commitKey(keyArgs, openKeySession.getId());
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RangeKeysGenerator.java`
#### Snippet
```java
        break;
      }
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
  public static OmKeyInfo getFromProtobuf(KeyInfo keyInfo) throws IOException {
    if (keyInfo == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java

  public synchronized OmKeyLocationInfoGroup getLatestVersionLocations() {
    return keyLocationVersions.size() == 0 ? null :
        keyLocationVersions.get(keyLocationVersions.size() - 1);
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/S3BucketGenerator.java`
#### Snippet
```java
    timer.time(() -> {
      getS3().createBucket(bName);
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyRemover.java`
#### Snippet
```java
    timer.time(() -> {
      ozoneBucket.deleteKey(key);
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmRPCLoadGenerator.java`
#### Snippet
```java
      clients[(int) (l % clientsCount)].echoRPCReq(payloadReqBytes,
              payloadRespSize);
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopFsGenerator.java`
#### Snippet
```java
        contentGenerator.write(output);
      }
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ClosedContainerReplicator.java`
#### Snippet
```java
          replicationTasks.get((int) counter);
      supervisor.new TaskRunner(replicationTask).run();
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketGenerator.java`
#### Snippet
```java
    bucketCreationTimer.time(() -> {
      ozoneManagerClient.createBucket(bucketInfo);
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/LeaderAppendLogEntryGenerator.java`
#### Snippet
```java
      xceiverClientReply.getResponse()
          .thenApply(response -> inFlightMessages.remove(step));
      return null;
    }));

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketRemover.java`
#### Snippet
```java
    bucketCreationTimer.time(() -> {
      ozoneManagerClient.deleteBucket(volumeName, bucketName);
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/DatanodeChunkGenerator.java`
#### Snippet
```java
        xceiverClientSpi.sendCommand(request);
      }
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/AbstractOmBucketReadWriteOps.java`
#### Snippet
```java
          stream.flush();
        }
        return null;
      });
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/S3KeyGenerator.java`
#### Snippet
```java
      }

      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/DatanodeBlockPutter.java`
#### Snippet
```java
    timer.time(() -> {
      client.sendCommand(request);
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopDirTreeGenerator.java`
#### Snippet
```java
        contentGenerator.write(output);
      }
      return null;
    });
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
      return OzoneObj.ResourceType.VOLUME;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/token/TokenOption.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
      } catch (InterruptedException e) {
        Thread.currentThread().interrupt();
        return null;
      }
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/EmptyContentTypeFilter.java`
#### Snippet
```java
        public String getHeader(String name) {
          if (name.equalsIgnoreCase("Content-Type")) {
            return null;
          }
          return super.getHeader(name);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/EmptyContentTypeFilter.java`
#### Snippet
```java
        public Enumeration<String> getHeaders(String name) {
          if ("Content-Type".equalsIgnoreCase(name)) {
            return null;
          }
          return super.getHeaders(name);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/EmptyContentTypeFilter.java`
#### Snippet
```java
        @Override
        public String getContentType() {
          return null;
        }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/ContinueToken.java`
#### Snippet
```java
      }
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/ContinueToken.java`
#### Snippet
```java
      return hex + CONTINUE_TOKEN_SEPARATOR + digest;
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/S3Acl.java`
#### Snippet
```java
        }
      }
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/S3Acl.java`
#### Snippet
```java
        }
      }
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/S3Acl.java`
#### Snippet
```java
        }
      }
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV2HeaderParser.java`
#### Snippet
```java
  public SignatureInfo parseSignature() throws MalformedResourceException {
    if (authHeader == null || !authHeader.startsWith(IDENTIFIER + " ")) {
      return null;
    }
    String[] split = authHeader.split(" ");
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4HeaderParser.java`
#### Snippet
```java
  public SignatureInfo parseSignature() throws MalformedResourceException {
    if (authHeader == null || !authHeader.startsWith("AWS4")) {
      return null;
    }
    int firstSep = authHeader.indexOf(' ');
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AuthorizationV4QueryParser.java`
#### Snippet
```java

    if (!queryParameters.containsKey("X-Amz-Signature")) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/ClientCRLStore.java`
#### Snippet
```java
  @Override
  public CRLInfo getCRL(long crlId) throws IOException {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/freon/FakeScmContainerLocationProtocolClient.java`
#### Snippet
```java
    } catch (Exception ex) {
      LOGGER.error("Error on creating fake SCM response", ex);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/freon/FakeScmBlockLocationProtocolClient.java`
#### Snippet
```java
    } catch (Exception ex) {
      LOGGER.error("Error on creating fake SCM response", ex);
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBStoreHAManager.java`
#### Snippet
```java

  default Table<String, TransactionInfo> getTransactionInfoTable() {
    return null;
  }
}
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/RocksDBStoreMBean.java`
#### Snippet
```java
  public Object invoke(String actionName, Object[] params, String[] signature)
      throws MBeanException, ReflectionException {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/RocksDBStoreMBean.java`
#### Snippet
```java
  @Override
  public AttributeList setAttributes(AttributeList attributes) {
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/CodecRegistry.java`
#### Snippet
```java
      throws IOException {
    if (rawData == null) {
      return null;
    }
    Codec codec = getCodec(format);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/CodecRegistry.java`
#### Snippet
```java
  public <T> T copyObject(T object, Class<T> format) throws IOException {
    if (object == null) {
      return null;
    }
    Codec codec = getCodec(format);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/StringCodec.java`
#### Snippet
```java
      return StringUtils.bytes2String(rawData);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/StringCodec.java`
#### Snippet
```java
      return StringUtils.string2Bytes(object);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBCheckpointManager.java`
#### Snippet
```java
      LOG.error("Unable to create RocksDB Snapshot.", e);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/LongCodec.java`
#### Snippet
```java
      return Longs.fromByteArray(rawData);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/LongCodec.java`
#### Snippet
```java
      return Longs.toByteArray(object);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/DBConfigFromFile.java`
#### Snippet
```java
      LOG.debug("Unable to find the configuration directory. "
          + "Please make sure that " + CONFIG_DIR + " is setup correctly.");
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/FixedLengthStringCodec.java`
#### Snippet
```java
      return FixedLengthStringUtils.string2Bytes(object);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/FixedLengthStringCodec.java`
#### Snippet
```java
      return FixedLengthStringUtils.bytes2String(rawData);
    } else {
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBTable.java`
#### Snippet
```java
      return val;
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
  public static String unquoteHtmlChars(String item) {
    if (item == null) {
      return null;
    }
    int next = item.indexOf('&');
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
  public static String quoteHtmlChars(String item) {
    if (item == null) {
      return null;
    }
    byte[] bytes = item.getBytes(StandardCharsets.UTF_8);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HtmlQuoting.java`
#### Snippet
```java
      } catch (IOException ioe) {
        // Won't happen, since it is a bytearrayoutputstream
        return null;
      }
    } else {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpConfig.java`
#### Snippet
```java
        }
      }
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpRequestLog.java`
#### Snippet
```java
      if (appender == null) {
        LOG.info("Http request log for {} is not defined", loggerName);
        return null;
      }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpRequestLog.java`
#### Snippet
```java
      } else {
        LOG.warn("Jetty request log for {} was of the wrong class", loggerName);
        return null;
      }
    } else {
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpRequestLog.java`
#### Snippet
```java
    } else {
      LOG.warn("Jetty request log can only be enabled using Log4j");
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
        return Double.valueOf(value);
      } catch (NumberFormatException e) {
        return null;
      }
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
      // ignore
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
        return Long.valueOf(value);
      } catch (NumberFormatException e) {
        return null;
      }
    }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/ProfileServlet.java`
#### Snippet
```java
      }

      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/TypedTable.java`
#### Snippet
```java
      return cacheResult.getValue().getCacheValue();
    } else if (cacheResult.getCacheStatus() == NOT_EXIST) {
      return null;
    } else {
      return getFromTable(key);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/TypedTable.java`
#### Snippet
```java
      KeyValue<byte[], byte[]> result = rawIterator.seek(keyBytes);
      if (result == null) {
        return null;
      }
      return new TypedKeyValue(result);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/TypedTable.java`
#### Snippet
```java
          valueType);
    } else if (cacheResult.getCacheStatus() == NOT_EXIST) {
      return null;
    } else {
      return getFromTableIfExist(key);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/TypedTable.java`
#### Snippet
```java
          valueType);
    } else if (cacheResult.getCacheStatus() == NOT_EXIST) {
      return null;
    } else {
      return getFromTable(key);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
      final Holder<byte[]> out = new Holder<>();
      return db.get().keyMayExist(family.getHandle(), key, out) ?
          out::getValue : null;
    } finally {
      counter.decrementAndGet();
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java
    PublicKey key = null;
    if (encodedKey == null || encodedKey.length == 0) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java
    } catch (NoSuchAlgorithmException | InvalidKeySpecException |
        NoSuchProviderException e) {
      return null;
    }
    return key;
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java
    PrivateKey pvtKey = null;
    if (encodedKey == null || encodedKey.length == 0) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/keys/SecurityUtil.java`
#### Snippet
```java
    } catch (NoSuchAlgorithmException | InvalidKeySpecException |
        NoSuchProviderException e) {
      return null;
    }
    return pvtKey;
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/DefaultCAServer.java`
#### Snippet
```java
        break;
      default:
        return null; // cannot happen, keeping checkstyle happy.
      }
    } catch (CertificateException | IOException | OperatorCreationException |
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/TimeDurationUtil.java`
#### Snippet
```java
        }
      }
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/TimeDurationUtil.java`
#### Snippet
```java
        }
      }
      return null;
    }
  }
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      char[] passchars = conf.getPassword(name);
      if (passchars == null) {
        return null;
      }
      return new String(passchars);
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
        String[] unquoteValue = rawRequest.getParameterValues(unquoteName);
        if (unquoteValue == null) {
          return null;
        }
        String[] result = new String[unquoteValue.length];
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
    Preconditions.checkArgument(index >= 0);
    if (index > webServer.getConnectors().length) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
    if (c.getLocalPort() == -1 || c.getLocalPort() == -2) {
      // The connector is not bounded or was closed
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
          (ServletContextHandler.Context) config.getServletContext();
      String mime = sContext.getMimeType(path);
      return (mime == null) ? null : mime;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      ConfigurationSource conf) {
    if (conf == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
        conf.getClasses(FILTER_INITIALIZER_PROPERTY, StaticUserWebFilter.class);
    if (classes == null) {
      return null;
    }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
      return certificateMap.get(caCertId);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
      return certificateMap.get(rootCaCertId);
    }
    return null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
      getLogger().error("Default certificate serial id is not set. Can't " +
          "locate the default certificate for this client.");
      return null;
    }
    // Refresh the cache from file system.
```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/ConfigurationSource.java`
#### Snippet
```java
  default String getTrimmed(String key) {
    String value = get(key);
    return value != null ? value.trim() : null;
  }

```

### RuleId[ruleID=ReturnNull]
Return of `null`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/ConfigurationSource.java`
#### Snippet
```java
        return theClass.asSubclass(xface);
      } else {
        return null;
      }
    } catch (Exception e) {
```

## RuleId[ruleID=AssignmentToLambdaParameter]
### RuleId[ruleID=AssignmentToLambdaParameter]
Assignment to lambda parameter `s`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerConfiguration.java`
#### Snippet
```java
    return Arrays.stream(excludeContainers.split(","))
        .map(s -> {
          s = s.trim();
          return ContainerID.valueOf(Long.parseLong(s));
        }).collect(Collectors.toSet());
```

### RuleId[ruleID=AssignmentToLambdaParameter]
Assignment to lambda parameter `v`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java`
#### Snippet
```java
      // updates the latest BCSID on every putBlock or putSmallFile
      // transaction over Ratis.
      container2BCSIDMap.computeIfPresent(containerId, (u, v) -> v = bcsID);
    }
  }
```

## RuleId[ruleID=UnnecessaryLocalVariable]
### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `bbdState` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/ByteArrayDecodingState.java`
#### Snippet
```java
    }

    ByteBufferDecodingState bbdState = new ByteBufferDecodingState(decoder,
        decodeLength, erasedIndexes, newInputs, newOutputs);
    return bbdState;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `baeState` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/ByteBufferDecodingState.java`
#### Snippet
```java
    }

    ByteArrayDecodingState baeState = new ByteArrayDecodingState(decoder,
        decodeLength, erasedIndexes, newInputs,
        inputOffsets, newOutputs, outputOffsets);
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `bbeState` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/ByteArrayEncodingState.java`
#### Snippet
```java
    }

    ByteBufferEncodingState bbeState = new ByteBufferEncodingState(encoder,
        encodeLength, newInputs, newOutputs);
    return bbeState;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `baeState` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/ByteBufferEncodingState.java`
#### Snippet
```java
    }

    ByteArrayEncodingState baeState = new ByteArrayEncodingState(encoder,
        encodeLength, newInputs, inputOffsets, newOutputs, outputOffsets);
    return baeState;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `coderNames` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
   */
  public String[] getCoderNames(String codecName) {
    String[] coderNames = coderNameMap.get(codecName);
    return coderNames;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `coders` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
   */
  public List<RawErasureCoderFactory> getCoders(String codecName) {
    List<RawErasureCoderFactory> coders = coderMap.get(codecName);
    return coders;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `proxy` is redundant
in `hadoop-ozone/ozonefs-hadoop2/src/main/java/org/apache/hadoop/fs/ozone/Hadoop27RpcTransport.java`
#### Snippet
```java
      int maxFailovers) {

    OzoneManagerProtocolPB proxy = (OzoneManagerProtocolPB) RetryProxy.create(
        OzoneManagerProtocolPB.class, failoverProxyProvider,
        failoverProxyProvider.getRetryPolicy(maxFailovers));
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `retryPolicy` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/retrypolicy/RetryLimitedPolicyCreator.java`
#### Snippet
```java
    TimeDuration sleepDuration =
        TimeDuration.valueOf(retryInterval, TimeUnit.MILLISECONDS);
    RetryPolicy retryPolicy = RetryPolicies
        .retryUpToMaximumCountWithFixedSleep(maxRetryCount, sleepDuration);
    return retryPolicy;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `display` is redundant
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/scm/ReplicaManagerInsight.java`
#### Snippet
```java
  @Override
  public List<MetricGroupDisplay> getMetrics(Map<String, String> filters) {
    List<MetricGroupDisplay> display = new ArrayList<>();
    return display;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `loggers` is redundant
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/BaseInsightPoint.java`
#### Snippet
```java
  public List<LoggerSource> getRelatedLoggers(boolean verbose,
      Map<String, String> filters) {
    List<LoggerSource> loggers = new ArrayList<>();
    return loggers;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `scmCheckpoint` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMSnapshotProvider.java`
#### Snippet
```java
        leaderSCMNodeID, untarredDbDir.toAbsolutePath());

    RocksDBCheckpoint scmCheckpoint = new RocksDBCheckpoint(untarredDbDir);
    return scmCheckpoint;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `group` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
    // Add this Ratis server to the Ratis ring
    raftPeers.add(localRaftPeer);
    final RaftGroup group =
        RaftGroup.valueOf(groupId, raftPeers);
    return group;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `future` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMStateMachine.java`
#### Snippet
```java
        + "term index: {}", leaderAddress, firstTermIndexInLog);

    CompletableFuture<TermIndex> future = CompletableFuture.supplyAsync(
        () -> {
          DBCheckpoint checkpoint =
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `scmUsedRatio` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
   */
  public  double getScmUsedratio(long scmUsed, long capacity) {
    double scmUsedRatio =
        truncateDecimals(scmUsed / (double) capacity);
    return scmUsedRatio;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `caCerts` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMSecurityProtocolServer.java`
#### Snippet
```java
  @Override
  public List<String> listCACertificate() throws IOException {
    List<String> caCerts =
        listCertificate(NodeType.SCM, 0, 10, false);
    return caCerts;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `result` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/RatisReplicationCheckHandler.java`
#### Snippet
```java
        = replicaCount.isSufficientlyReplicated(false);
    if (!sufficientlyReplicated) {
      ContainerHealthResult.UnderReplicatedHealthResult result =
          new ContainerHealthResult.UnderReplicatedHealthResult(
          container, replicaCount.getRemainingRedundancy(),
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `nodesRequired` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
    }
    metrics.incrDatanodeRequestCount(nodesRequiredToChoose);
    int nodesRequired = nodesRequiredToChoose;
    int excludedNodesCount = excludedNodes == null ? 0 : excludedNodes.size();
    List<Node> availableNodes = networkTopology.getNodes(
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `keyArgs` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
    String bucket = ofsPath.getBucketName();
    String key = ofsPath.getKeyName();
    OmKeyArgs keyArgs = new OmKeyArgs.Builder()
        .setVolumeName(volume)
        .setBucketName(bucket)
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `fileStatus` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
    OmKeyArgs keyArgs = constructOmKeyArgs(path);
    OzoneFileStatus ofs = ozoneManager.getKeyManager().getFileStatus(keyArgs);
    FileStatus fileStatus = convertToFileStatus(ofs);
    return fileStatus;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `openKey` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
  public String getOpenKey(String volume, String bucket,
                           String key, long id) {
    String openKey = OM_KEY_PREFIX + volume + OM_KEY_PREFIX + bucket +
        OM_KEY_PREFIX + key + OM_KEY_PREFIX + id;
    return openKey;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `deletedKeys` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
      String startKeyName, String keyPrefix, int maxKeys) throws IOException {

    List<RepeatedOmKeyInfo> deletedKeys = new ArrayList<>();
    return deletedKeys;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `dbStore` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
        rocksDBConfiguration).setName(dbName)
        .setPath(Paths.get(metaDir.getPath()));
    DBStore dbStore = addOMTablesAndCodecs(dbStoreBuilder).build();
    return dbStore;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `recoverOperation` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
     */

    boolean recoverOperation = true;
    return recoverOperation;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `removed` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
        if (flushedTrans.contains(i)) {
          appliedIndex = i;
          final Long removed = applyTransactionMap.remove(i);
          appliedTerm = removed;
          flushedTrans.remove(i);
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `removed` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
          flushedTrans.remove(i);
        } else if (ratisTransactionMap.containsKey(i)) {
          final Long removed = ratisTransactionMap.remove(i);
          appliedTerm = removed;
          appliedIndex = i;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `future` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerStateMachine.java`
#### Snippet
```java
            "term index: {}", leaderNodeId, firstTermIndexInLog);

    CompletableFuture<TermIndex> future = CompletableFuture.supplyAsync(
        () -> ozoneManager.installSnapshotFromLeader(leaderNodeId),
        installSnapshotExecutor);
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `bucketNamespaceName` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/tenant/OMTenantCreateRequest.java`
#### Snippet
```java
      // Create tenant
      // Add to tenantStateTable. Redundant assignment for clarity
      final String bucketNamespaceName = volumeName;
      // Populate policy ID list
      final String bucketNamespacePolicyName =
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omClientResp` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequestWithFSO.java`
#### Snippet
```java
      OmBucketInfo omBucketInfo) {

    OMClientResponse omClientResp = new S3MultipartUploadAbortResponseWithFSO(
        omResponse.setAbortMultiPartUploadResponse(
            MultipartUploadAbortResponse.newBuilder()).build(), multipartKey,
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `multipartKey` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequestWithFSO.java`
#### Snippet
```java
            pathComponents, keyName, omMetadataManager);

    String multipartKey = omMetadataManager.getMultipartKey(volumeId, bucketId,
            parentID, fileName, multipartUploadID);

```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `multipartKey` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager) throws IOException {

    String multipartKey = omMetadataManager.getMultipartKey(
        volumeName, bucketName, keyName, multipartUploadID);
    return multipartKey;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omClientResponse` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
      OmBucketInfo omBucketInfo) {

    OMClientResponse omClientResponse = new S3MultipartUploadAbortResponse(
        omResponse.setAbortMultiPartUploadResponse(
            MultipartUploadAbortResponse.newBuilder()).build(), multipartKey,
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omClientResponse` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRenameRequestWithFSO.java`
#### Snippet
```java
    }

    OMClientResponse omClientResponse = new OMKeyRenameResponseWithFSO(
        omResponse.setRenameKeyResponse(RenameKeyResponse.newBuilder()).build(),
        dbFromKey, dbToKey, fromKeyValue, isRenameDirectory,
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `keyStatus` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager, String volumeName, String bucketName,
      String keyName) throws IOException {
    OzoneFileStatus keyStatus = OMFileRequest
        .getOMKeyInfoIfExists(omMetadataManager, volumeName, bucketName,
            keyName, 0);
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `multipartKey` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
                keyName, metaMgr);

    String multipartKey = metaMgr.getMultipartKey(volumeId, bucketId,
            parentID, fileName, uploadID);

```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omKeyInfo` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
      String volume, String bucket, String key) throws IOException {
    String objectKey = omMetadataManager.getOzoneKey(volume, bucket, key);
    OmKeyInfo omKeyInfo =
        omMetadataManager.getKeyTable(getBucketLayout()).get(objectKey);
    return omKeyInfo;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `newVolList` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/OMVolumeRequest.java`
#### Snippet
```java
    // Remove the volume from the list
    prevVolList.remove(volume);
    PersistedUserVolumeInfo newVolList = PersistedUserVolumeInfo.newBuilder()
        .addAllVolumeNames(prevVolList)
            .setObjectID(volumeList.getObjectID())
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omRequest` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/OpenKeyCleanupService.java`
#### Snippet
```java
              .build();

      OMRequest omRequest = OMRequest.newBuilder()
          .setCmdType(Type.DeleteOpenKeys)
          .setDeleteOpenKeysRequest(request)
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omCheckpoint` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/snapshot/OzoneManagerSnapshotProvider.java`
#### Snippet
```java
        leaderOMNodeID);

    RocksDBCheckpoint omCheckpoint = new RocksDBCheckpoint(untarredDbDir);
    return omCheckpoint;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `volumeAccess` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/acl/OzoneNativeAuthorizer.java`
#### Snippet
```java
        return false;
      }
      boolean volumeAccess =  isOwner ||
          volumeManager.checkAccess(objInfo, context);
      return volumeAccess;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `response` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
        .collect(Collectors.toList());

    ListMultipartUploadsResponse response =
        ListMultipartUploadsResponse.newBuilder()
            .addAllUploadsList(info)
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `namespaceSummaryResponse` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/KeyEntityHandler.java`
#### Snippet
```java
  public NamespaceSummaryResponse getSummaryResponse()
          throws IOException {
    NamespaceSummaryResponse namespaceSummaryResponse =
            new NamespaceSummaryResponse(EntityType.KEY);

```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `names` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/EntityHandler.java`
#### Snippet
```java
      path = path.substring(1);
    }
    String[] names = path.split(OM_KEY_PREFIX);
    return names;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `cryptoProvider` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      return null;
    }
    KeyProviderCryptoExtension cryptoProvider = KeyProviderCryptoExtension
        .createKeyProviderCryptoExtension(keyProvider);
    return cryptoProvider;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `bucketInfo` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    try {
      metrics.incNumBucketInfos();
      final OmBucketInfo bucketInfo =
          bucketManager.getBucketInfo(volume, bucket);
      return bucketInfo;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `keyInfo` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/LegacyBucketHandler.java`
#### Snippet
```java
    ozoneKey += String.join(OM_KEY_PREFIX, names);

    OmKeyInfo keyInfo = getKeyTable().getSkipCache(ozoneKey);
    return keyInfo;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `keyTable` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/LegacyBucketHandler.java`
#### Snippet
```java

  public Table<String, OmKeyInfo> getKeyTable() {
    Table keyTable =
        getOmMetadataManager().getKeyTable(getBucketLayout());
    return keyTable;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `currBlocksLocationInfoList` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/BlockOutputStreamEntryPool.java`
#### Snippet
```java
  public List<OmKeyLocationInfo> getLocationInfoList() {
    List<OmKeyLocationInfo> locationInfoList;
    List<OmKeyLocationInfo> currBlocksLocationInfoList =
        getOmKeyLocationInfos(streamEntries);
    locationInfoList = currBlocksLocationInfoList;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `parityBytes` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/ECBlockChecksumComputer.java`
#### Snippet
```java
        (ECReplicationConfig) keyInfo.getReplicationConfig();
    int numParity = replicationConfig.getParity();
    int parityBytes = (int)
        (Math.ceil((double)chunkSize / bytesPerCrc) * 4L * numParity);

```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `bucket` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneVolume.java`
#### Snippet
```java
   */
  public OzoneBucket getBucket(String bucketName) throws IOException {
    OzoneBucket bucket = proxy.getBucketDetails(name, bucketName);
    return bucket;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `reconServerCount` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
    // TODO(runzhiwang): current only support one recon, if support multiple
    //  recon in future reconServerCount should be the real number of recon
    int reconServerCount = 1;
    int totalServerCount = reconServerCount;

```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omMultipartUploadCompleteInfo` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
        partsMap);

    OmMultipartUploadCompleteInfo omMultipartUploadCompleteInfo =
        ozoneManagerClient.completeMultipartUpload(keyArgs,
            omMultipartUploadCompleteList);
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `multipartInfo` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
        .setAcls(getAclList())
        .build();
    OmMultipartInfo multipartInfo = ozoneManagerClient
        .initiateMultipartUpload(keyArgs);
    return multipartInfo;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `result` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
            upload.getReplicationConfig()))
        .collect(Collectors.toList());
    OzoneMultipartUploadList result = new OzoneMultipartUploadList(uploads);
    return result;
  }
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `containerMetaDataPath` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerLocationUtil.java`
#### Snippet
```java
    String containerSubDirectory = getContainerSubDirectory(containerId);

    String containerMetaDataPath = hddsVolumeDir  + File.separator + clusterId +
        File.separator + Storage.STORAGE_DIR_CURRENT + File.separator +
        containerSubDirectory + File.separator + containerId;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `retryPolicy` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
    // Client will attempt upto maxFailovers number of failovers between
    // available OMs before throwing exception.
    RetryPolicy retryPolicy = new RetryPolicy() {
      @Override
      public RetryAction shouldRetry(Exception exception, int retries,
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `retList` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
    }

    List retList = aclList.stream().filter(acl -> acl.getType() == type
        && acl.getName().equals(identityName)).collect(Collectors.toList());
    return retList;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `proxy` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/Hadoop3OmTransport.java`
#### Snippet
```java
      int maxFailovers) {

    OzoneManagerProtocolPB proxy = (OzoneManagerProtocolPB) RetryProxy.create(
        OzoneManagerProtocolPB.class, failoverProxyProvider,
        failoverProxyProvider.getRetryPolicy(maxFailovers));
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `contextBuilder` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/acl/RequestContext.java`
#### Snippet
```java
      UserGroupInformation ugi, InetAddress remoteAddress, String hostName,
      ACLType aclType, String ownerName, boolean recursiveAccessCheck) {
    RequestContext.Builder contextBuilder = RequestContext.newBuilder()
        .setClientUgi(ugi)
        .setIp(remoteAddress)
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `token` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OzonePBHelper.java`
#### Snippet
```java
  public static Token<? extends TokenIdentifier> tokenFromProto(
          TokenProto tokenProto) {
    Token<? extends TokenIdentifier> token = new Token<>(
            tokenProto.getIdentifier().toByteArray(),
            tokenProto.getPassword().toByteArray(),
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `omServiceIds` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/OMAdmin.java`
#### Snippet
```java
  private Collection<String> getConfiguredServiceIds() {
    OzoneConfiguration conf = parent.getOzoneConf();
    Collection<String> omServiceIds =
        conf.getTrimmedStringCollection(OZONE_OM_SERVICE_IDS_KEY);
    return omServiceIds;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `info` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
        .getCompleteMultiPartUploadResponse();

    OmMultipartUploadCompleteInfo info = new
        OmMultipartUploadCompleteInfo(response.getVolume(), response
        .getBucket(), response.getKey(), response.getHash());
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `prepareStatusResponse` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
    OMRequest omRequest = createOMRequest(Type.PrepareStatus)
        .setPrepareStatusRequest(prepareStatusRequest).build();
    PrepareStatusResponse prepareStatusResponse =
        handleError(submitRequest(omRequest)).getPrepareStatusResponse();
    return prepareStatusResponse;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `echoRPCResponse` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
            .setEchoRPCRequest(echoRPCRequest).build();

    EchoRPCResponse echoRPCResponse =
            handleError(submitRequest(omRequest)).getEchoRPCResponse();
    return echoRPCResponse;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `response` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
            .collect(Collectors.toList());

    OmMultipartUploadList response = new OmMultipartUploadList(uploadList);

    return response;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `response` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
          "be set but is null " + omRequest.toString());
    }
    OMResponse response =
        transport.submitRequest(
            builder.setTraceID(TracingUtil.exportCurrentSpan()).build());
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `info` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
        .getCommitMultiPartUploadResponse();

    OmMultipartCommitUploadPartInfo info = new
        OmMultipartCommitUploadPartInfo(response.getPartName());
    return info;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `containerId` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/containergenerator/GeneratorDatanode.java`
#### Snippet
```java
    timer.time((Callable<Void>) () -> {

      long containerId = index;

      Set<Integer> selectedDatanodes = GeneratorDatanode
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `xmlLine` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java
      String val = mapper.writeValueAsString(this);
      LOG.debug("toXml val is {}", val);
      String xmlLine = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
          + val;
      return xmlLine;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `message` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/AWSSignatureProcessor.java`
#### Snippet
```java

  private AuditMessage buildAuthFailureMessage(MalformedResourceException e) {
    AuditMessage message = new AuditMessage.Builder()
        .forOperation(AuthOperation.fromContext(context))
        .withParams(AuditUtils.getAuditParameters(context))
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `retryPolicy` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMSecurityProtocolFailoverProxyProvider.java`
#### Snippet
```java
    // Client will attempt up to maxFailovers number of failovers between
    // available SCMs before throwing exception.
    RetryPolicy retryPolicy = new RetryPolicy() {
      @Override
      public RetryAction shouldRetry(Exception exception, int retries,
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `retryPolicy` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMBlockLocationFailoverProxyProvider.java`
#### Snippet
```java

  public RetryPolicy getSCMBlockLocationRetryPolicy(String newLeader) {
    RetryPolicy retryPolicy = new RetryPolicy() {
      @Override
      public RetryAction shouldRetry(Exception e, int retry,
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `response` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/ScmBlockLocationProtocolClientSideTranslatorPB.java`
#### Snippet
```java
      SCMBlockLocationRequest req) throws IOException {
    try {
      SCMBlockLocationResponse response =
          rpcProxy.send(NULL_RPC_CONTROLLER, req);
      return response;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `canonicalRequest` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
      payloadHash = headers.get(X_AMZ_CONTENT_SHA256);
    }
    String canonicalRequest = method + NEWLINE
        + canonicalUri + NEWLINE
        + canonicalQueryStr + NEWLINE
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `scmContainerClient` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/HAUtils.java`
#### Snippet
```java
        new SCMContainerLocationFailoverProxyProvider(conf,
            userGroupInformation);
    StorageContainerLocationProtocol scmContainerClient =
        TracingUtil.createProxy(
            new StorageContainerLocationProtocolClientSideTranslatorPB(
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `scmContainerClient` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/HAUtils.java`
#### Snippet
```java
    SCMContainerLocationFailoverProxyProvider proxyProvider =
        new SCMContainerLocationFailoverProxyProvider(conf, null);
    StorageContainerLocationProtocol scmContainerClient =
        TracingUtil.createProxy(
            new StorageContainerLocationProtocolClientSideTranslatorPB(
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `newKey` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/OzoneSecretManager.java`
#### Snippet
```java
    // expire time.
    int newCurrentId = incrementCurrentKeyId();
    OzoneSecretKey newKey = new OzoneSecretKey(newCurrentId, -1,
        keyPair);
    currentKey = newKey;
```

### RuleId[ruleID=UnnecessaryLocalVariable]
Local variable `failedBlocks` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/ozone/common/DeleteBlockGroupResult.java`
#### Snippet
```java
   */
  public List<BlockID> getFailedBlocks() {
    List<BlockID> failedBlocks = blockResultList.stream()
        .filter(result -> result.getResult() != Result.success)
        .map(DeleteBlockResult::getBlockID).collect(Collectors.toList());
```

## RuleId[ruleID=BusyWait]
### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/GenericTestUtils.java`
#### Snippet
```java

    while (!result && (monotonicNow() - st < waitForMillis)) {
      Thread.sleep(checkEveryMillis);
      result = check.get();
    }
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/SafeModeWaitSubcommand.java`
#### Snippet
```java
                    + "(sec): {}",
                remainingTime);
            Thread.sleep(1000);
          } else {
            LOG.info("SCM is in safe mode. No more retries.");
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/SafeModeWaitSubcommand.java`
#### Snippet
```java
                + "Remaining time (sec): {}",
            ex.getMessage(), getRemainingTimeInSec());
        Thread.sleep(1000);
        Thread.currentThread().interrupt();
      }
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
          break;
        }
        Thread.sleep(2000);
      } catch (InterruptedException e) {
        Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
      if (!ready) {
        try {
          Thread.sleep(retryInterval);
        } catch (InterruptedException e) {
          Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
    Objects.requireNonNull(value);
    while (!addValue(value)) {
      Thread.currentThread().sleep(10);
    }
  }
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
          // reporting back make it like this for now, a more suitable
          // value. can be set in the future if needed
          Thread.sleep(3 * nodeReportInterval);
        } catch (InterruptedException e) {
          LOG.info("Container Balancer was interrupted while waiting for" +
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
      if (i != iterations - 1) {
        try {
          Thread.sleep(config.getBalancingInterval().toMillis());
        } catch (InterruptedException e) {
          LOG.info("Container Balancer was interrupted while waiting for" +
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManagerImpl.java`
#### Snippet
```java
      if (pipeline == null) {
        try {
          Thread.sleep((long)100);
        } catch (InterruptedException e) {
          Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java
        try {
          // sleep for interval
          Thread.sleep(end - now);
          // if not leader, thread will always be sleeping
          if (!om.isLeaderReady()) {
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/upgrade/OMPrepareRequest.java`
#### Snippet
```java

      if (!(omDBFlushed && ratisStateMachineApplied)) {
        Thread.sleep(flushCheckInterval.toMillis());
      }
    }
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java

          // Sleep for 5 seconds
          Thread.sleep(Math.min(5000, getTokenRemoverScanInterval()));

        }
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
            now = Time.monotonicNow();
            if (nextHB.get() > now) {
              Thread.sleep((nextHB.get() - now) + 1000L);
            }
          } catch (InterruptedException e) {
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
        if (!Thread.interrupted()) {
          try {
            Thread.sleep(nextHB.get() - now);
          } catch (InterruptedException e) {
            // TriggerHeartbeat is called during the sleep. Don't need to set
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java`
#### Snippet
```java

        try {
          Thread.sleep(2000);
        } catch (InterruptedException e) {
          Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/ChunkUtils.java`
#### Snippet
```java
        break;
      } else {
        Thread.sleep(period);
        // exponentially backoff until the sleep time is over 1 second.
        if (period < 1000) {
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/OzoneContainer.java`
#### Snippet
```java
      while (initializingStatus.get() != InitializingStatus.INITIALIZED) {
        try {
          Thread.sleep(1);
        } catch (InterruptedException e) {
          Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
        System.out.println("Waiting for " + prepareCheckInterval +
            " seconds before retrying...");
        Thread.sleep(pInterval.toMillis());
      }
    }
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ProgressBar.java`
#### Snippet
```java
        print(stream, currentValue.getAsLong());
        try {
          Thread.sleep(1000L);
        } catch (InterruptedException e) {
          LOG.warn("ProgressBar was interrupted.");
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseFreonGenerator.java`
#### Snippet
```java
        failureCounter.get() == 0 || failAtEnd)) {
      try {
        Thread.sleep(CHECK_INTERVAL_MILLIS);
      } catch (InterruptedException e) {
        Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
    public void waitForComplete() throws InterruptedException {
      while (totalBlockCounter.get() < this.totalBlocks) {
        Thread.sleep(CHECK_INTERVAL_MILLIS);
        LOG.info("Blocks allocated: {}/{}",
            totalBlockCounter.get(), this.totalBlocks);
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
    public void waitForComplete() throws InterruptedException {
      while (totalContainerCounter.get() < this.totalContainers) {
        Thread.sleep(CHECK_INTERVAL_MILLIS);
        LOG.info("Containers allocated: {}/{}",
            totalContainerCounter.get(), this.totalContainers);
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
    public void waitForComplete() throws InterruptedException {
      while (succReportsProcessed + failReportsProcessed < numReports) {
        Thread.sleep(CHECK_INTERVAL_MILLIS);
        LOG.info("Processing reports: ({}+{})/{}",
            succReportsProcessed, failReportsProcessed, numReports);
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
           && exception == null) {
      try {
        Thread.sleep(CHECK_INTERVAL_MILLIS);
      } catch (InterruptedException e) {
        throw e;
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
      while (!validationQueue.isEmpty()) {
        try {
          Thread.sleep(CHECK_INTERVAL_MILLIS);
        } catch (InterruptedException e) {
          throw e;
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
    while (exception == null && !map.containsKey(i)) {
      try {
        Thread.sleep(10);
      } catch (InterruptedException e) {
        Thread.currentThread().interrupt();
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
          && exception == null) {
        try {
          Thread.sleep(CHECK_INTERVAL_MILLIS);
        } catch (InterruptedException e) {
          throw e;
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java`
#### Snippet
```java

      try {
        Thread.sleep(100);
      } catch (InterruptedException e) {
        LOG.warn("Interrupted exception while sleeping.", e);
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
        }
        try {
          Thread.currentThread().sleep(1);
        } catch (InterruptedException e) {
          close(columnFamilies, db, descriptors, writeOptions, dbOptions);
```

### RuleId[ruleID=BusyWait]
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
      // try the next port number
      listener.setPort(++port);
      Thread.sleep(100);
    }
  }
```

## RuleId[ruleID=UseBulkOperation]
### RuleId[ruleID=UseBulkOperation]
Iteration can be replaced with bulk 'Map.putAll()' call
in `hadoop-ozone/interface-storage/src/main/java/org/apache/hadoop/ozone/om/helpers/OmPrefixInfo.java`
#### Snippet
```java
    Map<String, String> metadataList = new HashMap<>();
    if (metadata != null) {
      metadata.forEach((k, v) -> metadataList.put(k, v));
    }
    return new OmPrefixInfo(name, aclList, metadataList, objectID, updateID);
```

### RuleId[ruleID=UseBulkOperation]
Iteration can be replaced with bulk 'Collection.addAll()' call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
        Collections.shuffle(list);
        for (Node n: list) {
          ret.add(n);
        }
      }
```

### RuleId[ruleID=UseBulkOperation]
Iteration can be replaced with bulk 'Map.putAll()' call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmVolumeArgs.java`
#### Snippet
```java
    Map<String, String> cloneMetadata = new HashMap<>();
    if (metadata != null) {
      metadata.forEach((k, v) -> cloneMetadata.put(k, v));
    }

```

## RuleId[ruleID=UnstableApiUsage]
### RuleId[ruleID=UnstableApiUsage]
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
  private final ConcurrentHashMap<ContainerID, List<ContainerReplicaOp>>
      pendingOps = new ConcurrentHashMap<>();
  private final Striped<ReadWriteLock> stripedLock = Striped.readWriteLock(64);
  private final ConcurrentHashMap<PendingOpType, AtomicLong>
      pendingOpCount = new ConcurrentHashMap<>();
```

### RuleId[ruleID=UnstableApiUsage]
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
  private final ConcurrentHashMap<ContainerID, List<ContainerReplicaOp>>
      pendingOps = new ConcurrentHashMap<>();
  private final Striped<ReadWriteLock> stripedLock = Striped.readWriteLock(64);
  private final ConcurrentHashMap<PendingOpType, AtomicLong>
      pendingOpCount = new ConcurrentHashMap<>();
```

### RuleId[ruleID=UnstableApiUsage]
'readWriteLock(int)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
  private final ConcurrentHashMap<ContainerID, List<ContainerReplicaOp>>
      pendingOps = new ConcurrentHashMap<>();
  private final Striped<ReadWriteLock> stripedLock = Striped.readWriteLock(64);
  private final ConcurrentHashMap<PendingOpType, AtomicLong>
      pendingOpCount = new ConcurrentHashMap<>();
```

### RuleId[ruleID=UnstableApiUsage]
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java

  private Lock readLock(ContainerID containerID) {
    return stripedLock.get(containerID).readLock();
  }

```

### RuleId[ruleID=UnstableApiUsage]
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java

  private Lock writeLock(ContainerID containerID) {
    return stripedLock.get(containerID).writeLock();
  }

```

### RuleId[ruleID=UnstableApiUsage]
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/ContainerCache.java`
#### Snippet
```java
        "Container ID cannot be negative.");
    ReferenceCountedDB db;
    Lock containerLock = rocksDBLock.get(containerDBPath);
    containerLock.lock();
    metrics.incNumDbGetOps();
```

### RuleId[ruleID=UnstableApiUsage]
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/ContainerCache.java`
#### Snippet
```java
  private static ContainerCache cache;
  private static final float LOAD_FACTOR = 0.75f;
  private final Striped<Lock> rocksDBLock;
  private static ContainerCacheMetrics metrics;
  /**
```

### RuleId[ruleID=UnstableApiUsage]
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/ContainerCache.java`
#### Snippet
```java
      scanUntilRemovable) {
    super(maxSize, loadFactor, scanUntilRemovable);
    rocksDBLock = Striped.lazyWeakLock(stripes);
  }

```

### RuleId[ruleID=UnstableApiUsage]
'lazyWeakLock(int)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/ContainerCache.java`
#### Snippet
```java
      scanUntilRemovable) {
    super(maxSize, loadFactor, scanUntilRemovable);
    rocksDBLock = Striped.lazyWeakLock(stripes);
  }

```

### RuleId[ruleID=UnstableApiUsage]
'getExitingScheduledExecutorService(java.util.concurrent.ScheduledThreadPoolExecutor)' is marked unstable with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/ThrottledAsyncChecker.java`
#### Snippet
```java
          ScheduledThreadPoolExecutor(1);
      this.scheduledExecutorService = MoreExecutors
          .getExitingScheduledExecutorService(scheduledThreadPoolExecutor);
    } else {
      this.scheduledExecutorService = null;
```

### RuleId[ruleID=UnstableApiUsage]
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
 * include instantiating a {@link SettableFuture}, submitting a task to a
 * {@link ListeningExecutorService}, and deriving a {@code Future} from an
 * existing one, typically using methods like {@link Futures#transform
 * (ListenableFuture, com.google.common.base.Function) Futures.transform}
 * and its overloaded versions.
```

### RuleId[ruleID=UnstableApiUsage]
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java

  // A striped lock that is held during container creation.
  private final Striped<Lock> containerCreationLocks;

  public KeyValueHandler(ConfigurationSource config,
```

### RuleId[ruleID=UnstableApiUsage]
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
    final int numberOfDisks =
        HddsServerUtil.getDatanodeStorageDirs(conf).size();
    containerCreationLocks = Striped.lazyWeakLock(
        threadCountPerDisk * numberOfDisks);

```

### RuleId[ruleID=UnstableApiUsage]
'lazyWeakLock(int)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
    final int numberOfDisks =
        HddsServerUtil.getDatanodeStorageDirs(conf).size();
    containerCreationLocks = Striped.lazyWeakLock(
        threadCountPerDisk * numberOfDisks);

```

### RuleId[ruleID=UnstableApiUsage]
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java

    boolean created = false;
    Lock containerIdLock = containerCreationLocks.get(containerID);
    containerIdLock.lock();
    try {
```

## RuleId[ruleID=StringEquality]
### RuleId[ruleID=StringEquality]
String values are compared using `!=`, not 'equals()'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OmTransportFactory.java`
#### Snippet
```java
      if (conf
          .get(OZONE_OM_TRANSPORT_CLASS,
              OZONE_OM_TRANSPORT_CLASS_DEFAULT) !=
          OZONE_OM_TRANSPORT_CLASS_DEFAULT) {
        ServiceLoader<OmTransportFactory> transportFactoryServiceLoader =
```

### RuleId[ruleID=StringEquality]
String values are compared using `!=`, not 'equals()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientCache.java`
#### Snippet
```java
        if (ozoneConfiguration
            .get(OZONE_OM_TRANSPORT_CLASS,
                OZONE_OM_TRANSPORT_CLASS_DEFAULT) !=
            OZONE_OM_TRANSPORT_CLASS_DEFAULT) {
          // Grpc transport selected
```

## RuleId[ruleID=ConditionalBreakInInfiniteLoop]
### RuleId[ruleID=ConditionalBreakInInfiniteLoop]
Conditional break inside loop
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/audit/parser/common/DatabaseHelper.java`
#### Snippet
```java
      AuditEntry tempEntry = null;

      while (true) {
        if (tempEntry == null) {
          tempEntry = new AuditEntry();
```

### RuleId[ruleID=ConditionalBreakInInfiniteLoop]
Conditional break inside loop
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
      }
      // wait till all access to rocks db is process to avoid crash while close
      while (true) {
        if (counter.get() == 0) {
          break;
```

## RuleId[ruleID=StaticCallOnSubclass]
### RuleId[ruleID=StaticCallOnSubclass]
Static method `getNotLeaderException()` declared in class 'org.apache.hadoop.ozone.om.ha.OMFailoverProxyProviderBase' but referenced via subclass 'org.apache.hadoop.ozone.om.ha.HadoopRpcOMFailoverProxyProvider'
in `hadoop-ozone/ozonefs-hadoop2/src/main/java/org/apache/hadoop/fs/ozone/Hadoop27RpcTransport.java`
#### Snippet
```java
    } catch (ServiceException e) {
      OMNotLeaderException notLeaderException =
          HadoopRpcOMFailoverProxyProvider.getNotLeaderException(e);
      if (notLeaderException == null) {
        throw ProtobufHelper.getRemoteException(e);
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
      throws OMException {

    final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
    if (!isTenantAdmin(ugi, tenantId, delegated)) {
      throw new OMException("User '" + ugi.getUserName() +
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
  public void checkAdmin() throws OMException {

    final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
    if (!ozoneManager.isAdmin(ugi)) {
      throw new OMException("User '" + ugi.getUserName() + "' or '" +
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getClientId()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
  private RaftClientRequest createWriteRaftClientRequest(OMRequest omRequest) {
    if (!ozoneManager.isTestSecureOmFlag()) {
      Preconditions.checkArgument(Server.getClientId() != DUMMY_CLIENT_ID);
      Preconditions.checkArgument(Server.getCallId() != INVALID_CALL_ID);
    }
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getCallId()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
    if (!ozoneManager.isTestSecureOmFlag()) {
      Preconditions.checkArgument(Server.getClientId() != DUMMY_CLIENT_ID);
      Preconditions.checkArgument(Server.getCallId() != INVALID_CALL_ID);
    }
    return RaftClientRequest.newBuilder()
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getClientId()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
    return RaftClientRequest.newBuilder()
        .setClientId(
            ClientId.valueOf(UUID.nameUUIDFromBytes(Server.getClientId())))
        .setServerId(server.getId())
        .setGroupId(raftGroupId)
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getCallId()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
        .setServerId(server.getId())
        .setGroupId(raftGroupId)
        .setCallId(Server.getCallId())
        .setMessage(
            Message.valueOf(
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
   */
  public OzoneManagerProtocolProtos.UserInfo getUserInfo() throws IOException {
    UserGroupInformation user = ProtobufRpcEngine.Server.getRemoteUser();
    InetAddress remoteAddress = ProtobufRpcEngine.Server.getRemoteIp();
    OzoneManagerProtocolProtos.UserInfo.Builder userInfo =
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteIp()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
  public OzoneManagerProtocolProtos.UserInfo getUserInfo() throws IOException {
    UserGroupInformation user = ProtobufRpcEngine.Server.getRemoteUser();
    InetAddress remoteAddress = ProtobufRpcEngine.Server.getRemoteIp();
    OzoneManagerProtocolProtos.UserInfo.Builder userInfo =
        OzoneManagerProtocolProtos.UserInfo.newBuilder();
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/tenant/OMTenantCreateRequest.java`
#### Snippet
```java
    // - AWS_ACCESS_KEY_ID if the original request comes from S3 Gateway.
    //    Not Applicable to TenantCreateRequest.
    final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
    // getShortUserName here follows RpcClient#createVolume
    // A caveat is that this assumes OM's auth_to_local is the same as
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/security/OMSetSecretRequest.java`
#### Snippet
```java
    }

    final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
    // Permission check
    S3SecretRequestHelper.checkAccessIdSecretOpPermission(
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/security/S3RevokeSecretRequest.java`
#### Snippet
```java
        getOmRequest().getRevokeS3SecretRequest();
    final String accessId = s3RevokeSecretRequest.getKerberosID();
    final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
    // Permission check
    S3SecretRequestHelper.checkAccessIdSecretOpPermission(
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/security/S3GetSecretRequest.java`
#### Snippet
```java
    final String accessId = s3GetSecretRequest.getKerberosID();

    final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
    // Permission check
    S3SecretRequestHelper.checkAccessIdSecretOpPermission(
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      String prevKey, int maxKeys) throws IOException {
    UserGroupInformation remoteUserUgi =
        ProtobufRpcEngine.Server.getRemoteUser();
    if (isAclEnabled) {
      if (remoteUserUgi == null) {
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteIp()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      return checkAcls(resType, store, acl, vol, bucket, key,
          UserGroupInformation.createRemoteUser(userName),
          ProtobufRpcEngine.Server.getRemoteIp(),
          ProtobufRpcEngine.Server.getRemoteIp().getHostName(),
          false, getVolumeOwner(vol, acl, resType));
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteIp()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
          UserGroupInformation.createRemoteUser(userName),
          ProtobufRpcEngine.Server.getRemoteIp(),
          ProtobufRpcEngine.Server.getRemoteIp().getHostName(),
          false, getVolumeOwner(vol, acl, resType));
    } catch (OMException ex) {
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        metadataManager.getLock().acquireReadLock(VOLUME_LOCK, volumeName);
    try {
      final UserGroupInformation ugi = ProtobufRpcEngine.Server.getRemoteUser();
      if (!multiTenantManager.isTenantAdmin(ugi, tenantId, false)) {
        throw new OMException("Only tenant and ozone admins can access this " +
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteUser()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      user = UserGroupInformation.createRemoteUser(principal);
    } else {
      user = ProtobufRpcEngine.Server.getRemoteUser();
    }

```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteIp()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    }

    InetAddress remoteIp = ProtobufRpcEngine.Server.getRemoteIp();
    String volumeOwner = getVolumeOwner(vol, acl, resType);
    String bucketOwner = getBucketOwner(vol, bucket, acl, resType);
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getNotLeaderException()` declared in class 'org.apache.hadoop.ozone.om.ha.OMFailoverProxyProviderBase' but referenced via subclass 'org.apache.hadoop.ozone.om.ha.HadoopRpcOMFailoverProxyProvider'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OMInterServiceProtocolClientSideImpl.java`
#### Snippet
```java
    } catch (ServiceException e) {
      OMNotLeaderException notLeaderException =
          HadoopRpcOMFailoverProxyProvider.getNotLeaderException(e);
      if (notLeaderException != null) {
        throwException(ErrorCode.LEADER_UNDETERMINED,
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getLeaderNotReadyException()` declared in class 'org.apache.hadoop.ozone.om.ha.OMFailoverProxyProviderBase' but referenced via subclass 'org.apache.hadoop.ozone.om.ha.HadoopRpcOMFailoverProxyProvider'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OMInterServiceProtocolClientSideImpl.java`
#### Snippet
```java

      OMLeaderNotReadyException leaderNotReadyException =
          HadoopRpcOMFailoverProxyProvider.getLeaderNotReadyException(e);
      if (leaderNotReadyException != null) {
        throwException(ErrorCode.LEADER_NOT_READY,
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getNotLeaderException()` declared in class 'org.apache.hadoop.ozone.om.ha.OMFailoverProxyProviderBase' but referenced via subclass 'org.apache.hadoop.ozone.om.ha.HadoopRpcOMFailoverProxyProvider'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/Hadoop3OmTransport.java`
#### Snippet
```java
    } catch (ServiceException e) {
      OMNotLeaderException notLeaderException =
          HadoopRpcOMFailoverProxyProvider.getNotLeaderException(e);
      if (notLeaderException == null) {
        throw ProtobufHelper.getRemoteException(e);
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getNotLeaderException()` declared in class 'org.apache.hadoop.ozone.om.ha.OMFailoverProxyProviderBase' but referenced via subclass 'org.apache.hadoop.ozone.om.ha.HadoopRpcOMFailoverProxyProvider'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OMAdminProtocolClientSideImpl.java`
#### Snippet
```java
    } catch (ServiceException e) {
      OMNotLeaderException notLeaderException =
          HadoopRpcOMFailoverProxyProvider.getNotLeaderException(e);
      if (notLeaderException != null) {
        throwException(notLeaderException.getMessage());
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getLeaderNotReadyException()` declared in class 'org.apache.hadoop.ozone.om.ha.OMFailoverProxyProviderBase' but referenced via subclass 'org.apache.hadoop.ozone.om.ha.HadoopRpcOMFailoverProxyProvider'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OMAdminProtocolClientSideImpl.java`
#### Snippet
```java

      OMLeaderNotReadyException leaderNotReadyException =
          HadoopRpcOMFailoverProxyProvider.getLeaderNotReadyException(e);
      if (leaderNotReadyException != null) {
        throwException(leaderNotReadyException.getMessage());
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteIp()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/acl/RequestContext.java`
#### Snippet
```java
      ACLType aclType, String ownerName) {
    return getBuilder(ugi,
        ProtobufRpcEngine.Server.getRemoteIp(),
        ProtobufRpcEngine.Server.getRemoteIp().getHostName(),
        aclType, ownerName);
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `getRemoteIp()` declared in class 'org.apache.hadoop.ipc.Server' but referenced via subclass 'org.apache.hadoop.ipc.ProtobufRpcEngine.Server'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/acl/RequestContext.java`
#### Snippet
```java
    return getBuilder(ugi,
        ProtobufRpcEngine.Server.getRemoteIp(),
        ProtobufRpcEngine.Server.getRemoteIp().getHostName(),
        aclType, ownerName);
  }
```

### RuleId[ruleID=StaticCallOnSubclass]
Static method `dumpConfiguration()` declared in class 'org.apache.hadoop.conf.Configuration' but referenced via subclass 'org.apache.hadoop.hdds.conf.OzoneConfiguration'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/conf/HddsConfServlet.java`
#### Snippet
```java
      throws IOException, IllegalArgumentException, BadFormatException {
    if (FORMAT_JSON.equals(format)) {
      OzoneConfiguration.dumpConfiguration(conf, propertyName, out);
    } else if (FORMAT_XML.equals(format)) {
      conf.writeXml(propertyName, out);
```

## RuleId[ruleID=RedundantClassCall]
### RuleId[ruleID=RedundantClassCall]
Redundant call to `isInstance()`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAUtils.java`
#### Snippet
```java
  public static boolean checkRetriableWithNoFailoverException(Exception e) {
    Throwable t = unwrapException(e);
    return RetriableWithNoFailoverException.class.isInstance(t);
  }

```

## RuleId[ruleID=UnnecessaryStringEscape]
### RuleId[ruleID=UnnecessaryStringEscape]
`\'` is unnecessarily escaped
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java

    if (scmStorageConfig.getState() != StorageState.INITIALIZED) {
      String errMsg = "Please make sure you have run \'ozone scm --init\' " +
          "command to generate all the required metadata to " +
          scmStorageConfig.getStorageDir();
```

### RuleId[ruleID=UnnecessaryStringEscape]
`\'` is unnecessarily escaped
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java

    if (scmStorageConfig.getState() != StorageState.INITIALIZED) {
      String errMsg = "Please make sure you have run \'ozone scm --init\' " +
          "command to generate all the required metadata to " +
          scmStorageConfig.getStorageDir();
```

### RuleId[ruleID=UnnecessaryStringEscape]
`\'` is unnecessarily escaped
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
      if (SCMHAUtils.isSCMHAEnabled(conf) && !scmStorageConfig
          .isSCMHAEnabled()) {
        errMsg += " or make sure you have run \'ozone scm --bootstrap\' cmd to "
            + "add the SCM to existing SCM HA group";
      }
```

### RuleId[ruleID=UnnecessaryStringEscape]
`\'` is unnecessarily escaped
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
      if (SCMHAUtils.isSCMHAEnabled(conf) && !scmStorageConfig
          .isSCMHAEnabled()) {
        errMsg += " or make sure you have run \'ozone scm --bootstrap\' cmd to "
            + "add the SCM to existing SCM HA group";
      }
```

## RuleId[ruleID=ObsoleteCollection]
### RuleId[ruleID=ObsoleteCollection]
Obsolete collection type `Stack` used
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    keyInfo = ozoneFileStatus.getKeyInfo();
    // Using stack to check acls for subpaths
    Stack<OzoneFileStatus> directories = new Stack<>();
    // check whether given file/dir  has access
    boolean hasAccess = OzoneAclUtil.checkAclRights(keyInfo.getAcls(), context);
```

### RuleId[ruleID=ObsoleteCollection]
Obsolete collection type `Stack<>` used
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    keyInfo = ozoneFileStatus.getKeyInfo();
    // Using stack to check acls for subpaths
    Stack<OzoneFileStatus> directories = new Stack<>();
    // check whether given file/dir  has access
    boolean hasAccess = OzoneAclUtil.checkAclRights(keyInfo.getAcls(), context);
```

### RuleId[ruleID=ObsoleteCollection]
Obsolete collection type `Stack` used
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java
    List<OzoneKey> getNextListOfKeys(String prevKey) throws IOException {
      if (stack == null) {
        stack = new Stack();
      }

```

### RuleId[ruleID=ObsoleteCollection]
Obsolete collection type `Stack`> used
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java
  private class KeyIteratorWithFSO extends KeyIterator {

    private Stack<Pair<String, String>> stack;
    private boolean addedKeyPrefix;
    private String removeStartKey = "";
```

## RuleId[ruleID=DuplicateBranchesInSwitch]
### RuleId[ruleID=DuplicateBranchesInSwitch]
Duplicate branch in 'switch'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerCommandRequestPBHelper.java`
#### Snippet
```java

    case CloseContainer:
      auditParams.put("containerID", containerID);
      return auditParams;

    case GetCommittedBlockLength:
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Branch in 'switch' is a duplicate of the default branch
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      return replicaState == State.CLOSED;
    case DELETING:
      return false;
    case DELETED:
      return false;
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Branch in 'switch' is a duplicate of the default branch
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      return false;
    case DELETED:
      return false;
    default:
      return false;
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Branch in 'switch' is a duplicate of the default branch
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/CloseContainerCommandHandler.java`
#### Snippet
```java
        break;
      case CLOSED:
        break;
      case UNHEALTHY:
      case INVALID:
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Duplicate branch in 'switch'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
      return handler.handleWriteChunk(request, kvContainer, dispatcherContext);
    case ListChunk:
      return handler.handleUnsupportedOp(request);
    case CompactChunk:
      return handler.handleUnsupportedOp(request);
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Duplicate branch in 'switch'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
      return handler.handleUnsupportedOp(request);
    case CompactChunk:
      return handler.handleUnsupportedOp(request);
    case PutSmallFile:
      return handler
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Duplicate branch in 'switch'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
      break;
    case CLOSED:
      result = CLOSED_CONTAINER_IO;
      break;
    case UNHEALTHY:
```

### RuleId[ruleID=DuplicateBranchesInSwitch]
Branch in 'switch' is a duplicate of the default branch
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RangeKeysGenerator.java`
#### Snippet
```java
        break;
      case MD5:
        loopRunner(kg.md5KeyNameFunc(), client, start, end);
        break;
      default:
```

## RuleId[ruleID=RegExpSimplifiable]
### RuleId[ruleID=RegExpSimplifiable]
`{0,1}` can be simplified to '?'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java

  private static final Pattern URL_SCHEMA_PATTERN =
      Pattern.compile("([^\\.]+)\\.([^\\.]+)\\.{0,1}(.*)");

  private static final String URI_EXCEPTION_TEXT = "Ozone file system URL " +
```

## RuleId[ruleID=OctalLiteral]
### RuleId[ruleID=OctalLiteral]
Octal integer `00777`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getModificationTime(),
        keyInfo.getModificationTime(),
        status.isDirectory() ? (short) 00777 : (short) 00666,
        owner,
        owner,
```

### RuleId[ruleID=OctalLiteral]
Octal integer `00666`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getModificationTime(),
        keyInfo.getModificationTime(),
        status.isDirectory() ? (short) 00777 : (short) 00666,
        owner,
        owner,
```

### RuleId[ruleID=OctalLiteral]
Octal integer `00777`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getModificationTime(),
        keyInfo.getModificationTime(),
        status.isDirectory() ? (short) 00777 : (short) 00666,
        owner,
        owner,
```

### RuleId[ruleID=OctalLiteral]
Octal integer `00666`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getModificationTime(),
        keyInfo.getModificationTime(),
        status.isDirectory() ? (short) 00777 : (short) 00666,
        owner,
        owner,
```

## RuleId[ruleID=StringBufferReplaceableByString]
### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder result` can be replaced with 'String'
in `hadoop-ozone/recon-codegen/src/main/java/org/hadoop/ozone/recon/codegen/TableNamingStrategy.java`
#### Snippet
```java
  public String getJavaClassName(Definition definition, Mode mode) {
    if (definition instanceof TableDefinition && mode == Mode.DEFAULT) {
      StringBuilder result = new StringBuilder();

      result.append(StringUtils.toCamelCase(
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder hostPort` can be replaced with 'String'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/NodeDetails.java`
#### Snippet
```java

  public String getRatisHostPortStr() {
    StringBuilder hostPort = new StringBuilder();
    hostPort.append(getHostName())
        .append(":")
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder hostPort` can be replaced with 'String'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/NodeDetails.java`
#### Snippet
```java

  public String getRatisAddressPortStr() {
    StringBuilder hostPort = new StringBuilder();
    hostPort.append(getInetAddress().getHostAddress())
        .append(":")
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder` can be replaced with 'String'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMNodeInfo.java`
#### Snippet
```java

  private static String buildAddress(String address, int port) {
    return new StringBuilder().append(address).append(":")
        .append(port).toString();
  }
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder sb` can be replaced with 'String'
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
    @Override
    public String toString() {
      final StringBuilder sb = new StringBuilder(
          "ProportionalRetryInterval{");
      sb.append("interval=").append(intervalMillis);
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder sb` can be replaced with 'String'
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
    @Override
    public String toString() {
      final StringBuilder sb = new StringBuilder(
          "FixedRetryInterval{");
      sb.append("interval=").append(intervalMillis);
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder stringBuilder` can be replaced with 'String'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ha/ratis/RatisSnapshotInfo.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.append(term);
    stringBuilder.append(TRANSACTION_INFO_SPLIT_KEY);
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder builder` can be replaced with 'String'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/NodeStateMap.java`
#### Snippet
```java
  public String toString() {
    // TODO - fix this method to include the commented out values
    StringBuilder builder = new StringBuilder();
    builder.append("Total number of nodes: ").append(getTotalNodeCount());
   // for (NodeState state : NodeState.values()) {
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuffer buffer` can be replaced with 'String'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer buffer = new StringBuffer();
    buffer.append("numBlockDeletionTransactionCreated = "
        + numBlockDeletionTransactionCreated.value()).append("\t")
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder sb` can be replaced with 'String'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java

  private String replicaDetails(Set<ContainerReplica> replicas) {
    StringBuilder sb = new StringBuilder();
    sb.append("Replicas{");
    sb.append(replicas.stream()
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder openKey` can be replaced with 'String'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
                                long parentID, String fileName,
                                long id) {
    StringBuilder openKey = new StringBuilder();
    openKey.append(OM_KEY_PREFIX).append(volumeId);
    openKey.append(OM_KEY_PREFIX).append(bucketId);
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder builder` can be replaced with 'String'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
                                final long parentObjectId,
                                final String pathComponentName) {
    final StringBuilder builder = new StringBuilder();
    builder.append(OM_KEY_PREFIX)
            .append(volumeId)
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder openKey` can be replaced with 'String'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
                                long parentID, String fileName,
                                String uploadId) {
    StringBuilder openKey = new StringBuilder();
    openKey.append(OM_KEY_PREFIX).append(volumeId);
    openKey.append(OM_KEY_PREFIX).append(bucketId);
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuffer buffer` can be replaced with 'String'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/BlockDeletingServiceMetrics.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer buffer = new StringBuffer();
    buffer.append("successCount = " + successCount.value()).append("\t")
        .append("successBytes = " + successBytes.value()).append("\t")
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder sb` can be replaced with 'String'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMProxyInfo.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder()
        .append("nodeId=")
        .append(nodeId)
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder newToKeyName` can be replaced with 'String'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneFSUtils.java`
#### Snippet
```java
  public static String appendFileNameToKeyPath(String keyName,
                                               String fileName) {
    StringBuilder newToKeyName = new StringBuilder(keyName);
    newToKeyName.append(OZONE_URI_DELIMITER);
    newToKeyName.append(fileName);
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder buffer` can be replaced with 'String'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneTokenIdentifier.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder buffer = new StringBuilder();
    buffer.append(getKind())
        .append(" owner=").append(getOwner())
```

### RuleId[ruleID=StringBufferReplaceableByString]
`StringBuilder stringBuilder` can be replaced with 'String'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/TransactionInfo.java`
#### Snippet
```java
   */
  private String generateTransactionInfo() {
    StringBuilder stringBuilder = new StringBuilder();
    stringBuilder.append(term);
    stringBuilder.append(TRANSACTION_INFO_SPLIT_KEY);
```

## RuleId[ruleID=NonShortCircuitBoolean]
### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue != null & !(localValue instanceof SetFuture)`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    }
    Object localValue = value;
    if (localValue != null & !(localValue instanceof SetFuture)) {
      return getDoneValue(localValue);
    }
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue != null & !(localValue instanceof SetFuture)`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
              // have been a spurious wakeup
              localValue = value;
              if (localValue != null & !(localValue instanceof SetFuture)) {
                return getDoneValue(localValue);
              }
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue != null & !(localValue instanceof SetFuture)`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    while (remainingNanos > 0) {
      localValue = value;
      if (localValue != null & !(localValue instanceof SetFuture)) {
        return getDoneValue(localValue);
      }
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue != null & !(localValue instanceof SetFuture)`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
  public boolean isDone() {
    final Object localValue = value;
    return localValue != null & !(localValue instanceof SetFuture);
  }

```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue != null & !(localValue instanceof SetFuture)`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    }
    Object localValue = value;
    if (localValue != null & !(localValue instanceof SetFuture)) {
      return getDoneValue(localValue);
    }
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue != null & !(localValue instanceof SetFuture)`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
            // have been a spurious wakeup
            localValue = value;
            if (localValue != null & !(localValue instanceof SetFuture)) {
              return getDoneValue(localValue);
            }
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `related != null & isCancelled()`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
   */
  final void maybePropagateCancellation(@Nullable Future<?> related) {
    if (related != null & isCancelled()) {
      related.cancel(wasInterrupted());
    }
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue == null | localValue instanceof SetFuture`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    Object localValue = value;
    boolean rValue = false;
    if (localValue == null | localValue instanceof SetFuture) {
      // Try to delay allocating the exception. At this point we may still
      // lose the CAS, but it is certainly less likely.
```

### RuleId[ruleID=NonShortCircuitBoolean]
Non-short-circuit boolean expression `localValue == null | localValue instanceof SetFuture`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
                  futureToPropagateTo;
              localValue = trusted.value;
              if (localValue == null | localValue instanceof SetFuture) {
                abstractFuture = trusted;
                continue;  // loop back up and try to complete the new future
```

## RuleId[ruleID=UnnecessaryReturn]
### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/InterSCMGrpcProtocolService.java`
#### Snippet
```java
    if (!isStarted.compareAndSet(false, true)) {
      LOG.info("Ignore. already started.");
      return;
    } else {
      LOG.info("Starting SCM Grpc Service at port {}", port);
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLogImpl.java`
#### Snippet
```java
    } else {
      LOG.error("Delete Block Command is not executed yet.");
      return;
    }
  }
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/update/server/SCMUpdateServiceGrpcServer.java`
#### Snippet
```java
    if (!isStarted.compareAndSet(false, true)) {
      LOG.info("Ignoring start() since {} has already started.", SERVICE_NAME);
      return;
    } else {
      server.start();
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/FindTargetGreedyByUsageInfo.java`
#### Snippet
```java
  public void sortTargetForSource(DatanodeDetails source) {
    //noop, Treeset is naturally sorted.
    return;
  }
}
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManagerImpl.java`
#### Snippet
```java
    default:
      // Not supported.
      return;
    }
  }
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/lock/RegularBucketLockStrategy.java`
#### Snippet
```java
        .releaseWriteLock(BUCKET_LOCK, volumeName, bucketName);

    return;
  }

```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/lock/RegularBucketLockStrategy.java`
#### Snippet
```java
        .releaseReadLock(BUCKET_LOCK, volumeName, bucketName);

    return;
  }
}
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/lock/OBSKeyPathLockStrategy.java`
#### Snippet
```java
        .releaseReadLock(BUCKET_LOCK, volumeName, bucketName);

    return;
  }

```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/lock/OBSKeyPathLockStrategy.java`
#### Snippet
```java
        .releaseReadLock(BUCKET_LOCK, volumeName, bucketName);

    return;
  }
}
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/acl/OMKeyAclRequest.java`
#### Snippet
```java
      // Handle exception
      // defaulting to BucketLayout.DEFAULT
      return;
    }
  }
```

### RuleId[ruleID=UnnecessaryReturn]
`return` is unnecessary as the last statement in a 'void' method
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
    }
    monitorAndWaitFinalization(scmClient, upgradeClientID);
    return;
  }

```

## RuleId[ruleID=ManualMinMaxCalculation]
### RuleId[ruleID=ManualMinMaxCalculation]
Can be replaced with 'Math.min()' call
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
        // Data is available from buffers
        ByteBuffer bb = buffers[bufferIndex];
        return len > bb.remaining() ? bb.remaining() : len;
      } else if (dataRemainingInChunk()) {
        // There is more data in the chunk stream which has not
```

### RuleId[ruleID=ManualMinMaxCalculation]
Can be replaced with 'Math.max()' call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/CommandQueue.java`
#### Snippet
```java
      if (cmds != null) {
        cmdList = cmds.getCommands();
        commandsInQueue -= cmdList.size() > 0 ? cmdList.size() : 0;
        // A post condition really.
        Preconditions.checkState(commandsInQueue >= 0);
```

### RuleId[ruleID=ManualMinMaxCalculation]
Can be replaced with 'Math.max()' call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
        final int misRepDelta = inFlightplacementStatus.misReplicationCount();
        final int replicasNeeded
            = repDelta < misRepDelta ? misRepDelta : repDelta;
        if (replicasNeeded <= 0) {
          LOG.debug("Container {} meets replication requirement with " +
```

### RuleId[ruleID=ManualMinMaxCalculation]
Can be replaced with 'Math.min()' call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
            this.pipelineActions.get(endpoint);
        int size = actionsForEndpoint.size();
        int limit = size > maxLimit ? maxLimit : size;
        for (int count = 0; count < limit; count++) {
          pipelineActionList.add(actionsForEndpoint.poll());
```

### RuleId[ruleID=ManualMinMaxCalculation]
Can be replaced with 'Math.min()' call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
        Queue<ContainerAction> actions = containerActions.get(endpoint);
        int size = actions.size();
        int limit = size > maxLimit ? maxLimit : size;
        for (int count = 0; count < limit; count++) {
          // we need to remove the action from the containerAction queue
```

## RuleId[ruleID=AbstractClassNeverImplemented]
### RuleId[ruleID=AbstractClassNeverImplemented]
Abstract class `GenericTestUtils` has no concrete subclass
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/GenericTestUtils.java`
#### Snippet
```java
 * Provides some very generic helpers which might be used across the tests.
 */
public abstract class GenericTestUtils {

  public static final String SYSPROP_TEST_DATA_DIR = "test.build.data";
```

## RuleId[ruleID=BoundedWildcard]
### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends RawErasureCoderFactory`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
   */
  @VisibleForTesting
  void updateCoders(Iterable<RawErasureCoderFactory> coderFactories) {
    for (RawErasureCoderFactory coderFactory : coderFactories) {
      String codecName = coderFactory.getCodecName();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ReconSchemaDefinition`
in `hadoop-ozone/recon-codegen/src/main/java/org/hadoop/ozone/recon/codegen/JooqCodeGenerator.java`
#### Snippet
```java

  @Inject
  public JooqCodeGenerator(Set<ReconSchemaDefinition> allDefinitions) {
    this.allDefinitions = allDefinitions;
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ChunkBuffer`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/CommitWatcher.java`
#### Snippet
```java
  }

  public void updateCommitInfoMap(long index, List<ChunkBuffer> buffers) {
    commitIndex2flushedDataMap.computeIfAbsent(index, k -> new LinkedList<>())
        .addAll(buffers);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/interface-storage/src/main/java/org/apache/hadoop/ozone/om/helpers/OmPrefixInfo.java`
#### Snippet
```java
    }

    public Builder setAcls(List<OzoneAcl> listOfAcls) {
      if (listOfAcls != null) {
        acls.addAll(listOfAcls);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super BlockID`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
      Token<OzoneBlockTokenIdentifier> token, boolean verifyChecksum,
      XceiverClientFactory xceiverClientFactory,
      Function<BlockID, Pipeline> refreshPipelineFunction) {
    this.blockID = blockId;
    this.length = blockLen;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ExecutorService`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamFactoryImpl.java`
#### Snippet
```java
  private ECBlockInputStreamFactoryImpl(BlockInputStreamFactory streamFactory,
      ByteBufferPool byteBufferPool,
      Supplier<ExecutorService> ecReconstructExecutorSupplier) {
    this.byteBufferPool = byteBufferPool;
    this.inputStreamFactory = streamFactory;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneClientUtils.java`
#### Snippet
```java
  public static BucketLayout resolveLinkBucketLayout(OzoneBucket bucket,
                                                     ObjectStore objectStore,
                                                     Set<Pair<String,
                                                         String>> visited)
      throws IOException {
    if (bucket.isLink()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedStripeInputStream.java`
#### Snippet
```java
   * @param dns A list of DatanodeDetails that are known to be bad.
   */
  public synchronized void addFailedDatanodes(Collection<DatanodeDetails> dns) {
    if (initialized) {
      throw new RuntimeException("Cannot add failed datanodes after the " +
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
  }

  public void addDatanodes(Collection<DatanodeDetails> dns) {
    dns.forEach(dn -> addDatanode(dn));
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Node`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
   *       *  * * * * * * *  -- nodes
   */
  private Map<Node, Integer> getAncestorCountMap(Collection<Node> nodes,
      int genToExclude, int genToReturn) {
    Preconditions.checkState(genToExclude >= 0);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends V`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/RetriableTask.java`
#### Snippet
```java
  private final RetryPolicy retryPolicy;

  public RetriableTask(RetryPolicy retryPolicy, String name, Callable<V> task) {
    this.retryPolicy = retryPolicy;
    this.name = name;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super K`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/ResourceLimitCache.java`
#### Snippet
```java

  @Override
  public void removeIf(Predicate<K> predicate) {
    Objects.requireNonNull(predicate);
    for (K key : map.keySet()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super K`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/ResourceLimitCache.java`
#### Snippet
```java

  public ResourceLimitCache(java.util.concurrent.ConcurrentMap<K, V> map,
      BiFunction<K, V, int[]> permitsSupplier, int... limits) {
    Objects.requireNonNull(map);
    Objects.requireNonNull(permitsSupplier);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super V`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/ResourceLimitCache.java`
#### Snippet
```java

  public ResourceLimitCache(java.util.concurrent.ConcurrentMap<K, V> map,
      BiFunction<K, V, int[]> permitsSupplier, int... limits) {
    Objects.requireNonNull(map);
    Objects.requireNonNull(permitsSupplier);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends T`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/tracing/TracingUtil.java`
#### Snippet
```java
   */
  public static <T> T createProxy(
      T delegate, Class<T> itf, ConfigurationSource conf) {
    if (!isTracingEnabled(conf)) {
      return delegate;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
      return this;
    }
    public Builder setNodes(List<DatanodeDetails> nodes) {
      this.nodeStatus = new LinkedHashMap<>();
      nodes.forEach(node -> nodeStatus.put(node, -1L));
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Token`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/token/OzoneBlockTokenSelector.java`
#### Snippet
```java
  @SuppressWarnings("unchecked")
  public static Token<OzoneBlockTokenIdentifier> selectBlockToken(Text service,
      Collection<Token<? extends TokenIdentifier>> tokens) {
    if (service == null) {
      return null;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends U`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/RatisHelper.java`
#### Snippet
```java

  private static <U> Class<? extends U> getClass(String name,
      Class<U> xface) {
    try {
      Class<?> theClass = Class.forName(name);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/RatisHelper.java`
#### Snippet
```java

  public static RaftGroup newRaftGroup(RaftGroupId groupId,
      List<DatanodeDetails> peers, List<Integer> priorityList) {
    assert peers.size() == priorityList.size();

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/RatisHelper.java`
#### Snippet
```java

  public static RaftGroup newRaftGroup(RaftGroupId groupId,
      Collection<DatanodeDetails> peers) {
    final List<RaftPeer> newPeers = peers.stream()
        .map(RatisHelper::toRaftPeer)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ActiveLock`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lock/LockManager.java`
#### Snippet
```java
   * @param lockFn function to acquire the lock
   */
  private void acquire(final R resource, final Consumer<ActiveLock> lockFn) {
    lockFn.accept(getLockForLocking(resource));
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ActiveLock`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lock/LockManager.java`
#### Snippet
```java
   * @param releaseFn function to release the lock
   */
  private void release(final R resource, final Consumer<ActiveLock> releaseFn) {
    final ActiveLock lock = getLockForReleasing(resource);
    releaseFn.accept(lock);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Callable`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lease/LeaseCallbackExecutor.java`
#### Snippet
```java
   *        Callbacks to be executed by this executor
   */
  public LeaseCallbackExecutor(T resource, List<Callable<Void>> callbacks) {
    this.resource = resource;
    this.callbacks = callbacks;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Checksum.java`
#### Snippet
```java
   */
  private static ByteString computeChecksum(ByteBuffer data,
      Function<ByteBuffer, ByteString> function, int maxLength) {
    final int limit = data.limit();
    try {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Checksum.java`
#### Snippet
```java
   */
  private static ByteString computeChecksum(ByteBuffer data,
      Function<ByteBuffer, ByteString> function, int maxLength) {
    final int limit = data.limit();
    try {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ChecksumByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Checksum.java`
#### Snippet
```java

  private static Function<ByteBuffer, ByteString> newChecksumByteBufferFunction(
      Supplier<ChecksumByteBuffer> constructor) {
    final ChecksumByteBuffer algorithm = constructor.get();
    return  data -> {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Function`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/Checksum.java`
#### Snippet
```java
    }

    Algorithm(Supplier<Function<ByteBuffer, ByteString>> constructor) {
      this.constructor = constructor;
    }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Node`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
   */
  @Override
  public Node chooseRandom(String scope, Collection<Node> excludedNodes,
      int ancestorGen) {
    if (scope == null) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Node`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  @Override
  public Node getNode(int leafIndex, String scope, List<String> excludedScopes,
      Collection<Node> excludedNodes, Node affinityNode, int ancestorGen) {
    Preconditions.checkArgument(leafIndex >= 0);
    if (scope == null) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Node`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
   */
  @Override
  public Node chooseRandom(String scope, Collection<Node> excludedNodes) {
    if (scope == null) {
      scope = ROOT;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBuffer.java`
#### Snippet
```java
  @Override
  public List<ByteString> toByteStringListImpl(
      Function<ByteBuffer, ByteString> f) {
    return Arrays.asList(f.apply(buffer));
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBuffer.java`
#### Snippet
```java
  @Override
  public List<ByteString> toByteStringListImpl(
      Function<ByteBuffer, ByteString> f) {
    return Arrays.asList(f.apply(buffer));
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBuffer.java`
#### Snippet
```java

  @Override
  public ByteString toByteStringImpl(Function<ByteBuffer, ByteString> f) {
    return f.apply(buffer);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBuffer.java`
#### Snippet
```java

  @Override
  public ByteString toByteStringImpl(Function<ByteBuffer, ByteString> f) {
    return f.apply(buffer);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBufferList.java`
#### Snippet
```java
  @Override
  public List<ByteString> toByteStringListImpl(
      Function<ByteBuffer, ByteString> f) {
    List<ByteString> byteStringList = new ArrayList<>();
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBufferList.java`
#### Snippet
```java
  @Override
  public List<ByteString> toByteStringListImpl(
      Function<ByteBuffer, ByteString> f) {
    List<ByteString> byteStringList = new ArrayList<>();
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBufferList.java`
#### Snippet
```java

  @Override
  public ByteString toByteStringImpl(Function<ByteBuffer, ByteString> f) {
    ByteString result = ByteString.EMPTY;
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBufferList.java`
#### Snippet
```java

  @Override
  public ByteString toByteStringImpl(Function<ByteBuffer, ByteString> f) {
    ByteString result = ByteString.EMPTY;
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java

  @Override
  public ByteString toByteStringImpl(Function<ByteBuffer, ByteString> f) {
    ByteString result = ByteString.EMPTY;
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java

  @Override
  public ByteString toByteStringImpl(Function<ByteBuffer, ByteString> f) {
    ByteString result = ByteString.EMPTY;
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ByteBuffer`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
  @Override
  public List<ByteString> toByteStringListImpl(
      Function<ByteBuffer, ByteString> f) {
    List<ByteString> byteStringList = new ArrayList<>();
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
  @Override
  public List<ByteString> toByteStringListImpl(
      Function<ByteBuffer, ByteString> f) {
    List<ByteString> byteStringList = new ArrayList<>();
    for (ByteBuffer buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/utils/BufferUtils.java`
#### Snippet
```java
   */
  public static List<ByteBuffer> getReadOnlyByteBuffers(
      List<ByteString> byteStrings) {
    List<ByteBuffer> buffers = new ArrayList<>();
    for (ByteString byteString : byteStrings) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/utils/BufferUtils.java`
#### Snippet
```java
  }

  public static ByteString concatByteStrings(List<ByteString> byteStrings) {
    ByteString result = ByteString.EMPTY;
    for (ByteString byteString : byteStrings) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ByteString`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/utils/BufferUtils.java`
#### Snippet
```java
   * Return the summation of the length of all ByteStrings.
   */
  public static long getBuffersLen(List<ByteString> buffers) {
    long length = 0;
    for (ByteString buffer : buffers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super T`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/DefaultUpgradeFinalizationExecutor.java`
#### Snippet
```java

  protected void finalizeFeatures(T component,
      BasicUpgradeFinalizer<T, ?> finalizer,  Iterable<LayoutFeature> lfs)
      throws UpgradeException {
    for (LayoutFeature lf: lfs) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends LayoutFeature`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/DefaultUpgradeFinalizationExecutor.java`
#### Snippet
```java

  protected void finalizeFeatures(T component,
      BasicUpgradeFinalizer<T, ?> finalizer,  Iterable<LayoutFeature> lfs)
      throws UpgradeException {
    for (LayoutFeature lf: lfs) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Component`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java

  private Map<Component, List<String>> getMetrics(OzoneConfiguration conf,
      Collection<Component> sources) {
    Map<Component, List<String>> result = new HashMap<>();
    for (Component source : sources) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super LayoutFeature`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java

  @VisibleForTesting
  protected void runPrefinalizeStateActions(Function<LayoutFeature,
      Function<UpgradeActionType, Optional<? extends UpgradeAction>>> aFunction,
      Storage storage, T service) throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Function`>
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java
  @VisibleForTesting
  protected void runPrefinalizeStateActions(Function<LayoutFeature,
      Function<UpgradeActionType, Optional<? extends UpgradeAction>>> aFunction,
      Storage storage, T service) throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Component`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/datanode/PipelineComponentUtil.java`
#### Snippet
```java
      ScmClient scmClient,
      String pipelineId,
      Function<Component, Void> func
  ) throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super MetricGroupDisplay`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/BaseInsightPoint.java`
#### Snippet
```java
   * Rpc metrics for any hadoop rpc endpoint.
   */
  public void addRpcMetrics(List<MetricGroupDisplay> metrics,
      Component.Type component,
      Map<String, String> filter) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super MetricGroupDisplay`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/BaseInsightPoint.java`
#### Snippet
```java
   */
  public void addProtocolMessageMetrics(
      List<MetricGroupDisplay> metrics,
      String prefix,
      Component component,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMSnapshotProvider.java`
#### Snippet
```java

  @VisibleForTesting
  public void setPeerNodesMap(Map<String, SCMNodeDetails> peerNodesMap) {
    this.peerNodesMap = peerNodesMap;
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Path`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/InterSCMGrpcClient.java`
#### Snippet
```java
    private final Path outputPath;

    public StreamDownloader(CompletableFuture<Path> response,
        Path outputPath) {
      this.response = response;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends E`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/ExecutionUtil.java`
#### Snippet
```java
  }

  public ExecutionUtil<E> onException(CheckedFunction<E>  catchBlock) {
    onException = catchBlock;
    return this;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends E`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/ExecutionUtil.java`
#### Snippet
```java
  private volatile boolean completed;

  private ExecutionUtil(final CheckedFunction<E> fn) {
    this.fn = fn;
    this.completed = false;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/StatefulServiceStateManagerImpl.java`
#### Snippet
```java
   */
  @Override
  public void reinitialize(Table<String, ByteString> configs) {
    this.statefulServiceConfig = configs;
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/StatefulServiceStateManagerImpl.java`
#### Snippet
```java

  private StatefulServiceStateManagerImpl(
      Table<String, ByteString> statefulServiceConfig,
      DBTransactionBuffer scmDBTransactionBuffer) {
    this.statefulServiceConfig = statefulServiceConfig;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
   * @return Non null List
   */
  private List<DatanodeDetails> validateDatanodes(List<DatanodeDetails> dns) {
    return Objects.isNull(dns) ? Collections.emptyList() :
            dns.stream().map(node -> {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
  }

  public List<DatanodeDetails> filterNodesWithSpace(List<DatanodeDetails> nodes,
      int nodesRequired, long metadataSizeRequired, long dataSizeRequired)
      throws SCMException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
  @Override
  public ContainerPlacementStatus validateContainerPlacement(
      List<DatanodeDetails> dns, int replicas) {
    NetworkTopology topology = nodeManager.getClusterNetworkTopologyMap();
    int requiredRacks = getRequiredRackCount(replicas);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Component`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java
   * @param filter         any additional filter
   */
  private void streamLog(OzoneConfiguration conf, Set<Component> sources,
      List<LoggerSource> relatedLoggers, Predicate<String> filter) {
    List<Thread> loggers = new ArrayList<>();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends LoggerSource`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java
  }

  private void setLogLevels(OzoneConfiguration conf, List<LoggerSource> loggers,
      Function<LoggerSource, Level> toLevel) {
    for (LoggerSource logger : loggers) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super LoggerSource`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java

  private void setLogLevels(OzoneConfiguration conf, List<LoggerSource> loggers,
      Function<LoggerSource, Level> toLevel) {
    for (LoggerSource logger : loggers) {
      setLogLevel(conf, logger.getLoggerName(), logger.getComponent(),
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends LoggerSource`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java

  private void streamLog(OzoneConfiguration conf, Component logComponent,
      List<LoggerSource> loggers, Predicate<String> filter) {
    HttpClient client = HttpClientBuilder.create().build();

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java

  private void streamLog(OzoneConfiguration conf, Component logComponent,
      List<LoggerSource> loggers, Predicate<String> filter) {
    HttpClient client = HttpClientBuilder.create().build();

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends T`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
   */
  @VisibleForTesting
  public void insertNewDatanode(UUID datanodeID, Set<T> containerIDs)
      throws SCMException {
    Preconditions.checkNotNull(containerIDs);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
   */
  @Override
  public int minPipelineLimit(List<DatanodeDetails> dnList) {
    List<Integer> pipelineCountList = new ArrayList<>(dnList.size());
    for (DatanodeDetails dn : dnList) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
   */
  @Override
  public int minHealthyVolumeNum(List<DatanodeDetails> dnList) {
    List<Integer> volumeCountList = new ArrayList<>(dnList.size());
    for (DatanodeDetails dn : dnList) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends BigInteger`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMCertStore.java`
#### Snippet
```java
  @Override
  public Optional<Long> revokeCertificates(
      List<BigInteger> serialIDs,
      X509CertificateHolder caCertificateHolder,
      CRLReason reason,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/upgrade/FinalizationStateManagerImpl.java`
#### Snippet
```java
   */
  @Override
  public void reinitialize(Table<String, String> newFinalizationStore)
      throws IOException {
    checkpointLock.writeLock().lock();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends U`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/choose/algorithms/PipelineChoosePolicyFactory.java`
#### Snippet
```java

  private static <U> Class<? extends U> getClass(String name,
      Class<U> xface) {
    try {
      Class<?> theClass = Class.forName(name);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/leader/choose/algorithms/MinLeaderCountChoosePolicy.java`
#### Snippet
```java

  private Map<DatanodeDetails, Integer> getSuggestedLeaderCount(
      List<DatanodeDetails> dns, NodeManager nodeManager,
      PipelineStateManager pipelineStateManager) {
    Map<DatanodeDetails, Integer> suggestedLeaderCount = new HashMap<>();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
   * @return True if there are multiple racks, false otherwise
   */
  private boolean multipleRacksAvailable(List<DatanodeDetails> dns) {
    if (dns.size() <= 1) {
      return false;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
  @VisibleForTesting
  protected DatanodeDetails chooseNodeBasedOnSameRack(
      List<DatanodeDetails> healthyNodes,  List<DatanodeDetails> excludedNodes,
      NetworkTopology networkTopology, DatanodeDetails anchor) {
    Preconditions.checkArgument(networkTopology != null);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
  @VisibleForTesting
  protected DatanodeDetails chooseNodeBasedOnRackAwareness(
      List<DatanodeDetails> healthyNodes,  List<DatanodeDetails> excludedNodes,
      NetworkTopology networkTopology, DatanodeDetails anchor) {
    Preconditions.checkArgument(networkTopology != null);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super T`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerAttribute.java`
#### Snippet
```java
   * @param attributeMap - AttributeMap
   */
  public ContainerAttribute(Map<T, NavigableSet<ContainerID>> attributeMap) {
    this.attributeMap = attributeMap;
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeUsageInfo`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
   */
  @VisibleForTesting
  double calculateAvgUtilization(List<DatanodeUsageInfo> nodes) {
    if (nodes.size() == 0) {
      LOG.warn("No nodes to calculate average utilization for in " +
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeUsageInfo`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/FindSourceGreedy.java`
#### Snippet
```java

  private void setPotentialSources(
      List<DatanodeUsageInfo> potentialSourceDataNodes) {
    potentialSources.clear();
    sizeLeavingNode.clear();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRandom.java`
#### Snippet
```java
   */
  @Override
  public DatanodeDetails chooseNode(final List<DatanodeDetails> healthyNodes) {
    DatanodeDetails selectedNode =
        healthyNodes.get(getRand().nextInt(healthyNodes.size()));
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementCapacity.java`
#### Snippet
```java
   */
  @Override
  public DatanodeDetails chooseNode(List<DatanodeDetails> healthyNodes) {
    int firstNodeNdx = getRand().nextInt(healthyNodes.size());
    int secondNodeNdx = getRand().nextInt(healthyNodes.size());
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeUsageInfo`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/AbstractFindTargetGreedy.java`
#### Snippet
```java
   */
  @Override
  public void reInitialize(List<DatanodeUsageInfo> potentialDataNodes,
                           ContainerBalancerConfiguration conf,
                           Double upLimit) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerReplicaOp`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/ECReplicationCheckHandler.java`
#### Snippet
```java
  private ContainerPlacementStatus getPlacementStatus(
      Set<ContainerReplica> replicas, int replicationFactor,
      List<ContainerReplicaOp> pendingOps) {

    Set<DatanodeDetails> replicaDns = replicas.stream()
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
   */
  private List<DatanodeDetails> chooseNodes(List<DatanodeDetails> excludedNodes,
      List<DatanodeDetails> chosenNodes, List<DatanodeDetails> favoredNodes,
      int favorIndex, int nodesRequired, long metadataSizeRequired,
      long dataSizeRequired) throws SCMException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
   * @throws SCMException  SCMException
   */
  private DatanodeDetails chooseNode(List<DatanodeDetails> excludedNodes,
      List<DatanodeDetails> affinityNodes, long metadataSizeRequired,
      long dataSizeRequired) throws SCMException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
   */
  private DatanodeDetails chooseNode(List<DatanodeDetails> excludedNodes,
      List<DatanodeDetails> affinityNodes, long metadataSizeRequired,
      long dataSizeRequired) throws SCMException {
    int ancestorGen = RACK_LEVEL;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerReplicaOp`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/RatisReplicationCheckHandler.java`
#### Snippet
```java
  private ContainerPlacementStatus getPlacementStatus(
      Set<ContainerReplica> replicas, int replicationFactor,
      List<ContainerReplicaOp> pendingOps) {

    Set<DatanodeDetails> replicaDns = replicas.stream()
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
   */
  private List<Node> sortRackWithExcludedNodes(List<Node> racks,
          List<DatanodeDetails> excludedNodes, Set<Node> usedRacks) {
    if ((excludedNodes == null || excludedNodes.isEmpty())
            && usedRacks.isEmpty()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
  @Override
  protected List<DatanodeDetails> chooseDatanodesInternal(
          List<DatanodeDetails> usedNodes,
          final List<DatanodeDetails> excludedNodes,
          final List<DatanodeDetails> favoredNodes,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
          List<DatanodeDetails> usedNodes,
          final List<DatanodeDetails> excludedNodes,
          final List<DatanodeDetails> favoredNodes,
          final int nodesRequiredToChoose, final long metadataSizeRequired,
          final long dataSizeRequired) throws SCMException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Node`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
  }

  public Set<DatanodeDetails> chooseNodesFromRacks(List<Node> racks,
          List<Node> unavailableNodes,
          List<DatanodeDetails> mutableFavoredNodes,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
  public Set<DatanodeDetails> chooseNodesFromRacks(List<Node> racks,
          List<Node> unavailableNodes,
          List<DatanodeDetails> mutableFavoredNodes,
          int nodesRequired, final long metadataSizeRequired,
          final long dataSizeRequired, int maxOuterLoopIterations) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECUnderReplicationHandler.java`
#### Snippet
```java
  }

  private boolean validatePlacement(List<DatanodeDetails> replicaNodes,
                                    List<DatanodeDetails> selectedNodes) {
    List<DatanodeDetails> nodes = new ArrayList<>(replicaNodes);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ECUnderReplicationHandler.java`
#### Snippet
```java

  private boolean validatePlacement(List<DatanodeDetails> replicaNodes,
                                    List<DatanodeDetails> selectedNodes) {
    List<DatanodeDetails> nodes = new ArrayList<>(replicaNodes);
    nodes.addAll(selectedNodes);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerUtils.java`
#### Snippet
```java
                                                     OMMetadataManager
                                                         metadataManager,
                                                     Set<Pair<String,
                                                         String>> visited)
      throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerUtils.java`
#### Snippet
```java
                                              String volName,
                                              String buckName,
                                              Set<Pair<String, String>> visited)
      throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Map.Entry`, CacheValue>
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneListStatusHelper.java`
#### Snippet
```java
    private final EntryType entryType;

    CacheIter(EntryType entryType, Iterator<Map.Entry<CacheKey<String>,
        CacheValue<Value>>> cacheIter, String startKey, String prefixKey) {
      this.cacheKeyMap = new TreeMap<>();

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
   * Helper function to add user principal to a role in mtRoles.
   */
  private void addUserToMtRoles(HashMap<String, HashSet<String>> mtRoles,
      String roleName, String userPrincipal) {
    if (!mtRoles.containsKey(roleName)) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
    private final ReentrantReadWriteLock tenantCacheLock;

    CacheOp(Map<String, CachedTenantState> tenantCache,
        ReentrantReadWriteLock tenantCacheLock) {
      this.tenantCache = tenantCache;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends CachedTenantState`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java

    AuthorizerOp(MultiTenantAccessController accessController,
        Map<String, CachedTenantState> tenantCache,
        ReentrantReadWriteLock tenantCacheLock) {
      this.accessController = accessController;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super InflightAction`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      final DatanodeDetails datanode,
      final SCMCommand<T> command,
      final Predicate<InflightAction> tracker) {
    try {
      command.setTerm(scmContext.getTermOfLeader());
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super InflightAction`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
    }

    void iterate(ContainerID id, Predicate<InflightAction> processor) {
      for (; ;) {
        final List<InflightAction> actions = get(id);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java


  private void addCleanupEntry(DoubleBufferEntry entry, Map<String,
      List<Long>> cleanupEpochs) {
    Class<? extends OMClientResponse> responseClass =
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends List`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java


  private void cleanupCache(Map<String, List<Long>> cleanupEpochs) {
    cleanupEpochs.forEach((tableName, epochs) -> {
      Collections.sort(epochs);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OmKeyInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java

  @Override
  protected void addKeyToAppropriateList(List<OmKeyInfo> omKeyInfoList,
      OmKeyInfo omKeyInfo, List<OmKeyInfo> dirList, OzoneFileStatus keyStatus) {
    if (keyStatus.isDirectory()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OmKeyInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OmKeysDeleteRequestWithFSO.java`
#### Snippet
```java
  @Override
  protected void addKeyToAppropriateList(List<OmKeyInfo> omKeyInfoList,
      OmKeyInfo omKeyInfo, List<OmKeyInfo> dirList, OzoneFileStatus keyStatus) {
    if (keyStatus.isDirectory()) {
      dirList.add(omKeyInfo);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      long numEntries, String seekDirInDB,
      long countEntries,
      TableIterator<String,
          ? extends Table.KeyValue<String, OmDirectoryInfo>> iterator)
      throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
  }

  private static List<String> toNodeUuid(Collection<DatanodeDetails> nodes) {
    List<String> nodeSet = new ArrayList<>(nodes.size());
    for (DatanodeDetails node : nodes) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneFileStatus`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java

  private List<OzoneFileStatus> buildFinalStatusList(
      Collection<OzoneFileStatus> statusesCollection, OmKeyArgs omKeyArgs,
      String clientAddress)
      throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
  private void findKeyInDbWithIterator(boolean recursive, String startKey,
      long numEntries, String volumeName, String bucketName, String keyName,
      TreeMap<String, OzoneFileStatus> cacheKeyMap, String keyArgs,
      Table<String, OmKeyInfo> keyTable,
      TableIterator<String,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneFileStatus`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
  private void findKeyInDbWithIterator(boolean recursive, String startKey,
      long numEntries, String volumeName, String bucketName, String keyName,
      TreeMap<String, OzoneFileStatus> cacheKeyMap, String keyArgs,
      Table<String, OmKeyInfo> keyTable,
      TableIterator<String,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      TreeMap<String, OzoneFileStatus> cacheKeyMap, String keyArgs,
      Table<String, OmKeyInfo> keyTable,
      TableIterator<String,
          ? extends Table.KeyValue<String, OmKeyInfo>> iterator)
      throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Map.Entry`, CacheValue>
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
   */
  private void listStatusFindKeyInTableCache(
      Iterator<Map.Entry<CacheKey<String>, CacheValue<OmKeyInfo>>> cacheIter,
      String keyArgs, String startCacheKey, boolean recursive,
      TreeMap<String, OzoneFileStatus> cacheKeyMap) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      Iterator<Map.Entry<CacheKey<String>, CacheValue<OmKeyInfo>>> cacheIter,
      String keyArgs, String startCacheKey, boolean recursive,
      TreeMap<String, OzoneFileStatus> cacheKeyMap) {

    while (cacheIter.hasNext()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneFileStatus`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      Iterator<Map.Entry<CacheKey<String>, CacheValue<OmKeyInfo>>> cacheIter,
      String keyArgs, String startCacheKey, boolean recursive,
      TreeMap<String, OzoneFileStatus> cacheKeyMap) {

    while (cacheIter.hasNext()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
   * Add key info to audit map for DeleteKeys request.
   */
  protected static void addDeletedKeys(Map<String, String> auditMap,
      List<String> deletedKeys, List<String> unDeletedKeys) {
    auditMap.put(DELETED_KEYS_LIST, String.join(",", deletedKeys));
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
   * Add key info to audit map for DeleteKeys request.
   */
  protected static void addDeletedKeys(Map<String, String> auditMap,
      List<String> deletedKeys, List<String> unDeletedKeys) {
    auditMap.put(DELETED_KEYS_LIST, String.join(",", deletedKeys));
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OmKeyInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
  }

  protected void addKeyToAppropriateList(List<OmKeyInfo> omKeyInfoList,
      OmKeyInfo omKeyInfo, List<OmKeyInfo> dirList, OzoneFileStatus keyStatus) {
    omKeyInfoList.add(omKeyInfo);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DeleteBlockGroupResult`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/KeyDeletingService.java`
#### Snippet
```java
     * @throws IOException      on Error
     */
    private int deleteAllKeys(List<DeleteBlockGroupResult> results)
        throws IOException {
      Table<String, RepeatedOmKeyInfo> deletedTable =
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/KeyDeletingService.java`
#### Snippet
```java
   * keys to be purged per bucket.
   */
  private void addToMap(Map<Pair<String, String>, List<String>> map,
      String objectKey) {
    // Parse volume and bucket name
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ValidationCondition`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/validation/ValidatorRegistry.java`
#### Snippet
```java
   */
  List<Method> validationsFor(
      List<ValidationCondition> conditions,
      Type requestType,
      RequestProcessingPhase phase) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends List`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager, String volumeName,
      String bucketName, Optional<OmKeyInfo> keyInfo,
      Optional<List<OmKeyInfo>> parentInfoList,
      long index) throws IOException {
    for (OmKeyInfo parentInfo : parentInfoList.get()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends List`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
          OMMetadataManager omMetadataManager,
          long volumeId, long bucketId, long trxnLogIndex,
          Optional<List<OmDirectoryInfo>> missingParentInfos,
          Optional<OmDirectoryInfo> dirInfo) {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OmDirectoryInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/s3/multipart/S3InitiateMultipartUploadResponseWithFSO.java`
#### Snippet
```java
      @Nonnull OmMultipartKeyInfo omMultipartKeyInfo,
      @Nonnull OmKeyInfo omKeyInfo, @Nonnull String mpuDBKey,
      @Nonnull List<OmDirectoryInfo> parentDirInfos,
      @Nonnull BucketLayout bucketLayout, @Nonnull long volumeId,
      @Nonnull long bucketId) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/AbstractOMKeyDeleteResponse.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager,
      BatchOperation batchOperation,
      Table<String, ?> fromTable,
      String keyName, String fullKeyName,
      OmKeyInfo omKeyInfo) throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/key/AbstractOMKeyDeleteResponse.java`
#### Snippet
```java
      OMMetadataManager omMetadataManager,
      BatchOperation batchOperation,
      Table<String, ?> fromTable,
      String keyName,
      OmKeyInfo omKeyInfo) throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OmDirectoryInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/file/OMDirectoryCreateResponseWithFSO.java`
#### Snippet
```java
      @Nonnull long volumeId, @Nonnull long bucketId,
      @Nonnull OmDirectoryInfo dirInfo,
      @Nonnull List<OmDirectoryInfo> pDirInfos, @Nonnull Result result,
      @Nonnull BucketLayout bucketLayout) {
    super(omResponse, bucketLayout);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OmDirectoryInfo`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/file/OMFileCreateResponseWithFSO.java`
#### Snippet
```java
  public OMFileCreateResponseWithFSO(@Nonnull OMResponse omResponse,
      @Nonnull OmKeyInfo omKeyInfo,
      @Nonnull List<OmDirectoryInfo> parentDirInfos, long openKeySessionID,
      @Nonnull OmBucketInfo omBucketInfo, @Nonnull long volumeId) {
    super(omResponse, omKeyInfo, new ArrayList<>(), openKeySessionID,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ReconSchemaDefinition`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconSchemaManager.java`
#### Snippet
```java

  @Inject
  public ReconSchemaManager(Set<ReconSchemaDefinition> reconSchemaDefinitions) {
    this.reconSchemaDefinitions.addAll(reconSchemaDefinitions);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends RangerRole.RoleMember`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerClientMultiTenantAccessController.java`
#### Snippet
```java

  private static List<String> fromRangerRoleMembers(
      Collection<RangerRole.RoleMember> members) {
    return members.stream()
        .map(rangerUser -> rangerUser.getName())
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Acl`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/MultiTenantAccessController.java`
#### Snippet
```java
      }

      public Builder addUserAcl(String userName, Collection<Acl> acls) {
        this.userAcls.put(userName, new ArrayList<>(acls));
        return this;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Acl`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/MultiTenantAccessController.java`
#### Snippet
```java
      }

      public Builder addRoleAcl(String roleName, Collection<Acl> acls) {
        this.roleAcls.put(roleName, new ArrayList<>(acls));
        return this;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OmKeyLocationInfoGroup`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java
   */
  private List<ContainerBlockMetadata> getBlocks(
      List<OmKeyLocationInfoGroup> matchedKeys, long containerID) {
    List<ContainerBlockMetadata> blockIds = new ArrayList<>();
    for (OmKeyLocationInfoGroup omKeyLocationInfoGroup : matchedKeys) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super DUResponse.DiskUsage`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/FSOBucketHandler.java`
#### Snippet
```java
  public long handleDirectKeys(long parentId, boolean withReplica,
                               boolean listFile,
                               List<DUResponse.DiskUsage> duData,
                               String normalizedPath) throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  private Pair<String, String> resolveBucketLink(
      Pair<String, String> volumeAndBucket,
      Set<Pair<String, String>> visited,
      UserGroupInformation userGroupInformation,
      InetAddress remoteAddress,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super DUResponse.DiskUsage`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/LegacyBucketHandler.java`
#### Snippet
```java
  public long handleDirectKeys(long parentId, boolean withReplica,
                               boolean listFile,
                               List<DUResponse.DiskUsage> duData,
                               String normalizedPath) throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerReplicaHistory`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ContainerReplicaHistoryList.java`
#### Snippet
```java

  public ContainerReplicaHistoryList(
      List<ContainerReplicaHistory> replicaHistories) {
    this.replicaHistories = new ArrayList<>(replicaHistories);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super FileSizeCountKey`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java`
#### Snippet
```java
   */
  private void handlePutKeyEvent(OmKeyInfo omKeyInfo,
                                 Map<FileSizeCountKey, Long> fileSizeCountMap) {
    FileSizeCountKey key = getFileSizeCountKey(omKeyInfo);
    Long count = fileSizeCountMap.containsKey(key) ?
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super FileSizeCountKey`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java`
#### Snippet
```java
   */
  private void handleDeleteKeyEvent(String key, OmKeyInfo omKeyInfo,
                                    Map<FileSizeCountKey, Long>
                                        fileSizeCountMap) {
    if (omKeyInfo == null) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskDbEventHandler.java`
#### Snippet
```java

  protected void handlePutDirEvent(OmDirectoryInfo directoryInfo,
                                   Map<Long, NSSummary> nsSummaryMap)
      throws IOException {
    long parentObjectId = directoryInfo.getParentObjectID();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskDbEventHandler.java`
#### Snippet
```java

  protected void handleDeleteDirEvent(OmDirectoryInfo directoryInfo,
                                      Map<Long, NSSummary> nsSummaryMap)
      throws IOException {
    long parentObjectId = directoryInfo.getParentObjectID();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends NSSummary`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskDbEventHandler.java`
#### Snippet
```java
  }

  protected void writeNSSummariesToDB(Map<Long, NSSummary> nsSummaryMap)
      throws IOException {
    try (RDBBatchOperation rdbBatchOperation = new RDBBatchOperation()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskDbEventHandler.java`
#### Snippet
```java

  protected void handleDeleteKeyEvent(OmKeyInfo keyInfo,
                                      Map<Long, NSSummary> nsSummaryMap)
      throws IOException {
    long parentObjectId = keyInfo.getParentObjectID();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskDbEventHandler.java`
#### Snippet
```java
  }

  protected void handlePutKeyEvent(OmKeyInfo keyInfo, Map<Long,
      NSSummary> nsSummaryMap) throws IOException {
    long parentObjectId = keyInfo.getParentObjectID();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DataSourceTransactionManager`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/persistence/TransactionalMethodInterceptor.java`
#### Snippet
```java

  TransactionalMethodInterceptor(
      Provider<DataSourceTransactionManager> transactionManagerProvider) {
    this.transactionManagerProvider = transactionManagerProvider;
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Future`>
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ReconTaskControllerImpl.java`
#### Snippet
```java
   * @throws InterruptedException Interrupted Exception
   */
  private List<String> processTaskResults(List<Future<Pair<String, Boolean>>>
                                              results,
                                          OMUpdateEventBatch events)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DataSourceConfiguration`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/persistence/JooqPersistenceModule.java`
#### Snippet
```java

  public JooqPersistenceModule(
      Provider<DataSourceConfiguration> configurationProvider) {
    this.configurationProvider = configurationProvider;
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends PartInfo`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneMultipartUploadPartListParts.java`
#### Snippet
```java
  }

  public void addAllParts(List<PartInfo> partInfos) {
    partInfoList.addAll(partInfos);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ECBlockOutputStream`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECKeyOutputStream.java`
#### Snippet
```java
  }

  private void logStreamError(List<ECBlockOutputStream> failedStreams,
                              String operation) {
    Set<Integer> failedStreamIndexSet =
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ECBlockOutputStream`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECKeyOutputStream.java`
#### Snippet
```java

  private void excludePipelineAndFailedDN(Pipeline pipeline,
      List<ECBlockOutputStream> failedStreams) {

    // Exclude the failed pipeline
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneCryptoInputStream`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java

  public MultipartCryptoKeyInputStream(String keyName,
      List<OzoneCryptoInputStream> inputStreams) {

    Preconditions.checkNotNull(inputStreams);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneInputStream`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneKeyDetails.java`
#### Snippet
```java
      Map<String, String> metadata,
      FileEncryptionInfo feInfo,
      SupplierWithIOException<OzoneInputStream> contentSupplier) {
    super(volumeName, bucketName, keyName, size, creationTime,
            modificationTime, replicationConfig, metadata);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends BlockOutputStreamEntry`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/BlockOutputStreamEntryPool.java`
#### Snippet
```java

  private List<OmKeyLocationInfo> getOmKeyLocationInfos(
      List<BlockOutputStreamEntry> streams) {
    List<OmKeyLocationInfo> locationInfoList = new ArrayList<>();
    for (BlockOutputStreamEntry streamEntry : streams) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerKeyPrefix`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
   */
  private void handleDeleteOMKeyEvent(String key,
                                      Map<ContainerKeyPrefix, Integer>
                                          containerKeyMap,
                                      Map<Long, Long> containerKeyCountMap,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
                                      Map<ContainerKeyPrefix, Integer>
                                          containerKeyMap,
                                      Map<Long, Long> containerKeyCountMap,
                                      List<ContainerKeyPrefix>
                                          deletedContainerKeyList)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ContainerKeyPrefix`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
                                          containerKeyMap,
                                      Map<Long, Long> containerKeyCountMap,
                                      List<ContainerKeyPrefix>
                                          deletedContainerKeyList)
      throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerKeyPrefix`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
  }

  private void writeToTheDB(Map<ContainerKeyPrefix, Integer> containerKeyMap,
                            Map<Long, Long> containerKeyCountMap,
                            List<ContainerKeyPrefix> deletedContainerKeyList)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerKeyPrefix`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
  private void writeToTheDB(Map<ContainerKeyPrefix, Integer> containerKeyMap,
                            Map<Long, Long> containerKeyCountMap,
                            List<ContainerKeyPrefix> deletedContainerKeyList)
      throws IOException {
    try (RDBBatchOperation rdbBatchOperation = new RDBBatchOperation()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ContainerKeyPrefix`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
   */
  private void handlePutOMKeyEvent(String key, OmKeyInfo omKeyInfo,
                                   Map<ContainerKeyPrefix, Integer>
                                       containerKeyMap,
                                   Map<Long, Long> containerKeyCountMap,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Integer`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
   */
  private void handlePutOMKeyEvent(String key, OmKeyInfo omKeyInfo,
                                   Map<ContainerKeyPrefix, Integer>
                                       containerKeyMap,
                                   Map<Long, Long> containerKeyCountMap,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/ContainerKeyMapperTask.java`
#### Snippet
```java
                                   Map<ContainerKeyPrefix, Integer>
                                       containerKeyMap,
                                   Map<Long, Long> containerKeyCountMap,
                                   List<ContainerKeyPrefix>
                                       deletedContainerKeyList)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super AppendEntriesReplyProto`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/freon/FakeRatisFollower.java`
#### Snippet
```java
  public static StreamObserver<AppendEntriesRequestProto> appendEntries(
      RaftPeerId raftPeerId,
      StreamObserver<AppendEntriesReplyProto> responseHandler) {
    return new StreamObserver<AppendEntriesRequestProto>() {
      private long maxIndex = -1L;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OmKeyLocationInfo`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
      OmKeyLocationInfo blockInfo,
      XceiverClientFactory xceiverClientFactory, boolean verifyChecksum,
      Function<OmKeyLocationInfo, Pipeline> refreshPipelineFunction,
      BlockInputStreamFactory blockStreamFactory) {
    blockStreams.add(blockStreamFactory.create(repConfig, blockInfo,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OmKeyInfo`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
      List<OmKeyLocationInfo> blockInfos,
      XceiverClientFactory xceiverClientFactory,
      boolean verifyChecksum,  Function<OmKeyInfo, OmKeyInfo> retryFunction,
      BlockInputStreamFactory blockStreamFactory) {
    this.key = keyInfo.getKeyName();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/CreatePipelineCommand.java`
#### Snippet
```java

  private void initPriorityList(
      List<DatanodeDetails> dns, DatanodeDetails suggestedLeader) {
    for (DatanodeDetails dn : dns) {
      if (dn.equals(suggestedLeader)) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Long`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/OpenContainerBlockMap.java`
#### Snippet
```java

    synchronized BlockData computeIfAbsent(
        long localId, Function<Long, BlockData> f) {
      return blocks.computeIfAbsent(localId, f);
    }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends BlockData`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/OpenContainerBlockMap.java`
#### Snippet
```java

    synchronized BlockData computeIfAbsent(
        long localId, Function<Long, BlockData> f) {
      return blocks.computeIfAbsent(localId, f);
    }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ContainerData`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/TopNOrderedContainerDeletionChoosingPolicy.java`
#### Snippet
```java
  @Override
  public List<ContainerBlockInfo> chooseContainerForBlockDeletion(
      int totalBlocks, Map<Long, ContainerData> candidateContainers)
      throws StorageContainerException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ContainerData`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerSet.java`
#### Snippet
```java
   */
  public void listContainer(long startContainerId, long count,
                            List<ContainerData> data) throws
      StorageContainerException {
    Preconditions.checkNotNull(data,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ReportPublisher`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportManager.java`
#### Snippet
```java
   */
  private ReportManager(StateContext context,
                        List<ReportPublisher> publishers) {
    this.context = context;
    this.publishers = publishers;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Future`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/states/datanode/RunningDatanodeState.java`
#### Snippet
```java
  private DatanodeStateMachine.DatanodeStates
      computeNextContainerState(
      List<Future<EndPointStates>> results) {
    for (Future<EndPointStates> state : results) {
      try {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends HddsVolume`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/RoundRobinVolumeChoosingPolicy.java`
#### Snippet
```java

  @Override
  public HddsVolume chooseVolume(List<HddsVolume> volumes,
      long maxContainerSize) throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneAcl`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneVolume.java`
#### Snippet
```java
  protected OzoneVolume(String name, String admin, String owner,
      long quotaInBytes, long quotaInNamespace, long creationTime,
      List<OzoneAcl> acls) {
    this.proxy = null;
    this.name = name;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneAcl`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneVolume.java`
#### Snippet
```java
  public OzoneVolume(ConfigurationSource conf, ClientProtocol proxy,
      String name, String admin, String owner, long quotaInBytes,
      long quotaInNamespace, long creationTime, List<OzoneAcl> acls,
      Map<String, String> metadata) {
    Preconditions.checkNotNull(proxy, "Client proxy is not set.");
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends HddsVolume`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/CapacityVolumeChoosingPolicy.java`
#### Snippet
```java

  @Override
  public HddsVolume chooseVolume(List<HddsVolume> volumes,
      long maxContainerSize) throws IOException {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends V`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/ThrottledAsyncChecker.java`
#### Snippet
```java
   */
  private void addResultCachingCallback(
      Checkable<K, V> target, ListenableFuture<V> lf) {
    Futures.addCallback(lf, new FutureCallback<V>() {
      @Override
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Waiter`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java

    SafeAtomicHelper(
        AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater,
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Thread`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java

    SafeAtomicHelper(
        AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater,
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Waiter`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    SafeAtomicHelper(
        AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater,
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Waiter`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    SafeAtomicHelper(
        AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater,
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super AbstractFuture`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
        AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater,
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Waiter`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
        AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater,
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super AbstractFuture`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater) {
      this.waiterThreadUpdater = waiterThreadUpdater;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Listener`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
        AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater) {
      this.waiterThreadUpdater = waiterThreadUpdater;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super AbstractFuture`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
        AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Listener> listenersUpdater,
        AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater) {
      this.waiterThreadUpdater = waiterThreadUpdater;
      this.waiterNextUpdater = waiterNextUpdater;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Entry`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamServerHandler.java`
#### Snippet
```java
  public void writeOneElement(
      ChannelHandlerContext ctx,
      List<Entry<String, Path>> entriesToWrite,
      int i
  )
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super CommandStatus`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
   */
  public boolean updateCommandStatus(Long cmdId,
      Consumer<CommandStatus> cmdStatusUpdater) {
    if (cmdStatusMap.containsKey(cmdId)) {
      cmdStatusUpdater.accept(cmdStatusMap.get(cmdId));
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Message`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
   *                         heartbeat.
   */
  public void putBackReports(List<Message> reportsToPutBack,
                             InetSocketAddress endpoint) {
    if (LOG.isDebugEnabled()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends KeyValueContainerData`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/TarContainerPacker.java`
#### Snippet
```java
   */
  @Override
  public byte[] unpackContainerData(Container<KeyValueContainerData> container,
      InputStream input)
      throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends KeyValueContainerData`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/TarContainerPacker.java`
#### Snippet
```java
   */
  @Override
  public void pack(Container<KeyValueContainerData> container,
      OutputStream output)
      throws IOException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerMetadataInspector.java`
#### Snippet
```java
  }

  private JsonObject getDBMetadataJson(Table<String, Long> metadataTable,
      KeyValueContainerData containerData) throws IOException {
    JsonObject dBMetadata = new JsonObject();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super ChunkBuffer`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/ChunkUtils.java`
#### Snippet
```java
  private static void writeData(ChunkBuffer data, String filename,
      long offset, long len, HddsVolume volume,
      ToLongFunction<ChunkBuffer> writer) throws StorageContainerException {

    validateBufferSize(len, data.remaining());
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ChunkInfoList`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/SchemaOneDeletedBlocksTable.java`
#### Snippet
```java

    UnprefixedKeyValue(
            KeyValue<String, ChunkInfoList> prefixedKeyValue) {
      this.prefixedKeyValue = prefixedKeyValue;
    }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends DatanodeDetails`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/SimpleContainerDownloader.java`
#### Snippet
```java
  //chance to succeed next time.
  protected List<DatanodeDetails> shuffleDatanodes(
      List<DatanodeDetails> sourceDatanodes) {

    final ArrayList<DatanodeDetails> shuffledDatanodes =
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java

  private void unlock(Resource resource, String resourceName,
      Consumer<String> lockFn, String lockType) {
    boolean isWriteLocked = manager.isWriteLockedByCurrentThread(resourceName);
    // TODO: Not checking release of higher order level lock happened while
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java

  private boolean lock(Resource resource, String resourceName,
      Consumer<String> lockFn, String lockType) {
    if (!resource.canLock(lockSet.get())) {
      String errorMessage = getErrorMessage(resource);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OmPartInfo`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmMultipartUploadListParts.java`
#### Snippet
```java
  }

  public void addPartList(List<OmPartInfo> partInfos) {
    this.partInfoList.addAll(partInfos);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmDirectoryInfo.java`
#### Snippet
```java
    }

    public Builder setAcls(List<OzoneAcl> listOfAcls) {
      if (listOfAcls != null) {
        this.acls.addAll(listOfAcls);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketInfo.java`
#### Snippet
```java
    }

    public Builder setAcls(List<OzoneAcl> listOfAcls) {
      if (listOfAcls != null) {
        this.acls.addAll(listOfAcls);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
   * @return true if newAcls are set successfully, false otherwise.
   */
  public static boolean setAcl(List<OzoneAcl> existingAcls,
      List<OzoneAcl> newAcls) {
    if (existingAcls == null) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
   */
  public static boolean setAcl(List<OzoneAcl> existingAcls,
      List<OzoneAcl> newAcls) {
    if (existingAcls == null) {
      return false;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
   * @return true if current OzoneAcls are changed, false otherwise.
   */
  public static boolean removeAcl(List<OzoneAcl> existingAcls, OzoneAcl acl) {
    if (existingAcls == null || existingAcls.isEmpty() || acl == null) {
      return false;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
   */
  public static boolean inheritDefaultAcls(List<OzoneAcl> acls,
      List<OzoneAcl> parentAcls) {
    List<OzoneAcl> inheritedAcls = null;
    if (parentAcls != null && !parentAcls.isEmpty()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
   * @return return true if acl list contains right requsted in context.
   * */
  public static boolean checkAclRights(List<OzoneAcl> acls,
      RequestContext context) throws OMException {
    String[] userGroups = context.getClientUgi().getGroupNames();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java`
#### Snippet
```java
   * */
  public static List<OzoneAcl> filterAclList(String identityName,
      IAccessAuthorizer.ACLIdentityType type, List<OzoneAcl> aclList) {

    if (aclList == null || aclList.isEmpty()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Token`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSelector.java`
#### Snippet
```java

  private Token<OzoneTokenIdentifier> getSelectedTokens(Text service,
      Collection<Token<? extends TokenIdentifier>> tokens) {
    if (service == null) {
      return null;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends RadixNode`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/util/RadixTree.java`
#### Snippet
```java
   * Note: the path will always be normalized with and ending "/".
   */
  public static String radixPathToString(List<RadixNode<Integer>> path) {
    StringBuilder sb = new StringBuilder();
    for (RadixNode n : path) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super InputStream`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyValidator.java`
#### Snippet
```java

  private <T> T readKey(String keyName,
      CheckedFunction<InputStream, T, IOException> reader)
      throws IOException {
    try (InputStream in = rpcClient.getObjectStore().getVolume(volumeName)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends IOException`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyValidator.java`
#### Snippet
```java

  private <T> T readKey(String keyName,
      CheckedFunction<InputStream, T, IOException> reader)
      throws IOException {
    try (InputStream in = rpcClient.getObjectStore().getVolume(volumeName)
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ColumnFamilyHandle`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java

  private static ColumnFamilyHandle getColumnFamilyHandle(
            byte[] name, List<ColumnFamilyHandle> columnFamilyHandles) {
    return columnFamilyHandles
            .stream()
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Integer`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RangeKeysGenerator.java`
#### Snippet
```java


  public void loopRunner(Function<Integer, String> keyNameGeneratorfunc,
                         OzoneClient client, int start, int end)
          throws Exception {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OmKeyLocationInfoGroup`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java

    public Builder setOmKeyLocationInfos(
        List<OmKeyLocationInfoGroup> omKeyLocationInfoList) {
      if (omKeyLocationInfoList != null) {
        this.omKeyLocationInfoGroups.addAll(omKeyLocationInfoList);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneAcl`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
    }

    public Builder setAcls(List<OzoneAcl> listOfAcls) {
      if (listOfAcls != null) {
        this.acls.addAll(listOfAcls);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneVolume`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/EndpointBase.java`
#### Snippet
```java

  private Iterator<? extends OzoneBucket> iterateBuckets(
      Function<OzoneVolume, Iterator<? extends OzoneBucket>> query)
      throws IOException, OS3Exception {
    try {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends Iterator`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/EndpointBase.java`
#### Snippet
```java

  private Iterator<? extends OzoneBucket> iterateBuckets(
      Function<OzoneVolume, Iterator<? extends OzoneBucket>> query)
      throws IOException, OS3Exception {
    try {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends List`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/HAUtils.java`
#### Snippet
```java

  private static List<String> waitForCACerts(
      final SupplierWithIOException<List<String>> applyFunction,
      int expectedCount) throws IOException {
    // TODO: If SCMs are bootstrapped later, then listCA need to be
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends VALUE`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/cache/CacheValue.java`
#### Snippet
```java
  private long epoch;

  public CacheValue(Optional<VALUE> value, long epoch) {
    this.value = value;
    this.epoch = epoch;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends TableConfig`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/DBStoreBuilder.java`
#### Snippet
```java
   */
  private ManagedDBOptions getDBOptionsFromFile(
      Collection<TableConfig> tableConfigs) {
    ManagedDBOptions option = null;

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super TYPE`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/OzoneProtocolMessageDispatcher.java`
#### Snippet
```java

  public OzoneProtocolMessageDispatcher(String serviceName,
      ProtocolMessageMetrics<TYPE> protocolMessageMetrics,
      Logger logger,
      UnaryOperator<REQUEST> requestPreprocessor,
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super REQUEST`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/OzoneProtocolMessageDispatcher.java`
#### Snippet
```java
      ProtocolMessageMetrics<TYPE> protocolMessageMetrics,
      Logger logger,
      UnaryOperator<REQUEST> requestPreprocessor,
      UnaryOperator<RESPONSE> responsePreprocessor) {
    this.serviceName = serviceName;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super RESPONSE`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/OzoneProtocolMessageDispatcher.java`
#### Snippet
```java
      Logger logger,
      UnaryOperator<REQUEST> requestPreprocessor,
      UnaryOperator<RESPONSE> responsePreprocessor) {
    this.serviceName = serviceName;
    this.protocolMessageMetrics = protocolMessageMetrics;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super REQUEST`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/OzoneProtocolMessageDispatcher.java`
#### Snippet
```java
  public RESPONSE processRequest(
      REQUEST request,
      FunctionWithServiceException<REQUEST, RESPONSE> methodCall,
      TYPE type,
      String traceId) throws ServiceException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends RESPONSE`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/OzoneProtocolMessageDispatcher.java`
#### Snippet
```java
  public RESPONSE processRequest(
      REQUEST request,
      FunctionWithServiceException<REQUEST, RESPONSE> methodCall,
      TYPE type,
      String traceId) throws ServiceException {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisNameRewriteSampleBuilder.java`
#### Snippet
```java

  protected String normalizeRatisMetric(String dropwizardName,
      List<String> names,
      List<String> values) {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisNameRewriteSampleBuilder.java`
#### Snippet
```java
  protected String normalizeRatisMetric(String dropwizardName,
      List<String> names,
      List<String> values) {

    List<String> nameParts =
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends RatisDropwizardExports`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisDropwizardExports.java`
#### Snippet
```java
  }

  public static void clear(Map<String, RatisDropwizardExports>
                               ratisMetricsMap) {
    ratisMetricsMap.entrySet().stream().forEach(e -> {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super String`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisDropwizardExports.java`
#### Snippet
```java

  private static void registerDropwizard(RatisMetricRegistry registry,
      Map<String, RatisDropwizardExports> ratisMetricsMap,
      BooleanSupplier checkStopped) {
    if (checkStopped.getAsBoolean()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super RatisDropwizardExports`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisDropwizardExports.java`
#### Snippet
```java

  private static void registerDropwizard(RatisMetricRegistry registry,
      Map<String, RatisDropwizardExports> ratisMetricsMap,
      BooleanSupplier checkStopped) {
    if (checkStopped.getAsBoolean()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends RatisDropwizardExports`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/RatisDropwizardExports.java`
#### Snippet
```java

  private static void deregisterDropwizard(RatisMetricRegistry registry,
      Map<String, RatisDropwizardExports> ratisMetricsMap) {
    String name = registry.getMetricRegistryInfo().getName();
    Collector c = ratisMetricsMap.remove(name);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super P`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/SingleThreadExecutor.java`
#### Snippet
```java

  @Override
  public void onMessage(EventHandler<P> handler, P message, EventPublisher
      publisher) {
    queued.incr();
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends TableConfig`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
   */
  private static List<TableConfig> getExtraColumnFamilies(
      File file, Set<TableConfig> families) throws RocksDBException {

    // This logic has been added to support old column families that have
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ColumnFamilyDescriptor`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java

  private static void close(Map<String, ColumnFamily> columnFamilies,
      ManagedRocksDB db, List<ColumnFamilyDescriptor> descriptors,
      ManagedWriteOptions writeOptions, ManagedDBOptions dbOptions) {
    if (columnFamilies != null) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends TIMEOUT_PAYLOAD`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
  private final Map<Long, Long> startTrackingTimes = new HashMap<>();

  public EventWatcher(String name, Event<TIMEOUT_PAYLOAD> startEvent,
      Event<COMPLETION_PAYLOAD> completionEvent,
      LeaseManager<Long> leaseManager) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends COMPLETION_PAYLOAD`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java

  public EventWatcher(String name, Event<TIMEOUT_PAYLOAD> startEvent,
      Event<COMPLETION_PAYLOAD> completionEvent,
      LeaseManager<Long> leaseManager) {
    this.startEvent = startEvent;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends BlockingQueue`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/FixedThreadPoolWithAffinityExecutor.java`
#### Snippet
```java
  public FixedThreadPoolWithAffinityExecutor(
      String name, EventHandler<P> eventHandler,
      List<BlockingQueue<Q>> workQueues, EventPublisher eventPublisher,
      Class<P> clazz, List<ThreadPoolExecutor> executors,
      Map<String, FixedThreadPoolWithAffinityExecutor> executorMap) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends ThreadPoolExecutor`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/FixedThreadPoolWithAffinityExecutor.java`
#### Snippet
```java
      String name, EventHandler<P> eventHandler,
      List<BlockingQueue<Q>> workQueues, EventPublisher eventPublisher,
      Class<P> clazz, List<ThreadPoolExecutor> executors,
      Map<String, FixedThreadPoolWithAffinityExecutor> executorMap) {
    this.name = name;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends FixedThreadPoolWithAffinityExecutor`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/FixedThreadPoolWithAffinityExecutor.java`
#### Snippet
```java
    public ContainerReportProcessTask(BlockingQueue<P> queue,
        AtomicBoolean isRunning,
        Map<String, FixedThreadPoolWithAffinityExecutor> executorMap) {
      this.queue = queue;
      this.isRunning = isRunning;
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super K`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java

  @Override
  public <K, V> void move(K key, Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends V`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java

  @Override
  public <K, V> void move(K key, Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super K`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java
  @Override
  public <K, V> void move(K key, Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super V`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java
  @Override
  public <K, V> void move(K key, Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {

```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super K`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java
  @Override
  public <K, V> void move(K sourceKey, K destKey, V value,
                                Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super K`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java
  public <K, V> void move(K sourceKey, K destKey, V value,
                                Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {
      dest.putWithBatch(batchOperation, destKey, value);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super V`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBStore.java`
#### Snippet
```java
  public <K, V> void move(K sourceKey, K destKey, V value,
                                Table<K, V> source,
                                Table<K, V> dest) throws IOException {
    try (BatchOperation batchOperation = initBatchOperation()) {
      dest.putWithBatch(batchOperation, destKey, value);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends TokenVerifier`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/token/CompositeTokenVerifier.java`
#### Snippet
```java
  private final List<TokenVerifier> delegates = new LinkedList<>();

  public CompositeTokenVerifier(List<TokenVerifier> delegates) {
    this.delegates.addAll(delegates);
  }
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends U`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/ConfigurationSource.java`
#### Snippet
```java
  default <U> Class<? extends U> getClass(String name,
      Class<? extends U> defaultValue,
      Class<U> xface) {
    try {
      Class<?> theClass = getClass(name, defaultValue);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? extends OzoneFileStatus`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java

    private void removeStartKeyIfExistsInStatusList(String startKey,
        List<OzoneFileStatus> statuses) {

      if (!statuses.isEmpty()) {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java

    private void addPrevDirectoryToSeekPath(String prevKey,
        List<Pair<String, String>> seekPaths)
        throws IOException {
      try {
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super Pair`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java
     */
    private void getSeekPathsBetweenKeyPrefixAndStartKey(String keyPrefix,
        String startKey, List<Pair<String, String>> seekPaths) {

      String parentStartKeyPath = OzoneFSUtils.getParentDir(startKey);
```

### RuleId[ruleID=BoundedWildcard]
Can generalize to `? super OzoneKey`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java

    private void addKeyPrefixInfoToResultList(String keyPrefix,
        String startKey, List<OzoneKey> keysResultList) throws IOException {

      if (addedKeyPrefix) {
```

## RuleId[ruleID=MissortedModifiers]
### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientMetrics.java`
#### Snippet
```java
      .getSimpleName();

  private @Metric MutableCounterLong pendingOps;
  private @Metric MutableCounterLong totalOps;
  private @Metric MutableCounterLong ecReconstructionTotal;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong pendingOps;
  private @Metric MutableCounterLong totalOps;
  private @Metric MutableCounterLong ecReconstructionTotal;
  private @Metric MutableCounterLong ecReconstructionFailsTotal;
  private MutableCounterLong[] pendingOpsArray;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong pendingOps;
  private @Metric MutableCounterLong totalOps;
  private @Metric MutableCounterLong ecReconstructionTotal;
  private @Metric MutableCounterLong ecReconstructionFailsTotal;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong totalOps;
  private @Metric MutableCounterLong ecReconstructionTotal;
  private @Metric MutableCounterLong ecReconstructionFailsTotal;
  private MutableCounterLong[] pendingOpsArray;
  private MutableCounterLong[] opsArray;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private static @Nullable`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/fs/CachingSpaceUsageSource.java`
#### Snippet
```java
  }

  private static @Nullable ScheduledExecutorService createExecutor(
      SpaceUsageCheckParams params) {

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numHBProcessed;
  private @Metric MutableCounterLong numHBProcessingFailed;
  private @Metric MutableCounterLong numNodeReportProcessed;
  private @Metric MutableCounterLong numNodeReportProcessingFailed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numNodeReportProcessingFailed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessingFailed;
  private @Metric String textMetric;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numHBProcessingFailed;
  private @Metric MutableCounterLong numNodeReportProcessed;
  private @Metric MutableCounterLong numNodeReportProcessingFailed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessingFailed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numNodeReportProcessed;
  private @Metric MutableCounterLong numNodeReportProcessingFailed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessingFailed;
  private @Metric String textMetric;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
      SCMNodeMetrics.class.getSimpleName();

  private @Metric MutableCounterLong numHBProcessed;
  private @Metric MutableCounterLong numHBProcessingFailed;
  private @Metric MutableCounterLong numNodeReportProcessed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessingFailed;
  private @Metric String textMetric;

  private final MetricsRegistry registry;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numHBProcessed;
  private @Metric MutableCounterLong numHBProcessingFailed;
  private @Metric MutableCounterLong numNodeReportProcessed;
  private @Metric MutableCounterLong numNodeReportProcessingFailed;
  private @Metric MutableCounterLong numNodeCommandQueueReportProcessed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numPipelineReportProcessed;
  private @Metric MutableCounterLong numPipelineReportProcessingFailed;
  private @Metric MutableCounterLong numPipelineContainSameDatanodes;
  private Map<PipelineID, MutableCounterLong> numBlocksAllocated;
  private Map<PipelineID, MutableCounterLong> numBytesWritten;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numPipelineDestroyFailed;
  private @Metric MutableCounterLong numPipelineReportProcessed;
  private @Metric MutableCounterLong numPipelineReportProcessingFailed;
  private @Metric MutableCounterLong numPipelineContainSameDatanodes;
  private Map<PipelineID, MutableCounterLong> numBlocksAllocated;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numPipelineCreated;
  private @Metric MutableCounterLong numPipelineCreationFailed;
  private @Metric MutableCounterLong numPipelineDestroyed;
  private @Metric MutableCounterLong numPipelineDestroyFailed;
  private @Metric MutableCounterLong numPipelineReportProcessed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numPipelineCreationFailed;
  private @Metric MutableCounterLong numPipelineDestroyed;
  private @Metric MutableCounterLong numPipelineDestroyFailed;
  private @Metric MutableCounterLong numPipelineReportProcessed;
  private @Metric MutableCounterLong numPipelineReportProcessingFailed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private static SCMPipelineMetrics instance;

  private @Metric MutableCounterLong numPipelineAllocated;
  private @Metric MutableCounterLong numPipelineCreated;
  private @Metric MutableCounterLong numPipelineCreationFailed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numPipelineAllocated;
  private @Metric MutableCounterLong numPipelineCreated;
  private @Metric MutableCounterLong numPipelineCreationFailed;
  private @Metric MutableCounterLong numPipelineDestroyed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numPipelineDestroyed;
  private @Metric MutableCounterLong numPipelineDestroyFailed;
  private @Metric MutableCounterLong numPipelineReportProcessed;
  private @Metric MutableCounterLong numPipelineReportProcessingFailed;
  private @Metric MutableCounterLong numPipelineContainSameDatanodes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/SCMPipelineMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numPipelineAllocated;
  private @Metric MutableCounterLong numPipelineCreated;
  private @Metric MutableCounterLong numPipelineCreationFailed;
  private @Metric MutableCounterLong numPipelineDestroyed;
  private @Metric MutableCounterLong numPipelineDestroyFailed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numHealthyPipelinesThreshold;
  private @Metric MutableCounterLong currentHealthyPipelinesCount;
  private @Metric MutableCounterLong
      numPipelinesWithAtleastOneReplicaReportedThreshold;
  private @Metric MutableCounterLong
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong
      numPipelinesWithAtleastOneReplicaReportedThreshold;
  private @Metric MutableCounterLong
      currentPipelinesWithAtleastOneReplicaReportedCount;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeMetrics.java`
#### Snippet
```java
  // below metrics will have some values, otherwise they will be zero.
  private @Metric MutableCounterLong numHealthyPipelinesThreshold;
  private @Metric MutableCounterLong currentHealthyPipelinesCount;
  private @Metric MutableCounterLong
      numPipelinesWithAtleastOneReplicaReportedThreshold;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeMetrics.java`
#### Snippet
```java
  // When hdds.scm.safemode.pipeline-availability.check is set then only
  // below metrics will have some values, otherwise they will be zero.
  private @Metric MutableCounterLong numHealthyPipelinesThreshold;
  private @Metric MutableCounterLong currentHealthyPipelinesCount;
  private @Metric MutableCounterLong
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeMetrics.java`
#### Snippet
```java

  // These all values will be set to some values when safemode is enabled.
  private @Metric MutableCounterLong
      numContainerWithOneReplicaReportedThreshold;
  private @Metric MutableCounterLong
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong
      numContainerWithOneReplicaReportedThreshold;
  private @Metric MutableCounterLong
      currentContainersWithOneReplicaReportedCount;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numSuccessfulDeleteContainers;
  private @Metric MutableCounterLong numFailureDeleteContainers;
  private @Metric MutableCounterLong numListContainerOps;


```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java
  // of create/delete containers in SCM.

  private @Metric MutableCounterLong numSuccessfulCreateContainers;
  private @Metric MutableCounterLong numFailureCreateContainers;
  private @Metric MutableCounterLong numSuccessfulDeleteContainers;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numContainerReportsProcessedSuccessful;
  private @Metric MutableCounterLong numContainerReportsProcessedFailed;
  private @Metric MutableCounterLong numICRReportsProcessedSuccessful;
  private @Metric MutableCounterLong numICRReportsProcessedFailed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numFailureCreateContainers;
  private @Metric MutableCounterLong numSuccessfulDeleteContainers;
  private @Metric MutableCounterLong numFailureDeleteContainers;
  private @Metric MutableCounterLong numListContainerOps;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java


  private @Metric MutableCounterLong numContainerReportsProcessedSuccessful;
  private @Metric MutableCounterLong numContainerReportsProcessedFailed;
  private @Metric MutableCounterLong numICRReportsProcessedSuccessful;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numContainerReportsProcessedSuccessful;
  private @Metric MutableCounterLong numContainerReportsProcessedFailed;
  private @Metric MutableCounterLong numICRReportsProcessedSuccessful;
  private @Metric MutableCounterLong numICRReportsProcessedFailed;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numContainerReportsProcessedFailed;
  private @Metric MutableCounterLong numICRReportsProcessedSuccessful;
  private @Metric MutableCounterLong numICRReportsProcessedFailed;

  private SCMContainerManagerMetrics() {
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numSuccessfulCreateContainers;
  private @Metric MutableCounterLong numFailureCreateContainers;
  private @Metric MutableCounterLong numSuccessfulDeleteContainers;
  private @Metric MutableCounterLong numFailureDeleteContainers;
  private @Metric MutableCounterLong numListContainerOps;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/metrics/SCMContainerManagerMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numSuccessfulCreateContainers;
  private @Metric MutableCounterLong numFailureCreateContainers;
  private @Metric MutableCounterLong numSuccessfulDeleteContainers;
  private @Metric MutableCounterLong numFailureDeleteContainers;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeInfos;
  private @Metric MutableCounterLong numVolumeCheckAccesses;
  private @Metric MutableCounterLong numBucketCreates;
  private @Metric MutableCounterLong numFSOBucketCreates;
  private @Metric MutableCounterLong numVolumeDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numGetFileStatusFails;
  private @Metric MutableCounterLong numCreateDirectoryFails;
  private @Metric MutableCounterLong numCreateFileFails;
  private @Metric MutableCounterLong numLookupFileFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  //EC Metrics
  private @Metric MutableCounterLong ecKeyCreateTotal;
  private @Metric MutableCounterLong ecKeyCreateFailsTotal;
  private @Metric MutableCounterLong ecBucketCreateTotal;
  private @Metric MutableCounterLong ecBucketCreateFailsTotal;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeDeleteFails;
  private @Metric MutableCounterLong numBucketCreateFails;
  private @Metric MutableCounterLong numVolumeCheckAccessFails;
  private @Metric MutableCounterLong numBucketInfoFails;
  private @Metric MutableCounterLong numBucketUpdateFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numListStatus;

  private @Metric MutableCounterLong numOpenKeyDeleteRequests;
  private @Metric MutableCounterLong numOpenKeysSubmittedForDeletion;
  private @Metric MutableCounterLong numOpenKeysDeleted;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantCreateFails;
  // Metrics for tenant delete operation
  private @Metric MutableCounterLong numTenantDeletes;
  private @Metric MutableCounterLong numTenantDeleteFails;
  // Metrics for tenant assign user operation
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketS3Creates;
  private @Metric MutableCounterLong numBucketS3CreateFails;
  private @Metric MutableCounterLong numBucketS3Deletes;
  private @Metric MutableCounterLong numBucketS3DeleteFails;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantLists;
  // Metric for tenant get user info
  private @Metric MutableCounterLong numTenantGetUserInfos;
  // Metric for list users in tenant operation
  private @Metric MutableCounterLong numTenantTenantUserLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketCreates;
  private @Metric MutableCounterLong numFSOBucketCreates;
  private @Metric MutableCounterLong numVolumeDeletes;
  private @Metric MutableCounterLong numBucketInfos;
  private @Metric MutableCounterLong numBucketUpdates;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numAddAcl;
  private @Metric MutableCounterLong numSetAcl;
  private @Metric MutableCounterLong numGetAcl;
  private @Metric MutableCounterLong numRemoveAcl;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numFSOBucketDeletes;
  private @Metric MutableCounterLong numKeyAllocate;
  private @Metric MutableCounterLong numKeyLookup;
  private @Metric MutableCounterLong numKeyRenames;
  private @Metric MutableCounterLong numKeyDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketInfos;
  private @Metric MutableCounterLong numBucketUpdates;
  private @Metric MutableCounterLong numBucketDeletes;
  private @Metric MutableCounterLong numFSOBucketDeletes;
  private @Metric MutableCounterLong numKeyAllocate;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashRootsProcessed;
  private @Metric MutableCounterLong numTrashAtomicDirRenames;
  private @Metric MutableCounterLong numTrashAtomicDirDeletes;

  //FSO Metrics
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numAbortMultipartUploadFails;
  private @Metric MutableCounterLong numListMultipartUploadParts;
  private @Metric MutableCounterLong numListMultipartUploadPartFails;
  private @Metric MutableCounterLong numOpenKeyDeleteRequestFails;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numAbortMultipartUploads;
  private @Metric MutableCounterLong numAbortMultipartUploadFails;
  private @Metric MutableCounterLong numListMultipartUploadParts;
  private @Metric MutableCounterLong numListMultipartUploadPartFails;
  private @Metric MutableCounterLong numOpenKeyDeleteRequestFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketS3CreateFails;
  private @Metric MutableCounterLong numBucketS3Deletes;
  private @Metric MutableCounterLong numBucketS3DeleteFails;

  private @Metric MutableCounterLong numListMultipartUploadFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantRevokeAdminFails;
  // Metric for tenant list operation
  private @Metric MutableCounterLong numTenantLists;
  // Metric for tenant get user info
  private @Metric MutableCounterLong numTenantGetUserInfos;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantGetUserInfos;
  // Metric for list users in tenant operation
  private @Metric MutableCounterLong numTenantTenantUserLists;

  private @Metric MutableCounterLong numGetFileStatusFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyDeletes;
  private @Metric MutableCounterLong numBucketLists;
  private @Metric MutableCounterLong numKeyLists;
  private @Metric MutableCounterLong numTrashKeyLists;
  private @Metric MutableCounterLong numVolumeLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketS3DeleteFails;

  private @Metric MutableCounterLong numListMultipartUploadFails;
  private @Metric MutableCounterLong numListMultipartUploads;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numVolumes;
  private @Metric MutableCounterLong numBuckets;
  private @Metric MutableCounterLong numS3Buckets;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketS3ListFails;
  private @Metric MutableCounterLong numInitiateMultipartUploadFails;
  private @Metric MutableCounterLong numCommitMultipartUploadParts;
  private @Metric MutableCounterLong numCommitMultipartUploadPartFails;
  private @Metric MutableCounterLong numCompleteMultipartUploadFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  // Metrics related to OM Trash.
  private @Metric MutableCounterLong numTrashRenames;
  private @Metric MutableCounterLong numTrashDeletes;
  private @Metric MutableCounterLong numTrashListStatus;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for total number of volumes, buckets and keys

  private @Metric MutableCounterLong numVolumes;
  private @Metric MutableCounterLong numBuckets;
  private @Metric MutableCounterLong numS3Buckets;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantAssignAdminFails;
  // Metrics for tenant revoke admin operation
  private @Metric MutableCounterLong numTenantRevokeAdmins;
  private @Metric MutableCounterLong numTenantRevokeAdminFails;
  // Metric for tenant list operation
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeUpdates;
  private @Metric MutableCounterLong numVolumeInfos;
  private @Metric MutableCounterLong numVolumeCheckAccesses;
  private @Metric MutableCounterLong numBucketCreates;
  private @Metric MutableCounterLong numFSOBucketCreates;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketListFails;
  private @Metric MutableCounterLong numKeyListFails;
  private @Metric MutableCounterLong numTrashKeyListFails;
  private @Metric MutableCounterLong numVolumeListFails;
  private @Metric MutableCounterLong numKeyCommitFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for tenant assign admin operation
  private @Metric MutableCounterLong numTenantAssignAdmins;
  private @Metric MutableCounterLong numTenantAssignAdminFails;
  // Metrics for tenant revoke admin operation
  private @Metric MutableCounterLong numTenantRevokeAdmins;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeCreates;
  private @Metric MutableCounterLong numVolumeUpdates;
  private @Metric MutableCounterLong numVolumeInfos;
  private @Metric MutableCounterLong numVolumeCheckAccesses;
  private @Metric MutableCounterLong numBucketCreates;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashListStatus;
  private @Metric MutableCounterLong numTrashGetFileStatus;
  private @Metric MutableCounterLong numTrashGetTrashRoots;
  private @Metric MutableCounterLong numTrashExists;
  private @Metric MutableCounterLong numTrashWriteRequests;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketDeleteFails;
  private @Metric MutableCounterLong numKeyAllocateFails;
  private @Metric MutableCounterLong numKeyLookupFails;
  private @Metric MutableCounterLong numKeyRenameFails;
  private @Metric MutableCounterLong numKeyDeleteFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  // Failure Metrics
  private @Metric MutableCounterLong numVolumeCreateFails;
  private @Metric MutableCounterLong numVolumeUpdateFails;
  private @Metric MutableCounterLong numVolumeInfoFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyCommits;
  private @Metric MutableCounterLong numBlockAllocations;
  private @Metric MutableCounterLong numGetServiceLists;
  private @Metric MutableCounterLong numBucketS3Lists;
  private @Metric MutableCounterLong numInitiateMultipartUploads;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numListMultipartUploadFails;
  private @Metric MutableCounterLong numListMultipartUploads;

  // Metrics related to OM Trash.
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCommitMultipartUploadParts;
  private @Metric MutableCounterLong numCommitMultipartUploadPartFails;
  private @Metric MutableCounterLong numCompleteMultipartUploadFails;
  private @Metric MutableCounterLong numAbortMultipartUploads;
  private @Metric MutableCounterLong numAbortMultipartUploadFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumes;
  private @Metric MutableCounterLong numBuckets;
  private @Metric MutableCounterLong numS3Buckets;

  //TODO: This metric is an estimate and it may be inaccurate on restart if the
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numLookupFileFails;
  private @Metric MutableCounterLong numListStatusFails;
  private @Metric MutableCounterLong getNumGetKeyInfoFails;

  // Metrics for total amount of data written
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // OM request type op metrics
  private @Metric MutableCounterLong numVolumeOps;
  private @Metric MutableCounterLong numBucketOps;
  private @Metric MutableCounterLong numKeyOps;
  private @Metric MutableCounterLong numFSOps;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  // Metrics for total amount of data written
  private @Metric MutableCounterLong totalDataCommitted;

  // Metrics for total number of volumes, buckets and keys
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBlockAllocations;
  private @Metric MutableCounterLong numGetServiceLists;
  private @Metric MutableCounterLong numBucketS3Lists;
  private @Metric MutableCounterLong numInitiateMultipartUploads;
  private @Metric MutableCounterLong numCompleteMultipartUploads;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashKeyListFails;
  private @Metric MutableCounterLong numVolumeListFails;
  private @Metric MutableCounterLong numKeyCommitFails;
  private @Metric MutableCounterLong numBlockAllocationFails;
  private @Metric MutableCounterLong numGetServiceListFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketDeletes;
  private @Metric MutableCounterLong numFSOBucketDeletes;
  private @Metric MutableCounterLong numKeyAllocate;
  private @Metric MutableCounterLong numKeyLookup;
  private @Metric MutableCounterLong numKeyRenames;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashFilesDeletes;
  private @Metric MutableCounterLong numTrashActiveCycles;
  private @Metric MutableCounterLong numTrashCheckpointsProcessed;
  private @Metric MutableCounterLong numTrashFails;
  private @Metric MutableCounterLong numTrashRootsEnqueued;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketOps;
  private @Metric MutableCounterLong numKeyOps;
  private @Metric MutableCounterLong numFSOps;

  // OM op metrics
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCompleteMultipartUploads;

  private @Metric MutableCounterLong numGetFileStatus;
  private @Metric MutableCounterLong numCreateDirectory;
  private @Metric MutableCounterLong numCreateFile;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong ecKeyCreateTotal;
  private @Metric MutableCounterLong ecKeyCreateFailsTotal;
  private @Metric MutableCounterLong ecBucketCreateTotal;
  private @Metric MutableCounterLong ecBucketCreateFailsTotal;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numGetFileStatus;
  private @Metric MutableCounterLong numCreateDirectory;
  private @Metric MutableCounterLong numCreateFile;
  private @Metric MutableCounterLong numLookupFile;
  private @Metric MutableCounterLong numListStatus;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyAllocate;
  private @Metric MutableCounterLong numKeyLookup;
  private @Metric MutableCounterLong numKeyRenames;
  private @Metric MutableCounterLong numKeyDeletes;
  private @Metric MutableCounterLong numBucketLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for tenant assign user operation
  private @Metric MutableCounterLong numTenantAssignUsers;
  private @Metric MutableCounterLong numTenantAssignUserFails;
  // Metrics for tenant revoke user operation
  private @Metric MutableCounterLong numTenantRevokeUsers;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketUpdateFails;
  private @Metric MutableCounterLong numBucketDeleteFails;
  private @Metric MutableCounterLong numKeyAllocateFails;
  private @Metric MutableCounterLong numKeyLookupFails;
  private @Metric MutableCounterLong numKeyRenameFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for tenant delete operation
  private @Metric MutableCounterLong numTenantDeletes;
  private @Metric MutableCounterLong numTenantDeleteFails;
  // Metrics for tenant assign user operation
  private @Metric MutableCounterLong numTenantAssignUsers;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics related to OM Trash.
  private @Metric MutableCounterLong numTrashRenames;
  private @Metric MutableCounterLong numTrashDeletes;
  private @Metric MutableCounterLong numTrashListStatus;
  private @Metric MutableCounterLong numTrashGetFileStatus;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  // OM op metrics
  private @Metric MutableCounterLong numVolumeCreates;
  private @Metric MutableCounterLong numVolumeUpdates;
  private @Metric MutableCounterLong numVolumeInfos;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketCreateFails;
  private @Metric MutableCounterLong numVolumeCheckAccessFails;
  private @Metric MutableCounterLong numBucketInfoFails;
  private @Metric MutableCounterLong numBucketUpdateFails;
  private @Metric MutableCounterLong numBucketDeleteFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashRootsEnqueued;
  private @Metric MutableCounterLong numTrashRootsProcessed;
  private @Metric MutableCounterLong numTrashAtomicDirRenames;
  private @Metric MutableCounterLong numTrashAtomicDirDeletes;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashFilesRenames;
  private @Metric MutableCounterLong numTrashFilesDeletes;
  private @Metric MutableCounterLong numTrashActiveCycles;
  private @Metric MutableCounterLong numTrashCheckpointsProcessed;
  private @Metric MutableCounterLong numTrashFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numBucketS3Creates;
  private @Metric MutableCounterLong numBucketS3CreateFails;
  private @Metric MutableCounterLong numBucketS3Deletes;
  private @Metric MutableCounterLong numBucketS3DeleteFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantAssignUserFails;
  // Metrics for tenant revoke user operation
  private @Metric MutableCounterLong numTenantRevokeUsers;
  private @Metric MutableCounterLong numTenantRevokeUserFails;
  // Metrics for tenant assign admin operation
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeCheckAccesses;
  private @Metric MutableCounterLong numBucketCreates;
  private @Metric MutableCounterLong numFSOBucketCreates;
  private @Metric MutableCounterLong numVolumeDeletes;
  private @Metric MutableCounterLong numBucketInfos;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashGetFileStatus;
  private @Metric MutableCounterLong numTrashGetTrashRoots;
  private @Metric MutableCounterLong numTrashExists;
  private @Metric MutableCounterLong numTrashWriteRequests;
  private @Metric MutableCounterLong numTrashFilesRenames;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyLists;
  private @Metric MutableCounterLong numTrashKeyLists;
  private @Metric MutableCounterLong numVolumeLists;
  private @Metric MutableCounterLong numKeyCommits;
  private @Metric MutableCounterLong numBlockAllocations;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketInfoFails;
  private @Metric MutableCounterLong numBucketUpdateFails;
  private @Metric MutableCounterLong numBucketDeleteFails;
  private @Metric MutableCounterLong numKeyAllocateFails;
  private @Metric MutableCounterLong numKeyLookupFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeCheckAccessFails;
  private @Metric MutableCounterLong numBucketInfoFails;
  private @Metric MutableCounterLong numBucketUpdateFails;
  private @Metric MutableCounterLong numBucketDeleteFails;
  private @Metric MutableCounterLong numKeyAllocateFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantTenantUserLists;

  private @Metric MutableCounterLong numGetFileStatusFails;
  private @Metric MutableCounterLong numCreateDirectoryFails;
  private @Metric MutableCounterLong numCreateFileFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketLists;
  private @Metric MutableCounterLong numKeyLists;
  private @Metric MutableCounterLong numTrashKeyLists;
  private @Metric MutableCounterLong numVolumeLists;
  private @Metric MutableCounterLong numKeyCommits;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantDeleteFails;
  // Metrics for tenant assign user operation
  private @Metric MutableCounterLong numTenantAssignUsers;
  private @Metric MutableCounterLong numTenantAssignUserFails;
  // Metrics for tenant revoke user operation
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Failure Metrics
  private @Metric MutableCounterLong numVolumeCreateFails;
  private @Metric MutableCounterLong numVolumeUpdateFails;
  private @Metric MutableCounterLong numVolumeInfoFails;
  private @Metric MutableCounterLong numVolumeDeleteFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numGetFileStatus;
  private @Metric MutableCounterLong numCreateDirectory;
  private @Metric MutableCounterLong numCreateFile;
  private @Metric MutableCounterLong numLookupFile;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numGetAcl;
  private @Metric MutableCounterLong numRemoveAcl;
  private @Metric MutableCounterLong numGetKeyInfo;

  // Failure Metrics
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyLookup;
  private @Metric MutableCounterLong numKeyRenames;
  private @Metric MutableCounterLong numKeyDeletes;
  private @Metric MutableCounterLong numBucketLists;
  private @Metric MutableCounterLong numKeyLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCreateFileFails;
  private @Metric MutableCounterLong numLookupFileFails;
  private @Metric MutableCounterLong numListStatusFails;
  private @Metric MutableCounterLong getNumGetKeyInfoFails;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  // Number of tenant operations attempted
  private @Metric MutableCounterLong numTenantOps;
  // Metrics for a total number of tenants
  private @Metric MutableCounterLong numTenants;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeUpdateFails;
  private @Metric MutableCounterLong numVolumeInfoFails;
  private @Metric MutableCounterLong numVolumeDeleteFails;
  private @Metric MutableCounterLong numBucketCreateFails;
  private @Metric MutableCounterLong numVolumeCheckAccessFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeDeletes;
  private @Metric MutableCounterLong numBucketInfos;
  private @Metric MutableCounterLong numBucketUpdates;
  private @Metric MutableCounterLong numBucketDeletes;
  private @Metric MutableCounterLong numFSOBucketDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyLookupFails;
  private @Metric MutableCounterLong numKeyRenameFails;
  private @Metric MutableCounterLong numKeyDeleteFails;
  private @Metric MutableCounterLong numBucketListFails;
  private @Metric MutableCounterLong numKeyListFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyCommitFails;
  private @Metric MutableCounterLong numBlockAllocationFails;
  private @Metric MutableCounterLong numGetServiceListFails;
  private @Metric MutableCounterLong numBucketS3ListFails;
  private @Metric MutableCounterLong numInitiateMultipartUploadFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeCreateFails;
  private @Metric MutableCounterLong numVolumeUpdateFails;
  private @Metric MutableCounterLong numVolumeInfoFails;
  private @Metric MutableCounterLong numVolumeDeleteFails;
  private @Metric MutableCounterLong numBucketCreateFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCreateDirectoryFails;
  private @Metric MutableCounterLong numCreateFileFails;
  private @Metric MutableCounterLong numLookupFileFails;
  private @Metric MutableCounterLong numListStatusFails;
  private @Metric MutableCounterLong getNumGetKeyInfoFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantRevokeUserFails;
  // Metrics for tenant assign admin operation
  private @Metric MutableCounterLong numTenantAssignAdmins;
  private @Metric MutableCounterLong numTenantAssignAdminFails;
  // Metrics for tenant revoke admin operation
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // OM process was not shutdown cleanly. Key creations/deletions in the last
  // few minutes before restart may not be included in this count.
  private @Metric MutableCounterLong numKeys;

  private @Metric MutableCounterLong numBucketS3Creates;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenants;
  // Metrics for tenant create operation
  private @Metric MutableCounterLong numTenantCreates;
  private @Metric MutableCounterLong numTenantCreateFails;
  // Metrics for tenant delete operation
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numListMultipartUploadParts;
  private @Metric MutableCounterLong numListMultipartUploadPartFails;
  private @Metric MutableCounterLong numOpenKeyDeleteRequestFails;

  // Number of tenant operations attempted
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numAddAcl;
  private @Metric MutableCounterLong numSetAcl;
  private @Metric MutableCounterLong numGetAcl;
  private @Metric MutableCounterLong numRemoveAcl;
  private @Metric MutableCounterLong numGetKeyInfo;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyListFails;
  private @Metric MutableCounterLong numTrashKeyListFails;
  private @Metric MutableCounterLong numVolumeListFails;
  private @Metric MutableCounterLong numKeyCommitFails;
  private @Metric MutableCounterLong numBlockAllocationFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashFails;
  private @Metric MutableCounterLong numTrashRootsEnqueued;
  private @Metric MutableCounterLong numTrashRootsProcessed;
  private @Metric MutableCounterLong numTrashAtomicDirRenames;
  private @Metric MutableCounterLong numTrashAtomicDirDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCreateFile;
  private @Metric MutableCounterLong numLookupFile;
  private @Metric MutableCounterLong numListStatus;

  private @Metric MutableCounterLong numOpenKeyDeleteRequests;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashWriteRequests;
  private @Metric MutableCounterLong numTrashFilesRenames;
  private @Metric MutableCounterLong numTrashFilesDeletes;
  private @Metric MutableCounterLong numTrashActiveCycles;
  private @Metric MutableCounterLong numTrashCheckpointsProcessed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeys;

  private @Metric MutableCounterLong numBucketS3Creates;
  private @Metric MutableCounterLong numBucketS3CreateFails;
  private @Metric MutableCounterLong numBucketS3Deletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for tenant revoke user operation
  private @Metric MutableCounterLong numTenantRevokeUsers;
  private @Metric MutableCounterLong numTenantRevokeUserFails;
  // Metrics for tenant assign admin operation
  private @Metric MutableCounterLong numTenantAssignAdmins;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashDeletes;
  private @Metric MutableCounterLong numTrashListStatus;
  private @Metric MutableCounterLong numTrashGetFileStatus;
  private @Metric MutableCounterLong numTrashGetTrashRoots;
  private @Metric MutableCounterLong numTrashExists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numFSOBucketCreates;
  private @Metric MutableCounterLong numVolumeDeletes;
  private @Metric MutableCounterLong numBucketInfos;
  private @Metric MutableCounterLong numBucketUpdates;
  private @Metric MutableCounterLong numBucketDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeListFails;
  private @Metric MutableCounterLong numKeyCommitFails;
  private @Metric MutableCounterLong numBlockAllocationFails;
  private @Metric MutableCounterLong numGetServiceListFails;
  private @Metric MutableCounterLong numBucketS3ListFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // OM op metrics
  private @Metric MutableCounterLong numVolumeCreates;
  private @Metric MutableCounterLong numVolumeUpdates;
  private @Metric MutableCounterLong numVolumeInfos;
  private @Metric MutableCounterLong numVolumeCheckAccesses;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyAllocateFails;
  private @Metric MutableCounterLong numKeyLookupFails;
  private @Metric MutableCounterLong numKeyRenameFails;
  private @Metric MutableCounterLong numKeyDeleteFails;
  private @Metric MutableCounterLong numBucketListFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyRenames;
  private @Metric MutableCounterLong numKeyDeletes;
  private @Metric MutableCounterLong numBucketLists;
  private @Metric MutableCounterLong numKeyLists;
  private @Metric MutableCounterLong numTrashKeyLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numOpenKeyDeleteRequests;
  private @Metric MutableCounterLong numOpenKeysSubmittedForDeletion;
  private @Metric MutableCounterLong numOpenKeysDeleted;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numOpenKeysDeleted;

  private @Metric MutableCounterLong numAddAcl;
  private @Metric MutableCounterLong numSetAcl;
  private @Metric MutableCounterLong numGetAcl;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  //FSO Metrics
  private @Metric MutableCounterLong numDirs;
  private @Metric MutableCounterLong numFiles;

  //EC Metrics
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  // OM request type op metrics
  private @Metric MutableCounterLong numVolumeOps;
  private @Metric MutableCounterLong numBucketOps;
  private @Metric MutableCounterLong numKeyOps;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for tenant revoke admin operation
  private @Metric MutableCounterLong numTenantRevokeAdmins;
  private @Metric MutableCounterLong numTenantRevokeAdminFails;
  // Metric for tenant list operation
  private @Metric MutableCounterLong numTenantLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBlockAllocationFails;
  private @Metric MutableCounterLong numGetServiceListFails;
  private @Metric MutableCounterLong numBucketS3ListFails;
  private @Metric MutableCounterLong numInitiateMultipartUploadFails;
  private @Metric MutableCounterLong numCommitMultipartUploadParts;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashGetTrashRoots;
  private @Metric MutableCounterLong numTrashExists;
  private @Metric MutableCounterLong numTrashWriteRequests;
  private @Metric MutableCounterLong numTrashFilesRenames;
  private @Metric MutableCounterLong numTrashFilesDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketUpdates;
  private @Metric MutableCounterLong numBucketDeletes;
  private @Metric MutableCounterLong numFSOBucketDeletes;
  private @Metric MutableCounterLong numKeyAllocate;
  private @Metric MutableCounterLong numKeyLookup;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyRenameFails;
  private @Metric MutableCounterLong numKeyDeleteFails;
  private @Metric MutableCounterLong numBucketListFails;
  private @Metric MutableCounterLong numKeyListFails;
  private @Metric MutableCounterLong numTrashKeyListFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  // Metrics for tenant create operation
  private @Metric MutableCounterLong numTenantCreates;
  private @Metric MutableCounterLong numTenantCreateFails;
  // Metrics for tenant delete operation
  private @Metric MutableCounterLong numTenantDeletes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashActiveCycles;
  private @Metric MutableCounterLong numTrashCheckpointsProcessed;
  private @Metric MutableCounterLong numTrashFails;
  private @Metric MutableCounterLong numTrashRootsEnqueued;
  private @Metric MutableCounterLong numTrashRootsProcessed;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeInfoFails;
  private @Metric MutableCounterLong numVolumeDeleteFails;
  private @Metric MutableCounterLong numBucketCreateFails;
  private @Metric MutableCounterLong numVolumeCheckAccessFails;
  private @Metric MutableCounterLong numBucketInfoFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numGetServiceLists;
  private @Metric MutableCounterLong numBucketS3Lists;
  private @Metric MutableCounterLong numInitiateMultipartUploads;
  private @Metric MutableCounterLong numCompleteMultipartUploads;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numGetFileStatusFails;
  private @Metric MutableCounterLong numCreateDirectoryFails;
  private @Metric MutableCounterLong numCreateFileFails;
  private @Metric MutableCounterLong numLookupFileFails;
  private @Metric MutableCounterLong numListStatusFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numSetAcl;
  private @Metric MutableCounterLong numGetAcl;
  private @Metric MutableCounterLong numRemoveAcl;
  private @Metric MutableCounterLong numGetKeyInfo;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCreateDirectory;
  private @Metric MutableCounterLong numCreateFile;
  private @Metric MutableCounterLong numLookupFile;
  private @Metric MutableCounterLong numListStatus;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashKeyLists;
  private @Metric MutableCounterLong numVolumeLists;
  private @Metric MutableCounterLong numKeyCommits;
  private @Metric MutableCounterLong numBlockAllocations;
  private @Metric MutableCounterLong numGetServiceLists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTenantOps;
  // Metrics for a total number of tenants
  private @Metric MutableCounterLong numTenants;
  // Metrics for tenant create operation
  private @Metric MutableCounterLong numTenantCreates;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCompleteMultipartUploadFails;
  private @Metric MutableCounterLong numAbortMultipartUploads;
  private @Metric MutableCounterLong numAbortMultipartUploadFails;
  private @Metric MutableCounterLong numListMultipartUploadParts;
  private @Metric MutableCounterLong numListMultipartUploadPartFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  //FSO Metrics
  private @Metric MutableCounterLong numDirs;
  private @Metric MutableCounterLong numFiles;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeOps;
  private @Metric MutableCounterLong numBucketOps;
  private @Metric MutableCounterLong numKeyOps;
  private @Metric MutableCounterLong numFSOps;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numGetServiceListFails;
  private @Metric MutableCounterLong numBucketS3ListFails;
  private @Metric MutableCounterLong numInitiateMultipartUploadFails;
  private @Metric MutableCounterLong numCommitMultipartUploadParts;
  private @Metric MutableCounterLong numCommitMultipartUploadPartFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashCheckpointsProcessed;
  private @Metric MutableCounterLong numTrashFails;
  private @Metric MutableCounterLong numTrashRootsEnqueued;
  private @Metric MutableCounterLong numTrashRootsProcessed;
  private @Metric MutableCounterLong numTrashAtomicDirRenames;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java

  //EC Metrics
  private @Metric MutableCounterLong ecKeyCreateTotal;
  private @Metric MutableCounterLong ecKeyCreateFailsTotal;
  private @Metric MutableCounterLong ecBucketCreateTotal;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBucketS3Lists;
  private @Metric MutableCounterLong numInitiateMultipartUploads;
  private @Metric MutableCounterLong numCompleteMultipartUploads;

  private @Metric MutableCounterLong numGetFileStatus;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numVolumeLists;
  private @Metric MutableCounterLong numKeyCommits;
  private @Metric MutableCounterLong numBlockAllocations;
  private @Metric MutableCounterLong numGetServiceLists;
  private @Metric MutableCounterLong numBucketS3Lists;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashExists;
  private @Metric MutableCounterLong numTrashWriteRequests;
  private @Metric MutableCounterLong numTrashFilesRenames;
  private @Metric MutableCounterLong numTrashFilesDeletes;
  private @Metric MutableCounterLong numTrashActiveCycles;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numTrashRenames;
  private @Metric MutableCounterLong numTrashDeletes;
  private @Metric MutableCounterLong numTrashListStatus;
  private @Metric MutableCounterLong numTrashGetFileStatus;
  private @Metric MutableCounterLong numTrashGetTrashRoots;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong ecKeyCreateFailsTotal;
  private @Metric MutableCounterLong ecBucketCreateTotal;
  private @Metric MutableCounterLong ecBucketCreateFailsTotal;

  private final DBCheckpointMetrics dbCheckpointMetrics;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numInitiateMultipartUploadFails;
  private @Metric MutableCounterLong numCommitMultipartUploadParts;
  private @Metric MutableCounterLong numCommitMultipartUploadPartFails;
  private @Metric MutableCounterLong numCompleteMultipartUploadFails;
  private @Metric MutableCounterLong numAbortMultipartUploads;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numCommitMultipartUploadPartFails;
  private @Metric MutableCounterLong numCompleteMultipartUploadFails;
  private @Metric MutableCounterLong numAbortMultipartUploads;
  private @Metric MutableCounterLong numAbortMultipartUploadFails;
  private @Metric MutableCounterLong numListMultipartUploadParts;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numKeyDeleteFails;
  private @Metric MutableCounterLong numBucketListFails;
  private @Metric MutableCounterLong numKeyListFails;
  private @Metric MutableCounterLong numTrashKeyListFails;
  private @Metric MutableCounterLong numVolumeListFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numOpenKeyDeleteRequests;
  private @Metric MutableCounterLong numOpenKeysSubmittedForDeletion;
  private @Metric MutableCounterLong numOpenKeysDeleted;

  private @Metric MutableCounterLong numAddAcl;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionMetrics.java`
#### Snippet
```java
      ECReconstructionMetrics.class.getSimpleName();

  private @Metric MutableCounterLong blockGroupReconstructionTotal;
  private @Metric MutableCounterLong blockGroupReconstructionFailsTotal;
  private @Metric MutableCounterLong reconstructionTotal;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong blockGroupReconstructionTotal;
  private @Metric MutableCounterLong blockGroupReconstructionFailsTotal;
  private @Metric MutableCounterLong reconstructionTotal;
  private @Metric MutableCounterLong reconstructionFailsTotal;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong blockGroupReconstructionTotal;
  private @Metric MutableCounterLong blockGroupReconstructionFailsTotal;
  private @Metric MutableCounterLong reconstructionTotal;
  private @Metric MutableCounterLong reconstructionFailsTotal;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong blockGroupReconstructionFailsTotal;
  private @Metric MutableCounterLong reconstructionTotal;
  private @Metric MutableCounterLong reconstructionFailsTotal;

  private ECReconstructionMetrics() {
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java`
#### Snippet
```java
  private @Metric MutableCounterLong writeOpCount;
  private @Metric MutableCounterLong readTime;
  private @Metric MutableCounterLong writeTime;

  @Deprecated
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java`
#### Snippet
```java
  private String metricsSourceName = VolumeIOStats.class.getSimpleName();
  private String storageDirectory;
  private @Metric MutableCounterLong readBytes;
  private @Metric MutableCounterLong readOpCount;
  private @Metric MutableCounterLong writeBytes;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java`
#### Snippet
```java
  private String storageDirectory;
  private @Metric MutableCounterLong readBytes;
  private @Metric MutableCounterLong readOpCount;
  private @Metric MutableCounterLong writeBytes;
  private @Metric MutableCounterLong writeOpCount;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java`
#### Snippet
```java
  private @Metric MutableCounterLong readOpCount;
  private @Metric MutableCounterLong writeBytes;
  private @Metric MutableCounterLong writeOpCount;
  private @Metric MutableCounterLong readTime;
  private @Metric MutableCounterLong writeTime;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java`
#### Snippet
```java
  private @Metric MutableCounterLong writeBytes;
  private @Metric MutableCounterLong writeOpCount;
  private @Metric MutableCounterLong readTime;
  private @Metric MutableCounterLong writeTime;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/VolumeIOStats.java`
#### Snippet
```java
  private @Metric MutableCounterLong readBytes;
  private @Metric MutableCounterLong readOpCount;
  private @Metric MutableCounterLong writeBytes;
  private @Metric MutableCounterLong writeOpCount;
  private @Metric MutableCounterLong readTime;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numReadStateMachineMissCount;
  private @Metric MutableCounterLong numStartTransactionVerifyFailures;
  private @Metric MutableCounterLong numContainerNotOpenVerifyFailures;
  private @Metric MutableCounterLong numDataCacheMiss;
  private @Metric MutableCounterLong numDataCacheHit;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numApplyTransactionFails;
  private @Metric MutableCounterLong numReadStateMachineFails;
  private @Metric MutableCounterLong numReadStateMachineMissCount;
  private @Metric MutableCounterLong numStartTransactionVerifyFailures;
  private @Metric MutableCounterLong numContainerNotOpenVerifyFailures;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numContainerNotOpenVerifyFailures;
  private @Metric MutableCounterLong numDataCacheMiss;
  private @Metric MutableCounterLong numDataCacheHit;

  private @Metric MutableRate applyTransaction;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numQueryStateMachineFails;
  private @Metric MutableCounterLong numApplyTransactionFails;
  private @Metric MutableCounterLong numReadStateMachineFails;
  private @Metric MutableCounterLong numReadStateMachineMissCount;
  private @Metric MutableCounterLong numStartTransactionVerifyFailures;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java

  private @Metric MutableRate applyTransaction;
  private @Metric MutableRate writeStateMachineData;

  public CSMMetrics() {
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numDataCacheHit;

  private @Metric MutableRate applyTransaction;
  private @Metric MutableRate writeStateMachineData;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numQueryStateMachineOps;
  private @Metric MutableCounterLong numApplyTransactionOps;
  private @Metric MutableCounterLong numReadStateMachineOps;
  private @Metric MutableCounterLong numBytesWrittenCount;
  private @Metric MutableCounterLong numBytesCommittedCount;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java

  // Failure Metrics
  private @Metric MutableCounterLong numWriteStateMachineFails;
  private @Metric MutableCounterLong numWriteDataFails;
  private @Metric MutableCounterLong numQueryStateMachineFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numWriteStateMachineOps;
  private @Metric MutableCounterLong numQueryStateMachineOps;
  private @Metric MutableCounterLong numApplyTransactionOps;
  private @Metric MutableCounterLong numReadStateMachineOps;
  private @Metric MutableCounterLong numBytesWrittenCount;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numWriteStateMachineFails;
  private @Metric MutableCounterLong numWriteDataFails;
  private @Metric MutableCounterLong numQueryStateMachineFails;
  private @Metric MutableCounterLong numApplyTransactionFails;
  private @Metric MutableCounterLong numReadStateMachineFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numBytesCommittedCount;

  private @Metric MutableRate transactionLatency;
  private MutableRate[] opsLatency;
  private MetricsRegistry registry = null;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numStartTransactionVerifyFailures;
  private @Metric MutableCounterLong numContainerNotOpenVerifyFailures;
  private @Metric MutableCounterLong numDataCacheMiss;
  private @Metric MutableCounterLong numDataCacheHit;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numApplyTransactionOps;
  private @Metric MutableCounterLong numReadStateMachineOps;
  private @Metric MutableCounterLong numBytesWrittenCount;
  private @Metric MutableCounterLong numBytesCommittedCount;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java

  // ratis op metrics metrics
  private @Metric MutableCounterLong numWriteStateMachineOps;
  private @Metric MutableCounterLong numQueryStateMachineOps;
  private @Metric MutableCounterLong numApplyTransactionOps;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  // ratis op metrics metrics
  private @Metric MutableCounterLong numWriteStateMachineOps;
  private @Metric MutableCounterLong numQueryStateMachineOps;
  private @Metric MutableCounterLong numApplyTransactionOps;
  private @Metric MutableCounterLong numReadStateMachineOps;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numWriteDataFails;
  private @Metric MutableCounterLong numQueryStateMachineFails;
  private @Metric MutableCounterLong numApplyTransactionFails;
  private @Metric MutableCounterLong numReadStateMachineFails;
  private @Metric MutableCounterLong numReadStateMachineMissCount;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  // Failure Metrics
  private @Metric MutableCounterLong numWriteStateMachineFails;
  private @Metric MutableCounterLong numWriteDataFails;
  private @Metric MutableCounterLong numQueryStateMachineFails;
  private @Metric MutableCounterLong numApplyTransactionFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numReadStateMachineFails;
  private @Metric MutableCounterLong numReadStateMachineMissCount;
  private @Metric MutableCounterLong numStartTransactionVerifyFailures;
  private @Metric MutableCounterLong numContainerNotOpenVerifyFailures;
  private @Metric MutableCounterLong numDataCacheMiss;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numReadStateMachineOps;
  private @Metric MutableCounterLong numBytesWrittenCount;
  private @Metric MutableCounterLong numBytesCommittedCount;

  private @Metric MutableRate transactionLatency;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Nonnull`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/ChunkManagerDispatcher.java`
#### Snippet
```java
  }

  private @Nonnull ChunkManager selectVersionHandler(
      ContainerLayoutVersion version)
      throws StorageContainerException {
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Nonnull`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/ChunkManagerDispatcher.java`
#### Snippet
```java
  }

  private @Nonnull ChunkManager selectHandler(Container container)
      throws StorageContainerException {

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong abortMultiPartUploadSuccess;
  private @Metric MutableCounterLong abortMultiPartUploadFailure;
  private @Metric MutableCounterLong deleteKeySuccess;
  private @Metric MutableCounterLong deleteKeyFailure;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong completeMultiPartUploadFailure;
  private @Metric MutableCounterLong abortMultiPartUploadSuccess;
  private @Metric MutableCounterLong abortMultiPartUploadFailure;
  private @Metric MutableCounterLong deleteKeySuccess;
  private @Metric MutableCounterLong deleteKeyFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong getAclSuccess;
  private @Metric MutableCounterLong getAclFailure;
  private @Metric MutableCounterLong putAclSuccess;
  private @Metric MutableCounterLong putAclFailure;
  private @Metric MutableCounterLong listMultipartUploadsSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong createBucketFailure;
  private @Metric MutableCounterLong headBucketSuccess;
  private @Metric MutableCounterLong deleteBucketSuccess;
  private @Metric MutableCounterLong deleteBucketFailure;
  private @Metric MutableCounterLong getAclSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java

  // RootEndpoint
  private @Metric MutableCounterLong listS3BucketsSuccess;
  private @Metric MutableCounterLong listS3BucketsFailure;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong getBucketSuccess;
  private @Metric MutableCounterLong getBucketFailure;
  private @Metric MutableCounterLong createBucketSuccess;
  private @Metric MutableCounterLong createBucketFailure;
  private @Metric MutableCounterLong headBucketSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong getKeyFailure;
  private @Metric MutableCounterLong headKeySuccess;
  private @Metric MutableCounterLong headKeyFailure;
  private @Metric MutableCounterLong initMultiPartUploadSuccess;
  private @Metric MutableCounterLong initMultiPartUploadFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong listPartsSuccess;
  private @Metric MutableCounterLong listPartsFailure;
  private @Metric MutableCounterLong getKeySuccess;
  private @Metric MutableCounterLong getKeyFailure;
  private @Metric MutableCounterLong headKeySuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong createKeyFailure;
  private @Metric MutableCounterLong listPartsSuccess;
  private @Metric MutableCounterLong listPartsFailure;
  private @Metric MutableCounterLong getKeySuccess;
  private @Metric MutableCounterLong getKeyFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong createMultipartKeySuccess;
  private @Metric MutableCounterLong createMultipartKeyFailure;
  private @Metric MutableCounterLong copyObjectSuccess;
  private @Metric MutableCounterLong copyObjectFailure;
  private @Metric MutableCounterLong createKeySuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong deleteBucketFailure;
  private @Metric MutableCounterLong getAclSuccess;
  private @Metric MutableCounterLong getAclFailure;
  private @Metric MutableCounterLong putAclSuccess;
  private @Metric MutableCounterLong putAclFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong createBucketSuccess;
  private @Metric MutableCounterLong createBucketFailure;
  private @Metric MutableCounterLong headBucketSuccess;
  private @Metric MutableCounterLong deleteBucketSuccess;
  private @Metric MutableCounterLong deleteBucketFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  // BucketEndpoint
  private @Metric MutableCounterLong getBucketSuccess;
  private @Metric MutableCounterLong getBucketFailure;
  private @Metric MutableCounterLong createBucketSuccess;
  private @Metric MutableCounterLong createBucketFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong getBucketFailure;
  private @Metric MutableCounterLong createBucketSuccess;
  private @Metric MutableCounterLong createBucketFailure;
  private @Metric MutableCounterLong headBucketSuccess;
  private @Metric MutableCounterLong deleteBucketSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong deleteBucketSuccess;
  private @Metric MutableCounterLong deleteBucketFailure;
  private @Metric MutableCounterLong getAclSuccess;
  private @Metric MutableCounterLong getAclFailure;
  private @Metric MutableCounterLong putAclSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong createKeySuccess;
  private @Metric MutableCounterLong createKeyFailure;
  private @Metric MutableCounterLong listPartsSuccess;
  private @Metric MutableCounterLong listPartsFailure;
  private @Metric MutableCounterLong getKeySuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java

  // BucketEndpoint
  private @Metric MutableCounterLong getBucketSuccess;
  private @Metric MutableCounterLong getBucketFailure;
  private @Metric MutableCounterLong createBucketSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong putAclFailure;
  private @Metric MutableCounterLong listMultipartUploadsSuccess;
  private @Metric MutableCounterLong listMultipartUploadsFailure;

  // RootEndpoint
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong initMultiPartUploadSuccess;
  private @Metric MutableCounterLong initMultiPartUploadFailure;
  private @Metric MutableCounterLong completeMultiPartUploadSuccess;
  private @Metric MutableCounterLong completeMultiPartUploadFailure;
  private @Metric MutableCounterLong abortMultiPartUploadSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong getKeySuccess;
  private @Metric MutableCounterLong getKeyFailure;
  private @Metric MutableCounterLong headKeySuccess;
  private @Metric MutableCounterLong headKeyFailure;
  private @Metric MutableCounterLong initMultiPartUploadSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong putAclSuccess;
  private @Metric MutableCounterLong putAclFailure;
  private @Metric MutableCounterLong listMultipartUploadsSuccess;
  private @Metric MutableCounterLong listMultipartUploadsFailure;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong abortMultiPartUploadFailure;
  private @Metric MutableCounterLong deleteKeySuccess;
  private @Metric MutableCounterLong deleteKeyFailure;


```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  // ObjectEndpoint
  private @Metric MutableCounterLong createMultipartKeySuccess;
  private @Metric MutableCounterLong createMultipartKeyFailure;
  private @Metric MutableCounterLong copyObjectSuccess;
  private @Metric MutableCounterLong copyObjectFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong headKeyFailure;
  private @Metric MutableCounterLong initMultiPartUploadSuccess;
  private @Metric MutableCounterLong initMultiPartUploadFailure;
  private @Metric MutableCounterLong completeMultiPartUploadSuccess;
  private @Metric MutableCounterLong completeMultiPartUploadFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java

  // ObjectEndpoint
  private @Metric MutableCounterLong createMultipartKeySuccess;
  private @Metric MutableCounterLong createMultipartKeyFailure;
  private @Metric MutableCounterLong copyObjectSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong initMultiPartUploadFailure;
  private @Metric MutableCounterLong completeMultiPartUploadSuccess;
  private @Metric MutableCounterLong completeMultiPartUploadFailure;
  private @Metric MutableCounterLong abortMultiPartUploadSuccess;
  private @Metric MutableCounterLong abortMultiPartUploadFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong copyObjectSuccess;
  private @Metric MutableCounterLong copyObjectFailure;
  private @Metric MutableCounterLong createKeySuccess;
  private @Metric MutableCounterLong createKeyFailure;
  private @Metric MutableCounterLong listPartsSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong headKeySuccess;
  private @Metric MutableCounterLong headKeyFailure;
  private @Metric MutableCounterLong initMultiPartUploadSuccess;
  private @Metric MutableCounterLong initMultiPartUploadFailure;
  private @Metric MutableCounterLong completeMultiPartUploadSuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  // RootEndpoint
  private @Metric MutableCounterLong listS3BucketsSuccess;
  private @Metric MutableCounterLong listS3BucketsFailure;

  // ObjectEndpoint
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong getAclFailure;
  private @Metric MutableCounterLong putAclSuccess;
  private @Metric MutableCounterLong putAclFailure;
  private @Metric MutableCounterLong listMultipartUploadsSuccess;
  private @Metric MutableCounterLong listMultipartUploadsFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong copyObjectFailure;
  private @Metric MutableCounterLong createKeySuccess;
  private @Metric MutableCounterLong createKeyFailure;
  private @Metric MutableCounterLong listPartsSuccess;
  private @Metric MutableCounterLong listPartsFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong headBucketSuccess;
  private @Metric MutableCounterLong deleteBucketSuccess;
  private @Metric MutableCounterLong deleteBucketFailure;
  private @Metric MutableCounterLong getAclSuccess;
  private @Metric MutableCounterLong getAclFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong completeMultiPartUploadSuccess;
  private @Metric MutableCounterLong completeMultiPartUploadFailure;
  private @Metric MutableCounterLong abortMultiPartUploadSuccess;
  private @Metric MutableCounterLong abortMultiPartUploadFailure;
  private @Metric MutableCounterLong deleteKeySuccess;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong listPartsFailure;
  private @Metric MutableCounterLong getKeySuccess;
  private @Metric MutableCounterLong getKeyFailure;
  private @Metric MutableCounterLong headKeySuccess;
  private @Metric MutableCounterLong headKeyFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/metrics/S3GatewayMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong createMultipartKeyFailure;
  private @Metric MutableCounterLong copyObjectSuccess;
  private @Metric MutableCounterLong copyObjectFailure;
  private @Metric MutableCounterLong createKeySuccess;
  private @Metric MutableCounterLong createKeyFailure;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointMetrics.java`
#### Snippet
```java
  private @Metric MutableGaugeLong lastCheckpointCreationTimeTaken;
  private @Metric MutableGaugeLong lastCheckpointStreamingTimeTaken;
  private @Metric MutableCounterLong numCheckpoints;
  private @Metric MutableCounterLong numCheckpointFails;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointMetrics.java`
#### Snippet
```java

  // Metrics to track checkpoint statistics from last run.
  private @Metric MutableGaugeLong lastCheckpointCreationTimeTaken;
  private @Metric MutableGaugeLong lastCheckpointStreamingTimeTaken;
  private @Metric MutableCounterLong numCheckpoints;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointMetrics.java`
#### Snippet
```java
  // Metrics to track checkpoint statistics from last run.
  private @Metric MutableGaugeLong lastCheckpointCreationTimeTaken;
  private @Metric MutableGaugeLong lastCheckpointStreamingTimeTaken;
  private @Metric MutableCounterLong numCheckpoints;
  private @Metric MutableCounterLong numCheckpointFails;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointMetrics.java`
#### Snippet
```java
  private @Metric MutableGaugeLong lastCheckpointStreamingTimeTaken;
  private @Metric MutableCounterLong numCheckpoints;
  private @Metric MutableCounterLong numCheckpointFails;

  public DBCheckpointMetrics() {
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numDBKeyMayExistChecks;
  private @Metric MutableCounterLong numDBKeyMayExistMisses;

  private @Metric MutableCounterLong numDBKeyGetIfExistChecks;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBMetrics.java`
#### Snippet
```java
  }

  private @Metric MutableCounterLong numDBKeyMayExistChecks;
  private @Metric MutableCounterLong numDBKeyMayExistMisses;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numDBKeyMayExistMisses;

  private @Metric MutableCounterLong numDBKeyGetIfExistChecks;
  private @Metric MutableCounterLong numDBKeyGetIfExistMisses;
  private @Metric MutableCounterLong numDBKeyGetIfExistGets;
```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBMetrics.java`
#### Snippet
```java

  private @Metric MutableCounterLong numDBKeyGetIfExistChecks;
  private @Metric MutableCounterLong numDBKeyGetIfExistMisses;
  private @Metric MutableCounterLong numDBKeyGetIfExistGets;

```

### RuleId[ruleID=MissortedModifiers]
Missorted modifiers `private @Metric`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBMetrics.java`
#### Snippet
```java
  private @Metric MutableCounterLong numDBKeyGetIfExistChecks;
  private @Metric MutableCounterLong numDBKeyGetIfExistMisses;
  private @Metric MutableCounterLong numDBKeyGetIfExistGets;


```

## RuleId[ruleID=AnonymousHasLambdaAlternative]
### RuleId[ruleID=AnonymousHasLambdaAlternative]
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/util/ShutdownHookManager.java`
#### Snippet
```java
    try {
      Runtime.getRuntime().addShutdownHook(
          new Thread() {
            @Override
            public void run() {
```

### RuleId[ruleID=AnonymousHasLambdaAlternative]
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/web/utils/OzoneUtils.java`
#### Snippet
```java
   */
  private static final ThreadLocal<SimpleDateFormat> DATE_FORMAT =
      new ThreadLocal<SimpleDateFormat>() {
        @Override
        protected SimpleDateFormat initialValue() {
```

## RuleId[ruleID=IfStatementMissingBreakInLoop]
### RuleId[ruleID=IfStatementMissingBreakInLoop]
Loop can be terminated after condition is met
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/MetricsSubCommand.java`
#### Snippet
```java
        for (Entry<String, String> filter : metricDisplay.getFilter()
            .entrySet()) {
          if (!line
              .contains(filter.getKey() + "=\"" + filter.getValue() + "\"")) {
            filtered = true;
```

## RuleId[ruleID=FunctionalExpressionCanBeFolded]
### RuleId[ruleID=FunctionalExpressionCanBeFolded]
Method reference can be replaced with qualifier
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
              new RemoteControlReader(socket.getInputStream());
          reader.setSessionInfoVisitor(
              synchronizedCall(destination::visitSessionInfo));
          reader.setExecutionDataVisitor(
              synchronizedCall(destination::visitClassExecution));
```

### RuleId[ruleID=FunctionalExpressionCanBeFolded]
Method reference can be replaced with qualifier
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
              synchronizedCall(destination::visitSessionInfo));
          reader.setExecutionDataVisitor(
              synchronizedCall(destination::visitClassExecution));
          while (reader.read()) {
            ;//read until the end of the stream.
```

## RuleId[ruleID=DefaultAnnotationParam]
### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManagerStarter.java`
#### Snippet
```java
  @CommandLine.Command(name = "--init",
      customSynopsis = "ozone scm [global options] --init [options]",
      hidden = false,
      description = "Initialize the SCM if not already initialized",
      mixinStandardHelpOptions = true,
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManagerStarter.java`
#### Snippet
```java
  @CommandLine.Command(name = "--genclusterid",
      customSynopsis = "ozone scm [global options] --genclusterid [options]",
      hidden = false,
      description = "Generate a new Cluster ID",
      mixinStandardHelpOptions = true,
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManagerStarter.java`
#### Snippet
```java
  @CommandLine.Command(name = "--bootstrap",
      customSynopsis = "ozone scm [global options] --bootstrap",
      hidden = false,
      description = "Bootstrap SCM if not already done",
      mixinStandardHelpOptions = true,
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerStarter.java`
#### Snippet
```java
  @CommandLine.Command(name = "--bootstrap",
      customSynopsis = "ozone om [global options] --bootstrap [options]",
      hidden = false,
      description = "Initializes and Bootstraps the Ozone Manager.",
      mixinStandardHelpOptions = true,
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerStarter.java`
#### Snippet
```java
  @CommandLine.Command(name = "--init",
      customSynopsis = "ozone om [global options] --init",
      hidden = false,
      description = "Initialize the Ozone Manager if not already initialized",
      mixinStandardHelpOptions = true,
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/conf/OMClientConfig.java`
#### Snippet
```java
      type = ConfigType.TIME,
      tags = {OZONE, OM, CLIENT},
      timeUnit = TimeUnit.MILLISECONDS,
      description = "RpcClient timeout on waiting for the response from " +
          "OzoneManager. The default value is set to 15 minutes. " +
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/s3/S3Handler.java`
#### Snippet
```java

  @CommandLine.Option(names = {"--om-service-id"},
      required = false,
      description = "OM Service ID is required to be specified for OM HA" +
          " cluster")
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/tenant/TenantHandler.java`
#### Snippet
```java

  @CommandLine.Option(names = {"--om-service-id"},
      required = false,
      description = "Service ID is required when OM is running in HA" +
          " cluster")
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMClientConfig.java`
#### Snippet
```java
      type = ConfigType.TIME,
      tags = {OZONE, SCM, CLIENT},
      timeUnit = TimeUnit.MILLISECONDS,
      description = "RpcClient timeout on waiting for the response from " +
          "SCM. The default value is set to 15 minutes. " +
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMClientConfig.java`
#### Snippet
```java
      defaultValue = "10m",
      type = ConfigType.TIME,
      timeUnit = TimeUnit.MILLISECONDS,
      tags = {OZONE, SCM, CLIENT},
      description = "Max retry timeout for SCM Client"
```

### RuleId[ruleID=DefaultAnnotationParam]
Redundant default parameter value assignment
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMClientConfig.java`
#### Snippet
```java
      type = ConfigType.TIME,
      tags = {OZONE, SCM, CLIENT},
      timeUnit = TimeUnit.MILLISECONDS,
      description = "SCM Client timeout on waiting for the next connection " +
          "retry to other SCM IP. The default value is set to 2 seconds. "
```

## RuleId[ruleID=ThrowFromFinallyBlock]
### RuleId[ruleID=ThrowFromFinallyBlock]
`throw` inside 'finally' block
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java`
#### Snippet
```java
          store.stop();
        } catch (IOException e) {
          throw e;
        } catch (Exception e) {
          throw new RuntimeException("Unexpected exception closing the " +
```

### RuleId[ruleID=ThrowFromFinallyBlock]
`throw` inside 'finally' block
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/helpers/KeyValueContainerUtil.java`
#### Snippet
```java
          throw e;
        } catch (Exception e) {
          throw new RuntimeException("Unexpected exception closing the " +
              "RocksDB when loading containers", e);
        }
```

## RuleId[ruleID=IfStatementWithIdenticalBranches]
### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMNodeInfo.java`
#### Snippet
```java
    List<SCMNodeInfo> scmNodeInfoList = new ArrayList<>();
    String scmServiceId = SCMHAUtils.getScmServiceId(conf);
    if (scmServiceId != null) {
      ArrayList< String > scmNodeIds = new ArrayList<>(
          SCMHAUtils.getSCMNodeIds(conf, scmServiceId));
```

### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
    Node ret;
    int nodeIndex;
    if (leafIndex >= 0) {
      nodeIndex = leafIndex % availableNodes;
      ret = ((InnerNode)scopeNode).getLeaf(nodeIndex, mutableExcludedScopes,
```

### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketSetOwnerRequest.java`
#### Snippet
```java

    // return response.
    if (success) {
      LOG.debug("Successfully changed Owner of Bucket {}/{} from {} -> {}",
          volumeName, bucketName, oldOwner, newOwner);
```

### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketDeleteRequest.java`
#### Snippet
```java

    // return response.
    if (success) {
      LOG.debug("Deleted bucket:{} in volume:{}", bucketName, volumeName);
      return omClientResponse;
```

### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketSetPropertyRequest.java`
#### Snippet
```java

    // return response.
    if (success) {
      LOG.debug("Setting bucket property for bucket:{} in volume:{}",
          bucketName, volumeName);
```

### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/OMBucketCreateRequest.java`
#### Snippet
```java

    // return response.
    if (exception == null) {
      LOG.info("created bucket: {} of layout {} in volume: {}", bucketName,
          omBucketInfo.getBucketLayout(), volumeName);
```

### RuleId[ruleID=IfStatementWithIdenticalBranches]
Common part can be extracted from 'if'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OFSPath.java`
#### Snippet
```java
      sb.append(keyName);
    }
    if (authority.isEmpty()) {
      sb.insert(0, OZONE_URI_DELIMITER);
      return sb.toString();
```

## RuleId[ruleID=UnnecessarySuperQualifier]
### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java

  public ConfigurationSource getConfSource() {
    Configuration conf = super.getConf();
    ConfigurationSource source;
    if (conf instanceof OzoneConfiguration) {
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    incrementCounter(Statistic.INVOCATION_RENAME, 1);
    statistics.incrementWriteOps(1);
    super.checkPath(src);
    super.checkPath(dst);

```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    statistics.incrementWriteOps(1);
    super.checkPath(src);
    super.checkPath(dst);

    String srcPath = src.toUri().getPath();
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java

  public ConfigurationSource getConfSource() {
    Configuration conf = super.getConf();
    ConfigurationSource source;
    if (conf instanceof OzoneConfiguration) {
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/fs/DU.java`
#### Snippet
```java
    public long getUsed() {
      try {
        super.run();
        return value.get();
      } catch (IOException e) {
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/upgrade/SCMUpgradeFinalizer.java`
#### Snippet
```java
      SCMUpgradeFinalizationContext context) throws UpgradeException {
    // Run upgrade actions and update VERSION file.
    super.finalizeLayoutFeature(lf,
        lf.scmAction(LayoutFeature.UpgradeActionType.ON_FINALIZE),
        context.getStorage());
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/upgrade/SCMUpgradeFinalizer.java`
#### Snippet
```java
  public void runPrefinalizeStateActions(Storage storage,
      SCMUpgradeFinalizationContext context) throws IOException {
    super.runPrefinalizeStateActions(
        lf -> ((HDDSLayoutFeature) lf)::scmAction, storage, context);
  }
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/upgrade/OMUpgradeFinalizer.java`
#### Snippet
```java
  public void finalizeLayoutFeature(LayoutFeature layoutFeature,
      OzoneManager om) throws UpgradeException {
    super.finalizeLayoutFeature(layoutFeature,
        layoutFeature.action(LayoutFeature.UpgradeActionType.ON_FINALIZE),
        om.getOmStorage());
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/upgrade/OMUpgradeFinalizer.java`
#### Snippet
```java
  public void runPrefinalizeStateActions(Storage storage, OzoneManager om)
      throws IOException {
    super.runPrefinalizeStateActions(
        lf -> ((OMLayoutFeature) lf)::action, storage, om);
  }
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconNodeManager.java`
#### Snippet
```java
    super.updateDatanodeOpState(reportedDn);
    // Update NodeOperationalState in NodeStatus to keep it consistent for Recon
    super.getNodeStateManager().setNodeOperationalState(reportedDn,
        reportedDn.getPersistedOpState(),
        reportedDn.getPersistedOpStateExpiryEpochSec());
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/HddsVolume.java`
#### Snippet
```java

  public File getHddsRootDir() {
    return super.getStorageDir();
  }

```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/DataNodeUpgradeFinalizer.java`
#### Snippet
```java
    if (layoutFeature instanceof HDDSLayoutFeature) {
      HDDSLayoutFeature hddslayoutFeature =  (HDDSLayoutFeature)layoutFeature;
      super.finalizeLayoutFeature(hddslayoutFeature,
          hddslayoutFeature
              .datanodeAction(LayoutFeature.UpgradeActionType.ON_FINALIZE),
```

### RuleId[ruleID=UnnecessarySuperQualifier]
Qualifier `super` is unnecessary in this context
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/DataNodeUpgradeFinalizer.java`
#### Snippet
```java
                                         DatanodeStateMachine dsm)
      throws IOException {
    super.runPrefinalizeStateActions(
        lf -> ((HDDSLayoutFeature) lf)::datanodeAction, storage, dsm);
  }
```

## RuleId[ruleID=InfiniteLoopStatement]
### RuleId[ruleID=InfiniteLoopStatement]
`while` statement cannot complete without throwing an exception
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
    }));

    while (true) {
      final Socket socket = serverSocket.accept();
      new Thread(() -> {
```

## RuleId[ruleID=CodeBlock2Expr]
### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/TopologySubcommand.java`
#### Snippet
```java
    locations.forEach(location -> {
      System.out.println("Location: " + location);
      tree.get(location).forEach(n -> {
        System.out.println(" " + n.getIpAddress() + "(" + n.getHostName()
            + ") " + state.get(n));
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
      HddsProtos.ExcludeListProto excludeListProto) {
    ExcludeList excludeList = new ExcludeList();
    excludeListProto.getContainerIdsList().forEach(id -> {
      excludeList.addConatinerId(ContainerID.valueOf(id));
    });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
      excludeList.addDatanode(builder.build());
    });
    excludeListProto.getPipelineIdsList().forEach(pipelineID -> {
      excludeList.addPipeline(PipelineID.getFromProtobuf(pipelineID));
    });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
        .forEach(id -> builder.addContainerIds(id.getId()));
    getDatanodes().forEach(dn -> builder.addDatanodes(dn.getUuidString()));
    pipelineIds.forEach(pipelineID -> {
      builder.addPipelineIds(pipelineID.getProtobuf());
    });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/update/server/SCMCRLUpdateHandler.java`
#### Snippet
```java
    LOG.debug("Update due to certificate revocation");
    // server crl id is usually > client crl id when this is invoked.
    clients.values().forEach(client -> {
      sendCrlUpdateToClient(client);
    });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java

    if (LOG.isDebugEnabled()) {
      overUtilizedNodes.forEach(entry -> {
        LOG.debug("Datanode {} {} is Over-Utilized.",
            entry.getDatanodeDetails().getHostName(),
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerTask.java`
#### Snippet
```java
      });

      underUtilizedNodes.forEach(entry -> {
        LOG.debug("Datanode {} {} is Under-Utilized.",
            entry.getDatanodeDetails().getHostName(),
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
    Map<String, String> ratisServerConf =
        getOMHAConfigs(ozoneConf);
    ratisServerConf.forEach((key, val) -> {
      raftProperties.set(key, val);
    });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
      // Resend the delete command
      if (filteredReplicas.size() > 0) {
        filteredReplicas.stream().forEach(rp -> {
          sendDeleteCommand(container, rp.getDatanodeDetails(), false);
        });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
          if (!isRatisEnabled) {
            // Once all entries are flushed, we can complete their future.
            readyFutureQueue.iterator().forEachRemaining((entry) -> {
              entry.complete(null);
            });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      String remoteUser = getRemoteUser().getShortUserName();
      for (OmKeyLocationInfoGroup key : value.getKeyLocationVersions()) {
        key.getLocationList().forEach(k -> {
          k.setToken(secretManager.generateToken(remoteUser, k.getBlockID(),
              EnumSet.of(READ), k.getLength()));
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/acl/OMBucketAddAclRequest.java`
#### Snippet
```java
  static {
    bucketAddAclOp = (ozoneAcls, omBucketInfo) -> {
      return omBucketInfo.addAcl(ozoneAcls.get(0));
    };
  }
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/acl/OMBucketSetAclRequest.java`
#### Snippet
```java
  static {
    bucketAddAclOp = (ozoneAcls, omBucketInfo) -> {
      return omBucketInfo.setAcls(ozoneAcls);
    };
  }
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/bucket/acl/OMBucketRemoveAclRequest.java`
#### Snippet
```java
  static {
    bucketAddAclOp = (ozoneAcls, omBucketInfo) -> {
      return omBucketInfo.removeAcl(ozoneAcls.get(0));
    };
  }
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      omS3gGrpcServer = getOmS3gGrpcServer(configuration);
    }
    shutdownHook = () -> {
      saveOmMetrics();
    };
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java

    // Ensure volume threads are stopped and scm df is saved during shutdown.
    shutdownHook = () -> {
      saveVolumeSetUsed();
    };
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirectoryServerSource.java`
#### Snippet
```java
    try (Stream<Path> list = Files.walk(streamingDir)
            .filter(Files::isRegularFile)) {
      list.forEach(path -> {
        files.put(root.relativize(path).toString(), path);
      });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamServerHandler.java`
#### Snippet
```java
              Unpooled.wrappedBuffer(
                  END_MARKER.getBytes(StandardCharsets.UTF_8)))
              .addListener(b -> {
                ctx.channel().close();
              });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
      this.incrementalReportsQueue.put(endpoint, new LinkedList<>());
      Map<String, AtomicBoolean> mp = new HashMap<>();
      fullReportTypeList.forEach(e -> {
        mp.putIfAbsent(e, new AtomicBoolean(true));
      });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
        decrypted = proxyUser.doAs(
            (PrivilegedExceptionAction<KeyProvider.KeyVersion>) () -> {
              return OzoneKMSUtil.decryptEncryptedDataEncryptionKey(feInfo,
                  getKeyProvider());
            });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/acl/IAccessAuthorizer.java`
#### Snippet
```java
    public static String getACLString(BitSet acls) {
      StringBuffer sb = new StringBuffer();
      acls.stream().forEach(acl -> {
        sb.append(getAclString(ACLType.values()[acl]));
      });
```

### RuleId[ruleID=CodeBlock2Expr]
Statement lambda can be replaced with expression lambda
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/tenant/TenantListUsersHandler.java`
#### Snippet
```java

    if (!printJson) {
      usersInTenant.getUserAccessIds().forEach(accessIdInfo -> {
        out().println("- User '" + accessIdInfo.getUserPrincipal() +
            "' with accessId '" + accessIdInfo.getAccessId() + "'");
```

## RuleId[ruleID=UseOfPropertiesAsHashtable]
### RuleId[ruleID=UseOfPropertiesAsHashtable]
Call to `Hashtable.put()` on properties object
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/conf/OzoneConfiguration.java`
#### Snippet
```java
      Object value = updatedProps.getProperty(propertyName.toString());
      if (value != null) {
        props.put(propertyName, value);
      }
    }
```

## RuleId[ruleID=EmptyMethod]
### RuleId[ruleID=EmptyMethod]
Method only calls its super
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java

  @Override
  public int hashCode() {
    return super.hashCode();
  }
```

### RuleId[ruleID=EmptyMethod]
The method is empty
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
   * @since 10.0
   */
  protected void interruptTask() {
  }

```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/ContainerReplicationSource.java`
#### Snippet
```java
   * @param containerId The name of the container the package.
   */
  void prepare(long containerId);

  /**
```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/CertificateStore.java`
#### Snippet
```java
   * @param serialID - Certificate ID.
   */
  void removeExpiredCertificate(BigInteger serialID) throws IOException;

  /**
```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
      EventPublisher publisher, TIMEOUT_PAYLOAD payload);

  protected abstract void onFinished(
      EventPublisher publisher, TIMEOUT_PAYLOAD payload);

```

### RuleId[ruleID=EmptyMethod]
Method only calls its super
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/FindTargetGreedyByUsageInfo.java`
#### Snippet
```java
   */
  @VisibleForTesting
  public void sortTargetForSource(DatanodeDetails source) {
    //noop, Treeset is naturally sorted.
    return;
```

### RuleId[ruleID=EmptyMethod]
Method only calls its super
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeInfo.java`
#### Snippet
```java

  @Override
  public int hashCode() {
    return super.hashCode();
  }
```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineProvider.java`
#### Snippet
```java
  protected abstract void close(Pipeline pipeline) throws IOException;

  protected abstract void shutdown();

  List<DatanodeDetails> pickNodesNotUsed(REPLICATION_CONFIG replicationConfig,
```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/protocol/ClientProtocol.java`
#### Snippet
```java
   */
  @Deprecated
  void checkBucketAccess(String volumeName, String bucketName)
      throws IOException;

```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/AccountNameSpace.java`
#### Snippet
```java
   * @param quota
   */
  void setQuota(OzoneQuota quota);

  /**
```

### RuleId[ruleID=EmptyMethod]
All implementations of this method are empty
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/BucketNameSpace.java`
#### Snippet
```java
   * @param quota
   */
  void setQuota(OzoneQuota quota);

  /**
```

### RuleId[ruleID=EmptyMethod]
Method only calls its super
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneTokenIdentifier.java`
#### Snippet
```java

  @Override
  public int hashCode() {
    return super.hashCode();
  }
```

### RuleId[ruleID=EmptyMethod]
The method is empty
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/OMClientRequest.java`
#### Snippet
```java
   * taken during pre-execute.
   */
  public void handleRequestFailure(OzoneManager ozoneManager) {
    // Most requests would not have any un-do processing.
  }
```

### RuleId[ruleID=EmptyMethod]
The method is empty
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/upgrade/OMLayoutFeatureAspect.java`
#### Snippet
```java
      "org.apache.hadoop.ozone.om.request.OMClientRequest+.preExecute(..)) " +
      "&& @this(org.apache.hadoop.ozone.om.upgrade.BelongsToLayoutVersion)")
  public void omRequestPointCut() {
  }

```

## RuleId[ruleID=RedundantFieldInitialization]
### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/ECChunk.java`
#### Snippet
```java

  // TODO: should be in a more general flags
  private boolean allZero = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/BufferAllocator.java`
#### Snippet
```java
 */
public abstract class BufferAllocator {
  private boolean usingDirect = false;

  public BufferAllocator(boolean usingDirect) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/OzoneClientConfig.java`
#### Snippet
```java
              + "there is no wait",
      tags = ConfigTag.CLIENT)
  private int retryInterval = 0;

  @Config(key = "checksum.type",
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/OzoneClientConfig.java`
#### Snippet
```java
          + "very small keys, but has a performance overhead.",
      tags = ConfigTag.CLIENT)
  private int bufferIncrement = 0;

  @Config(key = "stream.buffer.flush.delay",
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/ContainerClientMetrics.java`
#### Snippet
```java
  private static final String SOURCE_NAME =
      ContainerClientMetrics.class.getSimpleName();
  private static int instanceCount = 0;

  @Metric
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/ContainerClientMetrics.java`
#### Snippet
```java
  private static ContainerClientMetrics instance;
  @VisibleForTesting
  static int referenceCount = 0;

  private static final String SOURCE_NAME =
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedInputStream.java`
#### Snippet
```java
  private boolean unBuffered = false;

  private long position = 0;

  public ECBlockReconstructedInputStream(ECReplicationConfig repConfig,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedInputStream.java`
#### Snippet
```java
  private final ByteBufferPool byteBufferPool;
  private boolean closed = false;
  private boolean unBuffered = false;

  private long position = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedInputStream.java`
#### Snippet
```java
  private ByteBuffer[] bufs;
  private final ByteBufferPool byteBufferPool;
  private boolean closed = false;
  private boolean unBuffered = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ECBlockOutputStream.java`
#### Snippet
```java

  private CompletableFuture<ContainerProtos.ContainerCommandResponseProto>
      putBlkRspFuture = null;
  /**
   * Creates a new ECBlockOutputStream.
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ECBlockOutputStream.java`
#### Snippet
```java
  private final DatanodeDetails datanodeDetails;
  private CompletableFuture<ContainerProtos.ContainerCommandResponseProto>
      currentChunkRspFuture = null;

  private CompletableFuture<ContainerProtos.ContainerCommandResponseProto>
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java

  // Index of the first buffer which has not been released
  private int firstUnreleasedBufferIndex = 0;

  // The number of bytes of chunk data residing in the buffers currently
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
  private final Supplier<Pipeline> pipelineSupplier;
  private boolean verifyChecksum;
  private boolean allocated = false;
  // Buffers to store the chunk data read from the DN container
  private ByteBuffer[] buffers;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
  // would be stored in buffer 0. Hence, bufferOffsets[0] = 0,
  // bufferOffsets[1] = 40, bufferOffsets[2] = 80, etc.
  private long[] bufferOffsets = null;

  // The offset of the current data residing in the buffers w.r.t the start
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java
  private boolean reconstructionReader = false;
  private List<DatanodeDetails> failedLocations = new ArrayList<>();
  private boolean closed = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java

  private BlockExtendedInputStream blockReader;
  private boolean reconstructionReader = false;
  private List<DatanodeDetails> failedLocations = new ArrayList<>();
  private boolean closed = false;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
  // chunk[1] and so on. But since the chunkOffsets are w.r.t the block only
  // and not the key, the values in chunkOffsets will be [0, 40, 80,....].
  private long[] chunkOffsets = null;

  // Index of the chunkStream corresponding to the current position of the
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
  private XceiverClientFactory xceiverClientFactory;
  private XceiverClientSpi xceiverClient;
  private boolean initialized = false;
  // TODO: do we need to change retrypolicy based on exception.
  private final RetryPolicy retryPolicy =
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java
  // Once, the stream is initialized, the position of the stream
  // will be determined by the current chunkStream and its position.
  private long blockPosition = 0;

  // Tracks the chunkIndex corresponding to the last blockPosition so that it
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientGrpc.java`
#### Snippet
```java
  private final Map<DatanodeBlockID, DatanodeDetails> getBlockDNcache;

  private boolean closed = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
  private long position = 0;
  private boolean closed = false;
  private boolean seeked = false;

  protected ECReplicationConfig getRepConfig() {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java
  private final int maxLocations;

  private long position = 0;
  private boolean closed = false;
  private boolean seeked = false;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStream.java`
#### Snippet
```java

  private long position = 0;
  private boolean closed = false;
  private boolean seeked = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedStripeInputStream.java`
#### Snippet
```java
  private RawErasureDecoder decoder;

  private boolean initialized = false;

  private final ExecutorService executor;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/MaintenanceSubCommand.java`
#### Snippet
```java
      description = "Automatically end maintenance after the given hours. " +
          "By default, maintenance must be ended manually.")
  private int endInHours = 0;

  @Override
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
  private static class DatanodeUsage {

    private DatanodeDetails datanodeDetails = null;
    private long capacity = 0;
    private long used = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java

    private DatanodeDetails datanodeDetails = null;
    private long capacity = 0;
    private long used = 0;
    private long remaining = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
    private DatanodeDetails datanodeDetails = null;
    private long capacity = 0;
    private long used = 0;
    private long remaining = 0;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java
    private long capacity = 0;
    private long used = 0;
    private long remaining = 0;

    DatanodeUsage(HddsProtos.DatanodeUsageInfoProto proto) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    private int i;
    private Path p;
    private T curStat = null;
    private String startPath = "";

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
    private int i;
    private Path p;
    private T curStat = null;
    private String startPath = "";

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
    private final FileStatusAdapter status;
    private String pathKey;
    private Iterator<BasicKeyInfo> keyIterator = null;
    private boolean isFSO;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaManager.java`
#### Snippet
```java
  private int maxLevel = -1;

  private static volatile NodeSchemaManager instance = null;

  private NodeSchemaManager() {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
  private final Set<ContainerID> containerIds;
  private final Set<PipelineID> pipelineIds;
  private long expiryTime = 0;
  private java.time.Clock clock;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaLoader.java`
#### Snippet
```java

  private static final int LAYOUT_VERSION = 1;
  private static volatile NodeSchemaLoader instance = null;
  private NodeSchemaLoader() { }

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/SignalLogger.java`
#### Snippet
```java
  private static final String[] SIGNALS = new String[] {"TERM", "HUP", "INT"};

  private boolean registered = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/UniqueId.java`
#### Snippet
```java
     */

  private static volatile short offset = 0;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
    private final int maxIntervalMillis;
    private int current;
    private int invocationCount = 0;

    public ProportionalRetryInterval(int intervalMillis,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
  public static class FixedRetryInterval implements Callable<Integer> {
    private final int intervalMillis;
    private int invocationCount = 0;

    public FixedRetryInterval(int intervalMillis) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/tracing/TracingUtil.java`
#### Snippet
```java
  private static final String NULL_SPAN_AS_STRING = "";

  private static volatile boolean isInit = false;

  private TracingUtil() {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private List<DatanodeDetails> nodesInOrder = null;
    private UUID leaderId = null;
    private Instant creationTimestamp = null;
    private UUID suggestedLeaderId = null;
    private Map<DatanodeDetails, Integer> replicaIndexes = new HashMap<>();
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private List<Integer> nodeOrder = null;
    private List<DatanodeDetails> nodesInOrder = null;
    private UUID leaderId = null;
    private Instant creationTimestamp = null;
    private UUID suggestedLeaderId = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
   */
  public static class Builder {
    private PipelineID id = null;
    private ReplicationConfig replicationConfig = null;
    private PipelineState state = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private PipelineID id = null;
    private ReplicationConfig replicationConfig = null;
    private PipelineState state = null;
    private Map<DatanodeDetails, Long> nodeStatus = null;
    private List<Integer> nodeOrder = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private PipelineState state = null;
    private Map<DatanodeDetails, Long> nodeStatus = null;
    private List<Integer> nodeOrder = null;
    private List<DatanodeDetails> nodesInOrder = null;
    private UUID leaderId = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
  public static class Builder {
    private PipelineID id = null;
    private ReplicationConfig replicationConfig = null;
    private PipelineState state = null;
    private Map<DatanodeDetails, Long> nodeStatus = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private ReplicationConfig replicationConfig = null;
    private PipelineState state = null;
    private Map<DatanodeDetails, Long> nodeStatus = null;
    private List<Integer> nodeOrder = null;
    private List<DatanodeDetails> nodesInOrder = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private UUID leaderId = null;
    private Instant creationTimestamp = null;
    private UUID suggestedLeaderId = null;
    private Map<DatanodeDetails, Integer> replicaIndexes = new HashMap<>();

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/pipeline/Pipeline.java`
#### Snippet
```java
    private Map<DatanodeDetails, Long> nodeStatus = null;
    private List<Integer> nodeOrder = null;
    private List<DatanodeDetails> nodesInOrder = null;
    private UUID leaderId = null;
    private Instant creationTimestamp = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java`
#### Snippet
```java
    private String buildDate;
    private HddsProtos.NodeOperationalState persistedOpState;
    private long persistedOpStateExpiryEpochSec = 0;
    private int initialVersion;
    private int currentVersion = DatanodeVersion.CURRENT_VERSION;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java`
#### Snippet
```java
  private String buildDate;
  private HddsProtos.NodeOperationalState persistedOpState;
  private long persistedOpStateExpiryEpochSec = 0;
  private int initialVersion;
  private int currentVersion;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/NativeCheckSumCRC32.java`
#### Snippet
```java

  private ByteBuffer checksum = ByteBuffer.allocate(4);
  private boolean needsReset = false;

  public NativeCheckSumCRC32(int checksumType, int bytesPerSum) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
  private final boolean isDuplicated;
  /** The index of the first non-full buffer. */
  private int firstNonFullIndex = 0;

  IncrementalChunkBuffer(int limit, int increment, boolean isDuplicated) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ha/ratis/RatisSnapshotInfo.java`
#### Snippet
```java
  static final Logger LOG = LoggerFactory.getLogger(RatisSnapshotInfo.class);

  private volatile long term = 0;
  private volatile long snapshotIndex = -1;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ChunkInfo.java`
#### Snippet
```java
  // reside in one buffer). This variable should be set to true for older
  // clients to maintain backward wire compatibility.
  private boolean readDataIntoSingleBuffer = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/BasicUpgradeFinalizer.java`
#### Snippet
```java

  private final Queue<String> msgs = new ConcurrentLinkedQueue<>();
  private boolean isDone = false;

  public BasicUpgradeFinalizer(V versionManager) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMContext.java`
#### Snippet
```java
    private boolean isInSafeMode = false;
    private boolean isPreCheckComplete = true;
    private OzoneStorageContainerManager scm = null;
    private FinalizationCheckpoint finalizationCheckpoint;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMContext.java`
#### Snippet
```java
    private boolean isLeader = false;
    private long term = INVALID_TERM;
    private boolean isInSafeMode = false;
    private boolean isPreCheckComplete = true;
    private OzoneStorageContainerManager scm = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMContext.java`
#### Snippet
```java
     * running without Ratis, out of safe mode, and has completed preCheck.
     */
    private boolean isLeader = false;
    private long term = INVALID_TERM;
    private boolean isInSafeMode = false;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMStateMachine.java`
#### Snippet
```java
  // ensures serializable between notifyInstallSnapshotFromLeader()
  // and reinitialize().
  private DBCheckpoint installingDBCheckpoint = null;

  private AtomicLong currentLeaderTerm = new AtomicLong(-1L);
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
  private final String serviceName;
  private final Runnable periodicalTask;
  private volatile boolean runImmediately = false;

  private BackgroundSCMService(
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java
  private final long intervalInMillis;
  private final long waitTimeInMillis;
  private long lastTimeToBeReadyInMillis = 0;
  private final Clock clock;
  private final String serviceName;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/crl/CRLStatusReportHandler.java`
#### Snippet
```java
  private static final Logger LOGGER = LoggerFactory
      .getLogger(CRLStatusReportHandler.class);
  private CertificateStore certStore = null;
  private final boolean isSecurityEnabled;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
    private long sufficientlyReplicated = 0;
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
    private String host = "";
    private long pipelinesWaitingToClose = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
    private long underReplicatedContainers = 0;
    private String host = "";
    private long pipelinesWaitingToClose = 0;

    private static final MetricsInfo HOST_UNDER_REPLICATED = Interns.info(
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
  public static final class ContainerStateInWorkflow {
    private long sufficientlyReplicated = 0;
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
    private String host = "";
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
   */
  public static final class ContainerStateInWorkflow {
    private long sufficientlyReplicated = 0;
    private long unhealthyContainers = 0;
    private long underReplicatedContainers = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/CommandQueue.java`
#### Snippet
```java
   */
  private static class Commands {
    private long updateTime = 0;
    private long readTime = 0;
    private List<SCMCommand> commands = new ArrayList<>();
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/CommandQueue.java`
#### Snippet
```java
  private static class Commands {
    private long updateTime = 0;
    private long readTime = 0;
    private List<SCMCommand> commands = new ArrayList<>();
    private final Map<SCMCommandProto.Type, Integer> summary = new HashMap<>();
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DatanodeDeletedBlockTransactions.java`
#### Snippet
```java
  // counts blocks deleted across datanodes. Blocks deleted will be counted
  // for all the replicas and may not be unique.
  private int blocksDeleted = 0;

  DatanodeDeletedBlockTransactions() {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private NodeDecommissionMetrics metrics;
  private long pipelinesWaitingToClose = 0;
  private long sufficientlyReplicatedContainers = 0;
  private long trackedDecomMaintenance = 0;
  private long trackedRecommission = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long trackedRecommission = 0;
  private long unhealthyContainers = 0;
  private long underReplicatedContainers = 0;

  private Map<String, ContainerStateInWorkflow> containerStateByHost;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long trackedDecomMaintenance = 0;
  private long trackedRecommission = 0;
  private long unhealthyContainers = 0;
  private long underReplicatedContainers = 0;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long sufficientlyReplicatedContainers = 0;
  private long trackedDecomMaintenance = 0;
  private long trackedRecommission = 0;
  private long unhealthyContainers = 0;
  private long underReplicatedContainers = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private long pipelinesWaitingToClose = 0;
  private long sufficientlyReplicatedContainers = 0;
  private long trackedDecomMaintenance = 0;
  private long trackedRecommission = 0;
  private long unhealthyContainers = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java
  private Set<DatanodeDetails> trackedNodes = new HashSet<>();
  private NodeDecommissionMetrics metrics;
  private long pipelinesWaitingToClose = 0;
  private long sufficientlyReplicatedContainers = 0;
  private long trackedDecomMaintenance = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/ContainerReportQueue.java`
#### Snippet
```java
  private Map<String, List<ContainerReport>> dataMap = new HashMap<>();

  private int capacity = 0;

  private AtomicInteger droppedCount = new AtomicInteger();
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/BackgroundPipelineCreator.java`
#### Snippet
```java
  private final boolean createPipelineInSafeMode;
  private final long waitTimeInMillis;
  private long lastTimeToBeReadyInMillis = 0;
  private boolean oneShotRun = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/BackgroundPipelineCreator.java`
#### Snippet
```java
  private final long waitTimeInMillis;
  private long lastTimeToBeReadyInMillis = 0;
  private boolean oneShotRun = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/DataNodeSafeModeRule.java`
#### Snippet
```java
  // Min DataNodes required to exit safe mode.
  private int requiredDns;
  private int registeredDns = 0;
  // Set to track registered DataNodes.
  private HashSet<UUID> registeredDnSet;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/HealthyPipelineSafeModeRule.java`
#### Snippet
```java
      LoggerFactory.getLogger(HealthyPipelineSafeModeRule.class);
  private int healthyPipelineThresholdCount;
  private int currentHealthyPipelineCount = 0;
  private final double healthyPipelinesPercent;
  private final Set<PipelineID> processedPipelineIDs = new HashSet<>();
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/OneReplicaPipelineSafeModeRule.java`
#### Snippet
```java
  private Set<PipelineID> reportedPipelineIDSet = new HashSet<>();
  private Set<PipelineID> oldPipelineIDSet;
  private int currentReportedPipelineCount = 0;
  private PipelineManager pipelineManager;
  private final double pipelinePercent;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerConfiguration.java`
#### Snippet
```java
          "consuming , especially when the disk usage rate of a " +
          "data node is very high")
  private boolean triggerDuEnable = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancerConfiguration.java`
#### Snippet
```java
          "selecting a target for a source. " +
          "This configuration is false by default.")
  private boolean networkTopologyEnable = false;

  @Config(key = "trigger.du.before.move.enable", type = ConfigType.BOOLEAN,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancer.java`
#### Snippet
```java
  private ContainerBalancerMetrics metrics;
  private volatile Thread currentBalancingThread;
  private volatile ContainerBalancerTask task = null;
  private ReentrantLock lock;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/UnderReplicatedProcessor.java`
#### Snippet
```java
  private final ContainerReplicaPendingOps pendingOps;
  private final EventPublisher eventPublisher;
  private volatile boolean runImmediately = false;
  private final long intervalInMillis;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerHealthResult.java`
#### Snippet
```java
    private final boolean sufficientlyReplicatedAfterPending;
    private final boolean unrecoverable;
    private int requeueCount = 0;

    public UnderReplicatedHealthResult(ContainerInfo containerInfo,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/OverReplicatedProcessor.java`
#### Snippet
```java
  private final ContainerReplicaPendingOps pendingOps;
  private final EventPublisher eventPublisher;
  private volatile boolean runImmediately = false;
  private final long intervalInMillis;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ContainerReplicaPendingOps.java`
#### Snippet
```java
  private final ConcurrentHashMap<PendingOpType, AtomicLong>
      pendingOpCount = new ConcurrentHashMap<>();
  private ReplicationManagerMetrics replicationMetrics = null;

  public ContainerReplicaPendingOps(final ConfigurationSource conf,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
  private ServiceStatus serviceStatus = ServiceStatus.PAUSING;
  private final long waitTimeInMillis;
  private long lastTimeToBeReadyInMillis = 0;
  private final Clock clock;
  private final ContainerReplicaPendingOps containerReplicaPendingOps;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/AbstractCheck.java`
#### Snippet
```java
public abstract class AbstractCheck implements HealthCheck {

  private HealthCheck successor = null;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzonePrefixPathImpl.java`
#### Snippet
```java
  private int batchSize = 1000;
  private OzoneFileStatus pathStatus;
  private boolean checkRecursiveAccess = false;

  public OzonePrefixPathImpl(String volumeName, String bucketName,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
            " the maximum number of inflight replication."
    )
    private int containerInflightReplicationLimit = 0;

    @Config(key = "container.inflight.deletion.limit",
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
            " the maximum number of inflight deletion."
    )
    private int containerInflightDeletionLimit = 0;

    public void setContainerInflightReplicationLimit(int replicationLimit) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
    private OzoneManagerRatisSnapshot rs;
    private boolean isRatisEnabled = false;
    private boolean isTracingEnabled = false;
    private Function<Long, Long> indexToTerm = null;
    private int maxUnFlushedTransactionCount = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
    private boolean isTracingEnabled = false;
    private Function<Long, Long> indexToTerm = null;
    private int maxUnFlushedTransactionCount = 0;

    public Builder setOmMetadataManager(OMMetadataManager omm) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
    private OMMetadataManager mm;
    private OzoneManagerRatisSnapshot rs;
    private boolean isRatisEnabled = false;
    private boolean isTracingEnabled = false;
    private Function<Long, Long> indexToTerm = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerDoubleBuffer.java`
#### Snippet
```java
    private boolean isRatisEnabled = false;
    private boolean isTracingEnabled = false;
    private Function<Long, Long> indexToTerm = null;
    private int maxUnFlushedTransactionCount = 0;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/validation/RequestValidations.java`
#### Snippet
```java
  private String validationsPackageName = DEFAULT_PACKAGE;
  private ValidationContext context = null;
  private ValidatorRegistry registry = null;

  public synchronized RequestValidations fromPackage(String packageName) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/validation/RequestValidations.java`
#### Snippet
```java

  private String validationsPackageName = DEFAULT_PACKAGE;
  private ValidationContext context = null;
  private ValidatorRegistry registry = null;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/OMClientResponse.java`
#### Snippet
```java

  private OMResponse omResponse;
  private CompletableFuture<Void> flushFuture = null;

  private static final Logger LOG =
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/service/OMRangerBGSyncService.java`
#### Snippet
```java
  private final AtomicLong runCount = new AtomicLong(0);

  private volatile boolean isServiceStarted = false;

  static class BGRole {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0L` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/AuthorizerLockImpl.java`
#### Snippet
```java
  // authorizer write lock is acquired.
  private long omRequestWriteLockStamp = 0L;
  private long omRequestWriteLockHolderTid = 0L;

  @Override
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0L` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/AuthorizerLockImpl.java`
#### Snippet
```java
  // No need to use atomic here as both fields can only be updated after
  // authorizer write lock is acquired.
  private long omRequestWriteLockStamp = 0L;
  private long omRequestWriteLockHolderTid = 0L;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServer.java`
#### Snippet
```java
  private ReconTaskStatusMetrics reconTaskStatusMetrics;

  private volatile boolean isStarted = false;

  public static void main(String[] args) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java

  private final OzoneConfiguration conf;
  private boolean ignoreServerCert = false;
  private int connectionTimeout;
  private int connectionRequestTimeout;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainersResponse.java`
#### Snippet
```java
   */
  @JsonProperty("underReplicatedCount")
  private long underReplicatedCount = 0;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainersResponse.java`
#### Snippet
```java
   */
  @JsonProperty("misReplicatedCount")
  private long misReplicatedCount = 0;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainersResponse.java`
#### Snippet
```java
   */
  @JsonProperty("overReplicatedCount")
  private long overReplicatedCount = 0;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainersResponse.java`
#### Snippet
```java
   */
  @JsonProperty("missingCount")
  private long missingCount = 0;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainerMetadata.java`
#### Snippet
```java

  @XmlElement(name = "replicaDeltaCount")
  private long replicaDeltaCount = 0;

  @XmlElement(name = "reason")
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainerMetadata.java`
#### Snippet
```java

  @XmlElement(name = "actualReplicaCount")
  private long actualReplicaCount = 0;

  @XmlElement(name = "replicaDeltaCount")
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/UnhealthyContainerMetadata.java`
#### Snippet
```java

  @XmlElement(name = "expectedReplicaCount")
  private long expectedReplicaCount = 0;

  @XmlElement(name = "actualReplicaCount")
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

  private boolean isBootstrapping = false;
  private boolean isForcedBootstrapping = false;

  // Test flags
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  private final boolean isOmGrpcServerEnabled;
  private volatile boolean isOmRpcServerRunning = false;
  private volatile boolean isOmGrpcServerRunning = false;
  private String omComponent;
  private OzoneManagerProtocolServerSideTranslatorPB omServerProtocol;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      new ThreadLocal<>();

  private static boolean securityEnabled = false;
  private OzoneDelegationTokenSecretManager delegationTokenMgr;
  private OzoneBlockTokenSecretManager blockTokenMgr;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      new ConcurrentHashMap<>();

  private KeyProviderCryptoExtension kmsProvider = null;
  private static String keyProviderUriKeyName =
      CommonConfigurationKeysPublic.HADOOP_SECURITY_KEY_PROVIDER_PATH;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  private OzoneBlockTokenSecretManager blockTokenMgr;
  private CertificateClient certClient;
  private String caCertPem = null;
  private List<String> caCertPemList = new ArrayList<>();
  private final Text omRpcAddressTxt;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  // Test flags
  private static boolean testReloadConfigFlag = false;
  private static boolean testSecureOmFlag = false;

  private final OzoneLockProvider ozoneLockProvider;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  private OzoneManagerPrepareState prepareState;

  private boolean isBootstrapping = false;
  private boolean isForcedBootstrapping = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
  private S3SecretManager s3SecretManager;
  private final boolean isOmGrpcServerEnabled;
  private volatile boolean isOmRpcServerRunning = false;
  private volatile boolean isOmGrpcServerRunning = false;
  private String omComponent;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

  // Test flags
  private static boolean testReloadConfigFlag = false;
  private static boolean testSecureOmFlag = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java`
#### Snippet
```java
  private URLConnectionFactory connectionFactory;

  private File omSnapshotDBParentDir = null;
  private String omDBSnapshotUrl;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/recovery/ReconOmMetadataManagerImpl.java`
#### Snippet
```java
  private OzoneConfiguration ozoneConfiguration;
  private ReconUtils reconUtils;
  private boolean omTablesInitialized = false;

  @Inject
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneCryptoInputStream.java`
#### Snippet
```java
  // number of bytes must be discarded.
  private int readPositionAdjustedBy = 0;
  private int readLengthAdjustedBy = 0;

  public OzoneCryptoInputStream(LengthInputStream in,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneCryptoInputStream.java`
#### Snippet
```java
  // readPositionAdjustedBy number of bytes and the last readLengthAdjustedBy
  // number of bytes must be discarded.
  private int readPositionAdjustedBy = 0;
  private int readLengthAdjustedBy = 0;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/ObjectStore.java`
#### Snippet
```java

    private String user = null;
    private String volPrefix = null;

    private Iterator<OzoneVolume> currentIterator;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/ObjectStore.java`
#### Snippet
```java
  private class VolumeIterator implements Iterator<OzoneVolume> {

    private String user = null;
    private String volPrefix = null;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockOutputStreamEntry.java`
#### Snippet
```java

  private ECBlockOutputStream[] blockOutputStreams;
  private int currentStreamIdx = 0;
  private long successfulBlkGrpAckedLen;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0L` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java

  private String key;
  private long length = 0L;
  private boolean closed = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
  private String key;
  private long length = 0L;
  private boolean closed = false;

  // List of OzoneCryptoInputStream, one for each part of the key
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
  // Index of the partStream corresponding to the current position of the
  // MultipartCryptoKeyInputStream.
  private int partIndex = 0;

  // Tracks the partIndex corresponding to the last seeked position so that it
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
  // Tracks the partIndex corresponding to the last seeked position so that it
  // can be reset if a new position is seeked.
  private int prevPartIndex = 0;

  public MultipartCryptoKeyInputStream(String keyName,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0L` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/BaseFileChecksumHelper.java`
#### Snippet
```java
  private FileChecksum fileChecksum;
  private List<OmKeyLocationInfo> keyLocationInfos;
  private long remaining = 0L;
  private int bytesPerCRC = -1;
  private long crcPerBlock = 0;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/BaseFileChecksumHelper.java`
#### Snippet
```java
  private long remaining = 0L;
  private int bytesPerCRC = -1;
  private long crcPerBlock = 0;

  // initialization
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/hdds/freon/FakeRatisFollower.java`
#### Snippet
```java
  private static final Logger LOG =
          LoggerFactory.getLogger(FakeRatisFollower.class);
  private static int simulatedLatency = 0;

  static {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/FinalizeNewLayoutVersionCommand.java`
#### Snippet
```java
    extends SCMCommand<FinalizeNewLayoutVersionCommandProto> {

  private boolean finalizeUpgrade = false;
  private LayoutVersionProto layoutInfo;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
  // Then, blockOffset[0] = 0 (the offset of the first byte of data in
  // block[0]), blockOffset[1] = 200 and so on.
  private long[] blockOffsets = null;

  // Index of the blockStream corresponding to the current position of the
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
  private String key;
  private long length = 0;
  private boolean closed = false;

  // List of BlockInputStreams, one for each block in the key
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java

  private String key;
  private long length = 0;
  private boolean closed = false;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteBlockCommandStatus.java`
#### Snippet
```java
public class DeleteBlockCommandStatus extends CommandStatus {

  private ContainerBlocksDeletionACKProto blocksDeletionAck = null;

  public DeleteBlockCommandStatus(Type type, Long cmdId,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteBlockCommandStatus.java`
#### Snippet
```java
  public static final class DeleteBlockCommandStatusBuilder
      extends CommandStatusBuilder {
    private ContainerBlocksDeletionACKProto blocksDeletionAck = null;

    public static DeleteBlockCommandStatusBuilder newBuilder() {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteContainerCommand.java`
#### Snippet
```java
  private final long containerId;
  private final boolean force;
  private int replicaIndex = 0;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/ReplicateContainerCommand.java`
#### Snippet
```java
  private final long containerID;
  private final List<DatanodeDetails> sourceDatanodes;
  private int replicaIndex = 0;

  public ReplicateContainerCommand(long containerID,
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/PipelineReportPublisher.java`
#### Snippet
```java
    ReportPublisher<PipelineReportsProto> {

  private Long pipelineReportInterval = null;

  @Override
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ContainerReportPublisher.java`
#### Snippet
```java
    ReportPublisher<ContainerReportsProto> {

  private Long containerReportInterval = null;

  @Override
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/CRLStatusReportPublisher.java`
#### Snippet
```java
    ReportPublisher<CRLStatusReport> {

  private Long crlStatusReportInterval = null;

  @Override
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/StorageVolume.java`
#### Snippet
```java
    private SpaceUsageCheckFactory usageCheckFactory;
    private VolumeSet volumeSet;
    private boolean failedVolume = false;
    private String datanodeUuid;
    private String clusterID;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneVolume.java`
#### Snippet
```java
  private class BucketIterator implements Iterator<OzoneBucket> {

    private String bucketPrefix = null;

    private Iterator<OzoneBucket> currentIterator;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/ContainerMetrics.java`
#### Snippet
```java
  private MutableRate[] opsLatency;
  private MutableQuantiles[][] opsLatQuantiles;
  private MetricsRegistry registry = null;

  public ContainerMetrics(int[] intervals) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/DatanodeIdYaml.java`
#### Snippet
```java
    private String certSerialId;
    private String persistedOpState;
    private long persistedOpStateExpiryEpochSec = 0;
    private Map<String, Integer> portDetails;
    private int initialVersion;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/CSMMetrics.java`
#### Snippet
```java
  private @Metric MutableRate transactionLatency;
  private MutableRate[] opsLatency;
  private MetricsRegistry registry = null;

  // Failure Metrics
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/DispatcherContext.java`
#### Snippet
```java
  public static final class Builder {
    private WriteChunkStage stage = WriteChunkStage.COMBINED;
    private boolean readFromTmpFile = false;
    private long term;
    private long logIndex;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
  private final AtomicLong nextHB;
  private volatile Thread stateMachineThread = null;
  private Thread cmdProcessThread = null;
  private final ReplicationSupervisor supervisor;
  private final ECReconstructionSupervisor ecReconstructionSupervisor;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/DatanodeStateMachine.java`
#### Snippet
```java
  private long commandsHandled;
  private final AtomicLong nextHB;
  private volatile Thread stateMachineThread = null;
  private Thread cmdProcessThread = null;
  private final ReplicationSupervisor supervisor;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamServerHandler.java`
#### Snippet
```java
  private StreamingSource source;

  private boolean headerProcessed = false;

  public DirstreamServerHandler(StreamingSource source) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
  private final Map<InetSocketAddress, Queue<PipelineAction>> pipelineActions;
  private DatanodeStateMachine.DatanodeStates state;
  private boolean shutdownOnError = false;
  private boolean shutdownGracefully = false;
  private final AtomicLong threadPoolNotAvailableCount;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
  private DatanodeStateMachine.DatanodeStates state;
  private boolean shutdownOnError = false;
  private boolean shutdownGracefully = false;
  private final AtomicLong threadPoolNotAvailableCount;
  private final AtomicLong lastHeartbeatSent;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java`
#### Snippet
```java
  private String containerDBType = CONTAINER_DB_TYPE_ROCKSDB;

  private File dbFile = null;

  private String schemaVersion;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
  private final StateContext context;
  private long nodeFailureTimeoutMs;
  private boolean isStarted = false;
  private DatanodeDetails datanodeDetails;
  private final ConfigurationSource conf;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/AbstractContainerScanner.java`
#### Snippet
```java
   * Protected by this object's lock.
   */
  private volatile boolean stopping = false;

  public AbstractContainerScanner(String name, long dataScanInterval) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerScannerConfiguration.java`
#### Snippet
```java
      tags = {ConfigTag.STORAGE},
      description = "Config parameter to enable container scanner.")
  private boolean enabled = false;

  @Config(key = "metadata.scan.interval",
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
  private Set<String> attemptedOMs = new HashSet<>();
  private String lastAttemptedOM;
  private int numAttemptsOnSameOM = 0;
  private final long waitBetweenRetries;
  private Set<String> accessControlExceptionOMs = new HashSet<>();
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketArgs.java`
#### Snippet
```java
    private boolean quotaInBytesSet = false;
    private long quotaInBytes;
    private boolean quotaInNamespaceSet = false;
    private long quotaInNamespace;
    private DefaultReplicationConfig defaultReplicationConfig;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketArgs.java`
#### Snippet
```java
  private long quotaInBytes = OzoneConsts.QUOTA_RESET;
  private long quotaInNamespace = OzoneConsts.QUOTA_RESET;
  private boolean quotaInBytesSet = false;
  private boolean quotaInNamespaceSet = false;
  private DefaultReplicationConfig defaultReplicationConfig = null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketArgs.java`
#### Snippet
```java
  private long quotaInNamespace = OzoneConsts.QUOTA_RESET;
  private boolean quotaInBytesSet = false;
  private boolean quotaInNamespaceSet = false;
  private DefaultReplicationConfig defaultReplicationConfig = null;
  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketArgs.java`
#### Snippet
```java
    private StorageType storageType;
    private Map<String, String> metadata;
    private boolean quotaInBytesSet = false;
    private long quotaInBytes;
    private boolean quotaInNamespaceSet = false;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmBucketArgs.java`
#### Snippet
```java
  private boolean quotaInBytesSet = false;
  private boolean quotaInNamespaceSet = false;
  private DefaultReplicationConfig defaultReplicationConfig = null;
  /**
   * Bucket Owner Name.
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OMNodeDetails.java`
#### Snippet
```java
public final class OMNodeDetails extends NodeDetails {
  private int rpcPort;
  private boolean isDecommissioned = false;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java

  // gRPC specific
  private static List<X509Certificate> caCerts = null;

  private OzoneManagerServiceGrpc.OzoneManagerServiceBlockingStub client;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
  private List<String> oms;
  private RetryPolicy retryPolicy;
  private int failoverCount = 0;
  private GrpcOMFailoverProxyProvider<OzoneManagerProtocolPB>
      omFailoverProxyProvider;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmKeyGenerator.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  private OzoneManagerProtocol ozoneManagerClient;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyValidator.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  private Timer timer;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RangeKeysGenerator.java`
#### Snippet
```java
          description = "OM Service ID"
  )
  private String omServiceID = null;
  private KeyGeneratorUtil kg;
  private int clientCount;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyReadWriteOps.java`
#### Snippet
```java
          description = "OM Service ID"
  )
  private String omServiceID = null;

  private Timer timer;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OzoneClientKeyRemover.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  private Timer timer;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmRPCLoadGenerator.java`
#### Snippet
```java
                          "Max size is 2097151 KB",
          defaultValue = "0")
  private int payloadRespSizeKB = 0;
  @Override
  public Void call() throws Exception {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmRPCLoadGenerator.java`
#### Snippet
```java
                          "Max size is 2097151 KB",
          defaultValue = "0")
  private int payloadReqSizeKB = 0;

  @Option(names = {"--clients"},
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/Freon.java`
#### Snippet
```java
      description = "Enable internal http server to provide metric "
          + "and profile endpoint")
  private boolean httpServer = false;

  private final boolean interactive = System.console() != null;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketGenerator.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  private OzoneManagerProtocol ozoneManagerClient;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketRemover.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  private OzoneManagerProtocol ozoneManagerClient;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmBucketReadWriteKeyOps.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  @CommandLine.Mixin
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
  private String keyName = "";

  private boolean isPrefix = false;

  public OzoneAddress() throws OzoneClientException {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
          "volumes, buckets and keys."
  )
  private boolean cleanObjects = false;

  private ReplicationConfig replicationConfig;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
  private static final String DIGEST_ALGORITHM = "MD5";
  // A common initial MesssageDigest for each key without its UUID
  private MessageDigest commonInitialMD = null;

  private static final Logger LOG =
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
      description = "OM Service ID"
  )
  private String omServiceID = null;

  @Option(
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
          " name --validateWrites will be removed in later versions."
  )
  private boolean validateWrites = false;

  @Option(names = {"--num-of-validate-threads", "--numOfValidateThreads"},
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
  private static final int CHECK_INTERVAL_MILLIS = 5000;

  private byte[] keyValueBuffer = null;

  private static final String DIGEST_ALGORITHM = "MD5";
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/RandomKeyGenerator.java`
#### Snippet
```java
      LoggerFactory.getLogger(RandomKeyGenerator.class);

  private volatile boolean completed = false;
  private volatile Throwable exception;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/SignedChunksInputStream.java`
#### Snippet
```java
   * Numer of following databits. If zero, the signature line should be parsed.
   */
  private int remainingData = 0;

  public SignedChunksInputStream(InputStream inputStream) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ListMultipartUploadsResult.java`
#### Snippet
```java

  @XmlElement(name = "IsTruncated")
  private boolean isTruncated = false;

  @XmlElement(name = "Upload")
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMSecurityProtocolFailoverProxyProvider.java`
#### Snippet
```java
  private final UserGroupInformation ugi;

  private String updatedLeaderNodeID = null;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMBlockLocationFailoverProxyProvider.java`
#### Snippet
```java
  private final UserGroupInformation ugi;

  private String updatedLeaderNodeID = null;


```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMContainerLocationFailoverProxyProvider.java`
#### Snippet
```java
  private final UserGroupInformation ugi;

  private String updatedLeaderNodeID = null;

  /**
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/SCMUpdateServiceGrpcClient.java`
#### Snippet
```java
  private final AtomicBoolean isRunning = new AtomicBoolean(false);

  private UUID clientId = null;
  private StreamObserver<UpdateRequest> requestObserver;
  private CRLClientUpdateHandler handler;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/TransactionInfo.java`
#### Snippet
```java
   */
  public static class Builder {
    private long currentTerm = 0;
    private long transactionIndex = -1;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/MetadataKeyFilters.java`
#### Snippet
```java
    private boolean atleastOnePositiveMatch;
    private int keysScanned = 0;
    private int keysHinted = 0;

    public KeyPrefixFilter() { }
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/MetadataKeyFilters.java`
#### Snippet
```java
    private List<String> negativePrefixList = new ArrayList<>();
    private boolean atleastOnePositiveMatch;
    private int keysScanned = 0;
    private int keysHinted = 0;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `0L` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDBCheckpoint.java`
#### Snippet
```java
  private long checkpointTimestamp = System.currentTimeMillis();
  private long latestSequenceNumber = -1;
  private long checkpointCreationTimeTaken = 0L;

  public RocksDBCheckpoint(Path checkpointLocation) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/DBStoreBuilder.java`
#### Snippet
```java
  private RocksDBConfiguration rocksDBConfiguration;
  // Flag to indicate if the RocksDB should be opened readonly.
  private boolean openReadOnly = false;
  private final DBProfile defaultCfProfile;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/managed/ManagedColumnFamilyOptions.java`
#### Snippet
```java
   * instances.
   */
  private boolean reused = false;

  public ManagedColumnFamilyOptions(ColumnFamilyOptions columnFamilyOptions) {
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventQueue.java`
#### Snippet
```java
          .create();

  private boolean isSilent = false;

  // The field parent in DatanodeDetails class has the circular reference
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java

    private boolean findPort;
    private IntegerRanges portRanges = null;

    private String hostName;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `false` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
    private String[] pathSpecs;
    private AccessControlList adminsAcl;
    private boolean securityEnabled = false;
    private String usernameConfKey;
    private String keytabConfKey;
```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/client/DefaultCertificateClient.java`
#### Snippet
```java
  private long localCrlId;
  private String component;
  private List<String> pemEncodedCACerts = null;
  private final Lock lock;

```

### RuleId[ruleID=RedundantFieldInitialization]
Field initialization to `null` is redundant
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java
  private class KeyIterator implements Iterator<OzoneKey> {

    private String keyPrefix = null;
    private Iterator<OzoneKey> currentIterator;
    private OzoneKey currentValue;
```

## RuleId[ruleID=RedundantImplements]
### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Callable`
in `hadoop-ozone/csi/src/main/java/org/apache/hadoop/ozone/csi/CsiServer.java`
#### Snippet
```java
    versionProvider = HddsVersionProvider.class,
    mixinStandardHelpOptions = true)
public class CsiServer extends GenericCli implements Callable<Void> {

  private static final Logger LOG = LoggerFactory.getLogger(CsiServer.class);
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
 * not being used for a period of time.
 */
public class XceiverClientManager implements Closeable, XceiverClientFactory {
  private static final Logger LOG =
      LoggerFactory.getLogger(XceiverClientManager.class);
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `InsightPoint`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/datanode/RatisInsight.java`
#### Snippet
```java
 * Insight definition for datanode/pipeline metrics.
 */
public class RatisInsight extends BaseInsightPoint implements InsightPoint {

  private OzoneConfiguration conf;
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `InsightPoint`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/datanode/DatanodeDispatcherInsight.java`
#### Snippet
```java
 */
public class DatanodeDispatcherInsight extends BaseInsightPoint
    implements InsightPoint {

  private static final String DATANODE_FILTER = "datanode";
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `PlacementPolicy`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRandom.java`
#### Snippet
```java
 */
public final class SCMContainerPlacementRandom extends SCMCommonPlacementPolicy
    implements PlacementPolicy {
  @VisibleForTesting
  public static final Logger LOG =
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `IOzoneAcl`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManager.java`
#### Snippet
```java
 * Handles key level commands.
 */
public interface KeyManager extends OzoneManagerFS, IOzoneAcl {

  /**
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Seekable`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneCryptoInputStream.java`
#### Snippet
```java
 */
public class OzoneCryptoInputStream extends CryptoInputStream
    implements Seekable {

  private static final Logger LOG =
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Seekable`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
 */
public class MultipartCryptoKeyInputStream extends OzoneInputStream
    implements Seekable, CanUnbuffer {

  private static final Logger LOG =
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `CanUnbuffer`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/MultipartCryptoKeyInputStream.java`
#### Snippet
```java
 */
public class MultipartCryptoKeyInputStream extends OzoneInputStream
    implements Seekable, CanUnbuffer {

  private static final Logger LOG =
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/metadata/AbstractDatanodeStore.java`
#### Snippet
```java
  @InterfaceAudience.Public
  public static class KeyValueBlockIterator implements
          BlockIterator<BlockData>, Closeable {

    private static final Logger LOG = LoggerFactory.getLogger(
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
 */
public abstract class OMFailoverProxyProviderBase<T> implements
    FailoverProxyProvider<T>, Closeable {

  public static final Logger LOG =
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Callable`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SameKeyReader.java`
#### Snippet
```java
    showDefaultValues = true)
public class SameKeyReader extends OzoneClientKeyValidator
    implements Callable<Void> {

  @Option(names = {"-k", "--key"},
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Callable`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/containergenerator/GeneratorOm.java`
#### Snippet
```java
    showDefaultValues = true)
public class GeneratorOm extends BaseGenerator implements
    Callable<Void> {

  @Option(names = {"-v", "--volume"},
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMSecurityProtocolFailoverProxyProvider.java`
#### Snippet
```java
 */
public class SCMSecurityProtocolFailoverProxyProvider implements
    FailoverProxyProvider<SCMSecurityProtocolPB>, Closeable {

  public static final Logger LOG =
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMBlockLocationFailoverProxyProvider.java`
#### Snippet
```java
 */
public class SCMBlockLocationFailoverProxyProvider implements
    FailoverProxyProvider<ScmBlockLocationProtocolPB>, Closeable {
  public static final Logger LOG =
      LoggerFactory.getLogger(SCMBlockLocationFailoverProxyProvider.class);
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/proxy/SCMContainerLocationFailoverProxyProvider.java`
#### Snippet
```java
 */
public class SCMContainerLocationFailoverProxyProvider implements
    FailoverProxyProvider<StorageContainerLocationProtocolPB>, Closeable {
  public static final Logger LOG =
      LoggerFactory.getLogger(SCMContainerLocationFailoverProxyProvider.class);
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/ScmBlockLocationProtocolClientSideTranslatorPB.java`
#### Snippet
```java
@InterfaceAudience.Private
public final class ScmBlockLocationProtocolClientSideTranslatorPB
    implements ScmBlockLocationProtocol, ProtocolTranslator, Closeable {

  /**
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBSstFileLoader.java`
#### Snippet
```java
 * DumpFileLoader using rocksdb sst files.
 */
public class RDBSstFileLoader implements DumpFileLoader, Closeable {

  private final RocksDatabase db;
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RDBSstFileWriter.java`
#### Snippet
```java
 * DumpFileWriter using rocksdb sst files.
 */
public class RDBSstFileWriter implements DumpFileWriter, Closeable {

  private ManagedSstFileWriter sstFileWriter;
```

### RuleId[ruleID=RedundantImplements]
Redundant interface declaration `Closeable`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/StorageContainerLocationProtocolClientSideTranslatorPB.java`
#### Snippet
```java
@InterfaceAudience.Private
public final class StorageContainerLocationProtocolClientSideTranslatorPB
    implements StorageContainerLocationProtocol, ProtocolTranslator, Closeable {

  /**
```

## RuleId[ruleID=InstanceofCatchParameter]
### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockInputStreamProxy.java`
#### Snippet
```java
        throw e;
      }
      if (e instanceof BadDataLocationException) {
        String message = "Failing over to reconstruction read due" +
                " to an error in ECBlockReader.";
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
          adapter.getFileStatus(key, uri, qualifiedPath, getUsername()));
    } catch (IOException ex) {
      if (ex instanceof OMException) {
        if (((OMException) ex).getResult()
            .equals(OMException.ResultCodes.KEY_NOT_FOUND)) {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
        adapter.getFileStatus(key, uri, qualifiedPath, getUsername());
    } catch (IOException e) {
      if (e instanceof OMException) {
        OMException ex = (OMException) e;
        if (ex.getResult().equals(OMException.ResultCodes.KEY_NOT_FOUND) ||
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `t`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBufferFactory.java`
#### Snippet
```java
        return (Checksum) NEW_CRC32C_MH.invoke();
      } catch (Throwable t) {
        throw (t instanceof RuntimeException) ? (RuntimeException) t
            : new RuntimeException(t);
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ioe`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMBlockProtocolServer.java`
#### Snippet
```java
      e = ioe;
      LOG.warn("Fail to delete {} keys", keyBlocksInfoList.size(), ioe);
      switch (ioe instanceof SCMException ? ((SCMException) ioe).getResult() :
          IO_EXCEPTION) {
      case SAFE_MODE_EXCEPTION:
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `t`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/ReplicationManager.java`
#### Snippet
```java
      }
    } catch (Throwable t) {
      if (t instanceof InterruptedException) {
        LOG.info("Replication Monitor Thread is stopped");
        Thread.currentThread().interrupt();
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
      metadataManager.getBucketTable().put(dbBucketKey, bucketInfo);
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Set acl operation failed for bucket:{}/{} acl:{}",
            volume, bucket, StringUtils.join(",", acls), ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
      return hasAccess;
    } catch (IOException ex) {
      if (ex instanceof OMException) {
        throw (OMException) ex;
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
      return bucketInfo.getAcls();
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Get acl operation failed for bucket:{}/{}.",
            volume, bucket, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Remove acl operation failed for bucket:{}/{} acl:{}",
            volume, bucket, acl, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Add acl operation failed for bucket:{}/{} acl:{}",
            volume, bucket, acl, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/BucketManagerImpl.java`
#### Snippet
```java
      return value;
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Exception while getting bucket info for bucket: {}",
            bucketName, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/VolumeManagerImpl.java`
#### Snippet
```java
      Preconditions.checkState(volume.equals(volumeArgs.getVolume()));
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Set acl operation failed for volume:{} acls:{}",
            volume, acls, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/VolumeManagerImpl.java`
#### Snippet
```java
      return volumeArgs;
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.warn("Info volume failed for volume:{}", volume, ex);
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/VolumeManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Add acl operation failed for volume:{} acl:{}",
            volume, acl, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/VolumeManagerImpl.java`
#### Snippet
```java
      Preconditions.checkState(volume.equals(volumeArgs.getVolume()));
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Remove acl operation failed for volume:{} acl:{}",
            volume, acl, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/VolumeManagerImpl.java`
#### Snippet
```java
      return hasAccess;
    } catch (IOException ex) {
      if (ex instanceof OMException) {
        throw (OMException) ex;
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/VolumeManagerImpl.java`
#### Snippet
```java
      return volumeArgs.getAcls();
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Get acl operation failed for volume:{}", volume, ex);
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (ex instanceof OMException) {
        final OMException omEx = (OMException) ex;
        if (omEx.getResult().equals(OMException.ResultCodes.TENANT_NOT_FOUND)) {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java

    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Remove prefix acl operation failed for prefix path:{}" +
            " acl:{}", prefixPath, acl, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java
      return omPrefixAclOpResult.isSuccess();
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Set prefix acl operation failed for prefix path:{} acls:{}",
            prefixPath, acls, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java
      return omPrefixAclOpResult.isSuccess();
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Add acl operation failed for prefix path:{} acl:{}",
            prefixPath, acl, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Remove acl operation failed for key:{}/{}/{}", volume,
            bucket, keyName, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      return hasAccess;
    } catch (IOException ex) {
      if (ex instanceof OMException) {
        throw (OMException) ex;
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (ex instanceof OMException) {
        throw ex;
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Set acl operation failed for key:{}/{}/{}", volume,
            bucket, keyName, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      return keyInfo.getAcls();
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Get acl operation failed for key:{}/{}/{}", volume,
            bucket, keyName, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
      }
    } catch (IOException ex) {
      if (!(ex instanceof OMException)) {
        LOG.error("Add acl operation failed for key:{}/{}/{}", volume,
            bucket, keyName, ex);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/upgrade/OMPrepareRequest.java`
#### Snippet
```java
        LOG.error("Failed to delete prepare marker file.", ex);
      }
      if (e instanceof InterruptedException) {
        Thread.currentThread().interrupt();
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java`
#### Snippet
```java
      validatedRequest = requestValidations.validateRequest(request);
    } catch (Exception e) {
      if (e instanceof OMException) {
        return createErrorResponse(request, (OMException) e);
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ioe`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      bucketInfo = metadataManager.getBucketTable().get(dbBucketKey);
    } catch (IOException ioe) {
      if (ioe instanceof OMException) {
        throw (OMException)ioe;
      } else {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ioe`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      volumeArgs = metadataManager.getVolumeTable().get(dbVolumeKey);
    } catch (IOException ioe) {
      if (ioe instanceof OMException) {
        throw (OMException)ioe;
      } else {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `t`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/PipelineSyncTask.java`
#### Snippet
```java
    } catch (Throwable t) {
      LOG.error("Exception in Pipeline sync Thread.", t);
      if (t instanceof InterruptedException) {
        Thread.currentThread().interrupt();
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconPipelineReportHandler.java`
#### Snippet
```java
            scmServiceProvider.getPipeline(report.getPipelineID());
      } catch (IOException ex) {
        if (ex instanceof RemoteException) {
          IOException ioe = ((RemoteException) ex)
                  .unwrapRemoteException(PipelineNotFoundException.class);
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `t`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
    } catch (Throwable t) {
      LOG.error("Exception in Missing Container task Thread.", t);
      if (t instanceof InterruptedException) {
        Thread.currentThread().interrupt();
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneClientFactory.java`
#### Snippet
```java
      final String message = "Couldn't create RpcClient protocol";
      LOG.error(message + " exception: ", e);
      if (e instanceof RemoteException) {
        throw ((RemoteException) e).unwrapRemoteException();
      } else if (e.getCause() instanceof IOException) {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ioe`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java`
#### Snippet
```java
      dispatcher.validateContainerCommand(proto);
    } catch (IOException ioe) {
      if (ioe instanceof ContainerNotOpenException) {
        metrics.incNumContainerNotOpenVerifyFailures();
      } else {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
        builder.addAllMetadata(gKey.getKeyDetails());
      } catch (Exception e) {
        if (e instanceof InvalidKeyException &&
            e.getMessage().contains("Illegal key size or default parameters")) {
          LOG.error("Missing Unlimited Strength Policy jars. Please install " +
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `ex`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainer.java`
#### Snippet
```java

    } catch (Exception ex) {
      if (ex instanceof StorageContainerException &&
          ((StorageContainerException) ex).getResult() ==
              CONTAINER_ALREADY_EXISTS) {
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
      handleError(submitRequest(omRequest));
    } catch (IOException e) {
      if (e instanceof OMException) {
        throw (OMException)e;
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
      return resp.getResponse().getNewExpiryTime();
    } catch (IOException e) {
      if (e instanceof OMException) {
        throw (OMException)e;
      }
```

### RuleId[ruleID=InstanceofCatchParameter]
'instanceof' on 'catch' parameter `e`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java
          : null;
    } catch (IOException e) {
      if (e instanceof OMException) {
        throw (OMException)e;
      }
```

## RuleId[ruleID=ArrayEquality]
### RuleId[ruleID=ArrayEquality]
Array objects are compared using `!=`, not 'Arrays.equals()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
  private RaftClientRequest createWriteRaftClientRequest(OMRequest omRequest) {
    if (!ozoneManager.isTestSecureOmFlag()) {
      Preconditions.checkArgument(Server.getClientId() != DUMMY_CLIENT_ID);
      Preconditions.checkArgument(Server.getCallId() != INVALID_CALL_ID);
    }
```

## RuleId[ruleID=StringBufferReplaceableByStringBuilder]
### RuleId[ruleID=StringBufferReplaceableByStringBuilder]
`StringBuffer newPath` may be declared as 'StringBuilder'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaManager.java`
#### Snippet
```java
      return path;
    }
    StringBuffer newPath = new StringBuffer(NetConstants.ROOT);
    // skip the ROOT and LEAF layer
    int i, j;
```

### RuleId[ruleID=StringBufferReplaceableByStringBuilder]
`StringBuffer buffer` may be declared as 'StringBuilder'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer buffer = new StringBuffer();
    buffer.append("numBlockDeletionTransactionCreated = "
        + numBlockDeletionTransactionCreated.value()).append("\t")
```

### RuleId[ruleID=StringBufferReplaceableByStringBuilder]
`StringBuffer buffer` may be declared as 'StringBuilder'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/BlockDeletingServiceMetrics.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer buffer = new StringBuffer();
    buffer.append("successCount = " + successCount.value()).append("\t")
        .append("successBytes = " + successBytes.value()).append("\t")
```

### RuleId[ruleID=StringBufferReplaceableByStringBuilder]
`StringBuffer sb` may be declared as 'StringBuilder'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/DeletedContainerBlocksSummary.java`
#### Snippet
```java

  @Override public String toString() {
    StringBuffer sb = new StringBuffer();
    for (DeletedBlocksTransaction blks : blocks) {
      sb.append(" ")
```

## RuleId[ruleID=RedundantStringFormatCall]
### RuleId[ruleID=RedundantStringFormatCall]
Redundant call to `format()`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ListSubCommand.java`
#### Snippet
```java
    for (Entry<String, InsightPoint> entry : insightPoints.entrySet()) {
      if (insightPrefix == null || entry.getKey().startsWith(insightPrefix)) {
        System.out.println(String.format("  %-33s    %s", entry.getKey(),
            entry.getValue().getDescription()));
      }
```

### RuleId[ruleID=RedundantStringFormatCall]
Redundant call to `format()`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Shell.java`
#### Snippet
```java
      // In non-verbose mode, reformat OMExceptions as error messages to the
      // user.
      System.err.println(String.format("%s %s", omException.getResult().name(),
              omException.getMessage()));
    } else {
```

## RuleId[ruleID=NonFinalFieldOfException]
### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `failedLocation` of exception class
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/BadDataLocationException.java`
#### Snippet
```java
public class BadDataLocationException extends IOException {

  private DatanodeDetails failedLocation;

  public BadDataLocationException(DatanodeDetails dn) {
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `event` of exception class
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/statemachine/InvalidStateTransitionException.java`
#### Snippet
```java
public class InvalidStateTransitionException extends Exception {
  private Enum<?> currentState;
  private Enum<?> event;

  public InvalidStateTransitionException(Enum<?> currentState, Enum<?> event) {
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `currentState` of exception class
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/statemachine/InvalidStateTransitionException.java`
#### Snippet
```java
 */
public class InvalidStateTransitionException extends Exception {
  private Enum<?> currentState;
  private Enum<?> event;

```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `code` of exception class
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java
  }
  @XmlElement(name = "Code")
  private String code;

  @XmlElement(name = "Message")
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `httpCode` of exception class
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java

  @XmlTransient
  private int httpCode;

  public OS3Exception() {
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `mapper` of exception class
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java
  private static final Logger LOG =
      LoggerFactory.getLogger(OS3Exception.class);
  private static ObjectMapper mapper;

  static {
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `requestId` of exception class
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java

  @XmlElement(name = "RequestId")
  private String requestId;

  @XmlTransient
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `resource` of exception class
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java

  @XmlElement(name = "Resource")
  private String resource;

  @XmlElement(name = "RequestId")
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `errorMessage` of exception class
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/OS3Exception.java`
#### Snippet
```java

  @XmlElement(name = "Message")
  private String errorMessage;

  @XmlElement(name = "Resource")
```

### RuleId[ruleID=NonFinalFieldOfException]
Non-final field `errorCode` of exception class
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/exceptions/CertificateException.java`
#### Snippet
```java
public class CertificateException extends SCMSecurityException {

  private ErrorCode errorCode;
  /**
   * Ctor.
```

## RuleId[ruleID=ZeroLengthArrayInitialization]
### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
      coderNameMap.put(codecName, coders.stream().
          map(RawErasureCoderFactory::getCoderName).
          collect(Collectors.toList()).toArray(new String[0]));
    }
  }
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/RatisBlockOutputStream.java`
#### Snippet
```java
    // wait for all the transactions to complete
    CompletableFuture.allOf(commitWatcher.getFutureMap().values().toArray(
        new CompletableFuture[0])).get();
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ChunkInputStream.java`
#### Snippet
```java
    if (readChunkResponse.hasData()) {
      return readChunkResponse.getData().asReadOnlyByteBufferList()
          .toArray(new ByteBuffer[0]);
    } else if (readChunkResponse.hasDataBuffers()) {
      List<ByteString> buffersList = readChunkResponse.getDataBuffers()
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java

    if (fileStatus == null) {
      return new BlockLocation[0];
    }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
    if (keyInfo == null || CollectionUtils.isEmpty(
        keyInfo.getKeyLocationVersions())) {
      return new BlockLocation[0];
    }
    List<OmKeyLocationInfoGroup> omKeyLocationInfoGroups =
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getKeyLocationVersions();
    if (CollectionUtils.isEmpty(omKeyLocationInfoGroups)) {
      return new BlockLocation[0];
    }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        ozoneVolume.getCreationTime().getEpochSecond() * 1000, 0L,
        FsPermission.getDirDefault().toShort(),
        owner, group, path, new BlockLocation[0], false, false
    );
  }
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java

    if (fileStatus == null) {
      return new BlockLocation[0];
    }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
    if (keyInfo == null || CollectionUtils.isEmpty(
        keyInfo.getKeyLocationVersions())) {
      return new BlockLocation[0];
    }
    List<OmKeyLocationInfoGroup> omKeyLocationInfoGroups =
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getKeyLocationVersions();
    if (CollectionUtils.isEmpty(omKeyLocationInfoGroups)) {
      return new BlockLocation[0];
    }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        ozoneBucket.getCreationTime().getEpochSecond() * 1000, 0L,
        FsPermission.getDirDefault().toShort(),
        owner, group, path, new BlockLocation[0],
        !StringUtils.isEmpty(ozoneBucket.getEncryptionKeyName()),
        ozoneBucket.getReplicationConfig() != null &&
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        System.currentTimeMillis(), 0L,
        FsPermission.getDirDefault().toShort(),
        null, null, null, new BlockLocation[0], false, false);
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java


    return statuses.toArray(new FileStatus[0]);
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/fs/DU.java`
#### Snippet
```java
    }
    parts.add(getPath());
    return parts.toArray(new String[0]);
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/audit/AuditMessage.java`
#### Snippet
```java
  @Override
  public Object[] getParameters() {
    return new Object[0];
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChunkBufferImplWithByteBufferList.java`
#### Snippet
```java
  @Override
  public long writeTo(GatheringByteChannel channel) throws IOException {
    long bytes = channel.write(buffers.toArray(new ByteBuffer[0]));
    findCurrent();
    return bytes;
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
  @Override
  public long writeTo(GatheringByteChannel channel) throws IOException {
    return channel.write(buffers.toArray(new ByteBuffer[0]));
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/utils/BufferUtils.java`
#### Snippet
```java
  public static ByteBuffer[] getReadOnlyByteBuffersArray(
      List<ByteString> byteStrings) {
    return getReadOnlyByteBuffers(byteStrings).toArray(new ByteBuffer[0]);
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAInvocationHandler.java`
#### Snippet
```java
    // if the method takes no arguments. Convert this to an empty array for
    // easier handling.
    Object[] convertedArgs = (args == null) ? new Object[]{} : args;
    try {
      long startTime = Time.monotonicNow();
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManagerStarter.java`
#### Snippet
```java

    String[] originalArgs = getCmd().getParseResult().originalArgs()
        .toArray(new String[0]);
    StringUtils.startupShutdownMessage(HddsVersionInfo.HDDS_VERSION_INFO,
        StorageContainerManager.class, originalArgs, LOG);
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/metadata/ByteStringCodec.java`
#### Snippet
```java
  public byte[] toPersistedFormat(ByteString object) throws IOException {
    if (object == null) {
      return new byte[0];
    }
    return object.toByteArray();
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
      }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
      }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
        nodesRequired--;
        if (nodesRequired == 0) {
          return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
        }
        // choose remaining nodes on different racks
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
      }
      // choose remaining nodes on different racks
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
      nodesRequired--;
      if (nodesRequired == 0) {
        return Arrays.asList(chosenNodes.toArray(new DatanodeDetails[0]));
      }
    }
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
      fileStatuses.add(fileStatus);
    }
    return fileStatuses.toArray(new FileStatus[0]);
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerStarter.java`
#### Snippet
```java

    String[] originalArgs = getCmd().getParseResult().originalArgs()
        .toArray(new String[0]);
    StringUtils.startupShutdownMessage(OzoneVersionInfo.OZONE_VERSION_INFO,
        OzoneManager.class, originalArgs, LOG);
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java

    if (omKeyArgs.getLatestVersionLocation()) {
      slimLocationVersion(keyInfoList.toArray(new OmKeyInfo[0]));
    }
    // refreshPipeline flag check has been removed as part of
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java

    if (omKeyArgs.getSortDatanodes()) {
      sortDatanodes(clientAddress, keyInfoList.toArray(new OmKeyInfo[0]));
    }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    fileStatusList.stream().map(s -> s.getKeyInfo()).forEach(keyInfoList::add);
    if (args.getLatestVersionLocation()) {
      slimLocationVersion(keyInfoList.toArray(new OmKeyInfo[0]));
    }
    refreshPipeline(keyInfoList);
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java

    if (args.getSortDatanodes()) {
      sortDatanodes(clientAddress, keyInfoList.toArray(new OmKeyInfo[0]));
    }
    return fileStatusList;
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServer.java`
#### Snippet
```java
  public Void call() throws Exception {
    String[] originalArgs = getCmd().getParseResult().originalArgs()
        .toArray(new String[0]);
    StringUtils.startupShutdownMessage(OzoneVersionInfo.OZONE_VERSION_INFO,
        ReconServer.class, originalArgs, LOG);
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerRequestHandler.java`
#### Snippet
```java
      return resp;
    }
    byte[] payloadBytes = new byte[0];
    int payloadRespSize = Math.min(
            req.getEchoRPCRequest().getPayloadSizeResp()
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/FilePerBlockStrategy.java`
#### Snippet
```java
    if (info.getLen() <= 0) {
      LOG.debug("Skip reading empty chunk {}", info);
      return ChunkBuffer.wrap(ByteBuffer.wrap(new byte[0]));
    }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/OmRPCLoadGenerator.java`
#### Snippet
```java
  private OzoneConfiguration configuration;
  private OzoneManagerProtocolClientSideTranslatorPB[] clients;
  private byte[] payloadReqBytes = new byte[0];
  private int payloadRespSize;
  @Option(names = {"--payload-req"},
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/Gateway.java`
#### Snippet
```java
  public void start() throws IOException {
    String[] originalArgs = getCmd().getParseResult().originalArgs()
        .toArray(new String[0]);
    StringUtils.startupShutdownMessage(OzoneVersionInfo.OZONE_VERSION_INFO,
        Gateway.class, originalArgs, LOG);
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/ContinueToken.java`
#### Snippet
```java

      byte[] rawLastKey = lastKey.getBytes(StandardCharsets.UTF_8);
      byte[] rawLastDir = (lastDir == null ? new byte[0] :
          lastDir.getBytes(StandardCharsets.UTF_8));

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/RocksDBStoreMBean.java`
#### Snippet
```java

    return new MBeanInfo("", "RocksDBStat",
        attributes.toArray(new MBeanAttributeInfo[0]), null, null, null);

  }
```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/PKIProfiles/DefaultProfile.java`
#### Snippet
```java
  @Override
  public RDN[] getRDNs() {
    return new RDN[0];
  }

```

### RuleId[ruleID=ZeroLengthArrayInitialization]
Allocation of zero length array
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/authority/PKIProfiles/DefaultProfile.java`
#### Snippet
```java
  @Override
  public ASN1ObjectIdentifier[] getSupportedExtensions() {
    return getExtensionsMap().keySet().toArray(new ASN1ObjectIdentifier[0]);
  }

```

## RuleId[ruleID=FuseStreamOperations]
### RuleId[ruleID=FuseStreamOperations]
Stream may be extended replacing 'toArray'
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/CodecRegistry.java`
#### Snippet
```java
      coderNameMap.put(codecName, coders.stream().
          map(RawErasureCoderFactory::getCoderName).
          collect(Collectors.toList()).toArray(new String[0]));
    }
  }
```

### RuleId[ruleID=FuseStreamOperations]
Stream may be extended replacing 'toArray'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java`
#### Snippet
```java
    List<CompletableFuture<ContainerCommandResponseProto>> futureList =
        writeChunkFutureMap.entrySet().stream().filter(x -> x.getKey() <= index)
            .map(Map.Entry::getValue).collect(Collectors.toList());
    return CompletableFuture.allOf(
        futureList.toArray(new CompletableFuture[futureList.size()]));
```

## RuleId[ruleID=NullArgumentToVariableArgMethod]
### RuleId[ruleID=NullArgumentToVariableArgMethod]
Confusing argument `packageNames`, unclear if a varargs or non-varargs call is desired
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/upgrade/HDDSLayoutVersionManager.java`
#### Snippet
```java
  @VisibleForTesting
  void registerUpgradeActions(String[] packageNames) {
    Reflections reflections = new Reflections(packageNames);
    Set<Class<?>> typesAnnotatedWith =
        reflections.getTypesAnnotatedWith(UpgradeActionHdds.class);
```

### RuleId[ruleID=NullArgumentToVariableArgMethod]
Confusing argument `arguments`, unclear if a varargs or non-varargs call is desired
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
  private static void throwConfException(String message, String... arguments)
      throws IllegalArgumentException {
    String exceptionMsg = String.format(message, arguments);
    LOG.error(exceptionMsg);
    throw new IllegalArgumentException(exceptionMsg);
```

### RuleId[ruleID=NullArgumentToVariableArgMethod]
Confusing argument `arguments`, unclear if a varargs or non-varargs call is desired
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ha/OMHANodeDetails.java`
#### Snippet
```java
  private static void throwConfException(String message, String... arguments)
      throws IllegalArgumentException {
    String exceptionMsg = String.format(message, arguments);
    LOG.error(exceptionMsg);
    throw new OzoneIllegalArgumentException(exceptionMsg);
```

## RuleId[ruleID=TypeParameterExtendsObject]
### RuleId[ruleID=TypeParameterExtendsObject]
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java

    @Override
    protected Set<Property> getProperties(Class<? extends Object> type) {
      Set<Property> set = super.getProperties(type);
      Set<Property> filtered = new TreeSet<Property>();
```

## RuleId[ruleID=NonExceptionNameEndsWithException]
### RuleId[ruleID=NonExceptionNameEndsWithException]
Non-exception class name `FunctionWithServiceException` ends with 'Exception'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/function/FunctionWithServiceException.java`
#### Snippet
```java
 */
@FunctionalInterface
public interface FunctionWithServiceException<T, R> {

  /**
```

### RuleId[ruleID=NonExceptionNameEndsWithException]
Non-exception class name `SupplierWithIOException` ends with 'Exception'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/function/SupplierWithIOException.java`
#### Snippet
```java
 */
@FunctionalInterface
public interface SupplierWithIOException<T> {

  /**
```

## RuleId[ruleID=ConstantValue]
### RuleId[ruleID=ConstantValue]
Condition `pipeline.getNodes() != null` is always `true`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
      throws IOException {
    Preconditions.checkNotNull(pipeline);
    Preconditions.checkArgument(pipeline.getNodes() != null);
    Preconditions.checkArgument(!pipeline.getNodes().isEmpty(),
        NO_REPLICA_FOUND);
```

### RuleId[ruleID=ConstantValue]
Value `recursive` is always 'true'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
      if (recursive) {
        String pathStrNextVolume = volume.getName();
        res.addAll(listStatus(pathStrNextVolume, recursive, startPath,
            numEntries - res.size(), uri, workingDir, username));
      }
```

### RuleId[ruleID=ConstantValue]
Value `recursive` is always 'true'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
      if (recursive) {
        String pathStrNext = volumeStr + OZONE_URI_DELIMITER + bucket.getName();
        res.addAll(listStatus(pathStrNext, recursive, startPath,
            numEntries - res.size(), uri, workingDir, username));
      }
```

### RuleId[ruleID=ConstantValue]
Condition `thisListing != null` is always `true`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
          // current listing is exhausted & fetch a new listing
          thisListing = listFileStatus(p, startPath);
          if (thisListing != null && !thisListing.isEmpty()) {
            startPath = pathToKey(
                thisListing.get(thisListing.size() - 1).getPath());
```

### RuleId[ruleID=ConstantValue]
Condition `thisListing != null` is always `true`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
      // fetch the first batch of entries in the directory
      thisListing = listFileStatus(p, startPath);
      if (thisListing != null && !thisListing.isEmpty()) {
        startPath = pathToKey(
            thisListing.get(thisListing.size() - 1).getPath());
```

### RuleId[ruleID=ConstantValue]
Condition `thisListing != null` is always `true`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
          // current listing is exhausted & fetch a new listing
          thisListing = listFileStatus(p, startPath);
          if (thisListing != null && !thisListing.isEmpty()) {
            startPath = pathToKey(
                thisListing.get(thisListing.size() - 1).getPath());
```

### RuleId[ruleID=ConstantValue]
Value `symLink` is always 'null'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
        fileStatusAdapter.getOwner(),
        fileStatusAdapter.getGroup(),
        symLink,
        fileStatusAdapter.getPath()
    );
```

### RuleId[ruleID=ConstantValue]
Condition `thisListing != null` is always `true`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
      // fetch the first batch of entries in the directory
      thisListing = listFileStatus(p, startPath);
      if (thisListing != null && !thisListing.isEmpty()) {
        startPath = pathToKey(
            thisListing.get(thisListing.size() - 1).getPath());
```

### RuleId[ruleID=ConstantValue]
Condition `i == limitIndex` is always `true`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/IncrementalChunkBuffer.java`
#### Snippet
```java
        if (i < limitIndex) {
          assertInt(increment, ith.capacity(), "capacity", i);
        } else if (i == limitIndex) {
          assertInt(getBufferCapacityAtIndex(i), ith.limit(), "capacity", i);
        } else {
```

### RuleId[ruleID=ConstantValue]
Condition `dbBackup != null` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
      // so that SCM can restart from the old db.
      try {
        if (dbBackup != null) {
          dbBackup =
              HAUtils.replaceDBWithCheckpoint(lastAppliedIndex, oldDBLocation,
```

### RuleId[ruleID=ConstantValue]
Condition `dbBackup != null` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
    // Delete the backup DB
    try {
      if (dbBackup != null) {
        FileUtils.deleteFully(dbBackup);
      }
```

### RuleId[ruleID=ConstantValue]
Value `isLeaderReady` is always 'false'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMContext.java`
#### Snippet
```java
      if (!isLeader) {
        isLeaderReady = false;
        LOG.info("update <isLeaderReady> from <{}> to <{}>", isLeaderReady,
            false);
      }
```

### RuleId[ruleID=ConstantValue]
Condition `enoughForData` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/SCMCommonPlacementPolicy.java`
#### Snippet
```java
    }

    return enoughForData && enoughForMeta;
  }

```

### RuleId[ruleID=ConstantValue]
Condition `!fullVolumeSet.isEmpty()` is always `true` when reached
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
          .setFailedVolumeSet(failedVolumeSet).build();
    }
    if (!failedVolumeSet.isEmpty() && !fullVolumeSet.isEmpty()) {
      return StorageReportResult.ReportResultBuilder.newBuilder()
          .setStatus(ReportStatus.FAILED_AND_OUT_OF_SPACE_STORAGE)
```

### RuleId[ruleID=ConstantValue]
Result of `fullVolumeSet.isEmpty()` is always 'false'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeStorageStatMap.java`
#### Snippet
```java
          .setFailedVolumeSet(failedVolumeSet).build();
    }
    if (!failedVolumeSet.isEmpty() && !fullVolumeSet.isEmpty()) {
      return StorageReportResult.ReportResultBuilder.newBuilder()
          .setStatus(ReportStatus.FAILED_AND_OUT_OF_SPACE_STORAGE)
```

### RuleId[ruleID=ConstantValue]
Condition `!missingObjects.isEmpty()` is always `true` when reached
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_ENTRIES)
```

### RuleId[ruleID=ConstantValue]
Result of `missingObjects.isEmpty()` is always 'false'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_ENTRIES)
```

### RuleId[ruleID=ConstantValue]
Condition `!newObjects.isEmpty()` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Result of `newObjects.isEmpty()` is always 'false'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Condition `!newObjects.isEmpty()` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_AND_NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Condition `!newObjects.isEmpty() && !missingObjects.isEmpty()` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_AND_NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Result of `newObjects.isEmpty()` is always 'false'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_AND_NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Condition `!missingObjects.isEmpty()` is always `true` when reached
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_AND_NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Result of `missingObjects.isEmpty()` is always 'false'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/states/Node2ObjectsMap.java`
#### Snippet
```java
    }

    if (!newObjects.isEmpty() && !missingObjects.isEmpty()) {
      return newBuilder()
          .setStatus(ReportResult.ReportStatus.MISSING_AND_NEW_ENTRIES_FOUND)
```

### RuleId[ruleID=ConstantValue]
Condition `found.size() > 1` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionManager.java`
#### Snippet
```java
        }
        results.add(found.get(0));
      } else if (found.size() > 1) {
        DatanodeDetails match = null;
        for (DatanodeDetails dn : found) {
```

### RuleId[ruleID=ConstantValue]
Condition `readBytes >= 0` is always `true`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/metrics/ContainerStat.java`
#### Snippet
```java
    Preconditions.checkArgument(readBytes >= 0,
        "Read bytes read cannot be " + "negative.");
    Preconditions.checkArgument(readBytes >= 0,
        "Write bytes cannot be " + "negative.");
    Preconditions.checkArgument(readCount >= 0,
```

### RuleId[ruleID=ConstantValue]
Condition `!added` is always `false`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          }
          final boolean added = actions.add(a);
          if (!added) {
            inflightCount.decrementAndGet();
          }
```

### RuleId[ruleID=ConstantValue]
Value `added` is always 'true'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          }
          final boolean added = actions.add(a);
          if (!added) {
            inflightCount.decrementAndGet();
          }
```

### RuleId[ruleID=ConstantValue]
Value `added` is always 'true'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
            inflightCount.decrementAndGet();
          }
          return added;
        }
      }
```

### RuleId[ruleID=ConstantValue]
Value `oldPartKeyInfo` is always 'null'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCommitPartRequest.java`
#### Snippet
```java
      exception = ex;
      omClientResponse =
          getOmClientResponse(ozoneManager, oldPartKeyInfo, openKey,
              omKeyInfo, multipartKey, multipartKeyInfo,
              createErrorOMResponse(omResponse, exception), copyBucketInfo);
```

### RuleId[ruleID=ConstantValue]
Value `copyBucketInfo` is always 'null'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCommitPartRequest.java`
#### Snippet
```java
          getOmClientResponse(ozoneManager, oldPartKeyInfo, openKey,
              omKeyInfo, multipartKey, multipartKeyInfo,
              createErrorOMResponse(omResponse, exception), copyBucketInfo);
    } finally {
      addResponseToDoubleBuffer(trxnLogIndex, omClientResponse,
```

### RuleId[ruleID=ConstantValue]
Condition `!isFile` is always `false`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
              if (!isKeyDeleted(entryInDb, keyTable)) {
                cacheKeyMap.put(entryInDb,
                    new OzoneFileStatus(omKeyInfo, scmBlockSize, !isFile));
                countEntries++;
              }
```

### RuleId[ruleID=ConstantValue]
Value `isFile` is always 'true'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
              if (!isKeyDeleted(entryInDb, keyTable)) {
                cacheKeyMap.put(entryInDb,
                    new OzoneFileStatus(omKeyInfo, scmBlockSize, !isFile));
                countEntries++;
              }
```

### RuleId[ruleID=ConstantValue]
Value `fileStatus` is always 'null'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
    // don't throw exception if this flag is true.
    if (skipFileNotFoundError) {
      return fileStatus;
    }

```

### RuleId[ruleID=ConstantValue]
Value `ozoneTokenIdentifier` is always 'null'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/security/OMCancelDelegationTokenRequest.java`
#### Snippet
```java
                          .newBuilder())).build());
    } catch (IOException ex) {
      LOG.error("Error in cancel DelegationToken {}", ozoneTokenIdentifier, ex);
      exception = ex;
      omClientResponse = new OMCancelDelegationTokenResponse(null,
```

### RuleId[ruleID=ConstantValue]
Condition `inheritAcls.isEmpty()` is always `true`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
    }

    if (inheritAcls.isEmpty()) {
      String bucketKey = omMetadataManager.getBucketKey(volumeName,
          bucketName);
```

### RuleId[ruleID=ConstantValue]
Value `isRatisEnabled` is always 'false'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/protocolPB/OzoneManagerProtocolServerSideTranslatorPB.java`
#### Snippet
```java
          .setOzoneManagerRatisSnapShot((i) -> {
          })
          .enableRatis(isRatisEnabled)
          .enableTracing(TracingUtil.isTracingEnabled(
              ozoneManager.getConfiguration()))
```

### RuleId[ruleID=ConstantValue]
Condition `success` is always `true`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      }

      if (success) {
        Files.move(getTempMetricsStorageFile().toPath(),
            getMetricsStorageFile().toPath(), StandardCopyOption
```

### RuleId[ruleID=ConstantValue]
Value `DFS_CONTAINER_RATIS_ENABLED_DEFAULT` is always 'false'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        HDDS_BLOCK_TOKEN_ENABLED_DEFAULT);
    this.useRatisForReplication = conf.getBoolean(
        DFS_CONTAINER_RATIS_ENABLED_KEY, DFS_CONTAINER_RATIS_ENABLED_DEFAULT);
    // TODO: This is a temporary check. Once fully implemented, all OM state
    //  change should go through Ratis - be it standalone (for non-HA) or
```

### RuleId[ruleID=ConstantValue]
Condition `omRpcAdd != null` is always `true`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    String ip = null;

    boolean addressResolved = omRpcAdd != null && omRpcAdd.getAddress() != null;
    if (flexibleFqdnResolutionEnabled && !addressResolved && omRpcAdd != null) {
      InetSocketAddress omRpcAddWithHostName =
```

### RuleId[ruleID=ConstantValue]
Condition `omRpcAdd != null` is always `true`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

    boolean addressResolved = omRpcAdd != null && omRpcAdd.getAddress() != null;
    if (flexibleFqdnResolutionEnabled && !addressResolved && omRpcAdd != null) {
      InetSocketAddress omRpcAddWithHostName =
              OzoneNetUtils.getAddressWithHostNameLocal(omRpcAdd);
```

### RuleId[ruleID=ConstantValue]
Condition `omRpcAddWithHostName != null` is always `true`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      InetSocketAddress omRpcAddWithHostName =
              OzoneNetUtils.getAddressWithHostNameLocal(omRpcAdd);
      if (omRpcAddWithHostName != null
              && omRpcAddWithHostName.getAddress() != null) {
        addressResolved = true;
```

### RuleId[ruleID=ConstantValue]
Value `id` is always 'null'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    } catch (IOException ex) {
      LOG.error("Delegation token cancellation failed for dt id: {}, cause: {}",
          id, ex.getMessage());
      throw new OMException("Delegation token renewal failed for dt: " + token,
          ex, TOKEN_ERROR_OTHER);
```

### RuleId[ruleID=ConstantValue]
Condition `scanned2` is always `true`
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataScanOrder.java`
#### Snippet
```java

    int result = Boolean.compare(scanned1, scanned2);
    if (0 == result && scanned1 && scanned2) {
      result = scan1.get().compareTo(scan2.get());
    }
```

### RuleId[ruleID=ConstantValue]
Value `report` is always 'null'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisher.java`
#### Snippet
```java
        context.addIncrementalReport(report);
      } else {
        context.refreshFullReport(report);
      }
    } catch (IOException e) {
```

### RuleId[ruleID=ConstantValue]
Value `isOverwrite` is always 'false'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/FilePerChunkStrategy.java`
#### Snippet
```java
        commitChunk(tmpChunkFile, chunkFile);
        // Increment container stats here, as we commit the data.
        containerData.updateWriteStats(len, isOverwrite);
        break;
      case COMBINED:
```

### RuleId[ruleID=ConstantValue]
Condition `forceHA` is always `true` when reached
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/OMAdmin.java`
#### Snippet
```java
        ProtobufRpcEngine.class);
    String clientId = ClientId.randomId().toString();
    if (!forceHA || (forceHA && OmUtils.isOmHAServiceId(conf, omServiceID))) {
      OmTransport omTransport = new Hadoop3OmTransportFactory()
          .createOmTransport(conf, parent.getUser(), omServiceID);
```

### RuleId[ruleID=ConstantValue]
Condition `cfList != null` is always `true`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/RocksDBUtils.java`
#### Snippet
```java
    List<ColumnFamilyDescriptor> cfs = new ArrayList<>();
    List<byte[]> cfList = RocksDatabase.listColumnFamiliesEmptyOptions(dbPath);
    if (cfList != null) {
      for (byte[] b : cfList) {
        cfs.add(new ColumnFamilyDescriptor(b));
```

### RuleId[ruleID=ConstantValue]
Value `allowPartialPrefixes` is always 'true'
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/OzoneManagerProtocolClientSideTranslatorPB.java`
#### Snippet
```java

    if (allowPartialPrefixes) {
      listStatusRequestBuilder.setAllowPartialPrefix(allowPartialPrefixes);
    }

```

### RuleId[ruleID=ConstantValue]
Condition `certClient != null` is always `true`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientCache.java`
#### Snippet
```java
        throw e;
      } finally {
        if (certClient != null) {
          certClient.close();
        }
```

### RuleId[ruleID=ConstantValue]
Condition `continueToken == null` is always `true` when reached
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java
        // ignore start After
        ozoneKeyIterator = bucket.listKeys(prefix, decodedToken.getLastKey());
      } else if (startAfter != null && continueToken == null) {
        ozoneKeyIterator = bucket.listKeys(prefix, startAfter);
      } else if (startAfter == null && continueToken != null) {
```

### RuleId[ruleID=ConstantValue]
Condition `startAfter == null` is always `true`
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/BucketEndpoint.java`
#### Snippet
```java
      } else if (startAfter != null && continueToken == null) {
        ozoneKeyIterator = bucket.listKeys(prefix, startAfter);
      } else if (startAfter == null && continueToken != null) {
        ozoneKeyIterator = bucket.listKeys(prefix, decodedToken.getLastKey());
      } else {
```

### RuleId[ruleID=ConstantValue]
Condition `clientId != null` is always `true`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/SCMUpdateServiceGrpcClient.java`
#### Snippet
```java
    }
    clientId = subScribeClient();
    assert (clientId != null);

    // start background thread processing pending crl ids.
```

### RuleId[ruleID=ConstantValue]
Condition `metaDirPath == null` is always `false`
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/HddsServerUtil.java`
#### Snippet
```java
    if (Strings.isNullOrEmpty(dataNodeIDDirPath)) {
      File metaDirPath = ServerUtils.getOzoneMetaDirPath(conf);
      if (metaDirPath == null) {
        // this means meta data is not found, in theory should not happen at
        // this point because should've failed earlier.
```

### RuleId[ruleID=ConstantValue]
Condition `!found` is always `true`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/StorageSize.java`
#### Snippet
```java
    // We are trying to get the longest match first, so the order of
    // matching is getLongName, getShortName and then getSuffixChar.
    if (!found && sanitizedValue.endsWith(parsedUnit.getLongName())) {
      found = true;
      suffix = parsedUnit.getLongName();
```

### RuleId[ruleID=ConstantValue]
Value `found` is always 'false'
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/StorageSize.java`
#### Snippet
```java
    // We are trying to get the longest match first, so the order of
    // matching is getLongName, getShortName and then getSuffixChar.
    if (!found && sanitizedValue.endsWith(parsedUnit.getLongName())) {
      found = true;
      suffix = parsedUnit.getLongName();
```

## RuleId[ruleID=OptionalGetWithoutIsPresent]
### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java

      return Collections.singletonList(
          NetUtils.createSocketAddr(getHostName(address).get() + ":" + port));
    }
  }
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/ServerNotLeaderException.java`
#### Snippet
```java
        HddsUtils
            .getHostName(notLeaderException.getSuggestedLeader().getAddress())
            .get() :
        null;
    ServerNotLeaderException serverNotLeaderException;
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/BaseInsightSubCommand.java`
#### Snippet
```java
              ScmConfigKeys.OZONE_SCM_CLIENT_ADDRESS_KEY);

      return "http://" + scmHost.get() + ":9876";
    } else if (component.getName() == Type.OM) {
      Optional<String> omHost =
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/BaseInsightSubCommand.java`
#### Snippet
```java
          HddsUtils.getHostNameFromConfigKeys(conf,
              OMConfigKeys.OZONE_OM_ADDRESS_KEY);
      return "http://" + omHost.get() + ":9874";
    } else {
      throw new IllegalArgumentException(
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
      try {
        peerInetAddress = InetAddress.getByName(
            HddsUtils.getHostName(peer.getAddress()).get());
      } catch (IOException ex) {
        LOG.error("SCM Ratis PeerInetAddress {} is unresolvable",
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/InterSCMGrpcService.java`
#### Snippet
```java
          Arrays.stream(new SCMDBDefinition().getColumnFamilies())
              .filter(t -> t.getValueType() == TransactionInfo.class)
              .findFirst().get().getTable(scm.getScmMetadataStore().getStore());

      TransactionInfo transactionInfo =
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMSecurityProtocolServer.java`
#### Snippet
```java
        new Date(revocationTime));
    try {
      Long crlId = revoked.get().get();
      getGrpcUpdateServer().notifyCrlUpdate();
      return crlId;
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
        Role userRole = accessController.getRole(tenantUserRoleName);
        checkRoleIdExistence(userRole);
        final long roleId = userRole.getId().get();

        // Sanity check user existence in tenant, but won't throw
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
        }

        final long roleId = adminRole.getId().get();
        // Add user principal (not accessId!) to admin role
        adminRole = new Role.Builder(adminRole)
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
        Role userRole = accessController.getRole(tenantUserRoleName);
        checkRoleIdExistence(userRole);
        final long roleId = userRole.getId().get();

        // Sanity check user existence in tenant, but won't throw
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OMMultiTenantManagerImpl.java`
#### Snippet
```java
        Role adminRole = accessController.getRole(tenantAdminRoleName);
        checkRoleIdExistence(adminRole);
        final long roleId = adminRole.getId().get();

        // Sanity check user existence in tenant, but won't throw
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
      Optional<List<OmKeyInfo>> parentInfoList,
      long index) throws IOException {
    for (OmKeyInfo parentInfo : parentInfoList.get()) {
      omMetadataManager.getKeyTable(
          getBucketLayout(omMetadataManager, volumeName, bucketName))
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
          Optional<OmDirectoryInfo> dirInfo) {

    for (OmDirectoryInfo subDirInfo : missingParentInfos.get()) {
      omMetadataManager.getDirectoryTable().addCacheEntry(
              new CacheKey<>(omMetadataManager.getOzonePathKey(
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`OptionalLong.getAsLong()` without 'isPresent()' check
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java`
#### Snippet
```java
        if (division.getInfo().isLeader()) {
          long minIndex = Arrays.stream(division.getInfo()
              .getFollowerNextIndices()).min().getAsLong();
          LOG.debug("Removing data corresponding to log index {} min index {} "
                  + "from cache", index, minIndex);
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/container/ContainerCommands.java`
#### Snippet
```java
    try (Stream<Path> stream = Files.list(Paths.get(storageDir, "hdds"))) {
      final Path firstStorageDirPath = stream.filter(Files::isDirectory)
          .findFirst().get().getFileName();
      if (firstStorageDirPath == null) {
        throw new IllegalArgumentException(
```

### RuleId[ruleID=OptionalGetWithoutIsPresent]
`Optional.get()` without 'isPresent()' check
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/HAUtils.java`
#### Snippet
```java
    return Arrays.stream(definition.getColumnFamilies())
        .filter(t -> t.getValueType() == TransactionInfo.class).findFirst()
        .get().getTable(dbStore);
  }

```

## RuleId[ruleID=MethodOverridesStaticMethod]
### RuleId[ruleID=MethodOverridesStaticMethod]
Method `main()` tries to override a static method of a superclass
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneFsShell.java`
#### Snippet
```java
   * @throws Exception upon error
   */
  public static void main(String[] argv) throws Exception {
    OzoneFsShell shell = newShellInstance();
    OzoneConfiguration conf = new OzoneConfiguration();
```

### RuleId[ruleID=MethodOverridesStaticMethod]
Method `newShellInstance()` tries to override a static method of a superclass
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneFsShell.java`
#### Snippet
```java

  // TODO: this should be abstract in a base class
  protected static OzoneFsShell newShellInstance() {
    return new OzoneFsShell();
  }
```

### RuleId[ruleID=MethodOverridesStaticMethod]
Method `newBuilder()` tries to override a static method of a superclass
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/protocol/commands/DeleteBlockCommandStatus.java`
#### Snippet
```java
    private ContainerBlocksDeletionACKProto blocksDeletionAck = null;

    public static DeleteBlockCommandStatusBuilder newBuilder() {
      return new DeleteBlockCommandStatusBuilder();
    }
```

## RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java`
#### Snippet
```java
  private static String buildReplicaDetails(ContainerReplicaInfo replica) {
    StringBuilder sb = new StringBuilder();
    sb.append("State: " + replica.getState() + ";");
    if (replica.getReplicaIndex() != -1) {
      sb.append(" ReplicaIndex: " + replica.getReplicaIndex() + ";");
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java`
#### Snippet
```java
    sb.append("State: " + replica.getState() + ";");
    if (replica.getReplicaIndex() != -1) {
      sb.append(" ReplicaIndex: " + replica.getReplicaIndex() + ";");
    }
    sb.append(" Origin: " + replica.getPlaceOfBirth().toString() + ";");
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java`
#### Snippet
```java
      sb.append(" ReplicaIndex: " + replica.getReplicaIndex() + ";");
    }
    sb.append(" Origin: " + replica.getPlaceOfBirth().toString() + ";");
    sb.append(" Location: "
        + buildDatanodeDetails(replica.getDatanodeDetails()));
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoSubcommand.java`
#### Snippet
```java
    }
    sb.append(" Origin: " + replica.getPlaceOfBirth().toString() + ";");
    sb.append(" Location: "
        + buildDatanodeDetails(replica.getDatanodeDetails()));
    return sb.toString();
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaManager.java`
#### Snippet
```java
    for (i = 1, j = 1; i < subPath.length && j < (allSchema.size() - 1);) {
      if (allSchema.get(j).matchPrefix(subPath[i])) {
        newPath.append(NetConstants.PATH_SEPARATOR_STR + subPath[i]);
        i++;
        j++;
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeSchemaManager.java`
#### Snippet
```java
    }
    if (i == (subPath.length - 1)) {
      newPath.append(NetConstants.PATH_SEPARATOR_STR + subPath[i]);
      return newPath.toString();
    }
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
  public String toString() {
    StringBuffer buffer = new StringBuffer();
    buffer.append("numBlockDeletionTransactionCreated = "
        + numBlockDeletionTransactionCreated.value()).append("\t")
        .append("numBlockDeletionTransactionCompleted = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
    buffer.append("numBlockDeletionTransactionCreated = "
        + numBlockDeletionTransactionCreated.value()).append("\t")
        .append("numBlockDeletionTransactionCompleted = "
            + numBlockDeletionTransactionCompleted.value()).append("\t")
        .append("numBlockDeletionCommandSent = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
        .append("numBlockDeletionTransactionCompleted = "
            + numBlockDeletionTransactionCompleted.value()).append("\t")
        .append("numBlockDeletionCommandSent = "
            + numBlockDeletionCommandSent.value()).append("\t")
        .append("numBlockDeletionCommandSuccess = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
        .append("numBlockDeletionCommandSent = "
            + numBlockDeletionCommandSent.value()).append("\t")
        .append("numBlockDeletionCommandSuccess = "
            + numBlockDeletionCommandSuccess.value()).append("\t")
        .append("numBlockDeletionCommandFailure = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
        .append("numBlockDeletionCommandSuccess = "
            + numBlockDeletionCommandSuccess.value()).append("\t")
        .append("numBlockDeletionCommandFailure = "
            + numBlockDeletionCommandFailure.value()).append("\t")
        .append("numBlockDeletionTransactionSent = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
        .append("numBlockDeletionCommandFailure = "
            + numBlockDeletionCommandFailure.value()).append("\t")
        .append("numBlockDeletionTransactionSent = "
            + numBlockDeletionTransactionSent.value()).append("\t")
        .append("numBlockDeletionTransactionSuccess = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
        .append("numBlockDeletionTransactionSent = "
            + numBlockDeletionTransactionSent.value()).append("\t")
        .append("numBlockDeletionTransactionSuccess = "
            + numBlockDeletionTransactionSuccess.value()).append("\t")
        .append("numBlockDeletionTransactionFailure = "
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/ScmBlockDeletingServiceMetrics.java`
#### Snippet
```java
        .append("numBlockDeletionTransactionSuccess = "
            + numBlockDeletionTransactionSuccess.value()).append("\t")
        .append("numBlockDeletionTransactionFailure = "
            + numBlockDeletionTransactionFailure.value());
    return buffer.toString();
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/BlockDeletingServiceMetrics.java`
#### Snippet
```java
  public String toString() {
    StringBuffer buffer = new StringBuffer();
    buffer.append("successCount = " + successCount.value()).append("\t")
        .append("successBytes = " + successBytes.value()).append("\t")
        .append("failureCount = " + failureCount.value()).append("\t");
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/BlockDeletingServiceMetrics.java`
#### Snippet
```java
    StringBuffer buffer = new StringBuffer();
    buffer.append("successCount = " + successCount.value()).append("\t")
        .append("successBytes = " + successBytes.value()).append("\t")
        .append("failureCount = " + failureCount.value()).append("\t");
    return buffer.toString();
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuffer.append()` call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/helpers/BlockDeletingServiceMetrics.java`
#### Snippet
```java
    buffer.append("successCount = " + successCount.value()).append("\t")
        .append("successBytes = " + successBytes.value()).append("\t")
        .append("failureCount = " + failureCount.value()).append("\t");
    return buffer.toString();
  }
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
      policyItems.append("{");
      if (list.get(0).getPrincipal() instanceof OzoneTenantRolePrincipal) {
        policyItems.append("\"roles\":[\"" + mapElem.getKey() + "\"],");
      } else {
        policyItems.append("\"users\":[\"" + mapElem.getKey() + "\"],");
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
        policyItems.append("\"roles\":[\"" + mapElem.getKey() + "\"],");
      } else {
        policyItems.append("\"users\":[\"" + mapElem.getKey() + "\"],");
      }
      policyItems.append("\"accesses\":[");
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
    uri = (uri.trim().length() > 0) ? uri : "/";
    // Encode URI and preserve forward slashes
    strToSign.append(signatureInfo.getAlgorithm() + NEWLINE);
    strToSign.append(signatureInfo.getDateTime() + NEWLINE);
    strToSign.append(credentialScope + NEWLINE);
```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
    // Encode URI and preserve forward slashes
    strToSign.append(signatureInfo.getAlgorithm() + NEWLINE);
    strToSign.append(signatureInfo.getDateTime() + NEWLINE);
    strToSign.append(credentialScope + NEWLINE);

```

### RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
String concatenation as argument to `StringBuilder.append()` call
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/signature/StringToSignProducer.java`
#### Snippet
```java
    strToSign.append(signatureInfo.getAlgorithm() + NEWLINE);
    strToSign.append(signatureInfo.getDateTime() + NEWLINE);
    strToSign.append(credentialScope + NEWLINE);

    String canonicalRequest = buildCanonicalRequest(
```

## RuleId[ruleID=IOResource]
### RuleId[ruleID=IOResource]
'PrintWriter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/TimedOutTestsListener.java`
#### Snippet
```java
  public static String buildThreadDiagnosticString() {
    StringWriter sw = new StringWriter();
    PrintWriter output = new PrintWriter(sw);

    DateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss,SSS");
```

### RuleId[ruleID=IOResource]
'ServerSocket' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
    ExecutionDataWriter destination =
        new ExecutionDataWriter(new FileOutputStream(destinationFile));
    ServerSocket serverSocket = new ServerSocket(port);
    Runtime.getRuntime().addShutdownHook(new Thread(() -> {
      try {
```

### RuleId[ruleID=IOResource]
'DataInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/codec/NSSummaryCodec.java`
#### Snippet
```java
  @Override
  public NSSummary fromPersistedFormat(byte[] rawData) throws IOException {
    DataInputStream in = new DataInputStream(new ByteArrayInputStream(rawData));
    NSSummary res = new NSSummary();
    res.setNumOfFiles(in.readInt());
```

### RuleId[ruleID=IOResource]
'ECBlockOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockOutputStreamEntry.java`
#### Snippet
```java
        List<DatanodeDetails> nodes = getPipeline().getNodes();
        blockOutputStreams[i] =
            new ECBlockOutputStream(getBlockID(), getXceiverClientManager(),
                createSingleECBlockPipeline(getPipeline(), nodes.get(i), i + 1),
                getBufferPool(), getConf(), getToken(), getClientMetrics());
```

### RuleId[ruleID=IOResource]
'ECBlockOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ec/reconstruction/ECReconstructionCoordinator.java`
#### Snippet
```java
            targetMap.get(toReconstructIndexes.get(i));
        targetBlockStreams[i] =
            new ECBlockOutputStream(blockLocationInfo.getBlockID(),
                this.containerOperationClient.getXceiverClientManager(),
                this.containerOperationClient.
```

### RuleId[ruleID=IOResource]
'ContainerOperationClient' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ClosedContainerReplicator.java`
#### Snippet
```java

    final ContainerOperationClient containerOperationClient =
        new ContainerOperationClient(conf);

    final List<ContainerInfo> containerInfos =
```

### RuleId[ruleID=IOResource]
'SignedChunksInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      if ("STREAMING-AWS4-HMAC-SHA256-PAYLOAD"
          .equals(headers.getHeaderString("x-amz-content-sha256"))) {
        body = new SignedChunksInputStream(body);
      }

```

### RuleId[ruleID=IOResource]
'SignedChunksInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      if ("STREAMING-AWS4-HMAC-SHA256-PAYLOAD"
          .equals(headers.getHeaderString("x-amz-content-sha256"))) {
        body = new SignedChunksInputStream(body);
      }

```

## RuleId[ruleID=OptionalIsPresent]
### RuleId[ruleID=OptionalIsPresent]
Can be replaced with single expression in functional style
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
    final Optional<String> host = getHostNameFromConfigKeys(conf, confKey);

    if (host.isPresent()) {
      return host.get() + ":" + getOmRpcPort(conf, confKey);
    } else {
```

### RuleId[ruleID=OptionalIsPresent]
Can be replaced with single expression in functional style
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/certificates/utils/CertificateSignRequest.java`
#### Snippet
```java
      // Add subject alternate name extension
      Optional<Extension> san = getSubjectAltNameExtension();
      if (san.isPresent()) {
        extensions.add(san.get());
      }
```

## RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal]
### RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal]
AtomicReferenceFieldUpdater field `valueUpdater` is not declared 'static final'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    final AtomicReferenceFieldUpdater<AbstractFuture, Listener>
        listenersUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater;

    SafeAtomicHelper(
```

### RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal]
AtomicReferenceFieldUpdater field `waiterThreadUpdater` is not declared 'static final'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
  @SuppressWarnings("visibilitymodifier")
  private static final class SafeAtomicHelper extends AtomicHelper {
    final AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater;
    final AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater;
```

### RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal]
AtomicReferenceFieldUpdater field `waiterNextUpdater` is not declared 'static final'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
  private static final class SafeAtomicHelper extends AtomicHelper {
    final AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater;
    final AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Listener>
```

### RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal]
AtomicReferenceFieldUpdater field `waitersUpdater` is not declared 'static final'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    final AtomicReferenceFieldUpdater<Waiter, Thread> waiterThreadUpdater;
    final AtomicReferenceFieldUpdater<Waiter, Waiter> waiterNextUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Listener>
        listenersUpdater;
```

### RuleId[ruleID=AtomicFieldUpdaterNotStaticFinal]
AtomicReferenceFieldUpdater field `listenersUpdater` is not declared 'static final'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
    final AtomicReferenceFieldUpdater<AbstractFuture, Waiter> waitersUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Listener>
        listenersUpdater;
    final AtomicReferenceFieldUpdater<AbstractFuture, Object> valueUpdater;

```

## RuleId[ruleID=FieldMayBeStatic]
### RuleId[ruleID=FieldMayBeStatic]
Field `ozoneUsagePrefix` may be 'static'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/OzoneFsShell.java`
#### Snippet
```java
public class OzoneFsShell extends FsShell {

  private final String ozoneUsagePrefix = "Usage: ozone fs [generic options]";

  /**
```

## RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `ConfigStrings` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfig.java`
#### Snippet
```java
   *    .HDDS_SCM_KERBEROS_PRINCIPAL_KEY)
   */
  public static class ConfigStrings {
    public static final String HDDS_SCM_KERBEROS_PRINCIPAL_KEY =
          "hdds.scm.kerberos.principal";
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `ConfigStrings` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/recon/ReconConfig.java`
#### Snippet
```java
   * Config Keys for Recon.
   */
  public static class ConfigStrings {
    public static final String OZONE_RECON_KERBEROS_PRINCIPAL_KEY =
        "ozone.recon.kerberos.principal";
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `Java9Crc32CFactory` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBufferFactory.java`
#### Snippet
```java
   * Factory for CRC32C implementation introduced in Java 9.
   */
  public static class Java9Crc32CFactory {
    private static final MethodHandle NEW_CRC32C_MH;

```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `ConfigStrings` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMHTTPServerConfig.java`
#### Snippet
```java
   *    ScmConfigKeys.HDDS_SCM_KERBEROS_PRINCIPAL_KEY)
   */
  public static class ConfigStrings {
    public static final String HDDS_SCM_HTTP_AUTH_CONFIG_PREFIX =
        SCMHTTPServerConfig.class.getAnnotation(ConfigGroup.class).prefix() +
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `ContainerHealthRecords` has only 'static' members, and lacks a 'private' constructor
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
   * unhealthy containers.
   */
  public static class ContainerHealthRecords {

    /**
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `SchemaV3` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/VersionedDatanodeFeatures.java`
#### Snippet
```java
   * rocksdb instance instead of a per-container instance.
   */
  public static class SchemaV3 {
    public static String chooseSchemaVersion(ConfigurationSource conf) {
      if (isFinalizedAndEnabled(conf)) {
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `SchemaV2` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/VersionedDatanodeFeatures.java`
#### Snippet
```java
   * finalization.
   */
  public static class SchemaV2 {
    public static String chooseSchemaVersion() {
      if (isFinalized(HDDSLayoutFeature.DATANODE_SCHEMA_V2)) {
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `ScmHA` has only 'static' members, and lacks a 'private' constructor
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/VersionedDatanodeFeatures.java`
#### Snippet
```java
   * directory is already present, no changes are made.
   */
  public static class ScmHA {
    /**
     * Choose whether to use cluster ID or SCM ID based on the format of the
```

### RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
Class `ConfigStrings` has only 'static' members, and lacks a 'private' constructor
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/OmUpgradeConfig.java`
#### Snippet
```java
   * Config key class.
   */
  public static class ConfigStrings {
    public static final String OZONE_OM_INIT_DEFAULT_LAYOUT_VERSION =
        "ozone.om.init.default.layout.version";
```

## RuleId[ruleID=DataFlowIssue]
### RuleId[ruleID=DataFlowIssue]
Method invocation `setEvicted` may produce `NullPointerException`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
                // Mark the entry as evicted
                XceiverClientSpi info = removalNotification.getValue();
                info.setEvicted();
              }
            }
```

### RuleId[ruleID=DataFlowIssue]
Dereference of `catchEx` may produce `NullPointerException`
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockInputStream.java`
#### Snippet
```java

    if (chunks == null) {
      throw catchEx;
    } else {
      // Reset retry count if we get chunks successfully.
```

### RuleId[ruleID=DataFlowIssue]
The call to 'assertNotNull' always fails as an argument is out of bounds
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/ECBlockReconstructedStripeInputStream.java`
#### Snippet
```java
          "reader has been initialized");
    }
    Preconditions.assertNotNull(indexes, "recovery indexes");
    recoveryIndexes.clear();
    recoveryIndexes.addAll(indexes);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getLatestVersionLocations();
    BlockLocation[] blockLocations = new BlockLocation[
        omKeyLocationInfoGroup.getBlocksLatestVersionOnly().size()];

    int i = 0;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
        keyInfo.getLatestVersionLocations();
    BlockLocation[] blockLocations = new BlockLocation[
        omKeyLocationInfoGroup.getBlocksLatestVersionOnly().size()];

    int i = 0;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `split` may produce `NullPointerException`
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    int omPort = -1;
    if (!isEmpty(remaining)) {
      String[] parts = remaining.split(":");
      // Array length should be either 1(hostname or service id) or 2(host:port)
      if (parts.length > 2) {
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/HddsUtils.java`
#### Snippet
```java
          + " when getting password", ioe);

      password = null;
    }
    return password;
```

### RuleId[ruleID=DataFlowIssue]
Dereference of `prevInstance` may produce `NullPointerException`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/LayoutVersionInstanceFactory.java`
#### Snippet
```java
          vInstances.peek().version < feature.layoutVersion()) {
        prevInstance = vInstances.poll();
        LOG.info("Unregistering {} from factory. ", prevInstance.instance);
      }

```

### RuleId[ruleID=DataFlowIssue]
Dereference of `currentPeek` may produce `NullPointerException`
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/LayoutVersionInstanceFactory.java`
#### Snippet
```java
    if (!versionedInstances.isEmpty() && isValid(lvm, version)) {
      VersionedInstance<T> currentPeek = versionedInstances.peek();
      if (currentPeek.version < version) {
        // Current peek < passed in version (and <= MLV). Hence, we can
        // remove it, since the passed in a better candidate.
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `isHttpEnabled` may produce `NullPointerException`
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/datanode/DatanodeDispatcherInsight.java`
#### Snippet
```java
    HttpConfig.Policy policy = HttpConfig.Policy.fromString(policyStr);

    final int port = policy.isHttpEnabled() ?
        HDDS_DATANODE_HTTP_BIND_PORT_DEFAULT :
        HDDS_DATANODE_HTTPS_BIND_PORT_DEFAULT;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getCheckpointLocation` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAManagerImpl.java`
#### Snippet
```java
    DBCheckpoint dBCheckpoint = getDBCheckpointFromLeader(leaderId);
    LOG.info("Downloaded checkpoint from Leader {} to the location {}",
        leaderId, dBCheckpoint.getCheckpointLocation());
    return dBCheckpoint;
  }
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getHostAddress` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisServerImpl.java`
#### Snippet
```java
                  ":".concat(RaftProtos.RaftPeerRole.FOLLOWER.toString()))
                  .concat(":".concat(peer.getId().toString()))
                  .concat(":".concat(peerInetAddress.getHostAddress()))));
    }
    return ratisRoles;
```

### RuleId[ruleID=DataFlowIssue]
Argument `rpcAddrStr` might be null
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
        InetSocketAddress addr = null;
        try {
          addr = NetUtils.createSocketAddr(rpcAddrStr, ratisPort);
        } catch (Exception e) {
          LOG.error("Couldn't create socket address for SCM {} : {}", nodeId,
```

### RuleId[ruleID=DataFlowIssue]
The call to 'assertNotNull' always fails as an argument is out of bounds
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/BackgroundSCMService.java`
#### Snippet
```java

    public BackgroundSCMService build() {
      Preconditions.assertNotNull(scmContext, "scmContext is null");
      Preconditions.assertNotNull(periodicalTask, "periodicalTask is null");
      Preconditions.assertNotNull(clock, "clock is null");
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
      NodeStatus status = dni.getNodeStatus();
      nodes.get(status.getOperationalState().name())
          .compute(status.getHealth().name(), (k, v) -> v + 1);
    }
    return nodes;
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
            StorageContainerDatanodeProtocolProtos.StorageTypeProto.DISK) {
          nodeInfo.compute(keyPrefix + UsageMetrics.DiskCapacity.name(),
              (k, v) -> v + reportProto.getCapacity());
          nodeInfo.compute(keyPrefix + UsageMetrics.DiskRemaining.name(),
              (k, v) -> v + reportProto.getRemaining());
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
              (k, v) -> v + reportProto.getCapacity());
          nodeInfo.compute(keyPrefix + UsageMetrics.DiskRemaining.name(),
              (k, v) -> v + reportProto.getRemaining());
          nodeInfo.compute(keyPrefix + UsageMetrics.DiskUsed.name(),
              (k, v) -> v + reportProto.getScmUsed());
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
              (k, v) -> v + reportProto.getRemaining());
          nodeInfo.compute(keyPrefix + UsageMetrics.DiskUsed.name(),
              (k, v) -> v + reportProto.getScmUsed());
        } else if (reportProto.getStorageType() ==
            StorageContainerDatanodeProtocolProtos.StorageTypeProto.SSD) {
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
            StorageContainerDatanodeProtocolProtos.StorageTypeProto.SSD) {
          nodeInfo.compute(keyPrefix + UsageMetrics.SSDCapacity.name(),
              (k, v) -> v + reportProto.getCapacity());
          nodeInfo.compute(keyPrefix + UsageMetrics.SSDRemaining.name(),
              (k, v) -> v + reportProto.getRemaining());
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
              (k, v) -> v + reportProto.getCapacity());
          nodeInfo.compute(keyPrefix + UsageMetrics.SSDRemaining.name(),
              (k, v) -> v + reportProto.getRemaining());
          nodeInfo.compute(keyPrefix + UsageMetrics.SSDUsed.name(),
              (k, v) -> v + reportProto.getScmUsed());
```

### RuleId[ruleID=DataFlowIssue]
Unboxing of `v` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
              (k, v) -> v + reportProto.getRemaining());
          nodeInfo.compute(keyPrefix + UsageMetrics.SSDUsed.name(),
              (k, v) -> v + reportProto.getScmUsed());
        }
      }
```

### RuleId[ruleID=DataFlowIssue]
The call to 'terminate' always fails, according to its method contracts
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/upgrade/FinalizationManagerImpl.java`
#### Snippet
```java
          finalizeUpgrade("resume-finalization-as-leader");
        } catch (IOException ex) {
          ExitUtils.terminate(1,
              "Resuming upgrade finalization failed on SCM leader change.",
              ex, true, LOG);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getPipelines` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineProvider.java`
#### Snippet
```java
      REPLICATION_CONFIG replicationConfig) throws SCMException {
    Set<DatanodeDetails> dnsUsed = new HashSet<>();
    stateManager.getPipelines(replicationConfig).stream().filter(
        p -> p.getPipelineState().equals(Pipeline.PipelineState.OPEN) ||
            p.getPipelineState().equals(Pipeline.PipelineState.DORMANT) ||
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getNodes` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineProvider.java`
#### Snippet
```java
    // Get list of healthy nodes
    List<DatanodeDetails> dns = nodeManager
        .getNodes(NodeStatus.inServiceHealthy())
        .parallelStream()
        .filter(dn -> !dnsUsed.contains(dn))
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getLocalNodeDetails` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
        scmStorageConfig);
    String primordialSCM = SCMHAUtils.getPrimordialSCM(conf);
    final String selfNodeId = haDetails.getLocalNodeDetails().getNodeId();
    final String selfHostName = haDetails.getLocalNodeDetails().getHostName();
    if (primordialSCM != null && SCMHAUtils.isSCMHAEnabled(conf)
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getLocalNodeDetails` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
    SCMHANodeDetails scmhaNodeDetails = SCMHANodeDetails.loadSCMHAConfig(conf,
        scmStorageConfig);
    String selfNodeId = scmhaNodeDetails.getLocalNodeDetails().getNodeId();
    final String selfHostName =
        scmhaNodeDetails.getLocalNodeDetails().getHostName();
```

### RuleId[ruleID=DataFlowIssue]
Method reference argument might be null
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
          }
        })
        .filter(this::isNonClosedRatisThreePipeline)
        .count();
  }
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `get` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackAware.java`
#### Snippet
```java
    while (true) {
      DatanodeDetails favoredNode = favoredNodeNum > favorIndex ?
          favoredNodes.get(favorIndex) : null;
      DatanodeDetails chosenNode;
      if (favoredNode != null && networkTopology.isSameParent(
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `stream` may produce `NullPointerException`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
      return racks;
    }
    Set<Node> lessPreferredRacks = excludedNodes.stream()
        .map(node -> networkTopology.getAncestor(node, RACK_LEVEL))
        // Dead Nodes have been removed from the topology and so have a
```

### RuleId[ruleID=DataFlowIssue]
The call to 'assertNotNull' always fails as an argument is out of bounds
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java
          final ContainerID cid = kv.getKey();
          final MoveDataNodePair mp = kv.getValue();
          Preconditions.assertNotNull(cid,
              "moved container id should not be null");
          Preconditions.assertNotNull(mp,
```

### RuleId[ruleID=DataFlowIssue]
The call to 'assertNotNull' always fails as an argument is out of bounds
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/LegacyReplicationManager.java`
#### Snippet
```java

      public MoveScheduler build() throws IOException {
        Preconditions.assertNotNull(moveTable, "moveTable is null");
        Preconditions.assertNotNull(transactionBuffer,
            "transactionBuffer is null");
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `incrUsedBytes` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadAbortRequest.java`
#### Snippet
```java
            omKeyInfo.getReplicationConfig());
      }
      omBucketInfo.incrUsedBytes(-quotaReleased);

      // Update cache of openKeyTable and multipartInfo table.
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `incrUsedBytes` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCommitPartRequest.java`
#### Snippet
```java
      // TODO: S3MultipartUpload did not check quota and did not add nameSpace,
      //  we need to fix these issues in HDDS-6650.
      omBucketInfo.incrUsedBytes(correctedSpace);

      omResponse.setCommitMultiPartUploadResponse(
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `incrUsedBytes` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyDeleteRequest.java`
#### Snippet
```java

      long quotaReleased = sumBlockLengths(omKeyInfo);
      omBucketInfo.incrUsedBytes(-quotaReleased);
      omBucketInfo.incrUsedNamespace(-1L);

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getLocationList` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequest.java`
#### Snippet
```java
          * ozoneManager.getScmBlockSize();
      long hadAllocatedKeySize =
          openKeyInfo.getLatestVersionLocations().getLocationList().size()
              * ozoneManager.getScmBlockSize();
      ReplicationConfig repConfig = openKeyInfo.getReplicationConfig();
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequest.java`
#### Snippet
```java
          preAllocatedKeySize, repConfig) + QuotaUtil.getReplicatedSize(
          hadAllocatedKeySize, repConfig);
      checkBucketQuotaInBytes(omBucketInfo, totalAllocatedSpace);
      // Append new block
      openKeyInfo.appendNewBlocks(newLocationList, false);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getIsVersionEnabled` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequestWithFSO.java`
#### Snippet
```java
      // if keyToDelete isn't null, usedNamespace shouldn't check and
      // increase.
      if (keyToDelete != null && !omBucketInfo.getIsVersionEnabled()) {
        // Subtract the size of blocks to be overwritten.
        correctedSpace -= keyToDelete.getReplicatedSize();
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequestWithFSO.java`
#### Snippet
```java
        checkBucketQuotaInBytes(omBucketInfo, correctedSpace);
      } else {
        checkBucketQuotaInNamespace(omBucketInfo, 1L);
        checkBucketQuotaInBytes(omBucketInfo, correctedSpace);
        omBucketInfo.incrUsedNamespace(1L);
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMTrashRecoverRequest.java`
#### Snippet
```java
       *    .build());
       */
      omClientResponse = null;

    } catch (IOException ex) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getIsVersionEnabled` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
        long usedBytesDiff = 0;
        boolean isNamespaceUpdate = false;
        if (keyToDelete != null && !omBucketInfo.getIsVersionEnabled()) {
          oldKeyVersionsToDelete = getOldVersionsToCleanUp(dbOzoneKey,
              keyToDelete, omMetadataManager,
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
          usedBytesDiff -= keyToDelete.getDataSize() * numCopy;
        } else {
          checkBucketQuotaInNamespace(omBucketInfo, 1L);
          omBucketInfo.incrUsedNamespace(1L);
          isNamespaceUpdate = true;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getPartKeyInfo` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3MultipartUploadCompleteRequest.java`
#### Snippet
```java
      try {
        currentPartKeyInfo =
            OmKeyInfo.getFromProtobuf(partKeyInfo.getPartKeyInfo());
      } catch (IOException ioe) {
        throw new OMException(ioe, OMException.ResultCodes.INTERNAL_ERROR);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `incrUsedBytes` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyDeleteRequestWithFSO.java`
#### Snippet
```java
      // TODO: HDDS-4565: consider all the sub-paths if the path is a dir.
      long quotaReleased = sumBlockLengths(omKeyInfo);
      omBucketInfo.incrUsedBytes(-quotaReleased);
      omBucketInfo.incrUsedNamespace(-1L);

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getVersion` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequestWithFSO.java`
#### Snippet
```java
              ozoneManager.isRatisEnabled(), repConfig);

      long openVersion = omFileInfo.getLatestVersionLocations().getVersion();
      long clientID = createKeyRequest.getClientID();
      String dbOpenFileName = omMetadataManager
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequestWithFSO.java`
#### Snippet
```java
          newLocationList.size() * ozoneManager.getScmBlockSize() * repConfig
              .getRequiredNodes();
      checkBucketQuotaInBytes(omBucketInfo, preAllocatedSpace);
      checkBucketQuotaInNamespace(omBucketInfo, 1L);

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getVersion` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java
          ozoneManager.isRatisEnabled(), replicationConfig);

      long openVersion = omKeyInfo.getLatestVersionLocations().getVersion();
      long clientID = createKeyRequest.getClientID();
      String dbOpenKeyName = omMetadataManager.getOpenKey(volumeName,
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCreateRequest.java`
#### Snippet
```java
          * replicationConfig.getRequiredNodes();
      // check bucket and volume quota
      checkBucketQuotaInBytes(omBucketInfo, preAllocatedSpace);
      checkBucketQuotaInNamespace(omBucketInfo, 1L);

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getLocationList` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequestWithFSO.java`
#### Snippet
```java
          * ozoneManager.getScmBlockSize();
      long hadAllocatedKeySize =
          openKeyInfo.getLatestVersionLocations().getLocationList().size()
              * ozoneManager.getScmBlockSize();
      ReplicationConfig repConfig = openKeyInfo.getReplicationConfig();
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMAllocateBlockRequestWithFSO.java`
#### Snippet
```java
          preAllocatedKeySize, repConfig) + QuotaUtil.getReplicatedSize(
          hadAllocatedKeySize, repConfig);
      checkBucketQuotaInBytes(omBucketInfo, totalAllocatedSpace);
      // Append new block
      openKeyInfo.appendNewBlocks(newLocationList, false);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getIsVersionEnabled` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyRequest.java`
#### Snippet
```java
      // turned on.
      dbKeyInfo.addNewVersion(locations, false,
              omBucketInfo.getIsVersionEnabled());
      long newSize = size;
      if (omBucketInfo.getIsVersionEnabled()) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBucketName` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java`
#### Snippet
```java
      if (LOG.isDebugEnabled()) {
        LOG.debug("BucketName: {}, BucketLayout: {}",
            omBucketInfo.getBucketName(), omBucketInfo.getBucketLayout());
      }
      if (omBucketInfo.getBucketLayout()
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBucketLayout` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java`
#### Snippet
```java
            omBucketInfo.getBucketName(), omBucketInfo.getBucketLayout());
      }
      if (omBucketInfo.getBucketLayout()
          .shouldNormalizePaths(ozoneManager.getEnableFileSystemPaths())) {
        if (checkDirectoryAlreadyExists(volumeName, bucketName, keyName,
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getIsVersionEnabled` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java`
#### Snippet
```java
      // if keyToDelete isn't null, usedNamespace needn't check and
      // increase.
      if (keyToDelete != null && !omBucketInfo.getIsVersionEnabled()) {
        // Subtract the size of blocks to be overwritten.
        correctedSpace -= keyToDelete.getReplicatedSize();
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java`
#### Snippet
```java
        checkBucketQuotaInBytes(omBucketInfo, correctedSpace);
      } else {
        checkBucketQuotaInNamespace(omBucketInfo, 1L);
        checkBucketQuotaInBytes(omBucketInfo, correctedSpace);
        omBucketInfo.incrUsedNamespace(1L);
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysRenameRequest.java`
#### Snippet
```java
    }

    auditMap = buildAuditMap(auditMap, renamedKeys, unRenamedKeys);
    auditLog(auditLogger, buildAuditMessage(OMAction.RENAME_KEYS, auditMap,
        exception, getOmRequest().getUserInfo()));
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
          isTruncated = true;
        } else {
          isTruncated = false;
          nextPartNumberMarker = 0;
        }
```

### RuleId[ruleID=DataFlowIssue]
Argument `immediateChild` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java
            String immediateChild = OzoneFSUtils
                .getImmediateChild(entryKeyName, keyName);
            boolean isFile = OzoneFSUtils.isFile(immediateChild);
            if (isFile) {
              if (!isKeyDeleted(entryInDb, keyTable)) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `incrUsedBytes` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeysDeleteRequest.java`
#### Snippet
```java
          markKeysAsDeletedInCache(ozoneManager, trxnLogIndex, omKeyInfoList,
              dirList, omMetadataManager, quotaReleased);
      omBucketInfo.incrUsedBytes(-quotaReleased);
      omBucketInfo.incrUsedNamespace(-1L * omKeyInfoList.size());

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getVersion` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequestWithFSO.java`
#### Snippet
```java
              ozoneManager.isRatisEnabled(), repConfig);

      long openVersion = omFileInfo.getLatestVersionLocations().getVersion();
      long clientID = createFileRequest.getClientID();
      String dbOpenFileName = omMetadataManager
```

### RuleId[ruleID=DataFlowIssue]
Argument `omBucketInfo` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequestWithFSO.java`
#### Snippet
```java
          newLocationList.size() * ozoneManager.getScmBlockSize() * repConfig
              .getRequiredNodes();
      checkBucketQuotaInBytes(omBucketInfo, preAllocatedSpace);
      checkBucketQuotaInNamespace(omBucketInfo, 1L);

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getDefaultReplicationConfig` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java`
#### Snippet
```java
          .resolveReplicationConfigPreference(keyArgs.getType(),
              keyArgs.getFactor(), keyArgs.getEcReplicationConfig(),
              omBucketInfo.getDefaultReplicationConfig(),
              ozoneManager.getDefaultReplicationConfig());

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getVersion` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java`
#### Snippet
```java
          ozoneManager.isRatisEnabled(), repConfig);

      long openVersion = omKeyInfo.getLatestVersionLocations().getVersion();
      long clientID = createFileRequest.getClientID();
      String dbOpenKeyName = omMetadataManager.getOpenKey(volumeName,
```

### RuleId[ruleID=DataFlowIssue]
Argument `omCheckpointUrl` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/snapshot/OzoneManagerSnapshotProvider.java`
#### Snippet
```java
    SecurityUtil.doAsCurrentUser(() -> {
      HttpURLConnection httpURLConnection = (HttpURLConnection)
          connectionFactory.openConnection(new URL(omCheckpointUrl),
              spnegoEnabled);
      httpURLConnection.connect();
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getHostName` may produce `NullPointerException`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServer.java`
#### Snippet
```java
          OZONE_RECON_KERBEROS_KEYTAB_FILE_KEY,
          OZONE_RECON_KERBEROS_PRINCIPAL_KEY,
          socAddr.getHostName());
    } else {
      throw new AuthenticationException(SecurityUtil.getAuthenticationMethod(
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `calculateDUUnderObject` may produce `NullPointerException`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/RootEntityHandler.java`
#### Snippet
```java
              getReconNamespaceSummaryManager(),
              getOmMetadataManager(), getReconSCM(), bucket);
          volumeDU += bucketHandler.calculateDUUnderObject(bucketObjectID);
        }
      }
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/BucketHandler.java`
#### Snippet
```java
    OmKeyLocationInfoGroup locationGroup = keyInfo.getLatestVersionLocations();
    List<OmKeyLocationInfo> keyLocations =
        locationGroup.getBlocksLatestVersionOnly();
    long du = 0L;
    // a key could be too large to fit in one single container
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `calculateDUUnderObject` may produce `NullPointerException`
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/VolumeEntityHandler.java`
#### Snippet
```java
                  getOmMetadataManager(), getReconSCM(), bucket);
        long bucketDU = bucketHandler
              .calculateDUUnderObject(bucketObjectID);
        diskUsage.setSizeWithReplica(bucketDU);
        volDataSizeWithReplica += bucketDU;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getPeerNodesMap` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java

    this.isSecurityEnabled = OzoneSecurityUtil.isSecurityEnabled(conf);
    this.peerNodesMap = omhaNodeDetails.getPeerNodesMap();
    this.omNodeDetails = omhaNodeDetails.getLocalNodeDetails();

```

### RuleId[ruleID=DataFlowIssue]
Argument `newOMNodeDetails` might be null
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      omSnapshotProvider.addNewPeerNode(newOMNodeDetails);
    }
    omRatisServer.addRaftPeer(newOMNodeDetails);
    peerNodesMap.put(newOMNodeId, newOMNodeDetails);
    LOG.info("Added OM {} to the Peer list.", newOMNodeId);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getCheckpointLocation` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    DBCheckpoint omDBCheckpoint = getDBCheckpointFromLeader(leaderId);
    LOG.info("Downloaded checkpoint from Leader {} to the location {}",
        leaderId, omDBCheckpoint.getCheckpointLocation());

    TermIndex termIndex = null;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getLocalNodeDetails` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    OMHANodeDetails haOMHANodeDetails = OMHANodeDetails.loadOMHAConfig(config);
    String serviceName =
        haOMHANodeDetails.getLocalNodeDetails().getServiceId();
    if (!StringUtils.isEmpty(serviceName)) {
      builder.addServiceName(serviceName);
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getId` may produce `NullPointerException`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        return "Exception: " + e.toString();
      }
      return OmUtils.format(serviceList, port, leaderId.getId().toString());
    } else {
      return "Ratis-Disabled";
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/scm/ReconContainerManager.java`
#### Snippet
```java
        replicaLastSeenMap.forEach((k, v) ->
            finalResMap.merge(k, v, (old, latest) -> latest));
        resMap = finalResMap;
      }
    }
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/fsck/ContainerHealthTask.java`
#### Snippet
```java
        break;
      default:
        returnValue = false;
      }
      return returnValue;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `read` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneInputStream.java`
#### Snippet
```java
  @Override
  public int read() throws IOException {
    return inputStream.read();
  }

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `available` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneInputStream.java`
#### Snippet
```java
  @Override
  public int available() throws IOException {
    return inputStream.available();
  }

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `read` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneInputStream.java`
#### Snippet
```java
  @Override
  public int read(byte[] b, int off, int len) throws IOException {
    return inputStream.read(b, off, len);
  }

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getClass` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneInputStream.java`
#### Snippet
```java
    } else {
      throw new UnsupportedOperationException("Read with ByteBuffer is not " +
          " supported by " + inputStream.getClass().getName());
    }
  }
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `skip` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneInputStream.java`
#### Snippet
```java
  @Override
  public long skip(long n) throws IOException {
    return inputStream.skip(n);
  }

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `close` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/OzoneInputStream.java`
#### Snippet
```java
  @Override
  public synchronized void close() throws IOException {
    inputStream.close();
  }

```

### RuleId[ruleID=DataFlowIssue]
Dereference of `action` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyOutputStream.java`
#### Snippet
```java
      setExceptionAndThrow(new IOException(e));
    }
    if (action.action == RetryPolicy.RetryAction.RetryDecision.FAIL) {
      String msg = "";
      if (action.reason != null) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/checksum/BaseFileChecksumHelper.java`
#### Snippet
```java
    // use OmKeyArgs to call Om.lookup() and get OmKeyInfo
    keyLocationInfos = keyInfo
        .getLatestVersionLocations().getBlocksLatestVersionOnly();
  }

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getLocationList` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
            List<OmKeyLocationInfo> collect =
                newKeyInfo.getLatestVersionLocations()
                .getLocationList()
                .stream()
                .filter(l -> l.getBlockID().equals(blockID))
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
      BlockInputStreamFactory blockStreamFactory) {
    List<OmKeyLocationInfo> keyLocationInfos = keyInfo
        .getLatestVersionLocations().getBlocksLatestVersionOnly();

    List<LengthInputStream> lengthInputStreams = new ArrayList<>();
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/KeyInputStream.java`
#### Snippet
```java
      BlockInputStreamFactory blockStreamFactory) {
    List<OmKeyLocationInfo> keyLocationInfos = keyInfo
        .getLatestVersionLocations().getBlocksLatestVersionOnly();

    KeyInputStream keyInputStream = new KeyInputStream();
```

### RuleId[ruleID=DataFlowIssue]
Condition `report instanceof CommandStatusReportsProto` is redundant and can be replaced with a null check
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/report/ReportPublisher.java`
#### Snippet
```java
    try {
      Message report = getReport();
      if (report instanceof CommandStatusReportsProto) {
        context.addIncrementalReport(report);
      } else {
```

### RuleId[ruleID=DataFlowIssue]
Condition `localValue instanceof SetFuture` is redundant and can be replaced with a null check
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
          }
          complete(abstractFuture);
          if (localValue instanceof SetFuture) {
            // propagate cancellation to the future set in setfuture, this is
            // racy, and we don't care if we are successful or not.
```

### RuleId[ruleID=DataFlowIssue]
The call to 'assertNotNull' always fails as an argument is out of bounds
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/DatanodeSchemaV3FinalizeAction.java`
#### Snippet
```java
    MutableVolumeSet dataVolumeSet = dsm.getContainer().getVolumeSet();
    MutableVolumeSet dbVolumeSet = dsm.getContainer().getDbVolumeSet();
    Preconditions.assertNotNull(dataVolumeSet,
        "Data Volume should not be null");

```

### RuleId[ruleID=DataFlowIssue]
Condition `generatedMessage instanceof IncrementalContainerReportProto` is redundant and can be replaced with a null check
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
            entry.getValue().removeIf(
                generatedMessage ->
                    generatedMessage instanceof
                        IncrementalContainerReportProto);
          }
        }
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    OmKeyInfo keyInfo = getKeyInfo(volumeName, bucketName, keyName, true);
    List<OmKeyLocationInfo> keyLocationInfos
        = keyInfo.getLatestVersionLocations().getBlocksLatestVersionOnly();

    for (OmKeyLocationInfo locationInfo : keyLocationInfos) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    long lastKeyOffset = 0L;
    List<OmKeyLocationInfo> omKeyLocationInfos = keyInfo
        .getLatestVersionLocations().getBlocksLatestVersionOnly();
    for (OmKeyLocationInfo info: omKeyLocationInfos) {
      ozoneKeyLocations.add(new OzoneKeyLocation(info.getContainerID(),
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `isMultipartKey` may produce `NullPointerException`
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
      }
      return new OzoneInputStream(lengthInputStream.getWrappedStream());
    } else if (!keyInfo.getLatestVersionLocations().isMultipartKey()) {
      // Regular Key with FileEncryptionInfo
      LengthInputStream lengthInputStream = KeyInputStream
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getNodeId` may produce `NullPointerException`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
        OMNodeDetails omNodeDetails = OMNodeDetails.getOMNodeDetailsFromConf(
            conf, omServiceId, nodeId);
        if (decommNodeIds.contains(omNodeDetails.getNodeId())) {
          omNodeDetails.setDecommissioningState();
        }
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
      LOG.debug("grpc failover retry action {}", action.action);
      if (action.action == RetryPolicy.RetryAction.RetryDecision.FAIL) {
        retry = false;
        LOG.error("Retry request failed. Action : {}, {}",
            action.action, ex.toString());
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `substring` may produce `NullPointerException`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocolPB/GrpcOmTransport.java`
#### Snippet
```java
        // exception potentially generated by OzoneManagerServiceGrpc
        Class<?> realClass = Class.forName(status.getDescription()
            .substring(0, status.getDescription()
                .indexOf(":")));
        Class<? extends Exception> cls = realClass
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getDecommissionedNodesInNewConf` may produce `NullPointerException`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/DecommissionOMSubcommand.java`
#### Snippet
```java
      OMConfiguration omConfig = omAdminProtocolClient.getOMConfiguration();
      OMNodeDetails decommNodeDetails = omConfig
          .getDecommissionedNodesInNewConf().get(decommNodeId);
      if (decommNodeDetails == null) {
        return false;
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getBlocksLatestVersionOnly` may produce `NullPointerException`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ChunkKeyHandler.java`
#### Snippet
```java
    // localID pertaining to a given key
    List<OmKeyLocationInfo> locationInfos = keyInfo
            .getLatestVersionLocations().getBlocksLatestVersionOnly();
    // for zero-sized key
    if (locationInfos.isEmpty()) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `entrySet` may produce `NullPointerException`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/ChunkKeyHandler.java`
#### Snippet
```java
      JsonArray responseFromAllNodes = new JsonArray();
      for (Map.Entry<DatanodeDetails, ContainerProtos.GetBlockResponseProto>
              entry: responses.entrySet()) {
        JsonObject jsonObj = new JsonObject();
        if (entry.getValue() == null) {
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `println` may produce `NullPointerException`
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
        result.append(gson.toJson(o));
        if (fileName != null) {
          printWriter.println(result);
        } else {
          System.out.println(result.toString());
```

### RuleId[ruleID=DataFlowIssue]
Method invocation `getVersion` may produce `NullPointerException`
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java
      List<OmKeyLocationInfo> locationInfoList,
      boolean isMpu, boolean skipBlockIDCheck) {
    long latestVersion = getLatestVersionLocations().getVersion();
    OmKeyLocationInfoGroup keyLocationInfoGroup = getLatestVersionLocations();

```

### RuleId[ruleID=DataFlowIssue]
Argument `taskQueue.poll()` might be null
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java

      for (int i = 0; i < this.numThreads; i++) {
        this.executor.execute(taskQueue.poll());
      }

```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/RangeHeaderParserUtil.java`
#### Snippet
```java
          start = length - end;
        } else {
          start = 0;
        }
        end = length - 1;
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/RangeHeaderParserUtil.java`
#### Snippet
```java
      // Byte specification is not matching or start and endoffset provided
      // are not matching with regex.
      start = 0;
      end = length - 1;
      readFull = true;
```

### RuleId[ruleID=DataFlowIssue]
The call to 'assertNotNull' always fails as an argument is out of bounds
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/MoveDataNodePair.java`
#### Snippet
```java
  public static MoveDataNodePair getFromProtobuf(
      HddsProtos.MoveDataNodePairProto mdnpp) {
    Preconditions.assertNotNull(mdnpp, "MoveDataNodePair is null");
    DatanodeDetails src = DatanodeDetails.getFromProtoBuf(mdnpp.getSrc());
    DatanodeDetails tgt = DatanodeDetails.getFromProtoBuf(mdnpp.getTgt());
```

### RuleId[ruleID=DataFlowIssue]
Variable is already assigned to this value
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
          + " when getting password", ioe);

      password = null;
    }
    return password;
```

### RuleId[ruleID=DataFlowIssue]
Argument `httpAddress` might be null
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
    if (policy.isHttpEnabled()) {
      httpAddress = httpServer.getConnectorAddress(connIdx++);
      String realAddress = NetUtils.getHostPortString(httpAddress);
      conf.set(getHttpAddressKey(), realAddress);
      LOG.info("HTTP server of {} listening at http://{}", name, realAddress);
```

### RuleId[ruleID=DataFlowIssue]
Argument `httpsAddress` might be null
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
    if (policy.isHttpsEnabled()) {
      httpsAddress = httpServer.getConnectorAddress(connIdx);
      String realAddress = NetUtils.getHostPortString(httpsAddress);
      conf.set(getHttpsAddressKey(), realAddress);
      LOG.info("HTTPS server of {} listening at https://{}", name, realAddress);
```

### RuleId[ruleID=DataFlowIssue]
Argument `blockID` might be null
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/token/BlockTokenVerifier.java`
#### Snippet
```java
    Preconditions.checkNotNull(blockID,
        "no blockID in %s command", cmd.getCmdType());
    return getTokenService(blockID);
  }

```

### RuleId[ruleID=DataFlowIssue]
Method invocation `suffix` may produce `NullPointerException`
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/ConfigurationTarget.java`
#### Snippet
```java

  default void setTimeDuration(String name, long value, TimeUnit unit) {
    set(name, value + ParsedTimeDuration.unitFor(unit).suffix());
  }

```

## RuleId[ruleID=DeprecatedIsStillUsed]
### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'toLog4j' is still used
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/GenericTestUtils.java`
#### Snippet
```java

  @Deprecated
  public static Logger toLog4j(org.slf4j.Logger logger) {
    return LogManager.getLogger(logger.getName());
  }
```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'REVOKED_CERTS' is still used
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/metadata/SCMDBDefinition.java`
#### Snippet
```java
  @Deprecated
  public static final DBColumnFamilyDefinition<BigInteger, X509Certificate>
      REVOKED_CERTS =
      new DBColumnFamilyDefinition<>(
          "revokedCerts",
```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'getMissingContainers' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java
  @Path("/missing")
  @Deprecated
  public Response getMissingContainers(
      @DefaultValue(DEFAULT_FETCH_COUNT) @QueryParam(RECON_QUERY_LIMIT)
      int limit
```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'RECON_OM_CONNECTION_REQUEST_TIMEOUT' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServerConfigKeys.java`
#### Snippet
```java
      "5s";
  @Deprecated
  public static final String RECON_OM_CONNECTION_REQUEST_TIMEOUT =
      "recon.om.connection.request.timeout";

```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'RECON_OM_SNAPSHOT_TASK_FLUSH_PARAM' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServerConfigKeys.java`
#### Snippet
```java
      "ozone.recon.om.snapshot.task.flush.param";
  @Deprecated
  public static final String RECON_OM_SNAPSHOT_TASK_FLUSH_PARAM =
      "recon.om.snapshot.task.flush.param";

```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'RECON_OM_SNAPSHOT_TASK_INITIAL_DELAY' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServerConfigKeys.java`
#### Snippet
```java
      OZONE_RECON_OM_SNAPSHOT_TASK_INITIAL_DELAY_DEFAULT = "1m";
  @Deprecated
  public static final String RECON_OM_SNAPSHOT_TASK_INITIAL_DELAY =
      "recon.om.snapshot.task.initial.delay";

```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'RECON_OM_CONNECTION_TIMEOUT' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServerConfigKeys.java`
#### Snippet
```java
  public static final String OZONE_RECON_OM_CONNECTION_TIMEOUT_DEFAULT = "5s";
  @Deprecated
  public static final String RECON_OM_CONNECTION_TIMEOUT =
      "recon.om.connection.timeout";

```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'RECON_OM_SNAPSHOT_TASK_INTERVAL_DELAY' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServerConfigKeys.java`
#### Snippet
```java
      = "10m";
  @Deprecated
  public static final String RECON_OM_SNAPSHOT_TASK_INTERVAL_DELAY =
      "recon.om.snapshot.task.interval.delay";

```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'RECON_OM_SOCKET_TIMEOUT' is still used
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconServerConfigKeys.java`
#### Snippet
```java
  public static final String OZONE_RECON_OM_SOCKET_TIMEOUT_DEFAULT = "5s";
  @Deprecated
  public static final String RECON_OM_SOCKET_TIMEOUT =
      "recon.om.socket.timeout";

```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'handleDeleteBlock' is still used
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
   */
  @Deprecated
  ContainerCommandResponseProto handleDeleteBlock(
      ContainerCommandRequestProto request, KeyValueContainer kvContainer) {
    // Block/ Chunk Deletion is handled by BlockDeletingService.
```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'handleDeleteChunk' is still used
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueHandler.java`
#### Snippet
```java
   */
  @Deprecated
  ContainerCommandResponseProto handleDeleteChunk(
      ContainerCommandRequestProto request, KeyValueContainer kvContainer) {
    // Block/ Chunk Deletion is handled by BlockDeletingService.
```

### RuleId[ruleID=DeprecatedIsStillUsed]
Deprecated member 'renameKeys' is still used
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/OzoneBucket.java`
#### Snippet
```java
   */
  @Deprecated
  public void renameKeys(Map<String, String> keyMap)
      throws IOException {
    proxy.renameKeys(volumeName, name, keyMap);
```

## RuleId[ruleID=Convert2MethodRef]
### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/interface-storage/src/main/java/org/apache/hadoop/ozone/om/helpers/OmPrefixInfo.java`
#### Snippet
```java
    Map<String, String> metadataList = new HashMap<>();
    if (metadata != null) {
      metadata.forEach((k, v) -> metadataList.put(k, v));
    }
    return new OmPrefixInfo(name, aclList, metadataList, objectID, updateID);
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/datanode/UsageInfoSubcommand.java`
#### Snippet
```java

    List<DatanodeUsage> usageList = infoList.stream()
        .map(d -> new DatanodeUsage(d))
        .collect(Collectors.toList());

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/ReplicationManagerReport.java`
#### Snippet
```java
      result.put(e.getKey(),
          e.getValue().stream()
              .map(c -> c.getId())
              .collect(Collectors.toList()));
    }
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java

  public void addDatanodes(Collection<DatanodeDetails> dns) {
    dns.forEach(dn -> addDatanode(dn));
  }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/statemachine/StateMachine.java`
#### Snippet
```java
  private final LoadingCache<EVENT, Map<STATE, STATE>> transitions =
      CacheBuilder.newBuilder().build(
          CacheLoader.from((Supplier<Map<STATE, STATE>>) () -> new HashMap()));

  public StateMachine(STATE initState, Set<STATE> finalStates) {
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMSecurityProtocolServer.java`
#### Snippet
```java

    Future<Optional<Long>> revoked = scmCertificateServer.revokeCertificates(
        certIds.stream().map(id -> new BigInteger(id))
            .collect(Collectors.toList()), CRLReason.lookup(reason),
        new Date(revocationTime));
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/update/server/SCMCRLUpdateHandler.java`
#### Snippet
```java
    // server crl id is usually > client crl id when this is invoked.
    clients.values().forEach(client -> {
      sendCrlUpdateToClient(client);
    });
  }
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/WritableRatisContainerProvider.java`
#### Snippet
```java
            List<PipelineID> allocatedPipelineIDs =
                    allocatedPipelines.stream()
                            .map(p -> p.getId())
                            .collect(Collectors.toList());
            try {
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineFactory.java`
#### Snippet
```java

  public void shutdown() {
    providers.values().forEach(provider -> provider.shutdown());
  }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
    // This needs to be done before initializing Ratis.
    RatisDropwizardExports.registerRatisMetricReporters(ratisMetricsMap,
        () -> isStopped.get());
    if (configurator.getSCMHAManager() != null) {
      scmHAManager = configurator.getSCMHAManager();
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/OneReplicaPipelineSafeModeRule.java`
#### Snippet
```java
        RatisReplicationConfig.getInstance(ReplicationFactor.THREE),
        Pipeline.PipelineState.OPEN)
        .stream().map(p -> p.getId()).collect(Collectors.toSet());

    int totalPipelineCount = oldPipelineIDSet.size();
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelinePlacementPolicy.java`
#### Snippet
```java
            (d.getPipelines() < nodeManager.pipelineLimit(d.getDn())))
        .sorted(Comparator.comparingInt(DnWithPipelines::getPipelines))
        .map(d -> d.getDn())
        .collect(Collectors.toList());

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/FindTargetGreedyByUsageInfo.java`
#### Snippet
```java
    super(containerManager, placementPolicyValidateProxy, nodeManager);
    setLogger(LoggerFactory.getLogger(FindTargetGreedyByUsageInfo.class));
    setPotentialTargets(new TreeSet<>((a, b) -> compareByUsage(a, b)));
  }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/replication/health/DeletingContainerHandler.java`
#### Snippet
```java
    Set<DatanodeDetails> pendingDelete = request.getPendingOps().stream()
        .filter(o -> o.getOpType() == ContainerReplicaOp.PendingOpType.DELETE)
        .map(o -> o.getTarget()).collect(Collectors.toSet());
    //resend deleteCommand if needed
    request.getContainerReplicas().stream()
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
        // Dead Nodes have been removed from the topology and so have a
        // null rack. We need to exclude those from the rack list.
        .filter(node -> node != null)
        .filter(node -> !usedRacks.contains(node))
        .collect(Collectors.toSet());
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
    Set<Node> usedRacks = usedNodes.stream()
            .map(node -> networkTopology.getAncestor(node, RACK_LEVEL))
            .filter(node -> node != null)
            .collect(Collectors.toSet());
    int requiredReplicationFactor = usedNodes.size() + nodesRequired;
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/placement/algorithms/SCMContainerPlacementRackScatter.java`
#### Snippet
```java
      usedRacks.addAll(chosenNodes.stream()
              .map(node -> networkTopology.getAncestor(node, RACK_LEVEL))
              .filter(node -> node != null)
              .collect(Collectors.toSet()));
      sortRackWithExcludedNodes(racks, excludedNodes, usedRacks);
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/PrefixManagerImpl.java`
#### Snippet
```java
  private List<OmPrefixInfo> getLongestPrefixPathHelper(String prefixPath) {
    return prefixTree.getLongestPrefixPath(prefixPath).stream()
          .map(c -> c.getValue()).collect(Collectors.toList());
  }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/ratis/OzoneManagerRatisServer.java`
#### Snippet
```java
        getOMHAConfigs(ozoneConf);
    ratisServerConf.forEach((key, val) -> {
      raftProperties.set(key, val);
    });
  }
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/KeyManagerImpl.java`
#### Snippet
```java

    List<OmKeyInfo> keyInfoList = new ArrayList<>(fileStatusList.size());
    fileStatusList.stream().map(s -> s.getKeyInfo()).forEach(keyInfoList::add);
    if (args.getLatestVersionLocation()) {
      slimLocationVersion(keyInfoList.toArray(new OmKeyInfo[0]));
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerClientMultiTenantAccessController.java`
#### Snippet
```java
      Collection<RangerRole.RoleMember> members) {
    return members.stream()
        .map(rangerUser -> rangerUser.getName())
        .collect(Collectors.toList());
  }
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
    }
    shutdownHook = () -> {
      saveOmMetrics();
    };
    ShutdownHookManager.get().addShutdownHook(shutdownHook,
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
        // This needs to be done before initializing Ratis.
        RatisDropwizardExports.
            registerRatisMetricReporters(ratisMetricsMap, () -> isStopped());
        omRatisServer = OzoneManagerRatisServer.newOMRatisServer(
            configuration, this, omNodeDetails, peerNodesMap,
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/HddsDatanodeService.java`
#### Snippet
```java

    RatisDropwizardExports.
        registerRatisMetricReporters(ratisMetricsMap, () -> isStopped.get());

    OzoneConfiguration.activate();
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java
    // Ensure volume threads are stopped and scm df is saved during shutdown.
    shutdownHook = () -> {
      saveVolumeSetUsed();
    };
    ShutdownHookManager.get().addShutdownHook(shutdownHook,
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmDirectoryInfo.java`
#### Snippet
```java

    if (metadata != null) {
      metadata.forEach((k, v) -> builder.addMetadata(k, v));
    }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmVolumeArgs.java`
#### Snippet
```java
    Map<String, String> cloneMetadata = new HashMap<>();
    if (metadata != null) {
      metadata.forEach((k, v) -> cloneMetadata.put(k, v));
    }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/protocol/OMConfiguration.java`
#### Snippet
```java
  public Map<String, OMNodeDetails> getDecommissionedNodesInNewConf() {
    return omNodesInNewConf.stream()
        .filter(omNodeDetails -> omNodeDetails.isDecommissioned())
        .collect(Collectors.toMap(NodeDetails::getNodeId,
            omNodeDetails -> omNodeDetails,
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/PrepareSubCommand.java`
#### Snippet
```java
            omPreparedStatusMap.entrySet().stream()
                .filter(e -> !e.getValue())
                .map(e -> e.getKey())
                .collect(Collectors.joining()));
      }
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OmKeyInfo.java`
#### Snippet
```java

    if (metadata != null) {
      metadata.forEach((k, v) -> builder.addMetadata(k, v));
    }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/KeyGeneratorUtil.java`
#### Snippet
```java
  }
  public Function<Integer, String> pureIndexKeyNameFunc() {
    return number -> String.valueOf(number);
  }

```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/ClientCRLStore.java`
#### Snippet
```java
  public List<Long> getPendingCrlIds() {
    return new ArrayList<>(pendingCrls)
        .stream().map(crl -> crl.getCrlSequenceID())
        .collect(Collectors.toList());
  }
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/RocksDatabase.java`
#### Snippet
```java
    if (isClosed.compareAndSet(false, true)) {
      if (columnFamilies != null) {
        columnFamilies.values().stream().forEach(f -> f.markClosed());
      }
      // wait till all access to rocks db is process to avoid crash while close
```

### RuleId[ruleID=Convert2MethodRef]
Lambda can be replaced with method reference
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
        httpResponse.setContentType("text/xml; charset=utf-8");
      }
      headerMap.forEach((k, v) -> httpResponse.setHeader(k, v));
      chain.doFilter(quoted, httpResponse);
    }
```

## RuleId[ruleID=RedundantCollectionOperation]
### RuleId[ruleID=RedundantCollectionOperation]
Unnecessary 'contains()' check
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
    }
    Set<String> dnSet = dnsToUuidMap.get(dnsName);
    if (dnSet.contains(dnsName)) {
      dnSet.remove(dnsName);
    }
```

### RuleId[ruleID=RedundantCollectionOperation]
Unnecessary 'contains()' check
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/types/NSSummary.java`
#### Snippet
```java

  public void removeChildDir(long childId) {
    if (this.childDir.contains(childId)) {
      this.childDir.remove(childId);
    }
```

### RuleId[ruleID=RedundantCollectionOperation]
Unnecessary 'containsKey()' check
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/MutableVolumeSet.java`
#### Snippet
```java
        success = false;
      } else {
        if (failedVolumeMap.containsKey(volumeRoot)) {
          failedVolumeMap.remove(volumeRoot);
        }
```

### RuleId[ruleID=RedundantCollectionOperation]
Unnecessary 'contains()' check
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
        JsonArray roles = policy.getAsJsonArray("roles");
        for (int k = 0; k < roles.size(); ++k) {
          if (!roleList.contains(roles.get(k).getAsString())) {
            // We only get the role name here. We need to query and populate it.
            roleList.add(roles.get(k).getAsString());
```

### RuleId[ruleID=RedundantCollectionOperation]
Unnecessary 'Arrays.asList()' call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/DatanodeChunkGenerator.java`
#### Snippet
```java
    }

    List<String> pipelinesFromCmd = Arrays.asList(pipelineIds.split(","));

    List<String> datanodeHosts = Arrays.asList(this.datanodes.split(","));
```

## RuleId[ruleID=AbstractMethodCallInConstructor]
### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getTable()` during object construction
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/ChecksumByteBuffer.java`
#### Snippet
```java
    CrcIntTable() {
      reset();
      Preconditions.assertTrue(getTable().length == 8 * (1 << 8));
    }

```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getEventType()` during object construction
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/safemode/SafeModeExitRule.java`
#### Snippet
```java
    this.safeModeManager = safeModeManager;
    this.ruleName = ruleName;
    eventQueue.addHandler(getEventType(), this);
  }

```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `loadOMClientConfigs()` during object construction
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProviderBase.java`
#### Snippet
```java
        OzoneConfigKeys.OZONE_CLIENT_WAIT_BETWEEN_RETRIES_MILLIS_DEFAULT);

    loadOMClientConfigs(conf, omServiceId);
    Preconditions.checkNotNull(omProxies);
    Preconditions.checkNotNull(omNodeIDList);
```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getHttpAuthType()` during object construction
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java

      if (isSecurityEnabled) {
        String httpAuthType = conf.get(getHttpAuthType(), "simple");
        LOG.info("HttpAuthType: {} = {}", getHttpAuthType(), httpAuthType);
        // Ozone config prefix must be set to avoid AuthenticationFilter
```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getHttpAuthType()` during object construction
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
      if (isSecurityEnabled) {
        String httpAuthType = conf.get(getHttpAuthType(), "simple");
        LOG.info("HttpAuthType: {} = {}", getHttpAuthType(), httpAuthType);
        // Ozone config prefix must be set to avoid AuthenticationFilter
        // fall back to default one form hadoop.http.authentication.
```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getHttpAuthConfigPrefix()` during object construction
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
        // Ozone config prefix must be set to avoid AuthenticationFilter
        // fall back to default one form hadoop.http.authentication.
        builder.authFilterConfigurationPrefix(getHttpAuthConfigPrefix());
        if (httpAuthType.equals("kerberos")) {
          builder.setSecurityEnabled(true);
```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getSpnegoPrincipal()` during object construction
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
        if (httpAuthType.equals("kerberos")) {
          builder.setSecurityEnabled(true);
          builder.setUsernameConfKey(getSpnegoPrincipal());
          builder.setKeytabConfKey(getKeytabFile());
        }
```

### RuleId[ruleID=AbstractMethodCallInConstructor]
Call to 'abstract' method `getKeytabFile()` during object construction
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/BaseHttpServer.java`
#### Snippet
```java
          builder.setSecurityEnabled(true);
          builder.setUsernameConfKey(getSpnegoPrincipal());
          builder.setKeytabConfKey(getKeytabFile());
        }
      }
```

## RuleId[ruleID=NonSerializableFieldInSerializableClass]
### RuleId[ruleID=NonSerializableFieldInSerializableClass]
Non-serializable field 'failedLocation' in a Serializable class
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/ozone/client/io/BadDataLocationException.java`
#### Snippet
```java
public class BadDataLocationException extends IOException {

  private DatanodeDetails failedLocation;

  public BadDataLocationException(DatanodeDetails dn) {
```

### RuleId[ruleID=NonSerializableFieldInSerializableClass]
Non-serializable field 'containerID' in a Serializable class
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerInfo.java`
#### Snippet
```java
  // field and hence maintain the original output.
  @JsonIgnore
  private ContainerID containerID;
  // Delete Transaction Id is updated when new transaction for a container
  // is stored in SCM delete Table.
```

### RuleId[ruleID=NonSerializableFieldInSerializableClass]
Non-serializable field 'pipelineID' in a Serializable class
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerInfo.java`
#### Snippet
```java
  private HddsProtos.LifeCycleState state;
  @JsonIgnore
  private PipelineID pipelineID;
  private ReplicationConfig replicationConfig;
  private long usedBytes;
```

### RuleId[ruleID=NonSerializableFieldInSerializableClass]
Non-serializable field 'writeLockTimeStampNanos' in a Serializable class
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
    // This helps in maintaining write lock related variables locally confined
    // to a given thread.
    private final ThreadLocal<LockUsageInfo> writeLockTimeStampNanos =
        ThreadLocal.withInitial(LockUsageInfo::new);

```

### RuleId[ruleID=NonSerializableFieldInSerializableClass]
Non-serializable field 'readLockTimeStampNanos' in a Serializable class
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
    // This helps in maintaining read lock related variables locally confined
    // to a given thread.
    private final ThreadLocal<LockUsageInfo> readLockTimeStampNanos =
        ThreadLocal.withInitial(LockUsageInfo::new);

```

## RuleId[ruleID=CatchMayIgnoreException]
### RuleId[ruleID=CatchMayIgnoreException]
Empty `catch` block
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/InconsistentStorageStateException.java`
#### Snippet
```java
    try {
      return dir.getCanonicalPath();
    } catch (IOException e) {
    }
    return dir.getPath();
```

### RuleId[ruleID=CatchMayIgnoreException]
Empty `catch` block
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      try {
        id = OzoneTokenIdentifier.readProtoBuf(token.getIdentifier());
      } catch (IOException exe) {
      }
      LOG.error("Delegation token renewal failed for dt id: {}, cause: {}",
```

## RuleId[ruleID=MismatchedJavadocCode]
### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return list but the return type is array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
   * Helper method to get List of BlockLocation from OM Key info.
   * @param fileStatus Ozone key file status.
   * @return list of block locations.
   */
  private BlockLocation[] getBlockLocations(OzoneFileStatus fileStatus) {
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return list but the return type is array
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneClientAdapterImpl.java`
#### Snippet
```java
   * Helper method to get List of BlockLocation from OM Key info.
   * @param fileStatus Ozone key file status.
   * @return list of block locations.
   */
  private BlockLocation[] getBlockLocations(OzoneFileStatus fileStatus) {
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return 'true' but there's no such enum constant in Status
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/balancer/ContainerBalancer.java`
#### Snippet
```java
   * get the Container Balancer state.
   *
   * @return true if balancer started, otherwise false
   */
  public ContainerBalancerTask.Status getBalancerStatus() {
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return list but the return type is set
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java`
#### Snippet
```java
   *
   * @param state - State - Open, Closed etc.
   * @return List of containers by state.
   */
  public NavigableSet<ContainerID> getContainerIDsByState(
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return list but the return type is array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/validation/RequestFeatureValidator.java`
#### Snippet
```java
  /**
   * Runtime conditions in which a validator should run.
   * @return a list of conditions when the validator should be applied
   */
  ValidationCondition[] conditions();
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return list but the return type is array
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/response/CleanupTableInfo.java`
#### Snippet
```java
   * Array of tables affected by this operation. This information will be used
   * during cleanup table cache.
   * @return list of table names.
   */
  String[] cleanupTables() default {};
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return count but the return type is list
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/persistence/ContainerHealthSchemaManager.java`
#### Snippet
```java
   * containers an empty list will be returned. If there are unhealthy
   * containers for a certain state, no entry will be returned for it.
   * @return Count of unhealthy containers in each state
   */
  public List<UnhealthyContainersSummary> getUnhealthyContainersSummary() {
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return 'true' but its return type is not boolean
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/ObjectStore.java`
#### Snippet
```java
   *
   * @param obj Ozone object.
   * @return true if acl is added successfully, else false.
   * @throws IOException if there is error.
   */
```

### RuleId[ruleID=MismatchedJavadocCode]
Method is specified to return list but the return type is set
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/AccessPolicy.java`
#### Snippet
```java

  /**
   * @return list of roles associated with this policy
   */
  HashSet<String> getRoleList();
```

## RuleId[ruleID=AssignmentToForLoopParameter]
### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `j`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java
      if (inMatrix[i * n + i] == 0) {
        // Find a row with non-zero in current column and swap
        for (j = i + 1; j < n; j++) {
          if (inMatrix[j * n + i] != 0) {
            break;
```

### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `j`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java
      if (inMatrix[i * n + i] == 0) {
        // Find a row with non-zero in current column and swap
        for (j = i + 1; j < n; j++) {
          if (inMatrix[j * n + i] != 0) {
            break;
```

### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `j`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java

      temp = gfInv(inMatrix[i * n + i]); // 1/pivot
      for (j = 0; j < n; j++) {
        // Scale row i by 1/pivot
        inMatrix[i * n + j] = gfMul(inMatrix[i * n + j], temp);
```

### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `j`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java

      temp = gfInv(inMatrix[i * n + i]); // 1/pivot
      for (j = 0; j < n; j++) {
        // Scale row i by 1/pivot
        inMatrix[i * n + j] = gfMul(inMatrix[i * n + j], temp);
```

### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `j`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java
      }

      for (j = 0; j < n; j++) {
        if (j == i) {
          continue;
```

### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `j`
in `hadoop-hdds/erasurecode/src/main/java/org/apache/ozone/erasurecode/rawcoder/util/GF256.java`
#### Snippet
```java
      }

      for (j = 0; j < n; j++) {
        if (j == i) {
          continue;
```

### RuleId[ruleID=AssignmentToForLoopParameter]
Assignment to for-loop parameter `i`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java
          trashPath = new Path(baseTrashPath, trashPath.getName());
          // retry, ignore current failure
          --i;
          continue;
        } catch (IOException e) {
```

## RuleId[ruleID=UnnecessaryToStringCall]
### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
    } catch (Exception e) {
      throw new IOException(
          "Exception getting XceiverClient: " + e.toString(), e);
    }
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
      return validateFuture;
    } catch (IOException | ExecutionException e) {
      throw new IOException(EXCEPTION_MSG + e.toString(), e);
    } catch (InterruptedException ex) {
      Thread.currentThread().interrupt();
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/BlockOutputStream.java`
#### Snippet
```java
      });
    } catch (IOException | ExecutionException e) {
      throw new IOException(EXCEPTION_MSG + e.toString(), e);
    } catch (InterruptedException ex) {
      Thread.currentThread().interrupt();
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/storage/ECBlockOutputStream.java`
#### Snippet
```java
      });
    } catch (IOException | ExecutionException e) {
      throw new IOException(EXCEPTION_MSG + e.toString(), e);
    } catch (InterruptedException ex) {
      Thread.currentThread().interrupt();
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/pipeline/CreatePipelineSubcommand.java`
#### Snippet
```java
    if (pipeline != null) {
      System.out.println(pipeline.getId().toString() +
          " is created. " + pipeline.toString());
    }
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
    if (srcStatus.isDirectory()) {
      if (dstPath.toString()
          .startsWith(srcPath.toString() + OZONE_URI_DELIMITER)) {
        LOG.trace("Cannot rename a directory to a subdirectory of self");
        return false;
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java

    if (srcStatus.isDirectory()) {
      if (dst.toString().startsWith(src.toString() + OZONE_URI_DELIMITER)) {
        LOG.trace("Cannot rename a directory to a subdirectory of self");
        return false;
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
        } else {
          throw new RuntimeException("Cannot support Level:" + level +
              " on this node " + this.toString());
        }
      }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java
        } else {
          throw new RuntimeException("Cannot support Level:" + level +
              " on this node " + this.toString());
        }
      }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/conf/DefaultConfigManager.java`
#### Snippet
```java
      throw new ConfigurationException(String.format("Setting conflicting " +
          "Default Configs old default Value: %s New Default Value:%s",
          prevValue.toString(), value.toString()));
    }
    CONFIG_DEFAULT_MAP.putIfAbsent(config, value);
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/VersionInfo.java`
#### Snippet
```java
    } catch (IOException ex) {
      LoggerFactory.getLogger(getClass()).warn("Could not read '" +
          versionInfoFile + "', " + ex.toString(), ex);
    } finally {
      IOUtils.closeStream(is);
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/LambdaTestUtils.java`
#### Snippet
```java
    Assert.assertNotNull(message, actual);
    actual.ifPresent(
        t -> Assert.fail("Expected empty option, got " + t.toString()));
  }

```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/utils/CertificateCodec.java`
#### Snippet
```java
    if (!certificateFile.exists()) {
      throw new IOException("Unable to find the requested certificate. Path: "
          + certificateFile.toString());
    }
    CertificateFactory fact = CertificateFactory.getInstance("X.509");
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/security/x509/certificate/utils/CertificateCodec.java`
#### Snippet
```java
        LOG.error("Unable to create file path. Path: {}", basePath);
        throw new IOException("Creation of the directories failed."
            + basePath.toString());
      }
    }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/util/ShutdownHookManager.java`
#### Snippet
```java
        future.cancel(true);
        LOG.warn("ShutdownHook '" + entry.getHook().getClass().
            getSimpleName() + "' timeout, " + ex.toString(), ex);
      } catch (InterruptedException ex) {
        LOG.warn("ShutdownHook '" + entry.getHook().getClass().
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/util/ShutdownHookManager.java`
#### Snippet
```java
      } catch (InterruptedException ex) {
        LOG.warn("ShutdownHook '" + entry.getHook().getClass().
            getSimpleName() + "' failed, " + ex.toString(), ex);
        Thread.currentThread().interrupt();
      } catch (ExecutionException ex) {
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/util/ShutdownHookManager.java`
#### Snippet
```java
      } catch (ExecutionException ex) {
        LOG.warn("ShutdownHook '" + entry.getHook().getClass().
            getSimpleName() + "' failed, " + ex.toString(), ex);
      }
    }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/common/StorageInfo.java`
#### Snippet
```java
   */
  public static String newClusterID() {
    return OzoneConsts.CLUSTER_ID_PREFIX + UUID.randomUUID().toString();
  }
}
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
        if (LOG.isTraceEnabled()) {
          LOG.trace("Datanode is already registered. Datanode: {}",
              datanodeDetails.toString());
        }
      } catch (NodeNotFoundException e) {
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
      } catch (NodeNotFoundException e) {
        LOG.error("Cannot find datanode {} from nodeStateManager",
            datanodeDetails.toString());
      }
    } else {
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineProvider.java`
#### Snippet
```java
          .format("Cannot create pipeline %s using %d nodes." +
                  " Used %d nodes. Healthy nodes %d",
              replicationConfig.toString(),
              dns.size(), dnsUsed.size(),
              nodeManager.getNodes(NodeStatus.inServiceHealthy()).size());
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/StorageContainerManager.java`
#### Snippet
```java
                                                  InetSocketAddress addr) {
    return addr != null
        ? String.format("%s is listening at %s", description, addr.toString())
        : String.format("%s not started", description);
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMClientProtocolServer.java`
#### Snippet
```java
        ContainerWithPipeline cp = getContainerWithPipelineCommon(containerID);
        cpList.add(cp);
        strContainerIDs.append(ContainerID.valueOf(containerID).toString());
        strContainerIDs.append(",");
      } catch (IOException ex) {
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashPolicyOzone.java`
#### Snippet
```java
    if (path.isRoot() || ofsPath.isBucket()) {
      throw new IOException("Recursive rm of bucket "
          + path.toString() + " not permitted");
    }

```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequest.java`
#### Snippet
```java

    KeyArgs.Builder newKeyArgs = keyArgs.toBuilder()
            .setMultipartUploadID(UUID.randomUUID().toString() + "-" +
                UniqueId.next()).setModificationTime(Time.now())
            .setKeyName(keyPath);
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      } catch (IOException e) {
        LOG.error("IO-Exception Occurred", e);
        return "Exception: " + e.toString();
      }
      return OmUtils.format(serviceList, port, leaderId.getId().toString());
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java`
#### Snippet
```java
      InetSocketAddress addr) {
    return addr != null ? String.format("%s is listening at %s",
        description, addr.toString()) :
        String.format("%s not started", description);
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerCheck.java`
#### Snippet
```java

    if (!dbFile.exists() || !dbFile.canRead()) {
      String dbFileErrorMsg = "Unable to access DB File [" + dbFile.toString()
          + "] for Container [" + containerID + "] metadata path ["
          + metadataPath + "]";
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/impl/FilePerChunkStrategy.java`
#### Snippet
```java
    }
    throw new StorageContainerException(
        "Chunk file can't be found " + possibleFiles.toString(),
        UNABLE_TO_FIND_CHUNK);
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/replication/DownloadAndImportReplicator.java`
#### Snippet
```java
      } catch (Exception ex) {
        LOG.error("Got exception while deleting downloaded container file: "
            + tarFilePath.toAbsolutePath().toString(), ex);
      }
    }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OFSPath.java`
#### Snippet
```java
      final Path pathWithSchemeAuthority = new Path(
          OZONE_OFS_URI_SCHEME, authority, OZONE_URI_DELIMITER);
      sb.insert(0, pathWithSchemeAuthority.toString());
      return sb.toString();
    }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OzoneAcl.java`
#### Snippet
```java
      throw new IllegalArgumentException("Acl bitset passed has unexpected " +
          "size. bitset size:" + acls.cardinality() + ", bitset:"
          + acls.toString());
    }
    this.aclBitSet = (BitSet) acls.clone();
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
                "configured : %s, but %s is not " +
                "configured.", OZONE_OM_SERVICE_IDS_KEY,
            omServiceIds.toString(), OZONE_OM_INTERNAL_SERVICE_ID));
      }
    } else if (!omServiceIds.contains(localOMServiceId)) {
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
      throw new IOException(String.format(
          "Cannot find the internal service id %s in %s",
          localOMServiceId, omServiceIds.toString()));
    } else {
      omServiceIds = Collections.singletonList(localOMServiceId);
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
    } else if (!object.toString().equals(accessObject.toString())) {
      throw new IOException(
          "removeAccessPolicyElem:  Object not found." + object.toString());
    }
    if (!policyMap.containsKey(principal.getName())) {
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
    if (!policyMap.containsKey(principal.getName())) {
      throw new IOException(
          "removeAccessPolicyElem:  Principal not found." + object.toString());
    }
    List<AccessPolicyElem> elemList = policyMap.get(principal.getName());
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerAccessPolicy.java`
#### Snippet
```java
    }
    throw new IOException(
        "removeAccessPolicyElem:  aclType not found." + object.toString());
  }

```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizeUpgradeSubCommand.java`
#### Snippet
```java
    OzoneManagerProtocol client =
        parent.createOmClient(omServiceId, omHost, forceHA);
    String upgradeClientID = "Upgrade-Client-" + UUID.randomUUID().toString();
    try {
      UpgradeFinalizer.StatusAndMessages finalizationResponse =
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/FinalizationStatusSubCommand.java`
#### Snippet
```java
    OzoneManagerProtocol client =
        parent.createOmClient(omServiceId, omHost, false);
    String upgradeClientID = "Upgrade-Client-" + UUID.randomUUID().toString();
    UpgradeFinalizer.StatusAndMessages progress =
        client.queryUpgradeFinalizationProgress(upgradeClientID, false, true);
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizationScmStatusSubcommand.java`
#### Snippet
```java
  @Override
  public void execute(ScmClient client) throws IOException {
    String upgradeClientID = "Upgrade-Client-" + UUID.randomUUID().toString();
    UpgradeFinalizer.StatusAndMessages progress =
        client.queryUpgradeFinalizationProgress(upgradeClientID, false, true);
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/scm/FinalizeScmUpgradeSubcommand.java`
#### Snippet
```java
  @Override
  public void execute(ScmClient scmClient) throws IOException {
    String upgradeClientID = "Upgrade-Client-" + UUID.randomUUID().toString();
    try {
      StatusAndMessages finalizationResponse =
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/ProgressBar.java`
#### Snippet
```java
        (timeInSec % 3600) / 60, timeInSec % 60);
    sb.append(" Time: ").append(timeToPrint);
    stream.print(sb.toString());
  }
}
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/HadoopFsValidator.java`
#### Snippet
```java
      throw new IllegalStateException(
          "Reference (=first) message digest doesn't match with digest of "
              + file.toString());
    }
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/debug/DBScanner.java`
#### Snippet
```java
          printWriter.println(result);
        } else {
          System.out.println(result.toString());
        }
        limit--;
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/token/GetTokenHandler.java`
#### Snippet
```java
      out().println("Successfully get token for service " +
          token.getService());
      out().println(token.toString());
      tokenFile.persistToken(token);
    }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/segmentparser/BaseLogParser.java`
#### Snippet
```java
    } catch (Exception e) {
      System.out.println(DatanodeRatisLogParser.class.getSimpleName()
          + "failed with exception  " + e.toString());
    }
  }
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/S3Acl.java`
#### Snippet
```java
    } else {
      LOG.error("Cannot find a good mapping for Ozone ACL {} to S3",
          ozoneAcl.toString());
    }
    return grantList;
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointServlet.java`
#### Snippet
```java
      response.setHeader("Content-Disposition",
          "attachment; filename=\"" +
               file.toString() + ".tgz\"");

      Instant start = Instant.now();
```

### RuleId[ruleID=UnnecessaryToStringCall]
Unnecessary `toString()` call
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/security/x509/crl/CRLCodec.java`
#### Snippet
```java
      LOG.error("Unable to create file path. Path: {}", basePath);
      throw new IOException("Creation of the directories failed."
                                + basePath.toString());
    }
    try (FileOutputStream file = new FileOutputStream(crlFile)) {
```

## RuleId[ruleID=InnerClassMayBeStatic]
### RuleId[ruleID=InnerClassMayBeStatic]
Inner class `ThroughputBenchmark` may be 'static'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/SCMThroughputBenchmark.java`
#### Snippet
```java
   * Base class for all benchmark types.
   */
  private abstract class ThroughputBenchmark {

    private static final String DURATION_FORMAT = "HH:mm:ss,SSS";
```

## RuleId[ruleID=SuspiciousMethodCalls]
### RuleId[ruleID=SuspiciousMethodCalls]
'Map' may not contain keys of type 'Object'
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/report/ContainerReportValidator.java`
#### Snippet
```java
                                         ContainerReplicaProto replicaProto) {
    return Optional.ofNullable(replicationConfig.getReplicationType())
            .map(CONTAINER_REPORT_VALIDATOR.replicaValidators::get)
            .map(replicaValidator ->
                    replicaValidator.validate(replicationConfig,
```

## RuleId[ruleID=NestedSynchronizedStatement]
### RuleId[ruleID=NestedSynchronizedStatement]
Nested `synchronized` statement
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java`
#### Snippet
```java
    synchronized (parentDatanodeStateMachine
        .getContainer()) {
      synchronized (incrementalReportsQueue) {
        for (Map.Entry<InetSocketAddress, List<Message>>
            entry : incrementalReportsQueue.entrySet()) {
```

## RuleId[ruleID=WrongPackageStatement]
### RuleId[ruleID=WrongPackageStatement]
Package name 'org.apache.ozone.test' does not correspond to the file path 'org.apache.ozone.test.tag'
in `hadoop-hdds/test-utils/src/main/java/org/apache/ozone/test/tag/package-info.java`
#### Snippet
```java
 * Tags are annotations for grouping tests.
 */
package org.apache.ozone.test;

```

## RuleId[ruleID=StringEqualsEmptyString]
### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
          BasicKeyInfo key = keyIterator.next();
          LOG.trace("iterating key:{}", key.getName());
          if (!key.getName().equals("")) {
            keyList.add(key.getName());
          }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
            String keyPath = ofsPathPrefix + key.getName();
            LOG.trace("iterating key path: {}", keyPath);
            if (!key.getName().equals("")) {
              keyPathList.add(keyPath);
            }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationConfigValidator.java`
#### Snippet
```java
  @PostConstruct
  public void init() {
    if (validationPattern != null && !validationPattern.equals("")) {
      validationRegexp = Pattern.compile(validationPattern);
    }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/OzoneQuota.java`
#### Snippet
```java
      }
      // there might be no unit specified.
      if (size.equals("")) {
        size = uppercase;
      }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/tracing/StringCodec.java`
#### Snippet
```java
    }
    String value = s.toString();
    if (!"".equals(value)) {
      String[] parts = value.split(":");
      if (parts.length != 4) {
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/TrashOzoneFileSystem.java`
#### Snippet
```java
          String keyPath = ofsPathprefix + kv.getValue().getKeyName();
          LOG.trace("iterating key path: {}", keyPath);
          if (!kv.getValue().getKeyName().equals("")
              && kv.getKey().startsWith("/" + pathKey)) {
            keyPathList.add(keyPath);
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java`
#### Snippet
```java
        }
        // Ensure the parent exist.
        if (!"".equals(OzoneFSUtils.getParent(keyName))
            && !checkDirectoryAlreadyExists(volumeName, bucketName,
            OzoneFSUtils.getParent(keyName), omMetadataManager)) {
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseAppendLogGenerator.java`
#### Snippet
```java
      IOException {
    File idFile = new File(HddsServerUtil.getDatanodeIdFilePath(conf));
    if ((this.serverId == null || this.serverId.equals("")) &&
        idFile.exists()) {
      DatanodeDetails datanodeDetails =
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/BaseAppendLogGenerator.java`
#### Snippet
```java
      this.serverId = datanodeDetails.getUuidString();
    }
    Preconditions.assertTrue(!serverId.equals(""),
        "Server id is not specified and can't be read from " + idFile
            .getAbsolutePath());
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/DatanodeChunkGenerator.java`
#### Snippet
```java

  private boolean arePipelinesOrDatanodesProvided() {
    return !(pipelineIds.equals("") && datanodes.equals(""));
  }

```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/DatanodeChunkGenerator.java`
#### Snippet
```java

  private boolean arePipelinesOrDatanodesProvided() {
    return !(pipelineIds.equals("") && datanodes.equals(""));
  }

```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
    }

    if (authority == null || authority.equals("")) {
      authority = EMPTY_HOST;
    }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/OzoneAddress.java`
#### Snippet
```java
  public OzoneAddress(String address)
      throws OzoneClientException {
    if (address == null || address.equals("")) {
      address = OZONE_RPC_SCHEME + ":///";
    }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java`
#### Snippet
```java
      String awsAccessId = signatureInfo.getAwsAccessId();
      // ONLY validate aws access id when needed.
      if (awsAccessId == null || awsAccessId.equals("")) {
        LOG.debug("Malformed s3 header. awsAccessID: {}", awsAccessId);
        throw ACCESS_DENIED;
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/RangeHeaderParserUtil.java`
#### Snippet
```java
    Matcher matcher = RANGE_HEADER_MATCH_PATTERN.matcher(rangeHeaderVal);
    if (matcher.matches()) {
      if (!matcher.group("start").equals("")) {
        start = Long.parseLong(matcher.group("start"));
      } else {
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/RangeHeaderParserUtil.java`
#### Snippet
```java
        noStart = true;
      }
      if (!matcher.group("end").equals("")) {
        end = Long.parseLong(matcher.group("end"));
      } else {
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/util/S3Utils.java`
#### Snippet
```java
    // type.
    S3StorageType s3StorageType = null;
    if (s3StorageTypeHeader != null && !s3StorageTypeHeader.equals("")) {
      s3StorageType = toS3StorageType(s3StorageTypeHeader);
    }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
    try {
      OzoneVolume volume = getVolume();
      if (uploadID != null && !uploadID.equals("")) {
        s3GAction = S3GAction.CREATE_MULTIPART_KEY;
        // If uploadID is specified, it is a request for upload part
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
    try {
      OzoneVolume volume = getVolume();
      if (uploadId != null && !uploadId.equals("")) {
        s3GAction = S3GAction.ABORT_MULTIPART_UPLOAD;
        return abortMultipartUpload(volume, bucketName, keyPath, uploadId);
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      AUDIT.logWriteFailure(
          buildAuditMessageForFailure(s3GAction, getAuditParameters(), ex));
      if (uploadId != null && !uploadId.equals("")) {
        getMetrics().incAbortMultiPartUploadFailure();
      } else {
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/ObjectEndpoint.java`
#### Snippet
```java
      AUDIT.logWriteFailure(
          buildAuditMessageForFailure(s3GAction, getAuditParameters(), ex));
      if (uploadId != null && !uploadId.equals("")) {
        getMetrics().incAbortMultiPartUploadFailure();
      } else {
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
    this.metrics = new EventWatcherMetrics();
    Preconditions.checkNotNull(name);
    if (name.equals("")) {
      name = getClass().getSimpleName();
    }
```

### RuleId[ruleID=StringEqualsEmptyString]
`equals("")` can be replaced with 'isEmpty()'
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/events/EventWatcher.java`
#### Snippet
```java
      name = getClass().getSimpleName();
    }
    if (name.equals("")) {
      //for anonymous inner classes
      name = getClass().getName();
```

## RuleId[ruleID=UnnecessaryBoxing]
### RuleId[ruleID=UnnecessaryBoxing]
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMStorageConfig.java`
#### Snippet
```java
   */
  public boolean isSCMHAEnabled() {
    return Boolean.valueOf(getStorageInfo().getProperty(SCM_HA));
  }

```

### RuleId[ruleID=UnnecessaryBoxing]
Unnecessary boxing
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerDataYaml.java`
#### Snippet
```java
        int base = 10;
        if ("0".equals(value)) {
          return Long.valueOf(0);
        } else if (value.startsWith("0b")) {
          value = value.substring(2);
```

### RuleId[ruleID=UnnecessaryBoxing]
Unnecessary boxing
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/HddsDispatcher.java`
#### Snippet
```java
          && result == Result.SUCCESS && dispatcherContext != null) {
        Preconditions.checkNotNull(dispatcherContext.getContainer2BCSIDMap());
        container2BCSIDMap.putIfAbsent(containerID, Long.valueOf(0));
      }
      if (result == Result.SUCCESS) {
```

### RuleId[ruleID=UnnecessaryBoxing]
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
        Map<String, String> openKeyMetadata =
            openKey.getKeyInfo().getMetadata();
        if (Boolean.valueOf(openKeyMetadata.get(OzoneConsts.GDPR_FLAG))) {
          gk = new GDPRSymmetricKey(
              openKeyMetadata.get(OzoneConsts.GDPR_SECRET),
```

### RuleId[ruleID=UnnecessaryBoxing]
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
      try {
        Map< String, String > keyInfoMetadata = keyInfo.getMetadata();
        if (Boolean.valueOf(keyInfoMetadata.get(OzoneConsts.GDPR_FLAG))) {
          GDPRSymmetricKey gk = new GDPRSymmetricKey(
              keyInfoMetadata.get(OzoneConsts.GDPR_SECRET),
```

### RuleId[ruleID=UnnecessaryBoxing]
Unnecessary boxing
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/lock/OzoneManagerLock.java`
#### Snippet
```java
  private OMLockMetrics omLockMetrics;
  private final ThreadLocal<Short> lockSet = ThreadLocal.withInitial(
      () -> Short.valueOf((short)0));

  /**
```

### RuleId[ruleID=UnnecessaryBoxing]
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/OmUtils.java`
#### Snippet
```java
    // KeyInfo to deletedTable, remove the GDPR related metadata and
    // FileEncryptionInfo from KeyInfo.
    if (Boolean.valueOf(keyInfo.getMetadata().get(OzoneConsts.GDPR_FLAG))) {
      keyInfo.getMetadata().remove(OzoneConsts.GDPR_FLAG);
      keyInfo.getMetadata().remove(OzoneConsts.GDPR_ALGORITHM);
```

### RuleId[ruleID=UnnecessaryBoxing]
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointServlet.java`
#### Snippet
```java
          request.getParameter(OZONE_DB_CHECKPOINT_REQUEST_FLUSH);
      if (StringUtils.isNotEmpty(flushParam)) {
        flush = Boolean.valueOf(flushParam);
      }

```

## RuleId[ruleID=SynchronizeOnNonFinalField]
### RuleId[ruleID=SynchronizeOnNonFinalField]
Synchronization on a non-final field `lockMonitor`
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
            ;//read until the end of the stream.
          }
          synchronized (lockMonitor) {
            destination.flush();
          }
```

### RuleId[ruleID=SynchronizeOnNonFinalField]
Synchronization on a non-final field `lockMonitor`
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
      ISessionInfoVisitor origin) {
    return data -> {
      synchronized (lockMonitor) {
        origin.visitSessionInfo(data);
      }
```

### RuleId[ruleID=SynchronizeOnNonFinalField]
Synchronization on a non-final field `lockMonitor`
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
      IExecutionDataVisitor origin) {
    return data -> {
      synchronized (lockMonitor) {
        origin.visitClassExecution(data);
      }
```

### RuleId[ruleID=SynchronizeOnNonFinalField]
Synchronization on a non-final field `metrics`
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/DatanodeAdminMonitorImpl.java`
#### Snippet
```java

  synchronized void setMetricsToGauge() {
    synchronized (metrics) {
      metrics.setContainersUnhealthyTotal(unhealthyContainers);
      metrics.setRecommissionNodesTotal(trackedRecommission);
```

### RuleId[ruleID=SynchronizeOnNonFinalField]
Synchronization on a non-final field `noInterruptsLock`
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/OzoneDelegationTokenSecretManager.java`
#### Snippet
```java

    if (tokenRemoverThread != null) {
      synchronized (noInterruptsLock) {
        tokenRemoverThread.interrupt();
      }
```

## RuleId[ruleID=ConditionCoveredByFurtherCondition]
### RuleId[ruleID=ConditionCoveredByFurtherCondition]
Condition 'oldNode != null' covered by subsequent condition 'oldNode instanceof InnerNode'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
  public void update(Node oldNode, Node newNode) {
    Preconditions.checkArgument(newNode != null, "newNode cannot be null");
    if (oldNode != null && oldNode instanceof InnerNode) {
      throw new IllegalArgumentException(
              "Not allowed to update an inner node: "
```

### RuleId[ruleID=ConditionCoveredByFurtherCondition]
Condition 'volumeSet != null' covered by subsequent condition 'volumeSet instanceof MutableVolumeSet'
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/utils/StorageVolumeUtil.java`
#### Snippet
```java
    if (volume != null) {
      VolumeSet volumeSet = volume.getVolumeSet();
      if (volumeSet != null && volumeSet instanceof MutableVolumeSet) {
        ((MutableVolumeSet) volumeSet).checkVolumeAsync(volume);
      }
```

## RuleId[ruleID=MissingDeprecatedAnnotation]
### RuleId[ruleID=MissingDeprecatedAnnotation]
Missing '@Deprecated' annotation
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lock/LockManager.java`
#### Snippet
```java
   * @deprecated Use {@link LockManager#writeLock} instead
   */
  public void lock(final R resource) {
    writeLock(resource);
  }
```

### RuleId[ruleID=MissingDeprecatedAnnotation]
Missing '@Deprecated' annotation
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/lock/LockManager.java`
#### Snippet
```java
   * @deprecated Use {@link LockManager#writeUnlock} instead
   */
  public void unlock(final R resource) {
    writeUnlock(resource);
  }
```

## RuleId[ruleID=UnnecessaryFullyQualifiedName]
### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.hadoop.ozone.recon.codegen` is unnecessary and can be removed
in `hadoop-ozone/recon-codegen/src/main/java/org/hadoop/ozone/recon/codegen/ReconSchemaGenerationModule.java`
#### Snippet
```java
/**
 * Bindings for DDL generation and used by
 * {@link org.hadoop.ozone.recon.codegen.JooqCodeGenerator}.
 */
public class ReconSchemaGenerationModule extends AbstractModule {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.scm.pipeline` is unnecessary and can be removed
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientRatis.java`
#### Snippet
```java

  public static XceiverClientRatis newXceiverClientRatis(
      org.apache.hadoop.hdds.scm.pipeline.Pipeline pipeline,
      ConfigurationSource ozoneConf, List<X509Certificate> caCerts) {
    final String rpcType = ozoneConf
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.scm.pipeline` is unnecessary and can be removed
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientRatis.java`
#### Snippet
```java

  public static XceiverClientRatis newXceiverClientRatis(
      org.apache.hadoop.hdds.scm.pipeline.Pipeline pipeline,
      ConfigurationSource ozoneConf) {
    return newXceiverClientRatis(pipeline, ozoneConf, null);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.time` is unnecessary and can be removed
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneClientAdapterImpl.java`
#### Snippet
```java
  private long nextReplicationConfigRefreshTime;
  private long bucketRepConfigRefreshPeriodMS;
  private java.time.Clock clock = new MonotonicClock(ZoneOffset.UTC);

  /**
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.util` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java`
#### Snippet
```java
        return tmp;
      }
      throw new java.util.NoSuchElementException("No more entry in " + p);
    }
  }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.util` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicRootedOzoneFileSystem.java`
#### Snippet
```java
        return tmp;
      }
      throw new java.util.NoSuchElementException("No more entry in " + p);
    }
  }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `picocli` is unnecessary and can be removed
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/cli/GenericCli.java`
#### Snippet
```java

  @VisibleForTesting
  public picocli.CommandLine getCmd() {
    return cmd;
  }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.time` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
  }

  public ExcludeList(long autoExpiryTime, java.time.Clock clock) {
    this();
    this.expiryTime = autoExpiryTime;
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.time` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ExcludeList.java`
#### Snippet
```java
  private final Set<PipelineID> pipelineIds;
  private long expiryTime = 0;
  private java.time.Clock clock;


```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.ratis.protocol.exceptions` is unnecessary and can be removed
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/ratis/ServerNotLeaderException.java`
#### Snippet
```java

  /**
   * Convert {@link org.apache.ratis.protocol.exceptions.NotLeaderException} 
   * to {@link ServerNotLeaderException}.
   * @param notLeaderException
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/SignalLogger.java`
#### Snippet
```java
  private static class Handler implements sun.misc.SignalHandler {
    private final Logger log;
    private final sun.misc.SignalHandler prevHandler;

    Handler(String name, Logger log) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/SignalLogger.java`
#### Snippet
```java
    Handler(String name, Logger log) {
      this.log = log;
      prevHandler = sun.misc.Signal.handle(new sun.misc.Signal(name), this);
    }

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/SignalLogger.java`
#### Snippet
```java
    Handler(String name, Logger log) {
      this.log = log;
      prevHandler = sun.misc.Signal.handle(new sun.misc.Signal(name), this);
    }

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/SignalLogger.java`
#### Snippet
```java
   * Our signal handler.
   */
  private static class Handler implements sun.misc.SignalHandler {
    private final Logger log;
    private final sun.misc.SignalHandler prevHandler;
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/SignalLogger.java`
#### Snippet
```java
     */
    @Override
    public void handle(sun.misc.Signal signal) {
      log.error("RECEIVED SIGNAL {}: SIG{}",
          signal.getNumber(), signal.getName());
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/IOUtils.java`
#### Snippet
```java
   */
  public static void cleanupWithLogger(Logger logger,
      java.io.Closeable... closeables) {
    for (java.io.Closeable c : closeables) {
      if (c != null) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/IOUtils.java`
#### Snippet
```java
  public static void cleanupWithLogger(Logger logger,
      java.io.Closeable... closeables) {
    for (java.io.Closeable c : closeables) {
      if (c != null) {
        try {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.util.concurrent` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/ResourceLimitCache.java`
#### Snippet
```java
  private final BiFunction<K, V, int[]> permitsSupplier;

  public ResourceLimitCache(java.util.concurrent.ConcurrentMap<K, V> map,
      BiFunction<K, V, int[]> permitsSupplier, int... limits) {
    Objects.requireNonNull(map);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.util.concurrent` is unnecessary, and can be replaced with an import
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/ResourceLimitCache.java`
#### Snippet
```java
 */
public class ResourceLimitCache<K, V> implements Cache<K, V> {
  private final java.util.concurrent.ConcurrentMap<K, V> map;
  private final ResourceSemaphore.Group group;
  private final BiFunction<K, V, int[]> permitsSupplier;
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.client` is unnecessary and can be removed
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationConfig.java`
#### Snippet
```java
   */
  static ReplicationConfig fromTypeAndFactor(
      org.apache.hadoop.hdds.client.ReplicationType type,
      org.apache.hadoop.hdds.client.ReplicationFactor factor
  ) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.client` is unnecessary and can be removed
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/client/ReplicationConfig.java`
#### Snippet
```java
  static ReplicationConfig fromTypeAndFactor(
      org.apache.hadoop.hdds.client.ReplicationType type,
      org.apache.hadoop.hdds.client.ReplicationFactor factor
  ) {
    return fromProtoTypeAndFactor(
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.upgrade` is unnecessary and can be removed
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/UpgradeFinalizer.java`
#### Snippet
```java
 * @param <T> The service type which the implementation is bound to, this
 *           defines the type that is provided to {@link LayoutFeature}'s
 *           {@link org.apache.hadoop.ozone.upgrade.LayoutFeature.UpgradeAction}
 */
@InterfaceAudience.Private
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.upgrade` is unnecessary and can be removed
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/upgrade/UpgradeFinalizer.java`
#### Snippet
```java
   * The provided client ID will be eligible to get the status messages,
   * the service provided will be provided to the
   * {@link org.apache.hadoop.ozone.upgrade.LayoutFeature.UpgradeAction}s of
   * the {@link LayoutFeature}s being finalized.
   * @param upgradeClientID the initiating client's identifier.
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.scm` is unnecessary and can be removed
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
  /** Validates SCM HA Config.
    For Non Initialized SCM the value is taken directly based on the config
   {@link org.apache.hadoop.hdds.scm.ScmConfigKeys.OZONE_SCM_HA_ENABLE_KEY}
   which defaults to
   {@link org.apache.hadoop.hdds.scm.ScmConfigKeys.OZONE_SCM_HA_ENABLE_DEFAULT}
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.scm` is unnecessary and can be removed
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHANodeDetails.java`
#### Snippet
```java
   {@link org.apache.hadoop.hdds.scm.ScmConfigKeys.OZONE_SCM_HA_ENABLE_KEY}
   which defaults to
   {@link org.apache.hadoop.hdds.scm.ScmConfigKeys.OZONE_SCM_HA_ENABLE_DEFAULT}
   For Previously Initialized SCM the values are taken from the version file
   Ratis SCM -> Non Ratis SCM & vice versa is not supported
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.ratis.thirdparty.com.google.protobuf` is unnecessary, and can be replaced with an import
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMRatisRequest.java`
#### Snippet
```java
    requestProtoBuilder.setMethod(methodBuilder.build());
    return Message.valueOf(
        org.apache.ratis.thirdparty.com.google.protobuf.ByteString.copyFrom(
            requestProtoBuilder.build().toByteArray()));
  }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds.scm.node` is unnecessary and can be removed
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/NodeDecommissionMetrics.java`
#### Snippet
```java
public final class NodeDecommissionMetrics implements MetricsSource {
  public static final String METRICS_SOURCE_NAME =
      org.apache.hadoop.hdds.scm.node.NodeDecommissionMetrics
          .class.getSimpleName();

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `io.grpc.stub` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerServiceGrpc.java`
#### Snippet
```java
  @Override
  public void submitRequest(OMRequest request,
                            io.grpc.stub.StreamObserver<OMResponse>
                                responseObserver) {
    LOG.debug("OzoneManagerServiceGrpc: OzoneManagerServiceImplBase " +
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ipc` is unnecessary and can be removed
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManagerServiceGrpc.java`
#### Snippet
```java
    AtomicInteger callCount = new AtomicInteger(0);

    org.apache.hadoop.ipc.Server.getCurCall().set(new Server.Call(1,
        callCount.incrementAndGet(),
        null,
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.om.exceptions` is unnecessary and can be removed
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/IOzoneAcl.java`
#### Snippet
```java
   * @param ozObject object for which access needs to be checked.
   * @param context Context object encapsulating all user related information.
   * @throws org.apache.hadoop.ozone.om.exceptions.OMException
   * @return true if user has access else false.
   */
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.om.lock` is unnecessary and can be removed
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OmMetadataManagerImpl.java`
#### Snippet
```java
   */
  @Override
  public org.apache.hadoop.ozone.om.lock.OzoneManagerLock getLock() {
    return lock;
  }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.math` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/security/AWSV4AuthValidator.java`
#### Snippet
```java
    MessageDigest md = MessageDigest.getInstance("SHA-256");
    md.update(payload.getBytes(StandardCharsets.UTF_8));
    return String.format("%064x", new java.math.BigInteger(1, md.digest()));
  }

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.security.cert` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
    TrustManager[] trustAllCerts = new TrustManager[]{
        new X509TrustManager() {
          public java.security.cert.X509Certificate[] getAcceptedIssuers() {
            return null;
          }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.security.cert` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
          }
          public void checkClientTrusted(
              java.security.cert.X509Certificate[] certs, String authType) {
          }
          public void checkServerTrusted(
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.security` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
    try {
      SSLContext sc = SSLContext.getInstance("SSL");
      sc.init(null, trustAllCerts, new java.security.SecureRandom());
      HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
    } catch (Exception e) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.security.cert` is unnecessary, and can be replaced with an import
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/multitenant/RangerRestMultiTenantAccessController.java`
#### Snippet
```java
          }
          public void checkServerTrusted(
              java.security.cert.X509Certificate[] certs, String authType) {
          }
        }
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.io` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
    } finally {
      try {
        org.apache.hadoop.io.IOUtils.closeStream(tarOs);
        org.apache.hadoop.io.IOUtils.closeStream(fileOutputStream);
        org.apache.hadoop.io.IOUtils.closeStream(gzipOutputStream);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.io` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
      try {
        org.apache.hadoop.io.IOUtils.closeStream(tarOs);
        org.apache.hadoop.io.IOUtils.closeStream(fileOutputStream);
        org.apache.hadoop.io.IOUtils.closeStream(gzipOutputStream);
      } catch (Exception e) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.io` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java`
#### Snippet
```java
        org.apache.hadoop.io.IOUtils.closeStream(tarOs);
        org.apache.hadoop.io.IOUtils.closeStream(fileOutputStream);
        org.apache.hadoop.io.IOUtils.closeStream(gzipOutputStream);
      } catch (Exception e) {
        LOG.error("Exception encountered when closing " +
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.recon.api.types` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java

  /**
   * Return @{@link org.apache.hadoop.ozone.recon.api.types.KeyMetadata} for
   * all keys that belong to the container identified by the id param
   * starting from the given "prev-key" query param for the given "limit".
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.recon.api.types` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java

  /**
   * Return @{@link org.apache.hadoop.ozone.recon.api.types.ContainerMetadata}
   * for the containers starting from the given "prev-key" query param for the
   * given "limit". The given "prev-key" is skipped from the results returned.
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.recon.api.types` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java
  /**
   * Return
   * {@link org.apache.hadoop.ozone.recon.api.types.UnhealthyContainerMetadata}
   * for all unhealthy containers.
   *
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.recon.api.types` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java
  /**
   * Return
   * {@link org.apache.hadoop.ozone.recon.api.types.MissingContainerMetadata}
   * for all missing containers.
   *
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.recon.api.types` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/ContainerEndpoint.java`
#### Snippet
```java
  /**
   * Return
   * {@link org.apache.hadoop.ozone.recon.api.types.UnhealthyContainerMetadata}
   * for all unhealthy containers.

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.nio.file` is unnecessary, and can be replaced with an import
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/FSOBucketHandler.java`
#### Snippet
```java
  public EntityType determineKeyPath(String keyName)
                                     throws IOException {
    java.nio.file.Path keyPath = Paths.get(keyName);
    Iterator<java.nio.file.Path> elements = keyPath.iterator();

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.nio.file` is unnecessary, and can be replaced with an import
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/api/handlers/FSOBucketHandler.java`
#### Snippet
```java
                                     throws IOException {
    java.nio.file.Path keyPath = Paths.get(keyName);
    Iterator<java.nio.file.Path> elements = keyPath.iterator();

    long lastKnownParentId = bucketId;
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.om.helpers` is unnecessary, and can be replaced with an import
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java`
#### Snippet
```java
    }
    String omLeaderUrl = omDBSnapshotUrl;
    List<org.apache.hadoop.ozone.om.helpers.ServiceInfo> serviceList =
        ozoneManagerClient.getServiceList();
    HttpConfig.Policy policy = HttpConfig.getHttpPolicy(configuration);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.om.helpers` is unnecessary, and can be replaced with an import
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java`
#### Snippet
```java
    HttpConfig.Policy policy = HttpConfig.getHttpPolicy(configuration);
    if (!serviceList.isEmpty()) {
      for (org.apache.hadoop.ozone.om.helpers.ServiceInfo info : serviceList) {
        if (info.getNodeType().equals(HddsProtos.NodeType.OM) &&
            info.getOmRoleInfo().hasServerRole() &&
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.sql` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/persistence/SqliteDataSourceProvider.java`
#### Snippet
```java

/**
 * Provide a {@link javax.sql.DataSource} for the application.
 */
public class SqliteDataSourceProvider implements Provider<DataSource> {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.sql` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/persistence/DerbyDataSourceProvider.java`
#### Snippet
```java

/**
 * Provide a {@link javax.sql.DataSource} for the application.
 */
public class DerbyDataSourceProvider implements Provider<DataSource> {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.sql` is unnecessary and can be removed
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/persistence/DefaultDataSourceProvider.java`
#### Snippet
```java

/**
 * Provide a {@link javax.sql.DataSource} for the application.
 */
public class DefaultDataSourceProvider implements Provider<DataSource> {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
                  new PrivilegedExceptionAction<sun.misc.Unsafe>() {
                    @Override
                    public sun.misc.Unsafe run() throws Exception {
                      Class<sun.misc.Unsafe> k = sun.misc.Unsafe.class;
                      for (java.lang.reflect.Field f : k.getDeclaredFields()) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
                    @Override
                    public sun.misc.Unsafe run() throws Exception {
                      Class<sun.misc.Unsafe> k = sun.misc.Unsafe.class;
                      for (java.lang.reflect.Field f : k.getDeclaredFields()) {
                        f.setAccessible(true);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
                    @Override
                    public sun.misc.Unsafe run() throws Exception {
                      Class<sun.misc.Unsafe> k = sun.misc.Unsafe.class;
                      for (java.lang.reflect.Field f : k.getDeclaredFields()) {
                        f.setAccessible(true);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.lang.reflect` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
                    public sun.misc.Unsafe run() throws Exception {
                      Class<sun.misc.Unsafe> k = sun.misc.Unsafe.class;
                      for (java.lang.reflect.Field f : k.getDeclaredFields()) {
                        f.setAccessible(true);
                        Object x = f.get(null);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
          unsafe =
              AccessController.doPrivileged(
                  new PrivilegedExceptionAction<sun.misc.Unsafe>() {
                    @Override
                    public sun.misc.Unsafe run() throws Exception {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java

    static {
      sun.misc.Unsafe unsafe = null;
      try {
        unsafe = sun.misc.Unsafe.getUnsafe();
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
      sun.misc.Unsafe unsafe = null;
      try {
        unsafe = sun.misc.Unsafe.getUnsafe();
      } catch (SecurityException tryReflectionInstead) {
        try {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `sun.misc` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/volume/AbstractFuture.java`
#### Snippet
```java
   */
  private static final class UnsafeAtomicHelper extends AtomicHelper {
    static final sun.misc.Unsafe UNSAFE;
    static final long LISTENERS_OFFSET;
    static final long WAITERS_OFFSET;
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.hdds` is unnecessary and can be removed
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/ContainerStateMachine.java`
#### Snippet
```java
 *
 * Read only requests are classified in
 * {@link org.apache.hadoop.hdds.HddsUtils#isReadOnly}
 * and these readonly requests are replied from the {@link #query(Message)}.
 *
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.container.common.interfaces` is unnecessary, and can be replaced with an import
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/ratis/XceiverServerRatis.java`
#### Snippet
```java
  private long calculatePipelineBytesWritten(HddsProtos.PipelineID pipelineID) {
    long bytesWritten = 0;
    Iterator<org.apache.hadoop.ozone.container.common.interfaces.Container<?>>
        containerIt = containerController.getContainers();
    while (containerIt.hasNext()) {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.om.exceptions` is unnecessary and can be removed
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/acl/IAccessAuthorizer.java`
#### Snippet
```java
   * @param ozoneObject object for which access needs to be checked.
   * @param context Context object encapsulating all user related information.
   * @throws org.apache.hadoop.ozone.om.exceptions.OMException
   * @return true if user has access else false.
   */
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.io` is unnecessary and can be removed
in `hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/security/OzoneTokenIdentifier.java`
#### Snippet
```java
        WritableUtils.writeString(buf, getOmServiceId());
      }
    } catch (java.io.IOException e) {
      throw new IllegalArgumentException(
          "Can't encode the the raw data ", e);
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.freon` is unnecessary and can be removed
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/freon/DatanodeChunkValidator.java`
#### Snippet
```java
  /**
   * Read a reference chunk using same name than one from the
   * {@link org.apache.hadoop.ozone.freon.DatanodeChunkGenerator}.
   */
  private void readReference() throws IOException {
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.ozone.shell.prefix` is unnecessary and can be removed
in `hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/prefix/PrefixUri.java`
#### Snippet
```java
  @CommandLine.Parameters(index = "0", arity = "1..1",
      description = OZONE_PREFIX_URI_DESCRIPTION,
      converter = org.apache.hadoop.ozone.shell.prefix.PrefixUri.class)
  private OzoneAddress value;

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.xml.bind.annotation` is unnecessary, and can be replaced with an import
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/package-info.java`
#### Snippet
```java
 * Rest endpoint implementation for the s3 gateway.
 */
@javax.xml.bind.annotation.XmlSchema(
    namespace = "http://s3.amazonaws"
        + ".com/doc/2006-03-01/", elementFormDefault =
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.xml.bind.annotation` is unnecessary, and can be replaced with an import
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/package-info.java`
#### Snippet
```java
    namespace = "http://s3.amazonaws"
        + ".com/doc/2006-03-01/", elementFormDefault =
    javax.xml.bind.annotation.XmlNsForm.QUALIFIED,
    xmlns = {
        @javax.xml.bind.annotation.XmlNs(namespaceURI = "http://s3.amazonaws"
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.xml.bind.annotation` is unnecessary, and can be replaced with an import
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/endpoint/package-info.java`
#### Snippet
```java
    javax.xml.bind.annotation.XmlNsForm.QUALIFIED,
    xmlns = {
        @javax.xml.bind.annotation.XmlNs(namespaceURI = "http://s3.amazonaws"
            + ".com/doc/2006-03-01/", prefix = "")})

```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.xml.bind.annotation` is unnecessary, and can be replaced with an import
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/commontypes/package-info.java`
#### Snippet
```java
 * Common classes required for S3 rest API's.
 */
@javax.xml.bind.annotation.XmlSchema(
    namespace = "http://s3.amazonaws"
        + ".com/doc/2006-03-01/", elementFormDefault =
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.xml.bind.annotation` is unnecessary, and can be replaced with an import
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/commontypes/package-info.java`
#### Snippet
```java
    namespace = "http://s3.amazonaws"
        + ".com/doc/2006-03-01/", elementFormDefault =
    javax.xml.bind.annotation.XmlNsForm.QUALIFIED,
    xmlns = {
        @javax.xml.bind.annotation.XmlNs(namespaceURI = "http://s3.amazonaws"
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `javax.xml.bind.annotation` is unnecessary, and can be replaced with an import
in `hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/commontypes/package-info.java`
#### Snippet
```java
    javax.xml.bind.annotation.XmlNsForm.QUALIFIED,
    xmlns = {
        @javax.xml.bind.annotation.XmlNs(namespaceURI = "http://s3.amazonaws"
            + ".com/doc/2006-03-01/", prefix = "")})
package org.apache.hadoop.ozone.s3.commontypes;
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `java.security` is unnecessary, and can be replaced with an import
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/DBCheckpointServlet.java`
#### Snippet
```java
    // Check ACL for dbCheckpoint only when global Ozone ACL is enabled
    if (aclEnabled) {
      final java.security.Principal userPrincipal = request.getUserPrincipal();
      if (userPrincipal == null) {
        final String remoteUser = request.getRemoteUser();
```

### RuleId[ruleID=UnnecessaryFullyQualifiedName]
Qualifier `org.apache.hadoop.conf` is unnecessary, and can be replaced with an import
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java`
#### Snippet
```java
    if (initializers != null) {
      conf.set(BIND_ADDRESS, hostName);
      org.apache.hadoop.conf.Configuration hadoopConf =
          LegacyHadoopConfigurationSource.asHadoopConfiguration(conf);
      Map<String, String> filterConfig = getFilterConfigMap(hadoopConf,
```

## RuleId[ruleID=ThrowablePrintStackTrace]
### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
        serverSocket.close();
      } catch (Exception ex) {
        ex.printStackTrace();
      }
    }));
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
          }
        } catch (Exception ex) {
          ex.printStackTrace();
        } finally {
          try {
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/test-utils/src/main/java/org/apache/hadoop/test/JacocoServer.java`
#### Snippet
```java
            socket.close();
          } catch (IOException e) {
            e.printStackTrace();
          }
        }
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/conf/OzoneConfiguration.java`
#### Snippet
```java
      }
    } catch (IOException e) {
      e.printStackTrace();
    }
    addResource("ozone-default.xml");
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/StatefulService.java`
#### Snippet
```java
    } catch (NoSuchMethodException | IllegalAccessException
        | InvocationTargetException e) {
      e.printStackTrace();
      throw new IOException("Message cannot be parsed. Ensure that "
          + configType + " is the correct expected message type for " +
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/io/GeneratedMessageCodec.java`
#### Snippet
```java
    } catch (NoSuchMethodException | IllegalAccessException
        | InvocationTargetException ex) {
      ex.printStackTrace();
      throw new InvalidProtocolBufferException(
          "Message cannot be decoded: " + ex.getMessage());
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/LogSubcommand.java`
#### Snippet
```java
        // restore thread interrupted state
        Thread.currentThread().interrupt();
        e.printStackTrace();
      }
    }
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamClientHandler.java`
#### Snippet
```java
  @Override
  public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) {
    cause.printStackTrace();
    try {
      destFileChannel.close();
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamClientHandler.java`
#### Snippet
```java
      destFile.close();
    } catch (IOException e) {
      e.printStackTrace();
    }
    ctx.close();
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamClientHandler.java`
#### Snippet
```java
      }
    } catch (IOException e) {
      e.printStackTrace();
    }
  }
```

### RuleId[ruleID=ThrowablePrintStackTrace]
Call to `printStackTrace()` should probably be replaced with more robust logging
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/stream/DirstreamServerHandler.java`
#### Snippet
```java
  public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause)
      throws Exception {
    cause.printStackTrace();
    if (ctx.channel().isActive()) {
      ctx.writeAndFlush("ERR: " +
```

## RuleId[ruleID=Java8MapApi]
### RuleId[ruleID=Java8MapApi]
Can be replaced with single 'Map.computeIfAbsent' method call
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NetworkTopologyImpl.java`
#### Snippet
```java
      Node node = nodes.get(i);
      List<Node> list = tree.get(cost);
      if (list == null) {
        list = Lists.newArrayListWithExpectedSize(1);
        tree.put(cost, list);
```

### RuleId[ruleID=Java8MapApi]
Can be replaced with single 'Map.computeIfAbsent' method call
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java`
#### Snippet
```java
          String dnsName, String uuid) {
    Set<String> dnList = dnsToUuidMap.get(dnsName);
    if (dnList == null) {
      dnList = ConcurrentHashMap.newKeySet();
      dnsToUuidMap.put(dnsName, dnList);
```

## RuleId[ruleID=Convert2Lambda]
### RuleId[ruleID=Convert2Lambda]
Anonymous new Callable() can be replaced with lambda
in `hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java`
#### Snippet
```java
      key = isSecurityEnabled ?
          key + UserGroupInformation.getCurrentUser().getShortUserName() : key;
      return clientCache.get(key, new Callable<XceiverClientSpi>() {
        @Override
          public XceiverClientSpi call() throws Exception {
```

### RuleId[ruleID=Convert2Lambda]
Anonymous new Comparator\< HookEntry \>() can be replaced with lambda
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/util/ShutdownHookManager.java`
#### Snippet
```java
      list = new ArrayList<HookEntry>(hooks);
    }
    Collections.sort(list, new Comparator< HookEntry >() {

      //reversing comparison so highest priority hooks are first
```

### RuleId[ruleID=Convert2Lambda]
Anonymous new Callable() can be replaced with lambda
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java

    try {
      return keyProviderCache.get(kmsUri, new Callable<KeyProvider>() {
        @Override
        public KeyProvider call() throws Exception {
```

### RuleId[ruleID=Convert2Lambda]
Anonymous new RemovalListener() can be replaced with lambda
in `hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/rpc/RpcClient.java`
#### Snippet
```java
    keyProviderCache = CacheBuilder.newBuilder()
        .expireAfterAccess(keyProviderCacheExpiryMs, TimeUnit.MILLISECONDS)
        .removalListener(new RemovalListener<URI, KeyProvider>() {
          @Override
          public void onRemoval(
```

### RuleId[ruleID=Convert2Lambda]
Anonymous new Comparator() can be replaced with lambda
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/ClientCRLStore.java`
#### Snippet
```java
    revokedCerts = new ArrayList<>();
    pendingCrls = new PriorityQueue<>(
        new Comparator<CRLInfo>() {
          @Override
          public int compare(CRLInfo o1, CRLInfo o2) {
```

### RuleId[ruleID=Convert2Lambda]
Anonymous new Runnable() can be replaced with lambda
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/scm/update/client/CRLClientUpdateHandler.java`
#### Snippet
```java

  private void startPendingCrlChecker() {
    executorService.scheduleAtFixedRate(new Runnable() {
      @Override
      public void run() {
```

## RuleId[ruleID=UnnecessaryContinue]
### RuleId[ruleID=UnnecessaryContinue]
`continue` is unnecessary as the last statement in a loop
in `hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DeletedBlockLogImpl.java`
#### Snippet
```java
            transactionToRetryCountMap.getOrDefault(txID, 0);
        if (currentCount > maxRetry) {
          continue;
        } else {
          currentCount += 1;
```

### RuleId[ruleID=UnnecessaryContinue]
`continue` is unnecessary as the last statement in a loop
in `hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileRequest.java`
#### Snippet
```java
          lastKnownParentId = omDirInfo.getObjectID();
          inheritAcls = omDirInfo.getAcls();
          continue;
        } else {
          // Checked all the sub-dirs till the leaf node.
```

### RuleId[ruleID=UnnecessaryContinue]
`continue` is unnecessary as the last statement in a loop
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/upgrade/DataNodeUpgradeFinalizer.java`
#### Snippet
```java
        return false;
      default:
        continue;
      }
    }
```

## RuleId[ruleID=CopyConstructorMissesField]
### RuleId[ruleID=CopyConstructorMissesField]
Copy constructor does not copy field 'certSerialId'
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/protocol/DatanodeDetails.java`
#### Snippet
```java
  }

  public DatanodeDetails(DatanodeDetails datanodeDetails) {
    super(datanodeDetails.getHostName(), datanodeDetails.getNetworkLocation(),
        datanodeDetails.getCost());
```

### RuleId[ruleID=CopyConstructorMissesField]
Copy constructor does not copy 5 fields
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/impl/ContainerData.java`
#### Snippet
```java
  }

  protected ContainerData(ContainerData source) {
    this(source.getContainerType(), source.getContainerID(),
        source.getLayoutVersion(), source.getMaxSize(),
```

### RuleId[ruleID=CopyConstructorMissesField]
Copy constructor does not copy 4 fields
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/keyvalue/KeyValueContainerData.java`
#### Snippet
```java
  }

  public KeyValueContainerData(KeyValueContainerData source) {
    super(source);
    Preconditions.checkArgument(source.getContainerType()
```

## RuleId[ruleID=ThrowableNotThrown]
### RuleId[ruleID=ThrowableNotThrown]
Result of `toIOException()` not thrown
in `hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/utils/db/DBConfigFromFile.java`
#### Snippet
```java

        } catch (RocksDBException rdEx) {
          toIOException("Unable to find/open Options file.", rdEx);
        }
      }
```

## RuleId[ruleID=ThreadStartInConstruction]
### RuleId[ruleID=ThreadStartInConstruction]
Call to `start()` during object construction
in `hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/DeleteBlocksCommandHandler.java`
#### Snippet
```java
    this.deleteCommandQueues = new LinkedBlockingQueue<>(queueLimit);
    handlerThread = new Daemon(new DeleteCmdWorker());
    handlerThread.start();
  }

```

## RuleId[ruleID=EqualsWhichDoesntCheckParameterClass]
### RuleId[ruleID=EqualsWhichDoesntCheckParameterClass]
`equals()` should check the class of its parameter
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/NodeImpl.java`
#### Snippet
```java

  @Override
  public boolean equals(Object to) {
    if (to == null) {
      return false;
```

### RuleId[ruleID=EqualsWhichDoesntCheckParameterClass]
`equals()` should check the class of its parameter
in `hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/net/InnerNodeImpl.java`
#### Snippet
```java

  @Override
  public boolean equals(Object to) {
    if (to == null) {
      return false;
```

## RuleId[ruleID=BigDecimalMethodWithoutRoundingCalled]
### RuleId[ruleID=BigDecimalMethodWithoutRoundingCalled]
'BigDecimal.divide()' called without a rounding mode argument
in `hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/StorageUnit.java`
#### Snippet
```java
    BigDecimal val = BigDecimal.valueOf(value);
    BigDecimal bDivisor = BigDecimal.valueOf(divisor);
    return val.divide(bDivisor).setScale(PRECISION, RoundingMode.HALF_UP)
        .doubleValue();
  }
```

## RuleId[ruleID=CastCanBeRemovedNarrowingVariableType]
### RuleId[ruleID=CastCanBeRemovedNarrowingVariableType]
Cast may be removed by changing the type of 'omdbUpdateEvent' to 'OMDBUpdateEvent'
in `hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/NSSummaryTaskWithLegacy.java`
#### Snippet
```java
      try {
        OMDBUpdateEvent<String, OmKeyInfo> keyTableUpdateEvent =
            (OMDBUpdateEvent<String, OmKeyInfo>) omdbUpdateEvent;
        OmKeyInfo updatedKeyInfo = keyTableUpdateEvent.getValue();
        OmKeyInfo oldKeyInfo = keyTableUpdateEvent.getOldValue();
```

