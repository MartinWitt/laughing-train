# rocketmq 
 
# Bad smells
I found 3269 bad smells with 379 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| ReturnNull | 386 | false |
| RedundantFieldInitialization | 350 | false |
| BoundedWildcard | 163 | false |
| UtilityClassWithoutPrivateConstructor | 157 | true |
| UnusedAssignment | 133 | false |
| UnnecessaryFullyQualifiedName | 131 | false |
| MissortedModifiers | 127 | false |
| SystemOutErr | 118 | false |
| SizeReplaceableByIsEmpty | 106 | true |
| AssignmentToMethodParameter | 102 | false |
| ThrowablePrintStackTrace | 81 | false |
| StaticCallOnSubclass | 78 | false |
| Convert2Lambda | 75 | false |
| ConstantValue | 66 | false |
| NestedAssignment | 64 | false |
| FieldAccessedSynchronizedAndUnsynchronized | 60 | false |
| PublicFieldAccessedInSynchronizedContext | 59 | false |
| DataFlowIssue | 57 | false |
| UnnecessaryLocalVariable | 51 | true |
| DuplicateBranchesInSwitch | 50 | false |
| WhileCanBeForeach | 47 | false |
| UnnecessaryQualifierForThis | 34 | false |
| NonProtectedConstructorInAbstractClass | 33 | true |
| BusyWait | 32 | false |
| StringBufferReplaceableByString | 31 | false |
| SynchronizeOnThis | 28 | false |
| UnstableApiUsage | 28 | false |
| UnnecessaryBoxing | 28 | false |
| ReplaceAssignmentWithOperatorAssignment | 26 | false |
| CatchMayIgnoreException | 25 | false |
| StringConcatenationInsideStringBufferAppend | 24 | false |
| IntegerMultiplicationImplicitCastToLong | 23 | false |
| KeySetIterationMayUseEntrySet | 21 | false |
| DeprecatedIsStillUsed | 21 | false |
| RedundantMethodOverride | 20 | false |
| EmptyMethod | 20 | false |
| IgnoreResultOfCall | 19 | false |
| UseOfPropertiesAsHashtable | 19 | false |
| CommentedOutCode | 18 | false |
| UnnecessaryContinue | 17 | false |
| AssignmentToStaticFieldFromInstanceMethod | 16 | false |
| ZeroLengthArrayInitialization | 15 | false |
| NonFinalFieldOfException | 15 | false |
| PointlessArithmeticExpression | 13 | false |
| StringEqualsEmptyString | 12 | false |
| ConditionCoveredByFurtherCondition | 11 | false |
| UnnecessarySuperQualifier | 10 | false |
| InnerClassMayBeStatic | 10 | true |
| UnnecessarySemicolon | 9 | false |
| UnnecessaryUnboxing | 8 | false |
| IndexOfReplaceableByContains | 8 | false |
| EnumSwitchStatementWhichMissesCases | 8 | false |
| ManualMinMaxCalculation | 8 | false |
| WrapperTypeMayBePrimitive | 7 | false |
| EmptyStatementBody | 7 | false |
| TrivialStringConcatenation | 7 | false |
| NonStrictComparisonCanBeEquality | 7 | true |
| DynamicRegexReplaceableByCompiledPattern | 7 | false |
| SynchronizeOnNonFinalField | 7 | false |
| SynchronizationOnLocalVariableOrMethodParameter | 6 | false |
| IfStatementWithIdenticalBranches | 6 | false |
| CodeBlock2Expr | 6 | true |
| AssignmentToLambdaParameter | 5 | false |
| UseBulkOperation | 5 | false |
| OctalLiteral | 5 | false |
| StringBufferReplaceableByStringBuilder | 5 | false |
| DoubleBraceInitialization | 4 | false |
| UnstableTypeUsedInSignature | 4 | false |
| StringOperationCanBeSimplified | 4 | false |
| OptionalUsedAsFieldOrParameterType | 4 | false |
| CaughtExceptionImmediatelyRethrown | 4 | false |
| NonShortCircuitBoolean | 4 | false |
| AbstractClassNeverImplemented | 4 | false |
| InfiniteLoopStatement | 4 | false |
| IOResource | 4 | false |
| FieldMayBeStatic | 4 | false |
| UnnecessaryToStringCall | 4 | true |
| Java8MapApi | 4 | false |
| MismatchedCollectionQueryUpdate | 3 | false |
| CharsetObjectCanBeUsed | 3 | false |
| WaitNotInLoop | 3 | false |
| ConditionalBreakInInfiniteLoop | 3 | false |
| AnonymousHasLambdaAlternative | 3 | false |
| Anonymous2MethodRef | 3 | false |
| UnnecessaryModifier | 2 | true |
| ObjectNotify | 2 | false |
| FinalStaticMethod | 2 | false |
| PointlessBitwiseExpression | 2 | false |
| RedundantSuppression | 2 | false |
| UseCompareMethod | 2 | false |
| UnnecessaryStringEscape | 2 | false |
| ObsoleteCollection | 2 | false |
| UnnecessaryReturn | 2 | true |
| InstanceofCatchParameter | 2 | false |
| RedundantStringFormatCall | 2 | false |
| Convert2MethodRef | 2 | false |
| SetReplaceableByEnumSet | 2 | false |
| RegExpRedundantEscape | 1 | false |
| FinalPrivateMethod | 1 | false |
| ExplicitArrayFilling | 1 | false |
| ClassNameSameAsAncestorName | 1 | false |
| HtmlWrongAttributeValue | 1 | false |
| TextLabelInSwitchStatement | 1 | false |
| MethodOverloadsParentMethod | 1 | false |
| UnnecessaryCallToStringValueOf | 1 | false |
| CollectionContainsUrl | 1 | false |
| ProtectedMemberInFinalClass | 1 | true |
| ComparatorMethodParameterNotUsed | 1 | false |
| StringEquality | 1 | false |
| ManualArrayCopy | 1 | false |
| RefusedBequest | 1 | false |
| MismatchedStringBuilderQueryUpdate | 1 | false |
| IfStatementMissingBreakInLoop | 1 | false |
| ThrowFromFinallyBlock | 1 | false |
| RedundantImplements | 1 | false |
| MethodOverridesStaticMethod | 1 | false |
| RedundantLengthCheck | 1 | false |
| AbstractMethodCallInConstructor | 1 | false |
| RedundantCollectionOperation | 1 | false |
| AssignmentToForLoopParameter | 1 | false |
| ExcessiveRangeCheck | 1 | false |
| CopyConstructorMissesField | 1 | false |
| ThreadStartInConstruction | 1 | false |
## RuleId[ruleID=WrapperTypeMayBePrimitive]
### WrapperTypeMayBePrimitive
Type may be primitive
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
    public String toString() {
        final StringBuilder sb = new StringBuilder(1024);
        Long totalTimes = getPutMessageTimesTotal();
        if (0 == totalTimes) {
            totalTimes = 1L;
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        public static double getTPS(final CallSnapshot begin, final CallSnapshot end) {
            long total = end.callTimesTotal - begin.callTimesTotal;
            Long time = end.timestamp - begin.timestamp;

            double tps = total / time.doubleValue();
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

            // Record ConsumeQueue information
            Long queueOffset = msgInner.getQueueOffset();

            // this msg maybe a inner-batch msg.
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
            long wroteOffset = fileFromOffset + byteBuffer.position();
            // Record ConsumeQueue information
            Long queueOffset = messageExtBatch.getQueueOffset();
            long beginQueueOffset = queueOffset;
            int totalMsgLen = 0;
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `acl/src/main/java/org/apache/rocketmq/acl/plain/RemoteAddressStrategyFactory.java`
#### Snippet
```java
                        value = netAddress.substring(this.head.length(), netAddress.lastIndexOf('.', netAddress.lastIndexOf('.') - 1));
                    }
                    Integer address = Integer.valueOf(value);
                    return address >= this.start && address <= this.end;
                }
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `acl/src/main/java/org/apache/rocketmq/acl/plain/RemoteAddressStrategyFactory.java`
#### Snippet
```java
                if (netAddress.startsWith(this.head)) {
                    String value = netAddress.substring(5 * index, 5 * index + 4);
                    Integer address = Integer.parseInt(value, 16);
                    return address >= this.start && address <= this.end;
                }
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java

    private long getQueueOffsetByKey(MessageExtBrokerInner msg, int tranType) {
        Long queueOffset = msg.getQueueOffset();

        // Transaction messages that require special handling
```

## RuleId[ruleID=UnnecessaryModifier]
### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
    }

    static enum State {
        NORMAL,
        INITIALIZING,
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/FutureState.java`
#### Snippet
```java
    public final int value;

    private FutureState(int value) {
        this.value = value;
    }
```

## RuleId[ruleID=PointlessArithmeticExpression]
### PointlessArithmeticExpression
`2 * 1` can be replaced with '2'
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
    public static class CqExtUnit {
        public static final short MIN_EXT_UNIT_SIZE
            = 2 * 1 // size, 32k max
            + 8 * 2 // msg time + tagCode
            + 2; // bitMapSize
```

### PointlessArithmeticExpression
`60 * 1` can be replaced with '60'
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
    private Map<Long/*bucket*/, LongAdder/*times*/> lastBuckets = new TreeMap<>();

    private static int printTPSInterval = 60 * 1;

    private final LongAdder putMessageFailedTimes = new LongAdder();
```

### PointlessArithmeticExpression
`1 * 1000` can be replaced with '1000'
in `store/src/main/java/org/apache/rocketmq/store/ha/FlowMonitor.java`
#### Snippet
```java
    public void run() {
        while (!this.isStopped()) {
            this.waitForRunning(1 * 1000);
            this.calculateSpeed();
        }
```

### PointlessArithmeticExpression
`1L * 60 * 60 * 1000` can be replaced with '60 \* 60 \* 1000'
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int commitLogSwapMapReserveFileNum = 100;
    private long logicQueueForceSwapMapInterval = 12L * 60 * 60 * 1000;
    private long logicQueueSwapMapInterval = 1L * 60 * 60 * 1000;
    private long cleanSwapedMapInterval = 5L * 60 * 1000;
    private int logicQueueSwapMapReserveFileNum = 20;
```

### PointlessArithmeticExpression
`1L * 60 * 60 * 1000` can be replaced with '60 \* 60 \* 1000'
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean mappedFileSwapEnable = true;
    private long commitLogForceSwapMapInterval = 12L * 60 * 60 * 1000;
    private long commitLogSwapMapInterval = 1L * 60 * 60 * 1000;
    private int commitLogSwapMapReserveFileNum = 100;
    private long logicQueueForceSwapMapInterval = 12L * 60 * 60 * 1000;
```

### PointlessArithmeticExpression
`1 * 60 * 60 * 1000` can be replaced with '60 \* 60 \* 1000'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
        synchronized (this.csListDay) {
            if (this.csListDay.size() == 0) {
                this.csListDay.add(new CallSnapshot(System.currentTimeMillis() - 1 * 60 * 60 * 1000, 0, 0));
            }
            this.csListDay.add(new CallSnapshot(System.currentTimeMillis(), this.times.sum(), this.value
```

### PointlessArithmeticExpression
`4 // 1 TOTALSIZE + 4 // 2 MAGICCODE + 4 // 3 BODYCRC ...` can be replaced with '4 + 4 + 4 + 4 + 4 + 8 + 8 + 4 + 8 + bornhostLength + 8 + storehostAddressLength + 4 + 8 + 4 + bodyLength + 1 + topicLen + 2 + propertiesLength'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
            byteBuffer = ByteBuffer.allocate(storeSize);
        } else {
            storeSize = 4 // 1 TOTALSIZE
                + 4 // 2 MAGICCODE
                + 4 // 3 BODYCRC
                + 4 // 4 QUEUEID
                + 4 // 5 FLAG
                + 8 // 6 QUEUEOFFSET
                + 8 // 7 PHYSICALOFFSET
                + 4 // 8 SYSFLAG
                + 8 // 9 BORNTIMESTAMP
                + bornhostLength // 10 BORNHOST
                + 8 // 11 STORETIMESTAMP
                + storehostAddressLength // 12 STOREHOSTADDRESS
                + 4 // 13 RECONSUMETIMES
                + 8 // 14 Prepared Transaction Offset
                + 4 + bodyLength // 14 BODY
                + 1 + topicLen // 15 TOPIC
                + 2 + propertiesLength // 16 propertiesLength
                + 0;
            byteBuffer = ByteBuffer.allocate(storeSize);
        }
```

### PointlessArithmeticExpression
`1000 * 1` can be replaced with '1000'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
                    ConsumeMessagePopOrderlyService.this.lockMQPeriodically();
                }
            }, 1000 * 1, ProcessQueue.REBALANCE_LOCK_INTERVAL, TimeUnit.MILLISECONDS);
        }
    }
```

### PointlessArithmeticExpression
`1000 * 1` can be replaced with '1000'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
                    }
                }
            }, 1000 * 1, ProcessQueue.REBALANCE_LOCK_INTERVAL, TimeUnit.MILLISECONDS);
        }
    }
```

### PointlessArithmeticExpression
`0 - this.consumingMsgOrderlyTreeMap.size()` can be replaced with '- this.consumingMsgOrderlyTreeMap.size()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
            try {
                Long offset = this.consumingMsgOrderlyTreeMap.lastKey();
                msgCount.addAndGet(0 - this.consumingMsgOrderlyTreeMap.size());
                for (MessageExt msg : this.consumingMsgOrderlyTreeMap.values()) {
                    msgSize.addAndGet(0 - msg.getBody().length);
```

### PointlessArithmeticExpression
`0 - msg.getBody().length` can be replaced with '- msg.getBody().length'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
                msgCount.addAndGet(0 - this.consumingMsgOrderlyTreeMap.size());
                for (MessageExt msg : this.consumingMsgOrderlyTreeMap.values()) {
                    msgSize.addAndGet(0 - msg.getBody().length);
                }
                this.consumingMsgOrderlyTreeMap.clear();
```

### PointlessArithmeticExpression
`0 - msg.getBody().length` can be replaced with '- msg.getBody().length'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
                        if (prev != null) {
                            removedCnt--;
                            msgSize.addAndGet(0 - msg.getBody().length);
                        }
                    }
```

### PointlessArithmeticExpression
`1000 * 1` can be replaced with '1000'
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
                } catch (Exception e) {
                    e.printStackTrace();
                    Thread.sleep(1000 * 1);
                }
            }
```

## RuleId[ruleID=EmptyStatementBody]
### EmptyStatementBody
`while` statement has empty body
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
        log.info(this.getServiceName() + " service started");

        while (!this.isStopped() && this.mmapOperation()) {

        }
```

### EmptyStatementBody
`if` statement has empty body
in `store/src/main/java/org/apache/rocketmq/store/index/IndexFile.java`
#### Snippet
```java
            try {
                int slotValue = this.mappedByteBuffer.getInt(absSlotPos);
                if (slotValue <= invalidIndex || slotValue > this.indexHeader.getIndexCount()
                    || this.indexHeader.getIndexCount() <= 1) {
                } else {
```

### EmptyStatementBody
`if` statement has empty body
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                int destroyMappedFileIntervalForcibly =
                    DefaultMessageStore.this.getMessageStoreConfig().getDestroyMapedFileIntervalForcibly();
                if (DefaultMessageStore.this.commitLog.retryDeleteFirstFile(destroyMappedFileIntervalForcibly)) {
                }
            }
```

### EmptyStatementBody
`if` statement has empty body
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java

    public static boolean isScope(String[] num, int index) {
        if (num.length <= index) {

        }
```

### EmptyStatementBody
`else` statement has empty body
in `broker/src/main/java/org/apache/rocketmq/broker/client/rebalance/RebalanceLockManager.java`
#### Snippet
```java
                    clientId, e);
            }
        } else {

        }
```

### EmptyStatementBody
`while` statement has empty body
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AckMessageProcessor.java`
#### Snippet
```java
                return response;
            }
            while (!this.brokerController.getPopMessageProcessor().getQueueLockManager().tryLock(lockKey)) {
            }
            try {
```

### EmptyStatementBody
`while` statement has empty body
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ChangeInvisibleTimeProcessor.java`
#### Snippet
```java
            return response;
        }
        while (!this.brokerController.getPopMessageProcessor().getQueueLockManager().tryLock(requestHeader.getTopic(), requestHeader.getConsumerGroup(), requestHeader.getQueueId())) {
        }
        try {
```

## RuleId[ruleID=WhileCanBeForeach]
### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
            final Map<Integer, EpochEntry> descendingMap = new TreeMap<>(this.epochMap).descendingMap();
            final Iterator<Map.Entry<Integer, EpochEntry>> iter = descendingMap.entrySet().iterator();
            while (iter.hasNext()) {
                final Map.Entry<Integer, EpochEntry> curLocalEntry = iter.next();
                final EpochEntry compareEntry = compareCache.getEntry(curLocalEntry.getKey());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
        if (push) {
            Iterator<Entry<MessageQueue, ProcessQueueInfo>> it = info.getMqTable().entrySet().iterator();
            while (it.hasNext()) {
                Entry<MessageQueue, ProcessQueueInfo> next = it.next();
                MessageQueue mq = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
            sb.append("#Consumer Properties#\n");
            Iterator<Entry<Object, Object>> it = this.properties.entrySet().iterator();
            while (it.hasNext()) {
                Entry<Object, Object> next = it.next();
                String item = String.format("%-40s: %s%n", next.getKey().toString(), next.getValue().toString());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

            Iterator<Entry<MessageQueue, ProcessQueueInfo>> it = this.mqTable.entrySet().iterator();
            while (it.hasNext()) {
                Entry<MessageQueue, ProcessQueueInfo> next = it.next();
                String item = String.format("%-32s  %-32s  %-4d  %-20d%n",
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

            Iterator<Entry<MessageQueue, ProcessQueueInfo>> it = this.mqTable.entrySet().iterator();
            while (it.hasNext()) {
                Entry<MessageQueue, ProcessQueueInfo> next = it.next();
                String item = String.format("%-64s  %-32s  %-4d  %s%n",
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

            Iterator<Entry<MessageQueue, PopProcessQueueInfo>> it = this.mqPopTable.entrySet().iterator();
            while (it.hasNext()) {
                Entry<MessageQueue, PopProcessQueueInfo> next = it.next();
                String item = String.format("%-32s  %-32s  %-4d  %s%n",
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

            Iterator<Entry<String, ConsumeStatus>> it = this.statusTable.entrySet().iterator();
            while (it.hasNext()) {
                Entry<String, ConsumeStatus> next = it.next();
                String item = String.format("%-32s  %14.2f %14.2f %14.2f %14.2f %18.2f %25d%n",
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
            sb.append("\n\n#User Consume Info#\n");
            Iterator<Entry<String, String>> it = this.userConsumerInfo.entrySet().iterator();
            while (it.hasNext()) {
                Entry<String, String> next = it.next();
                String item = String.format("%-40s: %s%n", next.getKey(), next.getValue());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
            {
                Iterator<Entry<String, ConsumerRunningInfo>> it = criTable.entrySet().iterator();
                while (it.hasNext()) {
                    Entry<String, ConsumerRunningInfo> next = it.next();
                    ConsumerRunningInfo current = next.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/MomentStatsItemSet.java`
#### Snippet
```java
    private void printAtMinutes() {
        Iterator<Entry<String, MomentStatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, MomentStatsItem> next = it.next();
            next.getValue().printAtMinutes();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    private void printAtMinutes() {
        Iterator<Entry<String, StatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, StatsItem> next = it.next();
            next.getValue().printAtMinutes();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    private void samplingInMinutes() {
        Iterator<Entry<String, StatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, StatsItem> next = it.next();
            next.getValue().samplingInMinutes();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    private void samplingInHour() {
        Iterator<Entry<String, StatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, StatsItem> next = it.next();
            next.getValue().samplingInHour();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    private void printAtDay() {
        Iterator<Entry<String, StatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, StatsItem> next = it.next();
            next.getValue().printAtDay();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    private void printAtHour() {
        Iterator<Entry<String, StatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, StatsItem> next = it.next();
            next.getValue().printAtHour();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    private void samplingInSeconds() {
        Iterator<Entry<String, StatsItem>> it = this.statsItemTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, StatsItem> next = it.next();
            next.getValue().samplingInSeconds();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        try {
            Iterator<Map.Entry<Thread, StackTraceElement[]>> ite = map.entrySet().iterator();
            while (ite.hasNext()) {
                Map.Entry<Thread, StackTraceElement[]> entry = ite.next();
                StackTraceElement[] elements = entry.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/ClientConfig.java`
#### Snippet
```java
        }
        Iterator<MessageQueue> iter = queues.iterator();
        while (iter.hasNext()) {
            MessageQueue queue = iter.next();
            queue.setTopic(withNamespace(queue.getTopic()));
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsManager.java`
#### Snippet
```java
                Iterator<Map.Entry<String, ConcurrentHashMap<String, StatisticsItem>>> iter
                    = statsTable.entrySet().iterator();
                while (iter.hasNext()) {
                    Map.Entry<String, ConcurrentHashMap<String, StatisticsItem>> entry = iter.next();
                    String kind = entry.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
    public void destroy() {
        Iterator<Entry<MessageQueue, ProcessQueue>> it = this.processQueueTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<MessageQueue, ProcessQueue> next = it.next();
            next.getValue().setDropped(true);
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java

        Iterator<Entry<MessageQueue, PopProcessQueue>> popIt = this.popProcessQueueTable.entrySet().iterator();
        while (popIt.hasNext()) {
            Entry<MessageQueue, PopProcessQueue> next = popIt.next();
            next.getValue().setDropped(true);
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
        HashMap<MessageQueue, ProcessQueue> removeQueueMap = new HashMap<>(this.processQueueTable.size());
        Iterator<Entry<MessageQueue, ProcessQueue>> it = this.processQueueTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<MessageQueue, ProcessQueue> next = it.next();
            MessageQueue mq = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java

        Iterator<Entry<String, Set<MessageQueue>>> it = brokerMqs.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, Set<MessageQueue>> entry = it.next();
            final String brokerName = entry.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
            HashMap<MessageQueue, ProcessQueue> removeQueueMap = new HashMap<>(this.processQueueTable.size());
            Iterator<Entry<MessageQueue, ProcessQueue>> it = this.processQueueTable.entrySet().iterator();
            while (it.hasNext()) {
                Entry<MessageQueue, ProcessQueue> next = it.next();
                MessageQueue mq = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
            HashMap<MessageQueue, PopProcessQueue> removeQueueMap = new HashMap<>(this.popProcessQueueTable.size());
            Iterator<Entry<MessageQueue, PopProcessQueue>> it = this.popProcessQueueTable.entrySet().iterator();
            while (it.hasNext()) {
                Entry<MessageQueue, PopProcessQueue> next = it.next();
                MessageQueue mq = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
        ConcurrentMap<MessageQueue, ProcessQueue> processQueueTable = this.rebalanceImpl.getProcessQueueTable();
        Iterator<Entry<MessageQueue, ProcessQueue>> it = processQueueTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<MessageQueue, ProcessQueue> next = it.next();
            ProcessQueue value = next.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java

        Iterator<Entry<MessageQueue, ProcessQueue>> it = this.rebalanceImpl.getProcessQueueTable().entrySet().iterator();
        while (it.hasNext()) {
            Entry<MessageQueue, ProcessQueue> next = it.next();
            MessageQueue mq = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java

        Iterator<Entry<MessageQueue, PopProcessQueue>> popIt = this.rebalanceImpl.getPopProcessQueueTable().entrySet().iterator();
        while (popIt.hasNext()) {
            Entry<MessageQueue, PopProcessQueue> next = popIt.next();
            MessageQueue mq = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
        Iterator<Map.Entry<MessageQueue, ProcessQueue>> it =
            this.defaultMQPushConsumerImpl.getRebalanceImpl().getProcessQueueTable().entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry<MessageQueue, ProcessQueue> next = it.next();
            ProcessQueue pq = next.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerGroupInfo.java`
#### Snippet
```java
        Iterator<Entry<Channel, ClientChannelInfo>> it = this.channelInfoTable.entrySet().iterator();

        while (it.hasNext()) {
            Entry<Channel, ClientChannelInfo> entry = it.next();
            ClientChannelInfo clientChannelInfo = entry.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerGroupInfo.java`
#### Snippet
```java
    public ClientChannelInfo findChannel(final String clientId) {
        Iterator<Entry<Channel, ClientChannelInfo>> it = this.channelInfoTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<Channel, ClientChannelInfo> next = it.next();
            if (next.getValue().getClientId().equals(clientId)) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicConfigManager.java`
#### Snippet
```java
    private void printLoadDataWhenFirstBoot(final TopicConfigSerializeWrapper tcs) {
        Iterator<Entry<String, TopicConfig>> it = tcs.getTopicConfigTable().entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, TopicConfig> next = it.next();
            log.info("load exist local topic, {}", next.getValue().toString());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerManager.java`
#### Snippet
```java
        boolean removed = false;
        Iterator<Entry<String, ConsumerGroupInfo>> it = this.consumerTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, ConsumerGroupInfo> next = it.next();
            ConsumerGroupInfo info = next.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerManager.java`
#### Snippet
```java
        HashSet<String> groups = new HashSet<>();
        Iterator<Entry<String, ConsumerGroupInfo>> it = this.consumerTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, ConsumerGroupInfo> entry = it.next();
            ConcurrentMap<String, SubscriptionData> subscriptionTable =
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java

        Iterator<FilterDataMapByTopic> topicIterator = this.filterDataByTopic.values().iterator();
        while (topicIterator.hasNext()) {
            FilterDataMapByTopic filterDataMapByTopic = topicIterator.next();

```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
            Iterator<ConsumerFilterData> filterDataIterator = filterDataMapByTopic.getGroupFilterData().values().iterator();

            while (filterDataIterator.hasNext()) {
                ConsumerFilterData filterData = filterDataIterator.next();

```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java

        Iterator<ConsumerFilterData> iterator = groupFilterData.iterator();
        while (iterator.hasNext()) {
            ConsumerFilterData filterData = iterator.next();

```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOffsetManager.java`
#### Snippet
```java

        Iterator<Entry<String, ConcurrentMap<Integer, Long>>> it = this.offsetTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, ConcurrentMap<Integer, Long>> next = it.next();
            String topicAtGroup = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOffsetManager.java`
#### Snippet
```java

        Iterator<Entry<String, ConcurrentMap<Integer, Long>>> it = this.offsetTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, ConcurrentMap<Integer, Long>> next = it.next();
            String topicAtGroup = next.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/filtersrv/FilterServerManager.java`
#### Snippet
```java
        List<String> addr = new ArrayList<>();
        Iterator<Entry<Channel, FilterServerInfo>> it = this.filterServerTable.entrySet().iterator();
        while (it.hasNext()) {
            Entry<Channel, FilterServerInfo> next = it.next();
            addr.add(next.getValue().getFilterServerAddr());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
    public void buildRunningStats(HashMap<String, String> stats) {
        Iterator<Map.Entry<Integer, Long>> it = this.offsetTable.entrySet().iterator();
        while (it.hasNext()) {
            Map.Entry<Integer, Long> next = it.next();
            int queueId = delayLevel2QueueId(next.getKey());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
        int count = 0;
        Iterator<Map.Entry<String, QueueWithTime<PopCheckPointWrapper>>> iterator = this.commitOffsets.entrySet().iterator();
        while (iterator.hasNext()) {
            Map.Entry<String, QueueWithTime<PopCheckPointWrapper>> entry = iterator.next();
            LinkedBlockingDeque<PopCheckPointWrapper> queue = entry.getValue().get();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/subscription/SubscriptionGroupManager.java`
#### Snippet
```java
    private void printLoadDataWhenFirstBoot(final SubscriptionGroupManager sgm) {
        Iterator<Entry<String, SubscriptionGroupConfig>> it = sgm.getSubscriptionGroupTable().entrySet().iterator();
        while (it.hasNext()) {
            Entry<String, SubscriptionGroupConfig> next = it.next();
            log.info("load exist subscription group, {}", next.getValue().toString());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java

            Iterator<Map.Entry<Channel, ClientChannelInfo>> it = consumerGroupInfo.getChannelInfoTable().entrySet().iterator();
            while (it.hasNext()) {
                ClientChannelInfo info = it.next().getValue();
                Connection connection = new Connection();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        if (channelInfoHashMap != null) {
            Iterator<Map.Entry<Channel, ClientChannelInfo>> it = channelInfoHashMap.entrySet().iterator();
            while (it.hasNext()) {
                ClientChannelInfo info = it.next().getValue();
                Connection connection = new Connection();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                    long tmpTotalPollingNum = 0;
                    Iterator<Entry<String, ConcurrentSkipListSet<PopRequest>>> pollingMapIterator = pollingMap.entrySet().iterator();
                    while (pollingMapIterator.hasNext()) {
                        Entry<String, ConcurrentSkipListSet<PopRequest>> entry = pollingMapIterator.next();
                        String key = entry.getKey();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
            try {
                Iterator<Entry<String, ConcurrentSkipListSet<PopRequest>>> pollingMapIterator = pollingMap.entrySet().iterator();
                while (pollingMapIterator.hasNext()) {
                    Entry<String, ConcurrentSkipListSet<PopRequest>> entry = pollingMapIterator.next();
                    ConcurrentSkipListSet<PopRequest> popQ = entry.getValue();
```

## RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `messagesInTotal` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java

    private void initRequestMetrics() {
        messagesInTotal = brokerMeter.counterBuilder(COUNTER_MESSAGES_IN_TOTAL)
            .setDescription("Total number of incoming messages")
            .build();
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `messagesOutTotal` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            .build();

        messagesOutTotal = brokerMeter.counterBuilder(COUNTER_MESSAGES_OUT_TOTAL)
            .setDescription("Total number of outgoing messages")
            .build();
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `throughputInTotal` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            .build();

        throughputInTotal = brokerMeter.counterBuilder(COUNTER_THROUGHPUT_IN_TOTAL)
            .setDescription("Total traffic of incoming messages")
            .build();
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `throughputOutTotal` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            .build();

        throughputOutTotal = brokerMeter.counterBuilder(COUNTER_THROUGHPUT_OUT_TOTAL)
            .setDescription("Total traffic of outgoing messages")
            .build();
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `messageSize` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            .build();

        messageSize = brokerMeter.histogramBuilder(HISTOGRAM_MESSAGE_SIZE)
            .setDescription("Incoming messages size")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `consumerLagMessages` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java

    private void initLagAndDlqMetrics() {
        consumerLagMessages = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_LAG_MESSAGES)
            .setDescription("Consumer lag messages")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `consumerLagLatency` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
                consumerLagCalculator.calculateLag(result -> measurement.record(result.lag, buildLagAttributes(result))));

        consumerLagLatency = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_LAG_LATENCY)
            .setDescription("Consumer lag time")
            .setUnit("milliseconds")
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `consumerInflightMessages` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            }));

        consumerInflightMessages = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_INFLIGHT_MESSAGES)
            .setDescription("Consumer inflight messages")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `consumerQueueingLatency` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
                consumerLagCalculator.calculateInflight(result -> measurement.record(result.inFlight, buildLagAttributes(result))));

        consumerQueueingLatency = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_QUEUEING_LATENCY)
            .setDescription("Consumer queueing time")
            .setUnit("milliseconds")
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `consumerReadyMessages` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            }));

        consumerReadyMessages = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_READY_MESSAGES)
            .setDescription("Consumer ready messages")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `sendToDlqMessages` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
                consumerLagCalculator.calculateAvailable(result -> measurement.record(result.available, buildLagAttributes(result))));

        sendToDlqMessages = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_SEND_TO_DLQ_MESSAGES_TOTAL)
            .setDescription("Consumer send to DLQ messages")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `processorWatermark` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java

    private void initStatsMetrics() {
        processorWatermark = brokerMeter.gaugeBuilder(GAUGE_PROCESSOR_WATERMARK)
            .setDescription("Request processor watermark")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `brokerPermission` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            });

        brokerPermission = brokerMeter.gaugeBuilder(GAUGE_BROKER_PERMISSION)
            .setDescription("Broker permission")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `producerConnection` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java

    private void initConnectionMetrics() {
        producerConnection = brokerMeter.gaugeBuilder(GAUGE_PRODUCER_CONNECTIONS)
            .setDescription("Producer connections")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `consumerConnection` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
            });

        consumerConnection = brokerMeter.gaugeBuilder(GAUGE_CONSUMER_CONNECTIONS)
            .setDescription("Consumer connections")
            .ofLongs()
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `executorService` from instance context
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/AbstractTransactionalMessageCheckListener.java`
#### Snippet
```java
    public synchronized void initExecutorService() {
        if (executorService == null) {
            executorService = new ThreadPoolExecutor(2, 5, 100, TimeUnit.SECONDS, new ArrayBlockingQueue<>(2000),
                new ThreadFactoryImpl("Transaction-msg-check-thread", brokerController.getBrokerIdentity()), new CallerRunsPolicy());
        }
```

## RuleId[ruleID=CommentedOutCode]
### CommentedOutCode
Commented out code (8 lines)
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        } else {

            //            boolean convertStringExpressions = false;
            //            if( sql.startsWith(CONVERT_STRING_EXPRESSIONS_PREFIX)) {
            //                convertStringExpressions = true;
```

### CommentedOutCode
Commented out code (3 lines)
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            } finally {
                ComparisonExpression.CONVERT_STRING_EXPRESSIONS.remove();
                //                if( convertStringExpressions ) {
                //                    ComparisonExpression.CONVERT_STRING_EXPRESSIONS.remove();
                //                }
```

### CommentedOutCode
Commented out code (2 lines)
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
                }
            }
            // return this.fileSize < other.fileSize ? 1 : this.fileSize >
            // other.fileSize ? -1 : 0;
        }
```

### CommentedOutCode
Commented out code (5 lines)
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionService.java`
#### Snippet
```java
    }

//    @Override
//    public void start() {
//        compactionStore.load();
```

### CommentedOutCode
Commented out code (2 lines)
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

        private void printFlushProgress() {
            // CommitLog.log.info("how much disk fall behind memory, "
            // + CommitLog.this.mappedFileQueue.howMuchFallBehind());
        }
```

### CommentedOutCode
Commented out code (3 lines)
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
    }

//    public SparseConsumeQueue getCompactionScq() {
//        return compactionScq;
//    }
```

### CommentedOutCode
Commented out code (3 lines)
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java

        long beginTime = System.nanoTime();
//        List<String> fileNameToReplace = mappedFileList.stream()
//            .map(m -> m.getFile().getName())
//            .collect(Collectors.toList());
```

### CommentedOutCode
Commented out code (3 lines)
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
            short batchSize = byteBuffer.getShort();
            if (offset >= 0 && size > 0 && msgBaseOffset >= 0 && batchSize > 0) {
//                mappedFile.setWrotePosition(i + CQ_STORE_UNIT_SIZE);
//                mappedFile.setFlushedPosition(i + CQ_STORE_UNIT_SIZE);
//                mappedFile.setCommittedPosition(i + CQ_STORE_UNIT_SIZE);
```

### CommentedOutCode
Commented out code (9 lines)
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java

            // prevent gc
            // if (j % 1000 == 0) {
            //     log.info("j={}, costTime={}", j, System.currentTimeMillis() - time);
            //     time = System.currentTimeMillis();
```

### CommentedOutCode
Commented out code (6 lines)
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }, 1, 1, TimeUnit.SECONDS);

        // this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
        // @Override
        // public void run() {
```

### CommentedOutCode
Commented out code (10 lines)
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
        }, 1000 * 3, 1000);

//        this.timer.scheduleAtFixedRate(new TimerTask() {
//            @Override
//            public void run() {
```

### CommentedOutCode
Commented out code (7 lines)
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

                // after consumer.unsubscribe , SubscriptionSet is Empty
                //if (prev != null) {
                //
                //    if (prev.getSubscriptionSet().isEmpty()) {
```

### CommentedOutCode
Commented out code (14 lines)
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    public static final int QUEUE_OFFSET_POSITION = 4 + 4 + 4 + 4 + 4;
    public static final int SYSFLAG_POSITION = 4 + 4 + 4 + 4 + 4 + 8 + 8;
//    public static final int BODY_SIZE_POSITION = 4 // 1 TOTALSIZE
//        + 4 // 2 MAGICCODE
//        + 4 // 3 BODYCRC
```

### CommentedOutCode
Commented out code (11 lines)
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicConfigManager.java`
#### Snippet
```java
            // To avoid the above case, we comment the below codes, please use mqadmin API to update
            // the order filed.
            /*for (Map.Entry<String, TopicConfig> entry : this.topicConfigTable.entrySet()) {
                String topic = entry.getKey();
                if (!orderTopics.contains(topic)) {
```

### CommentedOutCode
Commented out code (5 lines)
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
            }

//            // check ak done
//            if (isCkDone(pointWrapper)) {
//                // cancel ck for timer
```

### CommentedOutCode
Commented out code (2 lines)
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
    private RemotingCommand getAllTopicConfig(ChannelHandlerContext ctx, RemotingCommand request) {
        final RemotingCommand response = RemotingCommand.createResponseCommand(GetAllTopicConfigResponseHeader.class);
        // final GetAllTopicConfigResponseHeader responseHeader =
        // (GetAllTopicConfigResponseHeader) response.readCustomHeader();

```

### CommentedOutCode
Commented out code (2 lines)
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java

        }
//        executors.shutdown();
//        consumer.shutdown();
    }
```

### CommentedOutCode
Commented out code (2 lines)
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                popBufferMergeService.addCkMock(requestHeader.getConsumerGroup(), topic, queueId, offset,
                    requestHeader.getInvisibleTime(), popTime, reviveQid, getMessageTmpResult.getNextBeginOffset(), brokerController.getBrokerConfig().getBrokerName());
//                this.brokerController.getConsumerOffsetManager().commitOffset(channel.remoteAddress().toString(), requestHeader.getConsumerGroup(), topic,
//                        queueId, getMessageTmpResult.getNextBeginOffset());
            }
```

## RuleId[ruleID=RegExpRedundantEscape]
### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/BeanUtils.java`
#### Snippet
```java
            final Set<String> keySet = properties.keySet();
            for (String key : keySet) {
                String[] keyGroup = key.split("[\\._]");
                for (int i = 0; i < keyGroup.length; i++) {
                    keyGroup[i] = keyGroup[i].toLowerCase();
```

## RuleId[ruleID=KeySetIterationMayUseEntrySet]
### KeySetIterationMayUseEntrySet
Iteration over `nonceSet` may be replaced with 'entrySet()' iteration
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/channel/GrpcChannelManager.java`
#### Snippet
```java

        Set<String> nonceSet = this.resultNonceFutureMap.keySet();
        for (String nonce : nonceSet) {
            ResultFuture<?> resultFuture = this.resultNonceFutureMap.get(nonce);
            if (resultFuture == null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `newSmallOnes.keySet()` may be replaced with 'entrySet()' iteration
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        if (!hasError) {
            //update
            for (String topic : newSmallOnes.keySet()) {
                LOGGER.info("[CheckAndReviseMetrics]Revise metric for topic {} from {} to {}", topic, smallOnes.get(topic), newSmallOnes.get(topic));
            }
```

### KeySetIterationMayUseEntrySet
Iteration over `needNotifyBrokerMap.keySet()` may be replaced with 'entrySet()' iteration
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
        throws InterruptedException, RemotingConnectException, RemotingTimeoutException, RemotingSendRequestException,
        RemotingTooMuchRequestException {
        for (String brokerName : needNotifyBrokerMap.keySet()) {
            BrokerStatusChangeInfo brokerStatusChangeInfo = needNotifyBrokerMap.get(brokerName);
            BrokerData brokerData = brokerAddrTable.get(brokerName);
```

### KeySetIterationMayUseEntrySet
Iteration over `brokerAddrMap.keySet()` may be replaced with 'entrySet()' iteration
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
        long minBrokerId = Collections.min(brokerAddrMap.keySet());
        List<String> brokerAddrList = new ArrayList<>();
        for (Long brokerId : brokerAddrMap.keySet()) {
            if (brokerId != minBrokerId) {
                brokerAddrList.add(brokerAddrMap.get(brokerId));
```

### KeySetIterationMayUseEntrySet
Iteration over `brokerAddrTable.keySet()` may be replaced with 'values()' iteration
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java

            if (!brokerAddrTable.isEmpty()) {
                for (String s : brokerAddrTable.keySet()) {
                    BrokerData bd = brokerAddrTable.get(s);
                    HashMap<Long, String> brokerAddrs = bd.getBrokerAddrs();
```

### KeySetIterationMayUseEntrySet
Iteration over `this.channelTables.keySet()` may be replaced with 'entrySet()' iteration
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
                if (this.namesrvAddrChoosed.get() != null && !addrs.contains(this.namesrvAddrChoosed.get())) {
                    String namesrvAddr = this.namesrvAddrChoosed.get();
                    for (String addr : this.channelTables.keySet()) {
                        if (addr.contains(namesrvAddr)) {
                            ChannelWrapper channelWrapper = this.channelTables.get(addr);
```

### KeySetIterationMayUseEntrySet
Iteration over `this.channelTables.keySet()` may be replaced with 'entrySet()' iteration
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
            this.timer.cancel();

            for (String addr : this.channelTables.keySet()) {
                this.closeChannel(addr, this.channelTables.get(addr).getChannel());
            }
```

### KeySetIterationMayUseEntrySet
Iteration over `this.channelTables.keySet()` may be replaced with 'entrySet()' iteration
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
        }

        for (String addr : this.channelTables.keySet()) {
            ChannelWrapper channelWrapper = this.channelTables.get(addr);
            if (channelWrapper == null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `brokerConfigMap.keySet()` may be replaced with 'entrySet()' iteration
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java

    public static void checkTargetBrokersComplete(Set<String> targetBrokers, Map<String, TopicConfigAndQueueMapping> brokerConfigMap) {
        for (String broker : brokerConfigMap.keySet()) {
            if (brokerConfigMap.get(broker).getMappingDetail().getHostedQueues().isEmpty()) {
                continue;
```

### KeySetIterationMayUseEntrySet
Iteration over `msgs.keySet()` may be replaced with 'entrySet()' iteration
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java

    public void send(Map<MessageQueue, List<Object>> msgs) {
        for (MessageQueue mq : msgs.keySet()) {
            send(msgs.get(mq), mq);
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `IGNORED_FIELDS.keySet()` may be replaced with 'entrySet()' iteration
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            String key = String.format("Field %s", field.getName());
            boolean ignore = false;
            for (Class<?> tmpClass: IGNORED_FIELDS.keySet()) {
                if (tmpClass.isAssignableFrom(apiClass)
                    && IGNORED_FIELDS.get(tmpClass).contains(field.getName())) {
```

### KeySetIterationMayUseEntrySet
Iteration over `this.groupChannelTable.keySet()` may be replaced with 'entrySet()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/client/ProducerManager.java`
#### Snippet
```java
    public ProducerTableInfo getProducerTable() {
        Map<String, List<ProducerInfo>> map = new HashMap<>();
        for (String group : this.groupChannelTable.keySet()) {
            for (Entry<Channel, ClientChannelInfo> entry: this.groupChannelTable.get(group).entrySet()) {
                ClientChannelInfo clientChannelInfo = entry.getValue();
```

### KeySetIterationMayUseEntrySet
Iteration over `brokerConfigMap.keySet()` may be replaced with 'entrySet()' iteration
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java

        //Step5: write the non-target brokers
        for (String broker : brokerConfigMap.keySet()) {
            if (brokersToMapIn.contains(broker) || brokersToMapOut.contains(broker)) {
                continue;
```

### KeySetIterationMayUseEntrySet
Iteration over `brokers.keySet()` may be replaced with 'values()' iteration
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
        } else {
            Map<String, BrokerData> brokers = clusterInfo.getBrokerAddrTable();
            for (String brokerName : brokers.keySet()) {
                HashMap<Long, String> brokerIps = brokers.get(brokerName).getBrokerAddrs();
                for (long brokerId : brokerIps.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `brokerIps.keySet()` may be replaced with 'values()' iteration
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
            for (String brokerName : brokers.keySet()) {
                HashMap<Long, String> brokerIps = brokers.get(brokerName).getBrokerAddrs();
                for (long brokerId : brokerIps.keySet()) {
                    if (brokerIps.get(brokerId).contains(ip))
                        return true;
```

### KeySetIterationMayUseEntrySet
Iteration over `offsetStoreMap.keySet()` may be replaced with 'entrySet()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/offset/BroadcastOffsetManager.java`
#### Snippet
```java
     */
    protected void scanOffsetData() {
        for (String k : offsetStoreMap.keySet()) {
            BroadcastOffsetData broadcastOffsetData = offsetStoreMap.get(k);
            if (broadcastOffsetData == null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `pullRequestTable.keySet()` may be replaced with 'entrySet()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/LmqPullRequestHoldService.java`
#### Snippet
```java
    @Override
    public void checkHoldRequest() {
        for (String key : pullRequestTable.keySet()) {
            int idx = key.lastIndexOf(TOPIC_QUEUEID_SEPARATOR);
            if (idx <= 0 || idx >= key.length() - 1) {
```

### KeySetIterationMayUseEntrySet
Iteration over `otherSubscriptionGroupTable.keySet()` may be replaced with 'entrySet()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/subscription/SubscriptionGroupManager.java`
#### Snippet
```java
    public void setSubscriptionGroupTable(ConcurrentMap<String, SubscriptionGroupConfig> otherSubscriptionGroupTable) {
        this.subscriptionGroupTable.clear();
        for (String key : otherSubscriptionGroupTable.keySet()) {
            this.subscriptionGroupTable.put(key, otherSubscriptionGroupTable.get(key));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `addrMap.keySet()` may be replaced with 'values()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
            if (memberGroup != null) {
                Map<Long, String> addrMap = memberGroup.getBrokerAddrs();
                for (Long brokerId : addrMap.keySet()) {
                    try {
                        this.brokerController.getBrokerOuterAPI().unlockBatchMQAsync(addrMap.get(brokerId), requestBody, 1000, new UnlockCallback() {
```

### KeySetIterationMayUseEntrySet
Iteration over `addrMap.keySet()` may be replaced with 'values()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
                    requestBody.setMqSet(selfLockOKMQSet);
                    requestBody.setOnlyThisBroker(true);
                    for (Long brokerId : addrMap.keySet()) {
                        try {
                            this.brokerController.getBrokerOuterAPI().lockBatchMQAsync(addrMap.get(brokerId),
```

### KeySetIterationMayUseEntrySet
Iteration over `mqLockMap.keySet()` may be replaced with 'entrySet()' iteration
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
                }

                for (MessageQueue mq : mqLockMap.keySet()) {
                    if (mqLockMap.get(mq) >= quorum) {
                        lockOKMQSet.add(mq);
```

## RuleId[ruleID=UnnecessaryQualifierForThis]
### UnnecessaryQualifierForThis
Qualifier `ReadSocketService` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
            haReader.registerHook(readSize -> {
                if (readSize > 0) {
                    ReadSocketService.this.lastReadTimestamp =
                        haService.getDefaultMessageStore().getSystemClock().now();
                }
```

### UnnecessaryQualifierForThis
Qualifier `AbstractWriteSocketService` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
                flowMonitor.addByteCountTransferred(writeSize);
                if (writeSize > 0) {
                    AbstractWriteSocketService.this.lastWriteTimestamp =
                        haService.getDefaultMessageStore().getSystemClock().now();
                }
```

### UnnecessaryQualifierForThis
Qualifier `AutoSwitchHAClient` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAClient.java`
#### Snippet
```java
                    case READY:
                        // Truncate invalid msg first
                        final long truncateOffset = AutoSwitchHAClient.this.haService.truncateInvalidMsg();
                        if (truncateOffset >= 0) {
                            AutoSwitchHAClient.this.epochCache.truncateSuffixByOffset(truncateOffset);
```

### UnnecessaryQualifierForThis
Qualifier `AutoSwitchHAClient` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAClient.java`
#### Snippet
```java
                        final long truncateOffset = AutoSwitchHAClient.this.haService.truncateInvalidMsg();
                        if (truncateOffset >= 0) {
                            AutoSwitchHAClient.this.epochCache.truncateSuffixByOffset(truncateOffset);
                        }
                        if (!connectMaster()) {
```

### UnnecessaryQualifierForThis
Qualifier `AutoSwitchHAClient` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAClient.java`
#### Snippet
```java
        haReader.registerHook(readSize -> {
            if (readSize > 0) {
                AutoSwitchHAClient.this.flowMonitor.addByteCountTransferred(readSize);
                lastReadTimestamp = System.currentTimeMillis();
            }
```

### UnnecessaryQualifierForThis
Qualifier `DefaultMessageStore` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }

        result.put(RunningStats.commitLogMinOffset.name(), String.valueOf(DefaultMessageStore.this.getMinPhyOffset()));
        result.put(RunningStats.commitLogMaxOffset.name(), String.valueOf(DefaultMessageStore.this.getMaxPhyOffset()));

```

### UnnecessaryQualifierForThis
Qualifier `DefaultMessageStore` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java

        result.put(RunningStats.commitLogMinOffset.name(), String.valueOf(DefaultMessageStore.this.getMinPhyOffset()));
        result.put(RunningStats.commitLogMaxOffset.name(), String.valueOf(DefaultMessageStore.this.getMaxPhyOffset()));

        return result;
```

### UnnecessaryQualifierForThis
Qualifier `DefaultMessageStore` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    public String getStorePathPhysic() {
        String storePathPhysic;
        if (DefaultMessageStore.this.getMessageStoreConfig().isEnableDLegerCommitLog()) {
            storePathPhysic = ((DLedgerCommitLog) DefaultMessageStore.this.getCommitLog()).getdLedgerServer().getdLedgerConfig().getDataStorePath();
        } else {
```

### UnnecessaryQualifierForThis
Qualifier `DefaultMessageStore` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        String storePathPhysic;
        if (DefaultMessageStore.this.getMessageStoreConfig().isEnableDLegerCommitLog()) {
            storePathPhysic = ((DLedgerCommitLog) DefaultMessageStore.this.getCommitLog()).getdLedgerServer().getdLedgerConfig().getDataStorePath();
        } else {
            storePathPhysic = DefaultMessageStore.this.getMessageStoreConfig().getStorePathCommitLog();
```

### UnnecessaryQualifierForThis
Qualifier `DefaultMessageStore` on 'this' is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
            storePathPhysic = ((DLedgerCommitLog) DefaultMessageStore.this.getCommitLog()).getdLedgerServer().getdLedgerConfig().getDataStorePath();
        } else {
            storePathPhysic = DefaultMessageStore.this.getMessageStoreConfig().getStorePathCommitLog();
        }
        return storePathPhysic;
```

### UnnecessaryQualifierForThis
Qualifier `NamesrvController` on 'this' is unnecessary in this context
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvController.java`
#### Snippet
```java

    private void startScheduleService() {
        this.scanExecutorService.scheduleAtFixedRate(NamesrvController.this.routeInfoManager::scanNotActiveBroker,
            5, this.namesrvConfig.getScanNotActiveBrokerInterval(), TimeUnit.MILLISECONDS);

```

### UnnecessaryQualifierForThis
Qualifier `NamesrvController` on 'this' is unnecessary in this context
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvController.java`
#### Snippet
```java
            5, this.namesrvConfig.getScanNotActiveBrokerInterval(), TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(NamesrvController.this.kvConfigManager::printAllPeriodically,
            1, 10, TimeUnit.MINUTES);

```

### UnnecessaryQualifierForThis
Qualifier `NamesrvController` on 'this' is unnecessary in this context
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvController.java`
#### Snippet
```java
        this.scheduledExecutorService.scheduleAtFixedRate(() -> {
            try {
                NamesrvController.this.printWaterMark();
            } catch (Throwable e) {
                LOGGER.error("printWaterMark error.", e);
```

### UnnecessaryQualifierForThis
Qualifier `ClosableServerCall` on 'super' is unnecessary in this context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/GlobalExceptionInterceptor.java`
#### Snippet
```java
            if (!closeCalled) {
                closeCalled = true;
                ClosableServerCall.super.close(status, trailers);
            }
        }
```

### UnnecessaryQualifierForThis
Qualifier `NettyRemotingServer` on 'this' is unnecessary in this context
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingServer.java`
#### Snippet
```java
        scheduledExecutorService.scheduleWithFixedDelay(() -> {
            try {
                NettyRemotingServer.this.printRemotingCodeDistribution();
            } catch (Throwable e) {
                TRAFFIC_LOGGER.error("NettyRemotingServer print remoting code distribution exception", e);
```

### UnnecessaryQualifierForThis
Qualifier `ConsumeMessagePopOrderlyService` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    @Override
    public void start() {
        if (MessageModel.CLUSTERING.equals(ConsumeMessagePopOrderlyService.this.defaultMQPushConsumerImpl.messageModel())) {
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
```

### UnnecessaryQualifierForThis
Qualifier `ConsumeMessagePopOrderlyService` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
            log.warn(String.format("consumeMessageDirectly exception: %s Group: %s Msgs: %s MQ: %s",
                UtilAll.exceptionSimpleDesc(e),
                ConsumeMessagePopOrderlyService.this.consumerGroup,
                msgs,
                mq), e);
```

### UnnecessaryQualifierForThis
Qualifier `ConsumeMessageOrderlyService` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java

    public void start() {
        if (MessageModel.CLUSTERING.equals(ConsumeMessageOrderlyService.this.defaultMQPushConsumerImpl.messageModel())) {
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
```

### UnnecessaryQualifierForThis
Qualifier `ConsumeMessageOrderlyService` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
            log.warn(String.format("consumeMessageDirectly exception: %s Group: %s Msgs: %s MQ: %s",
                UtilAll.exceptionSimpleDesc(e),
                ConsumeMessageOrderlyService.this.consumerGroup,
                msgs,
                mq), e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
            this.scheduledExecutorService.scheduleAtFixedRate(() -> {
                try {
                    MQClientInstance.this.mQClientAPIImpl.fetchNameServerAddr();
                } catch (Exception e) {
                    log.error("ScheduledTask fetchNameServerAddr exception", e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        this.scheduledExecutorService.scheduleAtFixedRate(() -> {
            try {
                MQClientInstance.this.updateTopicRouteInfoFromNameServer();
            } catch (Exception e) {
                log.error("ScheduledTask updateTopicRouteInfoFromNameServer exception", e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        this.scheduledExecutorService.scheduleAtFixedRate(() -> {
            try {
                MQClientInstance.this.cleanOfflineBroker();
                MQClientInstance.this.sendHeartbeatToAllBrokerWithLock();
            } catch (Exception e) {
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
            try {
                MQClientInstance.this.cleanOfflineBroker();
                MQClientInstance.this.sendHeartbeatToAllBrokerWithLock();
            } catch (Exception e) {
                log.error("ScheduledTask sendHeartbeatToAllBroker exception", e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        this.scheduledExecutorService.scheduleAtFixedRate(() -> {
            try {
                MQClientInstance.this.persistAllConsumerOffset();
            } catch (Exception e) {
                log.error("ScheduledTask persistAllConsumerOffset exception", e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        this.scheduledExecutorService.scheduleAtFixedRate(() -> {
            try {
                MQClientInstance.this.adjustThreadPool();
            } catch (Exception e) {
                log.error("ScheduledTask adjustThreadPool exception", e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientInstance` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
            this.rebalanceService.wakeup();
        } else {
            this.scheduledExecutorService.schedule(MQClientInstance.this.rebalanceService::wakeup, delayMillis, TimeUnit.MILLISECONDS);
        }
    }
```

### UnnecessaryQualifierForThis
Qualifier `ConsumeMessagePopConcurrentlyService` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
            log.warn(String.format("consumeMessageDirectly exception: %s Group: %s Msgs: %s MQ: %s",
                UtilAll.exceptionSimpleDesc(e),
                ConsumeMessagePopConcurrentlyService.this.consumerGroup,
                msgs,
                mq), e);
```

### UnnecessaryQualifierForThis
Qualifier `MQClientAPIImpl` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
    ) throws RemotingException, MQBrokerException, InterruptedException {
        final RemotingCommand request = RemotingCommand.createRequestCommand(RequestCode.ACK_MESSAGE, requestHeader);
        this.remotingClient.invokeAsync(addr, request, timeOut, new BaseInvokeCallback(MQClientAPIImpl.this) {

            @Override
```

### UnnecessaryQualifierForThis
Qualifier `MQClientAPIImpl` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
    ) throws RemotingException, InterruptedException {
        final RemotingCommand request = RemotingCommand.createRequestCommand(RequestCode.POP_MESSAGE, requestHeader);
        this.remotingClient.invokeAsync(addr, request, timeoutMillis, new BaseInvokeCallback(MQClientAPIImpl.this) {
            @Override
            public void onComplete(ResponseFuture responseFuture) {
```

### UnnecessaryQualifierForThis
Qualifier `MQClientAPIImpl` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
    ) throws RemotingException, MQBrokerException, InterruptedException {
        final RemotingCommand request = RemotingCommand.createRequestCommand(RequestCode.CHANGE_MESSAGE_INVISIBLETIME, requestHeader);
        this.remotingClient.invokeAsync(addr, request, timeoutMillis, new BaseInvokeCallback(MQClientAPIImpl.this) {
            @Override
            public void onComplete(ResponseFuture responseFuture) {
```

### UnnecessaryQualifierForThis
Qualifier `ConsumeMessageConcurrentlyService` on 'this' is unnecessary in this context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
            log.warn(String.format("consumeMessageDirectly exception: %s Group: %s Msgs: %s MQ: %s",
                UtilAll.exceptionSimpleDesc(e),
                ConsumeMessageConcurrentlyService.this.consumerGroup,
                msgs,
                mq), e);
```

### UnnecessaryQualifierForThis
Qualifier `PutResultProcess` on 'this' is unnecessary in this context
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
            this.future.exceptionally(e -> {
                log.error("ScheduleMessageService put message exceptionally, info: {}",
                    PutResultProcess.this.toString(), e);

                onException();
```

### UnnecessaryQualifierForThis
Qualifier `NotificationProcessor` on 'this' is unnecessary in this context
in `broker/src/main/java/org/apache/rocketmq/broker/processor/NotificationProcessor.java`
#### Snippet
```java
        }
        Runnable run = () -> {
            final RemotingCommand response = NotificationProcessor.this.responseNotification(request.getChannel(), hasMsg);
            if (response != null) {
                response.setOpaque(request.getRemotingCommand().getOpaque());
```

### UnnecessaryQualifierForThis
Qualifier `PullMessageProcessor` on 'this' is unnecessary in this context
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
        Runnable run = () -> {
            try {
                final RemotingCommand response = PullMessageProcessor.this.processRequest(channel, request, false);

                if (response != null) {
```

## RuleId[ruleID=ObjectNotify]
### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        if (needNotify) {
            synchronized (this) {
                this.notify();
            }
        }
```

### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
            if (!this.hasNotified) {
                this.hasNotified = true;
                this.notify();
            }
        }
```

## RuleId[ruleID=FinalPrivateMethod]
### FinalPrivateMethod
'private' method declared `final`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
    };

    private static final boolean jjCanMove_0(int hiByte, int i1, int i2, long l1, long l2) {
        switch (hiByte) {
            case 0:
```

## RuleId[ruleID=SizeReplaceableByIsEmpty]
### SizeReplaceableByIsEmpty
`elements.size() == 0` can be replaced with 'elements.isEmpty()'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
        // Use a HashSet if there are many elements.
        Collection<Object> t;
        if (elements.size() == 0) {
            t = null;
        } else if (elements.size() < 5) {
```

### SizeReplaceableByIsEmpty
`tags.length() > 0` can be replaced with '!tags.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

                String tags = propertiesMap.get(MessageConst.PROPERTY_TAGS);
                if (tags != null && tags.length() > 0) {
                    tagsCode = MessageExtBrokerInner.tagsString2tagsCode(MessageExt.parseTopicFilterType(sysFlag), tags);
                }
```

### SizeReplaceableByIsEmpty
`keys.length() > 0` can be replaced with '!keys.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
            }

            if (keys != null && keys.length() > 0) {
                String[] keyset = keys.split(MessageConst.KEY_SEPARATOR);
                for (int i = 0; i < keyset.length; i++) {
```

### SizeReplaceableByIsEmpty
`key.length() > 0` can be replaced with '!key.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
                for (int i = 0; i < keyset.length; i++) {
                    String key = keyset[i];
                    if (key.length() > 0) {
                        indexFile = putKey(indexFile, msg, buildKey(topic, key));
                        if (indexFile == null) {
```

### SizeReplaceableByIsEmpty
`plugin.trim().length() != 0` can be replaced with '!plugin.trim().isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/plugin/MessageStoreFactory.java`
#### Snippet
```java
        MessageStore messageStore) throws IOException {
        String plugin = context.getBrokerConfig().getMessageStorePlugIn();
        if (plugin != null && plugin.trim().length() != 0) {
            String[] pluginClasses = plugin.split(",");
            for (int i = pluginClasses.length - 1; i >= 0; --i) {
```

### SizeReplaceableByIsEmpty
`dLedgerFileList.getMappedFiles().size() > 0` can be replaced with '!dLedgerFileList.getMappedFiles().isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
    private void recover(long maxPhyOffsetOfConsumeQueue) {
        dLedgerFileStore.load();
        if (dLedgerFileList.getMappedFiles().size() > 0) {
            dLedgerFileStore.recover();
            dividedCommitlogOffset = dLedgerFileList.getFirstMappedFile().getFileFromOffset();
```

### SizeReplaceableByIsEmpty
`dataVersionList.size() > 0` can be replaced with '!dataVersionList.isEmpty()'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
        if (dataVersions != null) {
            List<Map<String, Object>> dataVersionList = (List<Map<String, Object>>) dataVersions;
            if (dataVersionList.size() > 0) {
                dataVersion.setTimestamp((long) dataVersionList.get(0).get("timestamp"));
                dataVersion.setCounter(new AtomicLong(Long.parseLong(dataVersionList.get(0).get("counter").toString())));
```

### SizeReplaceableByIsEmpty
`globalWhiteRemoteAddressStrategyList.size() > 0` can be replaced with '!globalWhiteRemoteAddressStrategyList.isEmpty()'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
                }
            }
            if (globalWhiteRemoteAddressStrategyList.size() > 0) {
                globalWhiteRemoteAddressStrategyMap.put(currentFile, globalWhiteRemoteAddressStrategyList);
                globalWhiteRemoteAddressStrategy.addAll(globalWhiteRemoteAddressStrategyList);
```

### SizeReplaceableByIsEmpty
`plainAccessResourceMap.size() > 0` can be replaced with '!plainAccessResourceMap.isEmpty()'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
                }
            }
            if (plainAccessResourceMap.size() > 0) {
                aclPlainAccessResourceMap.put(currentFile, plainAccessResourceMap);
            }
```

### SizeReplaceableByIsEmpty
`accountMap.size() == 0` can be replaced with 'accountMap.isEmpty()'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
                accountMap = new HashMap<>(1);
                accountMap.put(plainAccessConfig.getAccessKey(), buildPlainAccessResource(plainAccessConfig));
            } else if (accountMap.size() == 0) {
                accountMap.put(plainAccessConfig.getAccessKey(), buildPlainAccessResource(plainAccessConfig));
            } else {
```

### SizeReplaceableByIsEmpty
`aclPlainAccessResourceMap.get(defaultAclFile).size() == 0` can be replaced with 'aclPlainAccessResourceMap.get(defaultAclFile).isEmpty()'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
            String fileName = MixAll.dealFilePath(defaultAclFile);
            //Create acl access config elements on the default acl file
            if (aclPlainAccessResourceMap.get(defaultAclFile) == null || aclPlainAccessResourceMap.get(defaultAclFile).size() == 0) {
                try {
                    File defaultAclFile = new File(fileName);
```

### SizeReplaceableByIsEmpty
`dequeuePutQueue.size() > 0` can be replaced with '!dequeuePutQueue.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        int checkNum = 0;
        while (true) {
            if (dequeuePutQueue.size() > 0
                || !checkStateForGetMessages(AbstractStateService.WAITING)
                || !checkStateForPutMessages(AbstractStateService.WAITING)) {
```

### SizeReplaceableByIsEmpty
`currList.size() > 0` can be replaced with '!currList.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            if (fileIndexPy != tr.getOffsetPy() / commitLogFileSize) {
                msgIndex = 0;
                if (null != currList && currList.size() > 0) {
                    lists.add(currList);
                }
```

### SizeReplaceableByIsEmpty
`currList.size() > 0` can be replaced with '!currList.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            }
        }
        if (null != currList && currList.size() > 0) {
            lists.add(currList);
        }
```

### SizeReplaceableByIsEmpty
`deleteMsgStack.size() == 0` can be replaced with 'deleteMsgStack.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                }
            }
            if (deleteMsgStack.size() == 0 && normalMsgStack.size() == 0) {
                LOGGER.warn("dequeue time:{} but read nothing from timerlog", currReadTimeMs);
            }
```

### SizeReplaceableByIsEmpty
`normalMsgStack.size() == 0` can be replaced with 'normalMsgStack.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                }
            }
            if (deleteMsgStack.size() == 0 && normalMsgStack.size() == 0) {
                LOGGER.warn("dequeue time:{} but read nothing from timerlog", currReadTimeMs);
            }
```

### SizeReplaceableByIsEmpty
`trs.size() == 0` can be replaced with 'trs.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                    setState(AbstractStateService.WAITING);
                    List<TimerRequest> trs = dequeueGetQueue.poll(100 * precisionMs / 1000, TimeUnit.MILLISECONDS);
                    if (null == trs || trs.size() == 0) {
                        continue;
                    }
```

### SizeReplaceableByIsEmpty
`tr.getDeleteList().size() > 0` can be replaced with '!tr.getDeleteList().isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                                        LOGGER.warn("No uniqkey for msg:{}", msgExt);
                                    }
                                    if (null != uniqkey && tr.getDeleteList() != null && tr.getDeleteList().size() > 0 && tr.getDeleteList().contains(uniqkey)) {
                                        doRes = true;
                                        tr.idempotentRelease();
```

### SizeReplaceableByIsEmpty
`dequeuePutQueue.size() != 0` can be replaced with '!dequeuePutQueue.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            setState(AbstractStateService.START);
            TimerMessageStore.LOGGER.info(this.getServiceName() + " service start");
            while (!this.isStopped() || dequeuePutQueue.size() != 0) {
                try {
                    setState(AbstractStateService.WAITING);
```

### SizeReplaceableByIsEmpty
`enqueuePutQueue.size() != 0` can be replaced with '!enqueuePutQueue.isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        public void run() {
            TimerMessageStore.LOGGER.info(this.getServiceName() + " service start");
            while (!this.isStopped() || enqueuePutQueue.size() != 0) {
                try {
                    long tmpCommitQueueOffset = currQueueOffset;
```

### SizeReplaceableByIsEmpty
`keysList.size() > 0` can be replaced with '!keysList.isEmpty()'
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
            userPropertySize += key.getBytes(StandardCharsets.UTF_8).length;
        }
        if (keysList.size() > 0) {
            messageWithHeader.setKeys(keysList);
        }
```

### SizeReplaceableByIsEmpty
`inFlightRequestMap.size() > 0` can be replaced with '!inFlightRequestMap.isEmpty()'
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/InvocationChannel.java`
#### Snippet
```java
    @Override
    public boolean isWritable() {
        return inFlightRequestMap.size() > 0;
    }

```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerProcessor.java`
#### Snippet
```java

        String content = this.brokerContainer.getConfiguration().getAllConfigsFormatString();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`clientHookList.size() > 0` can be replaced with '!clientHookList.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientImpl.java`
#### Snippet
```java
    @Override
    public Future<RpcResponse>  invoke(RpcRequest request, long timeoutMs) throws RpcException {
        if (clientHookList.size() > 0) {
            for (RpcClientHook rpcClientHook: clientHookList) {
                RpcResponse response = rpcClientHook.beforeRequest(request);
```

### SizeReplaceableByIsEmpty
`queueDatas.size() > 0` can be replaced with '!queueDatas.isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
                String topic = topicEntry.getKey();
                Map<String, QueueData> queueDatas = topicEntry.getValue();
                if (queueDatas != null && queueDatas.size() > 0
                    && TopicSysFlag.hasUnitFlag(queueDatas.values().iterator().next().getTopicSysFlag())) {
                    topicList.getTopicList().add(topic);
```

### SizeReplaceableByIsEmpty
`queueDatas.size() > 0` can be replaced with '!queueDatas.isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
                String topic = topicEntry.getKey();
                Map<String, QueueData> queueDatas = topicEntry.getValue();
                if (queueDatas != null && queueDatas.size() > 0
                    && !TopicSysFlag.hasUnitFlag(queueDatas.values().iterator().next().getTopicSysFlag())
                    && TopicSysFlag.hasUnitSubFlag(queueDatas.values().iterator().next().getTopicSysFlag())) {
```

### SizeReplaceableByIsEmpty
`brokerData.getBrokerAddrs().size() == 0` can be replaced with 'brokerData.getBrokerAddrs().isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
        }

        if (brokerData.getBrokerAddrs().size() == 0) {
            return true;
        }
```

### SizeReplaceableByIsEmpty
`queueDatas.size() > 0` can be replaced with '!queueDatas.isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
                String topic = topicEntry.getKey();
                Map<String, QueueData> queueDatas = topicEntry.getValue();
                if (queueDatas != null && queueDatas.size() > 0
                    && TopicSysFlag.hasUnitSubFlag(queueDatas.values().iterator().next().getTopicSysFlag())) {
                    topicList.getTopicList().add(topic);
```

### SizeReplaceableByIsEmpty
`topicRouteData.getBrokerDatas().size() == 0` can be replaced with 'topicRouteData.getBrokerDatas().isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
            }

            if (topicRouteData.getBrokerDatas().size() == 0 || topicRouteData.getQueueDatas().size() == 0) {
                return topicRouteData;
            }
```

### SizeReplaceableByIsEmpty
`topicRouteData.getQueueDatas().size() == 0` can be replaced with 'topicRouteData.getQueueDatas().isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
            }

            if (topicRouteData.getBrokerDatas().size() == 0 || topicRouteData.getQueueDatas().size() == 0) {
                return topicRouteData;
            }
```

### SizeReplaceableByIsEmpty
`brokerData.getBrokerAddrs().size() != 0` can be replaced with '!brokerData.getBrokerAddrs().isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java

            for (final BrokerData brokerData : topicRouteData.getBrokerDatas()) {
                if (brokerData.getBrokerAddrs().size() != 0
                    && !brokerData.getBrokerAddrs().containsKey(MixAll.MASTER_ID)) {
                    needActingMaster = true;
```

### SizeReplaceableByIsEmpty
`brokerAddrs.size() == 0` can be replaced with 'brokerAddrs.isEmpty()'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
            for (final BrokerData brokerData : topicRouteData.getBrokerDatas()) {
                final HashMap<Long, String> brokerAddrs = brokerData.getBrokerAddrs();
                if (brokerAddrs.size() == 0 || brokerAddrs.containsKey(MixAll.MASTER_ID) || !brokerData.isEnableActingMaster()) {
                    continue;
                }
```

### SizeReplaceableByIsEmpty
`addr.length() > 0` can be replaced with '!addr.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
        final String addr = remote != null ? remote.toString() : "";

        if (addr.length() > 0) {
            int index = addr.lastIndexOf("/");
            if (index >= 0) {
```

### SizeReplaceableByIsEmpty
`cmd.getRemark().length() > 0` can be replaced with '!cmd.getRemark().isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
        byte[] remarkBytes = null;
        int remarkLen = 0;
        if (cmd.getRemark() != null && cmd.getRemark().length() > 0) {
            remarkBytes = cmd.getRemark().getBytes(CHARSET_UTF8);
            remarkLen = remarkBytes.length;
```

### SizeReplaceableByIsEmpty
`rpcHooks.size() > 0` can be replaced with '!rpcHooks.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingAbstract.java`
#### Snippet
```java

    public void doAfterRpcHooks(String addr, RemotingCommand request, RemotingCommand response) {
        if (rpcHooks.size() > 0) {
            for (RPCHook rpcHook : rpcHooks) {
                rpcHook.doAfterResponse(addr, request, response);
```

### SizeReplaceableByIsEmpty
`rpcHooks.size() > 0` can be replaced with '!rpcHooks.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingAbstract.java`
#### Snippet
```java

    protected void doBeforeRpcHooks(String addr, RemotingCommand request) {
        if (rpcHooks.size() > 0) {
            for (RPCHook rpcHook : rpcHooks) {
                rpcHook.doBeforeRequest(addr, request);
```

### SizeReplaceableByIsEmpty
`subString.length() == 0` can be replaced with 'subString.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/filter/FilterAPI.java`
#### Snippet
```java
        subscriptionData.setSubString(subString);

        if (null == subString || subString.equals(SubscriptionData.SUB_ALL) || subString.length() == 0) {
            subscriptionData.setSubString(SubscriptionData.SUB_ALL);
        } else {
```

### SizeReplaceableByIsEmpty
`tag.length() > 0` can be replaced with '!tag.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/filter/FilterAPI.java`
#### Snippet
```java
            if (tags.length > 0) {
                for (String tag : tags) {
                    if (tag.length() > 0) {
                        String trimString = tag.trim();
                        if (trimString.length() > 0) {
```

### SizeReplaceableByIsEmpty
`trimString.length() > 0` can be replaced with '!trimString.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/filter/FilterAPI.java`
#### Snippet
```java
                    if (tag.length() > 0) {
                        String trimString = tag.trim();
                        if (trimString.length() > 0) {
                            subscriptionData.getTagsSet().add(trimString);
                            subscriptionData.getCodeSet().add(trimString.hashCode());
```

### SizeReplaceableByIsEmpty
`startOffsetInfo.length() == 0` can be replaced with 'startOffsetInfo.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java

    public static Map<String, Long> parseStartOffsetInfo(String startOffsetInfo) {
        if (startOffsetInfo == null || startOffsetInfo.length() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`msgOffsetInfo.length() == 0` can be replaced with 'msgOffsetInfo.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java

    public static Map<String, List<Long>> parseMsgOffsetInfo(String msgOffsetInfo) {
        if (msgOffsetInfo == null || msgOffsetInfo.length() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`orderCountInfo.length() == 0` can be replaced with 'orderCountInfo.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java

    public static Map<String, Integer> parseOrderCountInfo(String orderCountInfo) {
        if (orderCountInfo == null || orderCountInfo.length() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`jsonString.length() == 0` can be replaced with 'jsonString.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/ConfigManager.java`
#### Snippet
```java
            String jsonString = MixAll.file2String(fileName);

            if (null == jsonString || jsonString.length() == 0) {
                return this.loadBak();
            } else {
```

### SizeReplaceableByIsEmpty
`jsonString.length() > 0` can be replaced with '!jsonString.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/ConfigManager.java`
#### Snippet
```java
            fileName = this.configFilePath();
            String jsonString = MixAll.file2String(fileName + ".bak");
            if (jsonString != null && jsonString.length() > 0) {
                this.decode(jsonString);
                log.info("load " + fileName + " OK");
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `controller/src/main/java/org/apache/rocketmq/controller/processor/ControllerRequestProcessor.java`
#### Snippet
```java

        String content = this.controllerManager.getConfiguration().getAllConfigsFormatString();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`brokerNames.size() > 0` can be replaced with '!brokerNames.isEmpty()'
in `controller/src/main/java/org/apache/rocketmq/controller/processor/ControllerRequestProcessor.java`
#### Snippet
```java
                if (request.getBody() != null) {
                    final List<String> brokerNames = RemotingSerializable.decode(request.getBody(), List.class);
                    if (brokerNames != null && brokerNames.size() > 0) {
                        final CompletableFuture<RemotingCommand> future = this.controllerManager.getController().getSyncStateData(brokerNames);
                        if (future != null) {
```

### SizeReplaceableByIsEmpty
`this.csListDay.size() == 0` can be replaced with 'this.csListDay.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
    public void samplingInHour() {
        synchronized (this.csListDay) {
            if (this.csListDay.size() == 0) {
                this.csListDay.add(new CallSnapshot(System.currentTimeMillis() - 1 * 60 * 60 * 1000, 0, 0));
            }
```

### SizeReplaceableByIsEmpty
`this.csListMinute.size() == 0` can be replaced with 'this.csListMinute.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
    public void samplingInSeconds() {
        synchronized (this.csListMinute) {
            if (this.csListMinute.size() == 0) {
                this.csListMinute.add(new CallSnapshot(System.currentTimeMillis() - 10 * 1000, 0, 0));
            }
```

### SizeReplaceableByIsEmpty
`this.csListHour.size() == 0` can be replaced with 'this.csListHour.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
    public void samplingInMinutes() {
        synchronized (this.csListHour) {
            if (this.csListHour.size() == 0) {
                this.csListHour.add(new CallSnapshot(System.currentTimeMillis() - 10 * 60 * 1000, 0, 0));
            }
```

### SizeReplaceableByIsEmpty
`attributes.size() == 0` can be replaced with 'attributes.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/utils/CleanupPolicyUtils.java`
#### Snippet
```java

        Map<String, String> attributes = topicConfig.get().getAttributes();
        if (attributes == null || attributes.size() == 0) {
            return CleanupPolicy.valueOf(TopicAttributes.CLEANUP_POLICY_ATTRIBUTE.getDefaultValue());
        }
```

### SizeReplaceableByIsEmpty
`processName.length() > 0` can be replaced with '!processName.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
    public static long getPID() {
        String processName = java.lang.management.ManagementFactory.getRuntimeMXBean().getName();
        if (processName != null && processName.length() > 0) {
            try {
                return Long.parseLong(processName.split("@")[0]);
```

### SizeReplaceableByIsEmpty
`attributes.size() == 0` can be replaced with 'attributes.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/utils/QueueTypeUtils.java`
#### Snippet
```java

        Map<String, String> attributes = topicConfig.get().getAttributes();
        if (attributes == null || attributes.size() == 0) {
            return CQType.valueOf(TopicAttributes.QUEUE_TYPE_ATTRIBUTE.getDefaultValue());
        }
```

### SizeReplaceableByIsEmpty
`messages.size() > 0` can be replaced with '!messages.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageBatch.java`
#### Snippet
```java
    public static MessageBatch generateFromList(Collection<? extends Message> messages) {
        assert messages != null;
        assert messages.size() > 0;
        List<Message> messageList = new ArrayList<>(messages.size());
        Message first = null;
```

### SizeReplaceableByIsEmpty
`tags.length() == 0` can be replaced with 'tags.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExtBrokerInner.java`
#### Snippet
```java

    public static long tagsString2tagsCode(final TopicFilterType filter, final String tags) {
        if (null == tags || tags.length() == 0) { return 0; }

        return tags.hashCode();
```

### SizeReplaceableByIsEmpty
`items.size() > 0` can be replaced with '!items.isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }
    public static LogicQueueMappingItem getLeaderItem(List<LogicQueueMappingItem> items) {
        assert items.size() > 0;
        return items.get(items.size() - 1);
    }
```

### SizeReplaceableByIsEmpty
`tags.length() > 0` can be replaced with '!tags.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/message/Message.java`
#### Snippet
```java
        this.body = body;

        if (tags != null && tags.length() > 0) {
            this.setTags(tags);
        }
```

### SizeReplaceableByIsEmpty
`keys.length() > 0` can be replaced with '!keys.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/message/Message.java`
#### Snippet
```java
        }

        if (keys != null && keys.length() > 0) {
            this.setKeys(keys);
        }
```

### SizeReplaceableByIsEmpty
`groupSysFlagString.length() > 0` can be replaced with '!groupSysFlagString.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
    public Integer getGroupSysFlag() {
        String groupSysFlagString = getProperty(MessageConst.PROPERTY_TRANSIENT_GROUP_CONFIG);
        if (groupSysFlagString != null && groupSysFlagString.length() > 0) {
            return Integer.valueOf(groupSysFlagString);
        }
```

### SizeReplaceableByIsEmpty
`topicSysFlagString.length() > 0` can be replaced with '!topicSysFlagString.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
    public Integer getTopicSysFlag() {
        String topicSysFlagString = getProperty(MessageConst.PROPERTY_TRANSIENT_TOPIC_CONFIG);
        if (topicSysFlagString != null && topicSysFlagString.length() > 0) {
            return Integer.valueOf(topicSysFlagString);
        }
```

### SizeReplaceableByIsEmpty
`para.size() > 0` can be replaced with '!para.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/namesrv/DefaultTopAddressing.java`
#### Snippet
```java
        String url = this.wsAddr;
        try {
            if (null != para && para.size() > 0) {
                if (!UtilAll.isBlank(this.unitName)) {
                    url = url + "-" + this.unitName + "?nofix=1&";
```

### SizeReplaceableByIsEmpty
`attributes.size() == 0` can be replaced with 'attributes.isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/attribute/AttributeParser.java`
#### Snippet
```java

    public static String parseToString(Map<String, String> attributes) {
        if (attributes == null || attributes.size() == 0) {
            return "";
        }
```

### SizeReplaceableByIsEmpty
`messageList.size() > 0` can be replaced with '!messageList.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
                            if (msgExt.getMsgId().equals(key)) {

                                if (messageList.size() > 0) {

                                    if (messageList.get(0).getStoreTimestamp() > msgExt.getStoreTimestamp()) {
```

### SizeReplaceableByIsEmpty
`qr.getMessageList().size() > 0` can be replaced with '!qr.getMessageList().isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
        String uniqKey, long begin, long end) throws InterruptedException, MQClientException {
        QueryResult qr = this.queryMessage(clusterName, topic, uniqKey, 32, begin, end, true);
        if (qr != null && qr.getMessageList() != null && qr.getMessageList().size() > 0) {
            return qr.getMessageList().get(0);
        } else {
```

### SizeReplaceableByIsEmpty
`route.getOrderTopicConf().length() > 0` can be replaced with '!route.getOrderTopicConf().isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        // TO DO should check the usage of raw route, it is better to remove such field
        info.setTopicRouteData(route);
        if (route.getOrderTopicConf() != null && route.getOrderTopicConf().length() > 0) {
            String[] brokers = route.getOrderTopicConf().split(";");
            for (String broker : brokers) {
```

### SizeReplaceableByIsEmpty
`msgs.size() == 0` can be replaced with 'msgs.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java

        public boolean isPopTimeout() {
            if (msgs.size() == 0 || popTime <= 0 || invisibleTime <= 0) {
                return true;
            }
```

### SizeReplaceableByIsEmpty
`traceBeans.size() > 0` can be replaced with '!traceBeans.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceContext.java`
#### Snippet
```java
        sb.append(traceType).append("_").append(groupName)
            .append("_").append(regionId).append("_").append(isSuccess).append("_");
        if (traceBeans != null && traceBeans.size() > 0) {
            for (TraceBean bean : traceBeans) {
                sb.append(bean.getMsgId() + "_" + bean.getTopic() + "_");
```

### SizeReplaceableByIsEmpty
`str.length() > 0` can be replaced with '!str.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java

        String str = MixAll.properties2String(properties);
        if (str != null && str.length() > 0) {
            request.setBody(str.getBytes(MixAll.DEFAULT_CHARSET));
            RemotingCommand response = this.remotingClient
```

### SizeReplaceableByIsEmpty
`msgList.size() == 0` can be replaced with 'msgList.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java

    public void resetTopic(List<MessageExt> msgList) {
        if (null == msgList || msgList.size() == 0) {
            return;
        }
```

### SizeReplaceableByIsEmpty
`bean.getKeys().length() > 0` can be replaced with '!bean.getKeys().isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceDataEncoder.java`
#### Snippet
```java

            transferBean.getTransKey().add(bean.getMsgId());
            if (bean.getKeys() != null && bean.getKeys().length() > 0) {
                String[] keys = bean.getKeys().split(MessageConst.KEY_SEPARATOR);
                transferBean.getTransKey().addAll(Arrays.asList(keys));
```

### SizeReplaceableByIsEmpty
`popResult.getMsgFoundList().size() > 0` can be replaced with '!popResult.getMsgFoundList().isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
            List<MessageExt> msgListFilterAgain = msgFoundList;
            if (!subscriptionData.getTagsSet().isEmpty() && !subscriptionData.isClassFilterMode()
                && popResult.getMsgFoundList().size() > 0) {
                msgListFilterAgain = new ArrayList<>(popResult.getMsgFoundList().size());
                for (MessageExt msg : popResult.getMsgFoundList()) {
```

### SizeReplaceableByIsEmpty
`beans.size() > 0` can be replaced with '!beans.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/trace/hook/ConsumeMessageTraceHookImpl.java`
#### Snippet
```java
            beans.add(traceBean);
        }
        if (beans.size() > 0) {
            traceContext.setTraceBeans(beans);
            traceContext.setTimeStamp(System.currentTimeMillis());
```

### SizeReplaceableByIsEmpty
`traceContextQueue.size() == 0` can be replaced with 'traceContextQueue.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
            }
            synchronized (traceContextQueue) {
                if (traceContextQueue.size() == 0 && appenderQueue.size() == 0) {
                    break;
                }
```

### SizeReplaceableByIsEmpty
`appenderQueue.size() == 0` can be replaced with 'appenderQueue.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
            }
            synchronized (traceContextQueue) {
                if (traceContextQueue.size() == 0 && appenderQueue.size() == 0) {
                    break;
                }
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
            log.warn("Load local offset store bak file exception", e);
        }
        if (content != null && content.length() > 0) {
            OffsetSerializeWrapper offsetSerializeWrapper = null;
            try {
```

### SizeReplaceableByIsEmpty
`content.length() == 0` can be replaced with 'content.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
            log.warn("Load local offset store file exception", e);
        }
        if (null == content || content.length() == 0) {
            return this.readLocalOffsetBak();
        } else {
```

### SizeReplaceableByIsEmpty
`set1.size() == 0` can be replaced with 'set1.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

        if (set1 == null || set2 == null || set1.size() != set2.size()
            || set1.size() == 0 || set2.size() == 0) {
            return false;
        }
```

### SizeReplaceableByIsEmpty
`set2.size() == 0` can be replaced with 'set2.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

        if (set1 == null || set2 == null || set1.size() != set2.size()
            || set1.size() == 0 || set2.size() == 0) {
            return false;
        }
```

### SizeReplaceableByIsEmpty
`messageQueues.size() == 0` can be replaced with 'messageQueues.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

    public synchronized void commit(final Set<MessageQueue> messageQueues, boolean persist) {
        if (messageQueues == null || messageQueues.size() == 0) {
            return;
        }
```

### SizeReplaceableByIsEmpty
`messageQueues.size() == 0` can be replaced with 'messageQueues.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
     */
    public synchronized void commit(final Map<MessageQueue, Long> messageQueues, boolean persist) {
        if (messageQueues == null || messageQueues.size() == 0) {
            log.warn("MessageQueues is empty, Ignore this commit ");
            return;
```

### SizeReplaceableByIsEmpty
`msgList.size() == 0` can be replaced with 'msgList.isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

    private void resetTopic(List<MessageExt> msgList) {
        if (null == msgList || msgList.size() == 0) {
            return;
        }
```

### SizeReplaceableByIsEmpty
`fileList.size() > 0` can be replaced with '!fileList.isEmpty()'
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/AclFileWatchService.java`
#### Snippet
```java
                this.waitForRunning(WATCH_INTERVAL);

                if (fileList.size() > 0) {
                    fileList.clear();
                }
```

### SizeReplaceableByIsEmpty
`msgs.size() == 0` can be replaced with 'msgs.isEmpty()'
in `test/src/main/java/org/apache/rocketmq/test/util/VerifyUtils.java`
#### Snippet
```java
        int min = Integer.MIN_VALUE;
        int curr;
        if (msgs.size() == 0 || msgs.size() == 1) {
            return true;
        } else {
```

### SizeReplaceableByIsEmpty
`mappingItemList.size() > 0` can be replaced with '!mappingItemList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
        LogicQueueMappingItem leaderItem = null;
        if (mappingItemList != null
                && mappingItemList.size() > 0) {
            leaderItem = mappingItemList.get(mappingItemList.size() - 1);
        }
```

### SizeReplaceableByIsEmpty
`nameServerAddressList.size() > 0` can be replaced with '!nameServerAddressList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        requestHeader.setBrokerName(brokerName);

        if (nameServerAddressList != null && nameServerAddressList.size() > 0) {
            for (final String namesrvAddr : nameServerAddressList) {
                brokerOuterExecutor.execute(new AbstractBrokerRunnable(new BrokerIdentity(clusterName, brokerName, brokerId, isInBrokerContainer)) {
```

### SizeReplaceableByIsEmpty
`nameServerAddressList.size() > 0` can be replaced with '!nameServerAddressList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        final List<RegisterBrokerResult> registerBrokerResultList = new CopyOnWriteArrayList<>();
        List<String> nameServerAddressList = this.remotingClient.getAvailableNameSrvList();
        if (nameServerAddressList != null && nameServerAddressList.size() > 0) {

            final RegisterBrokerRequestHeader requestHeader = new RegisterBrokerRequestHeader();
```

### SizeReplaceableByIsEmpty
`nameServerAddressList.size() > 0` can be replaced with '!nameServerAddressList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        final List<Boolean> changedList = new CopyOnWriteArrayList<>();
        List<String> nameServerAddressList = this.remotingClient.getNameServerAddressList();
        if (nameServerAddressList != null && nameServerAddressList.size() > 0) {
            final CountDownLatch countDownLatch = new CountDownLatch(nameServerAddressList.size());
            for (final String namesrvAddr : nameServerAddressList) {
```

### SizeReplaceableByIsEmpty
`nameServerAddressList.size() > 0` can be replaced with '!nameServerAddressList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
            final boolean isInBrokerContainer) {
        List<String> nameServerAddressList = this.remotingClient.getAvailableNameSrvList();
        if (nameServerAddressList != null && nameServerAddressList.size() > 0) {
            final QueryDataVersionRequestHeader requestHeader = new QueryDataVersionRequestHeader();
            requestHeader.setBrokerAddr(brokerAddr);
```

### SizeReplaceableByIsEmpty
`expression.length() == 0` can be replaced with 'expression.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
        }

        if (expression == null || expression.length() == 0) {
            return false;
        }
```

### SizeReplaceableByIsEmpty
`brokerMemberGroup.getBrokerAddrs().size() == 0` can be replaced with 'brokerMemberGroup.getBrokerAddrs().isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
            return;
        }
        if (brokerMemberGroup == null || brokerMemberGroup.getBrokerAddrs().size() == 0) {
            BrokerController.LOG.warn("Couldn't find any broker member from namesrv in {}/{}", this.brokerConfig.getBrokerClusterName(), this.brokerConfig.getBrokerName());
            return;
```

### SizeReplaceableByIsEmpty
`sortList.size() != 0` can be replaced with '!sortList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
        ArrayList<PopCheckPoint> sortList = consumeReviveObj.genSortList();
        POP_LOGGER.info("reviveQueueId={},ck listSize={}", queueId, sortList.size());
        if (sortList.size() != 0) {
            POP_LOGGER.info("reviveQueueId={}, 1st ck, startOffset={}, reviveOffset={} ; last ck, startOffset={}, reviveOffset={}", queueId, sortList.get(0).getStartOffset(),
                sortList.get(0).getReviveOffset(), sortList.get(sortList.size() - 1).getStartOffset(), sortList.get(sortList.size() - 1).getReviveOffset());
```

### SizeReplaceableByIsEmpty
`this.buffer.size() == 0` can be replaced with 'this.buffer.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
                this.waitForRunning(interval);

                if (!this.serving && this.buffer.size() == 0 && totalSize() == 0) {
                    this.serving = true;
                }
```

### SizeReplaceableByIsEmpty
`this.buffer.size() > 0` can be replaced with '!this.buffer.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
            return;
        }
        while (this.buffer.size() > 0 || totalSize() > 0) {
            scan();
        }
```

### SizeReplaceableByIsEmpty
`foundList.size() == 0` can be replaced with 'foundList.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageBridge.java`
#### Snippet
```java
                        getMessageResult.getBufferTotalSize());
                    this.brokerController.getBrokerStatsManager().incBrokerGetNums(getMessageResult.getMessageCount());
                    if (foundList == null || foundList.size() == 0) {
                        break;
                    }
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java

        String content = this.brokerController.getQueryAssignmentProcessor().getMessageRequestModeManager().encode();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);
        String content = this.brokerController.getSubscriptionGroupManager().encode();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java

        String content = this.brokerController.getConsumerOffsetManager().encode();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java

        String content = topicConfigAndMappingSerializeWrapper.toJson();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java

        String content = this.brokerController.getConfiguration().getAllConfigsFormatString();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`content.length() > 0` can be replaced with '!content.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java

        String content = this.brokerController.getScheduleMessageService().encode();
        if (content != null && content.length() > 0) {
            try {
                response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### SizeReplaceableByIsEmpty
`requestHeader.getExp().length() > 0` can be replaced with '!requestHeader.getExp().isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java

        ExpressionMessageFilter messageFilter = null;
        if (requestHeader.getExp() != null && requestHeader.getExp().length() > 0) {
            try {
                SubscriptionData subscriptionData = FilterAPI.build(requestHeader.getTopic(), requestHeader.getExp(), requestHeader.getExpType());
```

### SizeReplaceableByIsEmpty
`msg.size() == 0` can be replaced with 'msg.isEmpty()'
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java

    private static void printBody(List<MessageExt> msg) {
        if (msg == null || msg.size() == 0)
            return;
        for (MessageExt m : msg) {
```

### SizeReplaceableByIsEmpty
`mqContext.getContextQueue().size() == 0` can be replaced with 'mqContext.getContextQueue().isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
                MessageQueueOpContext mqContext = entry.getValue();
                //no msg in contextQueue
                if (mqContext.getTotalSize().get() <= 0 || mqContext.getContextQueue().size() == 0 ||
                        // wait for the interval
                        mqContext.getTotalSize().get() < maxSize &&
```

### SizeReplaceableByIsEmpty
`set.size() > 0` can be replaced with '!set.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
            }

            if (set.size() > 0) {
                opMsgMap.put(opMessageExt.getQueueOffset(), set);
            } else {
```

### SizeReplaceableByIsEmpty
`messageExts.size() == 0` can be replaced with 'messageExts.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
            getResult.setPullResult(result);
            List<MessageExt> messageExts = result.getMsgFoundList();
            if (messageExts == null || messageExts.size() == 0) {
                return getResult;
            }
```

### SizeReplaceableByIsEmpty
`msgQueues.size() == 0` can be replaced with 'msgQueues.isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
            String topic = TopicValidator.RMQ_SYS_TRANS_HALF_TOPIC;
            Set<MessageQueue> msgQueues = transactionalMessageBridge.fetchMessageQueues(topic);
            if (msgQueues == null || msgQueues.size() == 0) {
                log.warn("The queue of topic is empty :" + topic);
                return;
```

### SizeReplaceableByIsEmpty
`opMsgMap.get(removedOpOffset).size() == 0` can be replaced with 'opMsgMap.get(removedOpOffset).isEmpty()'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
                        Long removedOpOffset = removeMap.remove(i);
                        opMsgMap.get(removedOpOffset).remove(i);
                        if (opMsgMap.get(removedOpOffset).size() == 0) {
                            opMsgMap.remove(removedOpOffset);
                            doneOpOffset.add(removedOpOffset);
```

## RuleId[ruleID=TrivialStringConcatenation]
### TrivialStringConcatenation
Empty string used in concatenation
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    private MessageExtBrokerInner convert(MessageExt messageExt, long enqueueTime, boolean needRoll) {
        if (enqueueTime != -1) {
            MessageAccessor.putProperty(messageExt, TIMER_ENQUEUE_MS, enqueueTime + "");
        }
        if (needRoll) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        if (needRoll) {
            if (messageExt.getProperty(TIMER_ROLL_TIMES) != null) {
                MessageAccessor.putProperty(messageExt, TIMER_ROLL_TIMES, Integer.parseInt(messageExt.getProperty(TIMER_ROLL_TIMES)) + 1 + "");
            } else {
                MessageAccessor.putProperty(messageExt, TIMER_ROLL_TIMES, 1 + "");
```

### TrivialStringConcatenation
Empty string used in concatenation
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            }
        }
        MessageAccessor.putProperty(messageExt, TIMER_DEQUEUE_MS, System.currentTimeMillis() + "");
        MessageExtBrokerInner message = convertMessage(messageExt, needRoll);
        return message;
```

### TrivialStringConcatenation
Empty string used in concatenation
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java

                preType = Type.PARENTHESIS;
                segments.add(createOperator((char) chValue + ""));
            } else if (38 == chValue || 124 == chValue) {

```

### TrivialStringConcatenation
Empty string used in concatenation
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
                        }

                        strBQueue.get(msgQueueListIndex).append("" + msgQueueListIndex + "\t" +
                            msgIdMap.get(lQueueList.get(msgQueueListIndex).get(msgListIndex)) + "\t"
                            + lQueueList.get(msgQueueListIndex).get(msgListIndex) + "\r\n");
```

### TrivialStringConcatenation
Empty string used in concatenation
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
                int ordinal = ((Enum<?>)enumObject).ordinal();
                String key = String.format("Field %s", name);
                String value = String.format("%s %s %s", "public", "int", "" + ordinal);
                map.put(key, value);
            }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `broker/src/main/java/org/apache/rocketmq/broker/util/HookUtils.java`
#### Snippet
```java
                return new PutMessageResult(PutMessageStatus.WHEEL_TIMER_FLOW_CONTROL, null);
            }
            MessageAccessor.putProperty(msg, MessageConst.PROPERTY_TIMER_OUT_MS, deliverMs + "");
            MessageAccessor.putProperty(msg, MessageConst.PROPERTY_REAL_TOPIC, msg.getTopic());
            MessageAccessor.putProperty(msg, MessageConst.PROPERTY_REAL_QUEUE_ID, String.valueOf(msg.getQueueId()));
```

## RuleId[ruleID=FinalStaticMethod]
### FinalStaticMethod
'static' method declared `final`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
     * equivalents in the given string
     */
    protected static final String addEscapes(String str) {
        StringBuilder retval = new StringBuilder();
        char ch;
```

### FinalStaticMethod
'static' method declared `final`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
    };

    private static final boolean jjCanMove_0(int hiByte, int i1, int i2, long l1, long l2) {
        switch (hiByte) {
            case 0:
```

## RuleId[ruleID=ExplicitArrayFilling]
### ExplicitArrayFilling
Can be replaced with single 'Arrays.fill()' method call
in `filter/src/main/java/org/apache/rocketmq/filter/util/BitsArray.java`
#### Snippet
```java
        }
        bytes = new byte[temp];
        for (int i = 0; i < bytes.length; i++) {
            bytes[i] = (byte) 0x00;
        }
```

## RuleId[ruleID=IgnoreResultOfCall]
### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `store/src/main/java/org/apache/rocketmq/store/MultiPathMappedFileQueue.java`
#### Snippet
```java
            File file = new File(path);
            if (file.isDirectory()) {
                file.delete();
            }
        }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
        File file = new File(storePath);
        if (file.isDirectory()) {
            file.delete();
        }
    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMetrics.java`
#### Snippet
```java
            if (configFile.exists()) {
                Files.copy(configFile, new File(backup));
                configFile.delete();
            }

```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMetrics.java`
#### Snippet
```java
            }

            tmpFile.renameTo(configFile);
        } catch (IOException e) {
            log.error("Failed to persist {}", temp, e);
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
                    File defaultAclFile = new File(fileName);
                    if (!defaultAclFile.exists()) {
                        defaultAclFile.createNewFile();
                    }
                } catch (IOException e) {
```

### IgnoreResultOfCall
Result of `PrometheusHttpServer.forceFlush()` is ignored
in `proxy/src/main/java/org/apache/rocketmq/proxy/metrics/ProxyMetricsManager.java`
#### Snippet
```java
        }
        if (proxyConfig.getMetricsExporterType() == BrokerConfig.MetricsExporterType.PROM) {
            prometheusHttpServer.forceFlush();
            prometheusHttpServer.shutdown();
        }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
        }

        fileOrDir.delete();
    }

```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
        }
        File tf = new File(target);
        tf.getParentFile().mkdirs();
        if (!tf.exists() && !tf.createNewFile()) {
            throw new RuntimeException("failed to create target file.");
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

        File file = new File(fileName);
        file.delete();

        file = new File(tmpFile);
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

        file = new File(tmpFile);
        file.renameTo(new File(fileName));
    }

```

### IgnoreResultOfCall
Result of `InputStream.read()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
            int len = in.available();
            byte[] data = new byte[len];
            in.read(data, 0, len);
            return new String(data, StandardCharsets.UTF_8);
        } catch (Exception ignored) {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
        File fileParent = file.getParentFile();
        if (fileParent != null) {
            fileParent.mkdirs();
        }
        IOTinyUtils.writeStringToFile(file, str, "UTF-8");
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        }
        if (file.isFile()) {
            file.delete();
        } else if (file.isDirectory()) {
            File[] files = file.listFiles();
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
                deleteFile(file1);
            }
            file.delete();
        }
    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        File[] files = file.listFiles();
        if (files == null || files.length <= 0) {
            file.delete();
            STORE_LOG.info("delete empty direct, {}", file.getPath());
        }
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
        if (!file.exists()) {
            try {
                file.createNewFile();
            } catch (IOException e) {
                e.printStackTrace();
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
        File file = new File(filePath + File.separator + fileName);
        if (file.exists()) {
            file.delete();
        }
    }
```

### IgnoreResultOfCall
Result of `VerifyUtils.verifyBalance()` is ignored
in `test/src/main/java/org/apache/rocketmq/test/util/VerifyUtils.java`
#### Snippet
```java

    public static void main(String[] args) {
        verifyBalance(400, 0.1f, 230, 190);
    }
}
```

### IgnoreResultOfCall
Result of `PrometheusHttpServer.forceFlush()` is ignored
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
        }
        if (brokerConfig.getMetricsExporterType() == BrokerConfig.MetricsExporterType.PROM) {
            prometheusHttpServer.forceFlush();
            prometheusHttpServer.shutdown();
        }
```

## RuleId[ruleID=UnnecessaryUnboxing]
### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java

                Boolean lv = (Boolean) left.evaluate(context);
                if (lv != null && lv.booleanValue()) {
                    return Boolean.TRUE;
                }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
                }
                Boolean rv = (Boolean) right.evaluate(context);
                if (rv != null && rv.booleanValue()) {
                    return Boolean.TRUE;
                }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
                Boolean lv = (Boolean) left.evaluate(context);

                if (lv != null && !lv.booleanValue()) {
                    return Boolean.FALSE;
                }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
                }
                Boolean rv = (Boolean) right.evaluate(context);
                if (rv != null && !rv.booleanValue()) {
                    return Boolean.FALSE;
                }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                    return Boolean.FALSE;
                }
                return ((Boolean) rvalue).booleanValue() ? Boolean.TRUE : Boolean.FALSE;
            }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                    return null;
                }
                return lvalue.booleanValue() ? Boolean.FALSE : Boolean.TRUE;
            }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                if (lc == Boolean.class) {
                    if (convertStringExpressions && rc == String.class) {
                        lv = Boolean.valueOf((String) lv).booleanValue();
                    } else {
                        return -1;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/PopMessageRequestHeader.java`
#### Snippet
```java

    public boolean isOrder() {
        return this.order != null && this.order.booleanValue();
    }

```

## RuleId[ruleID=ClassNameSameAsAncestorName]
### ClassNameSameAsAncestorName
Class name `RoleChangeHandler` is the same as one of its superclass' names
in `controller/src/main/java/org/apache/rocketmq/controller/impl/DLedgerController.java`
#### Snippet
```java
     * Role change handler, trigger the startScheduling() and stopScheduling() when role change.
     */
    class RoleChangeHandler implements DLedgerLeaderElector.RoleChangeHandler {

        private final String selfId;
```

## RuleId[ruleID=RedundantMethodOverride]
### RedundantMethodOverride
Method `getMessage()` only delegates to its super method
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
     */
    @Override
    public String getMessage() {
        return super.getMessage();
    }
```

### RedundantMethodOverride
Method `shutdown()` only delegates to its super method
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAConnection.java`
#### Snippet
```java

        @Override
        public void shutdown() {
            super.shutdown();
        }
```

### RedundantMethodOverride
Method `forEachRemaining()` only delegates to its super method
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java

        @Override
        public void forEachRemaining(Consumer<? super SelectMappedBufferResult> action) {
            Iterator.super.forEachRemaining(action);
        }
```

### RedundantMethodOverride
Method `rollNextFile()` is identical to its super method
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java

    @Override
    public long rollNextFile(final long offset) {
        int mappedFileSize = this.defaultMessageStore.getMessageStoreConfig().getMappedFileSizeCommitLog();
        return offset + mappedFileSize - offset % mappedFileSize;
```

### RedundantMethodOverride
Method `load()` only delegates to its super method
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java

    @Override
    public boolean load() {
        return super.load();
    }
```

### RedundantMethodOverride
Method `doClose()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected void doClose() throws Exception {

    }
```

### RedundantMethodOverride
Method `doBind()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected void doBind(SocketAddress localAddress) throws Exception {

    }
```

### RedundantMethodOverride
Method `metadata()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    public ChannelMetadata metadata() {
        return null;
    }
```

### RedundantMethodOverride
Method `newUnsafe()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected AbstractUnsafe newUnsafe() {
        return null;
    }
```

### RedundantMethodOverride
Method `doDisconnect()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected void doDisconnect() throws Exception {

    }
```

### RedundantMethodOverride
Method `doBeginRead()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected void doBeginRead() throws Exception {

    }
```

### RedundantMethodOverride
Method `config()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    public ChannelConfig config() {
        return null;
    }
```

### RedundantMethodOverride
Method `isCompatible()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected boolean isCompatible(EventLoop loop) {
        return false;
    }
```

### RedundantMethodOverride
Method `doWrite()` is identical to its super method
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java

    @Override
    protected void doWrite(ChannelOutboundBuffer in) throws Exception {

    }
```

### RedundantMethodOverride
Method `getHAServerAddr()` is identical to its super method
in `container/src/main/java/org/apache/rocketmq/container/InnerBrokerController.java`
#### Snippet
```java

    @Override
    public String getHAServerAddr() {
        return this.brokerConfig.getBrokerIP2() + ":" + this.messageStoreConfig.getHaListenPort();
    }
```

### RedundantMethodOverride
Method `removeUnnecessaryPopMessageQueue()` is identical to its super method
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePushImpl.java`
#### Snippet
```java
    }

    public boolean removeUnnecessaryPopMessageQueue(final MessageQueue mq, final PopProcessQueue pq) {
        return true;
    }
```

### RedundantMethodOverride
Method `setListener()` is identical to its super method
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java

    @Override
    public void setListener(AbstractListener listener) {
        this.listener = listener;
    }
```

### RedundantMethodOverride
Method `getListener()` is identical to its super method
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java

    @Override
    public AbstractListener getListener() {
        return listener;
    }
```

### RedundantMethodOverride
Method `clearMsg()` is identical to its super method
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java

    @Override
    public void clearMsg() {
        this.listener.clearMsg();
    }
```

### RedundantMethodOverride
Method `encode()` is identical to its super method
in `broker/src/main/java/org/apache/rocketmq/broker/offset/LmqConsumerOffsetManager.java`
#### Snippet
```java

    @Override
    public String encode(final boolean prettyFormat) {
        return RemotingSerializable.toJson(this, prettyFormat);
    }
```

## RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
### IntegerMultiplicationImplicitCastToLong
printTPSInterval \* 1000: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    private void printTps() {
        if (System.currentTimeMillis() > (this.lastPrintTimestamp + printTPSInterval * 1000)) {
            this.lastPrintTimestamp = System.currentTimeMillis();

```

### IntegerMultiplicationImplicitCastToLong
maxTimeMsPerCount \* 2: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
            while (!this.isStopped()) {
                try {
                    long maxLiveTimeMs = maxTimeMsPerCount * 2 + 1000;
                    this.waitForRunning(maxLiveTimeMs);
                    if (perfs.size() >= maxKeyNumPerf
```

### IntegerMultiplicationImplicitCastToLong
i \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerWheel.java`
#### Snippet
```java
            int slotIndex = (firstSlotIndex + i) % (slotsTotal * 2);
            localBuffer.get().position(slotIndex * Slot.SIZE);
            if ((timeStartMs + i * precisionMs) / precisionMs == localBuffer.get().getLong()) {
                localBuffer.get().getLong(); //first pos
                localBuffer.get().getLong(); //last pos
```

### IntegerMultiplicationImplicitCastToLong
i \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerWheel.java`
#### Snippet
```java
            int slotIndex = (firstSlotIndex + i) % (slotsTotal * 2);
            localBuffer.get().position(slotIndex * Slot.SIZE);
            if ((timeStartMs + i * precisionMs) / precisionMs != localBuffer.get().getLong()) {
                continue;
            }
```

### IntegerMultiplicationImplicitCastToLong
timerRollWindowSlots \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        //copy the value first, avoid concurrent problem
        long tmpWriteTimeMs = currWriteTimeMs;
        boolean needRoll = delayedTime - tmpWriteTimeMs >= timerRollWindowSlots * precisionMs;
        int magic = MAGIC_DEFAULT;
        if (needRoll) {
```

### IntegerMultiplicationImplicitCastToLong
timerRollWindowSlots \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        if (needRoll) {
            magic = magic | MAGIC_ROLL;
            if (delayedTime - tmpWriteTimeMs - timerRollWindowSlots * precisionMs < timerRollWindowSlots / 3 * precisionMs) {
                //give enough time to next roll
                delayedTime = tmpWriteTimeMs + (timerRollWindowSlots / 2) * precisionMs;
```

### IntegerMultiplicationImplicitCastToLong
timerRollWindowSlots / 3 \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        if (needRoll) {
            magic = magic | MAGIC_ROLL;
            if (delayedTime - tmpWriteTimeMs - timerRollWindowSlots * precisionMs < timerRollWindowSlots / 3 * precisionMs) {
                //give enough time to next roll
                delayedTime = tmpWriteTimeMs + (timerRollWindowSlots / 2) * precisionMs;
```

### IntegerMultiplicationImplicitCastToLong
(timerRollWindowSlots / 2) \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            if (delayedTime - tmpWriteTimeMs - timerRollWindowSlots * precisionMs < timerRollWindowSlots / 3 * precisionMs) {
                //give enough time to next roll
                delayedTime = tmpWriteTimeMs + (timerRollWindowSlots / 2) * precisionMs;
            } else {
                delayedTime = tmpWriteTimeMs + timerRollWindowSlots * precisionMs;
```

### IntegerMultiplicationImplicitCastToLong
timerRollWindowSlots \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                delayedTime = tmpWriteTimeMs + (timerRollWindowSlots / 2) * precisionMs;
            } else {
                delayedTime = tmpWriteTimeMs + timerRollWindowSlots * precisionMs;
            }
        }
```

### IntegerMultiplicationImplicitCastToLong
100 \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                try {
                    if (!TimerMessageStore.this.enqueue(0)) {
                        waitForRunning(100 * precisionMs / 1000);
                    }
                } catch (Throwable e) {
```

### IntegerMultiplicationImplicitCastToLong
slotsTotal \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        //check timer wheel
        currReadTimeMs = timerCheckpoint.getLastReadTimeMs();
        long nextReadTimeMs = formatTimeMs(System.currentTimeMillis()) - slotsTotal * precisionMs + TIMER_BLANK_SLOTS * precisionMs;
        if (currReadTimeMs < nextReadTimeMs) {
            currReadTimeMs = nextReadTimeMs;
```

### IntegerMultiplicationImplicitCastToLong
TIMER_BLANK_SLOTS \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        //check timer wheel
        currReadTimeMs = timerCheckpoint.getLastReadTimeMs();
        long nextReadTimeMs = formatTimeMs(System.currentTimeMillis()) - slotsTotal * precisionMs + TIMER_BLANK_SLOTS * precisionMs;
        if (currReadTimeMs < nextReadTimeMs) {
            currReadTimeMs = nextReadTimeMs;
```

### IntegerMultiplicationImplicitCastToLong
100 \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                try {
                    setState(AbstractStateService.WAITING);
                    List<TimerRequest> trs = dequeueGetQueue.poll(100 * precisionMs / 1000, TimeUnit.MILLISECONDS);
                    if (null == trs || trs.size() == 0) {
                        continue;
```

### IntegerMultiplicationImplicitCastToLong
3 \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            return -1;
        }
        if (preReadTimeMs >= currReadTimeMs + 3 * precisionMs) {
            return -1;
        }
```

### IntegerMultiplicationImplicitCastToLong
500 \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                                    }
                                    doRes = PUT_NEED_RETRY != doPut(msg, needRoll(tr.getMagic()));
                                    Thread.sleep(500 * precisionMs / 1000);
                                }
                                perfs.endTick("dequeue_put");
```

### IntegerMultiplicationImplicitCastToLong
100 \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                    }
                    if (-1 == TimerMessageStore.this.dequeue()) {
                        waitForRunning(100 * precisionMs / 1000);
                    }
                } catch (Throwable e) {
```

### IntegerMultiplicationImplicitCastToLong
j \* precisionMs: integer multiplication implicitly cast to long
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            int periodTotal = 0;
            for (int j = slotBeforeNum; j < slotTotalNum; j++) {
                Slot slotEach = timerWheel.getSlot(currTime + j * precisionMs);
                periodTotal += slotEach.num;
            }
```

### IntegerMultiplicationImplicitCastToLong
delayLevelTable\[delayLevelTable.length - 1\] \* 1000 \* 2: integer multiplication implicitly cast to long
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java

        long msgDelaytime = System.currentTimeMillis() - msgExt.getBornTimestamp();
        if (msgDelaytime > delayLevelTable[delayLevelTable.length - 1] * 1000 * 2) {
            log.warn("Consume too many times, ack message async. message {}", msgExt.toString());
            this.defaultMQPushConsumerImpl.ackAsync(msgExt, consumerGroup);
```

### IntegerMultiplicationImplicitCastToLong
delayLevelTable\[delayLevel\] \* 1000: integer multiplication implicitly cast to long
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
            int delayLevel = delayLevelTable.length - 1;
            for (; delayLevel >= 0; delayLevel--) {
                if (msgDelaytime >= delayLevelTable[delayLevel] * 1000) {
                    delayLevel++;
                    break;
```

### IntegerMultiplicationImplicitCastToLong
clientConfig.getRmqMessageConsumeTimeout() \* 60 \* 1000: integer multiplication implicitly cast to long
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/LocalMessageCache.java`
#### Snippet
```java
                            msg = msgTreeMap.firstEntry().getValue();
                            if (System.currentTimeMillis() - Long.parseLong(MessageAccessor.getConsumeStartTimeStamp(msg))
                                > clientConfig.getRmqMessageConsumeTimeout() * 60 * 1000) {
                                //Expired, ack and remove it.
                            } else {
```

### IntegerMultiplicationImplicitCastToLong
clientConfig.getRmqMessageConsumeTimeout() \* 60 \* 1000: integer multiplication implicitly cast to long
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PushConsumerImpl.java`
#### Snippet
```java
            listener.onReceived(omsMsg, context);
            long costs = System.currentTimeMillis() - begin;
            long timeoutMills = clientConfig.getRmqMessageConsumeTimeout() * 60 * 1000;
            try {
                sync.await(Math.max(0, timeoutMills - costs), TimeUnit.MILLISECONDS);
```

### IntegerMultiplicationImplicitCastToLong
brokerController.getBrokerConfig().getPopCkStayBufferTime() \* 2: integer multiplication implicitly cast to long
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
                } else {
                    if (System.currentTimeMillis() - pointWrapper.getCk().getPopTime()
                        > brokerController.getBrokerConfig().getPopCkStayBufferTime() * 2) {
                        POP_LOGGER.warn("[PopBuffer] ck offset long time not commit, {}", pointWrapper);
                    }
```

### IntegerMultiplicationImplicitCastToLong
slotCnt \* slotDis: integer multiplication implicitly cast to long
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
        for (int slotCnt = 0; slotCnt < slotsTotal; slotCnt++) {
            for (int msgCnt = 0; msgCnt < msgsTotalPerSlotThread; msgCnt++) {
                long delayTime = startDelayTime + slotCnt * slotDis;
                delayList.add(delayTime);
            }
```

## RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
### ReplaceAssignmentWithOperatorAssignment
`this.bytes[i] = (byte) (this.bytes[i] | other.getByte(i))` could be simplified to 'this.bytes\[i\] \|= other.getByte(i)'
in `filter/src/main/java/org/apache/rocketmq/filter/util/BitsArray.java`
#### Snippet
```java

        for (int i = 0; i < minByteLength; i++) {
            this.bytes[i] = (byte) (this.bytes[i] | other.getByte(i));
        }
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.bytes[i] = (byte) (this.bytes[i] & other.getByte(i))` could be simplified to 'this.bytes\[i\] \&= other.getByte(i)'
in `filter/src/main/java/org/apache/rocketmq/filter/util/BitsArray.java`
#### Snippet
```java

        for (int i = 0; i < minByteLength; i++) {
            this.bytes[i] = (byte) (this.bytes[i] & other.getByte(i));
        }
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.bytes[sub] = (byte) (this.bytes[sub] | pos)` could be simplified to 'this.bytes\[sub\] \|= pos'
in `filter/src/main/java/org/apache/rocketmq/filter/util/BitsArray.java`
#### Snippet
```java
        int pos = position(bitPos);
        if (set) {
            this.bytes[sub] = (byte) (this.bytes[sub] | pos);
        } else {
            this.bytes[sub] = (byte) (this.bytes[sub] & ~pos);
```

### ReplaceAssignmentWithOperatorAssignment
`this.bytes[sub] = (byte) (this.bytes[sub] & ~pos)` could be simplified to 'this.bytes\[sub\] \&= \~pos'
in `filter/src/main/java/org/apache/rocketmq/filter/util/BitsArray.java`
#### Snippet
```java
            this.bytes[sub] = (byte) (this.bytes[sub] | pos);
        } else {
            this.bytes[sub] = (byte) (this.bytes[sub] & ~pos);
        }
    }
```

### ReplaceAssignmentWithOperatorAssignment
`masterOffset = masterOffset - (m...` could be simplified to 'masterOffset -= (masterOffset % DefaultHAConnection.this.haService.getDefaultMessageStore().getMessageStoreConfig() .getMappedFileSizeCommitLog())'
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAConnection.java`
#### Snippet
```java
                        if (0 == DefaultHAConnection.this.slaveRequestOffset) {
                            long masterOffset = DefaultHAConnection.this.haService.getDefaultMessageStore().getCommitLog().getMaxOffset();
                            masterOffset =
                                masterOffset
                                    - (masterOffset % DefaultHAConnection.this.haService.getDefaultMessageStore().getMessageStoreConfig()
                                    .getMappedFileSizeCommitLog());

                            if (masterOffset < 0) {
```

### ReplaceAssignmentWithOperatorAssignment
`result = result & this.consumeQueueExt.flush(flushLeastPages)` could be simplified to 'result \&= this.consumeQueueExt.flush(flushLeastPages)'
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        boolean result = this.mappedFileQueue.flush(flushLeastPages);
        if (isExtReadEnable()) {
            result = result & this.consumeQueueExt.flush(flushLeastPages);
        }

```

### ReplaceAssignmentWithOperatorAssignment
`masterOffset = masterOffset - (masterOffset % config.getMappedFileSizeCommitLog())` could be simplified to 'masterOffset -= (masterOffset % config.getMappedFileSizeCommitLog())'
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
                                    if (AutoSwitchHAConnection.this.isSyncFromLastFile) {
                                        long masterOffset = haService.getDefaultMessageStore().getCommitLog().getMaxOffset();
                                        masterOffset = masterOffset - (masterOffset % config.getMappedFileSizeCommitLog());
                                        if (masterOffset < 0) {
                                            masterOffset = 0;
```

### ReplaceAssignmentWithOperatorAssignment
`timeDiff = timeDiff / 1000` could be simplified to 'timeDiff /= 1000'
in `store/src/main/java/org/apache/rocketmq/store/index/IndexFile.java`
#### Snippet
```java
                long timeDiff = storeTimestamp - this.indexHeader.getBeginTimestamp();

                timeDiff = timeDiff / 1000;

                if (this.indexHeader.getBeginTimestamp() <= 0) {
```

### ReplaceAssignmentWithOperatorAssignment
`tmp = tmp + count[i].get()` could be simplified to 'tmp += count\[i\].get()'
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
        long tmp = 0;
        for (int i = from; i <= to && i < count.length; i++) {
            tmp = tmp + count[i].get();
        }
        return tmp;
```

### ReplaceAssignmentWithOperatorAssignment
`allNum = allNum + localBuffer.get().getInt()` could be simplified to 'allNum += localBuffer.get().getInt()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerWheel.java`
#### Snippet
```java
                localBuffer.get().getLong(); //first pos
                localBuffer.get().getLong(); //last pos
                allNum = allNum + localBuffer.get().getInt();
            }
        }
```

### ReplaceAssignmentWithOperatorAssignment
`magic = magic | MAGIC_ROLL` could be simplified to 'magic \|= MAGIC_ROLL'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        int magic = MAGIC_DEFAULT;
        if (needRoll) {
            magic = magic | MAGIC_ROLL;
            if (delayedTime - tmpWriteTimeMs - timerRollWindowSlots * precisionMs < timerRollWindowSlots / 3 * precisionMs) {
                //give enough time to next roll
```

### ReplaceAssignmentWithOperatorAssignment
`magic = magic | MAGIC_DELETE` could be simplified to 'magic \|= MAGIC_DELETE'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        boolean isDelete = messageExt.getProperty(TIMER_DELETE_UNIQKEY) != null;
        if (isDelete) {
            magic = magic | MAGIC_DELETE;
        }
        String realTopic = messageExt.getProperty(MessageConst.PROPERTY_REAL_TOPIC);
```

### ReplaceAssignmentWithOperatorAssignment
`currOffsetPy = currOffsetPy + timerLogFileSize` could be simplified to 'currOffsetPy += timerLogFileSize'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                    break;
                } else {
                    currOffsetPy = currOffsetPy + timerLogFileSize;
                }
            }
```

### ReplaceAssignmentWithOperatorAssignment
`lastFlushPos = lastFlushPos - lastFile.getFileSize()` could be simplified to 'lastFlushPos -= lastFile.getFileSize()'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        MappedFile lastFile = timerLog.getMappedFileQueue().getLastMappedFile();
        if (null != lastFile) {
            lastFlushPos = lastFlushPos - lastFile.getFileSize();
        }
        if (lastFlushPos < 0) {
```

### ReplaceAssignmentWithOperatorAssignment
`preReadTimeMs = preReadTimeMs + precisionMs` could be simplified to 'preReadTimeMs += precisionMs'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        Slot slot = timerWheel.getSlot(preReadTimeMs);
        if (-1 == slot.timeMs) {
            preReadTimeMs = preReadTimeMs + precisionMs;
            return 0;
        }
```

### ReplaceAssignmentWithOperatorAssignment
`preReadTimeMs = preReadTimeMs + precisionMs` could be simplified to 'preReadTimeMs += precisionMs'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            }
        } finally {
            preReadTimeMs = preReadTimeMs + precisionMs;
        }
        return 1;
```

### ReplaceAssignmentWithOperatorAssignment
`currReadTimeMs = currReadTimeMs + precisionMs` could be simplified to 'currReadTimeMs += precisionMs'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java

    private void moveReadTime() {
        currReadTimeMs = currReadTimeMs + precisionMs;
        commitReadTimeMs = currReadTimeMs;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.sysFlag = this.sysFlag | MessageSysFlag.BORNHOST_V6_FLAG` could be simplified to 'this.sysFlag \|= MessageSysFlag.BORNHOST_V6_FLAG'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
    public void setStoreHostAddressV6Flag() { this.sysFlag = this.sysFlag | MessageSysFlag.STOREHOSTADDRESS_V6_FLAG; }

    public void setBornHostV6Flag() { this.sysFlag = this.sysFlag | MessageSysFlag.BORNHOST_V6_FLAG; }

    public int getBodyCRC() {
```

### ReplaceAssignmentWithOperatorAssignment
`this.sysFlag = this.sysFlag | MessageSysFlag.STOREHOSTADDRESS_V6_FLAG` could be simplified to 'this.sysFlag \|= MessageSysFlag.STOREHOSTADDRESS_V6_FLAG'
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
    }

    public void setStoreHostAddressV6Flag() { this.sysFlag = this.sysFlag | MessageSysFlag.STOREHOSTADDRESS_V6_FLAG; }

    public void setBornHostV6Flag() { this.sysFlag = this.sysFlag | MessageSysFlag.BORNHOST_V6_FLAG; }
```

### ReplaceAssignmentWithOperatorAssignment
`url = url + "?"` could be simplified to 'url += "?"'
in `common/src/main/java/org/apache/rocketmq/common/namesrv/DefaultTopAddressing.java`
#### Snippet
```java
                }
                else {
                    url = url + "?";
                }
                for (Map.Entry<String, String> entry : this.para.entrySet()) {
```

### ReplaceAssignmentWithOperatorAssignment
`c = c * 2` could be simplified to 'c \*= 2'
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
        int size = arg.length;
        int c = rd.nextInt(size / 2);
        c = c * 2;
        return (char) (getIntegerBetween(arg[c], arg[c + 1]));
    }
```

### ReplaceAssignmentWithOperatorAssignment
`c = c * 2` could be simplified to 'c \*= 2'
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtils.java`
#### Snippet
```java
        int size = arg.length;
        int c = rd.nextInt(size / 2);
        c = c * 2;
        return (char) (getIntegerBetween(arg[c], arg[c + 1]));
    }
```

### ReplaceAssignmentWithOperatorAssignment
`sum = sum + count.get()` could be simplified to 'sum += count.get()'
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/MapDataCollectorImpl.java`
#### Snippet
```java
        long sum = 0;
        for (AtomicInteger count : datas.values()) {
            sum = sum + count.get();
        }
        return sum;
```

### ReplaceAssignmentWithOperatorAssignment
`offset = offset + messageExts.size()` could be simplified to 'offset += messageExts.size()'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
                }
            }
            offset = offset + messageExts.size();
        }
        consumeReviveObj.map.putAll(mockPointMap);
```

### ReplaceAssignmentWithOperatorAssignment
`tmpSize = tmpSize + 20` could be simplified to 'tmpSize += 20'
in `example/src/main/java/org/apache/rocketmq/example/batch/SplitBatchProducer.java`
#### Snippet
```java
            }
            //for log overhead
            tmpSize = tmpSize + 20;
            if (tmpSize > SIZE_LIMIT) {
                //it is unexpected that single message exceeds the sizeLimit
```

### ReplaceAssignmentWithOperatorAssignment
`tmpTotalPollingNum = tmpTotalPollingNum + tmpPollingNum` could be simplified to 'tmpTotalPollingNum += tmpPollingNum'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                        if (i >= 100) {
                            long tmpPollingNum = popQ.size();
                            tmpTotalPollingNum = tmpTotalPollingNum + tmpPollingNum;
                            if (tmpPollingNum > 100) {
                                POP_LOGGER.info("polling queue {} , size={} ", key, tmpPollingNum);
```

## RuleId[ruleID=NestedAssignment]
### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
                    continue;
                default:
                    if ((ch = str.charAt(i)) < 0x20 || ch > 0x7e) {
                        String s = "0000" + Integer.toString(ch, 16);
                        retval.append("\\u" + s.substring(s.length() - 4, s.length()));
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
                    continue;
                default:
                    if ((ch = str.charAt(i)) < 0x20 || ch > 0x7e) {
                        String s = "0000" + Integer.toString(ch, 16);
                        retval.append("\\u" + s.substring(s.length() - 4, s.length()));
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        if (prevCharIsLF) {
            prevCharIsLF = false;
            line += column = 1;
        } else if (prevCharIsCR) {
            prevCharIsCR = false;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
                prevCharIsLF = true;
            } else
                line += column = 1;
        }

```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        column = startcolumn - 1;

        available = bufsize = buffersize;
        buffer = new char[buffersize];
        bufline = new int[buffersize];
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        int nextColDiff = 0, columnDiff = 0;

        while (i < len && bufline[j = start % bufsize] == bufline[k = ++start % bufsize]) {
            bufline[j] = newLine;
            nextColDiff = columnDiff + bufcolumn[k] - bufcolumn[j];
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        int nextColDiff = 0, columnDiff = 0;

        while (i < len && bufline[j = start % bufsize] == bufline[k = ++start % bufsize]) {
            bufline[j] = newLine;
            nextColDiff = columnDiff + bufcolumn[k] - bufcolumn[j];
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

            while (i++ < len) {
                if (bufline[j = start % bufsize] != bufline[++start % bufsize])
                    bufline[j] = newLine++;
                else
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
                bufcolumn = newbufcolumn;

                maxNextCharInd = bufpos += bufsize - tokenBegin;
            } else {
                System.arraycopy(buffer, tokenBegin, newbuffer, 0, bufsize - tokenBegin);
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
                bufcolumn = newbufcolumn;

                maxNextCharInd = bufpos -= tokenBegin;
            }
        } catch (Throwable t) {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

        inBuf += amount;
        if ((bufpos -= amount) < 0)
            bufpos += bufsize;
    }
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

        if (buffer == null || buffersize != buffer.length) {
            available = bufsize = buffersize;
            buffer = new char[buffersize];
            bufline = new int[buffersize];
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
            bufcolumn = new int[buffersize];
        }
        prevCharIsLF = prevCharIsCR = false;
        tokenBegin = inBuf = maxNextCharInd = 0;
        bufpos = -1;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        }
        prevCharIsLF = prevCharIsCR = false;
        tokenBegin = inBuf = maxNextCharInd = 0;
        bufpos = -1;
    }
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        }
        prevCharIsLF = prevCharIsCR = false;
        tokenBegin = inBuf = maxNextCharInd = 0;
        bufpos = -1;
    }
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
            if (available == bufsize) {
                if (tokenBegin > 2048) {
                    bufpos = maxNextCharInd = 0;
                    available = tokenBegin;
                } else if (tokenBegin < 0)
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
                    available = tokenBegin;
                } else if (tokenBegin < 0)
                    bufpos = maxNextCharInd = 0;
                else
                    ExpandBuff(false);
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        int i;
        try {
            if ((i = inputStream.read(buffer, maxNextCharInd, available - maxNextCharInd)) == -1) {
                inputStream.close();
                throw new java.io.IOException();
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa6_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 5);
        try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa3_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 2);
        try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa5_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 4);
        try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa2_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 1);
        try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                        else {
                            matchedToken.specialToken = specialToken;
                            specialToken = specialToken.next = matchedToken;
                        }
                    }
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
     */
    public void ReInit(SimpleCharStream stream) {
        jjmatchedPos = jjnewStateCnt = 0;
        curLexState = defaultLexState;
        inputStream = stream;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa4_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 3);
        try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        int strPos = jjmatchedPos;
        int seenUpto;
        inputStream.backup(seenUpto = curPos + 1);
        try {
            curChar = inputStream.readChar();
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            }
            ++curPos;
            if ((i = jjnewStateCnt) == (startsAt = 40 - (jjnewStateCnt = startsAt)))
                break;
            try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            }
            ++curPos;
            if ((i = jjnewStateCnt) == (startsAt = 40 - (jjnewStateCnt = startsAt)))
                break;
            try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            }
            ++curPos;
            if ((i = jjnewStateCnt) == (startsAt = 40 - (jjnewStateCnt = startsAt)))
                break;
            try {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private boolean jj_2_4(int xla) {
        jjLa = xla;
        jjLastpos = jjScanpos = token;
        try {
            return !jj_3_4();
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private boolean jj_2_3(int xla) {
        jjLa = xla;
        jjLastpos = jjScanpos = token;
        try {
            return !jj_3_3();
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java

    private int jj_ntk() {
        if ((jjNt = token.next) == null)
            return jjNtk = (token.next = tokenSource.getNextToken()).kind;
        else
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private int jj_ntk() {
        if ((jjNt = token.next) == null)
            return jjNtk = (token.next = tokenSource.getNextToken()).kind;
        else
            return jjNtk = jjNt.kind;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private int jj_ntk() {
        if ((jjNt = token.next) == null)
            return jjNtk = (token.next = tokenSource.getNextToken()).kind;
        else
            return jjNtk = jjNt.kind;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            return jjNtk = (token.next = tokenSource.getNextToken()).kind;
        else
            return jjNtk = jjNt.kind;
    }

```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private boolean jj_2_1(int xla) {
        jjLa = xla;
        jjLastpos = jjScanpos = token;
        try {
            return !jj_3_1();
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
                    if (p.gen > jjGen) {
                        jjLa = p.arg;
                        jjLastpos = jjScanpos = p.first;
                        switch (i) {
                            case 0:
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            }
            if (pos != 0)
                jjLasttokens[(jjEndpos = pos) - 1] = kind;
        }
    }
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            token = token.next;
        else
            token = token.next = tokenSource.getNextToken();
        jjNtk = -1;
        jjGen++;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        while (p.gen > jjGen) {
            if (p.next == null) {
                p = p.next = new JJCalls();
                break;
            }
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private Token jj_consume_token(int kind) throws ParseException {
        Token oldToken;
        if ((oldToken = token).next != null)
            token = token.next;
        else
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            token = token.next;
        else
            token = token.next = tokenSource.getNextToken();
        jjNtk = -1;
        if (token.kind == kind) {
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
                t = t.next;
            else
                t = t.next = tokenSource.getNextToken();
        }
        return t;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private boolean jj_2_2(int xla) {
        jjLa = xla;
        jjLastpos = jjScanpos = token;
        try {
            return !jj_3_2();
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            jjLa--;
            if (jjScanpos.next == null) {
                jjLastpos = jjScanpos = jjScanpos.next = tokenSource.getNextToken();
            } else {
                jjLastpos = jjScanpos = jjScanpos.next;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            jjLa--;
            if (jjScanpos.next == null) {
                jjLastpos = jjScanpos = jjScanpos.next = tokenSource.getNextToken();
            } else {
                jjLastpos = jjScanpos = jjScanpos.next;
```

### NestedAssignment
Result of assignment expression used
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
                jjLastpos = jjScanpos = jjScanpos.next = tokenSource.getNextToken();
            } else {
                jjLastpos = jjScanpos = jjScanpos.next;
            }
        } else {
```

### NestedAssignment
Result of assignment expression used
in `store/src/main/java/org/apache/rocketmq/store/queue/ConsumeQueueStore.java`
#### Snippet
```java
            SelectMappedBufferResult lastBuffer = null;
            long startReadOffset = messageStore.getCommitLog().getConfirmOffset() == -1 ? 0 : messageStore.getCommitLog().getConfirmOffset();
            while ((lastBuffer = messageStore.selectOneMessageByOffset(startReadOffset)) != null) {
                try {
                    if (lastBuffer.getStartOffset() > startReadOffset) {
```

### NestedAssignment
Result of assignment expression used
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        SelectMappedBufferResult lastBuffer = null;
        long startReadOffset = phyOffset == -1 ? 0 : phyOffset;
        while ((lastBuffer = selectOneMessageByOffset(startReadOffset)) != null) {
            try {
                if (lastBuffer.getStartOffset() > startReadOffset) {
```

### NestedAssignment
Result of assignment expression used
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvController.java`
#### Snippet
```java
                if (certChanged && keyChanged) {
                    LOGGER.info("The certificate and private key changed, reload the ssl context");
                    certChanged = keyChanged = false;
                    ((NettyRemotingServer) remotingServer).loadSslContext();
                }
```

### NestedAssignment
Result of assignment expression used
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
    public static boolean isBlank(String str) {
        int strLen;
        if (str == null || (strLen = str.length()) == 0) {
            return true;
        }
```

### NestedAssignment
Result of assignment expression used
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
    private static boolean isBlank(String str) {
        int strLen;
        if (str == null || (strLen = str.length()) == 0) {
            return true;
        }
```

### NestedAssignment
Result of assignment expression used
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
        char[] buffer = new char[1 << 12];
        long count = 0;
        for (int n = 0; (n = input.read(buffer)) >= 0; ) {
            output.write(buffer, 0, n);
            count += n;
```

### NestedAssignment
Result of assignment expression used
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java

                Operator opNew = null;
                while (!operatorStack.empty() && LEFTPARENTHESIS != (opNew = operatorStack.pop())) {
                    segments.add(opNew);
                }
```

### NestedAssignment
Result of assignment expression used
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static boolean isBlank(String str) {
        int strLen;
        if (str == null || (strLen = str.length()) == 0) {
            return true;
        }
```

### NestedAssignment
Result of assignment expression used
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            String line = null;
            TreeMap<String, String> kvs = new TreeMap<>();
            while ((line = br.readLine()) != null) {
                if (line.contains("*")) {
                    continue;
```

### NestedAssignment
Result of assignment expression used
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
        do {
            fields.addAll(Arrays.asList(current.getDeclaredFields()));
        } while ((current = current.getSuperclass()) != null
            && current != Object.class);
        Object obj = null;
```

### NestedAssignment
Result of assignment expression used
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
        do {
            methods.addAll(Arrays.asList(current.getDeclaredMethods()));
        } while ((current = current.getSuperclass()) != null
            && current != Object.class);
        TreeMap<String, String> map = new TreeMap<>();
```

### NestedAssignment
Result of assignment expression used
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
                                if (certChanged && keyChanged) {
                                    LOG.info("The certificate and private key changed, reload the ssl context");
                                    certChanged = keyChanged = false;
                                    reloadServerSslContext();
                                }
```

### NestedAssignment
Result of assignment expression used
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java

            PutResultProcess putResultProcess;
            while ((putResultProcess = pendingQueue.peek()) != null) {
                try {
                    switch (putResultProcess.getStatus()) {
```

### NestedAssignment
Result of assignment expression used
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
            if (bufferCQ == null) {
                long resetOffset;
                if ((resetOffset = cq.getMinOffsetInQueue()) > this.offset) {
                    log.error("schedule CQ offset invalid. offset={}, cqMinOffset={}, queueId={}",
                        this.offset, resetOffset, cq.getQueueId());
```

### NestedAssignment
Result of assignment expression used
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
                    log.error("schedule CQ offset invalid. offset={}, cqMinOffset={}, queueId={}",
                        this.offset, resetOffset, cq.getQueueId());
                } else if ((resetOffset = cq.getMaxOffsetInQueue()) < this.offset) {
                    log.error("schedule CQ offset invalid. offset={}, cqMaxOffset={}, queueId={}",
                        this.offset, resetOffset, cq.getQueueId());
```

### NestedAssignment
Result of assignment expression used
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
            LinkedBlockingDeque<PopCheckPointWrapper> queue = entry.getValue().get();
            PopCheckPointWrapper pointWrapper;
            while ((pointWrapper = queue.peek()) != null) {
                // 1. just offset & stored, not processed by scan
                // 2. ck is buffer(acked)
```

### NestedAssignment
Result of assignment expression used
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                    ConcurrentSkipListSet<PopRequest> popQ = entry.getValue();
                    PopRequest first;
                    while ((first = popQ.pollFirst()) != null) {
                        wakeUp(first);
                    }
```

## RuleId[ruleID=MismatchedCollectionQueryUpdate]
### MismatchedCollectionQueryUpdate
Contents of collection `topicRouteTable` are queried, but never updated
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/ClientMetadata.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);

    private final ConcurrentMap<String/* Topic */, TopicRouteData> topicRouteTable = new ConcurrentHashMap<>();
    private final ConcurrentMap<String/* Topic */, ConcurrentMap<MessageQueue, String/*brokerName*/>> topicEndPointsTable = new ConcurrentHashMap<>();
    private final ConcurrentMap<String/* Broker Name */, HashMap<Long/* brokerId */, String/* address */>> brokerAddrTable =
```

### MismatchedCollectionQueryUpdate
Contents of collection `wrapperMap` are updated, but never queried
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/BeanUtils.java`
#### Snippet
```java
    }

    private static Map<Class<?>, Class<?>> wrapperMap = new HashMap<>();

    static {
```

### MismatchedCollectionQueryUpdate
Contents of collection `cache` are queried, but never updated
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
    private StatsBenchmarkTProducer statBenchmark;
    private TxSendConfig sendConfig;
    private final LRUMap<Long, Integer> cache = new LRUMap<>(200000);

    private class MsgMeta {
```

## RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
### FieldAccessedSynchronizedAndUnsynchronized
Field `mappedFile` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/SelectMappedBufferResult.java`
#### Snippet
```java
    private int size;

    protected MappedFile mappedFile;

    public SelectMappedBufferResult(long startOffset, ByteBuffer byteBuffer, int size, MappedFile mappedFile) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `defaultMessageStore` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/ha/HAConnectionStateNotificationService.java`
#### Snippet
```java
    private volatile long lastCheckTimeStamp = -1;
    private HAService haService;
    private DefaultMessageStore defaultMessageStore;

    public HAConnectionStateNotificationService(HAService haService, DefaultMessageStore defaultMessageStore) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `hasNotified` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        new ConcurrentHashMap<>(16);

    protected AtomicBoolean hasNotified = new AtomicBoolean(false);

    public void wakeup() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `committedWhere` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java

    protected long flushedWhere = 0;
    protected long committedWhere = 0;

    protected volatile long storeTimestamp = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `last` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
public class PerfCounter {

    private long last = System.currentTimeMillis();
    private float lastTps = 0.0f;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consumeQueue` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
    static class TopicPartitionLog {
        MappedFileQueue mappedFileQueue;
        SparseConsumeQueue consumeQueue;

        public TopicPartitionLog(CompactionLog compactionLog) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `mappedFileQueue` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java

    static class TopicPartitionLog {
        MappedFileQueue mappedFileQueue;
        SparseConsumeQueue consumeQueue;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lmqTopicQueueTable` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/queue/QueueOffsetAssigner.java`
#### Snippet
```java
    private ConcurrentMap<String, Long> topicQueueTable = new ConcurrentHashMap<>(1024);
    private ConcurrentMap<String, Long> batchTopicQueueTable = new ConcurrentHashMap<>(1024);
    private ConcurrentMap<String/* topic-queueid */, Long/* offset */> lmqTopicQueueTable = new ConcurrentHashMap<>(1024);

    public long assignQueueOffset(String topicQueueKey, short messageNum) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `topicQueueTable` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/queue/QueueOffsetAssigner.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);

    private ConcurrentMap<String, Long> topicQueueTable = new ConcurrentHashMap<>(1024);
    private ConcurrentMap<String, Long> batchTopicQueueTable = new ConcurrentHashMap<>(1024);
    private ConcurrentMap<String/* topic-queueid */, Long/* offset */> lmqTopicQueueTable = new ConcurrentHashMap<>(1024);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `batchTopicQueueTable` is accessed in both synchronized and unsynchronized contexts
in `store/src/main/java/org/apache/rocketmq/store/queue/QueueOffsetAssigner.java`
#### Snippet
```java

    private ConcurrentMap<String, Long> topicQueueTable = new ConcurrentHashMap<>(1024);
    private ConcurrentMap<String, Long> batchTopicQueueTable = new ConcurrentHashMap<>(1024);
    private ConcurrentMap<String/* topic-queueid */, Long/* offset */> lmqTopicQueueTable = new ConcurrentHashMap<>(1024);

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `log` is accessed in both synchronized and unsynchronized contexts
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
    public static CommandLine commandLine = null;
    public static String configFile = null;
    public static Logger log;
    public static final SystemConfigFileHelper CONFIG_FILE_HELPER = new SystemConfigFileHelper();
    public static String rocketmqHome = null;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `brokerBootHookList` is accessed in both synchronized and unsynchronized contexts
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerProcessor.java`
#### Snippet
```java
    private static final Logger LOGGER = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);
    private final BrokerContainer brokerContainer;
    private List<BrokerBootHook> brokerBootHookList;

    public BrokerContainerProcessor(BrokerContainer brokerContainer) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `startTime` is accessed in both synchronized and unsynchronized contexts
in `common/src/main/java/org/apache/rocketmq/common/message/MessageClientIDSetter.java`
#### Snippet
```java
    private static final char[] FIX_STRING;
    private static final AtomicInteger COUNTER;
    private static long startTime;
    private static long nextStartTime;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `nextStartTime` is accessed in both synchronized and unsynchronized contexts
in `common/src/main/java/org/apache/rocketmq/common/message/MessageClientIDSetter.java`
#### Snippet
```java
    private static final AtomicInteger COUNTER;
    private static long startTime;
    private static long nextStartTime;

    static {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `max` is accessed in both synchronized and unsynchronized contexts
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsBrief.java`
#### Snippet
```java

    // max min avg total
    private long max;
    private long min;
    private long total;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `min` is accessed in both synchronized and unsynchronized contexts
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsBrief.java`
#### Snippet
```java
    // max min avg total
    private long max;
    private long min;
    private long total;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `total` is accessed in both synchronized and unsynchronized contexts
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsBrief.java`
#### Snippet
```java
    private long max;
    private long min;
    private long total;

    public StatisticsBrief(long[][] topPercentileMeta) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `briefs` is accessed in both synchronized and unsynchronized contexts
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java

        public String[] itemNames;
        public ItemSampleBrief[] briefs;

        public StatisticsItemSampleBrief(StatisticsItem statItem, String[] itemNames) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `rebalanceImpl` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
    private final ConcurrentHashMap<MessageQueue, MessageQueueState> assignedMessageQueueState;

    private RebalanceImpl rebalanceImpl;

    public AssignedMessageQueue() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `offsetStore` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
    protected MQClientInstance mQClientFactory;
    private PullAPIWrapper pullAPIWrapper;
    private OffsetStore offsetStore;
    private RebalanceImpl rebalanceImpl = new RebalancePullImpl(this);

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `rebalanceImpl` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
    private PullAPIWrapper pullAPIWrapper;
    private OffsetStore offsetStore;
    private RebalanceImpl rebalanceImpl = new RebalancePullImpl(this);

    public DefaultMQPullConsumerImpl(final DefaultMQPullConsumer defaultMQPullConsumer, final RPCHook rpcHook) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `pullAPIWrapper` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
    private volatile ServiceState serviceState = ServiceState.CREATE_JUST;
    protected MQClientInstance mQClientFactory;
    private PullAPIWrapper pullAPIWrapper;
    private OffsetStore offsetStore;
    private RebalanceImpl rebalanceImpl = new RebalancePullImpl(this);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `mQClientFactory` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
    private final ArrayList<FilterMessageHook> filterMessageHookList = new ArrayList<>();
    private volatile ServiceState serviceState = ServiceState.CREATE_JUST;
    protected MQClientInstance mQClientFactory;
    private PullAPIWrapper pullAPIWrapper;
    private OffsetStore offsetStore;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consumeOrderly` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private PullAPIWrapper pullAPIWrapper;
    private volatile boolean pause = false;
    private boolean consumeOrderly = false;
    private MessageListener messageListenerInner;
    private OffsetStore offsetStore;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `messageListenerInner` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private volatile boolean pause = false;
    private boolean consumeOrderly = false;
    private MessageListener messageListenerInner;
    private OffsetStore offsetStore;
    private ConsumeMessageService consumeMessageService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `pullAPIWrapper` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private volatile ServiceState serviceState = ServiceState.CREATE_JUST;
    private MQClientInstance mQClientFactory;
    private PullAPIWrapper pullAPIWrapper;
    private volatile boolean pause = false;
    private boolean consumeOrderly = false;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consumeMessagePopService` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private OffsetStore offsetStore;
    private ConsumeMessageService consumeMessageService;
    private ConsumeMessageService consumeMessagePopService;
    private long queueFlowControlTimes = 0;
    private long queueMaxSpanFlowControlTimes = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consumeMessageService` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private MessageListener messageListenerInner;
    private OffsetStore offsetStore;
    private ConsumeMessageService consumeMessageService;
    private ConsumeMessageService consumeMessagePopService;
    private long queueFlowControlTimes = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `mQClientFactory` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private final RPCHook rpcHook;
    private volatile ServiceState serviceState = ServiceState.CREATE_JUST;
    private MQClientInstance mQClientFactory;
    private PullAPIWrapper pullAPIWrapper;
    private volatile boolean pause = false;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `offsetStore` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private boolean consumeOrderly = false;
    private MessageListener messageListenerInner;
    private OffsetStore offsetStore;
    private ConsumeMessageService consumeMessageService;
    private ConsumeMessageService consumeMessagePopService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `stopped` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java

    class AsyncRunnable implements Runnable {
        private boolean stopped;

        @Override
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `appenderQueue` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
    private final ArrayBlockingQueue<TraceContext> traceContextQueue;
    private final HashMap<String, TraceDataSegment> taskQueueByTopic;
    private ArrayBlockingQueue<Runnable> appenderQueue;
    private volatile Thread shutDownHook;
    private volatile boolean stopped = false;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `messageQueueListener` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPullConsumer.java`
#### Snippet
```java
     * Message queue listener
     */
    private MessageQueueListener messageQueueListener;
    /**
     * Offset Storage
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `registerTopics` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPullConsumer.java`
#### Snippet
```java
     * Topic set you want to register
     */
    private Set<String> registerTopics = new HashSet<>();
    /**
     * Queue allocation algorithm
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `rebalanceImpl` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private OffsetStore offsetStore;

    private RebalanceImpl rebalanceImpl = new RebalanceLitePullImpl(this);

    private enum SubscriptionType {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `scheduledThreadPoolExecutor` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private final BlockingQueue<ConsumeRequest> consumeRequestCache = new LinkedBlockingQueue<>();

    private ScheduledThreadPoolExecutor scheduledThreadPoolExecutor;

    private final ScheduledExecutorService scheduledExecutorService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `subscriptionType` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
     * the type of subscription
     */
    private SubscriptionType subscriptionType = SubscriptionType.NONE;
    /**
     * Delay some time when exception occur
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `mQClientFactory` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private volatile ServiceState serviceState = ServiceState.CREATE_JUST;

    protected MQClientInstance mQClientFactory;

    private PullAPIWrapper pullAPIWrapper;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `assignedMessageQueue` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
        new ConcurrentHashMap<>();

    private AssignedMessageQueue assignedMessageQueue = new AssignedMessageQueue();

    private final BlockingQueue<ConsumeRequest> consumeRequestCache = new LinkedBlockingQueue<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `topicToSubExpression` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private static final long PULL_TIME_DELAY_MILLS_ON_EXCEPTION = 3 * 1000;

    private ConcurrentHashMap<String/* topic */, String/* subExpression */> topicToSubExpression = new ConcurrentHashMap<>();

    private DefaultLitePullConsumer defaultLitePullConsumer;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `defaultLitePullConsumer` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private ConcurrentHashMap<String/* topic */, String/* subExpression */> topicToSubExpression = new ConcurrentHashMap<>();

    private DefaultLitePullConsumer defaultLitePullConsumer;

    private final ConcurrentMap<MessageQueue, PullTaskImpl> taskTable =
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `pullAPIWrapper` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    protected MQClientInstance mQClientFactory;

    private PullAPIWrapper pullAPIWrapper;

    private OffsetStore offsetStore;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `offsetStore` is accessed in both synchronized and unsynchronized contexts
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private PullAPIWrapper pullAPIWrapper;

    private OffsetStore offsetStore;

    private RebalanceImpl rebalanceImpl = new RebalanceLitePullImpl(this);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `result` is accessed in both synchronized and unsynchronized contexts
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/DefaultPromise.java`
#### Snippet
```java
    private final Object lock = new Object();
    private volatile FutureState state = FutureState.DOING;
    private V result = null;
    private long timeout;
    private long createTime;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `exception` is accessed in both synchronized and unsynchronized contexts
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/DefaultPromise.java`
#### Snippet
```java
    private long timeout;
    private long createTime;
    private Throwable exception = null;
    private List<FutureListener<V>> promiseListenerList;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `promiseListenerList` is accessed in both synchronized and unsynchronized contexts
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/DefaultPromise.java`
#### Snippet
```java
    private long createTime;
    private Throwable exception = null;
    private List<FutureListener<V>> promiseListenerList;

    public DefaultPromise() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lock` is accessed in both synchronized and unsynchronized contexts
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/ListDataCollectorImpl.java`
#### Snippet
```java

    private List<Object> datas = new ArrayList<Object>();
    private boolean lock = false;

    public ListDataCollectorImpl() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `datas` is accessed in both synchronized and unsynchronized contexts
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/ListDataCollectorImpl.java`
#### Snippet
```java
public class ListDataCollectorImpl implements DataCollector {

    private List<Object> datas = new ArrayList<Object>();
    private boolean lock = false;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `collectMap` is accessed in both synchronized and unsynchronized contexts
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java
public final class DataCollectorManager {
    private static DataCollectorManager instance = new DataCollectorManager();
    private Map<String, DataCollector> collectMap = new HashMap<String, DataCollector>();
    private Object lock = new Object();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `datas` is accessed in both synchronized and unsynchronized contexts
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/MapDataCollectorImpl.java`
#### Snippet
```java
public class MapDataCollectorImpl implements DataCollector {

    private Map<Object, AtomicInteger> datas = new ConcurrentHashMap<Object, AtomicInteger>();
    private boolean lock = false;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lock` is accessed in both synchronized and unsynchronized contexts
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/MapDataCollectorImpl.java`
#### Snippet
```java

    private Map<Object, AtomicInteger> datas = new ConcurrentHashMap<Object, AtomicInteger>();
    private boolean lock = false;

    public MapDataCollectorImpl() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `log` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
    public static CommandLine commandLine = null;
    public static String configFile = null;
    public static Logger log;
    public static final SystemConfigFileHelper CONFIG_FILE_HELPER = new SystemConfigFileHelper();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `brokerOuterAPI` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    private final RebalanceLockManager rebalanceLockManager = new RebalanceLockManager();
    private final TopicRouteInfoManager topicRouteInfoManager;
    protected BrokerOuterAPI brokerOuterAPI;
    protected ScheduledExecutorService scheduledExecutorService;
    protected ScheduledExecutorService syncBrokerMemberGroupExecutorService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `transactionalMessageCheckService` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected TopicQueueMappingCleanService topicQueueMappingCleanService;
    protected FileWatchService fileWatchService;
    protected TransactionalMessageCheckService transactionalMessageCheckService;
    protected TransactionalMessageService transactionalMessageService;
    protected AbstractTransactionalMessageCheckListener transactionalMessageCheckListener;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `timerMessageStore` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    private BrokerStats brokerStats;
    private InetSocketAddress storeHost;
    private TimerMessageStore timerMessageStore;
    private TimerCheckpoint timerCheckpoint;
    protected BrokerFastFailure brokerFastFailure;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `brokerController` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/AbstractTransactionalMessageCheckListener.java`
#### Snippet
```java
    private static final Logger LOGGER = LoggerFactory.getLogger(LoggerName.TRANSACTION_LOGGER_NAME);

    private BrokerController brokerController;

    //queue nums of topic TRANS_CHECK_MAX_TIME_TOPIC
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `masterAddress` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java
    private Set<String> syncStateSet;
    private int syncStateSetEpoch = 0;
    private String masterAddress = "";
    private int masterEpoch = 0;
    private long lastSyncTimeMs = System.currentTimeMillis();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `syncStateSetEpoch` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java

    private Set<String> syncStateSet;
    private int syncStateSetEpoch = 0;
    private String masterAddress = "";
    private int masterEpoch = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `masterEpoch` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java
    private int syncStateSetEpoch = 0;
    private String masterAddress = "";
    private int masterEpoch = 0;
    private long lastSyncTimeMs = System.currentTimeMillis();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `syncStateSet` is accessed in both synchronized and unsynchronized contexts
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java
    private ScheduledFuture<?> slaveSyncFuture;

    private Set<String> syncStateSet;
    private int syncStateSetEpoch = 0;
    private String masterAddress = "";
```

## RuleId[ruleID=PointlessBitwiseExpression]
### PointlessBitwiseExpression
`0x1 << 0` can be replaced with '0x1'
in `common/src/main/java/org/apache/rocketmq/common/sysflag/SubscriptionSysFlag.java`
#### Snippet
```java
public class SubscriptionSysFlag {

    private final static int FLAG_UNIT = 0x1 << 0;

    public static int buildSysFlag(final boolean unit) {
```

### PointlessBitwiseExpression
`0x1 << 0` can be replaced with '0x1'
in `common/src/main/java/org/apache/rocketmq/common/sysflag/TopicSysFlag.java`
#### Snippet
```java
public class TopicSysFlag {

    private final static int FLAG_UNIT = 0x1 << 0;

    private final static int FLAG_UNIT_SUB = 0x1 << 1;
```

## RuleId[ruleID=HtmlWrongAttributeValue]
### HtmlWrongAttributeValue
Wrong attribute value
in `log/indexing-diagnostic/project.15375f63/diagnostic-2022-11-25-22-32-40.031.html`
#### Snippet
```java
              <td>0</td>
              <td>0</td>
              <td><textarea rows="10" cols="75" readonly="true" placeholder="empty" style="white-space: pre; border: none">Not collected for refresh</textarea></td>
            </tr>
          </tbody>
```

## RuleId[ruleID=TextLabelInSwitchStatement]
### TextLabelInSwitchStatement
Text label `label_5:` in 'switch' statement
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
                                list = new ArrayList();
                                list.add(t);
                                label_5:
                                while (true) {
                                    switch ((jjNtk == -1) ? jj_ntk() : jjNtk) {
```

## RuleId[ruleID=SynchronizeOnThis]
### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ReferenceResource.java`
#### Snippet
```java
            return;

        synchronized (this) {

            this.cleanupOver = this.cleanup(value);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
            return;
        }
        synchronized (this) {
            try {
                if (this.hasNotified.compareAndSet(true, false)) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
                    return;
                }
                this.wait(interval);
            } catch (InterruptedException e) {
                log.error("Interrupted", e);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
    public void removeFromWaitingThreadTable() {
        long currentThreadId = Thread.currentThread().getId();
        synchronized (this) {
            this.waitingThreadTable.remove(currentThreadId);
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
            return;
        }
        synchronized (this) {
            try {
                if (notified.compareAndSet(true, false)) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
                    return;
                }
                this.wait(interval);
            } catch (InterruptedException e) {
                log.error("Interrupted", e);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        boolean needNotify = hasNotified.compareAndSet(false, true);
        if (needNotify) {
            synchronized (this) {
                this.notify();
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        if (needNotify) {
            synchronized (this) {
                this.notify();
            }
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        }
        if (needNotify) {
            synchronized (this) {
                this.notifyAll();
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        if (needNotify) {
            synchronized (this) {
                this.notifyAll();
            }
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
            }

            synchronized (this) {
                this.swapRequests();
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                @Override
                public void run() {
                    synchronized (this) {
                        log.info("Shutdown hook was invoked, {}", this.shutdownTimes.incrementAndGet());
                        if (!this.hasShutdown) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
        this.stopped = true;
        log.info("shutdown thread " + this.getServiceName() + " interrupt " + interrupt);
        synchronized (this) {
            if (!this.hasNotified) {
                this.hasNotified = true;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
            if (!this.hasNotified) {
                this.hasNotified = true;
                this.notify();
            }
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `common/src/main/java/org/apache/rocketmq/common/utils/CheckpointFile.java`
#### Snippet
```java
    private List<T> read(String filePath) throws IOException {
        final ArrayList<T> result = new ArrayList<>();
        synchronized (this) {
            final File file = new File(filePath);
            if (!file.exists()) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `common/src/main/java/org/apache/rocketmq/common/utils/CheckpointFile.java`
#### Snippet
```java
            return;
        }
        synchronized (this) {
            StringBuilder entryContent = new StringBuilder();
            for (T entry : entries) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsBrief.java`
#### Snippet
```java
        totalCount.incrementAndGet();

        synchronized (this) {
            max = Math.max(max, value);
            min = Math.min(min, value);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsBrief.java`
#### Snippet
```java
        totalCount.set(0);

        synchronized (this) {
            max = 0;
            min = Long.MAX_VALUE;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
    public void start() throws MQClientException {

        synchronized (this) {
            switch (this.serviceState) {
                case CREATE_JUST:
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
            return;

        synchronized (this) {
            switch (this.serviceState) {
                case RUNNING:
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
                @Override
                public void run() {
                    synchronized (this) {
                        if (!this.hasShutdown) {
                            flush();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/ShutdownHookThread.java`
#### Snippet
```java
    @Override
    public void run() {
        synchronized (this) {
            log.info("shutdown hook was invoked, " + this.shutdownTimes.incrementAndGet() + " times.");
            if (!this.hasShutdown) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
                @Override
                public void run() {
                    synchronized (this) {
                        log.info("Shutdown hook was invoked, {}", this.shutdownTimes.incrementAndGet());
                        if (!this.hasShutdown) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java

    public void changeToSlave(final String newMasterAddress, final int newMasterEpoch, long brokerId) {
        synchronized (this) {
            if (newMasterEpoch > this.masterEpoch) {
                LOGGER.info("Begin to change to slave, brokerName={}, replicas={}, brokerId={}", this.brokerConfig.getBrokerName(), this.localAddress, brokerId);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java
            final Set<String> newSyncStateSet = this.haService.maybeShrinkInSyncStateSet();
            newSyncStateSet.add(this.localAddress);
            synchronized (this) {
                if (this.syncStateSet != null) {
                    // Check if syncStateSet changed
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java

    private void changeSyncStateSet(final Set<String> newSyncStateSet, final int newSyncStateSetEpoch) {
        synchronized (this) {
            if (newSyncStateSetEpoch > this.syncStateSetEpoch) {
                LOGGER.info("Sync state set changed from {} to {}", this.syncStateSet, newSyncStateSet);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java

    public void changeToMaster(final int newMasterEpoch, final int syncStateSetEpoch) {
        synchronized (this) {
            if (newMasterEpoch > this.masterEpoch) {
                LOGGER.info("Begin to change to master, brokerName:{}, replicas:{}, new Epoch:{}", this.brokerConfig.getBrokerName(), this.localAddress, newMasterEpoch);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java
                final int newMasterEpoch = info.getMasterEpoch();
                final long brokerId = info.getBrokerId();
                synchronized (this) {
                    // Check if master changed
                    if (newMasterEpoch > this.masterEpoch) {
```

## RuleId[ruleID=DoubleBraceInitialization]
### DoubleBraceInitialization
Double brace initialization
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMetrics.java`
#### Snippet
```java
            new ConcurrentHashMap<>(1024);

    public List<Integer> timerDist = new ArrayList<Integer>() {{
            add(5);
            add(60);
```

### DoubleBraceInitialization
Double brace initialization
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/RequestMapping.java`
#### Snippet
```java

public class RequestMapping {
    private final static Map<String, Integer> REQUEST_MAP = new HashMap<String, Integer>() {
        {
            // v2
```

### DoubleBraceInitialization
Double brace initialization
in `remoting/src/main/java/org/apache/rocketmq/remoting/metrics/RemotingMetricsConstant.java`
#### Snippet
```java
    };

    public static final Map<Integer, String> RESPONSE_CODE_MAP = new HashMap<Integer, String>() {
        {
            try {
```

### DoubleBraceInitialization
Double brace initialization
in `remoting/src/main/java/org/apache/rocketmq/remoting/metrics/RemotingMetricsConstant.java`
#### Snippet
```java
    public static final String RESULT_WRITE_CHANNEL_FAILED = "write_channel_failed";

    public static final Map<Integer, String> REQUEST_CODE_MAP = new HashMap<Integer, String>() {
        {
            try {
```

## RuleId[ruleID=UnstableTypeUsedInSignature]
### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java
    }

    public HostAndPort getHostAndPort() {
        return hostAndPort;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java
    }

    public void setHostAndPort(HostAndPort hostAndPort) {
        this.hostAndPort = hostAndPort;
    }
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.net.HostAndPort'
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java

    private AddressScheme addressScheme;
    private HostAndPort hostAndPort;

    public Address(AddressScheme addressScheme, HostAndPort hostAndPort) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java
    private HostAndPort hostAndPort;

    public Address(AddressScheme addressScheme, HostAndPort hostAndPort) {
        this.addressScheme = addressScheme;
        this.hostAndPort = hostAndPort;
```

## RuleId[ruleID=UnusedAssignment]
### UnusedAssignment
Variable `n` initializer `128` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
    // as error rate, 10/100 = 0.1
    private int f = 10;
    private int n = 128;

    // hash function num, by calculation.
```

### UnusedAssignment
Variable `f` initializer `10` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java

    // as error rate, 10/100 = 0.1
    private int f = 10;
    private int n = 128;

```

### UnusedAssignment
Variable `column` initializer `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    protected int[] bufcolumn;

    protected int column = 0;
    protected int line = 1;

```

### UnusedAssignment
Variable `k` initializer `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        }

        int i = 0, j = 0, k = 0;
        int nextColDiff = 0, columnDiff = 0;

```

### UnusedAssignment
Variable `nextColDiff` initializer `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

        int i = 0, j = 0, k = 0;
        int nextColDiff = 0, columnDiff = 0;

        while (i < len && bufline[j = start % bufsize] == bufline[k = ++start % bufsize]) {
```

### UnusedAssignment
Variable `line` initializer `1` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

    protected int column = 0;
    protected int line = 1;

    protected boolean prevCharIsCR = false;
```

### UnusedAssignment
Variable `curPos` initializer `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        Token specialToken = null;
        Token matchedToken;
        int curPos = 0;

        EOFLoop:
```

### UnusedAssignment
Variable `request` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/FlushDiskWatcher.java`
#### Snippet
```java
    public void run() {
        while (!isStopped()) {
            GroupCommitRequest request = null;
            try {
                request = commitRequests.take();
```

### UnusedAssignment
Variable `ret` initializer `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
            return false;
        }
        boolean ret = false;
        try {
            ret = cqExtUnit.read(bufferResult.getByteBuffer());
```

### UnusedAssignment
Variable `convertStringExpressions` initializer `false` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
    public static final ThreadLocal<Boolean> CONVERT_STRING_EXPRESSIONS = new ThreadLocal<>();

    boolean convertStringExpressions = false;

    /**
```

### UnusedAssignment
Variable `left` initializer `null` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    final public Expression unaryExpr() throws ParseException {
        String s = null;
        Expression left = null;
        if (jj_2_4(2147483647)) {
            jj_consume_token(31);
```

### UnusedAssignment
Variable `left` initializer `null` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        Token t;
        String s;
        ConstantExpression left = null;
        switch ((jjNtk == -1) ? jj_ntk() : jjNtk) {
            case STRING_LITERAL:
```

### UnusedAssignment
Variable `left` initializer `null` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java

    final public Expression primaryExpr() throws ParseException {
        Expression left = null;
        switch ((jjNtk == -1) ? jj_ntk() : jjNtk) {
            case TRUE:
```

### UnusedAssignment
Variable `left` initializer `null` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    final public PropertyExpression variable() throws ParseException {
        Token t;
        PropertyExpression left = null;
        t = jj_consume_token(ID);
        left = new PropertyExpression(t.image);
```

### UnusedAssignment
Variable `left` initializer `null` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    // ----------------------------------------------------------------------------
    final public BooleanExpression JmsSelector() throws ParseException {
        Expression left = null;
        left = orExpression();
        {
```

### UnusedAssignment
The value changed at `skipFileNum++` is never used
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
                    }
                } else {
                    skipFileNum++;
                    //avoid deleting files in the middle
                    break;
```

### UnusedAssignment
Variable `offset` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        MappedFile mappedFile = this.mappedFileQueue.getMappedFileByTime(timestamp);
        if (mappedFile != null) {
            long offset = 0;
            int low = minLogicOffset > mappedFile.getFileFromOffset() ? (int) (minLogicOffset - mappedFile.getFileFromOffset()) : 0;
            int high = 0;
```

### UnusedAssignment
Variable `high` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
            long offset = 0;
            int low = minLogicOffset > mappedFile.getFileFromOffset() ? (int) (minLogicOffset - mappedFile.getFileFromOffset()) : 0;
            int high = 0;
            int midOffset = -1, targetOffset = -1, leftOffset = -1, rightOffset = -1;
            long leftIndexValue = -1L, rightIndexValue = -1L;
```

### UnusedAssignment
Variable `midOffset` initializer `-1` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
            int low = minLogicOffset > mappedFile.getFileFromOffset() ? (int) (minLogicOffset - mappedFile.getFileFromOffset()) : 0;
            int high = 0;
            int midOffset = -1, targetOffset = -1, leftOffset = -1, rightOffset = -1;
            long leftIndexValue = -1L, rightIndexValue = -1L;
            long minPhysicOffset = this.messageStore.getMinPhyOffset();
```

### UnusedAssignment
Variable `elapsedTimeInLock` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
        }

        long elapsedTimeInLock = 0;
        MappedFile unlockMappedFile = null;
        MappedFile mappedFile = this.mappedFileQueue.getLastMappedFile();
```

### UnusedAssignment
Variable `result` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
        msg.setBodyCRC(UtilAll.crc32(msg.getBody()));
        // Back to Results
        AppendMessageResult result = null;

        StoreStatsService storeStatsService = this.defaultMessageStore.getStoreStatsService();
```

### UnusedAssignment
Variable `elapsedTimeInLock` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
        updateMaxMessageSize(putMessageThreadLocal);
        String topicQueueKey = generateKey(putMessageThreadLocal.getKeyBuilder(), msg);
        long elapsedTimeInLock = 0;
        MappedFile unlockMappedFile = null;
        MappedFile mappedFile = this.mappedFileQueue.getLastMappedFile();
```

### UnusedAssignment
Variable `index` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            int tryNum = 0;
            int maxTryNum = entryNum + hashSize - 4;
            int index = 0;
            do {
                if (tryNum >= maxTryNum) {
```

### UnusedAssignment
Variable `newFiles` initializer `Lists.newArrayList()` is redundant
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            log.info("replicating message is empty");   //break
        } else {
            List<MappedFile> newFiles = Lists.newArrayList();
            List<MappedFile> toCompactFiles = Lists.newArrayList(replicating.getLog().getMappedFiles());
            putMessageLock.lock();
```

### UnusedAssignment
Variable `targetBcq` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java

    protected MappedFile searchFileByOffsetOrRight(long msgOffset) {
        MappedFile targetBcq = null;
        boolean searchBcqByCacheEnable = this.messageStore.getMessageStoreConfig().isSearchBcqByCacheEnable();
        if (searchBcqByCacheEnable) {
```

### UnusedAssignment
Variable `mid` initializer `-1` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
        long targetValue) {
        int maxRight = right;
        int mid = -1;
        while (left <= right) {
            mid = ceil((left + right) / 2);
```

### UnusedAssignment
Variable `mid` initializer `-1` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    public static int binarySearchRight(ByteBuffer byteBuffer, int left, int right, final int unitSize, final int unitShift,
        long targetValue) {
        int mid = -1;
        while (left <= right) {
            mid = ceil((left + right) / 2);
```

### UnusedAssignment
Variable `next` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/plugin/AbstractPluginMessageStore.java`
#### Snippet
```java

public abstract class AbstractPluginMessageStore implements MessageStore {
    protected MessageStore next = null;
    protected MessageStorePluginContext context;

```

### UnusedAssignment
Variable `lastBuffer` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/ConsumeQueueStore.java`
#### Snippet
```java
        //Correct unSubmit consumeOffset
        if (messageStoreConfig.isDuplicationEnable()) {
            SelectMappedBufferResult lastBuffer = null;
            long startReadOffset = messageStore.getCommitLog().getConfirmOffset() == -1 ? 0 : messageStore.getCommitLog().getConfirmOffset();
            while ((lastBuffer = messageStore.selectOneMessageByOffset(startReadOffset)) != null) {
```

### UnusedAssignment
Variable `strArr` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
            @Override
            public boolean online(StatisticsItem item) {
                String[] strArr = null;
                try {
                    strArr = splitAccountStatKey(item.getStatObject());
```

### UnusedAssignment
Variable `aliveReplicasNum` initializer `1` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    private final static int MAX_PULL_MSG_SIZE = 128 * 1024 * 1024;

    private volatile int aliveReplicasNum = 1;

    // Refer the MessageStore of MasterBroker in the same process.
```

### UnusedAssignment
Variable `result` initializer `true` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    @Override
    public boolean load() {
        boolean result = true;

        try {
```

### UnusedAssignment
Variable `status` initializer `GetMessageStatus.NO_MESSAGE_IN_QUEUE` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        long beginTime = this.getSystemClock().now();

        GetMessageStatus status = GetMessageStatus.NO_MESSAGE_IN_QUEUE;
        long nextBeginOffset = offset;
        long minOffset = 0;
```

### UnusedAssignment
Variable `lastBuffer` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        //copy a new map
        ConcurrentHashMap<String, Long> newMap = new ConcurrentHashMap<>(consumeQueueStore.getTopicQueueTable());
        SelectMappedBufferResult lastBuffer = null;
        long startReadOffset = phyOffset == -1 ? 0 : phyOffset;
        while ((lastBuffer = selectOneMessageByOffset(startReadOffset)) != null) {
```

### UnusedAssignment
Variable `deleteCount` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java

        private void deleteExpiredFiles() {
            int deleteCount = 0;
            long fileReservedTime = DefaultMessageStore.this.getMessageStoreConfig().getFileReservedTime();
            int deletePhysicFilesInterval = DefaultMessageStore.this.getMessageStoreConfig().getDeleteCommitLogFilesInterval();
```

### UnusedAssignment
Variable `wroteOffset` initializer `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
                dledgerFuture = (BatchAppendFuture<AppendEntryResponse>) appendFuture;

                long wroteOffset = 0;

                int msgIdLength = (messageExtBatch.getSysFlag() & MessageSysFlag.STOREHOSTADDRESS_V6_FLAG) == 0 ? 4 + 4 + 8 : 16 + 4 + 8;
```

### UnusedAssignment
Variable `yamlDataObject` initializer `null` is redundant
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java

    public static RPCHook getAclRPCHook(InputStream inputStream) {
        JSONObject yamlDataObject = null;
        try {
            yamlDataObject = AclUtils.getYamlDataObject(inputStream, JSONObject.class);
```

### UnusedAssignment
Variable `updateAccountMap` initializer `null` is redundant
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java

        if (accessKeyTable.containsKey(plainAccessConfig.getAccessKey())) {
            Map<String, Object> updateAccountMap = null;
            String aclFileName = accessKeyTable.get(plainAccessConfig.getAccessKey());
            Map<String, Object> aclAccessConfigMap = AclUtils.getYamlDataObject(aclFileName, Map.class);
```

### UnusedAssignment
Variable `newAccountsMap` initializer `null` is redundant
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
        PlainAccessConfig plainAccessConfig) {

        Map<String, Object> newAccountsMap = null;
        if (existedAccountMap == null) {
            newAccountsMap = new LinkedHashMap<>();
```

### UnusedAssignment
Variable `topicConfigWrapper` initializer `null` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
        }

        TopicConfigSerializeWrapper topicConfigWrapper = null;
        List<String> filterServerList = null;

```

### UnusedAssignment
Variable `putMessageResult` initializer `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        }

        PutMessageResult putMessageResult = null;
        if (escapeBridgeHook != null) {
            putMessageResult = escapeBridgeHook.apply(message);
```

### UnusedAssignment
Variable `lastBrokerRole` initializer `BrokerRole.SLAVE` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    private final int precisionMs;
    private final MessageStoreConfig storeConfig;
    private volatile BrokerRole lastBrokerRole = BrokerRole.SLAVE;
    private TimerMetrics timerMetrics;
    private long lastTimeOfCheckMetrics = System.currentTimeMillis();
```

### UnusedAssignment
Variable `errorMessage` initializer `null` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientImpl.java`
#### Snippet
```java
        }
        int errorCode = ResponseCode.RPC_UNKNOWN;
        String errorMessage = null;
        if (!responseFuture.isSendRequestOK()) {
            errorCode = ResponseCode.RPC_SEND_TO_CHANNEL_FAILED;
```

### UnusedAssignment
Variable `rpcResponsePromise` initializer `null` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientImpl.java`
#### Snippet
```java
        }
        String addr = getBrokerAddrByNameOrException(request.getHeader().bname);
        Promise<RpcResponse> rpcResponsePromise = null;
        try {
            switch (request.getCode()) {
```

### UnusedAssignment
Variable `logger` initializer `null` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
    private static class NettyBridgeLogger implements io.netty.util.internal.logging.InternalLogger {

        private Logger logger = null;

        private static final String EXCEPTION_MESSAGE = "Unexpected exception:";
```

### UnusedAssignment
Variable `push` initializer `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
    public static String analyzeProcessQueue(final String clientId, ConsumerRunningInfo info) {
        StringBuilder sb = new StringBuilder();
        boolean push = false;
        {
            String property = info.getProperties().getProperty(ConsumerRunningInfo.PROP_CONSUME_TYPE);
```

### UnusedAssignment
Variable `orderMsg` initializer `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
        }

        boolean orderMsg = false;
        {
            String property = info.getProperties().getProperty(ConsumerRunningInfo.PROP_CONSUME_ORDERLY);
```

### UnusedAssignment
Variable `startForAWhile` initializer `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
        boolean push = isPushType(prev);

        boolean startForAWhile = false;
        {

```

### UnusedAssignment
Variable `messageDigest` initializer `null` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/BinaryUtil.java`
#### Snippet
```java
public class BinaryUtil {
    public static byte[] calculateMd5(byte[] binaryData) {
        MessageDigest messageDigest = null;
        try {
            messageDigest = MessageDigest.getInstance("MD5");
```

### UnusedAssignment
Variable `n` initializer `0` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
        char[] buffer = new char[1 << 12];
        long count = 0;
        for (int n = 0; (n = input.read(buffer)) >= 0; ) {
            output.write(buffer, 0, n);
            count += n;
```

### UnusedAssignment
Variable `arg` initializer `null` is redundant
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
                        if (pt != null && pt.length > 0) {
                            String cn = pt[0].getSimpleName();
                            Object arg = null;
                            if (cn.equals("int") || cn.equals("Integer")) {
                                arg = Integer.parseInt(property);
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    @Deprecated
    public static byte[] compress(final byte[] src, final int level) throws IOException {
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        java.util.zip.Deflater defeater = new java.util.zip.Deflater(level);
```

### UnusedAssignment
Variable `ip` initializer `null` is redundant
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        try {
            Enumeration allNetInterfaces = NetworkInterface.getNetworkInterfaces();
            InetAddress ip = null;
            byte[] internalIP = null;
            while (allNetInterfaces.hasMoreElements()) {
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    @Deprecated
    public static byte[] uncompress(final byte[] src) throws IOException {
        byte[] result = src;
        byte[] uncompressData = new byte[src.length];
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(src);
```

### UnusedAssignment
Variable `resp` initializer `null` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
            conn.connect();
            int respCode = conn.getResponseCode();
            String resp = null;

            if (HttpURLConnection.HTTP_OK == respCode) {
```

### UnusedAssignment
Variable `resp` initializer `null` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java

            int respCode = conn.getResponseCode();
            String resp = null;

            if (HttpURLConnection.HTTP_OK == respCode) {
```

### UnusedAssignment
Variable `brokerNumMapBeforeRemapping` initializer `null` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        Map<Integer, String> idToBroker = new HashMap<>();
        //used for remapping
        Map<String, Integer> brokerNumMapBeforeRemapping = null;
        int currentIndex = 0;
        Random random = new Random();
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/compression/ZlibCompressor.java`
#### Snippet
```java
    @Override
    public byte[] compress(byte[] src, int level) throws IOException {
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        java.util.zip.Deflater defeater = new java.util.zip.Deflater(level);
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/compression/ZlibCompressor.java`
#### Snippet
```java
    @Override
    public byte[] decompress(byte[] src) throws IOException {
        byte[] result = src;
        byte[] uncompressData = new byte[src.length];
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(src);
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/compression/ZstdCompressor.java`
#### Snippet
```java
    @Override
    public byte[] decompress(byte[] src) throws IOException {
        byte[] result = src;
        byte[] uncompressData = new byte[src.length];
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(src);
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/compression/ZstdCompressor.java`
#### Snippet
```java
    @Override
    public byte[] compress(byte[] src, int level) throws IOException {
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        ZstdOutputStream outputStream = new ZstdOutputStream(byteArrayOutputStream, level);
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/compression/Lz4Compressor.java`
#### Snippet
```java
    @Override
    public byte[] decompress(byte[] src) throws IOException {
        byte[] result = src;
        byte[] uncompressData = new byte[src.length];
        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(src);
```

### UnusedAssignment
Variable `result` initializer `src` is redundant
in `common/src/main/java/org/apache/rocketmq/common/compression/Lz4Compressor.java`
#### Snippet
```java
    @Override
    public byte[] compress(byte[] src, int level) throws IOException {
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        LZ4FrameOutputStream outputStream = new LZ4FrameOutputStream(byteArrayOutputStream);
```

### UnusedAssignment
Variable `shardingKeyIndex` initializer `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
        private final PopProcessQueue processQueue;
        private final MessageQueue messageQueue;
        private int shardingKeyIndex = 0;

        public ConsumeRequest(PopProcessQueue processQueue, MessageQueue messageQueue) {
```

### UnusedAssignment
Variable `consumeThreadPrefix` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
        this.consumeRequestQueue = new LinkedBlockingQueue<>();

        String consumeThreadPrefix = null;
        if (consumerGroup.length() > 100) {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup.substring(0, 100)).append("_").toString();
```

### UnusedAssignment
Variable `messageId` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
    public MessageExt viewMessage(String msgId)
        throws RemotingException, MQBrokerException, InterruptedException, MQClientException {
        MessageId messageId = null;
        try {
            messageId = MessageDecoder.decodeMessageId(msgId);
```

### UnusedAssignment
Variable `responseHeader` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
                                            switch (response.getCode()) {
                                                case ResponseCode.SUCCESS: {
                                                    QueryMessageResponseHeader responseHeader = null;
                                                    try {
                                                        responseHeader =
```

### UnusedAssignment
Variable `allocateResult` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
                    AllocateMessageQueueStrategy strategy = this.allocateMessageQueueStrategy;

                    List<MessageQueue> allocateResult = null;
                    try {
                        allocateResult = strategy.allocate(
```

### UnusedAssignment
Variable `nextOffset` initializer `-1L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
                    ProcessQueue pq = createProcessQueue();
                    pq.setLocked(true);
                    long nextOffset = -1L;
                    try {
                        nextOffset = this.computePullFromWhereWithException(mq);
```

### UnusedAssignment
Variable `popStatus` initializer `PopStatus.NO_NEW_MSG` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
    private PopResult processPopResponse(final String brokerName, final RemotingCommand response, String topic,
        CommandCustomHeader requestHeader) throws MQBrokerException, RemotingCommandException {
        PopStatus popStatus = PopStatus.NO_NEW_MSG;
        List<MessageExt> msgFoundList = null;
        switch (response.getCode()) {
```

### UnusedAssignment
Variable `request` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
    ) throws RemotingException, MQBrokerException, InterruptedException {
        long beginStartTime = System.currentTimeMillis();
        RemotingCommand request = null;
        String msgType = msg.getProperty(MessageConst.PROPERTY_MESSAGE_TYPE);
        boolean isReply = msgType != null && msgType.equals(MixAll.REPLY_MESSAGE_FLAG);
```

### UnusedAssignment
Variable `pullStatus` initializer `PullStatus.NO_NEW_MSG` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        final RemotingCommand response,
        final String addr) throws MQBrokerException, RemotingCommandException {
        PullStatus pullStatus = PullStatus.NO_NEW_MSG;
        switch (response.getCode()) {
            case ResponseCode.SUCCESS:
```

### UnusedAssignment
Variable `consumeMessageContext` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
        this.resetTopic(pullResult.getMsgFoundList());
        if (!this.consumeMessageHookList.isEmpty()) {
            ConsumeMessageContext consumeMessageContext = null;
            consumeMessageContext = new ConsumeMessageContext();
            consumeMessageContext.setNamespace(defaultMQPullConsumer.getNamespace());
```

### UnusedAssignment
Variable `pullTimeDelayMillsWhenException` initializer `3000` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
     * Delay some time when exception occur
     */
    private long pullTimeDelayMillsWhenException = 3000;
    /**
     * Flow control interval
```

### UnusedAssignment
Variable `offset` initializer `-1L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
            if (processQueue.isLocked()) {
                if (!pullRequest.isPreviouslyLocked()) {
                    long offset = -1L;
                    try {
                        offset = this.rebalanceImpl.computePullFromWhereWithException(pullRequest.getMessageQueue());
```

### UnusedAssignment
Variable `consumeThreadPrefix` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
        this.consumeRequestQueue = new LinkedBlockingQueue<>();

        String consumeThreadPrefix = null;
        if (consumerGroup.length() > 100) {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup, 0, 100).append("_").toString();
```

### UnusedAssignment
Variable `offsetSerializeWrapper` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
        }
        if (content != null && content.length() > 0) {
            OffsetSerializeWrapper offsetSerializeWrapper = null;
            try {
                offsetSerializeWrapper =
```

### UnusedAssignment
Variable `offsetSerializeWrapper` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
            return this.readLocalOffsetBak();
        } else {
            OffsetSerializeWrapper offsetSerializeWrapper = null;
            try {
                offsetSerializeWrapper =
```

### UnusedAssignment
Variable `mq` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        TopicPublishInfo topicPublishInfo = this.tryToFindTopicPublishInfo(msg.getTopic());
        if (topicPublishInfo != null && topicPublishInfo.ok()) {
            MessageQueue mq = null;
            try {
                List<MessageQueue> messageQueueList =
```

### UnusedAssignment
Variable `sendResult` initializer `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        Validators.checkMessage(msg, this.defaultMQProducer);

        SendResult sendResult = null;
        MessageAccessor.putProperty(msg, MessageConst.PROPERTY_TRANSACTION_PREPARED, "true");
        MessageAccessor.putProperty(msg, MessageConst.PROPERTY_PRODUCER_GROUP, this.defaultMQProducer.getProducerGroup());
```

### UnusedAssignment
The value `true` assigned to `messageCloned` is never used
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                            if (!messageCloned) {
                                tmpMessage = MessageAccessor.cloneMessage(msg);
                                messageCloned = true;
                            }
                            msg.setTopic(NamespaceUtil.withoutNamespace(msg.getTopic(), this.defaultMQProducer.getNamespace()));
```

### UnusedAssignment
Variable `endTimestamp` initializer `beginTimestampFirst` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        long beginTimestampFirst = System.currentTimeMillis();
        long beginTimestampPrev = beginTimestampFirst;
        long endTimestamp = beginTimestampFirst;
        TopicPublishInfo topicPublishInfo = this.tryToFindTopicPublishInfo(msg.getTopic());
        if (topicPublishInfo != null && topicPublishInfo.ok()) {
```

### UnusedAssignment
Variable `cacheSize` initializer `DEFAULT_CACHE_SIZE` is redundant
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/LocalCache.java`
#### Snippet
```java
    private static final int DEFAULT_CACHE_SIZE = 1000;

    private int cacheSize = DEFAULT_CACHE_SIZE;
    private CacheEvictHandler<K, V> handler;

```

### UnusedAssignment
Variable `offset` initializer `0L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
                }

                long offset = 0L;
                try {
                    offset = nextPullOffset(messageQueue);
```

### UnusedAssignment
Variable `pullTimeDelayMillsWhenException` initializer `1000` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
     * Delay some time when exception occur
     */
    private long pullTimeDelayMillsWhenException = 1000;
    /**
     * Flow control interval
```

### UnusedAssignment
Variable `offset` initializer `-1` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

    private long nextPullOffset(MessageQueue messageQueue) throws MQClientException {
        long offset = -1;
        long seekOffset = assignedMessageQueue.getSeekOffset(messageQueue);
        if (seekOffset != -1) {
```

### UnusedAssignment
Variable `filePath` initializer `""` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
    private static String lineSeparator = System.getProperty("line.separator");

    private String filePath = "";
    private String fileName = "";

```

### UnusedAssignment
Variable `fileName` initializer `""` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java

    private String filePath = "";
    private String fileName = "";

    public FileUtil(String filePath, String fileName) {
```

### UnusedAssignment
Variable `index` initializer `0` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
        int[] result = new int[n];
        Random rd = new Random();
        int index = 0;
        for (int i = 0; i < result.length; i++) {
            index = rd.nextInt(len--);
```

### UnusedAssignment
Variable `val` initializer `defval` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java

    public static Integer parseStringToInteger(String s, Integer defval) {
        Integer val = defval;
        try {
            val = Integer.parseInt(s);
```

### UnusedAssignment
Variable `val` initializer `defval` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java

    public static Long parseStringToLong(String s, Long defval) {
        Long val = defval;
        try {
            val = Long.parseLong(s);
```

### UnusedAssignment
Variable `name` initializer `""` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/parallel/Task4Test.java`
#### Snippet
```java

public class Task4Test extends ParallelTask {
    private String name = "";

    public Task4Test(String name) {
```

### UnusedAssignment
Variable `collect` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java
                if (!collectMap.containsKey(realKey)
                    || collectMap.get(realKey) instanceof MapDataCollectorImpl) {
                    DataCollector collect = null;
                    if (collectMap.containsKey(realKey)) {
                        DataCollector src = collectMap.get(realKey);
```

### UnusedAssignment
Variable `collect` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java
                if (!collectMap.containsKey(realKey)
                    || collectMap.get(realKey) instanceof ListDataCollectorImpl) {
                    DataCollector collect = null;
                    if (collectMap.containsKey(realKey)) {
                        DataCollector src = collectMap.get(realKey);
```

### UnusedAssignment
Variable `producer` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/mq/MQAsyncProducer.java`
#### Snippet
```java
public class MQAsyncProducer {
    private static Logger logger = LoggerFactory.getLogger(MQAsyncProducer.class);
    private AbstractMQProducer producer = null;
    private long msgNum;
    private int intervalMills;
```

### UnusedAssignment
Variable `nsAddr` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
    private static Logger logger  = LoggerFactory.getLogger(RMQTransactionalProducer.class);
    private TransactionMQProducer producer = null;
    private String nsAddr = null;

    public RMQTransactionalProducer(String nsAddr, String topic, TransactionListener transactionListener) {
```

### UnusedAssignment
Variable `metaqResult` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
    public ResultWrapper send(Object msg, Object arg) {
        boolean commitMsg = ((Pair<Boolean, LocalTransactionState>) arg).getObject2() == LocalTransactionState.COMMIT_MESSAGE;
        org.apache.rocketmq.client.producer.SendResult metaqResult = null;
        Message message = (Message) msg;
        try {
```

### UnusedAssignment
Variable `internalSendResult` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java

    public ResultWrapper sendMQ(Message msg, MessageQueue mq) {
        org.apache.rocketmq.client.producer.SendResult internalSendResult = null;
        try {
            long start = System.currentTimeMillis();
```

### UnusedAssignment
Variable `internalSendResult` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java

    public ResultWrapper send(Object msg, Object orderKey) {
        org.apache.rocketmq.client.producer.SendResult internalSendResult = null;
        Message message = (Message) msg;
        try {
```

### UnusedAssignment
Variable `nsAddr` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
    private static Logger logger = LoggerFactory.getLogger(RMQNormalProducer.class);
    private DefaultMQProducer producer = null;
    private String nsAddr = null;

    public RMQNormalProducer(String nsAddr, String topic) {
```

### UnusedAssignment
Variable `nsAddr` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
    private static Logger logger = LoggerFactory
        .getLogger(RMQAsyncSendProducer.class);
    private String nsAddr = null;
    private DefaultMQProducer producer = null;
    private SendCallback sendCallback = null;
```

### UnusedAssignment
Variable `sendCallback` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
    private String nsAddr = null;
    private DefaultMQProducer producer = null;
    private SendCallback sendCallback = null;
    private List<SendResult> successSendResult = Collections.synchronizedList(new ArrayList<SendResult>());
    private AtomicInteger exceptionMsgCount = new AtomicInteger(0);
```

### UnusedAssignment
Variable `msgQueue` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/order/RMQOrderListener.java`
#### Snippet
```java

    private void putMsg(MessageExt msg) {
        Collection<Object> msgQueue = null;
        String key = getKey(msg.getQueueId(), msg.getStoreHost().toString());
        if (!msgs.containsKey(key)) {
```

### UnusedAssignment
Variable `msgSize` initializer `0` is redundant
in `test/src/main/java/org/apache/rocketmq/test/factory/TagMessage.java`
#### Snippet
```java
    private List<String> tags = null;
    private String topic = null;
    private int msgSize = 0;
    private Map<String, List<Object>> rmqMsgs = new HashMap<String, List<Object>>();

```

### UnusedAssignment
Variable `topic` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/factory/TagMessage.java`
#### Snippet
```java
public class TagMessage {
    private List<String> tags = null;
    private String topic = null;
    private int msgSize = 0;
    private Map<String, List<Object>> rmqMsgs = new HashMap<String, List<Object>>();
```

### UnusedAssignment
Variable `tags` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/factory/TagMessage.java`
#### Snippet
```java

public class TagMessage {
    private List<String> tags = null;
    private String topic = null;
    private int msgSize = 0;
```

### UnusedAssignment
Variable `msgDelayTimes` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/concurrent/RMQDelayListener.java`
#### Snippet
```java

public class RMQDelayListener extends AbstractListener implements MessageListenerConcurrently {
    private DataCollector msgDelayTimes = null;

    public RMQDelayListener() {
```

### UnusedAssignment
Variable `msgBodys` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/message/MessageQueueMsg.java`
#### Snippet
```java
    private Map<MessageQueue, List<Object>> msgsWithMQ = null;
    private Map<Integer, List<Object>> msgsWithMQId = null;
    private Collection<Object> msgBodys = null;

    public MessageQueueMsg(List<MessageQueue> mqs, int msgSize) {
```

### UnusedAssignment
Variable `msgsWithMQId` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/message/MessageQueueMsg.java`
#### Snippet
```java
public class MessageQueueMsg {
    private Map<MessageQueue, List<Object>> msgsWithMQ = null;
    private Map<Integer, List<Object>> msgsWithMQId = null;
    private Collection<Object> msgBodys = null;

```

### UnusedAssignment
Variable `msgsWithMQ` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/message/MessageQueueMsg.java`
#### Snippet
```java

public class MessageQueueMsg {
    private Map<MessageQueue, List<Object>> msgsWithMQ = null;
    private Map<Integer, List<Object>> msgsWithMQId = null;
    private Collection<Object> msgBodys = null;
```

### UnusedAssignment
Variable `producerGroupName` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
    protected ResultWrapper sendResult = new ResultWrapper();
    protected boolean startSuccess = false;
    protected String producerGroupName = null;
    protected String producerInstanceName = null;
    protected boolean isDebug = false;
```

### UnusedAssignment
Variable `producerInstanceName` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
    protected boolean startSuccess = false;
    protected String producerGroupName = null;
    protected String producerInstanceName = null;
    protected boolean isDebug = false;

```

### UnusedAssignment
Variable `topic` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java

public abstract class AbstractMQProducer extends MQCollector implements MQProducer {
    protected String topic = null;

    protected ResultWrapper sendResult = new ResultWrapper();
```

### UnusedAssignment
Variable `originMsgs` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
public abstract class MQCollector {
    protected DataCollector msgBodys = null;
    protected DataCollector originMsgs = null;
    protected DataCollector errorMsgs = null;
    protected Map<Object, Object> originMsgIndex = null;
```

### UnusedAssignment
Variable `msgBodys` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java

public abstract class MQCollector {
    protected DataCollector msgBodys = null;
    protected DataCollector originMsgs = null;
    protected DataCollector errorMsgs = null;
```

### UnusedAssignment
Variable `line` initializer `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
        for (File file: dir.listFiles()) {
            BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(file), StandardCharsets.UTF_8));
            String line = null;
            TreeMap<String, String> kvs = new TreeMap<>();
            while ((line = br.readLine()) != null) {
```

### UnusedAssignment
Variable `fieldValue` initializer `"null"` is redundant
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            }
            field.setAccessible(true);
            Object fieldValue = "null";
            try {
                fieldValue = field.get(obj);
```

### UnusedAssignment
Variable `found` initializer `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicRouteInfoManager.java`
#### Snippet
```java
        }
        String brokerAddr = null;
        boolean found = false;

        Map<Long/* brokerId */, String/* address */> map = this.brokerAddrTable.get(brokerName);
```

### UnusedAssignment
The value `true` assigned to `found` is never used
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicRouteInfoManager.java`
#### Snippet
```java
                Map.Entry<Long, String> entry = map.entrySet().iterator().next();
                brokerAddr = entry.getValue();
                found = true;
            }
        }
```

### UnusedAssignment
Variable `clientChannelInfoFound` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/client/ProducerManager.java`
#### Snippet
```java

    public synchronized void registerProducer(final String group, final ClientChannelInfo clientChannelInfo) {
        ClientChannelInfo clientChannelInfoFound = null;

        ConcurrentHashMap<Channel, ClientChannelInfo> channelTable = this.groupChannelTable.get(group);
```

### UnusedAssignment
Variable `sendResult` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                RemotingCommand response = responseFuture.getResponseCommand();
                if (null != response) {
                    SendResult sendResult = null;
                    try {
                        sendResult = this.processSendResponse(brokerName, msg, response);
```

### UnusedAssignment
Variable `response` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        RemotingCommand request = RemotingCommand.createRequestCommand(RequestCode.GET_BROKER_MEMBER_GROUP, requestHeader);

        RemotingCommand response = null;
        response = this.remotingClient.invokeSync(null, request, 3000);
        assert response != null;
```

### UnusedAssignment
Variable `pullStatus` initializer `PullStatus.NO_NEW_MSG` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
            final RemotingCommand response,
            final String addr) throws MQBrokerException, RemotingCommandException {
        PullStatus pullStatus = PullStatus.NO_NEW_MSG;
        switch (response.getCode()) {
            case ResponseCode.SUCCESS:
```

### UnusedAssignment
Variable `mqtraceContext` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java`
#### Snippet
```java
    public RemotingCommand processRequest(ChannelHandlerContext ctx,
        RemotingCommand request) throws RemotingCommandException {
        SendMessageContext mqtraceContext = null;
        SendMessageRequestHeader requestHeader = parseRequestHeader(request);
        if (requestHeader == null) {
```

### UnusedAssignment
Variable `enableAsyncDeliver` initializer `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
    private int maxDelayLevel;
    private DataVersion dataVersion = new DataVersion();
    private boolean enableAsyncDeliver = false;
    private ScheduledExecutorService handleExecutorService;
    private final ScheduledExecutorService scheduledPersistService;
```

### UnusedAssignment
Variable `subscriptionData` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
        }

        SubscriptionData subscriptionData = null;
        ConsumerFilterData consumerFilterData = null;
        if (hasSubscriptionFlag) {
```

### UnusedAssignment
Variable `putMessageResult` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
            return null;
        } else {
            PutMessageResult putMessageResult = null;
            if (sendTransactionPrepareMessage) {
                putMessageResult = this.brokerController.getTransactionalMessageService().prepareMessage(msgInner);
```

### UnusedAssignment
Variable `allocateResult` initializer `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                Collections.sort(mqAll);
                Collections.sort(cidAll);
                List<MessageQueue> allocateResult = null;

                try {
```

### UnusedAssignment
Variable `maxPhysicalOffset` initializer `Long.MAX_VALUE` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
            requestHeader.setQueueId(mappingItem.getQueueId());

            long maxPhysicalOffset = Long.MAX_VALUE;
            if (maxItem.getBname().equals(mappingDetail.getBname())) {
                //current broker
```

### UnusedAssignment
Variable `pullResult` initializer `null` is redundant
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                                continue;
                            }
                            PullResult pullResult = null;
                            for (MessageQueue messageQueue : messageQueues) {
                                try {
```

### UnusedAssignment
Variable `commandLine` initializer `null` is redundant
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
        HelpFormatter hf = new HelpFormatter();
        hf.setWidth(110);
        CommandLine commandLine = null;
        try {
            commandLine = parser.parse(options, args);
```

### UnusedAssignment
Variable `commandLine` initializer `null` is redundant
in `example/src/main/java/org/apache/rocketmq/example/operation/Consumer.java`
#### Snippet
```java
        HelpFormatter hf = new HelpFormatter();
        hf.setWidth(110);
        CommandLine commandLine = null;
        try {
            commandLine = parser.parse(options, args);
```

### UnusedAssignment
Variable `times` initializer `0` is redundant
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
        statBenchmark.getCheckCount().increment();

        int times = 0;
        try {
            String checkTimes = msg.getUserProperty(MessageConst.PROPERTY_TRANSACTION_CHECK_TIMES);
```

## RuleId[ruleID=IndexOfReplaceableByContains]
### IndexOfReplaceableByContains
`startOffsetInfo.indexOf(";") < 0` can be replaced with '!startOffsetInfo.contains(";")'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
        Map<String, Long> startOffsetMap = new HashMap<>(4);
        String[] array;
        if (startOffsetInfo.indexOf(";") < 0) {
            array = new String[]{startOffsetInfo};
        } else {
```

### IndexOfReplaceableByContains
`msgOffsetInfo.indexOf(";") < 0` can be replaced with '!msgOffsetInfo.contains(";")'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
        Map<String, List<Long>> msgOffsetMap = new HashMap<>(4);
        String[] array;
        if (msgOffsetInfo.indexOf(";") < 0) {
            array = new String[]{msgOffsetInfo};
        } else {
```

### IndexOfReplaceableByContains
`orderCountInfo.indexOf(";") < 0` can be replaced with '!orderCountInfo.contains(";")'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
        Map<String, Integer> startOffsetMap = new HashMap<>(4);
        String[] array;
        if (orderCountInfo.indexOf(";") < 0) {
            array = new String[]{orderCountInfo};
        } else {
```

### IndexOfReplaceableByContains
`OS.indexOf("mac") >= 0` can be replaced with 'OS.contains("mac")'
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

    public static boolean isMac() {
        return OS.indexOf("mac") >= 0;
    }

```

### IndexOfReplaceableByContains
`OS.indexOf("sunos") >= 0` can be replaced with 'OS.contains("sunos")'
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

    public static boolean isSolaris() {
        return OS.indexOf("sunos") >= 0;
    }

```

### IndexOfReplaceableByContains
`OS.indexOf("win") >= 0` can be replaced with 'OS.contains("win")'
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

    public static boolean isWindows() {
        return OS.indexOf("win") >= 0;
    }

```

### IndexOfReplaceableByContains
`OS.indexOf("nix") >= 0` can be replaced with 'OS.contains("nix")'
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

    public static boolean isUnix() {
        return OS.indexOf("nix") >= 0
                || OS.indexOf("nux") >= 0
                || OS.indexOf("aix") > 0;
```

### IndexOfReplaceableByContains
`OS.indexOf("nux") >= 0` can be replaced with 'OS.contains("nux")'
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
    public static boolean isUnix() {
        return OS.indexOf("nix") >= 0
                || OS.indexOf("nux") >= 0
                || OS.indexOf("aix") > 0;
    }
```

## RuleId[ruleID=UnnecessarySemicolon]
### UnnecessarySemicolon
Unnecessary semicolon `;`
in `store/src/main/java/org/apache/rocketmq/store/config/BrokerRole.java`
#### Snippet
```java
    ASYNC_MASTER,
    SYNC_MASTER,
    SLAVE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `acl/src/main/java/org/apache/rocketmq/acl/common/SigningAlgorithm.java`
#### Snippet
```java
    HmacSHA1,
    HmacSHA256,
    HmacMD5;

}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommandType.java`
#### Snippet
```java
public enum RemotingCommandType {
    REQUEST_COMMAND,
    RESPONSE_COMMAND;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/route/MessageQueueRouteState.java`
#### Snippet
```java
    Normal,
    WriteOnly,
    ;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `common/src/main/java/org/apache/rocketmq/common/ServiceState.java`
#### Snippet
```java
     * Service Start failure
     */
    START_FAILED;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/Type.java`
#### Snippet
```java
    OPERATOR,
    PARENTHESIS,
    SEPAERATOR;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/ReadOffsetType.java`
#### Snippet
```java
     * From memory,then from storage
     */
    MEMORY_FIRST_THEN_STORE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `client/src/main/java/org/apache/rocketmq/client/consumer/listener/ConsumeOrderlyStatus.java`
#### Snippet
```java
     * Suspend current queue a moment
     */
    SUSPEND_CURRENT_QUEUE_A_MOMENT;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `client/src/main/java/org/apache/rocketmq/client/consumer/listener/ConsumeConcurrentlyStatus.java`
#### Snippet
```java
     * Failure consumption,later try to consume
     */
    RECONSUME_LATER;
}

```

## RuleId[ruleID=StringOperationCanBeSimplified]
### StringOperationCanBeSimplified
Unnecessary string length argument
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
                    if ((ch = str.charAt(i)) < 0x20 || ch > 0x7e) {
                        String s = "0000" + Integer.toString(ch, 16);
                        retval.append("\\u" + s.substring(s.length() - 4, s.length()));
                    } else {
                        retval.append(ch);
```

### StringOperationCanBeSimplified
Unnecessary string length argument
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
                    if ((ch = str.charAt(i)) < 0x20 || ch > 0x7e) {
                        String s = "0000" + Integer.toString(ch, 16);
                        retval.append("\\u" + s.substring(s.length() - 4, s.length()));
                    } else {
                        retval.append(ch);
```

### StringOperationCanBeSimplified
Unnecessary empty string argument
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
    public static byte[] combineRequestContent(RemotingCommand request, SortedMap<String, String> fieldsMap) {
        try {
            StringBuilder sb = new StringBuilder("");
            for (Map.Entry<String, String> entry : fieldsMap.entrySet()) {
                if (!SessionCredentials.SIGNATURE.equals(entry.getKey())) {
```

### StringOperationCanBeSimplified
Call to `substring()` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
        String consumeThreadPrefix = null;
        if (consumerGroup.length() > 100) {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup.substring(0, 100)).append("_").toString();
        } else {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup).append("_").toString();
```

## RuleId[ruleID=MethodOverloadsParentMethod]
### MethodOverloadsParentMethod
Method `send()` overloads a compatible method of a superclass, when overriding might have been intended
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
    }

    public void send(Map<MessageQueue, List<Object>> msgs) {
        for (MessageQueue mq : msgs.keySet()) {
            send(msgs.get(mq), mq);
```

## RuleId[ruleID=UnnecessaryCallToStringValueOf]
### UnnecessaryCallToStringValueOf
Unnecessary `Integer.toString()` call
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
     */
    public static String buildInstanceName() {
        return Integer.toString(UtilAll.getPid()) + "%OpenMessaging" + "%" + System.nanoTime();
    }

```

## RuleId[ruleID=CollectionContainsUrl]
### CollectionContainsUrl
Set `urlSet` may contain URL objects
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java

    private void multiplicityWarning(String resourceName, ClassLoader classLoader) {
        Set<URL> urlSet = null;
        try {
            urlSet = Loader.getResources(resourceName, classLoader);
```

## RuleId[ruleID=ProtectedMemberInFinalClass]
### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `common/src/main/java/org/apache/rocketmq/common/CountDownLatch2.java`
#### Snippet
```java
        }

        protected void reset() {
            setState(startCount);
        }
```

## RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
### PublicFieldAccessedInSynchronizedContext
Non-private field `this.cleanupOver` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/ReferenceResource.java`
#### Snippet
```java
        synchronized (this) {

            this.cleanupOver = this.cleanup(value);
        }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mappedFile` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/SelectMappedBufferResult.java`
#### Snippet
```java
    }
    public synchronized boolean hasReleased() {
        return this.mappedFile == null;
    }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mappedFile` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/SelectMappedBufferResult.java`
#### Snippet
```java

    public synchronized void release() {
        if (this.mappedFile != null) {
            this.mappedFile.release();
            this.mappedFile = null;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mappedFile` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/SelectMappedBufferResult.java`
#### Snippet
```java
    public synchronized void release() {
        if (this.mappedFile != null) {
            this.mappedFile.release();
            this.mappedFile = null;
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mappedFile` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/SelectMappedBufferResult.java`
#### Snippet
```java
        if (this.mappedFile != null) {
            this.mappedFile.release();
            this.mappedFile = null;
        }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.hasNotified` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
        synchronized (this) {
            try {
                if (this.hasNotified.compareAndSet(true, false)) {
                    this.onWaitEnd();
                    return;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.hasNotified` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
                log.error("Interrupted", e);
            } finally {
                this.hasNotified.set(false);
                this.onWaitEnd();
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.committedWhere` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
    public synchronized boolean commit(final int commitLeastPages) {
        boolean result = true;
        MappedFile mappedFile = this.findMappedFileByOffset(this.committedWhere, this.committedWhere == 0);
        if (mappedFile != null) {
            int offset = mappedFile.commit(commitLeastPages);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.committedWhere` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
    public synchronized boolean commit(final int commitLeastPages) {
        boolean result = true;
        MappedFile mappedFile = this.findMappedFileByOffset(this.committedWhere, this.committedWhere == 0);
        if (mappedFile != null) {
            int offset = mappedFile.commit(commitLeastPages);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.committedWhere` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
            int offset = mappedFile.commit(commitLeastPages);
            long where = mappedFile.getFileFromOffset() + offset;
            result = where == this.committedWhere;
            this.committedWhere = where;
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.committedWhere` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
            long where = mappedFile.getFileFromOffset() + offset;
            result = where == this.committedWhere;
            this.committedWhere = where;
        }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `hasNotified` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
                this.requestsWrite.add(request);
            }
            if (hasNotified.compareAndSet(false, true)) {
                waitPoint.countDown(); // notify
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mappedFileQueue` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
        public synchronized void roll(int baseOffset) throws IOException {

            MappedFile mappedFile = mappedFileQueue.tryCreateMappedFile(baseOffset);
            if (mappedFile == null) {
                throw new IOException("create new file error");
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `consumeQueue` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            }

            MappedFile cqFile = consumeQueue.createFile(baseOffset);
            if (cqFile == null) {
                mappedFile.destroy(1000);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mappedFileQueue` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            if (cqFile == null) {
                mappedFile.destroy(1000);
                mappedFileQueue.getMappedFiles().remove(mappedFile);
                throw new IOException("create new consumeQueue file error");
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mappedFileQueue` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java

        public synchronized void roll() throws IOException {
            MappedFile mappedFile = mappedFileQueue.getLastMappedFile(0);
            if (mappedFile == null) {
                throw new IOException("create new file error");
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `consumeQueue` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            }
            long baseOffset = mappedFile.getFileFromOffset();
            MappedFile cqFile = consumeQueue.createFile(baseOffset);
            if (cqFile == null) {
                mappedFile.destroy(1000);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mappedFileQueue` accessed in synchronized context
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            if (cqFile == null) {
                mappedFile.destroy(1000);
                mappedFileQueue.getMappedFiles().remove(mappedFile);
                throw new IOException("create new consumeQueue file error");
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcValidator.java`
#### Snippet
```java
        if (instance == null) {
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new GrpcValidator();
                }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcValidator.java`
#### Snippet
```java
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new GrpcValidator();
                }
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/ResponseBuilder.java`
#### Snippet
```java
        if (instance == null) {
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new ResponseBuilder();
                }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/ResponseBuilder.java`
#### Snippet
```java
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new ResponseBuilder();
                }
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/ResponseWriter.java`
#### Snippet
```java
        if (instance == null) {
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new ResponseWriter();
                }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/ResponseWriter.java`
#### Snippet
```java
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new ResponseWriter();
                }
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcConverter.java`
#### Snippet
```java
        if (instance == null) {
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new GrpcConverter();
                }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `instance` accessed in synchronized context
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcConverter.java`
#### Snippet
```java
            synchronized (INSTANCE_CREATE_LOCK) {
                if (instance == null) {
                    instance = new GrpcConverter();
                }
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `log` accessed in synchronized context
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                public void run() {
                    synchronized (this) {
                        log.info("Shutdown hook was invoked, {}", this.shutdownTimes.incrementAndGet());
                        if (!this.hasShutdown) {
                            this.hasShutdown = true;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `log` accessed in synchronized context
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                            brokerContainer.shutdown();
                            long consumingTimeTotal = System.currentTimeMillis() - beginTime;
                            log.info("Shutdown hook over, consuming total time(ms): {}", consumingTimeTotal);
                        }
                    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.hasNotified` accessed in synchronized context
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
        log.info("shutdown thread " + this.getServiceName() + " interrupt " + interrupt);
        synchronized (this) {
            if (!this.hasNotified) {
                this.hasNotified = true;
                this.notify();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.hasNotified` accessed in synchronized context
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
        synchronized (this) {
            if (!this.hasNotified) {
                this.hasNotified = true;
                this.notify();
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `briefs` accessed in synchronized context
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java

        public synchronized void reset() {
            for (ItemSampleBrief brief : briefs) {
                brief.reset();
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `itemNames` accessed in synchronized context
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java
            }

            for (int i = 0; i < itemNames.length; i++) {
                String name = itemNames[i];

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `itemNames` accessed in synchronized context
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java

            for (int i = 0; i < itemNames.length; i++) {
                String name = itemNames[i];

                long lastValue = lastSnapshot != null ? lastSnapshot.getItemAccumulate(name).get() : 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `briefs` accessed in synchronized context
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java
                long lastValue = lastSnapshot != null ? lastSnapshot.getItemAccumulate(name).get() : 0;
                long increment = snapshot.getItemAccumulate(name).get() - lastValue;
                briefs[i].sample(increment);
            }
            lastSnapshot = snapshot;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
            case RUNNING:
                this.persistConsumerOffset();
                this.mQClientFactory.unregisterConsumer(this.defaultMQPullConsumer.getConsumerGroup());
                this.mQClientFactory.shutdown();
                log.info("the consumer [{}] shutdown OK", this.defaultMQPullConsumer.getConsumerGroup());
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                this.persistConsumerOffset();
                this.mQClientFactory.unregisterConsumer(this.defaultMQPullConsumer.getConsumerGroup());
                this.mQClientFactory.shutdown();
                log.info("the consumer [{}] shutdown OK", this.defaultMQPullConsumer.getConsumerGroup());
                this.serviceState = ServiceState.SHUTDOWN_ALREADY;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                }

                this.mQClientFactory = MQClientManager.getInstance().getOrCreateMQClientInstance(this.defaultMQPullConsumer, this.rpcHook);

                this.rebalanceImpl.setConsumerGroup(this.defaultMQPullConsumer.getConsumerGroup());
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                this.rebalanceImpl.setMessageModel(this.defaultMQPullConsumer.getMessageModel());
                this.rebalanceImpl.setAllocateMessageQueueStrategy(this.defaultMQPullConsumer.getAllocateMessageQueueStrategy());
                this.rebalanceImpl.setmQClientFactory(this.mQClientFactory);

                this.pullAPIWrapper = new PullAPIWrapper(
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java

                this.pullAPIWrapper = new PullAPIWrapper(
                    mQClientFactory,
                    this.defaultMQPullConsumer.getConsumerGroup(), isUnitMode());
                this.pullAPIWrapper.registerFilterMessageHook(filterMessageHookList);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                    switch (this.defaultMQPullConsumer.getMessageModel()) {
                        case BROADCASTING:
                            this.offsetStore = new LocalFileOffsetStore(this.mQClientFactory, this.defaultMQPullConsumer.getConsumerGroup());
                            break;
                        case CLUSTERING:
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                            break;
                        case CLUSTERING:
                            this.offsetStore = new RemoteBrokerOffsetStore(this.mQClientFactory, this.defaultMQPullConsumer.getConsumerGroup());
                            break;
                        default:
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                this.offsetStore.load();

                boolean registerOK = mQClientFactory.registerConsumer(this.defaultMQPullConsumer.getConsumerGroup(), this);
                if (!registerOK) {
                    this.serviceState = ServiceState.CREATE_JUST;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                }

                mQClientFactory.start();
                log.info("the consumer [{}] start OK", this.defaultMQPullConsumer.getConsumerGroup());
                this.serviceState = ServiceState.RUNNING;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
            assignedMessageQueue.setRebalanceImpl(this.rebalanceImpl);
            if (serviceState == ServiceState.RUNNING) {
                this.mQClientFactory.sendHeartbeatToAllBrokerWithLock();
                updateTopicSubscribeInfoWhenSubscriptionChanged();
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
            assignedMessageQueue.setRebalanceImpl(this.rebalanceImpl);
            if (serviceState == ServiceState.RUNNING) {
                this.mQClientFactory.sendHeartbeatToAllBrokerWithLock();
                updateTopicSubscribeInfoWhenSubscriptionChanged();
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
                initOffsetStore();

                mQClientFactory.start();

                startScheduleTask();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
            assignedMessageQueue.setRebalanceImpl(this.rebalanceImpl);
            if (serviceState == ServiceState.RUNNING) {
                this.mQClientFactory.sendHeartbeatToAllBrokerWithLock();
                updateTopicSubscribeInfoWhenSubscriptionChanged();
            }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
            case RUNNING:
                persistConsumerOffset();
                this.mQClientFactory.unregisterConsumer(this.defaultLitePullConsumer.getConsumerGroup());
                scheduledThreadPoolExecutor.shutdown();
                scheduledExecutorService.shutdown();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.mQClientFactory` accessed in synchronized context
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
                scheduledThreadPoolExecutor.shutdown();
                scheduledExecutorService.shutdown();
                this.mQClientFactory.shutdown();
                this.serviceState = ServiceState.SHUTDOWN_ALREADY;
                log.info("the consumer [{}] shutdown OK", this.defaultLitePullConsumer.getConsumerGroup());
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `iterator` accessed in synchronized context
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
            @Override
            public synchronized boolean hasNext() {
                return iterator.hasNext() || iterable.iterator().hasNext();
            }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `iterator` accessed in synchronized context
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
            @Override
            public synchronized T next() {
                if (!iterator.hasNext()) {
                    iterator = iterable.iterator();
                    if (!iterator.hasNext()) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `iterator` accessed in synchronized context
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
            public synchronized T next() {
                if (!iterator.hasNext()) {
                    iterator = iterable.iterator();
                    if (!iterator.hasNext()) {
                        throw new NoSuchElementException();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `iterator` accessed in synchronized context
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
                if (!iterator.hasNext()) {
                    iterator = iterable.iterator();
                    if (!iterator.hasNext()) {
                        throw new NoSuchElementException();
                    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `iterator` accessed in synchronized context
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
                    }
                }
                return iterator.next();
            }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `iterator` accessed in synchronized context
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
            @Override
            public synchronized void remove() {
                iterator.remove();
            }
        };
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `log` accessed in synchronized context
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
                public void run() {
                    synchronized (this) {
                        log.info("Shutdown hook was invoked, {}", this.shutdownTimes.incrementAndGet());
                        if (!this.hasShutdown) {
                            this.hasShutdown = true;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `log` accessed in synchronized context
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
                            controller.shutdown();
                            long consumingTimeTotal = System.currentTimeMillis() - beginTime;
                            log.info("Shutdown hook over, consuming total time(ms): {}", consumingTimeTotal);
                        }
                    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.transactionalMessageCheckService` accessed in synchronized context
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
            LOG.info("TransactionCheckService status changed to {}", shouldStart);
            if (shouldStart) {
                this.transactionalMessageCheckService.start();
            } else {
                this.transactionalMessageCheckService.shutdown(true);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `this.transactionalMessageCheckService` accessed in synchronized context
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
                this.transactionalMessageCheckService.start();
            } else {
                this.transactionalMessageCheckService.shutdown(true);
            }
            isTransactionCheckServiceStart = shouldStart;
```

## RuleId[ruleID=RedundantSuppression]
### RedundantSuppression
Redundant suppression
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java

    @SuppressWarnings({"rawtypes", "unchecked"})
    protected Boolean compare(Comparable lv, Comparable rv) {
        return asBoolean(__compare(lv, rv, convertStringExpressions)) ? Boolean.TRUE : Boolean.FALSE;
    }
```

### RedundantSuppression
Redundant suppression
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingServer.java`
#### Snippet
```java

@SuppressWarnings("NullableProblems")
public class NettyRemotingServer extends NettyRemotingAbstract implements RemotingServer {
    private static final Logger log = LoggerFactory.getLogger(RemotingHelper.ROCKETMQ_REMOTING);
    private static final Logger TRAFFIC_LOGGER =
```

## RuleId[ruleID=NonStrictComparisonCanBeEquality]
### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        }
        File[] files = file.listFiles();
        if (files == null || files.length <= 0) {
            file.delete();
            STORE_LOG.info("delete empty direct, {}", file.getPath());
```

### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItem.java`
#### Snippet
```java

    public StatisticsItem(String statKind, String statObject, String... itemNames) {
        if (itemNames == null || itemNames.length <= 0) {
            throw new InvalidParameterException("StatisticsItem \"itemNames\" is empty");
        }
```

### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceView.java`
#### Snippet
```java
        List<TraceView> messageTraceViewList = new ArrayList<>();
        String messageBody = new String(messageExt.getBody(), StandardCharsets.UTF_8);
        if (messageBody == null || messageBody.length() <= 0) {
            return messageTraceViewList;
        }
```

### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceDataEncoder.java`
#### Snippet
```java
    public static List<TraceContext> decoderFromTraceDataString(String traceData) {
        List<TraceContext> resList = new ArrayList<>();
        if (traceData == null || traceData.length() <= 0) {
            return resList;
        }
```

### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `client/src/main/java/org/apache/rocketmq/client/latency/LatencyFaultToleranceImpl.java`
#### Snippet
```java
            Collections.sort(tmpList);
            final int half = tmpList.size() / 2;
            if (half <= 0) {
                return tmpList.get(0).getName();
            } else {
```

### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `client/src/main/java/org/apache/rocketmq/client/producer/RequestFutureHolder.java`
#### Snippet
```java
    public synchronized void shutdown(DefaultMQProducerImpl producer) {
        this.producerSet.remove(producer);
        if (this.producerSet.size() <= 0 && null != this.scheduledExecutorService) {
            ScheduledExecutorService executorService = this.scheduledExecutorService;
            this.scheduledExecutorService = null;
```

### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java

        String uniqKey = oriProps.get(MessageConst.PROPERTY_UNIQ_CLIENT_MESSAGE_ID_KEYIDX);
        if (uniqKey == null || uniqKey.length() <= 0) {
            uniqKey = MessageClientIDSetter.createUniqID();
            oriProps.put(MessageConst.PROPERTY_UNIQ_CLIENT_MESSAGE_ID_KEYIDX, uniqKey);
```

## RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'topicConfig'
in `common/src/main/java/org/apache/rocketmq/common/utils/CleanupPolicyUtils.java`
#### Snippet
```java

public class CleanupPolicyUtils {
    public static boolean isCompaction(Optional<TopicConfig> topicConfig) {
        return Objects.equals(CleanupPolicy.COMPACTION, getDeletePolicy(topicConfig));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'topicConfig'
in `common/src/main/java/org/apache/rocketmq/common/utils/CleanupPolicyUtils.java`
#### Snippet
```java
    }

    public static CleanupPolicy getDeletePolicy(Optional<TopicConfig> topicConfig) {
        if (!topicConfig.isPresent()) {
            return CleanupPolicy.valueOf(TopicAttributes.CLEANUP_POLICY_ATTRIBUTE.getDefaultValue());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'topicConfig'
in `common/src/main/java/org/apache/rocketmq/common/utils/QueueTypeUtils.java`
#### Snippet
```java
public class QueueTypeUtils {

    public static boolean isBatchCq(Optional<TopicConfig> topicConfig) {
        return Objects.equals(CQType.BatchCQ, getCQType(topicConfig));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'topicConfig'
in `common/src/main/java/org/apache/rocketmq/common/utils/QueueTypeUtils.java`
#### Snippet
```java
    }

    public static CQType getCQType(Optional<TopicConfig> topicConfig) {
        if (!topicConfig.isPresent()) {
            return CQType.valueOf(TopicAttributes.QUEUE_TYPE_ATTRIBUTE.getDefaultValue());
```

## RuleId[ruleID=CharsetObjectCanBeUsed]
### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `common/src/main/java/org/apache/rocketmq/common/utils/BinaryUtil.java`
#### Snippet
```java

    public static String generateMd5(String bodyStr) {
        byte[] bytes = calculateMd5(bodyStr.getBytes(Charset.forName("UTF-8")));
        return Hex.encodeHexString(bytes, false);
    }
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `common/src/main/java/org/apache/rocketmq/common/utils/DataConverter.java`
#### Snippet
```java

public class DataConverter {
    public static Charset charset = Charset.forName("UTF-8");

    public static byte[] Long2Byte(Long v) {
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

            if (result) {
                return new String(data, "UTF-8");
            }
        }
```

## RuleId[ruleID=SystemOutErr]
### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
     * Debug output.
     */
    public java.io.PrintStream debugStream = System.out;

    /**
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
        String tip = "The ControllerManager boot success. serializeType=" + RemotingCommand.getSerializeTypeConfigInThisServer();
        log.info(tip);
        System.out.printf("%s%n", tip);
        return controllerManager;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
                namesrvConfig.setConfigStorePath(file);

                System.out.printf("load config properties file OK, %s%n", file);
                in.close();
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java

        if (null == namesrvConfig.getRocketmqHome()) {
            System.out.printf("Please set the %s variable in your environment to match the location of the RocketMQ installation%n", MixAll.ROCKETMQ_HOME_ENV);
            System.exit(-2);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
        String tip = String.format("The Name Server boot success. serializeType=%s, address %s:%d", RemotingCommand.getSerializeTypeConfigInThisServer(), serverConfig.getBindAddress(), serverConfig.getListenPort());
        log.info(tip);
        System.out.printf("%s%n", tip);
        return controller;
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `proxy/src/main/java/org/apache/rocketmq/proxy/ProxyStartup.java`
#### Snippet
```java
            }));
        } catch (Exception e) {
            System.err.println("find an unexpect err." + e);
            e.printStackTrace();
            log.error("find an unexpect err.", e);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `proxy/src/main/java/org/apache/rocketmq/proxy/ProxyStartup.java`
#### Snippet
```java
        }

        System.out.printf("%s%n", new Date() + " rocketmq-proxy startup successfully");
        log.info(new Date() + " rocketmq-proxy startup successfully");
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java

            log.info(tip);
            System.out.printf("%s%n", tip);
            return brokerContainer;
        } catch (Throwable e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                case SLAVE:
                    if (brokerConfig.getBrokerId() <= 0) {
                        System.out.printf("Slave's brokerId must be > 0%n");
                        System.exit(-3);
                    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            || messageStoreConfig.getTotalReplicas() < messageStoreConfig.getMinInSyncReplicas()
            || messageStoreConfig.getInSyncReplicas() < messageStoreConfig.getMinInSyncReplicas()) {
            System.out.printf("invalid replicas number%n");
            System.exit(-3);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                return brokerController;
            } else {
                System.out.printf("Add broker [%s-%s] failed.%n", brokerConfig.getBrokerName(), brokerConfig.getBrokerId());
            }
        } catch (Exception e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java

            log.info(tip);
            System.out.printf("%s%n", tip);
        } catch (Throwable e) {
            e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java

            if (null == containerConfig.getRocketmqHome()) {
                System.out.printf("Please set the %s variable in your environment to match the location of the RocketMQ installation", MixAll.ROCKETMQ_HOME_ENV);
                System.exit(-2);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    System.out.printf(
                        "The Name Server Address[%s] illegal, please set it as follows, \"127.0.0.1:9876;192.168.0.1:9876\"%n",
                        namesrvAddr);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            SystemConfigFileHelper configFileHelper = new SystemConfigFileHelper();
            for (String configPath : configPaths) {
                System.out.printf("Start broker from config file path %s%n", configPath);
                configFileHelper.setFile(configPath);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
            String tip = "The Controller Server boot success. serializeType=" + RemotingCommand.getSerializeTypeConfigInThisServer();
            log.info(tip);
            System.out.printf("%s%n", tip);
            return controller;
        } catch (Throwable e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
                MixAll.properties2Object(properties, nettyClientConfig);

                System.out.printf("load config properties file OK, %s%n", file);
                in.close();
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java

        if (StringUtils.isEmpty(controllerConfig.getRocketmqHome())) {
            System.out.printf("Please set the %s or %s variable in your environment!%n", MixAll.ROCKETMQ_HOME_ENV, MixAll.ROCKETMQ_HOME_PROPERTY);
            System.exit(-1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
        }

        System.out.print(strBuilder);
        String titleString = "queue\tdupQueue\tdupMsg\r\n";
        System.out.print(titleString);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
        System.out.print(strBuilder);
        String titleString = "queue\tdupQueue\tdupMsg\r\n";
        System.out.print(titleString);

        for (int i = 0; i < msgListSize; i++)
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java

        for (int i = 0; i < msgListSize; i++)
            System.out.print(strBQueue.get(i).toString());

        if (bPrintLog) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java

            log.info(tip);
            System.out.printf("%s%n", tip);
            return controller;
        } catch (Throwable e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java

            if (null == brokerConfig.getRocketmqHome()) {
                System.out.printf("Please set the %s variable in your environment to match the location of the RocketMQ installation", MixAll.ROCKETMQ_HOME_ENV);
                System.exit(-2);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    System.out.printf(
                        "The Name Server Address[%s] illegal, please set it as follows, \"127.0.0.1:9876;192.168.0.1:9876\"%n",
                        namesrvAddr);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
                    case SLAVE:
                        if (brokerConfig.getBrokerId() <= 0) {
                            System.out.printf("Slave's brokerId must be > 0");
                            System.exit(-3);
                        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/RequestProducer.java`
#### Snippet
```java
            Message retMsg = producer.request(msg, ttl);
            long cost = System.currentTimeMillis() - begin;
            System.out.printf("request to <%s> cost: %d replyMessage: %s %n", topic, cost, retMsg);
        } catch (Exception e) {
            e.printStackTrace();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/AsyncRequestProducer.java`
#### Snippet
```java
                @Override
                public void onException(Throwable e) {
                    System.err.printf("request to <%s> fail.", topic);
                }
            }, ttl);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/AsyncRequestProducer.java`
#### Snippet
```java
                public void onSuccess(Message message) {
                    long cost = System.currentTimeMillis() - begin;
                    System.out.printf("request to <%s> cost: %d replyMessage: %s %n", topic, cost, message);
                }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/batch/SimpleBatchProducer.java`
#### Snippet
```java

        SendResult sendResult = producer.send(messages);
        System.out.printf("%s", sendResult);
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs, ConsumeConcurrentlyContext context) {
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                for (MessageExt msg : msgs) {
                    try {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
                for (MessageExt msg : msgs) {
                    try {
                        System.out.printf("handle message: %s %n", msg.toString());
                        String replyTo = MessageUtil.getReplyToClient(msg);
                        byte[] replyContent = "reply message contents.".getBytes(StandardCharsets.UTF_8);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
                        // send reply message with producer
                        SendResult replyResult = replyProducer.send(replyMessage, 3000);
                        System.out.printf("reply to %s , %s %n", replyTo, replyResult.toString());
                    } catch (MQClientException | RemotingException | MQBrokerException | InterruptedException e) {
                        e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
        consumer.subscribe(topic, "*");
        consumer.start();
        System.out.printf("Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/batch/SplitBatchProducer.java`
#### Snippet
```java
            List<Message> listItem = splitter.next();
            SendResult sendResult = producer.send(listItem);
            System.out.printf("%s", sendResult);
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/filter/TagFilterConsumer.java`
#### Snippet
```java
        consumer.start();

        System.out.printf("Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/filter/TagFilterConsumer.java`
#### Snippet
```java
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,
                ConsumeConcurrentlyContext context) {
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/filter/SqlFilterConsumer.java`
#### Snippet
```java

        consumer.start();
        System.out.printf("Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/filter/SqlFilterConsumer.java`
#### Snippet
```java
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,
                ConsumeConcurrentlyContext context) {
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/filter/SqlFilterProducer.java`
#### Snippet
```java

            SendResult sendResult = producer.send(msg);
            System.out.printf("%s%n", sendResult);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/filter/TagFilterProducer.java`
#### Snippet
```java

            SendResult sendResult = producer.send(msg);
            System.out.printf("%s%n", sendResult);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerSubscribe.java`
#### Snippet
```java
            while (running) {
                List<MessageExt> messageExts = litePullConsumer.poll();
                System.out.printf("%s%n", messageExts);
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerAssign.java`
#### Snippet
```java
            while (running) {
                List<MessageExt> messageExts = litePullConsumer.poll();
                System.out.printf("%s %n", messageExts);
                litePullConsumer.commitSync();
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/Producer.java`
#### Snippet
```java
                Message msg = new Message(TOPIC, TAG, "OrderID188", "Hello world".getBytes(StandardCharsets.UTF_8));
                SendResult sendResult = producer.send(msg);
                System.out.printf("%s%n", sendResult);
            } catch (Exception e) {
                e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerAssignWithSubExpression.java`
#### Snippet
```java
            while (running) {
                List<MessageExt> messageExts = litePullConsumer.poll();
                System.out.printf("%s %n", messageExts);
                litePullConsumer.commitSync();
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullScheduleService.java`
#### Snippet
```java

                    PullResult pullResult = consumer.pull(mq, "*", offset, 32);
                    System.out.printf("%s%n", offset + "\t" + mq + "\t" + pullResult);
                    switch (pullResult.getPullStatus()) {
                        case FOUND:
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/schedule/TimerMessageConsumer.java`
#### Snippet
```java
            for (MessageExt message : messages) {
                // Print approximate delay time period
                System.out.printf("Receive message[msgId=%s %d  ms later]\n", message.getMsgId(),
                    System.currentTimeMillis() - message.getBornTimestamp());
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AsyncProducer.java`
#### Snippet
```java
                    public void onSuccess(SendResult sendResult) {
                        countDownLatch.countDown();
                        System.out.printf("%-10d OK %s %n", index, sendResult.getMsgId());
                    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AsyncProducer.java`
#### Snippet
```java
                    public void onException(Throwable e) {
                        countDownLatch.countDown();
                        System.out.printf("%-10d Exception %s %n", index, e);
                        e.printStackTrace();
                    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/schedule/ScheduledMessageProducer.java`
#### Snippet
```java
            // Send the message
            SendResult result = producer.send(message);
            System.out.print(result);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PushConsumer.java`
#### Snippet
```java
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs, ConsumeConcurrentlyContext context) {
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PushConsumer.java`
#### Snippet
```java
        });
        consumer.start();
        System.out.printf("Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/schedule/ScheduledMessageConsumer.java`
#### Snippet
```java
            for (MessageExt message : messages) {
                // Print approximate delay time period
                System.out.printf("Receive message[msgId=%s %d  ms later]\n", message.getMsgId(),
                    System.currentTimeMillis() - message.getStoreTimestamp());
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/schedule/TimerMessageProducer.java`
#### Snippet
```java
            // Send the message
            SendResult result = producer.send(message);
            System.out.printf(result + "\n");
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/broadcast/PushConsumer.java`
#### Snippet
```java

        consumer.registerMessageListener((MessageListenerConcurrently) (msgs, context) -> {
            System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
            return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/broadcast/PushConsumer.java`
#### Snippet
```java

        consumer.start();
        System.out.printf("Broadcast Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerConsumer.java`
#### Snippet
```java

        consumer.start();
        System.out.printf("Start receiving messages%n");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerConsumer.java`
#### Snippet
```java
        final String namesrvAddr = commandLine.hasOption('n') ? commandLine.getOptionValue('t').trim() : "localhost:9876";
        topic = commandLine.hasOption('t') ? commandLine.getOptionValue('t').trim() : "BenchmarkTest";
        System.out.printf("namesrvAddr: %s, topic: %s%n", namesrvAddr, topic);

        consumer = new DefaultMQPushConsumer("benchmark_consumer");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerConsumer.java`
#### Snippet
```java
                    List<Long> delayedDurationList = new ArrayList<>(TimerConsumer.this.statsBenchmark.getDelayedDurationMsSet());
                    if (delayedDurationList.isEmpty()) {
                        System.out.printf("Consume TPS: %d, Avg delayedDuration: %7.3f, Max delayedDuration: 0, %n",
                                consumeTps, avgDelayedDuration);
                    } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerConsumer.java`
#### Snippet
```java
                        long delayedDuration999 = delayedDurationList.get((int) (delayedDurationList.size() * 0.999));

                        System.out.printf("Consume TPS: %d, Avg delayedDuration: %7.3f, Max delayedDuration: %d, " +
                                        "delayDuration %%25: %d, %%50: %d; %%80: %d; %%90: %d; %%99: %d; %%99.9: %d%n",
                                consumeTps, avgDelayedDuration, delayedDurationList.get(delayedDurationList.size() - 1),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/PushConsumerWithNamespace.java`
#### Snippet
```java
        defaultMQPushConsumer.subscribe(TOPIC, "*");
        defaultMQPushConsumer.registerMessageListener((MessageListenerConcurrently) (msgs, context) -> {
            msgs.forEach(msg -> System.out.printf("Msg topic is:%s, MsgId is:%s, reconsumeTimes is:%s%n", msg.getTopic(), msg.getMsgId(), msg.getReconsumeTimes()));
            return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
        });
        consumer.start();
        System.out.printf("Consumer Started.%n");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
                        "Hello world".getBytes(RemotingHelper.DEFAULT_CHARSET));
                    SendResult sendResult = producer.send(msg);
                    System.out.printf("%s%n", sendResult);
                }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
        Set<MessageQueue> mqs = consumer.fetchSubscribeMessageQueues("TopicTest");
        for (MessageQueue mq : mqs) {
            System.out.printf("Consume from the queue: %s%n", mq);
            SINGLE_MQ:
            while (true) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
                    PullResult pullResult =
                        consumer.pullBlockIfNotFound(mq, null, getMessageQueueOffset(mq), 32);
                    System.out.printf("%s%n", pullResult);
                    putMessageQueueOffset(mq, pullResult.getNextBeginOffset());
                    printBody(pullResult);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
        for (MessageExt m : msg) {
            if (m != null) {
                System.out.printf("msgId : %s  body : %s  \n\r", m.getMsgId(), new String(m.getBody(), StandardCharsets.UTF_8));
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs, ConsumeConcurrentlyContext context) {
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                printBody(msgs);
                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/ProducerWithNamespace.java`
#### Snippet
```java
            try {
                SendResult result = producer.send(message);
                System.out.printf("Topic:%s send success, misId is:%s%n", message.getTopic(), result.getMsgId());
            } catch (Exception e) {
                e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
        }
        pullResult.getMsgFoundList().forEach(
            msg -> System.out.printf("Topic is:%s, msgId is:%s%n", msg.getTopic(), msg.getMsgId()));
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
        Set<MessageQueue> mqs = pullConsumer.fetchSubscribeMessageQueues(TOPIC);
        for (MessageQueue mq : mqs) {
            System.out.printf("Consume from the topic: %s, queue: %s%n", mq.getTopic(), mq);
            SINGLE_MQ:
            while (true) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
                    PullResult pullResult =
                        pullConsumer.pullBlockIfNotFound(mq, null, getMessageQueueOffset(mq), 32);
                    System.out.printf("%s%n", pullResult);

                    putMessageQueueOffset(mq, pullResult.getNextBeginOffset());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
                    final double averageMsgRT = (end[5] - begin[5]) / (double) (end[3] - begin[3]);

                    System.out.printf("Current Time: %s | Send TPS: %d | Send MPS: %d | Max RT(ms): %d | Average RT(ms): %7.3f | Average Message RT(ms): %7.3f | Send Failed: %d | Send Message Failed: %d%n",
                        UtilAll.timeMillisToHumanString2(System.currentTimeMillis()), sendTps, sendMps, getSendMessageMaxRT().longValue(), averageRT, averageMsgRT, end[2], end[4]);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
        final boolean aclEnable = getOptionValue(commandLine, 'a', false);

        System.out.printf("topic: %s, threadCount: %d, messageSize: %d, batchSize: %d, keyEnable: %s, propertySize: %d, tagCount: %d, traceEnable: %s, aclEnable: %s%n",
            topic, threadCount, messageSize, batchSize, keyEnable, propertySize, tagCount, msgTraceEnable, aclEnable);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/quickstart/Producer.java`
#### Snippet
```java
                 */

                System.out.printf("%s%n", sendResult);
            } catch (Exception e) {
                e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
        msgsTotalPerSlotThread = commandLine.hasOption("mt") ? Integer.parseInt(commandLine.getOptionValue("mt")) : 5000;
        slotDis = commandLine.hasOption("sd") ? Integer.parseInt(commandLine.getOptionValue("sd")) : 1000;
        System.out.printf("namesrvAddr: %s, topic: %s, threadCount: %d, messageSize: %d, precisionMs: %d, slotsTotal: %d, msgsTotalPerSlotThread: %d, slotDis: %d%n",
                namesrvAddr, topic, threadCount, messageSize, precisionMs, slotsTotal, msgsTotalPerSlotThread, slotDis);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
    public void start() throws MQClientException {
        producer.start();
        System.out.printf("Start sending messages%n");
        List<Long> delayList = new ArrayList<>();
        final long startDelayTime = System.currentTimeMillis() / precisionMs * precisionMs + 2 * 60 * 1000 + 10;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
                    final double averageRT = (end[5] - begin[5]) / (double) (end[3] - begin[3]);

                    System.out.printf("Send TPS: %d, Max RT: %d, Average RT: %7.3f, Send Failed: %d, Response Failed: %d%n",
                            sendTps, statsBenchmark.getSendMessageMaxRT().get(), averageRT, end[2], end[4]);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/quickstart/Consumer.java`
#### Snippet
```java
         */
        consumer.registerMessageListener((MessageListenerConcurrently) (msg, context) -> {
            System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msg);
            return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/quickstart/Consumer.java`
#### Snippet
```java
        consumer.start();

        System.out.printf("Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
                        ("Hello RocketMQ " + i).getBytes(RemotingHelper.DEFAULT_CHARSET));
                    SendResult sendResult = producer.send(msg);
                    System.out.printf("%-8d %s%n", i, sendResult);
                } catch (Exception e) {
                    e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/operation/Consumer.java`
#### Snippet
```java
            consumer.start();

            System.out.printf("Consumer Started.%n");
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/operation/Consumer.java`
#### Snippet
```java
                    ConsumeConcurrentlyContext context) {
                    long currentTimes = this.consumeTimes.incrementAndGet();
                    System.out.printf("%-8d %s%n", currentTimes, msgs);
                    if (Boolean.parseBoolean(returnFailedHalf)) {
                        if ((currentTimes % 2) == 0) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Consumer.java`
#### Snippet
```java

        consumer.start();
        System.out.printf("Consumer Started.%n");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Consumer.java`
#### Snippet
```java
            public ConsumeOrderlyStatus consumeMessage(List<MessageExt> msgs, ConsumeOrderlyContext context) {
                context.setAutoCommit(true);
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                this.consumeTimes.incrementAndGet();
                if ((this.consumeTimes.get() % 2) == 0) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/transaction/TransactionProducer.java`
#### Snippet
```java
                        ("Hello RocketMQ " + i).getBytes(RemotingHelper.DEFAULT_CHARSET));
                SendResult sendResult = producer.sendMessageInTransaction(msg, null);
                System.out.printf("%s%n", sendResult);

                Thread.sleep(10);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Producer.java`
#### Snippet
```java
                }, orderId);

                System.out.printf("%s%n", sendResult);
            }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/TracePushConsumer.java`
#### Snippet
```java
        consumer.setConsumeTimestamp("20181109221800");
        consumer.registerMessageListener((MessageListenerConcurrently) (msgs, context) -> {
            System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
            return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/TracePushConsumer.java`
#### Snippet
```java
        });
        consumer.start();
        System.out.printf("Consumer Started.%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
        final int threadCount = asyncEnable ? 1 : commandLine.hasOption('w') ? Integer.parseInt(commandLine.getOptionValue('w')) : 64;

        System.out.printf("topic: %s, threadCount: %d, messageSize: %d, keyEnable: %s, propertySize: %d, tagCount: %d, " +
                "traceEnable: %s, aclEnable: %s, messageQuantity: %d, delayEnable: %s, delayLevel: %s, " +
                "asyncEnable: %s%n",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                doPrintStats(snapshotList, statsBenchmark, true);
            } else {
                System.out.printf("[Complete] Send Total: %d Send Failed: %d Response Failed: %d%n",
                    statsBenchmark.getSendRequestSuccessCount().longValue() + statsBenchmark.getSendRequestFailedCount().longValue(),
                    statsBenchmark.getSendRequestFailedCount().longValue(), statsBenchmark.getReceiveResponseFailedCount().longValue());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java

        if (done) {
            System.out.printf("[Complete] Send Total: %d | Send TPS: %d | Max RT(ms): %d | Average RT(ms): %7.3f | Send Failed: %d | Response Failed: %d%n",
                statsBenchmark.getSendRequestSuccessCount().longValue() + statsBenchmark.getSendRequestFailedCount().longValue(),
                sendTps, statsBenchmark.getSendMessageMaxRT().longValue(), averageRT, end[2], end[4]);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                sendTps, statsBenchmark.getSendMessageMaxRT().longValue(), averageRT, end[2], end[4]);
        } else {
            System.out.printf("Current Time: %s | Send TPS: %d | Max RT(ms): %d | Average RT(ms): %7.3f | Send Failed: %d | Response Failed: %d%n",
                UtilAll.timeMillisToHumanString2(System.currentTimeMillis()), sendTps, statsBenchmark.getSendMessageMaxRT().longValue(), averageRT, end[2], end[4]);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingPushConsumer.java`
#### Snippet
```java
        consumer.setConsumeTimestamp("20181109221800");
        consumer.registerMessageListener((MessageListenerConcurrently) (msgs, context) -> {
            System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
            return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;
        });
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingPushConsumer.java`
#### Snippet
```java
        });
        consumer.start();
        System.out.printf("Consumer Started.%n");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingProducer.java`
#### Snippet
```java
                "Hello world".getBytes(RemotingHelper.DEFAULT_CHARSET));
            SendResult sendResult = producer.send(msg);
            System.out.printf("%s%n", sendResult);

        } catch (Exception e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java

        messagingAccessPoint.startup();
        System.out.printf("MessagingAccessPoint startup OK%n");

        final String queueName = "TopicTest";
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java
        Message msg = producer.createBytesMessage(queueName, "Hello Open Messaging".getBytes(StandardCharsets.UTF_8));
        SendResult sendResult = producer.send(msg);
        System.out.printf("Send Message OK. MsgId: %s%n", sendResult.messageId());
        producer.shutdown();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/TraceProducer.java`
#### Snippet
```java
                        "Hello world".getBytes(RemotingHelper.DEFAULT_CHARSET));
                    SendResult sendResult = producer.send(msg);
                    System.out.printf("%s%n", sendResult);
                }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java

        consumer.startup();
        System.out.printf("Consumer startup OK%n");

        // Keep running until we find the one that has just been sent
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java
            if (message != null) {
                String msgId = message.sysHeaders().getString(Message.BuiltinKeys.MESSAGE_ID);
                System.out.printf("Received one message: %s%n", msgId);
                consumer.ack(msgId);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java

            } else {
                System.out.printf("Return without any message%n");
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingTransactionProducer.java`
#### Snippet
```java
                "Hello RocketMQ".getBytes(RemotingHelper.DEFAULT_CHARSET));
            SendResult sendResult = producer.sendMessageInTransaction(msg, null);
            System.out.printf("%s%n", sendResult);
        } catch (MQClientException | UnsupportedEncodingException e) {
            e.printStackTrace();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePushConsumer.java`
#### Snippet
```java

        messagingAccessPoint.startup();
        System.out.printf("MessagingAccessPoint startup OK%n");

        Runtime.getRuntime().addShutdownHook(new Thread(() -> {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePushConsumer.java`
#### Snippet
```java

        consumer.attachQueue(QUEUE, (message, context) -> {
            System.out.printf("Received one message: %s%n", message.sysHeaders().getString(Message.BuiltinKeys.MESSAGE_ID));
            context.ack();
        });
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePushConsumer.java`
#### Snippet
```java

        consumer.startup();
        System.out.printf("Consumer startup OK%n");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java

        messagingAccessPoint.startup();
        System.out.printf("MessagingAccessPoint startup OK%n");

        producer.startup();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java

        producer.startup();
        System.out.printf("Producer startup OK%n");

        {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java
            SendResult sendResult = producer.send(message);
            //final Void aVoid = result.get(3000L);
            System.out.printf("Send async message OK, msgId: %s%n", sendResult.messageId());
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java
            result.addListener(future -> {
                if (future.getThrowable() != null) {
                    System.out.printf("Send async message Failed, error: %s%n", future.getThrowable().getMessage());
                } else {
                    System.out.printf("Send async message OK, msgId: %s%n", future.get().messageId());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java
                    System.out.printf("Send async message Failed, error: %s%n", future.getThrowable().getMessage());
                } else {
                    System.out.printf("Send async message OK, msgId: %s%n", future.get().messageId());
                }
                countDownLatch.countDown();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java
        {
            producer.sendOneway(producer.createBytesMessage("OMS_HELLO_TOPIC", "OMS_HELLO_BODY".getBytes(StandardCharsets.UTF_8)));
            System.out.printf("Send oneway message OK%n");
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
                    statsBenchmarkConsumer.getStore2ConsumerMaxRT().set(0);

                    System.out.printf("Current Time: %s | Consume TPS: %d | AVG(B2C) RT(ms): %7.3f | AVG(S2C) RT(ms): %7.3f | MAX(B2C) RT(ms): %d | MAX(S2C) RT(ms): %d | Consume Fail: %d%n",
                        UtilAll.timeMillisToHumanString2(System.currentTimeMillis()), consumeTps, averageB2CRT, averageS2CRT, b2cMax, s2cMax, failCount);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
        }

        System.out.printf("topic: %s, threadCount %d, group: %s, suffix: %s, filterType: %s, expression: %s, msgTraceEnable: %s, aclEnable: %s%n",
            topic, threadCount, group, isSuffixEnable, filterType, expression, msgTraceEnable, aclEnable);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
            if (ExpressionType.TAG.equals(filterType)) {
                String expr = MixAll.file2String(expression);
                System.out.printf("Expression: %s%n", expr);
                consumer.subscribe(topic, MessageSelector.byTag(expr));
            } else if (ExpressionType.SQL92.equals(filterType)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
            } else if (ExpressionType.SQL92.equals(filterType)) {
                String expr = MixAll.file2String(expression);
                System.out.printf("Expression: %s%n", expr);
                consumer.subscribe(topic, MessageSelector.bySql(expr));
            } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
        consumer.start();

        System.out.printf("Consumer Started.%n");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
                    final long dupCheck = end.duplicatedCheck - begin.duplicatedCheck;

                    System.out.printf(
                        "Current Time: %s | Send TPS: %5d | Max RT(ms): %5d | AVG RT(ms): %3.1f | Send Failed: %d | Check: %d | UnexpectedCheck: %d | DuplicatedCheck: %d%n",
                        UtilAll.timeMillisToHumanString2(System.currentTimeMillis()), sendTps, statsBenchmark.getSendMessageMaxRT().get(), averageRT, failCount, checkCount,
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
        }
        if (msgMeta.sendResult != LocalTransactionState.UNKNOW) {
            System.out.printf("%s unexpected check: msgId=%s,txId=%s,checkTimes=%s,sendResult=%s\n",
                new SimpleDateFormat("HH:mm:ss,SSS").format(new Date()),
                msg.getMsgId(), msg.getTransactionId(),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
            LocalTransactionState s = msgMeta.checkResult.get(i);
            if (s != LocalTransactionState.UNKNOW) {
                System.out.printf("%s unexpected check: msgId=%s,txId=%s,checkTimes=%s,sendResult,lastCheckResult=%s\n",
                    new SimpleDateFormat("HH:mm:ss,SSS").format(new Date()),
                    msg.getMsgId(), msg.getTransactionId(),
```

## RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/filter/FilterAPI.java`
#### Snippet
```java
            subscriptionData.setSubString(SubscriptionData.SUB_ALL);
        } else {
            String[] tags = subString.split("\\|\\|");
            if (tags.length > 0) {
                for (String tag : tags) {
```

### DynamicRegexReplaceableByCompiledPattern
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `common/src/main/java/org/apache/rocketmq/common/logging/JoranConfiguratorExt.java`
#### Snippet
```java
        try {
            String str = CharStreams.toString(new InputStreamReader(in, StandardCharsets.UTF_8));
            str = str.replace("\"ch.qos.logback", "\"org.apache.rocketmq.logging.ch.qos.logback");
            return new ByteArrayInputStream(str.getBytes(StandardCharsets.UTF_8));
        } finally {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/BeanUtils.java`
#### Snippet
```java
            final Set<String> keySet = properties.keySet();
            for (String key : keySet) {
                String[] keyGroup = key.split("[\\._]");
                for (int i = 0; i < keyGroup.length; i++) {
                    keyGroup[i] = keyGroup[i].toLowerCase();
```

### DynamicRegexReplaceableByCompiledPattern
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            byte[] b = new byte[1024];
            int n = System.in.read(b);
            String s = new String(b, 0, n - 1, StandardCharsets.UTF_8).replace("\r", "").replace("\n", "");
            while (!s.equals(keyWord)) {
                n = System.in.read(b);
```

### DynamicRegexReplaceableByCompiledPattern
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            byte[] b = new byte[1024];
            int n = System.in.read(b);
            String s = new String(b, 0, n - 1, StandardCharsets.UTF_8).replace("\r", "").replace("\n", "");
            while (!s.equals(keyWord)) {
                n = System.in.read(b);
```

### DynamicRegexReplaceableByCompiledPattern
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            map.putAll(buildSchemaOfFields(apiClass));
            map.putAll(buildSchemaOfMethods(apiClass));
            schemaMap.put(apiClass.getName().replace("org.apache.rocketmq.", ""), map);
        }
        return schemaMap;
```

### DynamicRegexReplaceableByCompiledPattern
`replace()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            }
            br.close();
            schemaMap.put(file.getName().replace(".schema", ""), kvs);
        }
        return schemaMap;
```

## RuleId[ruleID=ComparatorMethodParameterNotUsed]
### ComparatorMethodParameterNotUsed
Comparator does not return 0 for equal elements
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/PopRequest.java`
#### Snippet
```java
    public static final Comparator<PopRequest> COMPARATOR = new Comparator<PopRequest>() {
        @Override
        public int compare(PopRequest o1, PopRequest o2) {
            int ret = (int) (o1.getExpired() - o2.getExpired());

```

## RuleId[ruleID=NonProtectedConstructorInAbstractClass]
### NonProtectedConstructorInAbstractClass
Constructor `UnaryInExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryInExpression.java`
#### Snippet
```java
    private Collection inList;

    public UnaryInExpression(Expression left, UnaryType unaryType,
        Collection inList, boolean not) {
        super(left, unaryType);
```

### NonProtectedConstructorInAbstractClass
Constructor `BinaryExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/BinaryExpression.java`
#### Snippet
```java
    protected Expression right;

    public BinaryExpression(Expression left, Expression right) {
        this.left = left;
        this.right = right;
```

### NonProtectedConstructorInAbstractClass
Constructor `LogicExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
     * @param right
     */
    public LogicExpression(BooleanExpression left, BooleanExpression right) {
        super(left, right);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `UnaryExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
    }

    public UnaryExpression(Expression left, UnaryType unaryType) {
        this.setUnaryType(unaryType);
        this.right = left;
```

### NonProtectedConstructorInAbstractClass
Constructor `BooleanUnaryExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java

    abstract static class BooleanUnaryExpression extends UnaryExpression implements BooleanExpression {
        public BooleanUnaryExpression(Expression left, UnaryType unaryType) {
            super(left, unaryType);
        }
```

### NonProtectedConstructorInAbstractClass
Constructor `UnaryExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
    public UnaryType unaryType;

    public UnaryExpression(Expression left) {
        this.right = left;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `ComparisonExpression()` of an abstract class should not be declared 'public'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
     * @param right
     */
    public ComparisonExpression(Expression left, Expression right) {
        super(left, right);
        convertStringExpressions = CONVERT_STRING_EXPRESSIONS.get() != null;
```

### NonProtectedConstructorInAbstractClass
Constructor `AcceptSocketService()` of an abstract class should not be declared 'public'
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAService.java`
#### Snippet
```java
        private final MessageStoreConfig messageStoreConfig;

        public AcceptSocketService(final MessageStoreConfig messageStoreConfig) {
            this.messageStoreConfig = messageStoreConfig;
            this.socketAddressListen = new InetSocketAddress(messageStoreConfig.getHaListenPort());
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractWriteSocketService()` of an abstract class should not be declared 'public'
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        protected long transferOffset = 0;

        public AbstractWriteSocketService(final SocketChannel socketChannel) throws IOException {
            this.selector = NetworkUtil.openSelector();
            this.socketChannel = socketChannel;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractPluginMessageStore()` of an abstract class should not be declared 'public'
in `store/src/main/java/org/apache/rocketmq/store/plugin/AbstractPluginMessageStore.java`
#### Snippet
```java
    protected MessageStorePluginContext context;

    public AbstractPluginMessageStore(MessageStorePluginContext context, MessageStore next) {
        this.next = next;
        this.context = context;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractMessingActivity()` of an abstract class should not be declared 'public'
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/AbstractMessingActivity.java`
#### Snippet
```java
    protected final GrpcChannelManager grpcChannelManager;

    public AbstractMessingActivity(MessagingProcessor messagingProcessor,
        GrpcClientSettingsManager grpcClientSettingsManager, GrpcChannelManager grpcChannelManager) {
        this.messagingProcessor = messagingProcessor;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractCacheLoader()` of an abstract class should not be declared 'public'
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/AbstractCacheLoader.java`
#### Snippet
```java
    private final ThreadPoolExecutor cacheRefreshExecutor;

    public AbstractCacheLoader(ThreadPoolExecutor cacheRefreshExecutor) {
        this.cacheRefreshExecutor = cacheRefreshExecutor;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractProxyRelayService()` of an abstract class should not be declared 'public'
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/AbstractProxyRelayService.java`
#### Snippet
```java
    protected final TransactionService transactionService;

    public AbstractProxyRelayService(TransactionService transactionService) {
        this.transactionService = transactionService;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `TopicRouteService()` of an abstract class should not be declared 'public'
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteService.java`
#### Snippet
```java


    public TopicRouteService(MQClientAPIFactory mqClientAPIFactory) {
        ProxyConfig config = ConfigurationManager.getProxyConfig();

```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractTopicRouteCacheLoader()` of an abstract class should not be declared 'public'
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteService.java`
#### Snippet
```java
    protected abstract class AbstractTopicRouteCacheLoader extends AbstractCacheLoader<String, MessageQueueView> {

        public AbstractTopicRouteCacheLoader() {
            super(cacheRefreshExecutor);
        }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractProcessor()` of an abstract class should not be declared 'public'
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/AbstractProcessor.java`
#### Snippet
```java
    protected ServiceManager serviceManager;

    public AbstractProcessor(MessagingProcessor messagingProcessor,
        ServiceManager serviceManager) {
        this.messagingProcessor = messagingProcessor;
```

### NonProtectedConstructorInAbstractClass
Constructor `ServiceThread()` of an abstract class should not be declared 'public'
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
    protected volatile boolean stopped = false;

    public ServiceThread() {
        this.thread = new Thread(this, this.getServiceName());
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `NettyRemotingAbstract()` of an abstract class should not be declared 'public'
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingAbstract.java`
#### Snippet
```java
     * @param permitsAsync Number of permits for asynchronous requests.
     */
    public NettyRemotingAbstract(final int permitsOneway, final int permitsAsync) {
        this.semaphoreOneway = new Semaphore(permitsOneway, true);
        this.semaphoreAsync = new Semaphore(permitsAsync, true);
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractBrokerRunnable()` of an abstract class should not be declared 'public'
in `common/src/main/java/org/apache/rocketmq/common/AbstractBrokerRunnable.java`
#### Snippet
```java
    protected final BrokerIdentity brokerIdentity;

    public AbstractBrokerRunnable(BrokerIdentity brokerIdentity) {
        this.brokerIdentity = brokerIdentity;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `ServiceThread()` of an abstract class should not be declared 'public'
in `common/src/main/java/org/apache/rocketmq/common/ServiceThread.java`
#### Snippet
```java
    private final AtomicBoolean started = new AtomicBoolean(false);

    public ServiceThread() {

    }
```

### NonProtectedConstructorInAbstractClass
Constructor `Attribute()` of an abstract class should not be declared 'public'
in `common/src/main/java/org/apache/rocketmq/common/attribute/Attribute.java`
#### Snippet
```java
    public abstract void verify(String value);

    public Attribute(String name, boolean changeable) {
        this.name = name;
        this.changeable = changeable;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseInvokeCallback()` of an abstract class should not be declared 'public'
in `client/src/main/java/org/apache/rocketmq/client/impl/BaseInvokeCallback.java`
#### Snippet
```java
    private final MQClientAPIImpl mqClientAPI;

    public BaseInvokeCallback(MQClientAPIImpl mqClientAPI) {
        this.mqClientAPI = mqClientAPI;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `RebalanceImpl()` of an abstract class should not be declared 'public'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
    private Map<String, String> topicClientRebalance = new ConcurrentHashMap<>();

    public RebalanceImpl(String consumerGroup, MessageModel messageModel,
        AllocateMessageQueueStrategy allocateMessageQueueStrategy,
        MQClientInstance mQClientFactory) {
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractMQProducer()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java


    public AbstractMQProducer(String topic) {
        super();
        producerGroupName = RandomUtil.getStringByUUID();
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractMQProducer()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
    }

    public AbstractMQProducer(String topic, String originMsgCollector, String msgBodyCollector) {
        super(originMsgCollector, msgBodyCollector);
        producerGroupName = RandomUtil.getStringByUUID();
```

### NonProtectedConstructorInAbstractClass
Constructor `MQCollector()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
    }

    public MQCollector(String originMsgCollector, String msgBodyCollector) {
        originMsgs = DataCollectorManager.getInstance().fetchDataCollector(originMsgCollector);
        msgBodys = DataCollectorManager.getInstance().fetchDataCollector(msgBodyCollector);
```

### NonProtectedConstructorInAbstractClass
Constructor `MQCollector()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
    protected DataCollector msgRTs = null;

    public MQCollector() {
        msgBodys = DataCollectorManager.getInstance()
            .fetchListDataCollector(RandomUtil.getStringByUUID());
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractMQConsumer()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    }

    public AbstractMQConsumer(String topic, String subExpression) {
        this.topic = topic;
        this.subExpression = subExpression;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractMQConsumer()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    }

    public AbstractMQConsumer(String nsAddr, String topic, String subExpression,
        String consumerGroup, AbstractListener listener) {
        this.topic = topic;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractMQConsumer()` of an abstract class should not be declared 'public'
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    protected boolean isDebug = false;

    public AbstractMQConsumer() {
    }

```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractSendMessageProcessor()` of an abstract class should not be declared 'public'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AbstractSendMessageProcessor.java`
#### Snippet
```java
    private List<SendMessageHook> sendMessageHookList;

    public AbstractSendMessageProcessor(final BrokerController brokerController) {
        this.brokerController = brokerController;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractTransactionalMessageCheckListener()` of an abstract class should not be declared 'public'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/AbstractTransactionalMessageCheckListener.java`
#### Snippet
```java
    }

    public AbstractTransactionalMessageCheckListener(BrokerController brokerController) {
        this.brokerController = brokerController;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractTransactionalMessageCheckListener()` of an abstract class should not be declared 'public'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/AbstractTransactionalMessageCheckListener.java`
#### Snippet
```java
    private static volatile ExecutorService executorService;

    public AbstractTransactionalMessageCheckListener() {
    }

```

## RuleId[ruleID=CaughtExceptionImmediatelyRethrown]
### CaughtExceptionImmediatelyRethrown
Caught exception `e` is immediately rethrown
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
            byteArrayOutputStream.flush();
            result = byteArrayOutputStream.toByteArray();
        } catch (IOException e) {
            throw e;
        } finally {
```

### CaughtExceptionImmediatelyRethrown
Caught exception `e` is immediately rethrown
in `common/src/main/java/org/apache/rocketmq/common/compression/ZlibCompressor.java`
#### Snippet
```java
            byteArrayOutputStream.flush();
            result = byteArrayOutputStream.toByteArray();
        } catch (IOException e) {
            throw e;
        } finally {
```

### CaughtExceptionImmediatelyRethrown
Caught exception `e` is immediately rethrown
in `common/src/main/java/org/apache/rocketmq/common/compression/ZstdCompressor.java`
#### Snippet
```java
            resultOutputStream.close();
            result = resultOutputStream.toByteArray();
        } catch (IOException e) {
            throw e;
        } finally {
```

### CaughtExceptionImmediatelyRethrown
Caught exception `e` is immediately rethrown
in `common/src/main/java/org/apache/rocketmq/common/compression/Lz4Compressor.java`
#### Snippet
```java
            resultOutputStream.close();
            result = resultOutputStream.toByteArray();
        } catch (IOException e) {
            throw e;
        } finally {
```

## RuleId[ruleID=AssignmentToMethodParameter]
### AssignmentToMethodParameter
Assignment to method parameter `text`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ConstantExpression.java`
#### Snippet
```java
        // Strip off the 'l' or 'L' if needed.
        if (text.endsWith("l") || text.endsWith("L")) {
            text = text.substring(0, text.length() - 1);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `newLine`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

        if (i < len) {
            bufline[j] = newLine++;
            bufcolumn[j] = newCol + columnDiff;

```

### AssignmentToMethodParameter
Assignment to method parameter `newLine`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
            while (i++ < len) {
                if (bufline[j = start % bufsize] != bufline[++start % bufsize])
                    bufline[j] = newLine++;
                else
                    bufline[j] = newLine;
```

### AssignmentToMethodParameter
Assignment to method parameter `active0`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa6_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 5);
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `active0`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa3_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 2);
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `start`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            jjCheckNAdd(JJ_NEXT_STATES[start]);
        }
        while (start++ != end);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `active0`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa5_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 4);
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `active0`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa2_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 1);
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `start`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            jjstateSet[jjnewStateCnt++] = JJ_NEXT_STATES[start];
        }
        while (start++ != end);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `active0`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    private int jjMoveStringLiteralDfa4_0(long old0, long active0) {
        if (((active0 &= old0)) == 0L)
            return jjMoveNfa_0(5, 3);
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `curPos`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            throw new Error("Internal Error");
        }
        curPos = 0;
        int startsAt = 0;
        jjnewStateCnt = 40;
```

### AssignmentToMethodParameter
Assignment to method parameter `curPos`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                kind = 0x7fffffff;
            }
            ++curPos;
            if ((i = jjnewStateCnt) == (startsAt = 40 - (jjnewStateCnt = startsAt)))
                break;
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                if (lc == Boolean.class) {
                    if (convertStringExpressions && rc == String.class) {
                        lv = Boolean.valueOf((String) lv).booleanValue();
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Byte.class) {
                    if (rc == Short.class) {
                        lv = Short.valueOf(((Number) lv).shortValue());
                    } else if (rc == Integer.class) {
                        lv = Integer.valueOf(((Number) lv).intValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Short.valueOf(((Number) lv).shortValue());
                    } else if (rc == Integer.class) {
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Byte.valueOf((String) rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Byte.valueOf((String) rv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Short.class) {
                    if (rc == Integer.class) {
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Short.valueOf((String) rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Short.valueOf((String) rv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Integer.class) {
                    if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Integer.valueOf((String) rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Integer.valueOf((String) rv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Long.class) {
                    if (rc == Integer.class) {
                        rv = Long.valueOf(((Number) rv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = Long.valueOf(((Number) rv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Long.valueOf((String) rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Long.valueOf((String) rv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Float.class) {
                    if (rc == Integer.class) {
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Long.class) {
                        rv = new Float(((Number) rv).floatValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Long.class) {
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Float.valueOf((String) rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Float.valueOf((String) rv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Double.class) {
                    if (rc == Integer.class) {
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Long.class) {
                        rv = new Double(((Number) rv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Long.class) {
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Float.class) {
                        rv = new Float(((Number) rv).doubleValue());
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Float.class) {
                        rv = new Float(((Number) rv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Double.valueOf((String) rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Float(((Number) rv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Double.valueOf((String) rv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (convertStringExpressions && lc == String.class) {
                    if (rc == Boolean.class) {
                        lv = Boolean.valueOf((String) lv);
                    } else if (rc == Byte.class) {
                        lv = Byte.valueOf((String) lv);
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Boolean.valueOf((String) lv);
                    } else if (rc == Byte.class) {
                        lv = Byte.valueOf((String) lv);
                    } else if (rc == Short.class) {
                        lv = Short.valueOf((String) lv);
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Byte.valueOf((String) lv);
                    } else if (rc == Short.class) {
                        lv = Short.valueOf((String) lv);
                    } else if (rc == Integer.class) {
                        lv = Integer.valueOf((String) lv);
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Short.valueOf((String) lv);
                    } else if (rc == Integer.class) {
                        lv = Integer.valueOf((String) lv);
                    } else if (rc == Long.class) {
                        lv = Long.valueOf((String) lv);
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Integer.valueOf((String) lv);
                    } else if (rc == Long.class) {
                        lv = Long.valueOf((String) lv);
                    } else if (rc == Float.class) {
                        lv = Float.valueOf((String) lv);
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf((String) lv);
                    } else if (rc == Float.class) {
                        lv = Float.valueOf((String) lv);
                    } else if (rc == Double.class) {
                        lv = Double.valueOf((String) lv);
```

### AssignmentToMethodParameter
Assignment to method parameter `lv`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Float.valueOf((String) lv);
                    } else if (rc == Double.class) {
                        lv = Double.valueOf((String) lv);
                    } else {
                        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `reserveNum`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java

        if (reserveNum < 3) {
            reserveNum = 3;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `ratio`
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
    public int getTPValue(float ratio) {
        if (ratio <= 0 || ratio >= 1) {
            ratio = 0.99f;
        }
        long num = (long) (allCount.get() * (1 - ratio));
```

### AssignmentToMethodParameter
Assignment to method parameter `from`
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java

    public long getCount(int from, int to) {
        from = getIndex(from);
        to = getIndex(to);
        long tmp = 0;
```

### AssignmentToMethodParameter
Assignment to method parameter `to`
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
    public long getCount(int from, int to) {
        from = getIndex(from);
        to = getIndex(to);
        long tmp = 0;
        for (int i = from; i <= to && i < count.length; i++) {
```

### AssignmentToMethodParameter
Assignment to method parameter `maxNum`
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
        long indexLastUpdateTimestamp = 0;
        long indexLastUpdatePhyoffset = 0;
        maxNum = Math.min(maxNum, this.defaultMessageStore.getMessageStoreConfig().getMaxMsgsNumBatch());
        try {
            this.readWriteLock.readLock().lock();
```

### AssignmentToMethodParameter
Assignment to method parameter `indexFile`
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
            LOGGER.warn("Index file [" + indexFile.getFileName() + "] is full, trying to create another one");

            indexFile = retryGetAndCreateIndexFile();
            if (null == indexFile) {
                return null;
```

### AssignmentToMethodParameter
Assignment to method parameter `right`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
            }
            if (tmpValue > targetValue) {
                right = mid - unitSize;
            } else {
                if (mid == left) {
```

### AssignmentToMethodParameter
Assignment to method parameter `left`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                    }
                } else {
                    left = mid;
                }
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `left`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                    return mid;
                } else {
                    left =  mid + unitSize;
                }
            } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `left`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                //mid is actually in the mid
                if (tmpValue < targetValue) {
                    left = mid + unitSize;
                } else {
                    right = mid;
```

### AssignmentToMethodParameter
Assignment to method parameter `right`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                    left = mid + unitSize;
                } else {
                    right = mid;
                }
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `messageStore`
in `store/src/main/java/org/apache/rocketmq/store/plugin/MessageStoreFactory.java`
#### Snippet
```java
                    Constructor<AbstractPluginMessageStore> construct = clazz.getConstructor(MessageStorePluginContext.class, MessageStore.class);
                    AbstractPluginMessageStore pluginMessageStore = construct.newInstance(context, messageStore);
                    messageStore = pluginMessageStore;
                } catch (Throwable e) {
                    throw new RuntimeException("Initialize plugin's class: " + pluginClass + " not found!", e);
```

### AssignmentToMethodParameter
Assignment to method parameter `minOffset`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        ConsumeQueueInterface consumeQueue = findConsumeQueue(topic, queueId);
        if (consumeQueue != null) {
            minOffset = Math.max(minOffset, consumeQueue.getMinOffsetInQueue());
            maxOffset = Math.min(maxOffset, consumeQueue.getMaxOffsetInQueue());

```

### AssignmentToMethodParameter
Assignment to method parameter `maxOffset`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        if (consumeQueue != null) {
            minOffset = Math.max(minOffset, consumeQueue.getMinOffsetInQueue());
            maxOffset = Math.min(maxOffset, consumeQueue.getMaxOffsetInQueue());

            if (maxOffset == 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java

            for (byte[] data : batchData) {
                ByteBuffer.wrap(data).putLong(MessageDecoder.QUEUE_OFFSET_POSITION, offset++);
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `netaddress`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java

    public static String expandIP(String netaddress, int part) {
        netaddress = netaddress.toUpperCase();
        // expand netaddress
        int separatorCount = StringUtils.countMatches(netaddress, ":");
```

### AssignmentToMethodParameter
Assignment to method parameter `netaddress`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
                padStr.append(":");
            }
            netaddress = StringUtils.replace(netaddress, "::", padStr.toString());
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `netaddress`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
//        IPv6 Address
        if (isColon(netaddress)) {
            netaddress = expandIP(netaddress, 8);
            String[] strArray = StringUtils.split(netaddress, ":");
            return isIPv6Scope(strArray, index);
```

### AssignmentToMethodParameter
Assignment to method parameter `aclFilePath`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java

    public void load(String aclFilePath) {
        aclFilePath = MixAll.dealFilePath(aclFilePath);
        Map<String, PlainAccessResource> plainAccessResourceMap = new HashMap<>();
        List<RemoteAddressStrategy> globalWhiteRemoteAddressStrategy = new ArrayList<>();
```

### AssignmentToMethodParameter
Assignment to method parameter `fileName`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
    public boolean updateGlobalWhiteAddrsConfig(List<String> globalWhiteAddrsList, String fileName) {
        if (fileName == null || fileName.equals("")) {
            fileName = this.defaultAclFile;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/ResponseBuilder.java`
#### Snippet
```java

    public Status buildStatus(Throwable t) {
        t = ExceptionUtils.getRealException(t);

        if (t instanceof ProxyException) {
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/ResponseBuilder.java`
#### Snippet
```java

        if (t instanceof ProxyException) {
            t = new GrpcProxyException((ProxyException) t);
        }
        if (t instanceof GrpcProxyException) {
```

### AssignmentToMethodParameter
Assignment to method parameter `settings`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcClientSettingsManager.java`
#### Snippet
```java
    public void updateClientSettings(String clientId, Settings settings) {
        if (settings.hasSubscription()) {
            settings = createDefaultConsumerSettingsBuilder().mergeFrom(settings).build();
        }
        CLIENT_SETTINGS_MAP.put(clientId, settings);
```

### AssignmentToMethodParameter
Assignment to method parameter `delayedTime`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            if (delayedTime - tmpWriteTimeMs - timerRollWindowSlots * precisionMs < timerRollWindowSlots / 3 * precisionMs) {
                //give enough time to next roll
                delayedTime = tmpWriteTimeMs + (timerRollWindowSlots / 2) * precisionMs;
            } else {
                delayedTime = tmpWriteTimeMs + timerRollWindowSlots * precisionMs;
```

### AssignmentToMethodParameter
Assignment to method parameter `delayedTime`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                delayedTime = tmpWriteTimeMs + (timerRollWindowSlots / 2) * precisionMs;
            } else {
                delayedTime = tmpWriteTimeMs + timerRollWindowSlots * precisionMs;
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `throwable`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/ExceptionUtils.java`
#### Snippet
```java
        if (throwable instanceof CompletionException || throwable instanceof ExecutionException) {
            if (throwable.getCause() != null) {
                throwable = throwable.getCause();
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ReceiptHandleProcessor.java`
#### Snippet
```java

    protected boolean renewExceptionNeedRetry(Throwable t) {
        t = ExceptionUtils.getRealException(t);
        if (t instanceof ProxyException) {
            ProxyException proxyException = (ProxyException) t;
```

### AssignmentToMethodParameter
Assignment to method parameter `maxMsgNums`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java
                log.warn("change maxNums from {} to {} for pop request, with info: topic:{}, group:{}",
                    maxMsgNums, ProxyUtils.MAX_MSG_NUMS_FOR_POP_REQUEST, topic, consumerGroup);
                maxMsgNums = ProxyUtils.MAX_MSG_NUMS_FOR_POP_REQUEST;
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `stringBuilder`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static void buildQueueOffsetOrderCountInfo(StringBuilder stringBuilder, boolean retry, long queueId, long queueOffset, int orderCount) {
        if (stringBuilder == null) {
            stringBuilder = new StringBuilder(64);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `stringBuilder`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static void buildMsgOffsetInfo(StringBuilder stringBuilder, boolean retry, int queueId, List<Long> msgOffsets) {
        if (stringBuilder == null) {
            stringBuilder = new StringBuilder(64);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `stringBuilder`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static void buildStartOffsetInfo(StringBuilder stringBuilder, boolean retry, int queueId, long startOffset) {
        if (stringBuilder == null) {
            stringBuilder = new StringBuilder(64);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `stringBuilder`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static void buildQueueIdOrderCountInfo(StringBuilder stringBuilder, boolean retry, int queueId, int orderCount) {
        if (stringBuilder == null) {
            stringBuilder = new StringBuilder(64);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `reconsumeTimes`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/subscription/ExponentialRetryPolicy.java`
#### Snippet
```java
    public long nextDelayDuration(int reconsumeTimes) {
        if (reconsumeTimes < 0) {
            reconsumeTimes = 0;
        }
        if (reconsumeTimes > 32) {
```

### AssignmentToMethodParameter
Assignment to method parameter `reconsumeTimes`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/subscription/ExponentialRetryPolicy.java`
#### Snippet
```java
        }
        if (reconsumeTimes > 32) {
            reconsumeTimes = 32;
        }
        return Math.min(max, initial * (long) Math.pow(multiplier, reconsumeTimes));
```

### AssignmentToMethodParameter
Assignment to method parameter `reconsumeTimes`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/subscription/CustomizedRetryPolicy.java`
#### Snippet
```java
    public long nextDelayDuration(int reconsumeTimes) {
        if (reconsumeTimes < 0) {
            reconsumeTimes = 0;
        }
        int index = reconsumeTimes + 2;
```

### AssignmentToMethodParameter
Assignment to method parameter `brokers`
in `controller/src/main/java/org/apache/rocketmq/controller/elect/impl/DefaultElectPolicy.java`
#### Snippet
```java
    private String tryElect(String clusterName, Set<String> brokers, String oldMaster, String preferBrokerAddr) {
        if (this.validPredicate != null) {
            brokers = brokers.stream().filter(brokerAddr -> this.validPredicate.test(clusterName, brokerAddr)).collect(Collectors.toSet());
        }
        if (!brokers.isEmpty()) {
```

### AssignmentToMethodParameter
Assignment to method parameter `hexString`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
            return null;
        }
        hexString = hexString.toUpperCase();
        int length = hexString.length() / 2;
        char[] hexChars = hexString.toCharArray();
```

### AssignmentToMethodParameter
Assignment to method parameter `pos`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        char[] hexArray = HEX_ARRAY;
        for (int moveBits = 28; moveBits >= 0; moveBits -= 4) {
            buffer[pos++] = hexArray[(value >>> moveBits) & 0x0F];
        }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `pos`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        char[] hexArray = HEX_ARRAY;
        for (int moveBits = 12; moveBits >= 0; moveBits -= 4) {
            buffer[pos++] = hexArray[(value >>> moveBits) & 0x0F];
        }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `url`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
        String encoding, long readTimeoutMs) throws IOException {
        String encodedContent = encodingParams(paramValues, encoding);
        url += (null == encodedContent) ? "" : ("?" + encodedContent);

        HttpURLConnection conn = null;
```

### AssignmentToMethodParameter
Assignment to method parameter `ratio`
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsBrief.java`
#### Snippet
```java
    public long getTPValue(float ratio) {
        if (ratio <= 0 || ratio >= 1) {
            ratio = 0.99f;
        }
        long count = totalCount.get();
```

### AssignmentToMethodParameter
Assignment to method parameter `timeout`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullAPIWrapper.java`
#### Snippet
```java
                requestHeader.setBornTime(System.currentTimeMillis());
                // timeout + 10s, fix the too earlier timeout of client when long polling.
                timeout += 10 * 1000;
            }
            String brokerAddr = findBrokerResult.getBrokerAddr();
```

### AssignmentToMethodParameter
Assignment to method parameter `delayLevel`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
    private void changePopInvisibleTime(final MessageExt msg, String consumerGroup, int delayLevel) {
        if (0 == delayLevel) {
            delayLevel = msg.getReconsumeTimes();
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `consumerGroup`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java

            if (UtilAll.isBlank(consumerGroup)) {
                consumerGroup = this.defaultMQPullConsumer.getConsumerGroup();
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `pullResult`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
            public void onSuccess(PullResult pullResult) {
                if (pullResult != null) {
                    pullResult = DefaultMQPushConsumerImpl.this.pullAPIWrapper.processPullResult(pullRequest.getMessageQueue(), pullResult,
                        subscriptionData);

```

### AssignmentToMethodParameter
Assignment to method parameter `timeout`
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQPopClient.java`
#### Snippet
```java
            requestHeader.setPollTime(timeout);
            requestHeader.setBornTime(System.currentTimeMillis());
            timeout += 10 * 1000;
        }
        CompletableFuture<PopResult> future = new CompletableFuture<>();
```

### AssignmentToMethodParameter
Assignment to method parameter `msgSize`
in `test/src/main/java/org/apache/rocketmq/test/factory/MQMessageFactory.java`
#### Snippet
```java
            }
            msgs.add(msg);
            msgSize--;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `restNum`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PeekMessageProcessor.java`
#### Snippet
```java
        GetMessageResult getMessageTmpResult;
        long offset = getPopOffset(topic, requestHeader.getConsumerGroup(), queueId);
        restNum = this.brokerController.getMessageStore().getMaxOffsetInQueue(topic, queueId) - offset + restNum;
        if (getMessageResult.getMessageMapedList().size() >= requestHeader.getMaxMsgNums()) {
            return restNum;
```

### AssignmentToMethodParameter
Assignment to method parameter `prevOffsetConsumedCount`
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOrderInfoManager.java`
#### Snippet
```java
            Map<Long, Integer> offsetConsumedCount = new HashMap<>();
            if (prevOffsetConsumedCount == null) {
                prevOffsetConsumedCount = new HashMap<>();
            }
            Set<Long> preQueueOffsetSet = new HashSet<>();
```

### AssignmentToMethodParameter
Assignment to method parameter `topicConfig`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
                newTopic = MixAll.getDLQTopic(groupName);
                int queueIdInt = randomQueueId(DLQ_NUMS_PER_GROUP);
                topicConfig = this.brokerController.getTopicConfigManager().createTopicInSendMessageBackMethod(newTopic,
                    DLQ_NUMS_PER_GROUP,
                    PermName.PERM_WRITE | PermName.PERM_READ, 0
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
                }
            } else {
                offset = searchOffsetByTimestamp(topic, queueId, timestamp);
            }
            queueOffsetMap.put(queueId, offset);
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        } else {
            for (int index = 0; index < topicConfig.getReadQueueNums(); index++) {
                offset = searchOffsetByTimestamp(topic, index, timestamp);
                queueOffsetMap.put(index, offset);
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `restNum`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
            false, lockKey, false);
        if (!queueLockManager.tryLock(lockKey)) {
            restNum = this.brokerController.getMessageStore().getMaxOffsetInQueue(topic, queueId) - offset + restNum;
            return restNum;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `restNum`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java

            if (getMessageResult.getMessageMapedList().size() >= requestHeader.getMaxMsgNums()) {
                restNum =
                    this.brokerController.getMessageStore().getMaxOffsetInQueue(topic, queueId) - offset + restNum;
                return restNum;
```

### AssignmentToMethodParameter
Assignment to method parameter `restNum`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
            }

            restNum = getMessageTmpResult.getMaxOffset() - getMessageTmpResult.getNextBeginOffset() + restNum;
            if (!getMessageTmpResult.getMessageMapedList().isEmpty()) {
                this.brokerController.getBrokerStatsManager().incBrokerGetNums(getMessageTmpResult.getMessageCount());
```

## RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `csList`
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
    private static StatsSnapshot computeStatsData(final LinkedList<CallSnapshot> csList) {
        StatsSnapshot statsSnapshot = new StatsSnapshot();
        synchronized (csList) {
            double tps = 0;
            double avgpt = 0;
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `lock`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    private void submitConsumeRequest(final ConsumeRequest consumeRequest, boolean force) {
        Object lock = consumeRequestLock.fetchLockObject(consumeRequest.getMessageQueue(), consumeRequest.shardingKeyIndex);
        synchronized (lock) {
            boolean isNewReq = consumeRequestSet.add(consumeRequest);
            if (force || isNewReq) {
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `objLock`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java

            final Object objLock = messageQueueLock.fetchLockObject(this.messageQueue);
            synchronized (objLock) {
                if (MessageModel.BROADCASTING.equals(ConsumeMessageOrderlyService.this.defaultMQPushConsumerImpl.messageModel())
                    || this.processQueue.isLocked() && !this.processQueue.isLockExpired()) {
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `topics`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
        Set<String> topics = this.defaultMQPullConsumer.getRegisterTopics();
        if (topics != null) {
            synchronized (topics) {
                for (String t : topics) {
                    SubscriptionData ms = null;
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `objLock`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
                        case FOUND:
                            final Object objLock = messageQueueLock.fetchLockObject(messageQueue);
                            synchronized (objLock) {
                                if (pullResult.getMsgFoundList() != null && !pullResult.getMsgFoundList().isEmpty() && assignedMessageQueue.getSeekOffset(messageQueue) == -1) {
                                    processQueue.putMessage(pullResult.getMsgFoundList());
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `objLock`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
        }
        final Object objLock = messageQueueLock.fetchLockObject(messageQueue);
        synchronized (objLock) {
            clearMessageQueueInCache(messageQueue);

```

## RuleId[ruleID=ReturnNull]
### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/Token.java`
#### Snippet
```java
     */
    public Object getValue() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/EmptyEvaluationContext.java`
#### Snippet
```java
    @Override
    public Map<String, Object> keyValues() {
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/EmptyEvaluationContext.java`
#### Snippet
```java
    @Override
    public Object get(String name) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
                }
                if (lv == null || rv == null) {
                    return null;
                }
                return Boolean.FALSE;
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
                }
                if (lv == null || rv == null) {
                    return null;
                }
                return Boolean.TRUE;
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                Object rvalue = right.evaluate(context);
                if (rvalue == null) {
                    return null;
                }
                if (rvalue instanceof Number) {
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                    return negate((Number) rvalue);
                }
                return null;
            }

```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                Object rvalue = right.evaluate(context);
                if (rvalue == null) {
                    return null;
                }
                if (!rvalue.getClass().equals(Boolean.class)) {
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                Object rvalue = right.evaluate(context);
                if (rvalue == null) {
                    return null;
                }
                if (rvalue.getClass() != String.class) {
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                }
                if (rvalue.getClass() != String.class) {
                    return null;
                }

```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
                Boolean lvalue = (Boolean) right.evaluate(context);
                if (lvalue == null) {
                    return null;
                }
                return lvalue.booleanValue() ? Boolean.FALSE : Boolean.TRUE;
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
        public byte[] getFilterBitMap() {
            if (this.bitMapSize < 1) {
                return null;
            }
            return filterBitMap;
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                if (lv == null ^ rv == null) {
                    if (lv == null) {
                        return null;
                    }
                    return Boolean.FALSE;
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
        Comparable<Comparable> lv = (Comparable) left.evaluate(context);
        if (lv == null) {
            return null;
        }
        Comparable rv = (Comparable) right.evaluate(context);
```

### ReturnNull
Return of `null`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
        Comparable rv = (Comparable) right.evaluate(context);
        if (rv == null) {
            return null;
        }
        if (getExpressionSymbol().equals(">=") || getExpressionSymbol().equals(">")
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/MessageExtEncoder.java`
#### Snippet
```java
            this.byteBuf.writeBytes(propertiesData);

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        final LongAdder[] times = this.lastPutMessageDistributeTime;
        if (null == times)
            return null;

        final StringBuilder sb = new StringBuilder();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
                    "RequestQueueSize : {}, StorePoolSize: {}", this.requestQueue.size(), this.messageStore.getTransientStorePool().availableBufferNums());
                this.requestTable.remove(nextFilePath);
                return null;
            }
            boolean offerOK = this.requestQueue.offer(nextReq);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
        if (hasException) {
            log.warn(this.getServiceName() + " service has exception. so return null");
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
                if (!waitOK) {
                    log.warn("create mmap timeout " + result.getFilePath() + " " + result.getFileSize());
                    return null;
                } else {
                    this.requestTable.remove(nextFilePath);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
    public MappedFile getLastMappedFile() {
        MappedFile[] mappedFiles = this.mappedFiles.toArray(new MappedFile[0]);
        return mappedFiles.length == 0 ? null : mappedFiles[mappedFiles.length - 1];
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java

        if (null == mfs)
            return null;

        for (int i = 0; i < mfs.length; i++) {
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java

        if (this.mappedFiles.size() <= reservedMappedFiles) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        ReferredIterator<CqUnit> it = iterateFrom(offset);
        if (it == null) {
            return null;
        }
        return it.nextAndRelease();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
            return this.consumeQueueExt.get(offset);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        ReferredIterator<CqUnit> it = iterateFrom(minLogicOffset / CQ_STORE_UNIT_SIZE);
        if (it == null) {
            return null;
        }
        return it.nextAndRelease();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        SelectMappedBufferResult sbr = getIndexBuffer(startOffset);
        if (sbr == null) {
            return null;
        }
        return new ConsumeQueueIterator(sbr);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        ReferredIterator<CqUnit> it = iterateFrom((mappedFileQueue.getMaxOffset() / CQ_STORE_UNIT_SIZE) - 1);
        if (it == null) {
            return null;
        }
        return it.nextAndRelease();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        public CqUnit next() {
            if (!hasNext()) {
                return null;
            }
            long queueOffset = (sbr.getStartOffset() + sbr.getByteBuffer().position() -  relativePos) / CQ_STORE_UNIT_SIZE;
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
            return mappedFile.selectMappedBuffer(pos, size);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
        try {
            if (this.epochMap.isEmpty()) {
                return null;
            }
            return new EpochEntry(this.epochMap.lastEntry().getValue());
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
                }
            }
            return null;
        } finally {
            this.readLock.unlock();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
                return new EpochEntry(entry.getValue());
            }
            return null;
        } finally {
            this.readLock.unlock();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
                return String.format("%d-%d", entry.getEpoch(), entry.getStartOffset());
            } else {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
        try {
            if (this.epochMap.isEmpty()) {
                return null;
            }
            return new EpochEntry(this.epochMap.firstEntry().getValue());
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
                return new EpochEntry(epoch, startOffset);
            }
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
                return new EpochEntry(entry);
            }
            return null;
        } finally {
            this.readLock.unlock();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/CqUnit.java`
#### Snippet
```java
    public Long getValidTagsCodeAsLong() {
        if (!isTagsCodeValid()) {
            return null;
        }
        return tagsCode;
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
            indexFile = retryGetAndCreateIndexFile();
            if (null == indexFile) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
        List<MappedFile> mappedFileList = Lists.newArrayList(getLog().getMappedFiles());
        if (mappedFileList.size() < 2) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java

        if (newFiles.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
            return mappedFile.selectMappedBuffer(pos, size);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
    protected BatchOffsetIndex getMaxMsgOffset(MappedFile mappedFile, boolean getBatchSize, boolean getStoreTime) {
        if (mappedFile == null || mappedFile.getReadPosition() < CQ_STORE_UNIT_SIZE) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
    private <T> T getMax(MappedFile mappedFile, Function<ByteBuffer, T> function) {
        if (mappedFile == null || mappedFile.getReadPosition() < CQ_STORE_UNIT_SIZE) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        Map.Entry<Long, MappedFile> ceilingEntry = this.offsetCache.ceilingEntry(msgOffset);
        if (ceilingEntry == null) {
            return null;
        } else {
            return ceilingEntry.getValue();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java

        if (targetBcq == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        BatchOffsetIndex maxOffset = getMaxMsgOffset(targetBcq, false, false);
        if (null == minOffset || null == maxOffset) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        if (index < 1) {
            // indicate that this is the first file or not found
            return null;
        } else {
            return mappedFileQueue.getMappedFiles().get(index - 1);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
        SelectMappedBufferResult sbr = getBatchMsgIndexOrNextBuffer(startOffset);
        if (sbr == null) {
            return null;
        }
        return new BatchConsumeQueueIterator(sbr);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
        MappedFile mappedFile = mappedFileQueue.findMappedFileByOffset(offsetPy);
        if (null == mappedFile)
            return null;
        return mappedFile.selectMappedBuffer((int) (offsetPy % mappedFile.getFileSize()));
    }
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
        MappedFile mappedFile = mappedFileQueue.findMappedFileByOffset(offsetPy);
        if (null == mappedFile)
            return null;
        return mappedFile.selectMappedBuffer(0);
    }
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
        SelectMappedBufferResult sbr = getBatchMsgIndexBuffer(startOffset);
        if (sbr == null) {
            return null;
        }
        return new BatchConsumeQueueIterator(sbr);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    protected BatchOffsetIndex getMinMsgOffset(MappedFile mappedFile, boolean getBatchSize, boolean getStoreTime) {
        if (mappedFile.getReadPosition() < CQ_STORE_UNIT_SIZE) {
            return null;
        }
        return getBatchOffsetIndexByPos(mappedFile, 0, getBatchSize, getStoreTime);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
        public CqUnit next() {
            if (!hasNext()) {
                return null;
            }
            ByteBuffer tmpBuffer = sbr.getByteBuffer().slice();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
        ReferredIterator<CqUnit> it = iterateFrom(offset);
        if (it == null) {
            return null;
        }
        return it.nextAndRelease();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
        if (floorEntry == null) {
            // the offset is too small.
            return null;
        } else {
            return floorEntry.getValue();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    protected BatchOffsetIndex getMaxMsgOffset(MappedFile mappedFile, boolean getBatchSize, boolean getStoreTime) {
        if (mappedFile == null || mappedFile.getReadPosition() < CQ_STORE_UNIT_SIZE) {
            return null;
        }
        int pos = mappedFile.getReadPosition() - CQ_STORE_UNIT_SIZE;
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    public SelectMappedBufferResult getBatchMsgIndexBuffer(final long msgOffset) {
        if (msgOffset >= maxOffsetInQueue) {
            return null;
        }
        MappedFile targetBcq;
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java

            if (targetBcq == null) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
        BatchOffsetIndex targetMaxOffset = getMaxMsgOffset(targetBcq, false, false);
        if (null == targetMinOffset || null == targetMaxOffset) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
            sbr.release();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainAccessResource.java`
#### Snippet
```java
    public static String getRetryTopic(String group) {
        if (group == null) {
            return null;
        }
        return MixAll.getRetryTopic(group);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
                }
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainAccessResource.java`
#### Snippet
```java
    public static String printStr(String resource, boolean isGroup) {
        if (resource == null) {
            return null;
        }
        if (isGroup) {
```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainAccessResource.java`
#### Snippet
```java
    public static String getGroupFromRetryTopic(String retryTopic) {
        if (retryTopic == null) {
            return null;
        }
        return retryTopic.substring(MixAll.RETRY_GROUP_TOPIC_PREFIX.length());
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        if (this.shutdown) {
            LOGGER.warn("message store has shutdown, so getBulkCommitLogData is forbidden");
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        if (this.shutdown) {
            LOGGER.warn("message store has shutdown, so getPhyQueueData is forbidden");
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        if (this.shutdown) {
            LOGGER.warn("message store has shutdown, so getMessage is forbidden");
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        if (!this.runningFlags.isReadable()) {
            LOGGER.warn("message store is not readable, so getMessage is forbidden " + this.runningFlags.getFlagBits());
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        ConcurrentMap<Integer, ConsumeQueueInterface> map = this.getConsumeQueueTable().get(topic);
        if (map == null) {
            return null;
        }
        return map.get(queueId);
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        if (size > this.messageStoreConfig.getMaxChecksumRange()) {
            LOGGER.error("Checksum range from {}, size {} exceeds threshold {}", from, size, this.messageStoreConfig.getMaxChecksumRange());
            return null;
        }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
            return this.haService.getRuntimeInfo(this.commitLog.getMaxOffset());
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
            return convertSbr(mappedFile.selectMappedBuffer(pos, size));
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
        }
        if (offset >= dLedgerFileStore.getCommittedPos()) {
            return null;
        }
        int mappedFileSize = this.dLedgerServer.getdLedgerConfig().getMappedFileSizeForEntryData();
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
        long committedPos = dLedgerFileStore.getCommittedPos();
        if (sbr == null || sbr.getStartOffset() == committedPos) {
            return null;
        }
        if (sbr.getStartOffset() + sbr.getSize() <= committedPos) {
```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
    public SelectMappedBufferResult convertSbr(SelectMmapBufferResult sbr) {
        if (sbr == null) {
            return null;
        } else {
            return new DLedgerSelectMappedBufferResult(sbr);
```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
            System.exit(-1);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/kvconfig/KVConfigManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/kvconfig/KVConfigManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
        if (yamlDataObject == null || yamlDataObject.isEmpty()) {
            log.warn("Failed to parse configuration to enable ACL.");
            return null;
        }

```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
        if (StringUtils.isBlank(accessKey) || StringUtils.isBlank(secretKey)) {
            log.warn("Failed to enable ACL. Either AccessKey or secretKey is blank");
            return null;
        }
        return new AclClientRPCHook(new SessionCredentials(accessKey, secretKey));
```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Convert yaml file to data object error, ", e);
            return null;
        }
        return buildRpcHook(yamlDataObject);
```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
            return getYamlDataObject(fis, clazz);
        } catch (FileNotFoundException ignore) {
            return null;
        } catch (Exception e) {
            throw new AclException(e.getMessage(), e);
```

### ReturnNull
Return of `null`
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Convert yaml file to data object error, ", e);
            return null;
        }
        return buildRpcHook(yamlDataObject);
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/channel/GrpcChannelManager.java`
#### Snippet
```java
            return resultFuture.future;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcClientSettingsManager.java`
#### Snippet
```java
        Settings settings = CLIENT_SETTINGS_MAP.get(clientId);
        if (settings == null) {
            return null;
        }
        if (settings.hasPublishing()) {
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcClientSettingsManager.java`
#### Snippet
```java
        Settings settings = CLIENT_SETTINGS_MAP.remove(clientId);
        if (settings == null) {
            return null;
        }
        if (settings.hasSubscription()) {
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/consumer/ReceiveMessageActivity.java`
#### Snippet
```java
                return addressableMessageQueue;
            } catch (Throwable t) {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/ExceptionUtils.java`
#### Snippet
```java
    public static String getErrorDetailMessage(Throwable t) {
        if (t == null) {
            return null;
        }
        StringBuilder sb = new StringBuilder();
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ClusterProxyRelayService.java`
#### Snippet
```java
        ProxyContext context, RemotingCommand command,
        ConsumeMessageDirectlyResultRequestHeader header) {
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ClusterProxyRelayService.java`
#### Snippet
```java
        ProxyContext context, RemotingCommand command,
        GetConsumerRunningInfoRequestHeader header) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java
        Map<String, HandleData> handleMap = this.receiptHandleMap.get(msgID);
        if (handleMap == null) {
            return null;
        }
        long timeout = ConfigurationManager.getProxyConfig().getLockTimeoutMsInHandleGroup();
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java
        Map<String, HandleData> handleMap = this.receiptHandleMap.get(msgID);
        if (handleMap == null) {
            return null;
        }
        long timeout = ConfigurationManager.getProxyConfig().getLockTimeoutMsInHandleGroup();
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/AbstractProxyRelayService.java`
#### Snippet
```java
        future.exceptionally(throwable -> {
            this.transactionService.onSendCheckTransactionStateFailed(context, group, transactionData);
            return null;
        });
        return new RelayData<>(transactionData, future);
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java
    @Override
    public ChannelMetadata metadata() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java
    @Override
    protected AbstractUnsafe newUnsafe() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/relay/ProxyChannel.java`
#### Snippet
```java
    @Override
    public ChannelConfig config() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
                return targetMessageQueue;
            } catch (Exception e) {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/ClusterTopicRouteService.java`
#### Snippet
```java
        List<BrokerData> brokerDataList = getAllMessageQueueView(brokerName).getTopicRouteData().getBrokerDatas();
        if (brokerDataList.isEmpty()) {
            return null;
        }
        return brokerDataList.get(0).getBrokerAddrs().get(MixAll.MASTER_ID);
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/MessageQueueSelector.java`
#### Snippet
```java
        if (onlyBroker) {
            if (brokerActingQueues.isEmpty()) {
                return null;
            }
            return brokerActingQueues.get(IntMath.mod(index, brokerActingQueues.size()));
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/MessageQueueSelector.java`
#### Snippet
```java

        if (queues.isEmpty()) {
            return null;
        }
        return queues.get(IntMath.mod(index, queues.size()));
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
    @Override
    public ChannelConfig config() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
    @Override
    protected AbstractUnsafe newUnsafe() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
    @Override
    public ChannelMetadata metadata() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
    private static SocketAddress parseSocketAddress(String address) {
        if (Strings.isNullOrEmpty(address)) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/mqclient/DoNothingClientRemotingProcessor.java`
#### Snippet
```java
    @Override
    public RemotingCommand processRequest(ChannelHandlerContext ctx, RemotingCommand request) {
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/mqclient/ProxyClientRemotingProcessor.java`
#### Snippet
```java
            return this.checkTransactionState(ctx, request);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/mqclient/ProxyClientRemotingProcessor.java`
#### Snippet
```java
            }
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/AbstractTransactionService.java`
#### Snippet
```java
        Message message) {
        if (StringUtils.isBlank(brokerName)) {
            return null;
        }
        TransactionData transactionData = new TransactionData(
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/AbstractTransactionService.java`
#### Snippet
```java
        TransactionData transactionData = this.transactionDataManager.pollNoExpireTransactionData(producerGroup, transactionId);
        if (transactionData == null) {
            return null;
        }
        EndTransactionRequestHeader header = new EndTransactionRequestHeader();
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/metadata/ClusterMetadataService.java`
#### Snippet
```java
            config = this.subscriptionGroupConfigCache.get(group);
        } catch (Exception e) {
            return null;
        }
        if (config == EMPTY_SUBSCRIPTION_GROUP_CONFIG) {
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/metadata/ClusterMetadataService.java`
#### Snippet
```java
        }
        if (config == EMPTY_SUBSCRIPTION_GROUP_CONFIG) {
            return null;
        }
        return config;
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ReceiptHandleProcessor.java`
#### Snippet
```java
    protected MessageReceiptHandle removeReceiptHandle(ReceiptHandleGroupKey key, String msgID, String receiptHandle) {
        if (key == null) {
            return null;
        }
        ReceiptHandleGroup handleGroup = receiptHandleGroupMap.get(key);
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ReceiptHandleProcessor.java`
#### Snippet
```java
        ReceiptHandleGroup handleGroup = receiptHandleGroupMap.get(key);
        if (handleGroup == null) {
            return null;
        }
        return handleGroup.remove(msgID, receiptHandle);
```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/InnerBrokerController.java`
#### Snippet
```java
            return brokerController.getMessageStore();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            System.exit(-1);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            return brokerConfigList.split(":");
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientUtils.java`
#### Snippet
```java
    public static byte[] encodeBody(Object body) {
        if (body == null) {
            return null;
        }
        if (body instanceof byte[]) {
```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerProcessor.java`
#### Snippet
```java
                break;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainer.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainer.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainer.java`
#### Snippet
```java
            }
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainer.java`
#### Snippet
```java
            return masterBrokerControllers.values().iterator().next();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java
    protected String createHandle(String handleString, long commitLogOffset) {
        if (handleString == null) {
            return null;
        }
        return handleString + MessageConst.KEY_SEPARATOR + commitLogOffset;
```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java
                return serviceManager.getTopicRouteService().buildAddressableMessageQueue(mq);
            } catch (Exception e) {
                return null;
            }
        }).collect(Collectors.toSet());
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/ClusterTransactionService.java`
#### Snippet
```java
    protected String getBrokerNameByAddr(String brokerAddr) {
        if (StringUtils.isBlank(brokerAddr)) {
            return null;
        }
        return brokerAddrNameMapRef.get().get(brokerAddr);
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/ClientMetadata.java`
#### Snippet
```java
    public String findMasterBrokerAddr(String brokerName) {
        if (!brokerAddrTable.containsKey(brokerName)) {
            return null;
        }
        return brokerAddrTable.get(brokerName).get(MixAll.MASTER_ID);
```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
            return prev.getDataVersion();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
                log.warn("Can't register topicConfigWrapper={} because broker[{}]={} has not registered.",
                    topicConfigWrapper.getTopicConfigTable(), brokerId, brokerAddr);
                return null;
            }

```

### ReturnNull
Return of `null`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyDecoder.java`
#### Snippet
```java
            frame = (ByteBuf) super.decode(ctx, in);
            if (null == frame) {
                return null;
            }
            RemotingCommand cmd = RemotingCommand.decode(frame);
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyDecoder.java`
#### Snippet
```java
        }

        return null;
    }
}
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/LanguageCode.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/SerializeType.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingSerializable.java`
#### Snippet
```java
            return json.getBytes(CHARSET_UTF8);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingSerializable.java`
#### Snippet
```java
            return json.getBytes(CHARSET_UTF8);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RequestType.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/NamespaceUtil.java`
#### Snippet
```java
    public static String wrapNamespaceAndRetry(String namespace, String consumerGroup) {
        if (StringUtils.isEmpty(consumerGroup)) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
        int len = useShortLength ? buf.readShort() : buf.readInt();
        if (len == 0) {
            return null;
        }
        if (len > limit) {
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
        }
        CharSequence cs = buf.readCharSequence(len, StandardCharsets.UTF_8);
        return cs == null ? null : cs.toString();
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
        // keySize+key+valSize+val
        if (null == map || map.isEmpty())
            return null;

        int totalLength = 0;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
    public ExecutorService getCallbackExecutor() {
        if (nettyClientConfig.isDisableCallbackExecutor()) {
            return null;
        }
        return callbackExecutor != null ? callbackExecutor : publicExecutor;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
    private Map.Entry<String, SocksProxyConfig> getProxy(String addr) {
        if (StringUtils.isBlank(addr) || !addr.contains(":")) {
            return null;
        }
        String[] hostAndPort = this.getHostAndPort(addr);
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
            objectHeader = classHeader.getDeclaredConstructor().newInstance();
        } catch (InstantiationException e) {
            return null;
        } catch (IllegalAccessException e) {
            return null;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
            return null;
        } catch (IllegalAccessException e) {
            return null;
        } catch (InvocationTargetException e) {
            return null;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
            return null;
        } catch (InvocationTargetException e) {
            return null;
        } catch (NoSuchMethodException e) {
            return null;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
            return null;
        } catch (NoSuchMethodException e) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
                cmd.customHeader = objectHeader;
            } catch (InstantiationException e) {
                return null;
            } catch (IllegalAccessException e) {
                return null;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
                return null;
            } catch (IllegalAccessException e) {
                return null;
            } catch (InvocationTargetException e) {
                return null;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
                return null;
            } catch (InvocationTargetException e) {
                return null;
            } catch (NoSuchMethodException e) {
                return null;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
                return null;
            } catch (NoSuchMethodException e) {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static Map<String, Long> parseStartOffsetInfo(String startOffsetInfo) {
        if (startOffsetInfo == null || startOffsetInfo.length() == 0) {
            return null;
        }
        Map<String, Long> startOffsetMap = new HashMap<>(4);
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static Map<String, List<Long>> parseMsgOffsetInfo(String msgOffsetInfo) {
        if (msgOffsetInfo == null || msgOffsetInfo.length() == 0) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
    public static Map<String, Integer> parseOrderCountInfo(String orderCountInfo) {
        if (orderCountInfo == null || orderCountInfo.length() == 0) {
            return null;
        }
        Map<String, Integer> startOffsetMap = new HashMap<>(4);
```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/event/EventType.java`
#### Snippet
```java
                return CLEAN_BROKER_DATA_EVENT;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/event/EventSerializer.java`
#### Snippet
```java
    public EventMessage deserialize(byte[] bytes) throws SerializationException {
        if (bytes.length < 2) {
            return null;
        }
        final short eventId = getShort(bytes, 0);
```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/event/EventSerializer.java`
#### Snippet
```java
            }
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/event/EventSerializer.java`
#### Snippet
```java
            return result;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
        if (null == commandLine) {
            System.exit(-1);
            return null;
        }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/elect/impl/DefaultElectPolicy.java`
#### Snippet
```java
            // if preferBrokerAddr is valid, we choose it, otherwise we choose nothing
            if (StringUtils.isNotBlank(preferBrokerAddr)) {
                return brokers.contains(preferBrokerAddr) ? preferBrokerAddr : null;
            }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/elect/impl/DefaultElectPolicy.java`
#### Snippet
```java
            return brokers.iterator().next();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/manager/ReplicasInfoManager.java`
#### Snippet
```java
            return group;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/utils/FastJsonSerializer.java`
#### Snippet
```java
            }
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/utils/NameServerAddressUtils.java`
#### Snippet
```java
    public static String getNameSrvAddrFromNamesrvEndpoint(String nameSrvEndpoint) {
        if (StringUtils.isEmpty(nameSrvEndpoint)) {
            return null;
        }
        return nameSrvEndpoint.substring(nameSrvEndpoint.lastIndexOf('/') + 1);
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/utils/NameServerAddressUtils.java`
#### Snippet
```java
    public static String parseInstanceIdFromEndpoint(String endpoint) {
        if (StringUtils.isEmpty(endpoint)) {
            return null;
        }
        return endpoint.substring(endpoint.lastIndexOf("/") + 1, endpoint.indexOf('.'));
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/utils/ServiceProvider.java`
#### Snippet
```java
        if (is == null) {
            LOG.warn("No resource file with name [{}] found.", name);
            return null;
        }
        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8))) {
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
            return candidatesHost.get(0);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Failed to handle properties", e);
            return null;
        }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/DLedgerController.java`
#### Snippet
```java
                    tryTimes++;
                    if (tryTimes > 3) {
                        return null;
                    }
                }
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static byte[] string2bytes(String hexString) {
        if (hexString == null || hexString.equals("")) {
            return null;
        }
        hexString = hexString.toUpperCase();
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static String ipToIPv6Str(byte[] ip) {
        if (ip.length != 16) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static String ipToIPv4Str(byte[] ip) {
        if (ip.length != 4) {
            return null;
        }
        return new StringBuilder().append(ip[0] & 0xFF).append(".").append(
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
            return df.parse(date);
        } catch (ParseException e) {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static List<String> split(String str, String splitter) {
        if (str == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static String join(List<String> list, String splitter) {
        if (list == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
        StringBuilder sb = new StringBuilder();
        if (null == paramValues) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        if (items == null
            || currentItem == null) {
            return null;
        }
        for (int i = 0; i < items.size(); i++) {
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
                    item = items.get(i  + 1);
                    if (ignoreNegative && item.getLogicOffset() < 0) {
                        return null;
                    } else {
                        return item;
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
                    }
                } else {
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        if (mappingItems == null
                || mappingItems.isEmpty()) {
            return null;
        }
        //Could use bi-search to polish performance
```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        if (brokerConfigMap == null
            || brokerConfigMap.isEmpty()) {
            return null;
        }
        //make sure it it not null
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
            return Integer.valueOf(groupSysFlagString);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
            InetAddress inetAddress = ((InetSocketAddress) this.bornHost).getAddress();

            return null != inetAddress ? inetAddress.getHostName() : null;
        }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
            return Integer.valueOf(topicSysFlagString);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
            InetAddress inetAddress = ((InetSocketAddress) this.bornHost).getAddress();

            return null != inetAddress ? inetAddress.getHostAddress() : null;
        }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/namesrv/DefaultTopAddressing.java`
#### Snippet
```java
            LOGGER.warn(errorMsg);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/consistenthash/ConsistentHashRouter.java`
#### Snippet
```java
    public T routeNode(String objectKey) {
        if (ring.isEmpty()) {
            return null;
        }
        Long hashVal = hashFunction.hash(objectKey);
```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
            return map;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java
    private StatisticsItemSampleBrief getSampleBrief(String kind, String key) {
        ConcurrentHashMap<String, StatisticsItemSampleBrief> itemMap = sampleBriefs.get(kind);
        return (itemMap != null) ? itemMap.get(key) : null;
    }

```

### ReturnNull
Return of `null`
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java
        String kind, String key) {
        ConcurrentHashMap<String, StatisticsItem> itemMap = snapshots.get(kind);
        return (itemMap != null) ? itemMap.get(key) : null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java
        }
        this.mqClientFactory.resetOffset(requestHeader.getTopic(), requestHeader.getGroup(), offsetTable);
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java
                break;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java
            logger.error("notifyConsumerIdsChanged exception", UtilAll.exceptionSimpleDesc(e));
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
            return messageQueueState.getProcessQueue();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePullImpl.java`
#### Snippet
```java
    @Override
    public PopProcessQueue createPopProcessQueue() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceLitePullImpl.java`
#### Snippet
```java
    @Override
    public PopProcessQueue createPopProcessQueue() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
            return qr.getMessageList().get(0);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
    ) {
        if (brokerName == null) {
            return null;
        }
        String brokerAddr = null;
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
    public String findBrokerAddressInPublish(final String brokerName) {
        if (brokerName == null) {
            return null;
        }
        HashMap<Long/* brokerId */, String/* address */> map = this.brokerAddrTable.get(brokerName);
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        MQConsumerInner mqConsumerInner = this.consumerTable.get(consumerGroup);
        if (mqConsumerInner == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
    public FindBrokerResult findBrokerAddressInAdmin(final String brokerName) {
        if (brokerName == null) {
            return null;
        }
        String brokerAddr = null;
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ONEWAY:
                assert false;
                return null;
            case ASYNC:
                this.pullMessageAsync(addr, request, timeoutMillis, pullCallback);
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ASYNC:
                this.pullMessageAsync(addr, request, timeoutMillis, pullCallback);
                return null;
            case SYNC:
                return this.pullMessageSync(addr, request, timeoutMillis);
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ONEWAY:
                this.remotingClient.invokeOneway(addr, request, timeoutMillis);
                return null;
            case ASYNC:
                final AtomicInteger times = new AtomicInteger();
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                this.sendMessageAsync(addr, brokerName, msg, timeoutMillis - costTimeAsync, request, sendCallback, topicPublishInfo, instance,
                    retryTimesWhenSendFailed, times, context, producer);
                return null;
            case SYNC:
                long costTimeSync = System.currentTimeMillis() - beginStartTime;
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            this.remotingClient.getNameServerAddressList() : controllerServers;
        if (invokeControllerServers == null || invokeControllerServers.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            this.remotingClient.getNameServerAddressList() : nameServers;
        if (invokeNameServers == null || invokeNameServers.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceDataEncoder.java`
#### Snippet
```java
    public static TraceTransferBean encoderFromContextBean(TraceContext ctx) {
        if (ctx == null) {
            return null;
        }
        //build message trace of the transferring entity content bean
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/latency/LatencyFaultToleranceImpl.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
        }

        return null;
    }
}
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/producer/selector/SelectMessageQueueByMachineRoom.java`
#### Snippet
```java
    @Override
    public MessageQueue select(List<MessageQueue> mqs, Message msg, Object arg) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                        switch (communicationMode) {
                            case ASYNC:
                                return null;
                            case ONEWAY:
                                return null;
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                                return null;
                            case ONEWAY:
                                return null;
                            case SYNC:
                                if (sendResult.getSendStatus() != SendStatus.SEND_OK) {
```

### ReturnNull
Return of `null`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
            return producer.getTransactionListener();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/CacheObject.java`
#### Snippet
```java
    public T getTarget() {
        if (System.currentTimeMillis() - bornTime > exp) {
            return null;
        }
        return target;
```

### ReturnNull
Return of `null`
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/ExpiredLocalCache.java`
#### Snippet
```java
        CacheObject<T> old = cache.put(key, value);
        if (old == null) {
            return null;
        } else {
            return old.getTarget();
```

### ReturnNull
Return of `null`
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/ExpiredLocalCache.java`
#### Snippet
```java
        CacheObject<T> object = cache.get(key);
        if (object == null) {
            return null;
        }
        T ret = object.getTarget();
```

### ReturnNull
Return of `null`
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/ExpiredLocalCache.java`
#### Snippet
```java
        CacheObject<T> object = cache.remove(key);
        if (object == null) {
            return null;
        }
        T ret = object.getTarget();
```

### ReturnNull
Return of `null`
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/ExpiredLocalCache.java`
#### Snippet
```java
        CacheObject<T> old = cache.putIfAbsent(key, value);
        if (old == null) {
            return null;
        } else {
            return old.getTarget();
```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/MessagingAccessPointImpl.java`
#### Snippet
```java
    @Override
    public StreamingConsumer createStreamingConsumer(KeyValue attributes) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/MessagingAccessPointImpl.java`
#### Snippet
```java
    @Override
    public StreamingConsumer createStreamingConsumer() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/BeanUtils.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/LocalMessageCache.java`
#### Snippet
```java
            return (ReadWriteLock) FieldUtils.readDeclaredField(pq, "lockTreeMap", true);
        } catch (IllegalAccessException e) {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/LocalMessageCache.java`
#### Snippet
```java
        } catch (InterruptedException ignore) {
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PullConsumerImpl.java`
#### Snippet
```java
    public Message receive(final KeyValue properties) {
        MessageExt rmqMsg = localMessageCache.poll(properties);
        return rmqMsg == null ? null : OMSUtil.msgConvert(rmqMsg);
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/producer/ProducerImpl.java`
#### Snippet
```java
    @Override
    public SendResult send(Message message, LocalTransactionExecutor branchExecutor, KeyValue attributes) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PullConsumerImpl.java`
#### Snippet
```java
    public Message receive() {
        MessageExt rmqMsg = localMessageCache.poll();
        return rmqMsg == null ? null : OMSUtil.msgConvert(rmqMsg);
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/producer/ProducerImpl.java`
#### Snippet
```java
    @Override
    public BatchMessageSender createBatchMessageSender() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PushConsumerImpl.java`
#### Snippet
```java
            throw new OMSRuntimeException("-1", String.format("RocketMQ push consumer fails to unsubscribe topic: %s", queueName));
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java

        if (max < min || n > len) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
    @Override
    public ResultWrapper send(Object msg, Object arg) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java

    public List<MessageQueue> getMessageQueue() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/util/HookUtils.java`
#### Snippet
```java
            return new PutMessageResult(PutMessageStatus.WHEEL_TIMER_MSG_ILLEGAL, null);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/util/HookUtils.java`
#### Snippet
```java
            return new PutMessageResult(PutMessageStatus.OS_PAGE_CACHE_BUSY, null);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/util/HookUtils.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/util/HookUtils.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicRouteInfoManager.java`
#### Snippet
```java
    ) {
        if (brokerName == null) {
            return null;
        }
        String brokerAddr = null;
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicRouteInfoManager.java`
#### Snippet
```java
    public String findBrokerAddressInPublish(String brokerName) {
        if (brokerName == null) {
            return null;
        }
        Map<Long/* brokerId */, String/* address */> map = this.brokerAddrTable.get(brokerName);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicRouteInfoManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
            LogicQueueMappingItem mappingItem = mappingContext.getLeaderItem();
            requestHeader.setQueueId(mappingItem.getQueueId());
            return null;
        } catch (Throwable t) {
            return buildErrorResponse(ResponseCode.SYSTEM_ERROR, t.getMessage());
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerGroupInfo.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ProducerManager.java`
#### Snippet
```java
    public Channel getAvailableChannel(String groupId) {
        if (groupId == null) {
            return null;
        }
        List<Channel> channelList;
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ProducerManager.java`
#### Snippet
```java
        } else {
            log.warn("Check transaction failed, channel table is empty. groupId={}", groupId);
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ProducerManager.java`
#### Snippet
```java
        if (0 == size) {
            log.warn("Channel list is empty. groupId={}", groupId);
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerManager.java`
#### Snippet
```java
            return consumerGroupInfo.findChannel(clientId);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerManager.java`
#### Snippet
```java
            return consumerGroupInfo.findChannel(channel);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/MessageEvaluationContext.java`
#### Snippet
```java
    public Map<String, Object> keyValues() {
        if (properties == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/MessageEvaluationContext.java`
#### Snippet
```java
    public Object get(final String name) {
        if (this.properties == null) {
            return null;
        }
        return this.properties.get(name);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                // Ignore
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
    public ConsumerFilterData get(final String topic, final String consumerGroup) {
        if (!this.filterDataByTopic.containsKey(topic)) {
            return null;
        }
        if (this.filterDataByTopic.get(topic).getGroupFilterData().isEmpty()) {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
        }
        if (this.filterDataByTopic.get(topic).getGroupFilterData().isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
    public final Collection<ConsumerFilterData> get(final String topic) {
        if (!this.filterDataByTopic.containsKey(topic)) {
            return null;
        }
        if (this.filterDataByTopic.get(topic).getGroupFilterData().isEmpty()) {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
        }
        if (this.filterDataByTopic.get(topic).getGroupFilterData().isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
        final long clientVersion) {
        if (ExpressionType.isTagType(type)) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
        } catch (Throwable e) {
            log.error("parse error: expr={}, topic={}, group={}, error={}", expression, topic, consumerGroup, e.getMessage());
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOffsetManager.java`
#### Snippet
```java
        ConcurrentMap<Integer, Long> map = resetOffsetTable.get(key);
        if (null == map) {
            return null;
        } else {
            return map.remove(queueId);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/latency/BrokerFastFailure.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryMessageProcessor.java`
#### Snippet
```java
            }

            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryMessageProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryMessageProcessor.java`
#### Snippet
```java
            }

            return null;
        } else {
            response.setCode(ResponseCode.SYSTEM_ERROR);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
                    return HookUtils.checkInnerBatch(BrokerController.this, msg);
                }
                return null;
            }
        });
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java

    public BrokerController peekMasterBroker() {
        return brokerConfig.getBrokerId() == MixAll.MASTER_ID ? this : null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
                    return HookUtils.handleScheduleMessage(BrokerController.this, (MessageExtBrokerInner) msg);
                }
                return null;
            }
        });
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
            return this.getMessageStore();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
                    producerGroup, SEND_TIMEOUT);

                return future.exceptionally(throwable -> null)
                    .thenApplyAsync(sendResult -> transformSendResult2PutResult(sendResult), this.defaultAsyncSenderExecutor)
                    .exceptionally(throwable -> transformSendResult2PutResult(null));
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
            if (getMessageTmpResult == null) {
                LOG.warn("getMessageResult is null , innerConsumerGroupName {}, topic {}, offset {}, queueId {}", innerConsumerGroupName, topic, offset, queueId);
                return null;
            }
            List<MessageExt> list = decodeMsgList(getMessageTmpResult, deCompressBody);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
            if (list == null || list.isEmpty()) {
                LOG.warn("Can not get msg , topic {}, offset {}, queueId {}, result is {}", topic, offset, queueId, getMessageTmpResult);
                return null;
            } else {
                return list.get(0);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
            LOG.warn("putMessageToRemoteBroker: no route info of topic {} when escaping message, msgId={}",
                messageToPut.getTopic(), messageToPut.getMsgId());
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
                if (null == brokerAddr) {
                    LOG.warn("can't find broker address for topic {}", topic);
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java`
#### Snippet
```java
        SendMessageRequestHeader requestHeader = parseRequestHeader(request);
        if (requestHeader == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ForwardRequestProcessor.java`
#### Snippet
```java
    @Override
    public RemotingCommand processRequest(ChannelHandlerContext ctx, RemotingCommand request) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/EndTransactionProcessor.java`
#### Snippet
```java
                        requestHeader.toString(),
                        request.getRemark());
                    return null;
                }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/EndTransactionProcessor.java`
#### Snippet
```java
                }
                default:
                    return null;
            }
        } else {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/EndTransactionProcessor.java`
#### Snippet
```java
                        requestHeader.toString(),
                        request.getRemark());
                    return null;
                }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/EndTransactionProcessor.java`
#### Snippet
```java
                }
                default:
                    return null;
            }
        }
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOrderInfoManager.java`
#### Snippet
```java
        public Long getLockFreeTimestamp() {
            if (offsetList == null || offsetList.isEmpty()) {
                return null;
            }
            int num = offsetList.size();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOrderInfoManager.java`
#### Snippet
```java
                if (isNotAck(i)) {
                    if (invisibleTime == null || invisibleTime <= 0) {
                        return null;
                    }
                    long nextVisibleTime = popTime + invisibleTime;
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java

                onException();
                return null;
            });
            return this;
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/NotificationProcessor.java`
#### Snippet
```java
        if (!hasMsg) {
            if (polling(channel, request, requestHeader)) {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ClientManageProcessor.java`
#### Snippet
```java
                break;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/DefaultPullMessageResultHandler.java`
#### Snippet
```java
                    getMessageResult.release();
                    //ignore pull request
                    return null;
                }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/DefaultPullMessageResultHandler.java`
#### Snippet
```java
                        getMessageResult.release();
                    }
                    return null;
                }
            case ResponseCode.PULL_NOT_FOUND:
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/DefaultPullMessageResultHandler.java`
#### Snippet
```java
                        this.brokerController.getMessageStore().now(), offset, subscriptionData, messageFilter);
                    this.brokerController.getPullRequestHoldService().suspendPullRequest(topic, queueId, pullRequest);
                    return null;
                }
            case ResponseCode.PULL_RETRY_IMMEDIATELY:
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
            if (mappingDetail.getBname().equals(bname)) {
                //just let it go, do the local pull process
                return null;
            }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                return RemotingCommand.createResponseCommandWithHeader(responseCode, responseHeader);
            } else {
                return null;
            }
        } catch (Throwable t) {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
                sendMessageContext.setSendMsgNum(msgNum);
            }
            return null;
        } else {
            if (hasSendMessageHook()) {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
            return buildErrorResponse(ResponseCode.SYSTEM_ERROR, t.getMessage());
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
            }, this.brokerController.getPutMessageFutureExecutor());
            // Returns null to release the send message thread
            return null;
        } else {
            PutMessageResult putMessageResult = null;
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
                SendMessageRequestHeader requestHeader = parseRequestHeader(request);
                if (requestHeader == null) {
                    return null;
                }
                TopicQueueMappingContext mappingContext = this.brokerController.getTopicQueueMappingManager().buildTopicQueueMappingContext(requestHeader, true);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
            }, this.brokerController.getSendMessageExecutor());
            // Returns null to release the send message thread
            return null;
        } else {
            PutMessageResult putMessageResult;
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
            //leader, let it go, do not need to rewrite the response
            if (mappingDetail.getBname().equals(mappingItem.getBname())) {
                return null;
            }
            RpcRequest rpcRequest = new RpcRequest(RequestCode.UPDATE_CONSUMER_OFFSET, requestHeader, null);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
                break;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            if (code != ResponseCode.SUCCESS) {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
            }
            if (code != ResponseCode.SUCCESS) {
                return null;
            }
            LogicQueueMappingItem item = mappingContext.getCurrentItem();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
            responseHeader.setOffset(item.computeStaticQueueOffsetStrictly(responseHeader.getOffset()));
            //no need to construct new object
            return null;
        } catch (Throwable t) {
            return buildErrorResponse(ResponseCode.SYSTEM_ERROR, t.getMessage());
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }
            TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
                mappingContext.setCurrentItem(mappingItemList.get(0));
                requestHeader.setQueueId(mappingContext.getLeaderItem().getQueueId());
                return null;
            }
            //double read check
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/loadbalance/MessageRequestModeManager.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                        log.warn("QueryLoad: no assignment for group[{}], the topic[{}] does not exist.", consumerGroup, topic);
                    }
                    return null;
                }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                if (null == cidAll) {
                    log.warn("QueryLoad: no assignment for group[{}] topic[{}], get consumer id list failed", consumerGroup, topic);
                    return null;
                }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                    if (null == allocateMessageQueueStrategy) {
                        log.warn("QueryLoad: unsupported strategy [{}],  {}", strategyName, RemotingHelper.parseChannelRemoteAddr(ctx.channel()));
                        return null;
                    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                } catch (Throwable e) {
                    log.error("QueryLoad: no assignment for group[{}] topic[{}], allocate message queue exception. strategy name: {}, ex: {}", consumerGroup, topic, strategyName, e);
                    return null;
                }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                break;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/ManyPullRequest.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
        PullResult pullResult = getMessage(PopAckConstants.REVIVE_GROUP, reviveTopic, queueId, offset, 32, true);
        if (pullResult == null) {
            return null;
        }
        if (reachTail(pullResult, offset)) {
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
            if (!shouldRunPopRevive) {
                POP_LOGGER.info("slave skip offset correct topic={}, reviveQueueId={}", reviveTopic, queueId);
                return null;
            }
            this.brokerController.getConsumerOffsetManager().commitOffset(PopAckConstants.LOCAL_HOST, PopAckConstants.REVIVE_GROUP, reviveTopic, queueId, pullResult.getNextBeginOffset() - 1);
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
                    topic, group, offset, maxQueueOffset);
            }
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageBridge.java`
#### Snippet
```java
            LOGGER.error("Get message from store return null. topic={}, groupId={}, requestOffset={}", topic, group,
                offset);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        TopicQueueMappingContext mappingContext) {
        if (mappingContext.getMappingDetail() == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        TopicQueueMappingContext mappingContext) {
        if (mappingContext.getMappingDetail() == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        try {
            if (mappingContext.getMappingDetail() == null) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        TopicQueueMappingContext mappingContext) {
        if (mappingContext.getMappingDetail() == null) {
            return null;
        }
        TopicQueueMappingDetail mappingDetail = mappingContext.getMappingDetail();
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
            int pollingResult = polling(channel, request, requestHeader);
            if (POLLING_SUC == pollingResult) {
                return null;
            } else if (POLLING_FULL == pollingResult) {
                response.setCode(ResponseCode.POLLING_FULL);
```

### ReturnNull
Return of `null`
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
            if (commandLine.hasOption('h')) {
                hf.printHelp("producer", options, true);
                return null;
            }
        } catch (ParseException e) {
```

### ReturnNull
Return of `null`
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
        } catch (ParseException e) {
            hf.printHelp("producer", options, true);
            return null;
        }

```

### ReturnNull
Return of `null`
in `example/src/main/java/org/apache/rocketmq/example/operation/Consumer.java`
#### Snippet
```java
            if (commandLine.hasOption('h')) {
                hf.printHelp("producer", options, true);
                return null;
            }
        } catch (ParseException e) {
```

### ReturnNull
Return of `null`
in `example/src/main/java/org/apache/rocketmq/example/operation/Consumer.java`
#### Snippet
```java
        } catch (ParseException e) {
            hf.printHelp("producer", options, true);
            return null;
        }

```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
        PullResult pullResult = pullOpMsg(opQueue, pullOffsetOfOp, OP_MSG_PULL_NUMS);
        if (null == pullResult) {
            return null;
        }
        if (pullResult.getPullStatus() == PullStatus.OFFSET_ILLEGAL
```

### ReturnNull
Return of `null`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java

        if (sb.length() == 0) {
            return null;
        }

```

## RuleId[ruleID=AssignmentToLambdaParameter]
### AssignmentToLambdaParameter
Assignment to lambda parameter `v`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionStore.java`
#### Snippet
```java
            if (v == null) {
                try {
                    v = new CompactionLog(defaultMessageStore,this, topic, queueId);
                    v.load(true);
                    compactionSchedule.scheduleWithFixedDelay(v::doCompaction, compactionInterval, compactionInterval, TimeUnit.MILLISECONDS);
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `dataSet`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/TransactionDataManager.java`
#### Snippet
```java
        this.transactionIdDataMap.compute(buildKey(producerGroup, transactionId), (key, dataSet) -> {
            if (dataSet == null) {
                dataSet = new ConcurrentSkipListSet<>();
            }
            dataSet.add(transactionData);
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `clusterDataSet`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/ClusterTransactionService.java`
#### Snippet
```java
            groupClusterData.compute(group, (groupName, clusterDataSet) -> {
                if (clusterDataSet == null) {
                    clusterDataSet = Sets.newHashSet();
                }
                clusterDataSet.addAll(getClusterDataFromTopic(topic));
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `broadcastTimedOffsetStore`
in `broker/src/main/java/org/apache/rocketmq/broker/offset/BroadcastOffsetManager.java`
#### Snippet
```java
        broadcastOffsetData.clientOffsetStore.compute(clientId, (clientIdKey, broadcastTimedOffsetStore) -> {
            if (broadcastTimedOffsetStore == null) {
                broadcastTimedOffsetStore = new BroadcastTimedOffsetStore(fromProxy);
            }

```

### AssignmentToLambdaParameter
Assignment to lambda parameter `offsetStore`
in `broker/src/main/java/org/apache/rocketmq/broker/offset/BroadcastOffsetManager.java`
#### Snippet
```java
        broadcastOffsetData.clientOffsetStore.compute(clientId, (clientIdK, offsetStore) -> {
            if (offsetStore == null) {
                offsetStore = new BroadcastTimedOffsetStore(fromProxy);
            }

```

## RuleId[ruleID=UnnecessaryLocalVariable]
### UnnecessaryLocalVariable
Local variable `sizeTemp` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
         */
        private int calcUnitSize() {
            int sizeTemp = MIN_EXT_UNIT_SIZE + (filterBitMap == null ? 0 : filterBitMap.length);
            return sizeTemp;
        }
```

### UnnecessaryLocalVariable
Local variable `msgLen` is redundant
in `store/src/main/java/org/apache/rocketmq/store/MessageExtEncoder.java`
#### Snippet
```java
        int bornhostLength = (sysFlag & MessageSysFlag.BORNHOST_V6_FLAG) == 0 ? 8 : 20;
        int storehostAddressLength = (sysFlag & MessageSysFlag.STOREHOSTADDRESS_V6_FLAG) == 0 ? 8 : 20;
        final int msgLen = 4 //TOTALSIZE
            + 4 //MAGICCODE
            + 4 //BODYCRC
```

### UnnecessaryLocalVariable
Local variable `map` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    public long getPutMessageSizeTotal() {
        Map<String, LongAdder> map = putMessageTopicSizeTotal;
        return map.values()
                .parallelStream()
```

### UnnecessaryLocalVariable
Local variable `map` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    public long getPutMessageTimesTotal() {
        Map<String, LongAdder> map = putMessageTopicTimesTotal;
        return map.values()
                .parallelStream()
```

### UnnecessaryLocalVariable
Local variable `logicFileSize` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        long lastOffset = -1;

        int logicFileSize = this.mappedFileSize;

        MappedFile mappedFile = this.mappedFileQueue.getLastMappedFile();
```

### UnnecessaryLocalVariable
Local variable `result` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
        if (mappedFile != null) {
            int pos = (int) (offset % mappedFileSize);
            SelectMappedBufferResult result = mappedFile.selectMappedBuffer(pos);
            return result;
        }
```

### UnnecessaryLocalVariable
Local variable `msg` is redundant
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
        if (indexFile != null) {
            long endPhyOffset = indexFile.getEndPhyOffset();
            DispatchRequest msg = req;
            String topic = msg.getTopic();
            String keys = msg.getKeys();
```

### UnnecessaryLocalVariable
Local variable `result` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    @Override
    public boolean flush(final int flushLeastPages) {
        boolean result = this.mappedFileQueue.flush(flushLeastPages);
        return result;
    }
```

### UnnecessaryLocalVariable
Local variable `pluginMessageStore` is redundant
in `store/src/main/java/org/apache/rocketmq/store/plugin/MessageStoreFactory.java`
#### Snippet
```java
                    Class<AbstractPluginMessageStore> clazz = (Class<AbstractPluginMessageStore>) Class.forName(pluginClass);
                    Constructor<AbstractPluginMessageStore> construct = clazz.getConstructor(MessageStorePluginContext.class, MessageStore.class);
                    AbstractPluginMessageStore pluginMessageStore = construct.newInstance(context, messageStore);
                    messageStore = pluginMessageStore;
                } catch (Throwable e) {
```

### UnnecessaryLocalVariable
Local variable `offsetPy` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                try {
                    if (bufferConsumeQueue.hasNext()) {
                        long offsetPy = bufferConsumeQueue.next().getPos();
                        return offsetPy;
                    }
```

### UnnecessaryLocalVariable
Local variable `storeTime` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                final long phyOffset = result.getPos();
                final int size = result.getSize();
                long storeTime = this.getCommitLog().pickupStoreTimestamp(phyOffset, size);
                return storeTime;
            } catch (Exception e) {
```

### UnnecessaryLocalVariable
Local variable `controller` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
        try {
            parseCommandlineAndConfigFile(args);
            NamesrvController controller = createAndStartNamesrvController();
            return controller;
        } catch (Throwable e) {
```

### UnnecessaryLocalVariable
Local variable `signature` is redundant
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java

    public static String calSignature(byte[] data, String secretKey) {
        String signature = AclSigner.calSignature(data, secretKey);
        return signature;
    }
```

### UnnecessaryLocalVariable
Local variable `message` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        }
        MessageAccessor.putProperty(messageExt, TIMER_DEQUEUE_MS, System.currentTimeMillis() + "");
        MessageExtBrokerInner message = convertMessage(messageExt, needRoll);
        return message;
    }
```

### UnnecessaryLocalVariable
Local variable `isa` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
        String host = addr.substring(0, split);
        String port = addr.substring(split + 1);
        InetSocketAddress isa = new InetSocketAddress(host, Integer.parseInt(port));
        return isa;
    }
```

### UnnecessaryLocalVariable
Local variable `length` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
    private static int calTotalLen(int remark, int ext) {
        // int code(~32767)
        int length = 2
            // LanguageCode language
            + 1
```

### UnnecessaryLocalVariable
Local variable `objectHeader` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
        if (classHeader != null) {
            try {
                CommandCustomHeader objectHeader = classHeader.getDeclaredConstructor().newInstance();
                cmd.customHeader = objectHeader;
            } catch (InstantiationException e) {
```

### UnnecessaryLocalVariable
Local variable `url` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/filter/FilterAPI.java`
#### Snippet
```java
    public static URL classFile(final String className) {
        final String javaSource = simpleClassName(className) + ".java";
        URL url = FilterAPI.class.getClassLoader().getResource(javaSource);
        return url;
    }
```

### UnnecessaryLocalVariable
Local variable `exsit` is redundant
in `common/src/main/java/org/apache/rocketmq/common/queue/ConcurrentTreeMap.java`
#### Snippet
```java
                return exsit;
            } else {
                V exsit = tree.get(key);
                return exsit;
            }
```

### UnnecessaryLocalVariable
Local variable `bitMap` is redundant
in `common/src/main/java/org/apache/rocketmq/common/topic/TopicValidator.java`
#### Snippet
```java
        int strLen = str.length();
        int len = VALID_CHAR_BIT_MAP.length;
        boolean[] bitMap = VALID_CHAR_BIT_MAP;
        for (int i = 0; i < strLen; i++) {
            char ch = str.charAt(i);
```

### UnnecessaryLocalVariable
Local variable `isa` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java
        String host = addr.substring(0, split);
        String port = addr.substring(split + 1);
        InetSocketAddress isa = new InetSocketAddress(host, Integer.parseInt(port));
        return isa;
    }
```

### UnnecessaryLocalVariable
Local variable `brokerAddrNew` is redundant
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
            String ip = brokerAddr.substring(0, split);
            String port = brokerAddr.substring(split + 1);
            String brokerAddrNew = ip + ":" + (Integer.parseInt(port) - 2);
            return brokerAddrNew;
        } else {
```

### UnnecessaryLocalVariable
Local variable `hexArray` is redundant
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java

    public static void writeInt(char[] buffer, int pos, int value) {
        char[] hexArray = HEX_ARRAY;
        for (int moveBits = 28; moveBits >= 0; moveBits -= 4) {
            buffer[pos++] = hexArray[(value >>> moveBits) & 0x0F];
```

### UnnecessaryLocalVariable
Local variable `hexArray` is redundant
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java

    public static void writeShort(char[] buffer, int pos, int value) {
        char[] hexArray = HEX_ARRAY;
        for (int moveBits = 12; moveBits >= 0; moveBits -= 4) {
            buffer[pos++] = hexArray[(value >>> moveBits) & 0x0F];
```

### UnnecessaryLocalVariable
Local variable `mapInBroker` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
            }
            //remapping
            final String mapInBroker = broker;
            final String mapOutBroker = topicQueueMappingOne.getBname();
            brokersToMapIn.add(mapInBroker);
```

### UnnecessaryLocalVariable
Local variable `map` is redundant
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
            byteBuffer.get(properties);
            String propertiesString = new String(properties, CHARSET_UTF8);
            Map<String, String> map = string2messageProperties(propertiesString);
            return map;
        }
```

### UnnecessaryLocalVariable
Local variable `pullResult` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullAPIWrapper.java`
#### Snippet
```java
            }

            PullResult pullResult = this.mQClientFactory.getMQClientAPIImpl().pullMessage(
                brokerAddr,
                requestHeader,
```

### UnnecessaryLocalVariable
Local variable `listener` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
            }

            MessageListenerConcurrently listener = ConsumeMessagePopConcurrentlyService.this.messageListener;
            ConsumeConcurrentlyContext context = new ConsumeConcurrentlyContext(messageQueue);
            ConsumeConcurrentlyStatus status = null;
```

### UnnecessaryLocalVariable
Local variable `topicList` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(body, TopicList.class);
                    return topicList;
                }
```

### UnnecessaryLocalVariable
Local variable `topicList` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                TopicList topicList = TopicList.decode(response.getBody(), TopicList.class);
                return topicList;
            }
```

### UnnecessaryLocalVariable
Local variable `messageQueues` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ResponseCode.SUCCESS: {
                LockBatchResponseBody responseBody = LockBatchResponseBody.decode(response.getBody(), LockBatchResponseBody.class);
                Set<MessageQueue> messageQueues = responseBody.getLockOKMQSet();
                return messageQueues;
            }
```

### UnnecessaryLocalVariable
Local variable `groupList` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                GroupList groupList = GroupList.decode(response.getBody(), GroupList.class);
                return groupList;
            }
```

### UnnecessaryLocalVariable
Local variable `info` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    ConsumerRunningInfo info = ConsumerRunningInfo.decode(body, ConsumerRunningInfo.class);
                    return info;
                }
```

### UnnecessaryLocalVariable
Local variable `topicList` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(body, TopicList.class);
                    return topicList;
                }
```

### UnnecessaryLocalVariable
Local variable `topicStatsTable` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                TopicStatsTable topicStatsTable = TopicStatsTable.decode(response.getBody(), TopicStatsTable.class);
                return topicStatsTable;
            }
```

### UnnecessaryLocalVariable
Local variable `info` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    ConsumeMessageDirectlyResult info = ConsumeMessageDirectlyResult.decode(body, ConsumeMessageDirectlyResult.class);
                    return info;
                }
```

### UnnecessaryLocalVariable
Local variable `consumeStats` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                ConsumeStats consumeStats = ConsumeStats.decode(response.getBody(), ConsumeStats.class);
                return consumeStats;
            }
```

### UnnecessaryLocalVariable
Local variable `listener` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
            }

            MessageListenerConcurrently listener = ConsumeMessageConcurrentlyService.this.messageListener;
            ConsumeConcurrentlyContext context = new ConsumeConcurrentlyContext(messageQueue);
            ConsumeConcurrentlyStatus status = null;
```

### UnnecessaryLocalVariable
Local variable `ret` is redundant
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/ExpiredLocalCache.java`
#### Snippet
```java
            return null;
        }
        T ret = object.getTarget();
        return ret;
    }
```

### UnnecessaryLocalVariable
Local variable `offset` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private long fetchConsumeOffset(MessageQueue messageQueue) throws MQClientException {
        checkServiceState();
        long offset = this.rebalanceImpl.computePullFromWhereWithException(messageQueue);
        return offset;
    }
```

### UnnecessaryLocalVariable
Local variable `realKey` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java

    public DataCollector fetchListDataCollector(String key) {
        String realKey = key;
        if (!collectMap.containsKey(realKey)
            || collectMap.get(realKey) instanceof MapDataCollectorImpl) {
```

### UnnecessaryLocalVariable
Local variable `realKey` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java

    public DataCollector fetchMapDataCollector(String key) {
        String realKey = key;
        if (!collectMap.containsKey(realKey)
            || collectMap.get(realKey) instanceof ListDataCollectorImpl) {
```

### UnnecessaryLocalVariable
Local variable `realKey` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java

    public DataCollector fetchDataCollector(String key) {
        String realKey = key;
        if (!collectMap.containsKey(realKey)) {
            synchronized (lock) {
```

### UnnecessaryLocalVariable
Local variable `expired` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/client/rebalance/RebalanceLockManager.java`
#### Snippet
```java

        public boolean isExpired() {
            boolean expired =
                (System.currentTimeMillis() - this.lastUpdateTimestamp) > REBALANCE_LOCK_MAX_LIVE_TIME;

```

### UnnecessaryLocalVariable
Local variable `requestHeaderV2` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        requestHeader.setBatch(false);

        SendMessageRequestHeaderV2 requestHeaderV2 = SendMessageRequestHeaderV2.createSendMessageRequestHeaderV2(requestHeader);
        return requestHeaderV2;
    }
```

### UnnecessaryLocalVariable
Local variable `currentBroker` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AbstractSendMessageProcessor.java`
#### Snippet
```java
        // The broker that received the request.
        // It may be a master broker or a slave broker
        final BrokerController currentBroker = this.brokerController;

        SubscriptionGroupConfig subscriptionGroupConfig =
```

### UnnecessaryLocalVariable
Local variable `incValue` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
                int msgNum = Math.max(appendMessageResult != null ? appendMessageResult.getMsgNum() : 1, 1);
                int commercialMsgNum = (int) Math.ceil(wroteSize / (double) commercialSizePerMsg);
                int incValue = commercialMsgNum;

                sendMessageContext.setCommercialSendStats(BrokerStatsManager.StatsType.SEND_FAILURE);
```

### UnnecessaryLocalVariable
Local variable `response` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
    private RemotingCommand getUnknownCmdResponse(ChannelHandlerContext ctx, RemotingCommand request) {
        String error = " request type " + request.getCode() + " not supported";
        final RemotingCommand response =
            RemotingCommand.createResponseCommand(RemotingSysResponseCode.REQUEST_CODE_NOT_SUPPORTED, error);
        return response;
```

### UnnecessaryLocalVariable
Local variable `snap` is redundant
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java

    public Long[] createSnapshot() {
        Long[] snap = new Long[] {
            System.currentTimeMillis(),
            this.sendRequestSuccessCount.longValue(),
```

### UnnecessaryLocalVariable
Local variable `snap` is redundant
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java

    public Long[] createSnapshot() {
        Long[] snap = new Long[] {
            System.currentTimeMillis(),
            this.sendRequestSuccessCount.longValue(),
```

### UnnecessaryLocalVariable
Local variable `snap` is redundant
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java

    public Long[] createSnapshot() {
        Long[] snap = new Long[] {
            System.currentTimeMillis(),
            this.receiveMessageTotalCount.longValue(),
```

## RuleId[ruleID=BusyWait]
### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/FlushDiskWatcher.java`
#### Snippet
```java
                }
                try {
                    Thread.sleep(sleepTime);
                } catch (InterruptedException e) {
                    log.warn(
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAConnection.java`
#### Snippet
```java

                    if (-1 == DefaultHAConnection.this.slaveRequestOffset) {
                        Thread.sleep(10);
                        continue;
                    }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
                try {
                    if (flushCommitLogTimed) {
                        Thread.sleep(interval);
                    } else {
                        this.waitForRunning(interval);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAService.java`
#### Snippet
```java
        while (defaultMessageStore.dispatchBehindBytes() > 0) {
            try {
                Thread.sleep(100);
            } catch (Exception ignored) {

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
                    logger.error("{} get unknown errror", getServiceName(), e);
                    try {
                        Thread.sleep(1000);
                    } catch (Throwable ignored) {

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
            while (!this.isStopped()) {
                try {
                    Thread.sleep(1);
                    this.doReput();
                } catch (Exception e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                break;
            }
            Thread.sleep(1000);
            LOGGER.info("Try to finish doing reput the messages fall behind during the starting, reputOffset={} maxOffset={} behind={}", this.reputMessageService.getReputFromOffset(), this.getMaxPhyOffset(), this.dispatchBehindBytes());
        }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
            for (int i = 0; i < 50 && this.isCommitLogAvailable(); i++) {
                try {
                    Thread.sleep(100);
                } catch (InterruptedException ignored) {
                }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                                    }
                                    doRes = PUT_NEED_RETRY != doPut(msg, needRoll(tr.getMagic()));
                                    Thread.sleep(500 * precisionMs / 1000);
                                }
                                perfs.endTick("dequeue_put");
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
                    }

                    Thread.sleep(1);
                }

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
                    }

                    Thread.sleep(1);
                }

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
                    }

                    Thread.sleep(1);
                }

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
            }
            try {
                Thread.sleep(1);
            } catch (InterruptedException e) {
                break;
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
                    if (StatUtil.isOverFlow(pubKey, tps)) {
                        try {
                            Thread.sleep(100L);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
                        try {
                            if (StatUtil.isOverFlow(statKey, tps)) {
                                Thread.sleep(100L);
                            }
                            long start = System.currentTimeMillis();
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
                return true;
            }
            Thread.sleep(100);
        }
        return false;
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `broker/src/main/java/org/apache/rocketmq/broker/dledger/DLedgerRoleChangeHandler.java`
#### Snippet
```java
                                    break;
                                }
                                Thread.sleep(100);
                            }
                            if (succ) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `broker/src/main/java/org/apache/rocketmq/broker/processor/NotificationProcessor.java`
#### Snippet
```java
                    }
                    try {
                        Thread.sleep(2000L);
                        Collection<ArrayBlockingQueue<NotificationRequest>> pops = pollingMap.values();
                        for (ArrayBlockingQueue<NotificationRequest> popQ : pops) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
                // Fixme: why sleep is useful here?
                try {
                    Thread.sleep(100);
                } catch (Throwable ignore) {
                }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                            Set<MessageQueue> messageQueues = consumer.fetchMessageQueuesInBalance(topic);
                            if (messageQueues == null || messageQueues.isEmpty()) {
                                Thread.sleep(1000);
                                continue;
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                                            break;
                                        case NO_NEW_MSG:
                                            Thread.sleep(1);
                                            consumer.updateConsumeOffset(messageQueue, pullResult.getNextBeginOffset());
                                            break;
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java

                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException ignored) {
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
                            statsBenchmark.getSendMessageFailedCount().add(msgs.size());
                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException e1) {
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
                            logger.error("[BENCHMARK_PRODUCER] Send Exception", e);
                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException ignored) {
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
                } catch (Exception e) {
                    e.printStackTrace();
                    Thread.sleep(1000);
                }
            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                                // Flow control
                                while (e.getQueue().size() > MAX_LENGTH_ASYNC_QUEUE) {
                                    Thread.sleep(SLEEP_FOR_A_WHILE);
                                }
                                producer.send(msg, new SendCallback() {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java

                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException ignored) {
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                            statsBenchmark.getSendRequestFailedCount().increment();
                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException e1) {
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                            log.error("[BENCHMARK_PRODUCER] Send Exception", e);
                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException ignored) {
                            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
                            if (config.sendInterval > 0) {
                                try {
                                    Thread.sleep(config.sendInterval);
                                } catch (InterruptedException e) {
                                }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
                                if (escapeFailCnt < MAX_RETRY_TIMES_FOR_ESCAPE) {
                                    escapeFailCnt++;
                                    Thread.sleep(100L * (2 ^ escapeFailCnt));
                                } else {
                                    escapeFailCnt = 0;
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java

                                try {
                                    Thread.sleep(SLEEP_WHILE_NO_OP);
                                } catch (Throwable ignored) {
                                }
```

## RuleId[ruleID=UseCompareMethod]
### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
                int oIndex = other.filePath.lastIndexOf(File.separator);
                long oName = Long.parseLong(other.filePath.substring(oIndex + 1));
                if (mName < oName) {
                    return -1;
                } else if (mName > oName) {
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/Operator.java`
#### Snippet
```java

    public int compare(Operator operator) {
        if (this.priority > operator.priority)
            return 1;
        else if (this.priority == operator.priority)
```

## RuleId[ruleID=WaitNotInLoop]
### WaitNotInLoop
Call to `wait()` is not in loop
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
                    return;
                }
                this.wait(interval);
            } catch (InterruptedException e) {
                log.error("Interrupted", e);
```

### WaitNotInLoop
Call to `wait()` is not in loop
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
                    return;
                }
                this.wait(interval);
            } catch (InterruptedException e) {
                log.error("Interrupted", e);
```

### WaitNotInLoop
Call to `wait()` is not in loop
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/DefaultPromise.java`
#### Snippet
```java
            if (timeout <= 0) {
                try {
                    lock.wait();
                } catch (Exception e) {
                    cancel(e);
```

## RuleId[ruleID=UseBulkOperation]
### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
        if (topicConfigConcurrentMap != null) {
            for (Map.Entry<String, TopicConfig> entry : topicConfigConcurrentMap.entrySet()) {
                result.put(entry.getKey(), entry.getValue());
            }
        }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            Reflections reflections = new Reflections("org.apache.rocketmq");
            for (Class<?> protocolClass: reflections.getSubTypesOf(CommandCustomHeader.class)) {
                PROTOCOL_CLASS_LIST.add(protocolClass);
            }
        }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `broker/src/main/java/org/apache/rocketmq/broker/filter/MessageEvaluationContext.java`
#### Snippet
```java

        for (Entry<String, String> entry : properties.entrySet()) {
            copy.put(entry.getKey(), entry.getValue());
        }

```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerAssignWithSubExpression.java`
#### Snippet
```java
        List<MessageQueue> assignList = new ArrayList<>();
        for (int i = 0; i < list.size(); i++) {
            assignList.add(list.get(i));
        }
        mqSet = litePullConsumer.fetchMessageQueues("TopicTest1");
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerAssignWithSubExpression.java`
#### Snippet
```java
        list = new ArrayList<>(mqSet);
        for (int i = 0; i < list.size(); i++) {
            assignList.add(list.get(i));
        }
        litePullConsumer.assign(assignList);
```

## RuleId[ruleID=UnstableApiUsage]
### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
        int[] bitPositions = new int[this.k];

        long hash64 = Hashing.murmur3_128().hashString(str, UTF_8).asLong();

        int hash1 = (int) hash64;
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
        int[] bitPositions = new int[this.k];

        long hash64 = Hashing.murmur3_128().hashString(str, UTF_8).asLong();

        int hash1 = (int) hash64;
```

### UnstableApiUsage
'copy(java.io.File, java.io.File)' is marked unstable with @Beta
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMetrics.java`
#### Snippet
```java
            File configFile = new File(config);
            if (configFile.exists()) {
                Files.copy(configFile, new File(backup));
                configFile.delete();
            }
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }

        return Hashing.murmur3_128().hashBytes(byteBuffer.array()).asBytes();
    }

```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        }

        return Hashing.murmur3_128().hashBytes(byteBuffer.array()).asBytes();
    }

```

### UnstableApiUsage
'getHost()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/route/RouteActivity.java`
#### Snippet
```java
                    addressScheme = AddressScheme.valueOf(address.getAddressScheme().name());
                    addressList.add(Address.newBuilder()
                        .setHost(address.getHostAndPort().getHost())
                        .setPort(address.getHostAndPort().getPort())
                        .build());
```

### UnstableApiUsage
'getPort()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/route/RouteActivity.java`
#### Snippet
```java
                    addressList.add(Address.newBuilder()
                        .setHost(address.getHostAndPort().getHost())
                        .setPort(address.getHostAndPort().getPort())
                        .build());
                }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/route/RouteActivity.java`
#### Snippet
```java
            addressList.add(new org.apache.rocketmq.proxy.common.Address(
                org.apache.rocketmq.proxy.common.Address.AddressScheme.valueOf(endpoints.getScheme().name()),
                HostAndPort.fromParts(address.getHost(), port))
            );
        }
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/route/RouteActivity.java`
#### Snippet
```java
            addressList.add(new org.apache.rocketmq.proxy.common.Address(
                org.apache.rocketmq.proxy.common.Address.AddressScheme.valueOf(endpoints.getScheme().name()),
                HostAndPort.fromParts(address.getHost(), port))
            );
        }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/HeaderInterceptor.java`
#### Snippet
```java
        if (socketAddress instanceof InetSocketAddress) {
            InetSocketAddress inetSocketAddress = (InetSocketAddress) socketAddress;
            return HostAndPort.fromParts(
                inetSocketAddress.getAddress()
                    .getHostAddress(),
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/HeaderInterceptor.java`
#### Snippet
```java
        if (socketAddress instanceof InetSocketAddress) {
            InetSocketAddress inetSocketAddress = (InetSocketAddress) socketAddress;
            return HostAndPort.fromParts(
                inetSocketAddress.getAddress()
                    .getHostAddress(),
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/HeaderInterceptor.java`
#### Snippet
```java
                    .getHostAddress(),
                inetSocketAddress.getPort()
            ).toString();
        }

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java
    }

    public HostAndPort getHostAndPort() {
        return hostAndPort;
    }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java
    }

    public void setHostAndPort(HostAndPort hostAndPort) {
        this.hostAndPort = hostAndPort;
    }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java

    private AddressScheme addressScheme;
    private HostAndPort hostAndPort;

    public Address(AddressScheme addressScheme, HostAndPort hostAndPort) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/Address.java`
#### Snippet
```java
    private HostAndPort hostAndPort;

    public Address(AddressScheme addressScheme, HostAndPort hostAndPort) {
        this.addressScheme = addressScheme;
        this.hostAndPort = hostAndPort;
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
                    // With shardingKey
                    List<AddressableMessageQueue> writeQueues = messageQueueView.getWriteSelector().getQueues();
                    int bucket = Hashing.consistentHash(shardingKey.hashCode(), writeQueues.size());
                    targetMessageQueue = writeQueues.get(bucket);
                } else {
```

### UnstableApiUsage
'consistentHash(long, int)' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
                    // With shardingKey
                    List<AddressableMessageQueue> writeQueues = messageQueueView.getWriteSelector().getQueues();
                    int bucket = Hashing.consistentHash(shardingKey.hashCode(), writeQueues.size());
                    targetMessageQueue = writeQueues.get(bucket);
                } else {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
            for (Long brokerId : brokerData.getBrokerAddrs().keySet()) {
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
            for (Long brokerId : brokerData.getBrokerAddrs().keySet()) {
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

```

### UnstableApiUsage
'fromString(java.lang.String)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
            for (Long brokerId : brokerData.getBrokerAddrs().keySet()) {
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

                proxyBrokerData.getBrokerAddrs().put(brokerId, Lists.newArrayList(new Address(Address.AddressScheme.IPv4, grpcHostAndPort)));
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

                proxyBrokerData.getBrokerAddrs().put(brokerId, Lists.newArrayList(new Address(Address.AddressScheme.IPv4, grpcHostAndPort)));
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

                proxyBrokerData.getBrokerAddrs().put(brokerId, Lists.newArrayList(new Address(Address.AddressScheme.IPv4, grpcHostAndPort)));
```

### UnstableApiUsage
'getHost()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/LocalTopicRouteService.java`
#### Snippet
```java
                String brokerAddr = brokerData.getBrokerAddrs().get(brokerId);
                HostAndPort brokerHostAndPort = HostAndPort.fromString(brokerAddr);
                HostAndPort grpcHostAndPort = HostAndPort.fromParts(brokerHostAndPort.getHost(), grpcPort);

                proxyBrokerData.getBrokerAddrs().put(brokerId, Lists.newArrayList(new Address(Address.AddressScheme.IPv4, grpcHostAndPort)));
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/ProxyTopicRouteData.java`
#### Snippet
```java
            brokerAddrs.forEach((k, v) -> {
                if (!v.isEmpty()) {
                    buildBrokerAddress.put(k, v.get(0).getHostAndPort().toString());
                }
            });
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `common/src/main/java/org/apache/rocketmq/common/utils/MessageUtils.java`
#### Snippet
```java

    public static int getShardingKeyIndex(String shardingKey, int indexSize) {
        return Math.abs(Hashing.murmur3_32().hashBytes(shardingKey.getBytes(StandardCharsets.UTF_8)).asInt() % indexSize);
    }

```

### UnstableApiUsage
'murmur3_32()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `common/src/main/java/org/apache/rocketmq/common/utils/MessageUtils.java`
#### Snippet
```java

    public static int getShardingKeyIndex(String shardingKey, int indexSize) {
        return Math.abs(Hashing.murmur3_32().hashBytes(shardingKey.getBytes(StandardCharsets.UTF_8)).asInt() % indexSize);
    }

```

## RuleId[ruleID=EnumSwitchStatementWhichMissesCases]
### EnumSwitchStatementWhichMissesCases
`switch (DLedgerResponseCode.valueOf(appendEntryResponse.getCode())) { case SUCCESS: ...` statement on enum type 'io.openmessaging.storage.dledger.protocol.DLedgerResponseCode' misses cases: 'UNKNOWN', 'TIMEOUT', 'METADATA_ERROR', ...
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
        return dledgerFuture.thenApply(appendEntryResponse -> {
            PutMessageStatus putMessageStatus = PutMessageStatus.UNKNOWN_ERROR;
            switch (DLedgerResponseCode.valueOf(appendEntryResponse.getCode())) {
                case SUCCESS:
                    putMessageStatus = PutMessageStatus.PUT_OK;
                    break;
                case INCONSISTENT_LEADER:
                case NOT_LEADER:
                case LEADER_NOT_READY:
                case DISK_FULL:
                    putMessageStatus = PutMessageStatus.SERVICE_NOT_AVAILABLE;
                    break;
                case WAIT_QUORUM_ACK_TIMEOUT:
                    //Do not return flush_slave_timeout to the client, for the client will ignore it.
                    putMessageStatus = PutMessageStatus.IN_SYNC_REPLICAS_NOT_ENOUGH;
                    break;
                case LEADER_PENDING_FULL:
                    putMessageStatus = PutMessageStatus.OS_PAGE_CACHE_BUSY;
                    break;
            }
            PutMessageResult putMessageResult = new PutMessageResult(putMessageStatus, appendResult);
            if (putMessageStatus == PutMessageStatus.PUT_OK) {
```

### EnumSwitchStatementWhichMissesCases
`switch (DLedgerResponseCode.valueOf(appendEntryResponse.getCode())) { case SUCCESS: ...` statement on enum type 'io.openmessaging.storage.dledger.protocol.DLedgerResponseCode' misses cases: 'UNKNOWN', 'TIMEOUT', 'METADATA_ERROR', ...
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
        return dledgerFuture.thenApply(appendEntryResponse -> {
            PutMessageStatus putMessageStatus = PutMessageStatus.UNKNOWN_ERROR;
            switch (DLedgerResponseCode.valueOf(appendEntryResponse.getCode())) {
                case SUCCESS:
                    putMessageStatus = PutMessageStatus.PUT_OK;
                    break;
                case INCONSISTENT_LEADER:
                case NOT_LEADER:
                case LEADER_NOT_READY:
                case DISK_FULL:
                    putMessageStatus = PutMessageStatus.SERVICE_NOT_AVAILABLE;
                    break;
                case WAIT_QUORUM_ACK_TIMEOUT:
                    //Do not return flush_slave_timeout to the client, for the client will ignore it.
                    putMessageStatus = PutMessageStatus.IN_SYNC_REPLICAS_NOT_ENOUGH;
                    break;
                case LEADER_PENDING_FULL:
                    putMessageStatus = PutMessageStatus.OS_PAGE_CACHE_BUSY;
                    break;
            }
            PutMessageResult putMessageResult = new PutMessageResult(putMessageStatus, appendResult);
            if (putMessageStatus == PutMessageStatus.PUT_OK) {
```

### EnumSwitchStatementWhichMissesCases
`switch (request.getCommandCase()) { case SETTINGS: { ...` statement on enum type 'apache.rocketmq.v2.TelemetryCommand.CommandCase' misses cases: 'RECOVER_ORPHANED_TRANSACTION_COMMAND', ...
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/client/ClientActivity.java`
#### Snippet
```java
            public void onNext(TelemetryCommand request) {
                try {
                    switch (request.getCommandCase()) {
                        case SETTINGS: {
                            processAndWriteClientSettings(ctx, request, responseObserver);
                            break;
                        }
                        case THREAD_STACK_TRACE: {
                            reportThreadStackTrace(ctx, request.getStatus(), request.getThreadStackTrace());
                            break;
                        }
                        case VERIFY_MESSAGE_RESULT: {
                            reportVerifyMessageResult(ctx, request.getStatus(), request.getVerifyMessageResult());
                            break;
                        }
                    }
                } catch (Throwable t) {
                    processTelemetryException(request, t, responseObserver);
```

### EnumSwitchStatementWhichMissesCases
`switch (exporterType) { case OTLP_GRPC: return StringUtils.isNotBlank(pr...` statement on enum type 'org.apache.rocketmq.common.BrokerConfig.MetricsExporterType' misses case 'DISABLE'
in `proxy/src/main/java/org/apache/rocketmq/proxy/metrics/ProxyMetricsManager.java`
#### Snippet
```java
        }

        switch (exporterType) {
            case OTLP_GRPC:
                return StringUtils.isNotBlank(proxyConfig.getMetricsGrpcExporterTarget());
            case PROM:
                return true;
        }
        return false;
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (role) { case CANDIDATE: this.currentRole = Membe...` statement on enum type 'io.openmessaging.storage.dledger.MemberState.Role' misses case 'UNKNOWN'
in `controller/src/main/java/org/apache/rocketmq/controller/impl/DLedgerController.java`
#### Snippet
```java
switch (role) {
                    case CANDIDATE:
                        this.currentRole = MemberState.Role.CANDIDATE;
                        log.info("Controller {} change role to candidate", this.selfId);
                        DLedgerController.this.stopScheduling();
                        break;
                    case FOLLOWER:
                        this.currentRole = MemberState.Role.FOLLOWER;
                        log.info("Controller {} change role to Follower, leaderId:{}", this.selfId, getMemberState().getLeaderId());
                        DLedgerController.this.stopScheduling();
                        break;
                    case LEADER: {
                        log.info("Controller {} change role to leader, try process a initial proposal", this.selfId);
                        // Because the role becomes to leader, but the memory statemachine of the controller is still in the old point,
                        // some committed logs have not been applied. Therefore, we must first process an empty request to DLedger,
                        // and after the request is committed, the controller can provide services(startScheduling).
                        int tryTimes = 0;
                        while (true) {
                            final AppendEntryRequest request = new AppendEntryRequest();
                            request.setBody(new byte[0]);
                            try {
                                if (appendToDLedgerAndWait(request)) {
                                    this.currentRole = MemberState.Role.LEADER;
                                    DLedgerController.this.startScheduling();
                                    break;
                                }
                            } catch (final Throwable e) {
                                log.error("Error happen when controller leader append initial request to DLedger", e);
                            }
                            if (!DLedgerController.this.getMemberState().isLeader()) {
                                // now is not a leader
                                log.error("Append a initial log failed because current state is not leader");
                                break;
                            }
                            tryTimes++;
                            log.error(String.format("Controller leader append initial log failed, try %d times", tryTimes));
                            if (tryTimes % 3 == 0) {
                                log.warn("Controller leader append initial log failed too many times, please wait a while");
                            }
                        }
                        break;
                    }
                }
```

### EnumSwitchStatementWhichMissesCases
`switch (consumeFromWhere) { case CONSUME_FROM_LAST_OFFSET: { long lastOf...` statement on enum type 'org.apache.rocketmq.common.consumer.ConsumeFromWhere' misses cases: ...
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceLitePullImpl.java`
#### Snippet
```java
switch (consumeFromWhere) {
            case CONSUME_FROM_LAST_OFFSET: {
                long lastOffset = litePullConsumerImpl.getOffsetStore().readOffset(mq, ReadOffsetType.MEMORY_FIRST_THEN_STORE);
                if (lastOffset >= 0) {
                    result = lastOffset;
                } else if (-1 == lastOffset) {
                    if (mq.getTopic().startsWith(MixAll.RETRY_GROUP_TOPIC_PREFIX)) { // First start, no offset
                        result = 0L;
                    } else {
                        try {
                            result = this.mQClientFactory.getMQAdminImpl().maxOffset(mq);
                        } catch (MQClientException e) {
                            log.warn("Compute consume offset from last offset exception, mq={}, exception={}", mq, e);
                            throw e;
                        }
                    }
                } else {
                    result = -1;
                }
                break;
            }
            case CONSUME_FROM_FIRST_OFFSET: {
                long lastOffset = litePullConsumerImpl.getOffsetStore().readOffset(mq, ReadOffsetType.MEMORY_FIRST_THEN_STORE);
                if (lastOffset >= 0) {
                    result = lastOffset;
                } else if (-1 == lastOffset) {
                    result = 0L;
                } else {
                    result = -1;
                }
                break;
            }
            case CONSUME_FROM_TIMESTAMP: {
                long lastOffset = litePullConsumerImpl.getOffsetStore().readOffset(mq, ReadOffsetType.MEMORY_FIRST_THEN_STORE);
                if (lastOffset >= 0) {
                    result = lastOffset;
                } else if (-1 == lastOffset) {
                    if (mq.getTopic().startsWith(MixAll.RETRY_GROUP_TOPIC_PREFIX)) {
                        try {
                            result = this.mQClientFactory.getMQAdminImpl().maxOffset(mq);
                        } catch (MQClientException e) {
                            log.warn("Compute consume offset from last offset exception, mq={}, exception={}", mq, e);
                            throw e;
                        }
                    } else {
                        try {
                            long timestamp = UtilAll.parseDate(this.litePullConsumerImpl.getDefaultLitePullConsumer().getConsumeTimestamp(),
                                UtilAll.YYYYMMDDHHMMSS).getTime();
                            result = this.mQClientFactory.getMQAdminImpl().searchOffset(mq, timestamp);
                        } catch (MQClientException e) {
                            log.warn("Compute consume offset from last offset exception, mq={}, exception={}", mq, e);
                            throw e;
                        }
                    }
                } else {
                    result = -1;
                }
                break;
            }
        }
```

### EnumSwitchStatementWhichMissesCases
`switch (exporterType) { case OTLP_GRPC: return StringUtils.isNotBlank(br...` statement on enum type 'org.apache.rocketmq.common.BrokerConfig.MetricsExporterType' misses case 'DISABLE'
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
        }

        switch (exporterType) {
            case OTLP_GRPC:
                return StringUtils.isNotBlank(brokerConfig.getMetricsGrpcExporterTarget());
            case PROM:
                return true;
        }
        return false;
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (language) { case CPP: isC = true; break; ...` statement on enum type 'org.apache.rocketmq.remoting.protocol.LanguageCode' misses cases: 'JAVA', 'DOTNET', 'PYTHON', 'DELPHI', ...
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        boolean isC = false;
        LanguageCode language = request.getLanguage();
        switch (language) {
            case CPP:
                isC = true;
                break;
        }
        return this.brokerController.getBroker2Client().resetOffset(requestHeader.getTopic(), requestHeader.getGroup(),
            requestHeader.getTimestamp(), requestHeader.isForce(), isC);
```

## RuleId[ruleID=StringEquality]
### StringEquality
String values are compared using `!=`, not 'equals()'
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/order/RMQOrderListener.java`
#### Snippet
```java
        for (MessageExt msg : msgs) {
            if (isDebug) {
                if (listenerName != null && listenerName != "") {
                    LOGGER.info(listenerName + ": " + msg);
                } else {
```

## RuleId[ruleID=ConditionalBreakInInfiniteLoop]
### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
         *  2. DLedger committedPos may be missing, so here just require dispatchBehindBytes <= 0
         */
        while (true) {
            if (dispatchBehindBytes() <= 0) {
                break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                        msgExt.setQueueOffset(offset + (i / ConsumeQueue.CQ_STORE_UNIT_SIZE));
                        TimerRequest timerRequest = new TimerRequest(offsetPy, sizePy, delayedTime, System.currentTimeMillis(), MAGIC_DEFAULT, msgExt);
                        while (true) {
                            if (enqueuePutQueue.offer(timerRequest, 3, TimeUnit.SECONDS)) {
                                break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                public void run() {
                    int num = 0;
                    while (true) {
                        try {
                            final Message msg = buildMessage(topic);
```

## RuleId[ruleID=StaticCallOnSubclass]
### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.store.timer.TimerMetrics.TimerMetricsSerializeWrapper'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMetrics.java`
#### Snippet
```java
        if (jsonString != null) {
            TimerMetricsSerializeWrapper timerMetricsSerializeWrapper =
                TimerMetricsSerializeWrapper.fromJson(jsonString, TimerMetricsSerializeWrapper.class);
            if (timerMetricsSerializeWrapper != null) {
                this.timingCount.putAll(timerMetricsSerializeWrapper.getTimingCount());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.heartbeat.HeartbeatData'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainAccessResource.java`
#### Snippet
```java
                    break;
                case RequestCode.HEART_BEAT:
                    HeartbeatData heartbeatData = HeartbeatData.decode(request.getBody(), HeartbeatData.class);
                    for (ConsumerData data : heartbeatData.getConsumerDataSet()) {
                        accessResource.addResourceAndPerm(getRetryTopic(data.getGroupName()), Permission.SUB);
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.namesrv.kvconfig.KVConfigSerializeWrapper'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/kvconfig/KVConfigManager.java`
#### Snippet
```java
        if (content != null) {
            KVConfigSerializeWrapper kvConfigSerializeWrapper =
                KVConfigSerializeWrapper.fromJson(content, KVConfigSerializeWrapper.class);
            if (null != kvConfigSerializeWrapper) {
                this.configTable.putAll(kvConfigSerializeWrapper.getConfigTable());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.route.TopicRouteData'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
            (RegisterTopicRequestHeader) request.decodeCommandCustomHeader(RegisterTopicRequestHeader.class);

        TopicRouteData topicRouteData = TopicRouteData.decode(request.getBody(), TopicRouteData.class);
        if (topicRouteData != null && topicRouteData.getQueueDatas() != null && !topicRouteData.getQueueDatas().isEmpty()) {
            this.namesrvController.getRouteInfoManager().registerTopic(requestHeader.getTopic(), topicRouteData.getQueueDatas());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicConfigSerializeWrapper'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
        TopicConfigSerializeWrapper topicConfigWrapper;
        if (request.getBody() != null) {
            topicConfigWrapper = TopicConfigSerializeWrapper.decode(request.getBody(), TopicConfigSerializeWrapper.class);
        } else {
            topicConfigWrapper = new TopicConfigSerializeWrapper();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.DataVersion'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
        final QueryDataVersionRequestHeader requestHeader =
            (QueryDataVersionRequestHeader) request.decodeCommandCustomHeader(QueryDataVersionRequestHeader.class);
        DataVersion dataVersion = DataVersion.decode(request.getBody(), DataVersion.class);
        String clusterName = requestHeader.getClusterName();
        String brokerAddr = requestHeader.getBrokerAddr();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.GetRemoteClientConfigBody'
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
    private RemotingCommand getClientConfigs(ChannelHandlerContext ctx, RemotingCommand request) {
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);
        final GetRemoteClientConfigBody body = GetRemoteClientConfigBody.decode(request.getBody(), GetRemoteClientConfigBody.class);

        String content = this.namesrvController.getConfiguration().getClientConfigsFormatString(body.getKeys());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.LockBatchResponseBody'
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/mqclient/MQClientAPIExt.java`
#### Snippet
```java
                    if (response.getCode() == ResponseCode.SUCCESS) {
                        try {
                            LockBatchResponseBody responseBody = LockBatchResponseBody.decode(response.getBody(), LockBatchResponseBody.class);
                            Set<MessageQueue> messageQueues = responseBody.getLockOKMQSet();
                            future.complete(messageQueues);
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.header.GetConsumerListByGroupResponseBody'
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/mqclient/MQClientAPIExt.java`
#### Snippet
```java
                            if (response.getBody() != null) {
                                GetConsumerListByGroupResponseBody body =
                                    GetConsumerListByGroupResponseBody.decode(response.getBody(), GetConsumerListByGroupResponseBody.class);
                                future.complete(body.getConsumerIdList());
                                return;
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.RegisterBrokerBody'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
    public static RegisterBrokerBody decode(byte[] data, boolean compressed, MQVersion.Version brokerVersion) throws IOException {
        if (!compressed) {
            return RegisterBrokerBody.decode(data, RegisterBrokerBody.class);
        }
        long start = System.currentTimeMillis();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.DataVersion'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
        int dataVersionLength = readInt(inflaterInputStream);
        byte[] dataVersionBytes = readBytes(inflaterInputStream, dataVersionLength);
        DataVersion dataVersion = DataVersion.decode(dataVersionBytes, DataVersion.class);

        RegisterBrokerBody registerBrokerBody = new RegisterBrokerBody();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.statictopic.TopicQueueMappingInfo'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
                int mappingJsonLen = readInt(inflaterInputStream);
                byte[] buffer = readBytes(inflaterInputStream, mappingJsonLen);
                TopicQueueMappingInfo info = TopicQueueMappingInfo.decode(buffer, TopicQueueMappingInfo.class);
                topicQueueMappingInfoMap.put(info.getTopic(), info);
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ResetOffsetBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java
        Map<MessageQueue, Long> offsetTable = new HashMap<>();
        if (request.getBody() != null) {
            ResetOffsetBody body = ResetOffsetBody.decode(request.getBody(), ResetOffsetBody.class);
            offsetTable = body.getOffsetTable();
        }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicConfigSerializeWrapper'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return TopicConfigSerializeWrapper.decode(response.getBody(), TopicConfigSerializeWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(response.getBody(), TopicList.class);
                    if (!containRetry) {
                        Iterator<String> it = topicList.getTopicList().iterator();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ResetOffsetBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ResponseCode.SUCCESS: {
                if (null != response.getBody()) {
                    return ResetOffsetBody.decode(response.getBody(), ResetOffsetBody.class).getOffsetTable();
                }
                break;
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.GroupList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                QueryConsumeTimeSpanBody consumeTimeSpanBody = GroupList.decode(response.getBody(), QueryConsumeTimeSpanBody.class);
                return consumeTimeSpanBody.getConsumeTimeSpanSet();
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.admin.TopicStatsTable'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                TopicStatsTable topicStatsTable = TopicStatsTable.decode(response.getBody(), TopicStatsTable.class);
                return topicStatsTable;
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ConsumeMessageDirectlyResult'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    ConsumeMessageDirectlyResult info = ConsumeMessageDirectlyResult.decode(body, ConsumeMessageDirectlyResult.class);
                    return info;
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ClusterInfo'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return ClusterInfo.decode(response.getBody(), ClusterInfo.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ProducerTableInfo'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return ProducerTableInfo.decode(response.getBody(), ProducerTableInfo.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ResetOffsetBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ResponseCode.SUCCESS: {
                if (response.getBody() != null) {
                    ResetOffsetBody body = ResetOffsetBody.decode(response.getBody(), ResetOffsetBody.class);
                    return body.getOffsetTable();
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(response.getBody(), TopicList.class);
                    if (topicList.getTopicList() != null && !topicList.getTopicList().isEmpty()
                        && !UtilAll.isBlank(topicList.getBrokerAddr())) {
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(response.getBody(), TopicList.class);
                    if (!containRetry) {
                        Iterator<String> it = topicList.getTopicList().iterator();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                TopicList topicList = TopicList.decode(response.getBody(), TopicList.class);
                return topicList;
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.GroupList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                GroupList groupList = GroupList.decode(response.getBody(), GroupList.class);
                return groupList;
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ConsumerRunningInfo'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    ConsumerRunningInfo info = ConsumerRunningInfo.decode(body, ConsumerRunningInfo.class);
                    return info;
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(response.getBody(), TopicList.class);
                    if (!containRetry) {
                        Iterator<String> it = topicList.getTopicList().iterator();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(body, TopicList.class);
                    return topicList;
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ProducerConnection'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return ProducerConnection.decode(response.getBody(), ProducerConnection.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.QueryAssignmentResponseBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                QueryAssignmentResponseBody queryAssignmentResponseBody = QueryAssignmentResponseBody.decode(response.getBody(), QueryAssignmentResponseBody.class);
                return queryAssignmentResponseBody.getMessageQueueAssignments();
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.SubscriptionGroupWrapper'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return SubscriptionGroupWrapper.decode(response.getBody(), SubscriptionGroupWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.QueryCorrectionOffsetBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ResponseCode.SUCCESS: {
                if (response.getBody() != null) {
                    QueryCorrectionOffsetBody body = QueryCorrectionOffsetBody.decode(response.getBody(), QueryCorrectionOffsetBody.class);
                    return body.getCorrectionOffsets();
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.KVTable'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return KVTable.decode(response.getBody(), KVTable.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ConsumeStatsList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    return ConsumeStatsList.decode(body, ConsumeStatsList.class);
                }
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.GetConsumerStatusBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ResponseCode.SUCCESS: {
                if (response.getBody() != null) {
                    GetConsumerStatusBody body = GetConsumerStatusBody.decode(response.getBody(), GetConsumerStatusBody.class);
                    return body.getConsumerTable();
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.HARuntimeInfo'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return HARuntimeInfo.decode(response.getBody(), HARuntimeInfo.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    return TopicList.decode(body, TopicList.class);
                }
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.admin.ConsumeStats'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                ConsumeStats consumeStats = ConsumeStats.decode(response.getBody(), ConsumeStats.class);
                return consumeStats;
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicList'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicList topicList = TopicList.decode(body, TopicList.class);
                    return topicList;
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.header.GetBrokerClusterAclConfigResponseBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                if (response.getBody() != null) {
                    GetBrokerClusterAclConfigResponseBody body =
                        GetBrokerClusterAclConfigResponseBody.decode(response.getBody(), GetBrokerClusterAclConfigResponseBody.class);
                    AclConfig aclConfig = new AclConfig();
                    aclConfig.setGlobalWhiteAddrs(body.getGlobalWhiteAddrs());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ConsumerConnection'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return ConsumerConnection.decode(response.getBody(), ConsumerConnection.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.QueryConsumeQueueResponseBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java

        if (ResponseCode.SUCCESS == response.getCode()) {
            return QueryConsumeQueueResponseBody.decode(response.getBody(), QueryConsumeQueueResponseBody.class);
        }

```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.route.TopicRouteData'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    return TopicRouteData.decode(body, TopicRouteData.class);
                }
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.header.GetConsumerListByGroupResponseBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                if (response.getBody() != null) {
                    GetConsumerListByGroupResponseBody body =
                        GetConsumerListByGroupResponseBody.decode(response.getBody(), GetConsumerListByGroupResponseBody.class);
                    return body.getConsumerIdList();
                }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.QuerySubscriptionResponseBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
            case ResponseCode.SUCCESS: {
                QuerySubscriptionResponseBody subscriptionResponseBody =
                    QuerySubscriptionResponseBody.decode(response.getBody(), QuerySubscriptionResponseBody.class);
                return subscriptionResponseBody.getSubscriptionData();
            }
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.DataVersion'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                clusterAclVersionInfo.setBrokerName(responseHeader.getBrokerName());
                clusterAclVersionInfo.setBrokerAddr(responseHeader.getBrokerAddr());
                clusterAclVersionInfo.setAclConfigDataVersion(DataVersion.fromJson(responseHeader.getVersion(), DataVersion.class));
                HashMap<String, Object> dataVersionMap = JSON.parseObject(responseHeader.getAllAclFileVersion(), HashMap.class);
                Map<String, DataVersion> allAclConfigDataVersion = new HashMap<>(dataVersionMap.size(), 1);
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.DataVersion'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                Map<String, DataVersion> allAclConfigDataVersion = new HashMap<>(dataVersionMap.size(), 1);
                for (Map.Entry<String, Object> entry : dataVersionMap.entrySet()) {
                    allAclConfigDataVersion.put(entry.getKey(), DataVersion.fromJson(JSON.toJSONString(entry.getValue()), DataVersion.class));
                }
                clusterAclVersionInfo.setAllAclConfigDataVersion(allAclConfigDataVersion);
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.KVTable'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return KVTable.decode(response.getBody(), KVTable.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.LockBatchResponseBody'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                LockBatchResponseBody responseBody = LockBatchResponseBody.decode(response.getBody(), LockBatchResponseBody.class);
                Set<MessageQueue> messageQueues = responseBody.getLockOKMQSet();
                return messageQueues;
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.BrokerStatsData'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    return BrokerStatsData.decode(body, BrokerStatsData.class);
                }
            }
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.client.consumer.store.OffsetSerializeWrapper'
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
            try {
                offsetSerializeWrapper =
                    OffsetSerializeWrapper.fromJson(content, OffsetSerializeWrapper.class);
            } catch (Exception e) {
                log.warn("readLocalOffset Exception", e);
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.client.consumer.store.OffsetSerializeWrapper'
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
            try {
                offsetSerializeWrapper =
                    OffsetSerializeWrapper.fromJson(content, OffsetSerializeWrapper.class);
            } catch (Exception e) {
                log.warn("readLocalOffset Exception, and try to correct", e);
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.broker.schedule.DelayOffsetSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerPreOnlineService.java`
#### Snippet
```java
            String delayOffset = this.brokerController.getBrokerOuterAPI().getAllDelayOffset(brokerAddr);
            DelayOffsetSerializeWrapper delayOffsetSerializeWrapper =
                DelayOffsetSerializeWrapper.fromJson(delayOffset, DelayOffsetSerializeWrapper.class);

            ConsumerOffsetSerializeWrapper consumerOffsetSerializeWrapper = this.brokerController.getBrokerOuterAPI().getAllConsumerOffset(brokerAddr);
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicQueueMappingSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
    public void decode(String jsonString) {
        if (jsonString != null) {
            TopicQueueMappingSerializeWrapper wrapper = TopicQueueMappingSerializeWrapper.fromJson(jsonString, TopicQueueMappingSerializeWrapper.class);
            if (wrapper != null) {
                this.topicQueueMappingTable.putAll(wrapper.getTopicQueueMappingInfoMap());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.GetConsumerStatusBody'
in `broker/src/main/java/org/apache/rocketmq/broker/client/net/Broker2Client.java`
#### Snippet
```java
                            if (response.getBody() != null) {
                                GetConsumerStatusBody body =
                                    GetConsumerStatusBody.decode(response.getBody(),
                                        GetConsumerStatusBody.class);

```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicConfigSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicConfigManager.java`
#### Snippet
```java
        if (jsonString != null) {
            TopicConfigSerializeWrapper topicConfigSerializeWrapper =
                TopicConfigSerializeWrapper.fromJson(jsonString, TopicConfigSerializeWrapper.class);
            if (topicConfigSerializeWrapper != null) {
                this.topicConfigTable.putAll(topicConfigSerializeWrapper.getTopicConfigTable());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.DataVersion'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                                    byte[] body = response.getBody();
                                    if (body != null) {
                                        nameServerDataVersion = DataVersion.decode(body, DataVersion.class);
                                        if (!topicConfigWrapper.getDataVersion().equals(nameServerDataVersion)) {
                                            changed = true;
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.GetBrokerMemberGroupResponseBody'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                if (body != null) {
                    GetBrokerMemberGroupResponseBody brokerMemberGroupResponseBody =
                            GetBrokerMemberGroupResponseBody.decode(body, GetBrokerMemberGroupResponseBody.class);

                    return brokerMemberGroupResponseBody.getBrokerMemberGroup();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ConsumerOffsetSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return ConsumerOffsetSerializeWrapper.decode(response.getBody(), ConsumerOffsetSerializeWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.route.TopicRouteData'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    TopicRouteData topicRouteData = TopicRouteData.decode(body, TopicRouteData.class);
                    for (BrokerData brokerData : topicRouteData.getBrokerDatas()) {
                        if (brokerData != null
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.store.timer.TimerMetrics.TimerMetricsSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return TimerMetrics.TimerMetricsSerializeWrapper.decode(response.getBody(), TimerMetrics.TimerMetricsSerializeWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.route.TopicRouteData'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                byte[] body = response.getBody();
                if (body != null) {
                    return TopicRouteData.decode(body, TopicRouteData.class);
                }
            }
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.MessageRequestModeSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return MessageRequestModeSerializeWrapper.decode(response.getBody(), MessageRequestModeSerializeWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.ClusterInfo'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return ClusterInfo.decode(response.getBody(), ClusterInfo.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.LockBatchResponseBody'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                if (response != null) {
                    if (response.getCode() == ResponseCode.SUCCESS) {
                        LockBatchResponseBody responseBody = LockBatchResponseBody.decode(response.getBody(),
                                LockBatchResponseBody.class);
                        Set<MessageQueue> messageQueues = responseBody.getLockOKMQSet();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.TopicConfigSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return TopicConfigSerializeWrapper.decode(response.getBody(), TopicConfigAndMappingSerializeWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.KVTable'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                result.setHaServerAddr(responseHeader.getHaServerAddr());
                if (response.getBody() != null) {
                    result.setKvTable(KVTable.decode(response.getBody(), KVTable.class));
                }
                return result;
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.SubscriptionGroupWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        switch (response.getCode()) {
            case ResponseCode.SUCCESS: {
                return SubscriptionGroupWrapper.decode(response.getBody(), SubscriptionGroupWrapper.class);
            }
            default:
```

### StaticCallOnSubclass
Static method `fromJson()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.broker.schedule.DelayOffsetSerializeWrapper'
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
        if (jsonString != null) {
            DelayOffsetSerializeWrapper delayOffsetSerializeWrapper =
                DelayOffsetSerializeWrapper.fromJson(jsonString, DelayOffsetSerializeWrapper.class);
            if (delayOffsetSerializeWrapper != null) {
                this.offsetTable.putAll(delayOffsetSerializeWrapper.getOffsetTable());
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.heartbeat.HeartbeatData'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ClientManageProcessor.java`
#### Snippet
```java
    public RemotingCommand heartBeat(ChannelHandlerContext ctx, RemotingCommand request) {
        RemotingCommand response = RemotingCommand.createResponseCommand(null);
        HeartbeatData heartbeatData = HeartbeatData.decode(request.getBody(), HeartbeatData.class);
        ClientChannelInfo clientChannelInfo = new ClientChannelInfo(
            ctx.channel(),
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.CheckClientRequestBody'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ClientManageProcessor.java`
#### Snippet
```java
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);

        CheckClientRequestBody requestBody = CheckClientRequestBody.decode(request.getBody(),
            CheckClientRequestBody.class);

```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.QueryAssignmentRequestBody'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
    private RemotingCommand queryAssignment(ChannelHandlerContext ctx, RemotingCommand request)
        throws RemotingCommandException {
        final QueryAssignmentRequestBody requestBody = QueryAssignmentRequestBody.decode(request.getBody(), QueryAssignmentRequestBody.class);
        final String topic = requestBody.getTopic();
        final String consumerGroup = requestBody.getConsumerGroup();
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.SetMessageRequestModeRequestBody'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
        RemotingCommand request) throws RemotingCommandException {
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);
        final SetMessageRequestModeRequestBody requestBody = SetMessageRequestModeRequestBody.decode(request.getBody(), SetMessageRequestModeRequestBody.class);

        final String topic = requestBody.getTopic();
```

### StaticCallOnSubclass
Static method `toJSONString()` declared in class 'com.alibaba.fastjson.JSON' but referenced via subclass 'com.alibaba.fastjson.JSONObject'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
            topicQueueMappingDetail = this.brokerController.getTopicQueueMappingManager().getTopicQueueMapping(requestHeader.getTopic());
        }
        String content = JSONObject.toJSONString(new TopicConfigAndQueueMapping(topicConfig, topicQueueMappingDetail));
        try {
            response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### StaticCallOnSubclass
Static method `toJSONString()` declared in class 'com.alibaba.fastjson.JSON' but referenced via subclass 'com.alibaba.fastjson.JSONObject'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
            return response;
        }
        String content = JSONObject.toJSONString(groupConfig);
        try {
            response.setBody(content.getBytes(MixAll.DEFAULT_CHARSET));
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.UnlockBatchRequestBody'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        RemotingCommand request) throws RemotingCommandException {
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);
        UnlockBatchRequestBody requestBody = UnlockBatchRequestBody.decode(request.getBody(), UnlockBatchRequestBody.class);

        if (requestBody.isOnlyThisBroker() || !this.brokerController.getBrokerConfig().isLockInStrictMode()) {
```

### StaticCallOnSubclass
Static method `decode()` declared in class 'org.apache.rocketmq.remoting.protocol.RemotingSerializable' but referenced via subclass 'org.apache.rocketmq.remoting.protocol.body.LockBatchRequestBody'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        RemotingCommand request) throws RemotingCommandException {
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);
        LockBatchRequestBody requestBody = LockBatchRequestBody.decode(request.getBody(), LockBatchRequestBody.class);

        Set<MessageQueue> lockOKMQSet = new HashSet<>();
```

## RuleId[ruleID=UnnecessaryStringEscape]
### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
                    continue;
                case '\'':
                    retval.append("\\\'");
                    continue;
                case '\\':
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
                    continue;
                case '\'':
                    retval.append("\\\'");
                    continue;
                case '\\':
```

## RuleId[ruleID=ManualArrayCopy]
### ManualArrayCopy
Manual array copy
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        } else if (jjEndpos != 0) {
            jjExpentry = new int[jjEndpos];
            for (int i = 0; i < jjEndpos; i++) {
                jjExpentry[i] = jjLasttokens[i];
            }
```

## RuleId[ruleID=ObsoleteCollection]
### ObsoleteCollection
Obsolete collection type `Stack` used
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java
    public static List<Op> reversePolish(List<Op> tokens) {
        List<Op> segments = new ArrayList<>();
        Stack<Operator> operatorStack = new Stack<>();

        for (int i = 0; i < tokens.size(); i++) {
```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java
    public static List<Op> reversePolish(List<Op> tokens) {
        List<Op> segments = new ArrayList<>();
        Stack<Operator> operatorStack = new Stack<>();

        for (int i = 0; i < tokens.size(); i++) {
```

## RuleId[ruleID=RefusedBequest]
### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `filter/src/main/java/org/apache/rocketmq/filter/util/BitsArray.java`
#### Snippet
```java
    }

    public BitsArray clone() {
        byte[] clone = new byte[this.byteLength()];

```

## RuleId[ruleID=DuplicateBranchesInSwitch]
### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                break;
            case 110:
                if ((active0 & 0x800L) != 0L) {
                    jjmatchedKind = 11;
                    jjmatchedPos = 6;
                }
                break;
            default:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x2000L);
            case 97:
                return jjMoveStringLiteralDfa1_0(0x200L);
            case 98:
                return jjMoveStringLiteralDfa1_0(0x800L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x200L);
            case 98:
                return jjMoveStringLiteralDfa1_0(0x800L);
            case 102:
                return jjMoveStringLiteralDfa1_0(0x4000L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x800L);
            case 102:
                return jjMoveStringLiteralDfa1_0(0x4000L);
            case 105:
                return jjMoveStringLiteralDfa1_0(0x11000L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x4000L);
            case 105:
                return jjMoveStringLiteralDfa1_0(0x11000L);
            case 110:
                return jjMoveStringLiteralDfa1_0(0x8100L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x11000L);
            case 110:
                return jjMoveStringLiteralDfa1_0(0x8100L);
            case 111:
                return jjMoveStringLiteralDfa1_0(0x400L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x8100L);
            case 111:
                return jjMoveStringLiteralDfa1_0(0x400L);
            case 116:
                return jjMoveStringLiteralDfa1_0(0x2000L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa1_0(0x400L);
            case 116:
                return jjMoveStringLiteralDfa1_0(0x2000L);
            default:
                return jjMoveNfa_0(5, 0);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa4_0(active0, 0x800L);
            case 101:
                if ((active0 & 0x2000L) != 0L) {
                    jjmatchedKind = 13;
                    jjmatchedPos = 3;
                }
                break;
            case 108:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                break;
            case 108:
                if ((active0 & 0x8000L) != 0L) {
                    jjmatchedKind = 15;
                    jjmatchedPos = 3;
                }
                break;
            case 115:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                break;
            case 115:
                return jjMoveStringLiteralDfa4_0(active0, 0x4000L);
            case 119:
                return jjMoveStringLiteralDfa4_0(active0, 0x800L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa4_0(active0, 0x4000L);
            case 119:
                return jjMoveStringLiteralDfa4_0(active0, 0x800L);
            default:
                break;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa6_0(active0, 0x800L);
            case 101:
                return jjMoveStringLiteralDfa6_0(active0, 0x800L);
            default:
                break;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa3_0(active0, 0x2000L);
            case 100:
                if ((active0 & 0x200L) != 0L) {
                    jjmatchedKind = 9;
                    jjmatchedPos = 2;
                }
                break;
            case 108:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                break;
            case 108:
                return jjMoveStringLiteralDfa3_0(active0, 0xc000L);
            case 116:
                if ((active0 & 0x100L) != 0L) {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa3_0(active0, 0xc000L);
            case 116:
                if ((active0 & 0x100L) != 0L) {
                    jjmatchedKind = 8;
                    jjmatchedPos = 2;
                }
                return jjMoveStringLiteralDfa3_0(active0, 0x800L);
            case 117:
                return jjMoveStringLiteralDfa3_0(active0, 0x2000L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa3_0(active0, 0x800L);
            case 117:
                return jjMoveStringLiteralDfa3_0(active0, 0x2000L);
            default:
                break;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa5_0(active0, 0x800L);
            case 101:
                if ((active0 & 0x4000L) != 0L) {
                    jjmatchedKind = 14;
                    jjmatchedPos = 4;
                }
                return jjMoveStringLiteralDfa5_0(active0, 0x800L);
            default:
                break;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa2_0(active0, 0x8000L);
            case 97:
                return jjMoveStringLiteralDfa2_0(active0, 0x4000L);
            case 101:
                return jjMoveStringLiteralDfa2_0(active0, 0x800L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa2_0(active0, 0x4000L);
            case 101:
                return jjMoveStringLiteralDfa2_0(active0, 0x800L);
            case 110:
                if ((active0 & 0x1000L) != 0L) {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa2_0(active0, 0x800L);
            case 110:
                if ((active0 & 0x1000L) != 0L) {
                    jjmatchedKind = 12;
                    jjmatchedPos = 1;
                }
                return jjMoveStringLiteralDfa2_0(active0, 0x200L);
            case 111:
                return jjMoveStringLiteralDfa2_0(active0, 0x100L);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa2_0(active0, 0x200L);
            case 111:
                return jjMoveStringLiteralDfa2_0(active0, 0x100L);
            case 114:
                if ((active0 & 0x400L) != 0L) {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa2_0(active0, 0x100L);
            case 114:
                if ((active0 & 0x400L) != 0L) {
                    jjmatchedKind = 10;
                    jjmatchedPos = 1;
                }
                return jjMoveStringLiteralDfa2_0(active0, 0x2000L);
            case 115:
                if ((active0 & 0x10000L) != 0L) {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                return jjMoveStringLiteralDfa2_0(active0, 0x2000L);
            case 115:
                if ((active0 & 0x10000L) != 0L) {
                    jjmatchedKind = 16;
                    jjmatchedPos = 1;
                }
                break;
            case 117:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                break;
            case 117:
                return jjMoveStringLiteralDfa2_0(active0, 0x8000L);
            default:
                break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
                        return CompletableFuture.completedFuture(new PutMessageResult(PutMessageStatus.MESSAGE_ILLEGAL, result));
                    case UNKNOWN_ERROR:
                        beginTimeInLock = 0;
                        return CompletableFuture.completedFuture(new PutMessageResult(PutMessageStatus.UNKNOWN_ERROR, result));
                    default:
                        beginTimeInLock = 0;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `acl/src/main/java/org/apache/rocketmq/acl/common/Permission.java`
#### Snippet
```java
                return Permission.PUB | Permission.SUB;
            case AclConstants.DENY:
                return Permission.DENY;
            default:
                return Permission.DENY;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                break;
            case ResponseCode.PULL_NOT_FOUND:
                popStatus = PopStatus.POLLING_NOT_FOUND;
                break;
            default:
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
        switch (this.serviceState) {
            case CREATE_JUST:
                break;
            case RUNNING:
                this.persistConsumerOffset();
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
                break;
            case SHUTDOWN_ALREADY:
                break;
            default:
                break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
            switch (this.defaultMQPushConsumer.getMessageModel()) {
                case BROADCASTING:
                    break;
                case CLUSTERING:
                    final String retryTopic = MixAll.getRetryTopic(this.defaultMQPushConsumer.getConsumerGroup());
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
        switch (this.serviceState) {
            case CREATE_JUST:
                break;
            case RUNNING:
                this.consumeMessageService.shutdown(awaitTerminateMillis);
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
                break;
            case SHUTDOWN_ALREADY:
                break;
            default:
                break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
                        break;
                    case POLLING_FULL:
                        DefaultMQPushConsumerImpl.this.executePopPullRequestLater(popRequest, pullTimeDelayMillsWhenException);
                        break;
                    default:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                                return null;
                            case ONEWAY:
                                return null;
                            case SYNC:
                                if (sendResult.getSendStatus() != SendStatus.SEND_OK) {
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        switch (this.serviceState) {
            case CREATE_JUST:
                break;
            case RUNNING:
                this.mQClientFactory.unregisterProducer(this.defaultMQProducer.getProducerGroup());
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                break;
            case SHUTDOWN_ALREADY:
                break;
            default:
                break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
        switch (this.serviceState) {
            case CREATE_JUST:
                break;
            case RUNNING:
                persistConsumerOffset();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                    break;
                case NO_MATCHED_MESSAGE:
                    response.setCode(ResponseCode.PULL_RETRY_IMMEDIATELY);
                    break;
                case OFFSET_FOUND_NULL:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                    break;
                case OFFSET_OVERFLOW_ONE:
                    response.setCode(ResponseCode.PULL_NOT_FOUND);
                    break;
                case OFFSET_RESET:
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/simple/PullScheduleService.java`
#### Snippet
```java
                    switch (pullResult.getPullStatus()) {
                        case FOUND:
                            break;
                        case NO_MATCHED_MSG:
                            break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/simple/PullScheduleService.java`
#### Snippet
```java
                            break;
                        case NO_MATCHED_MSG:
                            break;
                        case NO_NEW_MSG:
                        case OFFSET_ILLEGAL:
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/simple/PullScheduleService.java`
#### Snippet
```java
                        case NO_NEW_MSG:
                        case OFFSET_ILLEGAL:
                            break;
                        default:
                            break;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                                            break;
                                        case NO_MATCHED_MSG:
                                            consumer.updateConsumeOffset(messageQueue, pullResult.getNextBeginOffset());
                                            break;
                                        default:
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
                    switch (pullResult.getPullStatus()) {
                        case FOUND:
                            break;
                        case NO_MATCHED_MSG:
                            break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
                            break;
                        case NO_MATCHED_MSG:
                            break;
                        case NO_NEW_MSG:
                            break SINGLE_MQ;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
                            break SINGLE_MQ;
                        case OFFSET_ILLEGAL:
                            break;
                        default:
                            break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
                            break;
                        case NO_MATCHED_MSG:
                            break;
                        case NO_NEW_MSG:
                            break SINGLE_MQ;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
                            break SINGLE_MQ;
                        case OFFSET_ILLEGAL:
                            break;
                        default:
                            break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `example/src/main/java/org/apache/rocketmq/example/transaction/TransactionListenerImpl.java`
#### Snippet
```java
                    return LocalTransactionState.UNKNOW;
                case 1:
                    return LocalTransactionState.COMMIT_MESSAGE;
                case 2:
                    return LocalTransactionState.ROLLBACK_MESSAGE;
```

## RuleId[ruleID=OctalLiteral]
### OctalLiteral
Octal integer `077`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                if (jjmatchedPos + 1 < curPos)
                    inputStream.backup(curPos - jjmatchedPos - 1);
                if ((JJ_TO_TOKEN[jjmatchedKind >> 6] & (1L << (jjmatchedKind & 077))) != 0L) {
                    matchedToken = jjFillToken();
                    matchedToken.specialToken = specialToken;
```

### OctalLiteral
Octal integer `077`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                    return matchedToken;
                } else {
                    if ((JJ_TO_SPECIAL[jjmatchedKind >> 6] & (1L << (jjmatchedKind & 077))) != 0L) {
                        matchedToken = jjFillToken();
                        if (specialToken == null)
```

### OctalLiteral
Octal integer `077`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                while (i != startsAt);
            } else if (curChar < 128) {
                long l = 1L << (curChar & 077);
                do {
                    switch (jjstateSet[--i]) {
```

### OctalLiteral
Octal integer `077`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                int hiByte = (int) (curChar >> 8);
                int i1 = hiByte >> 6;
                long l1 = 1L << (hiByte & 077);
                int i2 = (curChar & 0xff) >> 6;
                long l2 = 1L << (curChar & 077);
```

### OctalLiteral
Octal integer `077`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                long l1 = 1L << (hiByte & 077);
                int i2 = (curChar & 0xff) >> 6;
                long l2 = 1L << (curChar & 077);
                do {
                    switch (jjstateSet[--i]) {
```

## RuleId[ruleID=StringBufferReplaceableByString]
### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    private String getGetTotalTps() {
        StringBuilder sb = new StringBuilder();

        sb.append(this.getGetTotalTps(10));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    private String getGetFoundTps() {
        StringBuilder sb = new StringBuilder();

        sb.append(this.getGetFoundTps(10));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    private String getPutTps() {
        StringBuilder sb = new StringBuilder();

        sb.append(this.getPutTps(10));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    private String getGetTransferredTps() {
        StringBuilder sb = new StringBuilder();

        sb.append(this.getGetTransferredTps(10));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    private String getGetMissTps() {
        StringBuilder sb = new StringBuilder();

        sb.append(this.getGetMissTps(10));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/pop/AckMsg.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("AckMsg{");
        sb.append("ackOffset=").append(ackOffset);
        sb.append(", startOffset=").append(startOffset);
```

### StringBufferReplaceableByString
`StringBuffer strBuilder` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
        final String msgType, String flowlimitThreshold) {
        final String sep = "|";
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(owner).append(sep);
        strBuilder.append(instanceId).append(sep);
```

### StringBufferReplaceableByString
`StringBuilder strBuilder` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java

    public String buildCommercialStatsKey(String owner, String topic, String group, String type) {
        StringBuilder strBuilder = new StringBuilder();
        strBuilder.append(owner);
        strBuilder.append("@");
```

### StringBufferReplaceableByString
`StringBuffer strBuilder` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
    public String buildAccountStatsKey(String accountOwnerParent, String accountOwnerSelf, String instanceId,
        String topic, String group, String msgType, String flowlimitThreshold) {
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(accountOwnerParent);
        strBuilder.append("@");
```

### StringBufferReplaceableByString
`StringBuffer strBuilder` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
        final String msgType) {
        final String sep = "|";
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(owner).append(sep);
        strBuilder.append(instanceId).append(sep);
```

### StringBufferReplaceableByString
`StringBuffer strBuilder` can be replaced with 'String'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
    public String buildAccountStatsKey(String accountOwnerParent, String accountOwnerSelf, String instanceId,
        String topic, String group, String msgType) {
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(accountOwnerParent);
        strBuilder.append("@");
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/DataVersion.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("DataVersion[");
        sb.append("timestamp=").append(timestamp);
        sb.append(", counter=").append(counter);
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/NamespaceUtil.java`
#### Snippet
```java
        }

        return new StringBuilder()
            .append(MixAll.RETRY_GROUP_TOPIC_PREFIX)
            .append(wrapNamespace(namespace, consumerGroup))
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/namesrv/QueryDataVersionResponseHeader.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("QueryDataVersionResponseHeader{");
        sb.append("changed=").append(changed);
        sb.append('}');
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `common/src/main/java/org/apache/rocketmq/common/TopicQueueId.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("MessageQueueInBroker{");
        sb.append("topic='").append(topic).append('\'');
        sb.append(", queueId=").append(queueId);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `common/src/main/java/org/apache/rocketmq/common/help/FAQUrl.java`
#### Snippet
```java

    public static String suggestTodo(final String url) {
        StringBuilder sb = new StringBuilder();
        sb.append(TIP_STRING_BEGIN);
        sb.append(url);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `common/src/main/java/org/apache/rocketmq/common/help/FAQUrl.java`
#### Snippet
```java
            int index = errorMessage.indexOf(TIP_STRING_BEGIN);
            if (-1 == index) {
                StringBuilder sb = new StringBuilder();
                sb.append(errorMessage);
                sb.append("\n");
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java

    public static String socketAddress2String(final SocketAddress addr) {
        StringBuilder sb = new StringBuilder();
        InetSocketAddress inetSocketAddress = (InetSocketAddress) addr;
        sb.append(inetSocketAddress.getAddress().getHostAddress());
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
            return null;
        }
        return new StringBuilder().append(ip[0] & 0xFF).append(".").append(
                ip[1] & 0xFF).append(".").append(ip[2] & 0xFF)
            .append(".").append(ip[3] & 0xFF).toString();
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
        String consumeThreadPrefix = null;
        if (consumerGroup.length() > 100) {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup.substring(0, 100)).append("_").toString();
        } else {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup).append("_").toString();
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup.substring(0, 100)).append("_").toString();
        } else {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup).append("_").toString();
        }
        this.consumeExecutor = new ThreadPoolExecutor(
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
        String consumeThreadPrefix = null;
        if (consumerGroup.length() > 100) {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup, 0, 100).append("_").toString();
        } else {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup).append("_").toString();
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup, 0, 100).append("_").toString();
        } else {
            consumeThreadPrefix = new StringBuilder("ConsumeMessageThread_").append(consumerGroup).append("_").toString();
        }
        this.consumeExecutor = new ThreadPoolExecutor(
```

### StringBufferReplaceableByString
`StringBuilder res` can be replaced with 'String'
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
        else {
            len = n - len;
            StringBuilder res = new StringBuilder(prefix);
            res.append(getCheseWord(len));
            return res.toString();
```

### StringBufferReplaceableByString
`StringBuilder res` can be replaced with 'String'
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
        else {
            len = n - len;
            StringBuilder res = new StringBuilder();
            res.append(getCheseWord(len));
            res.append(suffix);
```

### StringBufferReplaceableByString
`StringBuilder res` can be replaced with 'String'
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
        else {
            len = n - len;
            StringBuilder res = new StringBuilder();
            res.append(getStringWithCharacter(len));
            res.append(suffix);
```

### StringBufferReplaceableByString
`StringBuilder res` can be replaced with 'String'
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
        else {
            len = n - len;
            StringBuilder res = new StringBuilder(prefix);
            res.append(getStringWithCharacter(len));
            return res.toString();
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java

    public static String addQuoteToParamater(String param) {
        StringBuilder sb = new StringBuilder("'");
        sb.append(param).append("'");
        return sb.toString();
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/PopRequest.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("PopRequest{");
        sb.append("cmd=").append(remotingCommand);
        sb.append(", channel=").append(channel);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
        @Override
        public String toString() {
            final StringBuilder sb = new StringBuilder("CkWrap{");
            sb.append("rq=").append(reviveQueueId);
            sb.append(", rqo=").append(reviveQueueOffset);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/PullRequestHoldService.java`
#### Snippet
```java

    private String buildKey(final String topic, final int queueId) {
        StringBuilder sb = new StringBuilder(topic.length() + 5);
        sb.append(topic);
        sb.append(TOPIC_QUEUEID_SEPARATOR);
```

## RuleId[ruleID=UnnecessaryReturn]
### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
            } else
                maxNextCharInd += i;
            return;
        } catch (java.io.IOException e) {
            --bufpos;
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java

        }
        return;
    }

```

## RuleId[ruleID=NonShortCircuitBoolean]
### NonShortCircuitBoolean
Non-short-circuit boolean expression `ret &= bits.getBit(bitPositions[i])`
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
        boolean ret = bits.getBit(bitPositions[0]);
        for (int i = 1; i < bitPositions.length; i++) {
            ret &= bits.getBit(bitPositions[i]);
        }
        return ret;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `result &= this.consumeQueueExt.load()`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        log.info("load consume queue " + this.topic + "-" + this.queueId + " " + (result ? "OK" : "Failed"));
        if (isExtReadEnable()) {
            result &= this.consumeQueueExt.load();
        }
        return result;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `result & this.consumeQueueExt.flush(flushLeastPages)`
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
        boolean result = this.mappedFileQueue.flush(flushLeastPages);
        if (isExtReadEnable()) {
            result = result & this.consumeQueueExt.flush(flushLeastPages);
        }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `removed &= brokerController.getConsumerManager().doChannelCloseEvent(remoteAddr, channel)`
in `container/src/main/java/org/apache/rocketmq/container/ContainerClientHouseKeepingService.java`
#### Snippet
```java
        }
        boolean removed = brokerController.getProducerManager().doChannelCloseEvent(remoteAddr, channel);
        removed &= brokerController.getConsumerManager().doChannelCloseEvent(remoteAddr, channel);
        if (removed) {
            switch (callbackCode) {
```

## RuleId[ruleID=ManualMinMaxCalculation]
### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

    public void setDispatchMaxBuffer(long value) {
        this.dispatchMaxBuffer = value > this.dispatchMaxBuffer ? value : this.dispatchMaxBuffer;
    }

```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
            this.getLock.lock();
            this.getMessageEntireTimeMax =
                value > this.getMessageEntireTimeMax ? value : this.getMessageEntireTimeMax;
            this.getLock.unlock();
        }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
            this.putLock.lock();
            this.putMessageEntireTimeMax =
                value > this.putMessageEntireTimeMax ? value : this.putMessageEntireTimeMax;
            this.putLock.unlock();
        }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
            return 10;

        if (this.diskMaxUsedSpaceRatio > 95)
            return 95;

```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
        }

        int loop = msgTreeMap.size() < 16 ? msgTreeMap.size() : 16;
        for (int i = 0; i < loop; i++) {
            MessageExt msg = null;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
                        long deadTime = System.currentTimeMillis() - 30 * 1000;
                        filterData.setDeadTime(
                                deadTime <= filterData.getBornTime() ? filterData.getBornTime() : deadTime
                        );
                    }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PeekMessageProcessor.java`
#### Snippet
```java
            return offset;
        } else {
            return bufferOffset > offset ? bufferOffset : offset;
        }
    }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `broker/src/main/java/org/apache/rocketmq/broker/processor/NotificationProcessor.java`
#### Snippet
```java
            return offset;
        } else {
            return bufferOffset > offset ? bufferOffset : offset;
        }
    }
```

## RuleId[ruleID=MismatchedStringBuilderQueryUpdate]
### MismatchedStringBuilderQueryUpdate
Contents of `StringBuilder orderTopicString` are updated, but never queried
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
                MQClientException exception = null;

                StringBuilder orderTopicString = new StringBuilder();

                for (BrokerData brokerData : brokerDataList) {
```

## RuleId[ruleID=AbstractClassNeverImplemented]
### AbstractClassNeverImplemented
Abstract class `AbstractPluginMessageStore` has no concrete subclass
in `store/src/main/java/org/apache/rocketmq/store/plugin/AbstractPluginMessageStore.java`
#### Snippet
```java
import org.apache.rocketmq.store.util.PerfCounter;

public abstract class AbstractPluginMessageStore implements MessageStore {
    protected MessageStore next = null;
    protected MessageStorePluginContext context;
```

### AbstractClassNeverImplemented
Abstract class `RpcClientHook` has no concrete subclass
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientHook.java`
#### Snippet
```java
package org.apache.rocketmq.remoting.rpc;

public abstract class RpcClientHook {

    //if the return is not null, return it
```

### AbstractClassNeverImplemented
Abstract class `ServiceThread` has no concrete subclass
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
 * Base class for background thread
 */
public abstract class ServiceThread implements Runnable {
    private static final Logger log = LoggerFactory.getLogger(RemotingHelper.ROCKETMQ_REMOTING);

```

### AbstractClassNeverImplemented
Abstract class `ConcurrentHashMapUtils` has no concrete subclass
in `common/src/main/java/org/apache/rocketmq/common/utils/ConcurrentHashMapUtils.java`
#### Snippet
```java
import java.util.function.Function;

public abstract class ConcurrentHashMapUtils {

    private static final boolean IS_JDK8;
```

## RuleId[ruleID=BoundedWildcard]
### BoundedWildcard
Can generalize to `? extends Set`
in `store/src/main/java/org/apache/rocketmq/store/MultiPathMappedFileQueue.java`
#### Snippet
```java
    public MultiPathMappedFileQueue(MessageStoreConfig messageStoreConfig, int mappedFileSize,
                                    AllocateMappedFileService allocateMappedFileService,
                                    Supplier<Set<String>> fullStorePathsSupplier) {
        super(messageStoreConfig.getStorePathCommitLog(), mappedFileSize, allocateMappedFileService);
        this.config = messageStoreConfig;
```

### BoundedWildcard
Can generalize to `? extends File`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
    }

    public boolean doLoad(List<File> files) {
        // ascending order
        files.sort(Comparator.comparing(File::getName));
```

### BoundedWildcard
Can generalize to `? super EpochEntry`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
    }

    private void doTruncateSuffix(Predicate<EpochEntry> predict) {
        this.writeLock.lock();
        try {
```

### BoundedWildcard
Can generalize to `? extends EpochEntry`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/EpochFileCache.java`
#### Snippet
```java
    }

    private void initEntries(final List<EpochEntry> entries) {
        this.epochMap.clear();
        EpochEntry preEntry = null;
```

### BoundedWildcard
Can generalize to `? super Long`
in `store/src/main/java/org/apache/rocketmq/store/kv/MessageFetcher.java`
#### Snippet
```java

    public void pullMessageFromMaster(String topic, int queueId, long endOffset, String masterAddr,
        BiFunction<Long, RemotingCommand, Boolean> responseHandler) throws Exception {
        long currentPullOffset = 0;

```

### BoundedWildcard
Can generalize to `? super RemotingCommand`
in `store/src/main/java/org/apache/rocketmq/store/kv/MessageFetcher.java`
#### Snippet
```java

    public void pullMessageFromMaster(String topic, int queueId, long endOffset, String masterAddr,
        BiFunction<Long, RemotingCommand, Boolean> responseHandler) throws Exception {
        long currentPullOffset = 0;

```

### BoundedWildcard
Can generalize to `? super Long`
in `store/src/main/java/org/apache/rocketmq/store/index/IndexFile.java`
#### Snippet
```java
    }

    public void selectPhyOffset(final List<Long> phyOffsets, final String key, final int maxNum,
                                final long begin, final long end) {
        if (this.mappedFile.hold()) {
```

### BoundedWildcard
Can generalize to `? extends IndexFile`
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
    }

    private void deleteExpiredFile(List<IndexFile> files) {
        if (!files.isEmpty()) {
            try {
```

### BoundedWildcard
Can generalize to `? extends MappedFile`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
    }

    protected OffsetMap getOffsetMap(List<MappedFile> mappedFileList) throws NoSuchAlgorithmException, DigestException {
        OffsetMap offsetMap = new OffsetMap(offsetMapMemorySize);

```

### BoundedWildcard
Can generalize to `? extends MappedFile`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
    }

    protected void replaceFiles(List<MappedFile> mappedFileList, TopicPartitionLog current,
        TopicPartitionLog newLog) {

```

### BoundedWildcard
Can generalize to `? extends MappedFile`
in `store/src/main/java/org/apache/rocketmq/store/kv/CompactionLog.java`
#### Snippet
```java
    }

    protected void compaction(List<MappedFile> mappedFileList, OffsetMap offsetMap) throws DigestException {
        compacting = new TopicPartitionLog(this, COMPACTING_SUB_FOLDER);

```

### BoundedWildcard
Can generalize to `? super String`
in `store/src/main/java/org/apache/rocketmq/store/queue/QueueOffsetAssigner.java`
#### Snippet
```java
    }

    public void setBatchTopicQueueTable(ConcurrentMap<String, Long> batchTopicQueueTable) {
        this.batchTopicQueueTable = batchTopicQueueTable;
    }
```

### BoundedWildcard
Can generalize to `? super ByteBuffer`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
    }

    private <T> T getMax(MappedFile mappedFile, Function<ByteBuffer, T> function) {
        if (mappedFile == null || mappedFile.getReadPosition() < CQ_STORE_UNIT_SIZE) {
            return null;
```

### BoundedWildcard
Can generalize to `? super MappedFile`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
    }

    private void cacheOffset(MappedFile file, Function<MappedFile, BatchOffsetIndex> offsetGetFunc) {
        try {
            BatchOffsetIndex offset = offsetGetFunc.apply(file);
```

### BoundedWildcard
Can generalize to `? extends BatchOffsetIndex`
in `store/src/main/java/org/apache/rocketmq/store/queue/SparseConsumeQueue.java`
#### Snippet
```java
    }

    private void cacheOffset(MappedFile file, Function<MappedFile, BatchOffsetIndex> offsetGetFunc) {
        try {
            BatchOffsetIndex offset = offsetGetFunc.apply(file);
```

### BoundedWildcard
Can generalize to `? super MappedFile`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    }

    protected void doRefreshCache(Function<MappedFile, BatchOffsetIndex> offsetFunction) {
        if (!this.messageStore.getMessageStoreConfig().isSearchBcqByCacheEnable()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends BatchOffsetIndex`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    }

    protected void doRefreshCache(Function<MappedFile, BatchOffsetIndex> offsetFunction) {
        if (!this.messageStore.getMessageStoreConfig().isSearchBcqByCacheEnable()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends TopicConfig`
in `store/src/main/java/org/apache/rocketmq/store/queue/ConsumeQueueStore.java`
#### Snippet
```java
    }

    public void setTopicConfigTable(ConcurrentMap<String, TopicConfig> topicConfigTable) {
        this.topicConfigTable = topicConfigTable;
    }
```

### BoundedWildcard
Can generalize to `? extends PutMessageResult`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    }

    private PutMessageResult waitForPutResult(CompletableFuture<PutMessageResult> putMessageResultFuture) {
        try {
            int putMessageTimeout =
```

### BoundedWildcard
Can generalize to `? extends Runnable`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvController.java`
#### Snippet
```java
    }

    private long headSlowTimeMills(BlockingQueue<Runnable> q) {
        long slowTimeMills = 0;
        final Runnable firstRunnable = q.peek();
```

### BoundedWildcard
Can generalize to `? extends ProxyTopicRouteData.ProxyBrokerData`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/route/RouteActivity.java`
#### Snippet
```java

    protected Map<String /*brokerName*/, Map<Long /*brokerID*/, Broker>> buildBrokerMap(
        List<ProxyTopicRouteData.ProxyBrokerData> brokerDataList) {
        Map<String, Map<Long, Broker>> brokerMap = new HashMap<>();
        for (ProxyTopicRouteData.ProxyBrokerData brokerData : brokerDataList) {
```

### BoundedWildcard
Can generalize to `? super MessageExtBrokerInner`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    }

    public void registerEscapeBridgeHook(Function<MessageExtBrokerInner, PutMessageResult> escapeBridgeHook) {
        this.escapeBridgeHook = escapeBridgeHook;
    }
```

### BoundedWildcard
Can generalize to `? extends PutMessageResult`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    }

    public void registerEscapeBridgeHook(Function<MessageExtBrokerInner, PutMessageResult> escapeBridgeHook) {
        this.escapeBridgeHook = escapeBridgeHook;
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java
    }

    protected <V, T> void writeResponse(ProxyContext context, V request, T response, StreamObserver<T> responseObserver,
        Throwable t, Function<Status, T> errorResponseCreator) {
        if (t != null) {
```

### BoundedWildcard
Can generalize to `? super Status`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java

    protected <V, T> void writeResponse(ProxyContext context, V request, T response, StreamObserver<T> responseObserver,
        Throwable t, Function<Status, T> errorResponseCreator) {
        if (t != null) {
            ResponseWriter.getInstance().write(
```

### BoundedWildcard
Can generalize to `? extends T`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java

    protected <V, T> void writeResponse(ProxyContext context, V request, T response, StreamObserver<T> responseObserver,
        Throwable t, Function<Status, T> errorResponseCreator) {
        if (t != null) {
            ResponseWriter.getInstance().write(
```

### BoundedWildcard
Can generalize to `? super T`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java

    protected <V, T> void addExecutor(ExecutorService executor, ProxyContext context, V request, Runnable runnable,
        StreamObserver<T> responseObserver, Function<Status, T> statusResponseCreator) {
        executor.submit(new GrpcTask<>(runnable, context, request, responseObserver, statusResponseCreator.apply(flowLimitStatus())));
    }
```

### BoundedWildcard
Can generalize to `? super Status`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java

    protected <V, T> void addExecutor(ExecutorService executor, ProxyContext context, V request, Runnable runnable,
        StreamObserver<T> responseObserver, Function<Status, T> statusResponseCreator) {
        executor.submit(new GrpcTask<>(runnable, context, request, responseObserver, statusResponseCreator.apply(flowLimitStatus())));
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java

    protected <V, T> void addExecutor(ExecutorService executor, ProxyContext context, V request, Runnable runnable,
        StreamObserver<T> responseObserver, Function<Status, T> statusResponseCreator) {
        executor.submit(new GrpcTask<>(runnable, context, request, responseObserver, statusResponseCreator.apply(flowLimitStatus())));
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/FutureUtils.java`
#### Snippet
```java
public class FutureUtils {

    public static <T> CompletableFuture<T> appendNextFuture(CompletableFuture<T> future,
        CompletableFuture<T> nextFuture, ExecutorService executor) {
        future.whenCompleteAsync((t, throwable) -> {
```

### BoundedWildcard
Can generalize to `? super MessageReceiptHandle`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java

    public void computeIfPresent(String msgID, String handle,
        Function<MessageReceiptHandle, CompletableFuture<MessageReceiptHandle>> function) {
        Map<String, HandleData> handleMap = this.receiptHandleMap.get(msgID);
        if (handleMap == null) {
```

### BoundedWildcard
Can generalize to `? extends CompletableFuture`
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java

    public void computeIfPresent(String msgID, String handle,
        Function<MessageReceiptHandle, CompletableFuture<MessageReceiptHandle>> function) {
        Map<String, HandleData> handleMap = this.receiptHandleMap.get(msgID);
        if (handleMap == null) {
```

### BoundedWildcard
Can generalize to `? extends SendResult`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java

    protected SendMessageResponse convertToSendMessageResponse(ProxyContext ctx, SendMessageRequest request,
        List<SendResult> resultList) {
        SendMessageResponse.Builder builder = SendMessageResponse.newBuilder();

```

### BoundedWildcard
Can generalize to `? extends AddressableMessageQueue`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/MessageQueueSelector.java`
#### Snippet
```java
    }

    private void buildBrokerActingQueues(String topic, List<AddressableMessageQueue> normalQueues) {
        for (AddressableMessageQueue mq : normalQueues) {
            AddressableMessageQueue brokerActingQueue = new AddressableMessageQueue(
```

### BoundedWildcard
Can generalize to `? super String`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteService.java`
#### Snippet
```java
    public abstract AddressableMessageQueue buildAddressableMessageQueue(MessageQueue messageQueue) throws Exception;

    protected static MessageQueueView getCacheMessageQueueWrapper(LoadingCache<String, MessageQueueView> topicCache,
        String key) throws Exception {
        MessageQueueView res = topicCache.get(key);
```

### BoundedWildcard
Can generalize to `? extends MessageQueueView`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteService.java`
#### Snippet
```java
    public abstract AddressableMessageQueue buildAddressableMessageQueue(MessageQueue messageQueue) throws Exception;

    protected static MessageQueueView getCacheMessageQueueWrapper(LoadingCache<String, MessageQueueView> topicCache,
        String key) throws Exception {
        MessageQueueView res = topicCache.get(key);
```

### BoundedWildcard
Can generalize to `? extends Message`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/message/ClusterMessageService.java`
#### Snippet
```java
    @Override
    public CompletableFuture<List<SendResult>> sendMessage(ProxyContext ctx, AddressableMessageQueue messageQueue,
        List<Message> msgList, SendMessageRequestHeader requestHeader, long timeoutMillis) {
        CompletableFuture<List<SendResult>> future;
        if (msgList.size() == 1) {
```

### BoundedWildcard
Can generalize to `? extends Message`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ProducerProcessor.java`
#### Snippet
```java
    }

    protected void fillTransactionData(String producerGroup, AddressableMessageQueue messageQueue, SendResult sendResult, List<Message> messageList) {
        try {
            MessageId id;
```

### BoundedWildcard
Can generalize to `? extends Message`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ProducerProcessor.java`
#### Snippet
```java
    }

    protected SendMessageRequestHeader buildSendMessageRequestHeader(List<Message> messageList,
        String producerGroup, int sysFlag, int queueId) {
        SendMessageRequestHeader requestHeader = new SendMessageRequestHeader();
```

### BoundedWildcard
Can generalize to `? extends Message`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/message/LocalMessageService.java`
#### Snippet
```java
    @Override
    public CompletableFuture<List<SendResult>> sendMessage(ProxyContext ctx, AddressableMessageQueue messageQueue,
        List<Message> msgList, SendMessageRequestHeader requestHeader, long timeoutMillis) {
        byte[] body;
        String messageId;
```

### BoundedWildcard
Can generalize to `? extends BrokerBootHook`
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerProcessor.java`
#### Snippet
```java
    }

    public void registerBrokerBootHook(List<BrokerBootHook> brokerBootHookList) {
        this.brokerBootHookList = brokerBootHookList;
    }
```

### BoundedWildcard
Can generalize to `? extends AddressableMessageQueue`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java

    protected HashMap<String, List<AddressableMessageQueue>> buildAddressableMapByBrokerName(
        final Set<AddressableMessageQueue> mqSet) {
        HashMap<String, List<AddressableMessageQueue>> result = new HashMap<>();
        for (AddressableMessageQueue mq : mqSet) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java
    }

    protected Set<AddressableMessageQueue> buildAddressableSet(Set<MessageQueue> mqSet) {
        return mqSet.stream().map(mq -> {
            try {
```

### BoundedWildcard
Can generalize to `? super String`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/ClusterTransactionService.java`
#### Snippet
```java
    }

    protected void sendHeartBeatToCluster(String clusterName, HeartbeatData heartbeatData, Map<String, String> brokerAddrNameMap) {
        try {
            MessageQueueView messageQueue = this.topicRouteService.getAllMessageQueueView(clusterName);
```

### BoundedWildcard
Can generalize to `? super String`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/ClusterTransactionService.java`
#### Snippet
```java
    }

    protected void sendHeartBeatToCluster(String clusterName, HeartbeatData heartbeatData, Map<String, String> brokerAddrNameMap) {
        try {
            MessageQueueView messageQueue = this.topicRouteService.getAllMessageQueueView(clusterName);
```

### BoundedWildcard
Can generalize to `? extends HeartbeatData`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/transaction/ClusterTransactionService.java`
#### Snippet
```java
    }

    protected void sendHeartBeatToCluster(String clusterName, List<HeartbeatData> heartbeatDataList, Map<String, String> brokerAddrNameMap) {
        if (heartbeatDataList == null) {
            return;
```

### BoundedWildcard
Can generalize to `? super RpcResponse`
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientImpl.java`
#### Snippet
```java


    private void processFailedResponse(String addr, RemotingCommand requestCommand,  ResponseFuture responseFuture, Promise<RpcResponse> rpcResponsePromise) {
        RemotingCommand responseCommand = responseFuture.getResponseCommand();
        if (responseCommand != null) {
```

### BoundedWildcard
Can generalize to `? extends BrokerStatusChangeInfo`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
    }

    private void notifyMinBrokerIdChanged(Map<String, BrokerStatusChangeInfo> needNotifyBrokerMap)
        throws InterruptedException, RemotingConnectException, RemotingTimeoutException, RemotingSendRequestException,
        RemotingTooMuchRequestException {
```

### BoundedWildcard
Can generalize to `? extends UnRegisterBrokerRequestHeader`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
    }

    public void unRegisterBroker(Set<UnRegisterBrokerRequestHeader> unRegisterRequests) {
        try {
            Set<String> removedBroker = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends QueueData`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
    }

    public void registerTopic(final String topic, List<QueueData> queueDatas) {
        if (queueDatas == null || queueDatas.isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? super Future`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingAbstract.java`
#### Snippet
```java

    public static void writeResponse(Channel channel, RemotingCommand request, @Nullable RemotingCommand response,
        Consumer<Future<?>> callback) {
        if (response == null) {
            return;
```

### BoundedWildcard
Can generalize to `? extends NettyRequestProcessor`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingAbstract.java`
#### Snippet
```java

    private Runnable buildProcessRequestHandler(ChannelHandlerContext ctx, RemotingCommand cmd,
        Pair<NettyRequestProcessor, ExecutorService> pair, int opaque) {
        return () -> {
            Exception exception = null;
```

### BoundedWildcard
Can generalize to `? extends CallSnapshot`
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
    }

    private static StatsSnapshot computeStatsData(final LinkedList<CallSnapshot> csList) {
        StatsSnapshot statsSnapshot = new StatsSnapshot();
        synchronized (csList) {
```

### BoundedWildcard
Can generalize to `? super String`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/manager/ReplicasInfoManager.java`
#### Snippet
```java

    public ControllerResult<Void> cleanBrokerData(final CleanControllerBrokerDataRequestHeader requestHeader,
        final BiPredicate<String, String> brokerAlivePredicate) {
        final ControllerResult<Void> result = new ControllerResult<>();

```

### BoundedWildcard
Can generalize to `? super String`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/manager/ReplicasInfoManager.java`
#### Snippet
```java

    public ControllerResult<Void> cleanBrokerData(final CleanControllerBrokerDataRequestHeader requestHeader,
        final BiPredicate<String, String> brokerAlivePredicate) {
        final ControllerResult<Void> result = new ControllerResult<>();

```

### BoundedWildcard
Can generalize to `? super String`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/manager/ReplicasInfoManager.java`
#### Snippet
```java
    public ControllerResult<AlterSyncStateSetResponseHeader> alterSyncStateSet(
        final AlterSyncStateSetRequestHeader request, final SyncStateSet syncStateSet,
        final BiPredicate<String, String> brokerAlivePredicate) {
        final String brokerName = request.getBrokerName();
        final ControllerResult<AlterSyncStateSetResponseHeader> result = new ControllerResult<>(new AlterSyncStateSetResponseHeader());
```

### BoundedWildcard
Can generalize to `? super String`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/manager/ReplicasInfoManager.java`
#### Snippet
```java
    public ControllerResult<AlterSyncStateSetResponseHeader> alterSyncStateSet(
        final AlterSyncStateSetRequestHeader request, final SyncStateSet syncStateSet,
        final BiPredicate<String, String> brokerAlivePredicate) {
        final String brokerName = request.getBrokerName();
        final ControllerResult<AlterSyncStateSetResponseHeader> result = new ControllerResult<>(new AlterSyncStateSetResponseHeader());
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `common/src/main/java/org/apache/rocketmq/common/utils/MessageUtils.java`
#### Snippet
```java
    }

    public static Set<Integer> getShardingKeyIndexes(Collection<MessageExt> msgs, int indexSize) {
        Set<Integer> indexSet = new HashSet<>(indexSize);
        for (MessageExt msg : msgs) {
```

### BoundedWildcard
Can generalize to `? extends TopicConfig`
in `common/src/main/java/org/apache/rocketmq/common/utils/CleanupPolicyUtils.java`
#### Snippet
```java
    }

    public static CleanupPolicy getDeletePolicy(Optional<TopicConfig> topicConfig) {
        if (!topicConfig.isPresent()) {
            return CleanupPolicy.valueOf(TopicAttributes.CLEANUP_POLICY_ATTRIBUTE.getDefaultValue());
```

### BoundedWildcard
Can generalize to `? super String`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
    }

    public static boolean isPropertyValid(Properties props, String key, Predicate<String> validator) {
        return validator.test(props.getProperty(key));
    }
```

### BoundedWildcard
Can generalize to `? extends TopicConfig`
in `common/src/main/java/org/apache/rocketmq/common/utils/QueueTypeUtils.java`
#### Snippet
```java
    }

    public static CQType getCQType(Optional<TopicConfig> topicConfig) {
        if (!topicConfig.isPresent()) {
            return CQType.valueOf(TopicAttributes.QUEUE_TYPE_ATTRIBUTE.getDefaultValue());
```

### BoundedWildcard
Can generalize to `? extends T`
in `common/src/main/java/org/apache/rocketmq/common/utils/CheckpointFile.java`
#### Snippet
```java
     * Write entries to file
     */
    public void write(final List<T> entries) throws IOException {
        if (entries.isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends ControllerResult`
in `controller/src/main/java/org/apache/rocketmq/controller/impl/DLedgerController.java`
#### Snippet
```java
        private final boolean isWriteEvent;

        ControllerEventHandler(final String name, final Supplier<ControllerResult<T>> supplier,
            final boolean isWriteEvent) {
            this.name = name;
```

### BoundedWildcard
Can generalize to `? extends ThreadPoolStatusMonitor`
in `common/src/main/java/org/apache/rocketmq/common/thread/ThreadPoolMonitor.java`
#### Snippet
```java
        String name,
        int queueCapacity,
        List<ThreadPoolStatusMonitor> threadPoolStatusMonitors) {
        ThreadPoolExecutor executor = new ThreadPoolExecutor(
            corePoolSize,
```

### BoundedWildcard
Can generalize to `? extends Op`
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java
     * @return the compute result of Shunting-yard algorithm
     */
    public static List<Op> reversePolish(List<Op> tokens) {
        List<Op> segments = new ArrayList<>();
        Stack<Operator> operatorStack = new Stack<>();
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java


    public static boolean checkIfLeader(List<LogicQueueMappingItem> items, TopicQueueMappingDetail mappingDetail) {
        if (items == null
            || mappingDetail == null
```

### BoundedWildcard
Can generalize to `? extends TopicQueueMappingDetail`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java


    public static Map<Integer, TopicQueueMappingOne> checkAndBuildMappingItems(List<TopicQueueMappingDetail> mappingDetailList, boolean replace, boolean checkConsistence) {
        Collections.sort(mappingDetailList, new Comparator<TopicQueueMappingDetail>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends TopicQueueMappingOne`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static void  checkLeaderInTargetBrokers(Collection<TopicQueueMappingOne> mappingOnes, Set<String> targetBrokers) {
        for (TopicQueueMappingOne mappingOne : mappingOnes) {
            if (!targetBrokers.contains(mappingOne.bname)) {
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static LogicQueueMappingItem findNext(List<LogicQueueMappingItem> items, LogicQueueMappingItem currentItem, boolean ignoreNegative) {
        if (items == null
            || currentItem == null) {
```

### BoundedWildcard
Can generalize to `? extends TopicConfigAndQueueMapping`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static void checkTargetBrokersComplete(Set<String> targetBrokers, Map<String, TopicConfigAndQueueMapping> brokerConfigMap) {
        for (String broker : brokerConfigMap.keySet()) {
            if (brokerConfigMap.get(broker).getMappingDetail().getHostedQueues().isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java


    public static void checkLogicQueueMappingItemOffset(List<LogicQueueMappingItem> items) {
        if (items == null
            || items.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static LogicQueueMappingItem findLogicQueueMappingItem(List<LogicQueueMappingItem> mappingItems, long logicOffset, boolean ignoreNegative) {
        if (mappingItems == null
                || mappingItems.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends TopicQueueMappingOne`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static void  checkIfReusePhysicalQueue(Collection<TopicQueueMappingOne> mappingOnes) {
        Map<String, TopicQueueMappingOne>  physicalQueueIdMap = new HashMap<>();
        for (TopicQueueMappingOne mappingOne : mappingOnes) {
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        return getLeaderItem(items).getBname();
    }
    public static LogicQueueMappingItem getLeaderItem(List<LogicQueueMappingItem> items) {
        assert items.size() > 0;
        return items.get(items.size() - 1);
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static void makeSureLogicQueueMappingItemImmutable(List<LogicQueueMappingItem> oldItems, List<LogicQueueMappingItem> newItems, boolean epochEqual, boolean isCLean) {
        if (oldItems == null || oldItems.isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends LogicQueueMappingItem`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static void makeSureLogicQueueMappingItemImmutable(List<LogicQueueMappingItem> oldItems, List<LogicQueueMappingItem> newItems, boolean epochEqual, boolean isCLean) {
        if (oldItems == null || oldItems.isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends TopicQueueMappingDetail`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static Map.Entry<Long, Integer> findMaxEpochAndQueueNum(List<TopicQueueMappingDetail> mappingDetailList) {
        long epoch = -1;
        int queueNum = 0;
```

### BoundedWildcard
Can generalize to `? extends TopicConfigAndQueueMapping`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
    }

    public static List<TopicQueueMappingDetail> getMappingDetailFromConfig(Collection<TopicConfigAndQueueMapping> configs) {
        List<TopicQueueMappingDetail> detailList = new ArrayList<>();
        for (TopicConfigAndQueueMapping configMapping : configs) {
```

### BoundedWildcard
Can generalize to `? extends Message`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    }

    public static byte[] encodeMessages(List<Message> messages) {
        //TO DO refactor, accumulate in one buffer, avoid copies
        List<byte[]> encodedMessages = new ArrayList<>(messages.size());
```

### BoundedWildcard
Can generalize to `? super MessageExt`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    }

    public static void decodeMessage(MessageExt messageExt, List<MessageExt> list) throws Exception {
        List<Message> messages = MessageDecoder.decodeMessages(ByteBuffer.wrap(messageExt.getBody()));
        for (int i = 0; i < messages.size(); i++) {
```

### BoundedWildcard
Can generalize to `? super String`
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsManager.java`
#### Snippet
```java
    }

    public StatisticsManager(Map<String, StatisticsKindMeta> kindMeta) {
        this.kindMetaMap = kindMeta;
        start();
```

### BoundedWildcard
Can generalize to `? super String`
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java
    }

    private void setItemSnapshot(ConcurrentHashMap<String, ConcurrentHashMap<String, StatisticsItem>> snapshots,
                                 StatisticsItem item) {
        String kind = item.getStatKind();
```

### BoundedWildcard
Can generalize to `? extends ConcurrentHashMap`
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java

    private StatisticsItem getItemSnapshot(
        ConcurrentHashMap<String, ConcurrentHashMap<String, StatisticsItem>> snapshots,
        String kind, String key) {
        ConcurrentHashMap<String, StatisticsItem> itemMap = snapshots.get(kind);
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
    }

    public void resume(Collection<MessageQueue> messageQueueCollection) {
        for (MessageQueue messageQueue : messageQueueCollection) {
            MessageQueueState messageQueueState = assignedMessageQueueState.get(messageQueue);
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
    }

    private void addAssignedMessageQueue(Collection<MessageQueue> assigned) {
        for (MessageQueue messageQueue : assigned) {
            if (!this.assignedMessageQueueState.containsKey(messageQueue)) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
    }

    public void pause(Collection<MessageQueue> messageQueues) {
        for (MessageQueue messageQueue : messageQueues) {
            MessageQueueState messageQueueState = assignedMessageQueueState.get(messageQueue);
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    }

    private boolean checkReconsumeTimes(List<MessageExt> msgs) {
        boolean suspend = false;
        if (msgs != null && !msgs.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    }

    public void resetNamespace(final List<MessageExt> msgs) {
        for (MessageExt msg : msgs) {
            if (StringUtils.isNotEmpty(this.defaultMQPushConsumer.getNamespace())) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
    }

    public void resetNamespace(final List<MessageExt> msgs) {
        for (MessageExt msg : msgs) {
            if (StringUtils.isNotEmpty(this.defaultMQPushConsumer.getNamespace())) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
    }

    private boolean checkReconsumeTimes(List<MessageExt> msgs) {
        boolean suspend = false;
        if (msgs != null && !msgs.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    }

    public boolean putMessage(final List<MessageExt> msgs) {
        boolean dispatchToConsume = false;
        try {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    }

    public void makeMessageToConsumeAgain(List<MessageExt> msgs) {
        try {
            this.treeMapLock.writeLock().lockInterruptibly();
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    }

    public long removeMessage(final List<MessageExt> msgs) {
        long result = -1;
        final long now = System.currentTimeMillis();
```

### BoundedWildcard
Can generalize to `? extends FilterMessageHook`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullAPIWrapper.java`
#### Snippet
```java
    }

    public void registerFilterMessageHook(ArrayList<FilterMessageHook> filterMessageHookList) {
        this.filterMessageHookList = filterMessageHookList;
    }
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
    }

    public List<MessageQueue> parsePublishMessageQueues(List<MessageQueue> messageQueueList) {
        List<MessageQueue> resultQueues = new ArrayList<>();
        for (MessageQueue queue : messageQueueList) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
    }

    private boolean updateProcessQueueTableInRebalance(final String topic, final Set<MessageQueue> mqSet,
        final boolean isOrder) {
        boolean changed = false;
```

### BoundedWildcard
Can generalize to `? extends MessageQueueAssignment`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
    }

    private boolean updateMessageQueueAssignment(final String topic, final Set<MessageQueueAssignment> assignments,
        final boolean isOrder) {
        boolean changed = false;
```

### BoundedWildcard
Can generalize to `? extends PullRequest`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePushImpl.java`
#### Snippet
```java

    @Override
    public void dispatchPullRequest(final List<PullRequest> pullRequestList, final long delay) {
        for (PullRequest pullRequest : pullRequestList) {
            if (delay <= 0) {
```

### BoundedWildcard
Can generalize to `? extends PopRequest`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePushImpl.java`
#### Snippet
```java

    @Override
    public void dispatchPopPullRequest(final List<PopRequest> pullRequestList, final long delay) {
        for (PopRequest pullRequest : pullRequestList) {
            if (delay <= 0) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
    }

    public void resetTopic(List<MessageExt> msgList) {
        if (null == msgList || msgList.size() == 0) {
            return;
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
    }

    public Set<MessageQueue> parseSubscribeMessageQueues(Set<MessageQueue> queueSet) {
        Set<MessageQueue> resultQueues = new HashSet<>();
        for (MessageQueue messageQueue : queueSet) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java


    public void resetRetryAndNamespace(final List<MessageExt> msgs, String consumerGroup) {
        final String groupTopic = MixAll.getRetryTopic(consumerGroup);
        for (MessageExt msg : msgs) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    }

    public Set<MessageQueue> parseSubscribeMessageQueues(Set<MessageQueue> messageQueueList) {
        Set<MessageQueue> resultQueues = new HashSet<>();
        for (MessageQueue queue : messageQueueList) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    }

    public void tryResetPopRetryTopic(final List<MessageExt> msgs, String consumerGroup) {
        String popRetryPrefix = MixAll.RETRY_GROUP_TOPIC_PREFIX + consumerGroup + "_";
        for (MessageExt msg : msgs) {
```

### BoundedWildcard
Can generalize to `? extends TraceTransferBean`
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
        private final List<TraceTransferBean> traceTransferBeanList;

        public AsyncDataSendTask(String traceTopicName, String regionId, List<TraceTransferBean> traceTransferBeanList) {
            this.traceTopicName = traceTopicName;
            this.regionId = regionId;
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
                    traceProducer.send(message, new MessageQueueSelector() {
                        @Override
                        public MessageQueue select(List<MessageQueue> mqs, Message msg, Object arg) {
                            Set<String> brokerSet = (Set<String>) arg;
                            List<MessageQueue> filterMqs = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/consumer/MQPullConsumerScheduleService.java`
#### Snippet
```java
    }

    public void putTask(String topic, Set<MessageQueue> mqNewSet) {
        Iterator<Entry<MessageQueue, PullTaskImpl>> it = this.taskTable.entrySet().iterator();
        while (it.hasNext()) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/producer/selector/SelectMessageQueueByRandom.java`
#### Snippet
```java

    @Override
    public MessageQueue select(List<MessageQueue> mqs, Message msg, Object arg) {
        int value = random.nextInt(mqs.size());
        return mqs.get(value);
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/producer/selector/SelectMessageQueueByHash.java`
#### Snippet
```java

    @Override
    public MessageQueue select(List<MessageQueue> mqs, Message msg, Object arg) {
        int value = arg.hashCode() % mqs.size();
        if (value < 0) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    }

    private Set<MessageQueue> parseMessageQueues(Set<MessageQueue> queueSet) {
        Set<MessageQueue> resultQueues = new HashSet<>();
        for (MessageQueue messageQueue : queueSet) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    }

    private void startPullTask(Collection<MessageQueue> mqSet) {
        for (MessageQueue messageQueue : mqSet) {
            if (!this.taskTable.containsKey(messageQueue)) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    }

    private void resetTopic(List<MessageExt> msgList) {
        if (null == msgList || msgList.size() == 0) {
            return;
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PushConsumerImpl.java`
#### Snippet
```java

        @Override
        public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> rmqMsgList,
            ConsumeConcurrentlyContext contextRMQ) {
            MessageExt rmqMsg = rmqMsgList.get(0);
```

### BoundedWildcard
Can generalize to `? super MessageQueue`
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
    }

    public static void doPull(Map<MessageQueue, Long> eventMap, MessageQueue mq,
        Long eventId) throws RemotingException, InterruptedException, MQClientException {
        if (!enableSub) {
```

### BoundedWildcard
Can generalize to `? super Long`
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
    }

    public static void doPull(Map<MessageQueue, Long> eventMap, MessageQueue mq,
        Long eventId) throws RemotingException, InterruptedException, MQClientException {
        if (!enableSub) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
    }

    private int getMsgTotalNumber(List<List<T>> lQueueList) {
        int msgTotalNum = 0;
        for (int i = 0; i < lQueueList.size(); i++) {
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `test/src/main/java/org/apache/rocketmq/test/util/VerifyUtils.java`
#### Snippet
```java
    }

    public static boolean verifyOrder(Collection<Collection<Object>> queueMsgs) {
        for (Collection<Object> msgs : queueMsgs) {
            if (!verifyOrderMsg(msgs)) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
    }

    public void send(Map<MessageQueue, List<Object>> msgs) {
        for (MessageQueue mq : msgs.keySet()) {
            send(msgs.get(mq), mq);
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/order/RMQOrderListener.java`
#### Snippet
```java

    @Override
    public ConsumeOrderlyStatus consumeMessage(List<MessageExt> msgs,
                                               ConsumeOrderlyContext context) {
        for (MessageExt msg : msgs) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/concurrent/RMQDelayListener.java`
#### Snippet
```java
    }

    public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,
        ConsumeConcurrentlyContext consumeConcurrentlyContext) {
        long recvTime = System.currentTimeMillis();
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/concurrent/RMQNormalListener.java`
#### Snippet
```java

    @Override
    public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,
        ConsumeConcurrentlyContext consumeConcurrentlyContext) {
        for (MessageExt msg : msgs) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `test/src/main/java/org/apache/rocketmq/test/factory/MQMessageFactory.java`
#### Snippet
```java
    }

    public static Map<MessageQueue, List<Object>> getMsgByMQ(List<MessageQueue> mqs, int msgSize,
        String tag) {
        Map<MessageQueue, List<Object>> msgs = new HashMap<MessageQueue, List<Object>>();
```

### BoundedWildcard
Can generalize to `? extends Message`
in `client/src/main/java/org/apache/rocketmq/client/producer/DefaultMQProducer.java`
#### Snippet
```java
    }

    private MessageBatch batch(Collection<Message> msgs) throws MQClientException {
        MessageBatch msgBatch;
        try {
```

### BoundedWildcard
Can generalize to `? extends SubscriptionData`
in `broker/src/main/java/org/apache/rocketmq/broker/client/ConsumerGroupInfo.java`
#### Snippet
```java
     * @return the boolean indicates the subscription has changed or not.
     */
    public boolean updateSubscription(final Set<SubscriptionData> subList) {
        boolean updated = false;

```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `broker/src/main/java/org/apache/rocketmq/broker/client/rebalance/RebalanceLockManager.java`
#### Snippet
```java
    }

    public void unlockBatch(final String group, final Set<MessageQueue> mqs, final String clientId) {
        try {
            this.lock.lockInterruptibly();
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `broker/src/main/java/org/apache/rocketmq/broker/client/rebalance/RebalanceLockManager.java`
#### Snippet
```java
    }

    public Set<MessageQueue> tryLockBatch(final String group, final Set<MessageQueue> mqs,
        final String clientId) {
        Set<MessageQueue> lockedMqs = new HashSet<>(mqs.size());
```

### BoundedWildcard
Can generalize to `? super String`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicConfigManager.java`
#### Snippet
```java
    }

    private void duplicationCheck(Set<String> keys, String key) {
        boolean notExist = keys.add(key);
        if (!notExist) {
```

### BoundedWildcard
Can generalize to `? extends TopicConfigAndQueueMapping`
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java

    //for test only
    public static void remappingStaticTopicWithNegativeLogicOffset(String topic, Set<String> brokersToMapIn, Set<String> brokersToMapOut, Map<String, TopicConfigAndQueueMapping> brokerConfigMap, int blockSeqSize, boolean force, DefaultMQAdminExt defaultMQAdminExt) throws RemotingException, MQBrokerException, InterruptedException, MQClientException {

        ClientMetadata clientMetadata = MQAdminUtils.getBrokerMetadata(defaultMQAdminExt);
```

### BoundedWildcard
Can generalize to `? extends SubscriptionData`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java
    }

    public void register(final String consumerGroup, final Collection<SubscriptionData> subList) {
        for (SubscriptionData subscriptionData : subList) {
            register(
```

### BoundedWildcard
Can generalize to `? extends Runnable`
in `broker/src/main/java/org/apache/rocketmq/broker/latency/BrokerFastFailure.java`
#### Snippet
```java
    }

    void cleanExpiredRequestInQueue(final BlockingQueue<Runnable> blockingQueue, final long maxWaitTimeMillsInQueue) {
        while (true) {
            try {
```

### BoundedWildcard
Can generalize to `? super ProcessGroupInfo`
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/ConsumerLagCalculator.java`
#### Snippet
```java
    }

    private void processAllGroup(Consumer<ProcessGroupInfo> consumer) {
        for (Map.Entry<String, SubscriptionGroupConfig> subscriptionEntry : subscriptionGroupManager
            .getSubscriptionGroupTable().entrySet()) {
```

### BoundedWildcard
Can generalize to `? super CalculateLagResult`
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/ConsumerLagCalculator.java`
#### Snippet
```java
    }

    public void calculateLag(Consumer<CalculateLagResult> lagRecorder) {
        processAllGroup(info -> {
            CalculateLagResult result = new CalculateLagResult(info.group, info.topic);
```

### BoundedWildcard
Can generalize to `? super CalculateAvailableResult`
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/ConsumerLagCalculator.java`
#### Snippet
```java
    }

    public void calculateAvailable(Consumer<CalculateAvailableResult> availableRecorder) {
        processAllGroup(info -> {
            CalculateAvailableResult result = new CalculateAvailableResult(info.group, info.topic);
```

### BoundedWildcard
Can generalize to `? super CalculateSendToDLQResult`
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/ConsumerLagCalculator.java`
#### Snippet
```java
    }

    public void calculateSendToDLQ(Consumer<CalculateSendToDLQResult> dlqRecorder) {
        processAllGroup(info -> {
            CalculateSendToDLQResult result = new CalculateSendToDLQResult(info.group, info.topic);
```

### BoundedWildcard
Can generalize to `? super CalculateInflightResult`
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/ConsumerLagCalculator.java`
#### Snippet
```java
    }

    public void calculateInflight(Consumer<CalculateInflightResult> inflightRecorder) {
        processAllGroup(info -> {
            CalculateInflightResult result = new CalculateInflightResult(info.group, info.topic);
```

### BoundedWildcard
Can generalize to `? extends TopicConfig`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    }

    public synchronized void registerIncrementBrokerData(List<TopicConfig> topicConfigList, DataVersion dataVersion) {
        if (topicConfigList == null || topicConfigList.isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends RegisterBrokerResult`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    }

    protected void handleRegisterBrokerResult(List<RegisterBrokerResult> registerBrokerResultList,
        boolean checkOrderConfig) {
        for (RegisterBrokerResult registerBrokerResult : registerBrokerResultList) {
```

### BoundedWildcard
Can generalize to `? extends Runnable`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    }

    public long headSlowTimeMills(BlockingQueue<Runnable> q) {
        long slowTimeMills = 0;
        final Runnable peek = q.peek();
```

### BoundedWildcard
Can generalize to `? super String`
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
    }

    public void buildRunningStats(HashMap<String, String> stats) {
        Iterator<Map.Entry<Integer, Long>> it = this.offsetTable.entrySet().iterator();
        while (it.hasNext()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
    }

    public void buildRunningStats(HashMap<String, String> stats) {
        Iterator<Map.Entry<Integer, Long>> it = this.offsetTable.entrySet().iterator();
        while (it.hasNext()) {
```

### BoundedWildcard
Can generalize to `? extends SendMessageHook`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AbstractSendMessageProcessor.java`
#### Snippet
```java
    }

    public void registerSendMessageHook(List<SendMessageHook> sendMessageHookList) {
        this.sendMessageHookList = sendMessageHookList;
    }
```

### BoundedWildcard
Can generalize to `? extends ConsumeMessageHook`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
    }

    public void registerConsumeMessageHook(List<ConsumeMessageHook> consumeMessageHookList) {
        this.consumeMessageHookList = consumeMessageHookList;
    }
```

### BoundedWildcard
Can generalize to `? super String`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
    private boolean handleRetryAndDLQ(SendMessageRequestHeader requestHeader, RemotingCommand response,
        RemotingCommand request,
        MessageExt msg, TopicConfig topicConfig, Map<String, String> properties) {
        String newTopic = requestHeader.getTopic();
        if (null != newTopic && newTopic.startsWith(MixAll.RETRY_GROUP_TOPIC_PREFIX)) {
```

### BoundedWildcard
Can generalize to `? super String`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
    private boolean handleRetryAndDLQ(SendMessageRequestHeader requestHeader, RemotingCommand response,
        RemotingCommand request,
        MessageExt msg, TopicConfig topicConfig, Map<String, String> properties) {
        String newTopic = requestHeader.getTopic();
        if (null != newTopic && newTopic.startsWith(MixAll.RETRY_GROUP_TOPIC_PREFIX)) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
    }

    private List<MessageQueue> allocate(String consumerGroup, String currentCID, List<MessageQueue> mqAll,
        List<String> cidAll) {
        if (StringUtils.isBlank(currentCID)) {
```

### BoundedWildcard
Can generalize to `? extends PullRequest`
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/ManyPullRequest.java`
#### Snippet
```java
    }

    public synchronized void addPullRequest(final List<PullRequest> many) {
        this.pullRequestList.addAll(many);
    }
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
        consumer.registerMessageListener(new MessageListenerConcurrently() {
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs, ConsumeConcurrentlyContext context) {
                System.out.printf("%s Receive New Messages: %s %n", Thread.currentThread().getName(), msgs);
                for (MessageExt msg : msgs) {
```

### BoundedWildcard
Can generalize to `? extends SubscriptionGroupConfig`
in `broker/src/main/java/org/apache/rocketmq/broker/subscription/SubscriptionGroupManager.java`
#### Snippet
```java
    }

    public void setSubscriptionGroupTable(ConcurrentMap<String, SubscriptionGroupConfig> otherSubscriptionGroupTable) {
        this.subscriptionGroupTable.clear();
        for (String key : otherSubscriptionGroupTable.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `example/src/main/java/org/apache/rocketmq/example/simple/RandomAsyncCommit.java`
#### Snippet
```java
        new ConcurrentHashMap<>();

    public void putMessages(final MessageQueue mq, final List<MessageExt> msgs) {
        CachedQueue cachedQueue = this.mqCachedTable.get(mq);
        if (null == cachedQueue) {
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
                                requestBody, 1000, new LockCallback() {
                                    @Override
                                    public void onSuccess(Set<MessageQueue> lockOKMQSet) {
                                        for (MessageQueue mq : lockOKMQSet) {
                                            if (!mqLockMap.containsKey(mq)) {
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerConsumer.java`
#### Snippet
```java
        consumer.registerMessageListener(new MessageListenerConcurrently() {
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs, ConsumeConcurrentlyContext context) {
                MessageExt msg = msgs.get(0);
                long now = System.currentTimeMillis();
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
    }

    private static void printBody(List<MessageExt> msg) {
        if (msg == null || msg.size() == 0)
            return;
```

### BoundedWildcard
Can generalize to `? extends Message`
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
    }

    private static void setTags(int tagCount, List<Message> msgs, long startTagId) {
        if (tagCount <= 0) {
            return;
```

### BoundedWildcard
Can generalize to `? extends Message`
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
    }

    private static void setProperties(int propertySize, List<Message> msgs) {
        if (propertySize <= 0) {
            return;
```

### BoundedWildcard
Can generalize to `? extends Message`
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
    }

    private static void setKeys(boolean keyEnable, List<Message> msgs, String keys) {
        if (!keyEnable) {
            return;
```

### BoundedWildcard
Can generalize to `? extends MessageQueue`
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Producer.java`
#### Snippet
```java
                SendResult sendResult = producer.send(msg, new MessageQueueSelector() {
                    @Override
                    public MessageQueue select(List<MessageQueue> mqs, Message msg, Object arg) {
                        Integer id = (Integer) arg;
                        int index = id % mqs.size();
```

### BoundedWildcard
Can generalize to `? extends MessageExt`
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
        consumer.registerMessageListener(new MessageListenerConcurrently() {
            @Override
            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,
                ConsumeConcurrentlyContext context) {
                MessageExt msg = msgs.get(0);
```

### BoundedWildcard
Can generalize to `? super Long`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
     * @return Return true if put success, otherwise return false.
     */
    private boolean checkPrepareQueueOffset(HashMap<Long, Long> removeMap, List<Long> doneOpOffset,
        MessageExt msgExt, String checkImmunityTimeStr) {
        String prepareQueueOffsetStr = msgExt.getUserProperty(MessageConst.PROPERTY_TRANSACTION_PREPARED_QUEUE_OFFSET);
```

### BoundedWildcard
Can generalize to `? super Long`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
     * @return Op message result.
     */
    private PullResult fillOpRemoveMap(HashMap<Long, Long> removeMap, MessageQueue opQueue,
                                       long pullOffsetOfOp, long miniOffset, Map<Long, HashSet<Long>> opMsgMap, List<Long> doneOpOffset) {
        PullResult pullResult = pullOpMsg(opQueue, pullOffsetOfOp, OP_MSG_PULL_NUMS);
```

### BoundedWildcard
Can generalize to `? super Long`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
     * @return Op message result.
     */
    private PullResult fillOpRemoveMap(HashMap<Long, Long> removeMap, MessageQueue opQueue,
                                       long pullOffsetOfOp, long miniOffset, Map<Long, HashSet<Long>> opMsgMap, List<Long> doneOpOffset) {
        PullResult pullResult = pullOpMsg(opQueue, pullOffsetOfOp, OP_MSG_PULL_NUMS);
```

### BoundedWildcard
Can generalize to `? super Long`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
     */
    private PullResult fillOpRemoveMap(HashMap<Long, Long> removeMap, MessageQueue opQueue,
                                       long pullOffsetOfOp, long miniOffset, Map<Long, HashSet<Long>> opMsgMap, List<Long> doneOpOffset) {
        PullResult pullResult = pullOpMsg(opQueue, pullOffsetOfOp, OP_MSG_PULL_NUMS);
        if (null == pullResult) {
```

### BoundedWildcard
Can generalize to `? super HashSet`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
     */
    private PullResult fillOpRemoveMap(HashMap<Long, Long> removeMap, MessageQueue opQueue,
                                       long pullOffsetOfOp, long miniOffset, Map<Long, HashSet<Long>> opMsgMap, List<Long> doneOpOffset) {
        PullResult pullResult = pullOpMsg(opQueue, pullOffsetOfOp, OP_MSG_PULL_NUMS);
        if (null == pullResult) {
```

### BoundedWildcard
Can generalize to `? super Long`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageServiceImpl.java`
#### Snippet
```java
     */
    private PullResult fillOpRemoveMap(HashMap<Long, Long> removeMap, MessageQueue opQueue,
                                       long pullOffsetOfOp, long miniOffset, Map<Long, HashSet<Long>> opMsgMap, List<Long> doneOpOffset) {
        PullResult pullResult = pullOpMsg(opQueue, pullOffsetOfOp, OP_MSG_PULL_NUMS);
        if (null == pullResult) {
```

## RuleId[ruleID=MissortedModifiers]
### MissortedModifiers
Missorted modifiers `abstract public`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryInExpression.java`
#### Snippet
```java
 * In expression.
 */
abstract public class UnaryInExpression extends UnaryExpression implements BooleanExpression {

    private boolean not;
```

### MissortedModifiers
Missorted modifiers `final private`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final private LookaheadSuccess jjLs = new LookaheadSuccess();

    private boolean jj_scan_token(int kind) {
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public Expression unaryExpr() throws ParseException {
        String s = null;
        Expression left = null;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Enable tracing.
     */
    final public void enable_tracing() {
    }

```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public Expression orExpression() throws ParseException {
        Expression left;
        Expression right;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Get the next Token.
     */
    final public Token getNextToken() {
        if (token.next != null)
            token = token.next;
```

### MissortedModifiers
Missorted modifiers `static private`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    static private final class LookaheadSuccess extends java.lang.Error {
    }

```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public Expression primaryExpr() throws ParseException {
        Expression left = null;
        switch ((jjNtk == -1) ? jj_ntk() : jjNtk) {
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public Expression comparisonExpression() throws ParseException {
        Expression left;
        Expression right;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public PropertyExpression variable() throws ParseException {
        Token t;
        PropertyExpression left = null;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    // Grammar
    // ----------------------------------------------------------------------------
    final public BooleanExpression JmsSelector() throws ParseException {
        Expression left = null;
        left = orExpression();
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Disable tracing.
     */
    final public void disable_tracing() {
    }

```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public Expression equalityExpression() throws ParseException {
        Expression left;
        Expression right;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Get the specific Token.
     */
    final public Token getToken(int index) {
        Token t = token;
        for (int i = 0; i < index; i++) {
```

### MissortedModifiers
Missorted modifiers `static private`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private int jjGen;
    final private int[] jjLa1 = new int[13];
    static private int[] jjLa10;
    static private int[] jjLa11;

```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public ConstantExpression literal() throws ParseException {
        Token t;
        String s;
```

### MissortedModifiers
Missorted modifiers `final private`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    private int jjLa;
    private int jjGen;
    final private int[] jjLa1 = new int[13];
    static private int[] jjLa10;
    static private int[] jjLa11;
```

### MissortedModifiers
Missorted modifiers `final private`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final private JJCalls[] jj2Rtns = new JJCalls[4];
    private boolean jjRescan = false;
    private int jjGc = 0;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public Expression andExpression() throws ParseException {
        Expression left;
        Expression right;
```

### MissortedModifiers
Missorted modifiers `final public`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    final public String stringLitteral() throws ParseException {
        Token t;
        StringBuffer rc = new StringBuffer();
```

### MissortedModifiers
Missorted modifiers `static private`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    final private int[] jjLa1 = new int[13];
    static private int[] jjLa10;
    static private int[] jjLa11;

    static {
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
    protected static final Logger log = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);
    // End of file empty MAGIC CODE cbd43194
    public final static int BLANK_MAGIC_CODE = -875286124;
    protected final MappedFileQueue mappedFileQueue;
    protected final DefaultMessageStore defaultMessageStore;
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
public class CommitLog implements Swappable {
    // Message's MAGIC CODE daa320a7
    public final static int MESSAGE_MAGIC_CODE = -626843481;
    protected static final Logger log = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);
    // End of file empty MAGIC CODE cbd43194
```

### MissortedModifiers
Missorted modifiers `abstract protected`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        }

        abstract protected int getNextTransferDataSize();

        abstract protected void releaseData();
```

### MissortedModifiers
Missorted modifiers `abstract protected`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        abstract protected boolean transferData(int maxTransferSize) throws Exception;

        abstract protected void onStop();
    }
}
```

### MissortedModifiers
Missorted modifiers `abstract protected`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        abstract protected void releaseData();

        abstract protected boolean transferData(int maxTransferSize) throws Exception;

        abstract protected void onStop();
```

### MissortedModifiers
Missorted modifiers `abstract protected`
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        abstract protected int getNextTransferDataSize();

        abstract protected void releaseData();

        abstract protected boolean transferData(int maxTransferSize) throws Exception;
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
    public final static int BLANK_MAGIC_CODE = 0xBBCCDDEE ^ 1880681586 + 8;
    private final static int MIN_BLANK_LEN = 4 + 8 + 4;
    public final static int UNIT_SIZE = 4  //size
            + 8 //prev pos
            + 4 //magic value
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
public class TimerLog {
    private static Logger log = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);
    public final static int BLANK_MAGIC_CODE = 0xBBCCDDEE ^ 1880681586 + 8;
    private final static int MIN_BLANK_LEN = 4 + 8 + 4;
    public final static int UNIT_SIZE = 4  //size
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
            + 8; //reserved value, just in case of
    public final static int UNIT_PRE_SIZE_FOR_MSG = 28;
    public final static int UNIT_PRE_SIZE_FOR_METRIC = 40;
    private final MappedFileQueue mappedFileQueue;

```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
    private static Logger log = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);
    public final static int BLANK_MAGIC_CODE = 0xBBCCDDEE ^ 1880681586 + 8;
    private final static int MIN_BLANK_LEN = 4 + 8 + 4;
    public final static int UNIT_SIZE = 4  //size
            + 8 //prev pos
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerLog.java`
#### Snippet
```java
            + 4 //hash code of real topic
            + 8; //reserved value, just in case of
    public final static int UNIT_PRE_SIZE_FOR_MSG = 28;
    public final static int UNIT_PRE_SIZE_FOR_METRIC = 40;
    private final MappedFileQueue mappedFileQueue;
```

### MissortedModifiers
Missorted modifiers `transient final`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMetrics.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);
    private static final long LOCK_TIMEOUT_MILLIS = 3000;
    private transient final Lock lock = new ReentrantLock();

    private final ConcurrentMap<String, Metric> timingCount =
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    boolean shutDownNormal = false;
    // Max pull msg size
    private final static int MAX_PULL_MSG_SIZE = 128 * 1024 * 1024;

    private volatile int aliveReplicasNum = 1;
```

### MissortedModifiers
Missorted modifiers `final static`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    class CleanCommitLogService {

        private final static int MAX_MANUAL_DELETE_FILE_TIMES = 20;
        private final String diskSpaceWarningLevelRatio =
            System.getProperty("rocketmq.broker.diskSpaceWarningLevelRatio", "");
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/GrpcMessagingApplication.java`
#### Snippet
```java

public class GrpcMessagingApplication extends MessagingServiceGrpc.MessagingServiceImplBase implements StartAndShutdown {
    private final static Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);

    private final GrpcMessingActivity grpcMessingActivity;
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/RequestMapping.java`
#### Snippet
```java

public class RequestMapping {
    private final static Map<String, Integer> REQUEST_MAP = new HashMap<String, Integer>() {
        {
            // v2
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/Configuration.java`
#### Snippet
```java

public class Configuration {
    private final static Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);
    private final AtomicReference<ProxyConfig> proxyConfigReference = new AtomicReference<>();
    public static final String CONFIG_PATH_PROPERTY = "com.rocketmq.proxy.configPath";
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/metrics/ProxyMetricsManager.java`
#### Snippet
```java

    private static ProxyConfig proxyConfig;
    private final static Map<String, String> LABEL_MAP = new HashMap<>();
    public static Supplier<AttributesBuilder> attributesBuilderSupplier;

```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/metrics/ProxyMetricsManager.java`
#### Snippet
```java

public class ProxyMetricsManager implements StartAndShutdown {
    private final static Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);

    private static ProxyConfig proxyConfig;
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/ProxyConfig.java`
#### Snippet
```java
public class ProxyConfig implements ConfigFile {
    private final static Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);
    public final static String DEFAULT_CONFIG_FILE_NAME = "rmq-proxy.json";
    private static final int PROCESSOR_NUMBER = Runtime.getRuntime().availableProcessors();
    private static final String DEFAULT_CLUSTER_NAME = "DefaultCluster";
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/ProxyConfig.java`
#### Snippet
```java

public class ProxyConfig implements ConfigFile {
    private final static Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);
    public final static String DEFAULT_CONFIG_FILE_NAME = "rmq-proxy.json";
    private static final int PROCESSOR_NUMBER = Runtime.getRuntime().availableProcessors();
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/metadata/ClusterMetadataService.java`
#### Snippet
```java

    protected final LoadingCache<String, TopicConfigAndQueueMapping> topicConfigCache;
    protected final static TopicConfigAndQueueMapping EMPTY_TOPIC_CONFIG = new TopicConfigAndQueueMapping();

    protected final LoadingCache<String, SubscriptionGroupConfig> subscriptionGroupConfigCache;
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/metadata/ClusterMetadataService.java`
#### Snippet
```java

    protected final LoadingCache<String, SubscriptionGroupConfig> subscriptionGroupConfigCache;
    protected final static SubscriptionGroupConfig EMPTY_SUBSCRIPTION_GROUP_CONFIG = new SubscriptionGroupConfig();

    public ClusterMetadataService(TopicRouteService topicRouteService, MQClientAPIFactory mqClientAPIFactory) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ReceiptHandleProcessor.java`
#### Snippet
```java

public class ReceiptHandleProcessor extends AbstractStartAndShutdown {
    protected final static Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);
    protected final ConcurrentMap<ReceiptHandleGroupKey, ReceiptHandleGroup> receiptHandleGroupMap;
    protected final ScheduledExecutorService scheduledExecutorService =
```

### MissortedModifiers
Missorted modifiers `final static`
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
public class RouteInfoManager {
    private static final Logger log = LoggerFactory.getLogger(LoggerName.NAMESRV_LOGGER_NAME);
    private final static long DEFAULT_BROKER_CHANNEL_EXPIRED_TIME = 1000 * 60 * 2;
    private final ReadWriteLock lock = new ReentrantReadWriteLock();
    private final Map<String/* topic */, Map<String, QueueData>> topicQueueTable;
```

### MissortedModifiers
Missorted modifiers `final static`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingSerializable.java`
#### Snippet
```java

public abstract class RemotingSerializable {
    private final static Charset CHARSET_UTF8 = StandardCharsets.UTF_8;

    public static byte[] encode(final Object obj) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/heartbeat/SubscriptionData.java`
#### Snippet
```java

public class SubscriptionData implements Comparable<SubscriptionData> {
    public final static String SUB_ALL = "*";
    private boolean classFilterMode = false;
    private String topic;
```

### MissortedModifiers
Missorted modifiers `final static`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/subscription/GroupRetryPolicy.java`
#### Snippet
```java

public class GroupRetryPolicy {
    private final static RetryPolicy DEFAULT_RETRY_POLICY = new CustomizedRetryPolicy();
    private GroupRetryPolicyType type = GroupRetryPolicyType.CUSTOMIZED;
    private ExponentialRetryPolicy exponentialRetryPolicy;
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
    }

    static public List<String> readLines(Reader input) throws IOException {
        BufferedReader reader = toBufferedReader(input);
        List<String> list = new ArrayList<>();
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
public class IOTinyUtils {

    static public String toString(InputStream input, String encoding) throws IOException {
        return (null == encoding) ? toString(new InputStreamReader(input, StandardCharsets.UTF_8)) : toString(new InputStreamReader(
            input, encoding));
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
    }

    static public long copy(Reader input, Writer output) throws IOException {
        char[] buffer = new char[1 << 12];
        long count = 0;
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
    }

    static public String toString(Reader reader) throws IOException {
        CharArrayWriter sw = new CharArrayWriter();
        copy(reader, sw);
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
    }

    static public void copyFile(String source, String target) throws IOException {
        File sf = new File(source);
        if (!sf.exists()) {
```

### MissortedModifiers
Missorted modifiers `static private`
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
    }

    static private BufferedReader toBufferedReader(Reader reader) {
        return reader instanceof BufferedReader ? (BufferedReader) reader : new BufferedReader(reader);
    }
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
    public static final long FIRST_SLAVE_ID = 1L;
    public static final long CURRENT_JVM_PID = getPID();
    public final static int UNIT_PRE_SIZE_FOR_MSG = 28;
    public final static int ALL_ACK_IN_SYNC_STATE_SET = -1;

```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
    public static final long CURRENT_JVM_PID = getPID();
    public final static int UNIT_PRE_SIZE_FOR_MSG = 28;
    public final static int ALL_ACK_IN_SYNC_STATE_SET = -1;

    public static final String RETRY_GROUP_TOPIC_PREFIX = "%RETRY%";
```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
public class DefaultJoranConfiguratorExt extends DefaultJoranConfigurator {

    final public static String TEST_AUTOCONFIG_FILE = "rmq.logback-test.xml";
    final public static String AUTOCONFIG_FILE = "rmq.logback.xml";

```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
    final public static String TOOLS_AUTOCONFIG_FILE = "rmq.tools.logback.xml";

    final public static String CLIENT_AUTOCONFIG_FILE = "rmq.client.logback.xml";

    private final List<String> configFiles;
```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
    final public static String AUTOCONFIG_FILE = "rmq.logback.xml";

    final public static String PROXY_AUTOCONFIG_FILE = "rmq.proxy.logback.xml";
    final public static String BROKER_AUTOCONFIG_FILE = "rmq.broker.logback.xml";

```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
    final public static String BROKER_AUTOCONFIG_FILE = "rmq.broker.logback.xml";

    final public static String NAMESRV_AUTOCONFIG_FILE = "rmq.namesrv.logback.xml";
    final public static String CONTROLLER_AUTOCONFIG_FILE = "rmq.controller.logback.xml";
    final public static String TOOLS_AUTOCONFIG_FILE = "rmq.tools.logback.xml";
```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
    final public static String NAMESRV_AUTOCONFIG_FILE = "rmq.namesrv.logback.xml";
    final public static String CONTROLLER_AUTOCONFIG_FILE = "rmq.controller.logback.xml";
    final public static String TOOLS_AUTOCONFIG_FILE = "rmq.tools.logback.xml";

    final public static String CLIENT_AUTOCONFIG_FILE = "rmq.client.logback.xml";
```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java

    final public static String NAMESRV_AUTOCONFIG_FILE = "rmq.namesrv.logback.xml";
    final public static String CONTROLLER_AUTOCONFIG_FILE = "rmq.controller.logback.xml";
    final public static String TOOLS_AUTOCONFIG_FILE = "rmq.tools.logback.xml";

```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java

    final public static String PROXY_AUTOCONFIG_FILE = "rmq.proxy.logback.xml";
    final public static String BROKER_AUTOCONFIG_FILE = "rmq.broker.logback.xml";

    final public static String NAMESRV_AUTOCONFIG_FILE = "rmq.namesrv.logback.xml";
```

### MissortedModifiers
Missorted modifiers `final public static`
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java

    final public static String TEST_AUTOCONFIG_FILE = "rmq.logback-test.xml";
    final public static String AUTOCONFIG_FILE = "rmq.logback.xml";

    final public static String PROXY_AUTOCONFIG_FILE = "rmq.proxy.logback.xml";
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static final String YYYY_MM_DD_HH_MM_SS_SSS = "yyyy-MM-dd#HH:mm:ss:SSS";
    public static final String YYYYMMDDHHMMSS = "yyyyMMddHHmmss";
    private final static char[] HEX_ARRAY;
    private final static int PID;

```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
    public static final String YYYYMMDDHHMMSS = "yyyyMMddHHmmss";
    private final static char[] HEX_ARRAY;
    private final static int PID;

    static {
```

### MissortedModifiers
Missorted modifiers `synchronized static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageClientIDSetter.java`
#### Snippet
```java
    }

    private synchronized static void setStartTime(long millis) {
        Calendar cal = Calendar.getInstance();
        cal.setTimeInMillis(millis);
```

### MissortedModifiers
Missorted modifiers `static private`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
    }

    static private String encodingParams(List<String> paramValues, String encoding)
        throws UnsupportedEncodingException {
        StringBuilder sb = new StringBuilder();
```

### MissortedModifiers
Missorted modifiers `final public`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java

    static public class HttpResult {
        final public int code;
        final public String content;

```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
public class HttpTinyClient {

    static public HttpResult httpGet(String url, List<String> headers, List<String> paramValues,
        String encoding, long readTimeoutMs) throws IOException {
        String encodedContent = encodingParams(paramValues, encoding);
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
    }

    static public class HttpResult {
        final public int code;
        final public String content;
```

### MissortedModifiers
Missorted modifiers `final public`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
    static public class HttpResult {
        final public int code;
        final public String content;

        public HttpResult(int code, String content) {
```

### MissortedModifiers
Missorted modifiers `static private`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
    }

    static private void setHeaders(HttpURLConnection conn, List<String> headers, String encoding) {
        if (null != headers) {
            for (Iterator<String> iter = headers.iterator(); iter.hasNext(); ) {
```

### MissortedModifiers
Missorted modifiers `static public`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
     * @return the http response of given http post request
     */
    static public HttpResult httpPost(String url, List<String> headers, List<String> paramValues,
        String encoding, long readTimeoutMs) throws IOException {
        String encodedContent = encodingParams(paramValues, encoding);
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/SubscriptionSysFlag.java`
#### Snippet
```java
public class SubscriptionSysFlag {

    private final static int FLAG_UNIT = 0x1 << 0;

    public static int buildSysFlag(final boolean unit) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/TopicSysFlag.java`
#### Snippet
```java
    private final static int FLAG_UNIT = 0x1 << 0;

    private final static int FLAG_UNIT_SUB = 0x1 << 1;

    public static int buildSysFlag(final boolean unit, final boolean hasUnitSub) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/TopicSysFlag.java`
#### Snippet
```java
public class TopicSysFlag {

    private final static int FLAG_UNIT = 0x1 << 0;

    private final static int FLAG_UNIT_SUB = 0x1 << 1;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int COMPRESSION_LZ4_TYPE = 0x1 << 8;
    public final static int COMPRESSION_ZSTD_TYPE = 0x2 << 8;
    public final static int COMPRESSION_ZLIB_TYPE = 0x3 << 8;
    public final static int COMPRESSION_TYPE_COMPARATOR = 0x7 << 8;

```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int TRANSACTION_NOT_TYPE = 0;
    public final static int TRANSACTION_PREPARED_TYPE = 0x1 << 2;
    public final static int TRANSACTION_COMMIT_TYPE = 0x2 << 2;
    public final static int TRANSACTION_ROLLBACK_TYPE = 0x3 << 2;
    public final static int BORNHOST_V6_FLAG = 0x1 << 4;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int STOREHOSTADDRESS_V6_FLAG = 0x1 << 5;
    //Mark the flag for batch to avoid conflict
    public final static int NEED_UNWRAP_FLAG = 0x1 << 6;
    public final static int INNER_BATCH_FLAG = 0x1 << 7;

```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
     * | byte 4 |   |   |           |          |             |                  |                  |                  |
     */
    public final static int COMPRESSED_FLAG = 0x1;
    public final static int MULTI_TAGS_FLAG = 0x1 << 1;
    public final static int TRANSACTION_NOT_TYPE = 0;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int MULTI_TAGS_FLAG = 0x1 << 1;
    public final static int TRANSACTION_NOT_TYPE = 0;
    public final static int TRANSACTION_PREPARED_TYPE = 0x1 << 2;
    public final static int TRANSACTION_COMMIT_TYPE = 0x2 << 2;
    public final static int TRANSACTION_ROLLBACK_TYPE = 0x3 << 2;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
     */
    public final static int COMPRESSED_FLAG = 0x1;
    public final static int MULTI_TAGS_FLAG = 0x1 << 1;
    public final static int TRANSACTION_NOT_TYPE = 0;
    public final static int TRANSACTION_PREPARED_TYPE = 0x1 << 2;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int COMPRESSED_FLAG = 0x1;
    public final static int MULTI_TAGS_FLAG = 0x1 << 1;
    public final static int TRANSACTION_NOT_TYPE = 0;
    public final static int TRANSACTION_PREPARED_TYPE = 0x1 << 2;
    public final static int TRANSACTION_COMMIT_TYPE = 0x2 << 2;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java

    // COMPRESSION_TYPE
    public final static int COMPRESSION_LZ4_TYPE = 0x1 << 8;
    public final static int COMPRESSION_ZSTD_TYPE = 0x2 << 8;
    public final static int COMPRESSION_ZLIB_TYPE = 0x3 << 8;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    //Mark the flag for batch to avoid conflict
    public final static int NEED_UNWRAP_FLAG = 0x1 << 6;
    public final static int INNER_BATCH_FLAG = 0x1 << 7;

    // COMPRESSION_TYPE
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int TRANSACTION_COMMIT_TYPE = 0x2 << 2;
    public final static int TRANSACTION_ROLLBACK_TYPE = 0x3 << 2;
    public final static int BORNHOST_V6_FLAG = 0x1 << 4;
    public final static int STOREHOSTADDRESS_V6_FLAG = 0x1 << 5;
    //Mark the flag for batch to avoid conflict
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    // COMPRESSION_TYPE
    public final static int COMPRESSION_LZ4_TYPE = 0x1 << 8;
    public final static int COMPRESSION_ZSTD_TYPE = 0x2 << 8;
    public final static int COMPRESSION_ZLIB_TYPE = 0x3 << 8;
    public final static int COMPRESSION_TYPE_COMPARATOR = 0x7 << 8;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int COMPRESSION_ZSTD_TYPE = 0x2 << 8;
    public final static int COMPRESSION_ZLIB_TYPE = 0x3 << 8;
    public final static int COMPRESSION_TYPE_COMPARATOR = 0x7 << 8;

    public static int getTransactionValue(final int flag) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int TRANSACTION_PREPARED_TYPE = 0x1 << 2;
    public final static int TRANSACTION_COMMIT_TYPE = 0x2 << 2;
    public final static int TRANSACTION_ROLLBACK_TYPE = 0x3 << 2;
    public final static int BORNHOST_V6_FLAG = 0x1 << 4;
    public final static int STOREHOSTADDRESS_V6_FLAG = 0x1 << 5;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
    public final static int TRANSACTION_ROLLBACK_TYPE = 0x3 << 2;
    public final static int BORNHOST_V6_FLAG = 0x1 << 4;
    public final static int STOREHOSTADDRESS_V6_FLAG = 0x1 << 5;
    //Mark the flag for batch to avoid conflict
    public final static int NEED_UNWRAP_FLAG = 0x1 << 6;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/PullSysFlag.java`
#### Snippet
```java
    private final static int FLAG_SUBSCRIPTION = 0x1 << 2;
    private final static int FLAG_CLASS_FILTER = 0x1 << 3;
    private final static int FLAG_LITE_PULL_MESSAGE = 0x1 << 4;

    public static int buildSysFlag(final boolean commitOffset, final boolean suspend,
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/PullSysFlag.java`
#### Snippet
```java
    private final static int FLAG_SUSPEND = 0x1 << 1;
    private final static int FLAG_SUBSCRIPTION = 0x1 << 2;
    private final static int FLAG_CLASS_FILTER = 0x1 << 3;
    private final static int FLAG_LITE_PULL_MESSAGE = 0x1 << 4;

```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/PullSysFlag.java`
#### Snippet
```java

public class PullSysFlag {
    private final static int FLAG_COMMIT_OFFSET = 0x1;
    private final static int FLAG_SUSPEND = 0x1 << 1;
    private final static int FLAG_SUBSCRIPTION = 0x1 << 2;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/PullSysFlag.java`
#### Snippet
```java
public class PullSysFlag {
    private final static int FLAG_COMMIT_OFFSET = 0x1;
    private final static int FLAG_SUSPEND = 0x1 << 1;
    private final static int FLAG_SUBSCRIPTION = 0x1 << 2;
    private final static int FLAG_CLASS_FILTER = 0x1 << 3;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/sysflag/PullSysFlag.java`
#### Snippet
```java
    private final static int FLAG_COMMIT_OFFSET = 0x1;
    private final static int FLAG_SUSPEND = 0x1 << 1;
    private final static int FLAG_SUBSCRIPTION = 0x1 << 2;
    private final static int FLAG_CLASS_FILTER = 0x1 << 3;
    private final static int FLAG_LITE_PULL_MESSAGE = 0x1 << 4;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    public final static int MESSAGE_PHYSIC_OFFSET_POSITION = 28;
    public final static int MESSAGE_STORE_TIMESTAMP_POSITION = 56;
    public final static int MESSAGE_MAGIC_CODE = -626843481;
    // End of file empty MAGIC CODE cbd43194
    public final static int BLANK_MAGIC_CODE = -875286124;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java

    public final static Charset CHARSET_UTF8 = StandardCharsets.UTF_8;
    public final static int MESSAGE_MAGIC_CODE_POSITION = 4;
    public final static int MESSAGE_FLAG_POSITION = 16;
    public final static int MESSAGE_PHYSIC_OFFSET_POSITION = 28;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    public final static int MESSAGE_MAGIC_CODE = -626843481;
    // End of file empty MAGIC CODE cbd43194
    public final static int BLANK_MAGIC_CODE = -875286124;
    public static final char NAME_VALUE_SEPARATOR = 1;
    public static final char PROPERTY_SEPARATOR = 2;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    public final static int MESSAGE_FLAG_POSITION = 16;
    public final static int MESSAGE_PHYSIC_OFFSET_POSITION = 28;
    public final static int MESSAGE_STORE_TIMESTAMP_POSITION = 56;
    public final static int MESSAGE_MAGIC_CODE = -626843481;
    // End of file empty MAGIC CODE cbd43194
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    public final static int MESSAGE_MAGIC_CODE_POSITION = 4;
    public final static int MESSAGE_FLAG_POSITION = 16;
    public final static int MESSAGE_PHYSIC_OFFSET_POSITION = 28;
    public final static int MESSAGE_STORE_TIMESTAMP_POSITION = 56;
    public final static int MESSAGE_MAGIC_CODE = -626843481;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
    public final static Charset CHARSET_UTF8 = StandardCharsets.UTF_8;
    public final static int MESSAGE_MAGIC_CODE_POSITION = 4;
    public final static int MESSAGE_FLAG_POSITION = 16;
    public final static int MESSAGE_PHYSIC_OFFSET_POSITION = 28;
    public final static int MESSAGE_STORE_TIMESTAMP_POSITION = 56;
```

### MissortedModifiers
Missorted modifiers `final static`
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
//    public final static int MSG_ID_LENGTH = 8 + 8;

    public final static Charset CHARSET_UTF8 = StandardCharsets.UTF_8;
    public final static int MESSAGE_MAGIC_CODE_POSITION = 4;
    public final static int MESSAGE_FLAG_POSITION = 16;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientManager.java`
#### Snippet
```java

public class MQClientManager {
    private final static Logger log = LoggerFactory.getLogger(MQClientManager.class);
    private static MQClientManager instance = new MQClientManager();
    private AtomicInteger factoryIndexGenerator = new AtomicInteger();
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
public class ConsumeMessageOrderlyService implements ConsumeMessageService {
    private static final Logger log = LoggerFactory.getLogger(ConsumeMessageOrderlyService.class);
    private final static long MAX_TIME_CONSUME_CONTINUOUSLY =
        Long.parseLong(System.getProperty("rocketmq.client.maxTimeConsumeContinuously", "60000"));
    private final DefaultMQPushConsumerImpl defaultMQPushConsumerImpl;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PopProcessQueue.java`
#### Snippet
```java
public class PopProcessQueue {

    private final static long PULL_MAX_IDLE_TIME = Long.parseLong(System.getProperty("rocketmq.client.pull.pullMaxIdleTime", "120000"));

    private long lastPopTimestamp;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
 */
public class ProcessQueue {
    public final static long REBALANCE_LOCK_MAX_LIVE_TIME =
        Long.parseLong(System.getProperty("rocketmq.client.rebalance.lockMaxLiveTime", "30000"));
    public final static long REBALANCE_LOCK_INTERVAL = Long.parseLong(System.getProperty("rocketmq.client.rebalance.lockInterval", "20000"));
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
        Long.parseLong(System.getProperty("rocketmq.client.rebalance.lockMaxLiveTime", "30000"));
    public final static long REBALANCE_LOCK_INTERVAL = Long.parseLong(System.getProperty("rocketmq.client.rebalance.lockInterval", "20000"));
    private final static long PULL_MAX_IDLE_TIME = Long.parseLong(System.getProperty("rocketmq.client.pull.pullMaxIdleTime", "120000"));
    private final Logger log = LoggerFactory.getLogger(ProcessQueue.class);
    private final ReadWriteLock treeMapLock = new ReentrantReadWriteLock();
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    public final static long REBALANCE_LOCK_MAX_LIVE_TIME =
        Long.parseLong(System.getProperty("rocketmq.client.rebalance.lockMaxLiveTime", "30000"));
    public final static long REBALANCE_LOCK_INTERVAL = Long.parseLong(System.getProperty("rocketmq.client.rebalance.lockInterval", "20000"));
    private final static long PULL_MAX_IDLE_TIME = Long.parseLong(System.getProperty("rocketmq.client.pull.pullMaxIdleTime", "120000"));
    private final Logger log = LoggerFactory.getLogger(ProcessQueue.class);
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePushImpl.java`
#### Snippet
```java

public class RebalancePushImpl extends RebalanceImpl {
    private final static long UNLOCK_DELAY_TIME_MILLS = Long.parseLong(System.getProperty("rocketmq.client.unlockDelayTimeMills", "20000"));
    private final DefaultMQPushConsumerImpl defaultMQPushConsumerImpl;

```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java

public class MQClientInstance {
    private final static long LOCK_TIMEOUT_MILLIS = 3000;
    private final static Logger log = LoggerFactory.getLogger(MQClientInstance.class);
    private final ClientConfig clientConfig;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
public class MQClientInstance {
    private final static long LOCK_TIMEOUT_MILLIS = 3000;
    private final static Logger log = LoggerFactory.getLogger(MQClientInstance.class);
    private final ClientConfig clientConfig;
    private final String clientId;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java

public class MQClientAPIImpl implements NameServerUpdateCallback {
    private final static Logger log = LoggerFactory.getLogger(MQClientAPIImpl.class);
    private static boolean sendSmartMsg =
        Boolean.parseBoolean(System.getProperty("org.apache.rocketmq.client.sendSmartMsg", "true"));
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/common/ThreadLocalIndex.java`
#### Snippet
```java
    private final ThreadLocal<Integer> threadLocalIndex = new ThreadLocal<>();
    private final Random random = new Random();
    private final static int POSITIVE_MASK = 0x7FFFFFFF;

    public int incrementAndGet() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/latency/MQFaultStrategy.java`
#### Snippet
```java

public class MQFaultStrategy {
    private final static Logger log = LoggerFactory.getLogger(MQFaultStrategy.class);
    private final LatencyFaultTolerance<String> latencyFaultTolerance = new LatencyFaultToleranceImpl();

```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
public class AsyncTraceDispatcher implements TraceDispatcher {
    private final static Logger log = LoggerFactory.getLogger(AsyncTraceDispatcher.class);
    private final static AtomicInteger COUNTER = new AtomicInteger();
    private final int queueSize;
    private final int batchSize;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java

public class AsyncTraceDispatcher implements TraceDispatcher {
    private final static Logger log = LoggerFactory.getLogger(AsyncTraceDispatcher.class);
    private final static AtomicInteger COUNTER = new AtomicInteger();
    private final int queueSize;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
        "rocketmq.client.localOffsetStoreDir",
        System.getProperty("user.home") + File.separator + ".rocketmq_offsets");
    private final static Logger log = LoggerFactory.getLogger(LocalFileOffsetStore.class);
    private final MQClientInstance mQClientFactory;
    private final String groupName;
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/LocalFileOffsetStore.java`
#### Snippet
```java
 */
public class LocalFileOffsetStore implements OffsetStore {
    public final static String LOCAL_OFFSET_STORE_DIR = System.getProperty(
        "rocketmq.client.localOffsetStoreDir",
        System.getProperty("user.home") + File.separator + ".rocketmq_offsets");
```

### MissortedModifiers
Missorted modifiers `final static`
in `client/src/main/java/org/apache/rocketmq/client/consumer/store/RemoteBrokerOffsetStore.java`
#### Snippet
```java
 */
public class RemoteBrokerOffsetStore implements OffsetStore {
    private final static Logger log = LoggerFactory.getLogger(RemoteBrokerOffsetStore.class);
    private final MQClientInstance mQClientFactory;
    private final String groupName;
```

### MissortedModifiers
Missorted modifiers `transient final`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);
    private static final long LOCK_TIMEOUT_MILLIS = 3000;
    private transient final Lock lock = new ReentrantLock();

    //this data version should be equal to the TopicConfigManager
```

### MissortedModifiers
Missorted modifiers `final static`
in `broker/src/main/java/org/apache/rocketmq/broker/client/rebalance/RebalanceLockManager.java`
#### Snippet
```java
public class RebalanceLockManager {
    private static final Logger log = LoggerFactory.getLogger(LoggerName.REBALANCE_LOCK_LOGGER_NAME);
    private final static long REBALANCE_LOCK_MAX_LIVE_TIME = Long.parseLong(System.getProperty(
        "rocketmq.broker.rebalance.lockMaxLiveTime", "60000"));
    private final Lock lock = new ReentrantLock();
```

### MissortedModifiers
Missorted modifiers `transient final`
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicConfigManager.java`
#### Snippet
```java
    private static final int SCHEDULE_TOPIC_QUEUE_NUM = 18;

    private transient final Lock topicConfigTableLock = new ReentrantLock();

    private final ConcurrentMap<String, TopicConfig> topicConfigTable =
```

### MissortedModifiers
Missorted modifiers `final static`
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsManager.java`
#### Snippet
```java
    private final BrokerController brokerController;
    private final ConsumerLagCalculator consumerLagCalculator;
    private final static Map<String, String> LABEL_MAP = new HashMap<>();
    private final Map<String, Long> dlqOffsetMap = new HashMap<>();
    private OtlpGrpcMetricExporter metricExporter;
```

### MissortedModifiers
Missorted modifiers `final static`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AbstractSendMessageProcessor.java`
#### Snippet
```java
    protected List<ConsumeMessageHook> consumeMessageHookList;

    protected final static int DLQ_NUMS_PER_GROUP = 1;
    protected final BrokerController brokerController;
    protected final Random random = new Random(System.currentTimeMillis());
```

### MissortedModifiers
Missorted modifiers `final static`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/AbstractTransactionalMessageCheckListener.java`
#### Snippet
```java

    //queue nums of topic TRANS_CHECK_MAX_TIME_TOPIC
    protected final static int TCMT_QUEUE_NUMS = 1;

    private static volatile ExecutorService executorService;
```

## RuleId[ruleID=AnonymousHasLambdaAlternative]
### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

        this.appendMessageCallback = new DefaultAppendMessageCallback();
        putMessageThreadLocal = new ThreadLocal<PutMessageThreadLocal>() {
            @Override
            protected PutMessageThreadLocal initialValue() {
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
    private float lastTps = 0.0f;

    private final ThreadLocal<AtomicLong> lastTickMs = new ThreadLocal<AtomicLong>() {
        @Override
        protected AtomicLong initialValue() {
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            this.timerRollWindowSlots = storeConfig.getTimerRollWindowSlot();
        }
        bufferLocal = new ThreadLocal<ByteBuffer>() {
            @Override
            protected ByteBuffer initialValue() {
```

## RuleId[ruleID=IfStatementMissingBreakInLoop]
### IfStatementMissingBreakInLoop
Loop can be terminated after condition is met
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
            } else {
                for (int i = 0; i < addrs.size() && !update; i++) {
                    if (!old.contains(addrs.get(i))) {
                        update = true;
                    }
```

## RuleId[ruleID=ThrowFromFinallyBlock]
### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `common/src/main/java/org/apache/rocketmq/common/logging/JoranConfiguratorExt.java`
#### Snippet
```java
                    String errMsg = "Could not close input stream";
                    addError(errMsg, ioe);
                    throw new JoranException(errMsg, ioe);
                }
            }
```

## RuleId[ruleID=IfStatementWithIdenticalBranches]
### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
            } else {
                //The max timestamp of this file is smaller than the given timestamp, so double check the previous file
                if (i + 1 <=  mappedFileNum - 1) {
                    mappedFile =  mappedFileQueue.getMappedFiles().get(i + 1);
                    targetBcq = mappedFile;
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
        int storeSize = messageExt.getStoreSize();
        ByteBuffer byteBuffer;
        if (storeSize > 0) {
            byteBuffer = ByteBuffer.allocate(storeSize);
        } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/TopicPublishInfo.java`
#### Snippet
```java

    public MessageQueue selectOneMessageQueue(final String lastBrokerName) {
        if (lastBrokerName == null) {
            return selectOneMessageQueue();
        } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java

                // if subscribe data is changed, or consumer is died too long.
                if (change) {
                    ConsumerFilterData consumerFilterData = build(topic, consumerGroup, expression, type, clientVersion);
                    if (consumerFilterData == null) {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `broker/src/main/java/org/apache/rocketmq/broker/processor/NotificationProcessor.java`
#### Snippet
```java
            String key = KeyBuilder.buildPollingNotificationKey(requestHeader.getTopic(), requestHeader.getQueueId());
            ArrayBlockingQueue<NotificationRequest> queue = pollingMap.get(key);
            if (queue == null) {
                queue = new ArrayBlockingQueue<>(this.brokerController.getBrokerConfig().getPopPollingSize());
                pollingMap.put(key, queue);
```

### IfStatementWithIdenticalBranches
'if' statement can be collapsed
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                    //read the earliest one
                    if (requestOffset < minOffset) {
                        if (code == ResponseCode.PULL_OFFSET_MOVED) {
                            responseCode = ResponseCode.PULL_OFFSET_MOVED;
                            nextBeginOffset = minOffset;
```

## RuleId[ruleID=UnnecessarySuperQualifier]
### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
    @Override
    public void shutdown() {
        super.shutdown(true);
        for (AllocateRequest req : this.requestTable.values()) {
            if (req.mappedFile != null) {
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java

        if (!compress) {
            return super.encode();
        }
        long start = System.currentTimeMillis();
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
        try {
            producer.start();
            super.setStartSuccess(true);
        } catch (MQClientException e) {
            super.setStartSuccess(false);
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
            super.setStartSuccess(true);
        } catch (MQClientException e) {
            super.setStartSuccess(false);
            logger.error("", e);
            e.printStackTrace();
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
        try {
            producer.start();
            super.setStartSuccess(true);
        } catch (MQClientException e) {
            super.setStartSuccess(false);
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
            super.setStartSuccess(true);
        } catch (MQClientException e) {
            super.setStartSuccess(false);
            logger.error("producer start failed!");
            e.printStackTrace();
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `test/src/main/java/org/apache/rocketmq/test/listener/AbstractListener.java`
#### Snippet
```java

    public void stopRecv() {
        super.lockCollectors();
    }

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `broker/src/main/java/org/apache/rocketmq/broker/offset/LmqConsumerOffsetManager.java`
#### Snippet
```java
            LmqConsumerOffsetManager obj = RemotingSerializable.fromJson(jsonString, LmqConsumerOffsetManager.class);
            if (obj != null) {
                super.setOffsetTable(obj.getOffsetTable());
                this.lmqOffsetTable = obj.lmqOffsetTable;
            }
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java`
#### Snippet
```java

        response.setCode(-1);
        super.msgCheck(ctx, requestHeader, request, response);
        if (response.getCode() != -1) {
            return response;
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java

        response.setCode(-1);
        super.msgCheck(ctx, requestHeader, request, response);

        return response;
```

## RuleId[ruleID=InfiniteLoopStatement]
### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
        for (int i = 0; i < sendThreadNum; i++) {
            sendPool.execute(() -> {
                while (true) {
                    if (StatUtil.isOverFlow(pubKey, tps)) {
                        try {
```

### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
                @Override
                public void run() {
                    while (true) {
                        try {
                            if (StatUtil.isOverFlow(statKey, tps)) {
```

### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                @Override
                public void run() {
                    while (true) {
                        try {
                            Set<MessageQueue> messageQueues = consumer.fetchMessageQueuesInBalance(topic);
```

### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
                @Override
                public void run() {
                    while (true) {
                        boolean success = false;
                        final long beginTimestamp = System.currentTimeMillis();
```

## RuleId[ruleID=CodeBlock2Expr]
### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/consumer/AckMessageActivity.java`
#### Snippet
```java
                group,
                GrpcConverter.getInstance().wrapResourceWithNamespace(request.getTopic()));
            ackResultFuture.thenAccept(result -> {
                future.complete(convertToAckMessageResultEntry(ctx, ackMessageEntry, result));
            }).exceptionally(t -> {
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java

    public void scan(DataScanner scanner) {
        this.receiptHandleMap.forEach((msgID, handleMap) -> {
            handleMap.forEach((handleStr, v) -> {
                scanner.onData(msgID, handleStr, v.messageReceiptHandle);
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java
    public void scan(DataScanner scanner) {
        this.receiptHandleMap.forEach((msgID, handleMap) -> {
            handleMap.forEach((handleStr, v) -> {
                scanner.onData(msgID, handleStr, v.messageReceiptHandle);
            });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
            assert newDetail.getBname().equals(this.brokerController.getBrokerConfig().getBrokerName());

            newDetail.getHostedQueues().forEach((queueId, items) -> {
                TopicQueueMappingUtils.checkLogicQueueMappingItemOffset(items);
            });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `broker/src/main/java/org/apache/rocketmq/broker/topic/TopicQueueMappingManager.java`
#### Snippet
```java
            if (force) {
                //bakeup the old items
                oldDetail.getHostedQueues().forEach((queueId, items) -> {
                    newDetail.getHostedQueues().putIfAbsent(queueId, items);
                });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java

        public PutResultProcess thenProcess() {
            this.future.thenAccept(result -> {
                this.handleResult(result);
            });
```

## RuleId[ruleID=UseOfPropertiesAsHashtable]
### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
            for (String nameNow : clientConigKeys) {
                if (properties.containsKey(nameNow)) {
                    clientProperties.put(nameNow, properties.get(nameNow));
                }
            }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
            for (String nameNow : clientConigKeys) {
                if (properties.containsKey(nameNow)) {
                    clientProperties.put(nameNow, properties.get(nameNow));
                }
            }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
    private void merge(Properties from, Properties to) {
        for (Entry<Object, Object> next : from.entrySet()) {
            Object fromObj = next.getValue(), toObj = to.get(next.getKey());
            if (toObj != null && !toObj.equals(fromObj)) {
                log.info("Replace, key: {}, value: {} -> {}", next.getKey(), toObj, fromObj);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
                log.info("Replace, key: {}, value: {} -> {}", next.getKey(), toObj, fromObj);
            }
            to.put(next.getKey(), fromObj);
        }
    }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
            }

            Object fromObj = next.getValue(), toObj = to.get(next.getKey());
            if (toObj != null && !toObj.equals(fromObj)) {
                log.info("Replace, key: {}, value: {} -> {}", next.getKey(), toObj, fromObj);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
                log.info("Replace, key: {}, value: {} -> {}", next.getKey(), toObj, fromObj);
            }
            to.put(next.getKey(), fromObj);
        }
    }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

            if (property == null) {
                property = ((ConsumeType) info.getProperties().get(ConsumerRunningInfo.PROP_CONSUME_TYPE)).name();
            }
            push = ConsumeType.valueOf(property) == ConsumeType.CONSUME_PASSIVELY;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java

        if (property == null) {
            property = ((ConsumeType) consumerRunningInfo.getProperties().get(ConsumerRunningInfo.PROP_CONSUME_TYPE)).name();
        }
        return ConsumeType.valueOf(property) == ConsumeType.CONSUME_PASSIVELY;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumerRunningInfo.java`
#### Snippet
```java
            String property = prev.getProperties().getProperty(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP);
            if (property == null) {
                property = String.valueOf(prev.getProperties().get(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP));
            }
            startForAWhile = (System.currentTimeMillis() - Long.parseLong(property)) > (1000 * 60 * 2);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java

        String nsAddr = strBuilder.toString();
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_NAMESERVER_ADDR, nsAddr);
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_CONSUME_TYPE, mqConsumerInner.consumeType().name());
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_CLIENT_VERSION,
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        String nsAddr = strBuilder.toString();
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_NAMESERVER_ADDR, nsAddr);
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_CONSUME_TYPE, mqConsumerInner.consumeType().name());
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_CLIENT_VERSION,
            MQVersion.getVersionDesc(MQVersion.CURRENT_VERSION));
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_NAMESERVER_ADDR, nsAddr);
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_CONSUME_TYPE, mqConsumerInner.consumeType().name());
        consumerRunningInfo.getProperties().put(ConsumerRunningInfo.PROP_CLIENT_VERSION,
            MQVersion.getVersionDesc(MQVersion.CURRENT_VERSION));

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java

        Properties prop = MixAll.object2Properties(this.defaultMQPullConsumer);
        prop.put(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP, String.valueOf(this.consumerStartTimestamp));
        info.setProperties(prop);

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
        Properties prop = MixAll.object2Properties(this.defaultMQPushConsumer);

        prop.put(ConsumerRunningInfo.PROP_CONSUME_ORDERLY, String.valueOf(this.consumeOrderly));
        prop.put(ConsumerRunningInfo.PROP_THREADPOOL_CORE_SIZE, String.valueOf(this.consumeMessageService.getCorePoolSize()));
        prop.put(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP, String.valueOf(this.consumerStartTimestamp));
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java

        prop.put(ConsumerRunningInfo.PROP_CONSUME_ORDERLY, String.valueOf(this.consumeOrderly));
        prop.put(ConsumerRunningInfo.PROP_THREADPOOL_CORE_SIZE, String.valueOf(this.consumeMessageService.getCorePoolSize()));
        prop.put(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP, String.valueOf(this.consumerStartTimestamp));

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
        prop.put(ConsumerRunningInfo.PROP_CONSUME_ORDERLY, String.valueOf(this.consumeOrderly));
        prop.put(ConsumerRunningInfo.PROP_THREADPOOL_CORE_SIZE, String.valueOf(this.consumeMessageService.getCorePoolSize()));
        prop.put(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP, String.valueOf(this.consumerStartTimestamp));

        info.setProperties(prop);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

        Properties prop = MixAll.object2Properties(this.defaultLitePullConsumer);
        prop.put(ConsumerRunningInfo.PROP_CONSUMER_START_TIMESTAMP, String.valueOf(this.consumerStartTimestamp));
        info.setProperties(prop);

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
        FileUtil fileUtil = new FileUtil(filePath, fileName);
        Properties properties = new Properties();
        properties.put("xx", "yy");
        properties.put("yy", "xx");
        fileUtil.writeProperties(properties);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
        Properties properties = new Properties();
        properties.put("xx", "yy");
        properties.put("yy", "xx");
        fileUtil.writeProperties(properties);
    }
```

## RuleId[ruleID=EmptyMethod]
### EmptyMethod
All implementations of this method are empty
in `broker/src/main/java/org/apache/rocketmq/broker/mqtrace/SendMessageHook.java`
#### Snippet
```java
    void sendMessageBefore(final SendMessageContext context);

    void sendMessageAfter(final SendMessageContext context);
}

```

### EmptyMethod
All implementations of this method are empty
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/TransactionalMessageService.java`
#### Snippet
```java
     * Close transaction service.
     */
    void close();
}

```

### EmptyMethod
All implementations of this method are empty
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageService.java`
#### Snippet
```java
    void updateCorePoolSize(int corePoolSize);

    void incCorePoolSize();

    void decCorePoolSize();
```

### EmptyMethod
All implementations of this method are empty
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageService.java`
#### Snippet
```java
    void incCorePoolSize();

    void decCorePoolSize();

    int getCorePoolSize();
```

### EmptyMethod
The method is empty
in `client/src/main/java/org/apache/rocketmq/client/stat/ConsumerStatsManager.java`
#### Snippet
```java
    }

    public void start() {
    }

```

### EmptyMethod
The method is empty
in `client/src/main/java/org/apache/rocketmq/client/stat/ConsumerStatsManager.java`
#### Snippet
```java
    }

    public void shutdown() {
    }

```

### EmptyMethod
All implementations of this method are empty
in `common/src/main/java/org/apache/rocketmq/common/UnlockCallback.java`
#### Snippet
```java

public interface UnlockCallback {
    void onSuccess();

    void onException(final Throwable e);
```

### EmptyMethod
The method is empty
in `common/src/main/java/org/apache/rocketmq/common/sysflag/SubscriptionSysFlag.java`
#### Snippet
```java
    }

    public static void main(String[] args) {
    }
}
```

### EmptyMethod
The method is empty
in `container/src/main/java/org/apache/rocketmq/container/logback/BrokerLogbackConfigurator.java`
#### Snippet
```java
    public static final String SUFFIX_INNER_APPENDER = "_inner";

    public static void doConfigure(BrokerIdentity brokerIdentity) {
    }
}
```

### EmptyMethod
The method is empty
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
            executors.execute(new Runnable() {

                public void doSomething(List<MessageExt> msgs) {
                    //do your business

```

### EmptyMethod
The method is empty
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Enable tracing.
     */
    final public void enable_tracing() {
    }

```

### EmptyMethod
The method is empty
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Disable tracing.
     */
    final public void disable_tracing() {
    }

```

### EmptyMethod
Method only calls its super
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
     */
    @Override
    public String getMessage() {
        return super.getMessage();
    }
```

### EmptyMethod
The method is empty
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
        }

        private void printFlushProgress() {
            // CommitLog.log.info("how much disk fall behind memory, "
            // + CommitLog.this.mappedFileQueue.howMuchFallBehind());
```

### EmptyMethod
Method only calls its super
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java

    @Override
    public boolean load() {
        return super.load();
    }
```

### EmptyMethod
Method only calls its super
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAConnection.java`
#### Snippet
```java

        @Override
        public void shutdown() {
            super.shutdown();
        }
```

### EmptyMethod
The method is empty
in `store/src/main/java/org/apache/rocketmq/store/ha/WaitNotifyObject.java`
#### Snippet
```java
    }

    protected void onWaitEnd() {
    }

```

### EmptyMethod
The method is empty
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
    }

    public void start() {

    }
```

### EmptyMethod
The method is empty
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
    }

    public void start() {
    }

```

### EmptyMethod
All implementations of this method are empty
in `test/src/main/java/org/apache/rocketmq/test/util/parallel/ParallelTask.java`
#### Snippet
```java
    }

    public abstract void execute();

    @Override
```

## RuleId[ruleID=RedundantFieldInitialization]
### RedundantFieldInitialization
Field initialization to `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    protected int[] bufcolumn;

    protected int column = 0;
    protected int line = 1;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

    protected boolean prevCharIsCR = false;
    protected boolean prevCharIsLF = false;

    protected java.io.Reader inputStream;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    protected char[] buffer;
    protected int maxNextCharInd = 0;
    protected int inBuf = 0;
    protected int tabSize = 8;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java

    protected char[] buffer;
    protected int maxNextCharInd = 0;
    protected int inBuf = 0;
    protected int tabSize = 8;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    protected int line = 1;

    protected boolean prevCharIsCR = false;
    protected boolean prevCharIsLF = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreCheckpoint.java`
#### Snippet
```java
    private final FileChannel fileChannel;
    private final MappedByteBuffer mappedByteBuffer;
    private volatile long physicMsgTimestamp = 0;
    private volatile long logicsMsgTimestamp = 0;
    private volatile long indexMsgTimestamp = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreCheckpoint.java`
#### Snippet
```java
    private volatile long logicsMsgTimestamp = 0;
    private volatile long indexMsgTimestamp = 0;
    private volatile long masterFlushedOffset = 0;

    public StoreCheckpoint(final String scpPath) throws IOException {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreCheckpoint.java`
#### Snippet
```java
    private volatile long physicMsgTimestamp = 0;
    private volatile long logicsMsgTimestamp = 0;
    private volatile long indexMsgTimestamp = 0;
    private volatile long masterFlushedOffset = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreCheckpoint.java`
#### Snippet
```java
    private final MappedByteBuffer mappedByteBuffer;
    private volatile long physicMsgTimestamp = 0;
    private volatile long logicsMsgTimestamp = 0;
    private volatile long indexMsgTimestamp = 0;
    private volatile long masterFlushedOffset = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ReferenceResource.java`
#### Snippet
```java
    protected volatile boolean available = true;
    protected volatile boolean cleanupOver = false;
    private volatile long firstShutdownTimestamp = 0;

    public synchronized boolean hold() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ReferenceResource.java`
#### Snippet
```java
    protected final AtomicLong refCount = new AtomicLong(1);
    protected volatile boolean available = true;
    protected volatile boolean cleanupOver = false;
    private volatile long firstShutdownTimestamp = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

    int curLexState = 0;
    int defaultLexState = 0;
    int jjnewStateCnt;
    int jjround;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
    }

    int curLexState = 0;
    int defaultLexState = 0;
    int jjnewStateCnt;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/RunningFlags.java`
#### Snippet
```java
    private static final int DISK_FULL_BIT = 1 << 4;

    private volatile int flagBits = 0;

    public RunningFlags() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/QueryMessageResult.java`
#### Snippet
```java
    private long indexLastUpdatePhyoffset;

    private int bufferTotalSize = 0;

    public void addMessage(final SelectMappedBufferResult mapedBuffer) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/AppendMessageResult.java`
#### Snippet
```java
    // Consume queue's offset(step by one)
    private long logicsOffset;
    private long pagecacheRT = 0;

    private int msgNum = 1;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
    public static final ThreadLocal<Boolean> CONVERT_STRING_EXPRESSIONS = new ThreadLocal<>();

    boolean convertStringExpressions = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/PutMessageResult.java`
#### Snippet
```java
    private PutMessageStatus putMessageStatus;
    private AppendMessageResult appendMessageResult;
    private boolean remotePut = false;

    public PutMessageResult(PutMessageStatus putMessageStatus, AppendMessageResult appendMessageResult) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/GetMessageResult.java`
#### Snippet
```java
    private long maxOffset;

    private int bufferTotalSize = 0;

    private int messageCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/GetMessageResult.java`
#### Snippet
```java
    private boolean suggestPullingFromSlave = false;

    private int msgCount4Commercial = 0;
    private int commercialSizePerMsg = 4 * 1024;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/GetMessageResult.java`
#### Snippet
```java
    private int messageCount = 0;

    private boolean suggestPullingFromSlave = false;

    private int msgCount4Commercial = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/GetMessageResult.java`
#### Snippet
```java
    private int bufferTotalSize = 0;

    private int messageCount = 0;

    private boolean suggestPullingFromSlave = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    final private JJCalls[] jj2Rtns = new JJCalls[4];
    private boolean jjRescan = false;
    private int jjGc = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java

    final private JJCalls[] jj2Rtns = new JJCalls[4];
    private boolean jjRescan = false;
    private int jjGc = 0;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
        private int fileSize;
        private CountDownLatch countDownLatch = new CountDownLatch(1);
        private volatile MappedFile mappedFile = null;

        public AllocateRequest(String filePath, int fileSize) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
    private PriorityBlockingQueue<AllocateRequest> requestQueue =
        new PriorityBlockingQueue<>();
    private volatile boolean hasException = false;
    private DefaultMessageStore messageStore;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
    private ReentrantLock getLock = new ReentrantLock();

    private volatile long dispatchMaxBuffer = 0;

    private ReentrantLock samplingLock = new ReentrantLock();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
    private long messageStoreBootTimestamp = System.currentTimeMillis();
    private volatile long putMessageEntireTimeMax = 0;
    private volatile long getMessageEntireTimeMax = 0;
    // for putMessageEntireTimeMax
    private ReentrantLock putLock = new ReentrantLock();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
    private volatile LongAdder[] lastPutMessageDistributeTime;
    private long messageStoreBootTimestamp = System.currentTimeMillis();
    private volatile long putMessageEntireTimeMax = 0;
    private volatile long getMessageEntireTimeMax = 0;
    // for putMessageEntireTimeMax
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAClient.java`
#### Snippet
```java

    private long currentReportedOffset = 0;
    private int dispatchPosition = 0;
    private ByteBuffer byteBufferRead = ByteBuffer.allocate(READ_MAX_BUFFER_SIZE);
    private ByteBuffer byteBufferBackup = ByteBuffer.allocate(READ_MAX_BUFFER_SIZE);
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAClient.java`
#### Snippet
```java
    private long lastWriteTimestamp = System.currentTimeMillis();

    private long currentReportedOffset = 0;
    private int dispatchPosition = 0;
    private ByteBuffer byteBufferRead = ByteBuffer.allocate(READ_MAX_BUFFER_SIZE);
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAConnection.java`
#### Snippet
```java
        private final SocketChannel socketChannel;
        private final ByteBuffer byteBufferRead = ByteBuffer.allocate(READ_MAX_BUFFER_SIZE);
        private int processPosition = 0;
        private volatile long lastReadTimestamp = System.currentTimeMillis();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
    protected final AllocateMappedFileService allocateMappedFileService;

    protected long flushedWhere = 0;
    protected long committedWhere = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java

    protected long flushedWhere = 0;
    protected long committedWhere = 0;

    protected volatile long storeTimestamp = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
    protected long committedWhere = 0;

    protected volatile long storeTimestamp = 0;

    public MappedFileQueue(final String storePath, int mappedFileSize,
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
     * Minimum offset of the consume file queue that points to valid commit log record.
     */
    private volatile long minLogicOffset = 0;
    private ConsumeQueueExt consumeQueueExt = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
     */
    private volatile long minLogicOffset = 0;
    private ConsumeQueueExt consumeQueueExt = null;

    public ConsumeQueue(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueue.java`
#### Snippet
```java
    private class ConsumeQueueIterator implements ReferredIterator<CqUnit> {
        private SelectMappedBufferResult sbr;
        private int relativePos = 0;

        public ConsumeQueueIterator(SelectMappedBufferResult sbr) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
    class CommitRealTimeService extends FlushCommitLogService {

        private long lastCommitTimestamp = 0;

        @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
    class FlushRealTimeService extends FlushCommitLogService {
        private long lastFlushTimestamp = 0;
        private long printTimes = 0;

        @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

    class FlushRealTimeService extends FlushCommitLogService {
        private long lastFlushTimestamp = 0;
        private long printTimes = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
    protected volatile long confirmOffset = -1L;

    private volatile long beginTimeInLock = 0;

    protected final PutMessageLock putMessageLock;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
    private volatile int currentTransferEpoch = -1;
    private volatile long currentTransferEpochEndOffset = 0;
    private volatile boolean isSyncFromLastFile = false;
    private volatile boolean isAsyncLearner = false;
    private volatile long slaveId = -1;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
     * Last time ms when transfer data to slave.
     */
    private volatile long lastTransferTimeMs = 0;

    public AutoSwitchHAConnection(AutoSwitchHAService haService, SocketChannel socketChannel,
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        protected long lastWriteTimestamp = System.currentTimeMillis();
        protected long lastPrintTimestamp = System.currentTimeMillis();
        protected long transferOffset = 0;

        public AbstractWriteSocketService(final SocketChannel socketChannel) throws IOException {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
        private final ByteBuffer byteBufferRead = ByteBuffer.allocate(READ_MAX_BUFFER_SIZE);
        private final AbstractHAReader haReader;
        private int processPosition = 0;
        private volatile long lastReadTimestamp = System.currentTimeMillis();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
    private volatile boolean isSlaveSendHandshake = false;
    private volatile int currentTransferEpoch = -1;
    private volatile long currentTransferEpochEndOffset = 0;
    private volatile boolean isSyncFromLastFile = false;
    private volatile boolean isAsyncLearner = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
    private volatile long currentTransferEpochEndOffset = 0;
    private volatile boolean isSyncFromLastFile = false;
    private volatile boolean isAsyncLearner = false;
    private volatile long slaveId = -1;
    private volatile String slaveAddress;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAConnection.java`
#### Snippet
```java
     * Whether the slave have already sent a handshake message
     */
    private volatile boolean isSlaveSendHandshake = false;
    private volatile int currentTransferEpoch = -1;
    private volatile long currentTransferEpochEndOffset = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/index/IndexHeader.java`
#### Snippet
```java
public class IndexHeader {
    public static final int INDEX_HEADER_SIZE = 40;
    private static int beginTimestampIndex = 0;
    private static int endTimestampIndex = 8;
    private static int beginPhyoffsetIndex = 16;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/index/IndexFile.java`
#### Snippet
```java
    private static int hashSlotSize = 4;
    private static int indexSize = 20;
    private static int invalidIndex = 0;
    private final int hashSlotNum;
    private final int indexNum;
```

### RedundantFieldInitialization
Field initialization to `0.0f` is redundant
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java

    private long last = System.currentTimeMillis();
    private float lastTps = 0.0f;

    private final ThreadLocal<AtomicLong> lastTickMs = new ThreadLocal<AtomicLong>() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerCheckpoint.java`
#### Snippet
```java
    private volatile long lastTimerLogFlushPos = 0;
    private volatile long lastTimerQueueOffset = 0;
    private volatile long masterTimerQueueOffset = 0; // read from master
    private final DataVersion dataVersion = new DataVersion();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerCheckpoint.java`
#### Snippet
```java
    private volatile long lastReadTimeMs = 0; //if it is slave, need to read from master
    private volatile long lastTimerLogFlushPos = 0;
    private volatile long lastTimerQueueOffset = 0;
    private volatile long masterTimerQueueOffset = 0; // read from master
    private final DataVersion dataVersion = new DataVersion();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerCheckpoint.java`
#### Snippet
```java
    private final FileChannel fileChannel;
    private final MappedByteBuffer mappedByteBuffer;
    private volatile long lastReadTimeMs = 0; //if it is slave, need to read from master
    private volatile long lastTimerLogFlushPos = 0;
    private volatile long lastTimerQueueOffset = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerCheckpoint.java`
#### Snippet
```java
    private final MappedByteBuffer mappedByteBuffer;
    private volatile long lastReadTimeMs = 0; //if it is slave, need to read from master
    private volatile long lastTimerLogFlushPos = 0;
    private volatile long lastTimerQueueOffset = 0;
    private volatile long masterTimerQueueOffset = 0; // read from master
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    static class BatchConsumeQueueIterator implements ReferredIterator<CqUnit> {
        private SelectMappedBufferResult sbr;
        private int relativePos = 0;

        public BatchConsumeQueueIterator(SelectMappedBufferResult sbr) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    protected volatile long minLogicOffset = 0;

    protected volatile long maxOffsetInQueue = 0;
    protected volatile long minOffsetInQueue = -1;
    protected final int commitLogSize;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
    protected volatile long maxMsgPhyOffsetInCommitLog = -1;

    protected volatile long minLogicOffset = 0;

    protected volatile long maxOffsetInQueue = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/plugin/AbstractPluginMessageStore.java`
#### Snippet
```java

public abstract class AbstractPluginMessageStore implements MessageStore {
    protected MessageStore next = null;
    protected MessageStorePluginContext context;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
     */
    @ImportantField
    private boolean allAckInSyncStateSet = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean enableCleanExpiredOffset = false;

    private int maxAsyncPutMessageRequests = 5000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int mappedFileSizeConsumeQueue = 300000 * ConsumeQueue.CQ_STORE_UNIT_SIZE;
    // enable consume queue ext
    private boolean enableConsumeQueueExt = false;
    // ConsumeQueue extend file size, 48M
    private int mappedFileSizeConsumeQueueExt = 48 * 1024 * 1024;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    // DLedger message store config
    private boolean enableDLegerCommitLog = false;
    private String dLegerGroup;
    private String dLegerPeers;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private String timerCheckMetricsWhen = "05";

    private boolean timerSkipUnknownError = false;
    private boolean timerWarmEnable = false;
    private boolean timerStopDequeue = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    private boolean timerSkipUnknownError = false;
    private boolean timerWarmEnable = false;
    private boolean timerStopDequeue = false;
    private int timerCongestNumEachSlot = Integer.MAX_VALUE;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean offsetCheckInSlave = false;
    private boolean debugLockEnable = false;
    private boolean duplicationEnable = false;
    private boolean diskFallRecorded = true;
    private long osPageCacheBusyTimeOutMills = 1000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    private boolean enableLmq = false;
    private boolean enableMultiDispatch = false;
    private int maxLmqConsumeQueueNum = 20000;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean transientStorePoolEnable = false;
    private int transientStorePoolSize = 5;
    private boolean fastFailIfNoBufferInStorePool = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
     */
    @ImportantField
    private boolean haFlowControlEnable = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    private boolean timerEnableCheckMetrics = true;
    private boolean timerInterceptDelayLevel = false;
    private int timerMaxDelaySec = 3600 * 24 * 3;
    private boolean timerWheelEnable = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int disappearTimeAfterStart = -1;

    private boolean timerStopEnqueue = false;

    private String timerCheckMetricsWhen = "05";
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
     */
    @ImportantField
    private boolean enableAutoInSyncReplicas = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int maxLmqConsumeQueueNum = 20000;

    private boolean enableScheduleAsyncDeliver = false;
    private int scheduleAsyncDeliverMaxPendingLimit = 2000;
    private int scheduleAsyncDeliverMaxResendNum2Blocked = 3;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
     * Sync flush offset from master when broker startup, used in upgrading from old version broker.
     */
    private boolean syncMasterFlushOffsetWhenStartup = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean wakeCommitWhenPutMessage = true;
    @ImportantField
    private boolean wakeFlushWhenPutMessage = false;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean timerSkipUnknownError = false;
    private boolean timerWarmEnable = false;
    private boolean timerStopDequeue = false;
    private int timerCongestNumEachSlot = Integer.MAX_VALUE;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int haTransferBatchSize = 1024 * 32;
    @ImportantField
    private String haMasterAddress = null;
    private int haMaxGapNotInSync = 1024 * 1024 * 256;
    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean transientStorePoolEnable = false;
    private int transientStorePoolSize = 5;
    private boolean fastFailIfNoBufferInStorePool = false;

    // DLedger message store config
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
     * Whether sync from lastFile when a new broker replicas(no data) join the master.
     */
    private boolean syncFromLastFile = false;

    private boolean asyncLearner = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean enableScheduleMessageStats = true;

    private boolean enableLmq = false;
    private boolean enableMultiDispatch = false;
    private int maxLmqConsumeQueueNum = 20000;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int maxOffsetMapSize = 100 * 1024 * 1024;

    private int compactionThreadNum = 0;

    private boolean enableCompaction = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean cleanFileForciblyEnable = true;
    private boolean warmMapedFileEnable = false;
    private boolean offsetCheckInSlave = false;
    private boolean debugLockEnable = false;
    private boolean duplicationEnable = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
        + File.separator + "epochFileCheckpoint";

    private String readOnlyCommitLogStorePaths = null;

    // CommitLog file size,default is 1G
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean enableAsyncReput = true;
    //For recheck the reput
    private boolean recheckReputOffsetFromCq = false;

    // Maximum length of topic, it will be removed in the future release
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    @ImportantField
    private boolean cleanFileForciblyEnable = true;
    private boolean warmMapedFileEnable = false;
    private boolean offsetCheckInSlave = false;
    private boolean debugLockEnable = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean syncFromLastFile = false;

    private boolean asyncLearner = false;

    public boolean isDebugLockEnable() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int maxMsgsNumBatch = 64;
    @ImportantField
    private boolean messageIndexSafe = false;
    private int haListenPort = 10912;
    private int haSendHeartbeatInterval = 1000 * 5;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    @ImportantField
    private String storePathDLedgerCommitLog = null;

    //The directory in which the epochFile is kept
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean dispatchFromSenderThread = false;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    //The directory in which the commitlog is kept
    @ImportantField
    private String storePathCommitLog = null;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private boolean warmMapedFileEnable = false;
    private boolean offsetCheckInSlave = false;
    private boolean debugLockEnable = false;
    private boolean duplicationEnable = false;
    private boolean diskFallRecorded = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private String dLegerSelfId;
    private String preferredLeaderId;
    private boolean isEnableBatchPush = false;

    private boolean enableScheduleMessageStats = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/config/MessageStoreConfig.java`
#### Snippet
```java
    private int timerPutMessageThreadNum = 3;

    private boolean timerEnableDisruptor = false;

    private boolean timerEnableCheckMetrics = true;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
     */
    protected ByteBuffer writeBuffer = null;
    protected TransientStorePool transientStorePool = null;
    protected String fileName;
    protected long fileFromOffset;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
    protected MappedByteBuffer mappedByteBufferWaitToClean = null;
    protected long swapMapTime = 0L;
    protected long mappedByteBufferAccessCountSinceLastSwap = 0L;

    static {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
    private long lastFlushTime = -1L;

    protected MappedByteBuffer mappedByteBufferWaitToClean = null;
    protected long swapMapTime = 0L;
    protected long mappedByteBufferAccessCountSinceLastSwap = 0L;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java

    protected MappedByteBuffer mappedByteBufferWaitToClean = null;
    protected long swapMapTime = 0L;
    protected long mappedByteBufferAccessCountSinceLastSwap = 0L;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
     * Message will put to here first, and then reput to FileChannel if writeBuffer is not null.
     */
    protected ByteBuffer writeBuffer = null;
    protected TransientStorePool transientStorePool = null;
    protected String fileName;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
    protected File file;
    protected MappedByteBuffer mappedByteBuffer;
    protected volatile long storeTimestamp = 0;
    protected boolean firstCreateInQueue = false;
    private long lastFlushTime = -1L;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java
    protected MappedByteBuffer mappedByteBuffer;
    protected volatile long storeTimestamp = 0;
    protected boolean firstCreateInQueue = false;
    private long lastFlushTime = -1L;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    class ReputMessageService extends ServiceThread {

        private volatile long reputFromOffset = 0;

        public long getReputFromOffset() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        private long lastRedeleteTimestamp = 0;

        private volatile int manualDeleteFileSeveralTimes = 0;

        private volatile boolean cleanImmediately = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        private volatile int manualDeleteFileSeveralTimes = 0;

        private volatile boolean cleanImmediately = false;

        private int forceCleanFailedTimes = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        private final String diskSpaceCleanForciblyRatio =
            System.getProperty("rocketmq.broker.diskSpaceCleanForciblyRatio", "");
        private long lastRedeleteTimestamp = 0;

        private volatile int manualDeleteFileSeveralTimes = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    class FlushConsumeQueueService extends ServiceThread {
        private static final int RETRY_TIMES_OVER = 3;
        private long lastFlushTimestamp = 0;

        private void doFlush(int retryTimes) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        private volatile boolean cleanImmediately = false;

        private int forceCleanFailedTimes = 0;

        double getDiskSpaceWarningLevelRatio() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    // If current broker is slave, this reference point to the store of master broker, and the two stores belong to
    // different broker groups.
    private MessageStore masterStoreInProcess = null;

    private volatile long masterFlushedOffset = -1L;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java

    class CleanConsumeQueueService {
        private long lastPhysicalMinOffset = 0;

        public void run() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    private FileLock lock;

    boolean shutDownNormal = false;
    // Max pull msg size
    private final static int MAX_PULL_MSG_SIZE = 128 * 1024 * 1024;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java

    private final MessageSerializer messageSerializer;
    private volatile long beginTimeInDledgerLock = 0;

    //This offset separate the old commitlog from dledger commitlog
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
    private long dividedCommitlogOffset = -1;

    private boolean isInrecoveringOldCommitlog = false;

    private final StringBuilder msgIdBuilder = new StringBuilder();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
    private static NettyServerConfig nettyServerConfig = null;
    private static NettyClientConfig nettyClientConfig = null;
    private static ControllerConfig controllerConfig = null;

    public static void main(String[] args) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
    private static Logger log;
    private static Properties properties = null;
    private static NamesrvConfig namesrvConfig = null;
    private static NettyServerConfig nettyServerConfig = null;
    private static NettyClientConfig nettyClientConfig = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
    private static NamesrvConfig namesrvConfig = null;
    private static NettyServerConfig nettyServerConfig = null;
    private static NettyClientConfig nettyClientConfig = null;
    private static ControllerConfig controllerConfig = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
    private static Properties properties = null;
    private static NamesrvConfig namesrvConfig = null;
    private static NettyServerConfig nettyServerConfig = null;
    private static NettyClientConfig nettyClientConfig = null;
    private static ControllerConfig controllerConfig = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java

    private static Logger log;
    private static Properties properties = null;
    private static NamesrvConfig namesrvConfig = null;
    private static NettyServerConfig nettyServerConfig = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvController.java`
#### Snippet
```java

        FileWatchService.Listener listener = new FileWatchService.Listener() {
            boolean certChanged, keyChanged = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    private AtomicInteger frequency = new AtomicInteger(0);
    //the dequeue is an asynchronous process, use this flag to track if the status has changed
    private boolean dequeueStatusChangeFlag = false;
    private long shouldStartTime;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    public static final int MAGIC_ROLL = 1 << 1;
    public static final int MAGIC_DELETE = 1 << 2;
    public boolean debug = false;

    private static final Logger LOGGER = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/GlobalExceptionInterceptor.java`
#### Snippet
```java
    private static class ClosableServerCall<R, W> extends
        ForwardingServerCall.SimpleForwardingServerCall<R, W> {
        private boolean closeCalled = false;

        ClosableServerCall(ServerCall<R, W> delegate) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ReceiptHandleGroup.java`
#### Snippet
```java
    public static class HandleData {
        private final Semaphore semaphore = new Semaphore(1);
        private volatile boolean needRemove = false;
        private volatile MessageReceiptHandle messageReceiptHandle;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `proxy/src/main/java/org/apache/rocketmq/proxy/metrics/ProxyMetricsManager.java`
#### Snippet
```java
    private PrometheusHttpServer prometheusHttpServer;

    public static ObservableLongGauge proxyUp = null;

    public static void initLocalMode(BrokerMetricsManager brokerMetricsManager, ProxyConfig proxyConfig) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/ProxyConfig.java`
#### Snippet
```java
    private int grpcBossLoopNum = 1;
    private int grpcWorkerLoopNum = PROCESSOR_NUMBER * 2;
    private boolean enableGrpcEpoll = false;
    private int grpcThreadPoolNums = 16 + PROCESSOR_NUMBER * 2;
    private int grpcThreadPoolQueueCapacity = 100000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/ProxyConfig.java`
#### Snippet
```java
    private String metricsLabel = "";

    private boolean metricsInDelta = false;

    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/ProxyConfig.java`
#### Snippet
```java
    private long renewSchedulePeriodMillis = TimeUnit.SECONDS.toMillis(5);

    private boolean enableACL = false;

    private boolean useDelayLevel = true;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerConfig.java`
#### Snippet
```java
    private String brokerContainerIP = NetworkUtil.getLocalAddress();

    private String brokerConfigPaths = null;

    public String getRocketmqHome() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean fetchNameSrvAddrByDnsLookup = false;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean fetchNamesrvAddrByAddressServer = false;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
    public static Logger log;
    public static final SystemConfigFileHelper CONFIG_FILE_HELPER = new SystemConfigFileHelper();
    public static String rocketmqHome = null;

    public static void main(String[] args) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
    private static final String PRINT_PROPERTIES_OPTION = "p";
    private static final String PRINT_IMPORTANT_PROPERTIES_OPTION = "m";
    public static Properties properties = null;
    public static CommandLine commandLine = null;
    public static String configFile = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java

            Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
                private volatile boolean hasShutdown = false;
                private AtomicInteger shutdownTimes = new AtomicInteger(0);

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
    public static Properties properties = null;
    public static CommandLine commandLine = null;
    public static String configFile = null;
    public static Logger log;
    public static final SystemConfigFileHelper CONFIG_FILE_HELPER = new SystemConfigFileHelper();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
    private static final String PRINT_IMPORTANT_PROPERTIES_OPTION = "m";
    public static Properties properties = null;
    public static CommandLine commandLine = null;
    public static String configFile = null;
    public static Logger log;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
    private List<Object> configObjectList = new ArrayList<>(4);
    private String storePath;
    private boolean storePathFromConfig = false;
    private Object storePathObject;
    private Field storePathField;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyServerConfig.java`
#### Snippet
```java
     * --host=x86_64-linux-gnu \ --build=x86_64-pc-linux-gnu \ --without-gd
     */
    private boolean useEpollNativeSelector = false;

    public String getBindAddress() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyServerConfig.java`
#### Snippet
```java
     */
    private String bindAddress = "0.0.0.0";
    private int listenPort = 0;
    private int serverWorkerThreads = 8;
    private int serverCallbackExecutorThreads = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyServerConfig.java`
#### Snippet
```java
    private int listenPort = 0;
    private int serverWorkerThreads = 8;
    private int serverCallbackExecutorThreads = 0;
    private int serverSelectorThreads = 3;
    private int serverOnewaySemaphoreValue = 256;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/ResponseFuture.java`
#### Snippet
```java
    private volatile boolean sendRequestOK = true;
    private volatile Throwable cause;
    private volatile boolean interrupted = false;

    public ResponseFuture(Channel channel, int opaque, long timeoutMillis, InvokeCallback invokeCallback,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/RequestTask.java`
#### Snippet
```java
    private final Channel channel;
    private final RemotingCommand request;
    private volatile boolean stopRun = false;

    public RequestTask(final Runnable runnable, final Channel channel, final RemotingCommand request) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyClientConfig.java`
#### Snippet
```java

    private boolean disableCallbackExecutor = false;
    private boolean disableNettyWorkerGroup = false;

    public boolean isClientCloseSocketIfTimeout() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyClientConfig.java`
#### Snippet
```java
    private int writeBufferLowWaterMark = NettySystemConfig.writeBufferLowWaterMark;

    private boolean disableCallbackExecutor = false;
    private boolean disableNettyWorkerGroup = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyClientConfig.java`
#### Snippet
```java
    private int clientSocketSndBufSize = NettySystemConfig.socketSndbufSize;
    private int clientSocketRcvBufSize = NettySystemConfig.socketRcvbufSize;
    private boolean clientPooledByteBufAllocatorEnable = false;
    private boolean clientCloseSocketIfTimeout = NettySystemConfig.clientCloseSocketIfTimeout;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
    private static final long JOIN_TIME = 90 * 1000;
    protected final Thread thread;
    protected volatile boolean hasNotified = false;
    protected volatile boolean stopped = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java
    protected final Thread thread;
    protected volatile boolean hasNotified = false;
    protected volatile boolean stopped = false;

    public ServiceThread() {
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/DataVersion.java`
#### Snippet
```java

public class DataVersion extends RemotingSerializable {
    private long stateVersion = 0L;
    private long timestamp = System.currentTimeMillis();
    private AtomicLong counter = new AtomicLong(0);
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
    private static class NettyBridgeLogger implements io.netty.util.internal.logging.InternalLogger {

        private Logger logger = null;

        private static final String EXCEPTION_MESSAGE = "Unexpected exception:";
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/UnlockBatchRequestBody.java`
#### Snippet
```java
    private String consumerGroup;
    private String clientId;
    private boolean onlyThisBroker = false;
    private Set<MessageQueue> mqSet = new HashSet<>();

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/HARuntimeInfo.java`
#### Snippet
```java
        private long lastWriteTimestamp;
        private long masterFlushOffset;
        private boolean isActivated = false;

        public String getMasterAddr() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/SetMessageRequestModeRequestBody.java`
#### Snippet
```java
    consumer working in pop mode could share the MessageQueues assigned to the N (N = popShareQueueNum) consumers following it in the cid list
     */
    private int popShareQueueNum = 0;

    public SetMessageRequestModeRequestBody() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ConsumeMessageDirectlyResult.java`
#### Snippet
```java

public class ConsumeMessageDirectlyResult extends RemotingSerializable {
    private boolean order = false;
    private boolean autoCommit = true;
    private CMResult consumeResult;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/LockBatchRequestBody.java`
#### Snippet
```java
    private String consumerGroup;
    private String clientId;
    private boolean onlyThisBroker = false;
    private Set<MessageQueue> mqSet = new HashSet<>();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
    private int code;
    private LanguageCode language = LanguageCode.JAVA;
    private int version = 0;
    private int opaque = requestId.getAndIncrement();
    private int flag = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
    private int version = 0;
    private int opaque = requestId.getAndIncrement();
    private int flag = 0;
    private String remark;
    private HashMap<String, String> extFields;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/admin/ConsumeStats.java`
#### Snippet
```java
public class ConsumeStats extends RemotingSerializable {
    private Map<MessageQueue, OffsetWrapper> offsetTable = new ConcurrentHashMap<>();
    private double consumeTps = 0;

    public long computeTotalDiff() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ReplyMessageRequestHeader.java`
#### Snippet
```java
    private Integer reconsumeTimes;
    @CFNullable
    private boolean unitMode = false;

    @CFNotNull
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/route/BrokerData.java`
#### Snippet
```java
     * Enable acting master or not, used for old version HA adaption,
     */
    private boolean enableActingMaster = false;

    public BrokerData() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/SendMessageRequestHeader.java`
#### Snippet
```java
    private boolean unitMode = false;
    @CFNullable
    private boolean batch = false;
    private Integer maxReconsumeTimes;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/SendMessageRequestHeader.java`
#### Snippet
```java
    private Integer reconsumeTimes;
    @CFNullable
    private boolean unitMode = false;
    @CFNullable
    private boolean batch = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/DeleteSubscriptionGroupRequestHeader.java`
#### Snippet
```java
    private String groupName;

    private boolean cleanOffset = false;

    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/NotificationResponseHeader.java`
#### Snippet
```java

    @CFNotNull
    private boolean hasMsg = false;

    public boolean isHasMsg() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ConsumerSendMsgBackRequestHeader.java`
#### Snippet
```java
    private String originTopic;
    @CFNullable
    private boolean unitMode = false;
    private Integer maxReconsumeTimes;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/controller/CleanControllerBrokerDataRequestHeader.java`
#### Snippet
```java
    private String brokerAddress;

    private boolean isCleanLivingBroker = false;

    public CleanControllerBrokerDataRequestHeader() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/heartbeat/SubscriptionData.java`
#### Snippet
```java
public class SubscriptionData implements Comparable<SubscriptionData> {
    public final static String SUB_ALL = "*";
    private boolean classFilterMode = false;
    private String topic;
    private String subString;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/subscription/SubscriptionGroupConfig.java`
#### Snippet
```java
    private boolean notifyConsumerIdsChangedEnable = true;

    private int groupSysFlag = 0;

    // Only valid for push consumer
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/subscription/SubscriptionGroupConfig.java`
#### Snippet
```java
    private boolean consumeFromMinEnable = true;
    private boolean consumeBroadcastEnable = true;
    private boolean consumeMessageOrderly = false;

    private int retryQueueNums = 1;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
    private static Logger log;
    private static Properties properties = null;
    private static CommandLine commandLine = null;

    public static void main(String[] args) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java

    private static Logger log;
    private static Properties properties = null;
    private static CommandLine commandLine = null;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerIdentity.java`
#### Snippet
```java
    // Do not set it manually, it depends on the startup mode
    // Broker start by BrokerStartup is false, start or add by BrokerContainer is true
    private boolean isInBrokerContainer = false;

    public BrokerIdentity() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerIdentity.java`
#### Snippet
```java
    private volatile long brokerId = MixAll.MASTER_ID;

    private boolean isBrokerContainer = false;

    // Do not set it manually, it depends on the startup mode
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/TopicConfig.java`
#### Snippet
```java
    private TopicFilterType topicFilterType = TopicFilterType.SINGLE_TAG;
    private int topicSysFlag = 0;
    private boolean order = false;
    // Field attributes should not have ' ' char in key or value, otherwise will lead to decode failure.
    private Map<String, String> attributes = new HashMap<>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `common/src/main/java/org/apache/rocketmq/common/TopicConfig.java`
#### Snippet
```java
    private int perm = PermName.PERM_READ | PermName.PERM_WRITE;
    private TopicFilterType topicFilterType = TopicFilterType.SINGLE_TAG;
    private int topicSysFlag = 0;
    private boolean order = false;
    // Field attributes should not have ' ' char in key or value, otherwise will lead to decode failure.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/ServiceThread.java`
#### Snippet
```java
    protected final CountDownLatch2 waitPoint = new CountDownLatch2(1);
    protected volatile AtomicBoolean hasNotified = new AtomicBoolean(false);
    protected volatile boolean stopped = false;
    protected boolean isDaemon = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/ServiceThread.java`
#### Snippet
```java
    protected volatile AtomicBoolean hasNotified = new AtomicBoolean(false);
    protected volatile boolean stopped = false;
    protected boolean isDaemon = false;

    //Make it able to restart the thread
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/ControllerConfig.java`
#### Snippet
```java
     * Whether process read event
     */
    private boolean isProcessReadEvent = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/ControllerConfig.java`
#### Snippet
```java
     * Whether the controller can elect a master which is not in the syncStateSet.
     */
    private boolean enableElectUncleanMaster = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private String metricsLabel = "";

    private boolean metricsInDelta = false;

    public long getMaxPopPollingSize() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
     */
    @ImportantField
    private boolean aclEnable = false;

    private boolean storeReplyMessageEnable = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean recoverConcurrently = false;

    private int brokerPermission = PermName.PERM_READ | PermName.PERM_WRITE;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean enableRemoteEscape = false;

    private boolean skipPreOnline = false;

    private boolean asyncSendEnable = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean enableSlaveActingMaster = false;

    private boolean enableRemoteEscape = false;

    private boolean skipPreOnline = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
     * when enableSlaveActingMaster is true
     */
    private boolean enableSlaveActingMaster = false;

    private boolean enableRemoteEscape = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
     * Whether to distinguish log paths when multiple brokers are deployed on the same machine
     */
    private boolean isolateLogEnable = false;

    private long forwardTimeout = 3 * 1000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java

    //Reject the pull consumer instance to pull messages from broker.
    private boolean rejectPullConsumerEnable = false;

    // Expect num of consumers will use filter.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean enablePropertyFilter = false;

    private boolean compressedRegister = false;

    private boolean forceRegister = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    // whether do filter when retry.
    private boolean filterSupportRetry = false;
    private boolean enablePropertyFilter = false;

    private boolean compressedRegister = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
     * Is startup controller mode, which support auto switch broker's role.
     */
    private boolean enableControllerMode = false;

    private String controllerAddr = "";
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private String msgTraceTopicName = TopicValidator.RMQ_SYS_TRACE_TOPIC;
    @ImportantField
    private boolean traceTopicEnable = false;
    /**
     * thread numbers for send message thread pool.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean asyncSendEnable = true;

    private boolean useServerSideResetOffset = false;

    private long consumerOffsetUpdateVersionStep = 500;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private long reviveAckWaitMs = TimeUnit.MINUTES.toMillis(3);
    private boolean enablePopLog = false;
    private boolean enablePopBufferMerge = false;
    private int popCkStayBufferTime = 10 * 1000;
    private int popCkStayBufferTimeOut = 3 * 1000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
     * True: need to lock quorum replicas succeed. False: only need to lock one replica succeed.
     */
    private boolean lockInStrictMode = false;

    private boolean compatibleWithOldNameSrv = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean notifyConsumerIdsChangedEnable = true;

    private boolean highSpeedMode = false;

    private int commercialBaseCount = 1;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean enableDetailStat = true;

    private boolean autoDeleteUnusedStats = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private long brokerNotActiveTimeoutMillis = 10 * 1000;

    private boolean enableNetWorkFlowControl = false;

    private boolean enableBroadcastOffsetStore = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean slaveReadEnable = false;

    private boolean disableConsumeIfConsumerReadSlowly = false;
    private long consumerFallbehindThreshold = 1024L * 1024 * 1024 * 16;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private int loadBalanceThreadPoolQueueCapacity = 100000;

    private int filterServerNums = 0;

    private boolean longPollingEnable = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java

    // whether do filter when retry.
    private boolean filterSupportRetry = false;
    private boolean enablePropertyFilter = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean fetchNamesrvAddrByAddressServer = false;

    private int sendThreadPoolQueueCapacity = 10000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    // 1. Calculate filter bit map when construct queue.
    // 2. Filter bit map will be saved to consume queue extend file if allowed.
    private boolean enableCalcFilterBitMap = false;

    //Reject the pull consumer instance to pull messages from broker.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private long reviveMaxSlow = 3;
    private long reviveScanTime = 10000;
    private boolean enableSkipLongAwaitingAck = false;
    private long reviveAckWaitMs = TimeUnit.MINUTES.toMillis(3);
    private boolean enablePopLog = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);

    private String brokerConfigPath = null;

    private String rocketmqHome = System.getProperty(MixAll.ROCKETMQ_HOME_PROPERTY, System.getenv(MixAll.ROCKETMQ_HOME_ENV));
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean fetchNameSrvAddrByDnsLookup = false;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private boolean enableSkipLongAwaitingAck = false;
    private long reviveAckWaitMs = TimeUnit.MINUTES.toMillis(3);
    private boolean enablePopLog = false;
    private boolean enablePopBufferMerge = false;
    private int popCkStayBufferTime = 10 * 1000;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java

    @ImportantField
    private boolean rejectTransactionMessage = false;

    @ImportantField
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private long waitTimeMillsInAckQueue = 3000;

    private long startAcceptSendRequestTimeStamp = 0L;

    private boolean traceOn = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfig.java`
#### Snippet
```java
    private int sendHeartbeatTimeoutMillis = 1000;

    private boolean slaveReadEnable = false;

    private boolean disableConsumeIfConsumerReadSlowly = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java

    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);
    private static boolean isLinuxPlatform = false;
    private static boolean isWindowsPlatform = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);
    private static boolean isLinuxPlatform = false;
    private static boolean isWindowsPlatform = false;

    static {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExtBatch.java`
#### Snippet
```java
     * Inner batch means the batch dose not need to be unwrapped
     */
    private boolean isInnerBatch = false;
    public ByteBuffer wrap() {
        assert getBody() != null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvConfig.java`
#### Snippet
```java
    private boolean enableControllerInNamesrv = false;

    private volatile boolean needWaitForService = false;

    private int waitSecondsForService = 45;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvConfig.java`
#### Snippet
```java
    private String configStorePath = System.getProperty("user.home") + File.separator + "namesrv" + File.separator + "namesrv.properties";
    private String productEnvName = "center";
    private boolean clusterTest = false;
    private boolean orderMessageEnable = false;
    private boolean returnOrderTopicConfigToBroker = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvConfig.java`
#### Snippet
```java
    private volatile boolean enableTopicList = true;

    private volatile boolean notifyMinBrokerIdChanged = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvConfig.java`
#### Snippet
```java
     * 3. support query earliest msg store time.
     */
    private boolean supportActingMaster = false;

    private volatile boolean enableAllTopicList = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvConfig.java`
#### Snippet
```java
    private String productEnvName = "center";
    private boolean clusterTest = false;
    private boolean orderMessageEnable = false;
    private boolean returnOrderTopicConfigToBroker = true;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvConfig.java`
#### Snippet
```java
     * Is startup the controller in this name-srv
     */
    private boolean enableControllerInNamesrv = false;

    private volatile boolean needWaitForService = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        Map<Integer, String> idToBroker = new HashMap<>();
        //used for remapping
        Map<String, Integer> brokerNumMapBeforeRemapping = null;
        int currentIndex = 0;
        Random random = new Random();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
        //used for remapping
        Map<String, Integer> brokerNumMapBeforeRemapping = null;
        int currentIndex = 0;
        Random random = new Random();
        List<String> leastBrokers = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/hook/CheckForbiddenContext.java`
#### Snippet
```java
    private Exception exception;
    private Object arg;
    private boolean unitMode = false;

    public String getGroup() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/ClientConfig.java`
#### Snippet
```java
    private int clientCallbackExecutorThreads = Runtime.getRuntime().availableProcessors();
    protected String namespace;
    private boolean namespaceInitialized = false;
    protected AccessChannel accessChannel = AccessChannel.LOCAL;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/ClientConfig.java`
#### Snippet
```java
     * And it will also generate a different client id to prevent unexpected reuses of MQClientInstance.
     */
    protected boolean enableStreamRequestType = false;

    public String buildMQClientId() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/ClientConfig.java`
#### Snippet
```java
    private int persistConsumerOffsetInterval = 1000 * 5;
    private long pullTimeDelayMillsWhenException = 1000;
    private boolean unitMode = false;
    private String unitName;
    private boolean decodeReadBody = Boolean.parseBoolean(System.getProperty(DECODE_READ_BODY, "true"));
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullRequest.java`
#### Snippet
```java
    private ProcessQueue processQueue;
    private long nextOffset;
    private boolean previouslyLocked = false;

    public boolean isPreviouslyLocked() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
        private MessageQueue messageQueue;
        private ProcessQueue processQueue;
        private volatile boolean paused = false;
        private volatile long pullOffset = -1;
        private volatile long consumeOffset = -1;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
        private final PopProcessQueue processQueue;
        private final MessageQueue messageQueue;
        private int shardingKeyIndex = 0;

        public ConsumeRequest(PopProcessQueue processQueue, MessageQueue messageQueue) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    private final MessageQueueLock consumeRequestLock = new MessageQueueLock();
    private final ScheduledExecutorService scheduledExecutorService;
    private volatile boolean stopped = false;

    public ConsumeMessagePopOrderlyService(DefaultMQPushConsumerImpl defaultMQPushConsumerImpl,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
    private final MessageQueueLock messageQueueLock = new MessageQueueLock();
    private final ScheduledExecutorService scheduledExecutorService;
    private volatile boolean stopped = false;

    public ConsumeMessageOrderlyService(DefaultMQPushConsumerImpl defaultMQPushConsumerImpl,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PopRequest.java`
#### Snippet
```java
    private MessageQueue messageQueue;
    private PopProcessQueue popProcessQueue;
    private boolean lockedFirst = false;
    private int initMode = ConsumeInitMode.MAX;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PopProcessQueue.java`
#### Snippet
```java
    private long lastPopTimestamp;
    private AtomicInteger waitAckCounter = new AtomicInteger(0);
    private volatile boolean dropped = false;

    public long getLastPopTimestamp() {
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    private final TreeMap<Long, MessageExt> consumingMsgOrderlyTreeMap = new TreeMap<>();
    private final AtomicLong tryUnlockTimes = new AtomicLong(0);
    private volatile long queueOffsetMax = 0L;
    private volatile boolean dropped = false;
    private volatile long lastPullTimestamp = System.currentTimeMillis();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    private volatile long lastPullTimestamp = System.currentTimeMillis();
    private volatile long lastConsumeTimestamp = System.currentTimeMillis();
    private volatile boolean locked = false;
    private volatile long lastLockTimestamp = System.currentTimeMillis();
    private volatile boolean consuming = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    private volatile long lastLockTimestamp = System.currentTimeMillis();
    private volatile boolean consuming = false;
    private volatile long msgAccCnt = 0;

    public boolean isLockExpired() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    private final AtomicLong tryUnlockTimes = new AtomicLong(0);
    private volatile long queueOffsetMax = 0L;
    private volatile boolean dropped = false;
    private volatile long lastPullTimestamp = System.currentTimeMillis();
    private volatile long lastConsumeTimestamp = System.currentTimeMillis();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
    private volatile boolean locked = false;
    private volatile long lastLockTimestamp = System.currentTimeMillis();
    private volatile boolean consuming = false;
    private volatile long msgAccCnt = 0;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullAPIWrapper.java`
#### Snippet
```java
    private ConcurrentMap<MessageQueue, AtomicLong/* brokerId */> pullFromWhichNodeTable =
        new ConcurrentHashMap<>(32);
    private volatile boolean connectBrokerByUser = false;
    private volatile long defaultBrokerId = MixAll.MASTER_ID;
    private Random random = new Random(System.nanoTime());
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/TopicPublishInfo.java`
#### Snippet
```java

public class TopicPublishInfo {
    private boolean orderTopic = false;
    private boolean haveTopicRouterInfo = false;
    private List<MessageQueue> messageQueueList = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/TopicPublishInfo.java`
#### Snippet
```java
public class TopicPublishInfo {
    private boolean orderTopic = false;
    private boolean haveTopicRouterInfo = false;
    private List<MessageQueue> messageQueueList = new ArrayList<>();
    private volatile ThreadLocalIndex sendWhichQueue = new ThreadLocalIndex();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
        private final MessageQueue messageQueue;
        private long popTime = 0;
        private long invisibleTime = 0;

        public ConsumeRequest(List<MessageExt> msgs, PopProcessQueue processQueue, MessageQueue messageQueue) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
        private final PopProcessQueue processQueue;
        private final MessageQueue messageQueue;
        private long popTime = 0;
        private long invisibleTime = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceContext.java`
#### Snippet
```java
    private String regionName = "";
    private String groupName = "";
    private int costTime = 0;
    private boolean isSuccess = true;
    private String requestId = MessageClientIDSetter.createUniqID();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceContext.java`
#### Snippet
```java
    private boolean isSuccess = true;
    private String requestId = MessageClientIDSetter.createUniqID();
    private int contextCode = 0;
    private List<TraceBean> traceBeans;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
    private final TopAddressing topAddressing;
    private final ClientRemotingProcessor clientRemotingProcessor;
    private String nameSrvAddr = null;
    private ClientConfig clientConfig;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private MQClientInstance mQClientFactory;
    private PullAPIWrapper pullAPIWrapper;
    private volatile boolean pause = false;
    private boolean consumeOrderly = false;
    private MessageListener messageListenerInner;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private PullAPIWrapper pullAPIWrapper;
    private volatile boolean pause = false;
    private boolean consumeOrderly = false;
    private MessageListener messageListenerInner;
    private OffsetStore offsetStore;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java

    // only for test purpose, will be modified by reflection in unit test.
    @SuppressWarnings("FieldMayBeFinal") private static boolean doNotUpdateTopicSubscribeInfoWhenSubscriptionChanged = false;

    public DefaultMQPushConsumerImpl(DefaultMQPushConsumer defaultMQPushConsumer, RPCHook rpcHook) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private ConsumeMessageService consumeMessagePopService;
    private long queueFlowControlTimes = 0;
    private long queueMaxSpanFlowControlTimes = 0;

    //10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
    private ConsumeMessageService consumeMessageService;
    private ConsumeMessageService consumeMessagePopService;
    private long queueFlowControlTimes = 0;
    private long queueMaxSpanFlowControlTimes = 0;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/latency/MQFaultStrategy.java`
#### Snippet
```java
    private final LatencyFaultTolerance<String> latencyFaultTolerance = new LatencyFaultToleranceImpl();

    private boolean sendLatencyFaultEnable = false;

    private long[] latencyMax = {50L, 100L, 550L, 1000L, 2000L, 3000L, 15000L};
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
    private ArrayBlockingQueue<Runnable> appenderQueue;
    private volatile Thread shutDownHook;
    private volatile boolean stopped = false;
    private DefaultMQProducerImpl hostProducer;
    private DefaultMQPushConsumerImpl hostConsumer;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/trace/AsyncTraceDispatcher.java`
#### Snippet
```java
        if (shutDownHook == null) {
            shutDownHook = new Thread(new Runnable() {
                private volatile boolean hasShutdown = false;

                @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/listener/ConsumeConcurrentlyContext.java`
#### Snippet
```java
     * >0,client control retry frequency
     */
    private int delayLevelWhenNextConsume = 0;
    private int ackIndex = Integer.MAX_VALUE;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/MQPullConsumerScheduleService.java`
#### Snippet
```java
    public class PullTaskImpl implements Runnable {
        private final MessageQueue messageQueue;
        private volatile boolean cancelled = false;

        public PullTaskImpl(final MessageQueue messageQueue) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPullConsumer.java`
#### Snippet
```java
     * Whether the unit of subscription group
     */
    private boolean unitMode = false;

    private int maxReconsumeTimes = 16;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * Whether update subscription relationship when every pull
     */
    private boolean postSubscriptionWhenPull = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * Message pull Interval
     */
    private long pullInterval = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * Interface of asynchronous transfer data
     */
    private TraceDispatcher traceDispatcher = null;

    // force to use client rebalance
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * Maximum time to await message consuming when shutdown consumer, 0 indicates no await.
     */
    private long awaitTerminationMillisWhenShutdown = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * Whether the unit of subscription group
     */
    private boolean unitMode = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/producer/RequestResponseFuture.java`
#### Snippet
```java
    private long timeoutMillis;
    private CountDownLatch countDownLatch = new CountDownLatch(1);
    private volatile Message responseMsg = null;
    private volatile boolean sendRequestOk = true;
    private volatile Throwable cause = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/producer/RequestResponseFuture.java`
#### Snippet
```java
    private volatile Message responseMsg = null;
    private volatile boolean sendRequestOk = true;
    private volatile Throwable cause = null;

    public RequestResponseFuture(String correlationId, long timeoutMillis, RequestCallback requestCallback) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultLitePullConsumer.java`
#### Snippet
```java
     * The flag for message trace
     */
    private boolean enableMsgTrace = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultLitePullConsumer.java`
#### Snippet
```java
     * Interface of asynchronous transfer data
     */
    private TraceDispatcher traceDispatcher = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultLitePullConsumer.java`
#### Snippet
```java
     * Whether the unit of subscription group
     */
    private boolean unitMode = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/producer/RequestFutureHolder.java`
#### Snippet
```java
    private ConcurrentHashMap<String, RequestResponseFuture> requestFutureTable = new ConcurrentHashMap<>();
    private final Set<DefaultMQProducerImpl> producerSet = new HashSet<>();
    private ScheduledExecutorService scheduledExecutorService = null;

    public ConcurrentHashMap<String, RequestResponseFuture> getRequestFutureTable() {
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private long queueFlowControlTimes = 0L;

    private long queueMaxSpanFlowControlTimes = 0L;

    private long nextAutoCommitDeadline = -1L;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private long consumeRequestFlowControlTimes = 0L;

    private long queueFlowControlTimes = 0L;

    private long queueMaxSpanFlowControlTimes = 0L;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private Map<String, Set<MessageQueue>> messageQueuesForTopic = new HashMap<>();

    private long consumeRequestFlowControlTimes = 0L;

    private long queueFlowControlTimes = 0L;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    public class PullTaskImpl implements Runnable {
        private final MessageQueue messageQueue;
        private volatile boolean cancelled = false;
        private Thread currentThread;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

    // only for test purpose, will be modified by reflection in unit test.
    @SuppressWarnings("FieldMayBeFinal") private static boolean doNotUpdateTopicSubscribeInfoWhenSubscriptionChanged = false;

    public DefaultLitePullConsumerImpl(final DefaultLitePullConsumer defaultLitePullConsumer, final RPCHook rpcHook) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/ShutdownHookThread.java`
#### Snippet
```java
 */
public class ShutdownHookThread extends Thread {
    private volatile boolean hasShutdown = false;
    private AtomicInteger shutdownTimes = new AtomicInteger(0);
    private final Logger log;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `openmessaging/src/main/java/io/openmessaging/rocketmq/producer/AbstractOMSProducer.java`
#### Snippet
```java
    final KeyValue properties;
    final DefaultMQProducer rocketmqProducer;
    private boolean started = false;
    private final ClientConfig clientConfig;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/DefaultPromise.java`
#### Snippet
```java
    private final Object lock = new Object();
    private volatile FutureState state = FutureState.DOING;
    private V result = null;
    private long timeout;
    private long createTime;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `openmessaging/src/main/java/io/openmessaging/rocketmq/promise/DefaultPromise.java`
#### Snippet
```java
    private long timeout;
    private long createTime;
    private Throwable exception = null;
    private List<FutureListener<V>> promiseListenerList;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PullConsumerImpl.java`
#### Snippet
```java
    private final DefaultMQPullConsumer rocketmqPullConsumer;
    private final KeyValue properties;
    private boolean started = false;
    private final MQPullConsumerScheduleService pullConsumerScheduleService;
    private final LocalMessageCache localMessageCache;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/PushConsumerImpl.java`
#### Snippet
```java
    private final DefaultMQPushConsumer rocketmqPushConsumer;
    private final KeyValue properties;
    private boolean started = false;
    private final Map<String, MessageListener> subscribeTable = new ConcurrentHashMap<>();
    private final ClientConfig clientConfig;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/MQWait.java`
#### Snippet
```java
        long start = System.currentTimeMillis();
        MQWait.setCondition(new Condition() {
            int i = 0;

            public boolean meetCondition() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/ListDataCollectorImpl.java`
#### Snippet
```java

    private List<Object> datas = new ArrayList<Object>();
    private boolean lock = false;

    public ListDataCollectorImpl() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/parallel/ParallelTaskExecutor.java`
#### Snippet
```java
    public List<ParallelTask> tasks = new ArrayList<ParallelTask>();
    public ExecutorService cachedThreadPool = Executors.newCachedThreadPool();
    public CountDownLatch latch = null;

    public ParallelTaskExecutor() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/parallel/ParallelTask.java`
#### Snippet
```java

public abstract class ParallelTask extends Thread {
    private CountDownLatch latch = null;

    public CountDownLatch getLatch() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/impl/MapDataCollectorImpl.java`
#### Snippet
```java

    private Map<Object, AtomicInteger> datas = new ConcurrentHashMap<Object, AtomicInteger>();
    private boolean lock = false;

    public MapDataCollectorImpl() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/mq/MQAsyncProducer.java`
#### Snippet
```java
public class MQAsyncProducer {
    private static Logger logger = LoggerFactory.getLogger(MQAsyncProducer.class);
    private AbstractMQProducer producer = null;
    private long msgNum;
    private int intervalMills;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java

    private static final Logger LOGGER = LoggerFactory.getLogger(RMQNormalConsumer.class);
    protected DefaultMQPushConsumer consumer = null;

    public RMQNormalConsumer(String nsAddr, String topic, String subExpression,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
public class RMQTransactionalProducer extends AbstractMQProducer {
    private static Logger logger  = LoggerFactory.getLogger(RMQTransactionalProducer.class);
    private TransactionMQProducer producer = null;
    private String nsAddr = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
    private static Logger logger  = LoggerFactory.getLogger(RMQTransactionalProducer.class);
    private TransactionMQProducer producer = null;
    private String nsAddr = null;

    public RMQTransactionalProducer(String nsAddr, String topic, TransactionListener transactionListener) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
public class RMQNormalProducer extends AbstractMQProducer {
    private static Logger logger = LoggerFactory.getLogger(RMQNormalProducer.class);
    private DefaultMQProducer producer = null;
    private String nsAddr = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
    private static Logger logger = LoggerFactory.getLogger(RMQNormalProducer.class);
    private DefaultMQProducer producer = null;
    private String nsAddr = null;

    public RMQNormalProducer(String nsAddr, String topic) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
    private static Logger logger = LoggerFactory
        .getLogger(RMQAsyncSendProducer.class);
    private String nsAddr = null;
    private DefaultMQProducer producer = null;
    private SendCallback sendCallback = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
    private String nsAddr = null;
    private DefaultMQProducer producer = null;
    private SendCallback sendCallback = null;
    private List<SendResult> successSendResult = Collections.synchronizedList(new ArrayList<SendResult>());
    private AtomicInteger exceptionMsgCount = new AtomicInteger(0);
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
    private List<SendResult> successSendResult = Collections.synchronizedList(new ArrayList<SendResult>());
    private AtomicInteger exceptionMsgCount = new AtomicInteger(0);
    private int msgSize = 0;

    public RMQAsyncSendProducer(String nsAddr, String topic) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
        .getLogger(RMQAsyncSendProducer.class);
    private String nsAddr = null;
    private DefaultMQProducer producer = null;
    private SendCallback sendCallback = null;
    private List<SendResult> successSendResult = Collections.synchronizedList(new ArrayList<SendResult>());
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `test/src/main/java/org/apache/rocketmq/test/factory/TagMessage.java`
#### Snippet
```java
    private List<String> tags = null;
    private String topic = null;
    private int msgSize = 0;
    private Map<String, List<Object>> rmqMsgs = new HashMap<String, List<Object>>();

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/factory/TagMessage.java`
#### Snippet
```java
public class TagMessage {
    private List<String> tags = null;
    private String topic = null;
    private int msgSize = 0;
    private Map<String, List<Object>> rmqMsgs = new HashMap<String, List<Object>>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/factory/TagMessage.java`
#### Snippet
```java

public class TagMessage {
    private List<String> tags = null;
    private String topic = null;
    private int msgSize = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/listener/rmq/concurrent/RMQDelayListener.java`
#### Snippet
```java

public class RMQDelayListener extends AbstractListener implements MessageListenerConcurrently {
    private DataCollector msgDelayTimes = null;

    public RMQDelayListener() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/sendresult/ResultWrapper.java`
#### Snippet
```java
    private boolean sendResult = false;
    private String msgId = null;
    private Exception sendException = null;
    private String brokerIp = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/message/MessageQueueMsg.java`
#### Snippet
```java
    private Map<MessageQueue, List<Object>> msgsWithMQ = null;
    private Map<Integer, List<Object>> msgsWithMQId = null;
    private Collection<Object> msgBodys = null;

    public MessageQueueMsg(List<MessageQueue> mqs, int msgSize) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/sendresult/ResultWrapper.java`
#### Snippet
```java
public class ResultWrapper {
    private boolean sendResult = false;
    private String msgId = null;
    private Exception sendException = null;
    private String brokerIp = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/message/MessageQueueMsg.java`
#### Snippet
```java
public class MessageQueueMsg {
    private Map<MessageQueue, List<Object>> msgsWithMQ = null;
    private Map<Integer, List<Object>> msgsWithMQId = null;
    private Collection<Object> msgBodys = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/sendresult/ResultWrapper.java`
#### Snippet
```java
    private String msgId = null;
    private Exception sendException = null;
    private String brokerIp = null;

    public String getBrokerIp() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/message/MessageQueueMsg.java`
#### Snippet
```java

public class MessageQueueMsg {
    private Map<MessageQueue, List<Object>> msgsWithMQ = null;
    private Map<Integer, List<Object>> msgsWithMQId = null;
    private Collection<Object> msgBodys = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `test/src/main/java/org/apache/rocketmq/test/sendresult/ResultWrapper.java`
#### Snippet
```java

public class ResultWrapper {
    private boolean sendResult = false;
    private String msgId = null;
    private Exception sendException = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java

    protected ResultWrapper sendResult = new ResultWrapper();
    protected boolean startSuccess = false;
    protected String producerGroupName = null;
    protected String producerInstanceName = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
    protected ResultWrapper sendResult = new ResultWrapper();
    protected boolean startSuccess = false;
    protected String producerGroupName = null;
    protected String producerInstanceName = null;
    protected boolean isDebug = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
    protected boolean startSuccess = false;
    protected String producerGroupName = null;
    protected String producerInstanceName = null;
    protected boolean isDebug = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
    protected String producerGroupName = null;
    protected String producerInstanceName = null;
    protected boolean isDebug = false;


```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java

public abstract class AbstractMQProducer extends MQCollector implements MQProducer {
    protected String topic = null;

    protected ResultWrapper sendResult = new ResultWrapper();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
    protected Collection<Object> msgBodysCopy = null;

    protected DataCollector msgRTs = null;

    public MQCollector() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
public abstract class MQCollector {
    protected DataCollector msgBodys = null;
    protected DataCollector originMsgs = null;
    protected DataCollector errorMsgs = null;
    protected Map<Object, Object> originMsgIndex = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java

public abstract class MQCollector {
    protected DataCollector msgBodys = null;
    protected DataCollector originMsgs = null;
    protected DataCollector errorMsgs = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
    protected DataCollector errorMsgs = null;
    protected Map<Object, Object> originMsgIndex = null;
    protected Collection<Object> msgBodysCopy = null;

    protected DataCollector msgRTs = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
    protected DataCollector originMsgs = null;
    protected DataCollector errorMsgs = null;
    protected Map<Object, Object> originMsgIndex = null;
    protected Collection<Object> msgBodysCopy = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/MQCollector.java`
#### Snippet
```java
    protected DataCollector msgBodys = null;
    protected DataCollector originMsgs = null;
    protected DataCollector errorMsgs = null;
    protected Map<Object, Object> originMsgIndex = null;
    protected Collection<Object> msgBodysCopy = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    protected String subExpression = null;
    protected String consumerGroup = null;
    protected boolean isDebug = false;

    public AbstractMQConsumer() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    protected String nsAddr = null;
    protected String topic = null;
    protected String subExpression = null;
    protected String consumerGroup = null;
    protected boolean isDebug = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    protected AbstractListener listener = null;
    protected String nsAddr = null;
    protected String topic = null;
    protected String subExpression = null;
    protected String consumerGroup = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
    protected String topic = null;
    protected String subExpression = null;
    protected String consumerGroup = null;
    protected boolean isDebug = false;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java
public abstract class AbstractMQConsumer implements MQConsumer {
    protected AbstractListener listener = null;
    protected String nsAddr = null;
    protected String topic = null;
    protected String subExpression = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQConsumer.java`
#### Snippet
```java

public abstract class AbstractMQConsumer implements MQConsumer {
    protected AbstractListener listener = null;
    protected String nsAddr = null;
    protected String topic = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/listener/AbstractListener.java`
#### Snippet
```java
    protected boolean isDebug = true;
    protected String listenerName = null;
    protected Collection<Object> allSendMsgs = null;

    public AbstractListener() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `test/src/main/java/org/apache/rocketmq/test/listener/AbstractListener.java`
#### Snippet
```java
    public static final Logger LOGGER = LoggerFactory.getLogger(AbstractListener.class);
    protected boolean isDebug = true;
    protected String listenerName = null;
    protected Collection<Object> allSendMsgs = null;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/producer/DefaultMQProducer.java`
#### Snippet
```java
     * Indicate whether to retry another broker on sending failure internally.
     */
    private boolean retryAnotherBrokerWhenNotStoreOK = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `client/src/main/java/org/apache/rocketmq/client/producer/DefaultMQProducer.java`
#### Snippet
```java
     * Interface of asynchronous transfer data
     */
    private TraceDispatcher traceDispatcher = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `client/src/main/java/org/apache/rocketmq/client/producer/DefaultMQProducer.java`
#### Snippet
```java
     * Indicate whether to block message when asynchronous sending traffic is too heavy.
     */
    private boolean enableBackpressureForAsyncMode = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/slave/SlaveSynchronize.java`
#### Snippet
```java
    private static final Logger LOGGER = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);
    private final BrokerController brokerController;
    private volatile String masterAddr = null;

    public SlaveSynchronize(BrokerController brokerController) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
    public static Properties properties = null;
    public static CommandLine commandLine = null;
    public static String configFile = null;
    public static Logger log;
    public static final SystemConfigFileHelper CONFIG_FILE_HELPER = new SystemConfigFileHelper();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java

public class BrokerStartup {
    public static Properties properties = null;
    public static CommandLine commandLine = null;
    public static String configFile = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java

            Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
                private volatile boolean hasShutdown = false;
                private AtomicInteger shutdownTimes = new AtomicInteger(0);

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
public class BrokerStartup {
    public static Properties properties = null;
    public static CommandLine commandLine = null;
    public static String configFile = null;
    public static Logger log;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerPreOnlineService.java`
#### Snippet
```java
    private final BrokerController brokerController;

    private int waitBrokerIndex = 0;

    public BrokerPreOnlineService(BrokerController brokerController) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterData.java`
#### Snippet
```java
    private transient Expression compiledExpression;
    private long bornTime;
    private long deadTime = 0;
    private BloomFilterData bloomFilterData;
    private long clientVersion;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
    private final RemotingClient remotingClient;
    private final TopAddressing topAddressing = new DefaultTopAddressing(MixAll.getWSAddr());
    private String nameSrvAddr = null;
    private BrokerFixedThreadPoolExecutor brokerOuterExecutor = new BrokerFixedThreadPoolExecutor(4, 10, 1, TimeUnit.MINUTES,
            new ArrayBlockingQueue<>(32), new ThreadFactoryImpl("brokerOutApi_thread_", true));
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/mqtrace/SendMessageContext.java`
#### Snippet
```java
    private MessageType msgType = MessageType.Trans_msg_Commit;

    private boolean isSuccess = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected volatile long shouldStartTime;
    private BrokerPreOnlineService brokerPreOnlineService;
    protected volatile boolean isIsolated = false;
    protected volatile long minBrokerIdInGroup = 0;
    protected volatile String minBrokerAddrInGroup = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected volatile boolean shutdown = false;
    protected ShutdownHook shutdownHook;
    private volatile boolean isScheduleServiceStart = false;
    private volatile boolean isTransactionCheckServiceStart = false;
    protected volatile BrokerMemberGroup brokerMemberGroup;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected ShutdownHook shutdownHook;
    private volatile boolean isScheduleServiceStart = false;
    private volatile boolean isTransactionCheckServiceStart = false;
    protected volatile BrokerMemberGroup brokerMemberGroup;
    protected EscapeBridge escapeBridge;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    private BrokerPreOnlineService brokerPreOnlineService;
    protected volatile boolean isIsolated = false;
    protected volatile long minBrokerIdInGroup = 0;
    protected volatile String minBrokerAddrInGroup = null;
    private final Lock lock = new ReentrantLock();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
                        },
                        new FileWatchService.Listener() {
                            boolean certChanged, keyChanged = false;

                            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected AbstractTransactionalMessageCheckListener transactionalMessageCheckListener;
    protected Map<Class, AccessValidator> accessValidatorMap = new HashMap<>();
    protected volatile boolean shutdown = false;
    protected ShutdownHook shutdownHook;
    private volatile boolean isScheduleServiceStart = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected volatile boolean isIsolated = false;
    protected volatile long minBrokerIdInGroup = 0;
    protected volatile String minBrokerAddrInGroup = null;
    private final Lock lock = new ReentrantLock();
    protected final List<ScheduledFuture<?>> scheduledFutures = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    protected ExecutorService loadBalanceExecutor;
    protected ExecutorService endTransactionExecutor;
    protected boolean updateMasterHAServerAddrPeriodically = false;
    private BrokerStats brokerStats;
    private InetSocketAddress storeHost;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
        private CompletableFuture<PutMessageResult> future;

        private volatile int resendCount = 0;
        private volatile ProcessStatus status = ProcessStatus.RUNNING;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
        private int delayLevel;
        private String msgId;
        private boolean autoResend = false;
        private CompletableFuture<PutMessageResult> future;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
    private int maxDelayLevel;
    private DataVersion dataVersion = new DataVersion();
    private boolean enableAsyncDeliver = false;
    private ScheduledExecutorService handleExecutorService;
    private final ScheduledExecutorService scheduledPersistService;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
    private BrokerController brokerController;
    private String reviveTopic;
    private volatile boolean shouldRunPopRevive = false;

    public PopReviveService(BrokerController brokerController, String reviveTopic, int queueId) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalOpBatchService.java`
#### Snippet
```java
    private TransactionalMessageServiceImpl transactionalMessageService;

    private long wakeupTimestamp = 0;


```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java

    private Set<String> syncStateSet;
    private int syncStateSetEpoch = 0;
    private String masterAddress = "";
    private int masterEpoch = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/controller/ReplicasManager.java`
#### Snippet
```java
    private int syncStateSetEpoch = 0;
    private String masterAddress = "";
    private int masterEpoch = 0;
    private long lastSyncTimeMs = System.currentTimeMillis();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
    private volatile boolean serving = true;
    private AtomicInteger counter = new AtomicInteger(0);
    private int scanTimes = 0;
    private final BrokerController brokerController;
    private final PopMessageProcessor popMessageProcessor;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
        private final String mergeKey;
        private final boolean justOffset;
        private volatile boolean ckStored = false;

        public PopCheckPointWrapper(int reviveQueueId, long reviveQueueOffset, PopCheckPoint point,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
    private final int countOfSecond30 = (int) (30 * 1000 / interval);

    private volatile boolean master = false;

    public PopBufferMergeService(BrokerController brokerController, PopMessageProcessor popMessageProcessor) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
    public class PopLongPollingService extends ServiceThread {

        private long lastCleanTime = 0;

        @Override
```

## RuleId[ruleID=RedundantImplements]
### RedundantImplements
Redundant interface declaration `NettyRequestProcessor`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/SendMessageProcessor.java`
#### Snippet
```java
import static org.apache.rocketmq.remoting.protocol.RemotingCommand.buildErrorResponse;

public class SendMessageProcessor extends AbstractSendMessageProcessor implements NettyRequestProcessor {

    public SendMessageProcessor(final BrokerController brokerController) {
```

## RuleId[ruleID=InstanceofCatchParameter]
### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
                return true;
            } catch (Throwable t) {
                if (!(t instanceof RemotingTimeoutException)) {
                    log.error("tryQueryAssignment error.", t);
                    topicClientRebalance.put(topic, topic);
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
                        );
                    } catch (Exception e) {
                        if (e instanceof MQClientException) {
                            throw (MQClientException) e;
                        } else {
```

## RuleId[ruleID=StringBufferReplaceableByStringBuilder]
### StringBufferReplaceableByStringBuilder
`StringBuffer rc` may be declared as 'StringBuilder'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    final public String stringLitteral() throws ParseException {
        Token t;
        StringBuffer rc = new StringBuffer();
        boolean first = true;
        t = jj_consume_token(STRING_LITERAL);
```

### StringBufferReplaceableByStringBuilder
`StringBuffer strBuilder` may be declared as 'StringBuilder'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
        final String msgType, String flowlimitThreshold) {
        final String sep = "|";
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(owner).append(sep);
        strBuilder.append(instanceId).append(sep);
```

### StringBufferReplaceableByStringBuilder
`StringBuffer strBuilder` may be declared as 'StringBuilder'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
    public String buildAccountStatsKey(String accountOwnerParent, String accountOwnerSelf, String instanceId,
        String topic, String group, String msgType, String flowlimitThreshold) {
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(accountOwnerParent);
        strBuilder.append("@");
```

### StringBufferReplaceableByStringBuilder
`StringBuffer strBuilder` may be declared as 'StringBuilder'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
        final String msgType) {
        final String sep = "|";
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(owner).append(sep);
        strBuilder.append(instanceId).append(sep);
```

### StringBufferReplaceableByStringBuilder
`StringBuffer strBuilder` may be declared as 'StringBuilder'
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
    public String buildAccountStatsKey(String accountOwnerParent, String accountOwnerSelf, String instanceId,
        String topic, String group, String msgType) {
        StringBuffer strBuilder = new StringBuffer();
        strBuilder.append(accountOwnerParent);
        strBuilder.append("@");
```

## RuleId[ruleID=RedundantStringFormatCall]
### RedundantStringFormatCall
Redundant call to `format()`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java

        if (plainAccessResource.getAccessKey() == null) {
            throw new AclException(String.format("No accessKey is configured"));
        }

```

### RedundantStringFormatCall
Redundant call to `printf()`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
                    case SLAVE:
                        if (brokerConfig.getBrokerId() <= 0) {
                            System.out.printf("Slave's brokerId must be > 0");
                            System.exit(-3);
                        }
```

## RuleId[ruleID=ZeroLengthArrayInitialization]
### ZeroLengthArrayInitialization
Allocation of zero length array
in `store/src/main/java/org/apache/rocketmq/store/MultiPathMappedFileQueue.java`
#### Snippet
```java
        }

        String[] paths = availableStorePath.toArray(new String[]{});
        Arrays.sort(paths);
        String nextFilePath = paths[(int) (fileIdx % paths.length)] + File.separator
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java

    public MappedFile getLastMappedFile() {
        MappedFile[] mappedFiles = this.mappedFiles.toArray(new MappedFile[0]);
        return mappedFiles.length == 0 ? null : mappedFiles[mappedFiles.length - 1];
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `store/src/main/java/org/apache/rocketmq/store/ha/autoswitch/AutoSwitchHAClient.java`
#### Snippet
```java
        this.handshakeHeaderBuffer.putInt(this.localAddress == null ? 0 : this.localAddress.length());
        // Slave address
        this.handshakeHeaderBuffer.put(this.localAddress == null ? new byte[0] : this.localAddress.getBytes(StandardCharsets.UTF_8));

        this.handshakeHeaderBuffer.flip();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    public byte[] calcDeltaChecksum(long from, long to) {
        if (from < 0 || to <= from) {
            return new byte[0];
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        List<SelectMappedBufferResult> bufferResultList = this.getBulkCommitLogData(from, size);
        if (bufferResultList.isEmpty()) {
            return new byte[0];
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java

        if (msgList.isEmpty()) {
            return new byte[0];
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `proxy/src/main/java/org/apache/rocketmq/proxy/ProxyStartup.java`
#### Snippet
```java
            brokerStartupArgList.add(config.getNamesrvAddr());
        }
        String[] brokerStartupArgs = brokerStartupArgList.toArray(new String[0]);
        return BrokerStartup.createBrokerController(brokerStartupArgs);
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java
            futureList.add(FutureUtils.addExecutor(future0, this.executor));
        });
        CompletableFuture.allOf(futureList.toArray(new CompletableFuture[0])).whenComplete((v, t) -> {
            if (t != null) {
                log.error("LockBatchMQ failed", t);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ConsumerProcessor.java`
#### Snippet
```java
            futureList.add(FutureUtils.addExecutor(future0, this.executor));
        });
        CompletableFuture.allOf(futureList.toArray(new CompletableFuture[0])).whenComplete((v, t) -> {
            if (t != null) {
                log.error("UnlockBatchMQ failed", t);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ClusterInfo.java`
#### Snippet
```java

    public String[] retrieveAllClusterNames() {
        return clusterAddrTable.keySet().toArray(new String[] {});
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ClusterInfo.java`
#### Snippet
```java
        }

        return addrs.toArray(new String[] {});
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
                fieldList.addAll(Arrays.asList(fields));
            }
            field = fieldList.toArray(new Field[0]);
            synchronized (CLASS_HASH_MAP) {
                CLASS_HASH_MAP.put(classHeader, field);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `common/src/main/java/org/apache/rocketmq/common/utils/FastJsonSerializer.java`
#### Snippet
```java
    public <T> byte[] serialize(T t) throws SerializationException {
        if (t == null) {
            return new byte[0];
        } else {
            try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `controller/src/main/java/org/apache/rocketmq/controller/impl/DLedgerController.java`
#### Snippet
```java
                    // So we still need to propose an empty request to DLedger.
                    final AppendEntryRequest request = new AppendEntryRequest();
                    request.setBody(new byte[0]);
                    appendSuccess = appendToDLedgerAndWait(request);
                }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `controller/src/main/java/org/apache/rocketmq/controller/impl/DLedgerController.java`
#### Snippet
```java
                        while (true) {
                            final AppendEntryRequest request = new AppendEntryRequest();
                            request.setBody(new byte[0]);
                            try {
                                if (appendToDLedgerAndWait(request)) {
```

## RuleId[ruleID=NonFinalFieldOfException]
### NonFinalFieldOfException
Non-final field `currentToken` of exception class
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
     * followng this token will (therefore) be the first error token.
     */
    public Token currentToken;

    /**
```

### NonFinalFieldOfException
Non-final field `eol` of exception class
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
     * The end of line string for this machine.
     */
    protected String eol = System.getProperty("line.separator", "\n");

    /**
```

### NonFinalFieldOfException
Non-final field `tokenImage` of exception class
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
     * defined in the generated ...Constants interface.
     */
    public String[] tokenImage;

    /**
```

### NonFinalFieldOfException
Non-final field `expectedTokenSequences` of exception class
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
     * values) that is expected at this point of the parse.
     */
    public int[][] expectedTokenSequences;

    /**
```

### NonFinalFieldOfException
Non-final field `status` of exception class
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclException.java`
#### Snippet
```java
    private static final long serialVersionUID = -7256002576788700354L;

    private String status;
    private int code;

```

### NonFinalFieldOfException
Non-final field `code` of exception class
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclException.java`
#### Snippet
```java

    private String status;
    private int code;

    public AclException(String status, int code) {
```

### NonFinalFieldOfException
Non-final field `code` of exception class
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcProxyException.java`
#### Snippet
```java

    private ProxyException proxyException;
    private Code code;

    protected static final Map<ProxyExceptionCode, Code> CODE_MAPPING = new ConcurrentHashMap<>();
```

### NonFinalFieldOfException
Non-final field `proxyException` of exception class
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/common/GrpcProxyException.java`
#### Snippet
```java
public class GrpcProxyException extends RuntimeException {

    private ProxyException proxyException;
    private Code code;

```

### NonFinalFieldOfException
Non-final field `errorCode` of exception class
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcException.java`
#### Snippet
```java

public class RpcException extends RemotingException {
    private int errorCode;
    public RpcException(int errorCode, String message) {
        super(message);
```

### NonFinalFieldOfException
Non-final field `responseCode` of exception class
in `common/src/main/java/org/apache/rocketmq/common/AbortProcessException.java`
#### Snippet
```java
public class AbortProcessException extends RuntimeException {
    private static final long serialVersionUID = -5728810933841185841L;
    private int responseCode;
    private String errorMessage;

```

### NonFinalFieldOfException
Non-final field `errorMessage` of exception class
in `common/src/main/java/org/apache/rocketmq/common/AbortProcessException.java`
#### Snippet
```java
    private static final long serialVersionUID = -5728810933841185841L;
    private int responseCode;
    private String errorMessage;

    public AbortProcessException(String errorMessage, Throwable cause) {
```

### NonFinalFieldOfException
Non-final field `errorMessage` of exception class
in `client/src/main/java/org/apache/rocketmq/client/exception/RequestTimeoutException.java`
#### Snippet
```java
    private static final long serialVersionUID = -5758410930844185841L;
    private int responseCode;
    private String errorMessage;

    public RequestTimeoutException(String errorMessage, Throwable cause) {
```

### NonFinalFieldOfException
Non-final field `responseCode` of exception class
in `client/src/main/java/org/apache/rocketmq/client/exception/RequestTimeoutException.java`
#### Snippet
```java
public class RequestTimeoutException extends Exception {
    private static final long serialVersionUID = -5758410930844185841L;
    private int responseCode;
    private String errorMessage;

```

### NonFinalFieldOfException
Non-final field `errorMessage` of exception class
in `client/src/main/java/org/apache/rocketmq/client/exception/MQClientException.java`
#### Snippet
```java
    private static final long serialVersionUID = -5758410930844185841L;
    private int responseCode;
    private String errorMessage;

    public MQClientException(String errorMessage, Throwable cause) {
```

### NonFinalFieldOfException
Non-final field `responseCode` of exception class
in `client/src/main/java/org/apache/rocketmq/client/exception/MQClientException.java`
#### Snippet
```java
public class MQClientException extends Exception {
    private static final long serialVersionUID = -5758410930844185841L;
    private int responseCode;
    private String errorMessage;

```

## RuleId[ruleID=ConstantValue]
### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        left = new PropertyExpression(t.image);
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        left = orExpression();
        {
            if (true)
                return asBooleanExpression(left);
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return left;
        }
```

### ConstantValue
Condition is always true
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        }
        {
            if (true)
                return rc.toString();
        }
```

### ConstantValue
Condition `null != req` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/AllocateMappedFileService.java`
#### Snippet
```java
            log.warn(this.getServiceName() + " service has exception. ", e);
            this.hasException = true;
            if (null != req) {
                requestQueue.offer(req);
                try {
```

### ConstantValue
Condition `null != mfs` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
        List<MappedFile> files = new ArrayList<>();
        int skipFileNum = 0;
        if (null != mfs) {
            //do check before deleting
            checkSelf();
```

### ConstantValue
Condition `skipFileNum > 0` is always `false`
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
                long liveMaxTimestamp = mappedFile.getLastModifiedTimestamp() + expiredTime;
                if (System.currentTimeMillis() >= liveMaxTimestamp || cleanImmediately) {
                    if (skipFileNum > 0) {
                        log.info("Delete CommitLog {} but skip {} files", mappedFile.getFileName(), skipFileNum);
                    }
```

### ConstantValue
Condition `index >= 1000` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
        if (index < 1000) {
            return index;
        } else if (index >= 1000 && index < 2000) {
            return (index - 1000) * 10 + 1000;
        } else {
```

### ConstantValue
Condition `cost >= 1000` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/util/PerfCounter.java`
#### Snippet
```java
            return (int) cost;
        }
        if (cost >= 1000 && cost < 1000 + 1000 * 10) {
            int units = (int) ((cost - 1000) / 10);
            return 1000 + units;
```

### ConstantValue
Condition `null == indexFile` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/index/IndexService.java`
#### Snippet
```java
        IndexFile indexFile = null;

        for (int times = 0; null == indexFile && times < MAX_TRY_IDX_CREATE; times++) {
            indexFile = this.getAndCreateLastIndexFile();
            if (null != indexFile) {
```

### ConstantValue
Condition `lastBuffer != null` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/queue/ConsumeQueueStore.java`
#### Snippet
```java
                    startReadOffset += msg.getStoreSize();
                } finally {
                    if (lastBuffer != null)
                        lastBuffer.release();
                }
```

### ConstantValue
Condition `getResult == null` is always `false`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java

        // lazy init no data found.
        if (getResult == null) {
            getResult = new GetMessageResult(0);
        }
```

### ConstantValue
Condition `lastBuffer != null` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                LOGGER.error("resetWriteOffset error.", e);
            } finally {
                if (lastBuffer != null)
                    lastBuffer.release();
            }
```

### ConstantValue
Value `roll` is always 'false'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java

        if (!roll && null != message.getProperty(MessageConst.PROPERTY_TIMER_DEL_UNIQKEY)) {
            LOGGER.warn("Trying do put delete timer msg:[{}] roll:[{}]", message, roll);
            return PUT_NO_RETRY;
        }
```

### ConstantValue
Condition `null != currList` is always `true`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
            }
        }
        if (null != currList && currList.size() > 0) {
            lists.add(currList);
        }
```

### ConstantValue
Value `throwable` is always 'null'
in `proxy/src/main/java/org/apache/rocketmq/proxy/processor/ReceiptHandleProcessor.java`
#### Snippet
```java
                        resFuture.complete(messageReceiptHandle);
                    } else {
                        log.error("renew response is not ok. result:{}, handle:{}", ackResult, messageReceiptHandle, throwable);
                        resFuture.complete(null);
                    }
```

### ConstantValue
Condition `properties != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
        for (Object configObject : this.configObjectList) {
            Properties properties = MixAll.object2Properties(configObject);
            if (properties != null) {
                merge(properties, this.allConfigs);
            } else {
```

### ConstantValue
Condition `this.storePathField != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
                // check
                this.storePathField = object.getClass().getDeclaredField(fieldName);
                assert this.storePathField != null
                    && !Modifier.isStatic(this.storePathField.getModifiers());
                this.storePathField.setAccessible(true);
```

### ConstantValue
Condition `mqEndPoints != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/ClientMetadata.java`
#### Snippet
```java
        {
            ConcurrentMap<MessageQueue, String> mqEndPoints = topicRouteData2EndpointsForStaticTopic(topic, topicRouteData);
            if (mqEndPoints != null
                    && !mqEndPoints.isEmpty()) {
                topicEndPointsTable.put(topic, mqEndPoints);
```

### ConstantValue
Condition `foundQueueData` is always `true` when reached
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/routeinfo/RouteInfoManager.java`
#### Snippet
```java
        log.debug("pickupTopicRouteData {} {}", topic, topicRouteData);

        if (foundBrokerData && foundQueueData) {

            topicRouteData.setTopicQueueMappingByBroker(this.topicQueueMappingInfoTable.get(topic));
```

### ConstantValue
Condition `response != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/MQProtosHelper.java`
#### Snippet
```java
        try {
            RemotingCommand response = RemotingHelper.invokeSync(nsaddr, request, timeoutMillis);
            if (response != null) {
                return ResponseCode.SUCCESS == response.getCode();
            }
```

### ConstantValue
Condition `json != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingSerializable.java`
#### Snippet
```java
    public static byte[] encode(final Object obj) {
        final String json = toJson(obj, false);
        if (json != null) {
            return json.getBytes(CHARSET_UTF8);
        }
```

### ConstantValue
Value `addrRemote` is always 'null'
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java

                    if (null == prevCW) {
                        LOGGER.info("eventCloseChannel: the channel[{}] has been removed from the channel table before", addrRemote);
                        removeItemFromTable = false;
                    }
```

### ConstantValue
Condition `this.nettyEventExecutor != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
            this.eventLoopGroupWorker.shutdownGracefully();

            if (this.nettyEventExecutor != null) {
                this.nettyEventExecutor.shutdown();
            }
```

### ConstantValue
Condition `topicConfigTable != null` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
        DataVersion dataVersion = topicConfigSerializeWrapper.getDataVersion();
        ConcurrentMap<String, TopicConfig> topicConfigTable = cloneTopicConfigTable(topicConfigSerializeWrapper.getTopicConfigTable());
        assert topicConfigTable != null;
        try {
            byte[] buffer = dataVersion.encode();
```

### ConstantValue
Condition `level == LEVEL_0` is always `true`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingDetail.java`
#### Snippet
```java
            Integer globalId =  entry.getKey();
            List<LogicQueueMappingItem> items = entry.getValue();
            if (level == LEVEL_0
                    && items.size() >= 1) {
                LogicQueueMappingItem curr = items.get(items.size() - 1);
```

### ConstantValue
Condition `providerClazz != null` is always `true`
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java
            try {
                final Class<?> providerClazz = Class.forName("sun.nio.ch.EPollSelectorProvider");
                if (providerClazz != null) {
                    try {
                        final Method method = providerClazz.getMethod("provider");
```

### ConstantValue
Condition `method != null` is always `true`
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java
                    try {
                        final Method method = providerClazz.getMethod("provider");
                        if (method != null) {
                            final SelectorProvider selectorProvider = (SelectorProvider) method.invoke(null);
                            if (selectorProvider != null) {
```

### ConstantValue
Condition `pt != null` is always `true`
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
                    if (property != null) {
                        Class<?>[] pt = method.getParameterTypes();
                        if (pt != null && pt.length > 0) {
                            String cn = pt[0].getSimpleName();
                            Object arg = null;
```

### ConstantValue
Condition `keyArray != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
                                boolean matched = false;
                                String[] keyArray = keys.split(MessageConst.KEY_SEPARATOR);
                                if (keyArray != null) {
                                    for (String k : keyArray) {
                                        // both topic and key must be equal at the same time
```

### ConstantValue
Condition `topicPublishInfo != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQAdminImpl.java`
#### Snippet
```java
            if (topicRouteData != null) {
                TopicPublishInfo topicPublishInfo = MQClientInstance.topicRouteData2TopicPublishInfo(topic, topicRouteData);
                if (topicPublishInfo != null && topicPublishInfo.ok()) {
                    return parsePublishMessageQueues(topicPublishInfo.getMessageQueueList());
                }
```

### ConstantValue
Value `mqAll` is always 'null'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
            log.info("broker rebalanced result changed. allocateMessageQueueStrategyName={}, group={}, topic={}, clientId={}, assignmentSet={}",
                strategyName, consumerGroup, topic, this.mQClientFactory.getClientId(), messageQueueAssignments);
            this.messageQueueChanged(topic, mqAll, mqSet);
        }

```

### ConstantValue
Condition `messageBody == null` is always `false`
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceView.java`
#### Snippet
```java
        List<TraceView> messageTraceViewList = new ArrayList<>();
        String messageBody = new String(messageExt.getBody(), StandardCharsets.UTF_8);
        if (messageBody == null || messageBody.length() <= 0) {
            return messageTraceViewList;
        }
```

### ConstantValue
Condition `msgs != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
            ConsumeReturnType returnType = ConsumeReturnType.SUCCESS;
            try {
                if (msgs != null && !msgs.isEmpty()) {
                    for (MessageExt msg : msgs) {
                        MessageAccessor.setConsumeStartTimeStamp(msg, String.valueOf(System.currentTimeMillis()));
```

### ConstantValue
Condition `msgs != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
                ConsumeMessagePopConcurrentlyService.this.processConsumeResult(status, context, this);
            } else {
                if (msgs != null) {
                    processQueue.decFoundMsg(-msgs.size());
                }
```

### ConstantValue
Condition `popResult != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                        PopResult
                            popResult = MQClientAPIImpl.this.processPopResponse(brokerName, response, requestHeader.getTopic(), requestHeader);
                        assert popResult != null;
                        popCallback.onSuccess(popResult);
                    } catch (Exception e) {
```

### ConstantValue
Condition `ackResult != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                            ackResult.setStatus(AckStatus.NO_EXIST);
                        }
                        assert ackResult != null;
                        ackCallback.onSuccess(ackResult);
                    } catch (Exception e) {
```

### ConstantValue
Condition `str == null` is always `false`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
        RemotingConnectException, MQClientException {
        String str = MixAll.properties2String(properties);
        if (str == null || str.length() < 1) {
            return;
        }
```

### ConstantValue
Condition `str != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java

        String str = MixAll.properties2String(properties);
        if (str != null && str.length() > 0) {
            request.setBody(str.getBytes(MixAll.DEFAULT_CHARSET));
            RemotingCommand response = this.remotingClient
```

### ConstantValue
Condition `pullResult != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                    try {
                        PullResult pullResult = MQClientAPIImpl.this.processPullResponse(response, addr);
                        assert pullResult != null;
                        pullCallback.onSuccess(pullResult);
                    } catch (Exception e) {
```

### ConstantValue
Condition `ackResult != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                            ackResult.setStatus(AckStatus.NO_EXIST);
                        }
                        assert ackResult != null;
                        ackCallback.onSuccess(ackResult);
                    } catch (Exception e) {
```

### ConstantValue
Condition `normalTopic != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java
            if (msg.getTopic().startsWith(popRetryPrefix)) {
                String normalTopic = KeyBuilder.parseNormalTopic(msg.getTopic(), consumerGroup);
                if (normalTopic != null && !normalTopic.isEmpty()) {
                    msg.setTopic(normalTopic);
                }
```

### ConstantValue
Condition `msgs != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
            ConsumeReturnType returnType = ConsumeReturnType.SUCCESS;
            try {
                if (msgs != null && !msgs.isEmpty()) {
                    for (MessageExt msg : msgs) {
                        MessageAccessor.setConsumeStartTimeStamp(msg, String.valueOf(System.currentTimeMillis()));
```

### ConstantValue
Value `requestMsg` is always 'null'
in `client/src/main/java/org/apache/rocketmq/client/producer/RequestResponseFuture.java`
#### Snippet
```java

    public Message getRequestMsg() {
        return requestMsg;
    }

```

### ConstantValue
Condition `transactionListener != null` is always `true`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                    if (null != localTransactionExecuter) {
                        localTransactionState = localTransactionExecuter.executeLocalTransactionBranch(msg, arg);
                    } else if (transactionListener != null) {
                        log.debug("Used new transaction API");
                        localTransactionState = transactionListener.executeLocalTransaction(msg, arg);
```

### ConstantValue
Condition `set2.size() == 0` is always `false`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java

        if (set1 == null || set2 == null || set1.size() != set2.size()
            || set1.size() == 0 || set2.size() == 0) {
            return false;
        }
```

### ConstantValue
Condition `!recvAll` is always `true`
in `test/src/main/java/org/apache/rocketmq/test/util/MQWait.java`
#### Snippet
```java
        long startTime = System.currentTimeMillis();
        Collection<Object> noDupMsgs = new ArrayList<Object>();
        while (!recvAll) {
            if ((System.currentTimeMillis() - startTime) < timeoutMills) {
                noDupMsgs.clear();
```

### ConstantValue
Value `recvAll` is always 'false'
in `test/src/main/java/org/apache/rocketmq/test/util/MQWait.java`
#### Snippet
```java
        long startTime = System.currentTimeMillis();
        Collection<Object> noDupMsgs = new ArrayList<Object>();
        while (!recvAll) {
            if ((System.currentTimeMillis() - startTime) < timeoutMills) {
                noDupMsgs.clear();
```

### ConstantValue
Value `change` is always 'true'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ConsumerFilterManager.java`
#### Snippet
```java

                    log.info("Consumer filter info change, old: {}, new: {}, change: {}",
                        old, consumerFilterData, change);

                    return true;
```

### ConstantValue
Condition `rpcHooks == null` is always `false`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
    
        List<RPCHook> rpcHooks = ServiceProvider.load(RPCHook.class);
        if (rpcHooks == null || rpcHooks.isEmpty()) {
            return;
        }
```

### ConstantValue
Value `orderInfo` is always 'null'
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOrderInfoManager.java`
#### Snippet
```java
        OrderInfo orderInfo = qs.get(queueId);
        if (orderInfo == null) {
            log.warn("OrderInfo is null, {}, {}, {}", key, queueOffset, orderInfo);
            return queueOffset + 1;
        }
```

### ConstantValue
Condition `this.deliverPendingTable != null` is always `true`
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
            }

            if (this.deliverPendingTable != null) {
                for (int i = 1; i <= this.deliverPendingTable.size(); i++) {
                    log.warn("deliverPendingTable level: {}, size: {}", i, this.deliverPendingTable.get(i).size());
```

### ConstantValue
Condition `setMessageRequestModeRequestBody != null` is always `true`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/QueryAssignmentProcessor.java`
#### Snippet
```java
                MessageQueueAssignment messageQueueAssignment = new MessageQueueAssignment();
                messageQueueAssignment.setMessageQueue(messageQueue);
                if (setMessageRequestModeRequestBody != null) {
                    messageQueueAssignment.setMode(setMessageRequestModeRequestBody.getMode());
                }
```

### ConstantValue
Result of `ThreadLocalRandom.current().nextInt(99999999) % TCMT_QUEUE_NUMS` is always '0'
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/DefaultTransactionalMessageCheckListener.java`
#### Snippet
```java
    private MessageExtBrokerInner toMessageExtBrokerInner(MessageExt msgExt) {
        TopicConfig topicConfig = this.getBrokerController().getTopicConfigManager().createTopicOfTranCheckMaxTime(TCMT_QUEUE_NUMS, PermName.PERM_READ | PermName.PERM_WRITE);
        int queueId = ThreadLocalRandom.current().nextInt(99999999) % TCMT_QUEUE_NUMS;
        MessageExtBrokerInner inner = new MessageExtBrokerInner();
        inner.setTopic(topicConfig.getTopicName());
```

### ConstantValue
Condition `keyArray == null` is always `false`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
            }
            String[] keyArray = entry.getKey().split(PopAckConstants.SPLIT);
            if (keyArray == null || keyArray.length != 3) {
                continue;
            }
```

### ConstantValue
Condition `obj.forbiddenTable != null` is always `true`
in `broker/src/main/java/org/apache/rocketmq/broker/subscription/SubscriptionGroupManager.java`
#### Snippet
```java
            if (obj != null) {
                this.subscriptionGroupTable.putAll(obj.subscriptionGroupTable);
                if (obj.forbiddenTable != null) {
                    this.forbiddenTable.putAll(obj.forbiddenTable);
                }
```

### ConstantValue
Condition `foundList == null` is always `false`
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageBridge.java`
#### Snippet
```java
                        getMessageResult.getBufferTotalSize());
                    this.brokerController.getBrokerStatsManager().incBrokerGetNums(getMessageResult.getMessageCount());
                    if (foundList == null || foundList.size() == 0) {
                        break;
                    }
```

### ConstantValue
Condition `keyArray == null` is always `false`
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                        }
                        String[] keyArray = entry.getKey().split(PopAckConstants.SPLIT);
                        if (keyArray == null || keyArray.length != 3) {
                            continue;
                        }
```

### ConstantValue
Condition `!stop` is always `true`
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java
                consumer.ack(msgId);

                if (!stop) {
                    stop = msgId.equalsIgnoreCase(sendResult.messageId());
                }
```

### ConstantValue
Value `stop` is always 'false'
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java
                consumer.ack(msgId);

                if (!stop) {
                    stop = msgId.equalsIgnoreCase(sendResult.messageId());
                }
```

## RuleId[ruleID=MethodOverridesStaticMethod]
### MethodOverridesStaticMethod
Method `createRequestCommand()` tries to override a static method of a superclass
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/message/LocalRemotingCommand.java`
#### Snippet
```java
public class LocalRemotingCommand extends RemotingCommand {

    public static LocalRemotingCommand createRequestCommand(int code, CommandCustomHeader customHeader) {
        LocalRemotingCommand cmd = new LocalRemotingCommand();
        cmd.setCode(code);
```

## RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
                    if ((ch = str.charAt(i)) < 0x20 || ch > 0x7e) {
                        String s = "0000" + Integer.toString(ch, 16);
                        retval.append("\\u" + s.substring(s.length() - 4, s.length()));
                    } else {
                        retval.append(ch);
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
                    if ((ch = str.charAt(i)) < 0x20 || ch > 0x7e) {
                        String s = "0000" + Integer.toString(ch, 16);
                        retval.append("\\u" + s.substring(s.length() - 4, s.length()));
                    } else {
                        retval.append(ch);
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        }

        sb.append("\truntime: " + this.getFormatRuntime() + "\r\n");
        sb.append("\tputMessageEntireTimeMax: " + this.putMessageEntireTimeMax + "\r\n");
        sb.append("\tputMessageTimesTotal: " + totalTimes + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java

        sb.append("\truntime: " + this.getFormatRuntime() + "\r\n");
        sb.append("\tputMessageEntireTimeMax: " + this.putMessageEntireTimeMax + "\r\n");
        sb.append("\tputMessageTimesTotal: " + totalTimes + "\r\n");
        sb.append("\tgetPutMessageFailedTimes: " + this.getPutMessageFailedTimes() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\truntime: " + this.getFormatRuntime() + "\r\n");
        sb.append("\tputMessageEntireTimeMax: " + this.putMessageEntireTimeMax + "\r\n");
        sb.append("\tputMessageTimesTotal: " + totalTimes + "\r\n");
        sb.append("\tgetPutMessageFailedTimes: " + this.getPutMessageFailedTimes() + "\r\n");
        sb.append("\tputMessageSizeTotal: " + this.getPutMessageSizeTotal() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tputMessageEntireTimeMax: " + this.putMessageEntireTimeMax + "\r\n");
        sb.append("\tputMessageTimesTotal: " + totalTimes + "\r\n");
        sb.append("\tgetPutMessageFailedTimes: " + this.getPutMessageFailedTimes() + "\r\n");
        sb.append("\tputMessageSizeTotal: " + this.getPutMessageSizeTotal() + "\r\n");
        sb.append("\tputMessageDistributeTime: " + this.getPutMessageDistributeTimeStringInfo(totalTimes)
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tputMessageTimesTotal: " + totalTimes + "\r\n");
        sb.append("\tgetPutMessageFailedTimes: " + this.getPutMessageFailedTimes() + "\r\n");
        sb.append("\tputMessageSizeTotal: " + this.getPutMessageSizeTotal() + "\r\n");
        sb.append("\tputMessageDistributeTime: " + this.getPutMessageDistributeTimeStringInfo(totalTimes)
            + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tgetPutMessageFailedTimes: " + this.getPutMessageFailedTimes() + "\r\n");
        sb.append("\tputMessageSizeTotal: " + this.getPutMessageSizeTotal() + "\r\n");
        sb.append("\tputMessageDistributeTime: " + this.getPutMessageDistributeTimeStringInfo(totalTimes)
            + "\r\n");
        sb.append("\tputMessageAverageSize: " + (this.getPutMessageSizeTotal() / totalTimes.doubleValue())
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tputMessageDistributeTime: " + this.getPutMessageDistributeTimeStringInfo(totalTimes)
            + "\r\n");
        sb.append("\tputMessageAverageSize: " + (this.getPutMessageSizeTotal() / totalTimes.doubleValue())
            + "\r\n");
        sb.append("\tdispatchMaxBuffer: " + this.dispatchMaxBuffer + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tputMessageAverageSize: " + (this.getPutMessageSizeTotal() / totalTimes.doubleValue())
            + "\r\n");
        sb.append("\tdispatchMaxBuffer: " + this.dispatchMaxBuffer + "\r\n");
        sb.append("\tgetMessageEntireTimeMax: " + this.getMessageEntireTimeMax + "\r\n");
        sb.append("\tputTps: " + this.getPutTps() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
            + "\r\n");
        sb.append("\tdispatchMaxBuffer: " + this.dispatchMaxBuffer + "\r\n");
        sb.append("\tgetMessageEntireTimeMax: " + this.getMessageEntireTimeMax + "\r\n");
        sb.append("\tputTps: " + this.getPutTps() + "\r\n");
        sb.append("\tgetFoundTps: " + this.getGetFoundTps() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tdispatchMaxBuffer: " + this.dispatchMaxBuffer + "\r\n");
        sb.append("\tgetMessageEntireTimeMax: " + this.getMessageEntireTimeMax + "\r\n");
        sb.append("\tputTps: " + this.getPutTps() + "\r\n");
        sb.append("\tgetFoundTps: " + this.getGetFoundTps() + "\r\n");
        sb.append("\tgetMissTps: " + this.getGetMissTps() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tgetMessageEntireTimeMax: " + this.getMessageEntireTimeMax + "\r\n");
        sb.append("\tputTps: " + this.getPutTps() + "\r\n");
        sb.append("\tgetFoundTps: " + this.getGetFoundTps() + "\r\n");
        sb.append("\tgetMissTps: " + this.getGetMissTps() + "\r\n");
        sb.append("\tgetTotalTps: " + this.getGetTotalTps() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tputTps: " + this.getPutTps() + "\r\n");
        sb.append("\tgetFoundTps: " + this.getGetFoundTps() + "\r\n");
        sb.append("\tgetMissTps: " + this.getGetMissTps() + "\r\n");
        sb.append("\tgetTotalTps: " + this.getGetTotalTps() + "\r\n");
        sb.append("\tgetTransferredTps: " + this.getGetTransferredTps() + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tgetFoundTps: " + this.getGetFoundTps() + "\r\n");
        sb.append("\tgetMissTps: " + this.getGetMissTps() + "\r\n");
        sb.append("\tgetTotalTps: " + this.getGetTotalTps() + "\r\n");
        sb.append("\tgetTransferredTps: " + this.getGetTransferredTps() + "\r\n");
        return sb.toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `store/src/main/java/org/apache/rocketmq/store/StoreStatsService.java`
#### Snippet
```java
        sb.append("\tgetMissTps: " + this.getGetMissTps() + "\r\n");
        sb.append("\tgetTotalTps: " + this.getGetTotalTps() + "\r\n");
        sb.append("\tgetTransferredTps: " + this.getGetTransferredTps() + "\r\n");
        return sb.toString();
    }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
        for (Map.Entry<Object, Object> entry : entrySet) {
            if (entry.getValue() != null) {
                sb.append(entry.getKey().toString() + "=" + entry.getValue().toString() + "\n");
            }
        }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceContext.java`
#### Snippet
```java
        if (traceBeans != null && traceBeans.size() > 0) {
            for (TraceBean bean : traceBeans) {
                sb.append(bean.getMsgId() + "_" + bean.getTopic() + "_");
            }
        }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
                        }

                        strBQueue.get(msgQueueListIndex).append("" + msgQueueListIndex + "\t" +
                            msgIdMap.get(lQueueList.get(msgQueueListIndex).get(msgListIndex)) + "\t"
                            + lQueueList.get(msgQueueListIndex).get(msgListIndex) + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
        StringBuilder strBuilder = new StringBuilder();

        strBuilder.append("msgTotalNum:" + msgTotalNum + "\r\n");
        strBuilder.append("msgTotalDupNum:" + msgTotalDupNum + "\r\n");
        strBuilder.append("msgNoDupNum:" + msgNoDupNum + "\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java

        strBuilder.append("msgTotalNum:" + msgTotalNum + "\r\n");
        strBuilder.append("msgTotalDupNum:" + msgTotalDupNum + "\r\n");
        strBuilder.append("msgNoDupNum:" + msgNoDupNum + "\r\n");
        strBuilder.append("msgDupRate" + getFloatNumString(msgDupRate) + "%\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
        strBuilder.append("msgTotalNum:" + msgTotalNum + "\r\n");
        strBuilder.append("msgTotalDupNum:" + msgTotalDupNum + "\r\n");
        strBuilder.append("msgNoDupNum:" + msgNoDupNum + "\r\n");
        strBuilder.append("msgDupRate" + getFloatNumString(msgDupRate) + "%\r\n");

```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
        strBuilder.append("msgTotalDupNum:" + msgTotalDupNum + "\r\n");
        strBuilder.append("msgNoDupNum:" + msgNoDupNum + "\r\n");
        strBuilder.append("msgDupRate" + getFloatNumString(msgDupRate) + "%\r\n");

        strBuilder.append("queue\tmsg(dupNum/dupRate)\tdupRate\r\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `test/src/main/java/org/apache/rocketmq/test/util/DuplicateMessageInfo.java`
#### Snippet
```java
            float msgQueueInnerDupRate = ((float) msgDupNum / (float) msgNum) * 100.0f;

            strBuilder.append(i + "\t" + msgDupNum + "/" + getFloatNumString(msgQueueDupRate) + "%" + "\t\t" +
                getFloatNumString(msgQueueInnerDupRate) + "%\r\n");
        }
```

## RuleId[ruleID=IOResource]
### IOResource
'RandomAccessFile' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `store/src/main/java/org/apache/rocketmq/store/logfile/DefaultMappedFile.java`
#### Snippet
```java

        try {
            this.fileChannel = new RandomAccessFile(this.file, "rw").getChannel();
            this.mappedByteBuffer = this.fileChannel.map(MapMode.READ_WRITE, 0, fileSize);
            TOTAL_MAPPED_VIRTUAL_MEMORY.addAndGet(fileSize);
```

### IOResource
'DeflaterOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/RegisterBrokerBody.java`
#### Snippet
```java
        long start = System.currentTimeMillis();
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        DeflaterOutputStream outputStream = new DeflaterOutputStream(byteArrayOutputStream, new Deflater(Deflater.BEST_COMPRESSION));
        DataVersion dataVersion = topicConfigSerializeWrapper.getDataVersion();
        ConcurrentMap<String, TopicConfig> topicConfigTable = cloneTopicConfigTable(topicConfigSerializeWrapper.getTopicConfigTable());
```

### IOResource
'FileOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
        FileChannel tc = null;
        try {
            tc = new FileOutputStream(tf).getChannel();
            sc = new FileInputStream(sf).getChannel();
            sc.transferTo(0, sc.size(), tc);
```

### IOResource
'FileInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
        try {
            tc = new FileOutputStream(tf).getChannel();
            sc = new FileInputStream(sf).getChannel();
            sc.transferTo(0, sc.size(), tc);
        } finally {
```

## RuleId[ruleID=RedundantLengthCheck]
### RedundantLengthCheck
Redundant array length check
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
    public Configuration(Logger log, Object... configObjects) {
        this.log = log;
        if (configObjects == null || configObjects.length == 0) {
            return;
        }
```

## RuleId[ruleID=FieldMayBeStatic]
### FieldMayBeStatic
Field `headerSize` may be 'static'
in `store/src/main/java/org/apache/rocketmq/store/ha/DefaultHAConnection.java`
#### Snippet
```java
        private final SocketChannel socketChannel;

        private final int headerSize = 8 + 4;
        private final ByteBuffer byteBufferHeader = ByteBuffer.allocate(headerSize);
        private long nextTransferFromWhere = -1;
```

### FieldMayBeStatic
Field `cacheSize` may be 'static'
in `broker/src/main/java/org/apache/rocketmq/broker/client/DefaultConsumerIdsChangeListener.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);
    private final BrokerController brokerController;
    private final int cacheSize = 8096;

    private final ScheduledExecutorService scheduledExecutorService =  new ScheduledThreadPoolExecutor(1,
```

### FieldMayBeStatic
Field `interval` may be 'static'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
    private final PopMessageProcessor popMessageProcessor;
    private final PopMessageProcessor.QueueLockManager queueLockManager;
    private final long interval = 5;
    private final long minute5 = 5 * 60 * 1000;
    private final int countOfMinute1 = (int) (60 * 1000 / interval);
```

### FieldMayBeStatic
Field `minute5` may be 'static'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
    private final PopMessageProcessor.QueueLockManager queueLockManager;
    private final long interval = 5;
    private final long minute5 = 5 * 60 * 1000;
    private final int countOfMinute1 = (int) (60 * 1000 / interval);
    private final int countOfSecond1 = (int) (1000 / interval);
```

## RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
### UtilityClassWithoutPrivateConstructor
Class `StoreUtil` has only 'static' members, and lacks a 'private' constructor
in `store/src/main/java/org/apache/rocketmq/store/StoreUtil.java`
#### Snippet
```java
import static java.lang.String.format;

public class StoreUtil {
    private static final Logger log = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);

```

### UtilityClassWithoutPrivateConstructor
Class `StorePathConfigHelper` has only 'static' members, and lacks a 'private' constructor
in `store/src/main/java/org/apache/rocketmq/store/config/StorePathConfigHelper.java`
#### Snippet
```java
import java.io.File;

public class StorePathConfigHelper {

    public static String getStorePathConsumeQueue(final String rootDir) {
```

### UtilityClassWithoutPrivateConstructor
Class `MessageStoreFactory` has only 'static' members, and lacks a 'private' constructor
in `store/src/main/java/org/apache/rocketmq/store/plugin/MessageStoreFactory.java`
#### Snippet
```java
import org.apache.rocketmq.store.MessageStore;

public final class MessageStoreFactory {
    public static MessageStore build(MessageStorePluginContext context,
        MessageStore messageStore) throws IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `DefaultStoreMetricsConstant` has only 'static' members, and lacks a 'private' constructor
in `store/src/main/java/org/apache/rocketmq/store/metrics/DefaultStoreMetricsConstant.java`
#### Snippet
```java
package org.apache.rocketmq.store.metrics;

public class DefaultStoreMetricsConstant {
    public static final String GAUGE_STORAGE_SIZE = "rocketmq_storage_size";
    public static final String GAUGE_STORAGE_FLUSH_BEHIND = "rocketmq_storage_flush_behind_bytes";
```

### UtilityClassWithoutPrivateConstructor
Class `DefaultStoreMetricsManager` has only 'static' members, and lacks a 'private' constructor
in `store/src/main/java/org/apache/rocketmq/store/metrics/DefaultStoreMetricsManager.java`
#### Snippet
```java
import static org.apache.rocketmq.store.metrics.DefaultStoreMetricsConstant.LABEL_STORAGE_TYPE;

public class DefaultStoreMetricsManager {
    public static Supplier<AttributesBuilder> attributesBuilderSupplier;
    public static MessageStoreConfig messageStoreConfig;
```

### UtilityClassWithoutPrivateConstructor
Class `AclConstants` has only 'static' members, and lacks a 'private' constructor
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclConstants.java`
#### Snippet
```java
package org.apache.rocketmq.acl.common;

public class AclConstants {

    public static final String CONFIG_GLOBAL_WHITE_ADDRS = "globalWhiteRemoteAddresses";
```

### UtilityClassWithoutPrivateConstructor
Class `Permission` has only 'static' members, and lacks a 'private' constructor
in `acl/src/main/java/org/apache/rocketmq/acl/common/Permission.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.RequestCode;

public class Permission {

    public static final byte DENY = 1;
```

### UtilityClassWithoutPrivateConstructor
Class `AclSigner` has only 'static' members, and lacks a 'private' constructor
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclSigner.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class AclSigner {
    public static final Charset DEFAULT_CHARSET = StandardCharsets.UTF_8;
    public static final SigningAlgorithm DEFAULT_ALGORITHM = SigningAlgorithm.HmacSHA1;
```

### UtilityClassWithoutPrivateConstructor
Class `NamesrvStartup` has only 'static' members, and lacks a 'private' constructor
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
import org.apache.rocketmq.srvutil.ShutdownHookThread;

public class NamesrvStartup {

    private static Logger log;
```

### UtilityClassWithoutPrivateConstructor
Class `AclUtils` has only 'static' members, and lacks a 'private' constructor
in `acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java`
#### Snippet
```java
import static org.apache.rocketmq.acl.common.SessionCredentials.CHARSET;

public class AclUtils {

    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);
```

### UtilityClassWithoutPrivateConstructor
Class `ProxyStartup` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/ProxyStartup.java`
#### Snippet
```java
import org.apache.rocketmq.srvutil.ServerUtil;

public class ProxyStartup {
    private static final Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);
    private static final ProxyStartAndShutdown PROXY_START_AND_SHUTDOWN = new ProxyStartAndShutdown();
```

### UtilityClassWithoutPrivateConstructor
Class `InterceptorConstants` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/InterceptorConstants.java`
#### Snippet
```java
import io.grpc.Metadata;

public class InterceptorConstants {
    public static final Context.Key<Metadata> METADATA = Context.key("rpc-metadata");

```

### UtilityClassWithoutPrivateConstructor
Class `RequestMapping` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/interceptor/RequestMapping.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.RequestCode;

public class RequestMapping {
    private final static Map<String, Integer> REQUEST_MAP = new HashMap<String, Integer>() {
        {
```

### UtilityClassWithoutPrivateConstructor
Class `ContextVariable` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/ContextVariable.java`
#### Snippet
```java
package org.apache.rocketmq.proxy.common;

public class ContextVariable {
    public static final String REMOTE_ADDRESS = "remote-address";
    public static final String LOCAL_ADDRESS = "local-address";
```

### UtilityClassWithoutPrivateConstructor
Class `ProxyUtils` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/ProxyUtils.java`
#### Snippet
```java
package org.apache.rocketmq.proxy.common.utils;

public class ProxyUtils {

    public static final int MAX_MSG_NUMS_FOR_POP_REQUEST = 32;
```

### UtilityClassWithoutPrivateConstructor
Class `FilterUtils` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/FilterUtils.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.heartbeat.SubscriptionData;

public class FilterUtils {
    /**
     * Whether the message's tag matches consumerGroup's SubscriptionData
```

### UtilityClassWithoutPrivateConstructor
Class `ExceptionUtils` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/ExceptionUtils.java`
#### Snippet
```java
import java.util.concurrent.ExecutionException;

public class ExceptionUtils {

    public static Throwable getRealException(Throwable throwable) {
```

### UtilityClassWithoutPrivateConstructor
Class `FutureUtils` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/common/utils/FutureUtils.java`
#### Snippet
```java
import java.util.concurrent.ExecutorService;

public class FutureUtils {

    public static <T> CompletableFuture<T> appendNextFuture(CompletableFuture<T> future,
```

### UtilityClassWithoutPrivateConstructor
Class `ProxyMetricsConstant` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/metrics/ProxyMetricsConstant.java`
#### Snippet
```java
package org.apache.rocketmq.proxy.metrics;

public class ProxyMetricsConstant {
    public static final String GAUGE_PROXY_UP = "rocketmq_proxy_up";

```

### UtilityClassWithoutPrivateConstructor
Class `ConfigurationManager` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/config/ConfigurationManager.java`
#### Snippet
```java
import org.apache.rocketmq.common.MixAll;

public class ConfigurationManager {
    public static final String RMQ_PROXY_HOME = "RMQ_PROXY_HOME";
    protected static final String DEFAULT_RMQ_PROXY_HOME = System.getenv(MixAll.ROCKETMQ_HOME_ENV);
```

### UtilityClassWithoutPrivateConstructor
Class `ServiceManagerFactory` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/ServiceManagerFactory.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.RPCHook;

public class ServiceManagerFactory {
    public static ServiceManager createForLocalMode(BrokerController brokerController) {
        return createForLocalMode(brokerController, null);
```

### UtilityClassWithoutPrivateConstructor
Class `TopicRouteHelper` has only 'static' members, and lacks a 'private' constructor
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteHelper.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.ResponseCode;

public class TopicRouteHelper {

    public static boolean isTopicNotExistError(Throwable e) {
```

### UtilityClassWithoutPrivateConstructor
Class `BrokerLogbackConfigurator` has only 'static' members, and lacks a 'private' constructor
in `container/src/main/java/org/apache/rocketmq/container/logback/BrokerLogbackConfigurator.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class BrokerLogbackConfigurator {
    private static final Logger LOG = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);

```

### UtilityClassWithoutPrivateConstructor
Class `BrokerContainerStartup` has only 'static' members, and lacks a 'private' constructor
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
import org.apache.rocketmq.store.config.MessageStoreConfig;

public class BrokerContainerStartup {
    private static final String BROKER_CONTAINER_CONFIG_OPTION = "c";
    private static final String BROKER_CONFIG_OPTION = "b";
```

### UtilityClassWithoutPrivateConstructor
Class `RpcClientUtils` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RpcClientUtils.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.RemotingSerializable;

public class RpcClientUtils {

    public static RemotingCommand createCommandForRpcRequest(RpcRequest rpcRequest) {
```

### UtilityClassWithoutPrivateConstructor
Class `RequestBuilder` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/RequestBuilder.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.header.PullMessageRequestHeader;

public class RequestBuilder {

    private static Map<Integer, Class> requestCodeMap = new HashMap<>();
```

### UtilityClassWithoutPrivateConstructor
Class `NettySystemConfig` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettySystemConfig.java`
#### Snippet
```java
package org.apache.rocketmq.remoting.netty;

public class NettySystemConfig {
    public static final String COM_ROCKETMQ_REMOTING_NETTY_POOLED_BYTE_BUF_ALLOCATOR_ENABLE =
        "com.rocketmq.remoting.nettyPooledByteBufAllocatorEnable";
```

### UtilityClassWithoutPrivateConstructor
Class `TlsSystemConfig` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/TlsSystemConfig.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.TlsMode;

public class TlsSystemConfig {
    public static final String TLS_SERVER_MODE = "tls.server.mode";
    public static final String TLS_ENABLE = "tls.enable";
```

### UtilityClassWithoutPrivateConstructor
Class `TlsHelper` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/TlsHelper.java`
#### Snippet
```java
import static org.apache.rocketmq.remoting.netty.TlsSystemConfig.tlsTestModeEnable;

public class TlsHelper {

    public interface DecryptionStrategy {
```

### UtilityClassWithoutPrivateConstructor
Class `RemotingMetricsConstant` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/metrics/RemotingMetricsConstant.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.ResponseCode;

public class RemotingMetricsConstant {
    public static final String HISTOGRAM_RPC_LATENCY = "rocketmq_rpc_latency";

```

### UtilityClassWithoutPrivateConstructor
Class `RemotingMetricsManager` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/metrics/RemotingMetricsManager.java`
#### Snippet
```java
import static org.apache.rocketmq.remoting.metrics.RemotingMetricsConstant.RESULT_WRITE_CHANNEL_FAILED;

public class RemotingMetricsManager {
    public static LongHistogram rpcLatency = new NopLongHistogram();
    public static Supplier<AttributesBuilder> attributesBuilderSupplier;
```

### UtilityClassWithoutPrivateConstructor
Class `MQProtosHelper` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/MQProtosHelper.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.header.namesrv.RegisterBrokerRequestHeader;

public class MQProtosHelper {
    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);

```

### UtilityClassWithoutPrivateConstructor
Class `NettyLogger` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
import java.util.concurrent.atomic.AtomicBoolean;

public class NettyLogger {

    private static AtomicBoolean nettyLoggerSeted = new AtomicBoolean(false);
```

### UtilityClassWithoutPrivateConstructor
Class `RemotingHelper` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.RemotingCommand;

public class RemotingHelper {
    public static final String ROCKETMQ_TRAFFIC = "RocketmqTraffic";
    public static final String ROCKETMQ_REMOTING = "RocketmqRemoting";
```

### UtilityClassWithoutPrivateConstructor
Class `NamespaceUtil` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/NamespaceUtil.java`
#### Snippet
```java
import org.apache.rocketmq.common.topic.TopicValidator;

public class NamespaceUtil {
    public static final char NAMESPACE_SEPARATOR = '%';
    public static final String STRING_BLANK = "";
```

### UtilityClassWithoutPrivateConstructor
Class `RequestCode` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RequestCode.java`
#### Snippet
```java
package org.apache.rocketmq.remoting.protocol;

public class RequestCode {

    public static final int SEND_MESSAGE = 10;
```

### UtilityClassWithoutPrivateConstructor
Class `RocketMQSerializable` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RocketMQSerializable.java`
#### Snippet
```java
import io.netty.buffer.ByteBuf;

public class RocketMQSerializable {
    private static final Charset CHARSET_UTF8 = StandardCharsets.UTF_8;

```

### UtilityClassWithoutPrivateConstructor
Class `FilterAPI` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/filter/FilterAPI.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.heartbeat.SubscriptionData;

public class FilterAPI {
    public static URL classFile(final String className) {
        final String javaSource = simpleClassName(className) + ".java";
```

### UtilityClassWithoutPrivateConstructor
Class `ExtraInfoUtil` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/header/ExtraInfoUtil.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageConst;

public class ExtraInfoUtil {
    private static final String NORMAL_TOPIC = "0";
    private static final String RETRY_TOPIC = "1";
```

### UtilityClassWithoutPrivateConstructor
Class `ControllerStartup` has only 'static' members, and lacks a 'private' constructor
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
import org.apache.rocketmq.srvutil.ShutdownHookThread;

public class ControllerStartup {

    private static Logger log;
```

### UtilityClassWithoutPrivateConstructor
Class `MQVersion` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/MQVersion.java`
#### Snippet
```java
package org.apache.rocketmq.common;

public class MQVersion {

    public static final int CURRENT_VERSION = Version.V5_0_0.ordinal();
```

### UtilityClassWithoutPrivateConstructor
Class `PopAckConstants` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/PopAckConstants.java`
#### Snippet
```java
import org.apache.rocketmq.common.topic.TopicValidator;

public class PopAckConstants {
    public static long ackTimeInterval = 1000;
    public static final long SECOND = 1000;
```

### UtilityClassWithoutPrivateConstructor
Class `TopicAttributes` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/TopicAttributes.java`
#### Snippet
```java
import static com.google.common.collect.Sets.newHashSet;

public class TopicAttributes {
    public static final EnumAttribute QUEUE_TYPE_ATTRIBUTE = new EnumAttribute(
        "queue.type",
```

### UtilityClassWithoutPrivateConstructor
Class `KeyBuilder` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/KeyBuilder.java`
#### Snippet
```java
package org.apache.rocketmq.common;

public class KeyBuilder {
    public static final int POP_ORDER_REVIVE_QUEUE = 999;

```

### UtilityClassWithoutPrivateConstructor
Class `BrokerConfigSingleton` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/BrokerConfigSingleton.java`
#### Snippet
```java
import java.util.concurrent.atomic.AtomicBoolean;

public class BrokerConfigSingleton {
    private static AtomicBoolean isInit = new AtomicBoolean();
    private static BrokerConfig brokerConfig;
```

### UtilityClassWithoutPrivateConstructor
Class `FAQUrl` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/help/FAQUrl.java`
#### Snippet
```java
package org.apache.rocketmq.common.help;

public class FAQUrl {

    public static final String APPLY_TOPIC_URL =
```

### UtilityClassWithoutPrivateConstructor
Class `Stats` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/stats/Stats.java`
#### Snippet
```java
package org.apache.rocketmq.common.stats;

public class Stats {

    public static final String QUEUE_PUT_NUMS = "QUEUE_PUT_NUMS";
```

### UtilityClassWithoutPrivateConstructor
Class `BinaryUtil` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/BinaryUtil.java`
#### Snippet
```java
import org.apache.commons.codec.binary.Hex;

public class BinaryUtil {
    public static byte[] calculateMd5(byte[] binaryData) {
        MessageDigest messageDigest = null;
```

### UtilityClassWithoutPrivateConstructor
Class `TopicValidator` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/topic/TopicValidator.java`
#### Snippet
```java
import org.apache.rocketmq.common.UtilAll;

public class TopicValidator {

    public static final String AUTO_CREATE_TOPIC_KEY_TOPIC = "TBW102"; // Will be created at broker when isAutoCreateTopicEnable
```

### UtilityClassWithoutPrivateConstructor
Class `ChannelUtil` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/ChannelUtil.java`
#### Snippet
```java
import java.net.InetSocketAddress;

public class ChannelUtil {
    public static String getRemoteIp(Channel channel) {
        InetSocketAddress inetSocketAddress = (InetSocketAddress) channel.remoteAddress();
```

### UtilityClassWithoutPrivateConstructor
Class `MessageUtils` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/MessageUtils.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class MessageUtils {

    public static int getShardingKeyIndex(String shardingKey, int indexSize) {
```

### UtilityClassWithoutPrivateConstructor
Class `CorrelationIdUtil` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/CorrelationIdUtil.java`
#### Snippet
```java
import java.util.UUID;

public class CorrelationIdUtil {
    public static String createCorrelationId() {
        return UUID.randomUUID().toString();
```

### UtilityClassWithoutPrivateConstructor
Class `IOTinyUtils` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/IOTinyUtils.java`
#### Snippet
```java
import java.util.List;

public class IOTinyUtils {

    static public String toString(InputStream input, String encoding) throws IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `NetworkUtil` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/NetworkUtil.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class NetworkUtil {
    public static final String OS_NAME = System.getProperty("os.name");

```

### UtilityClassWithoutPrivateConstructor
Class `CleanupPolicyUtils` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/CleanupPolicyUtils.java`
#### Snippet
```java
import java.util.Optional;

public class CleanupPolicyUtils {
    public static boolean isCompaction(Optional<TopicConfig> topicConfig) {
        return Objects.equals(CleanupPolicy.COMPACTION, getDeletePolicy(topicConfig));
```

### UtilityClassWithoutPrivateConstructor
Class `NameServerAddressUtils` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/NameServerAddressUtils.java`
#### Snippet
```java
import org.apache.rocketmq.common.MixAll;

public class NameServerAddressUtils {
    public static final String INSTANCE_PREFIX = "MQ_INST_";
    public static final String INSTANCE_REGEX = INSTANCE_PREFIX + "\\w+_\\w+";
```

### UtilityClassWithoutPrivateConstructor
Class `DataConverter` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/DataConverter.java`
#### Snippet
```java
import java.nio.charset.Charset;

public class DataConverter {
    public static Charset charset = Charset.forName("UTF-8");

```

### UtilityClassWithoutPrivateConstructor
Class `ServiceProvider` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/ServiceProvider.java`
#### Snippet
```java
import java.util.List;

public class ServiceProvider {
    private static final Logger LOG = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);
    /**
```

### UtilityClassWithoutPrivateConstructor
Class `MixAll` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java
import java.util.function.Predicate;

public class MixAll {
    public static final String ROCKETMQ_HOME_ENV = "ROCKETMQ_HOME";
    public static final String ROCKETMQ_HOME_PROPERTY = "rocketmq.home.dir";
```

### UtilityClassWithoutPrivateConstructor
Class `QueueTypeUtils` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/QueueTypeUtils.java`
#### Snippet
```java
import java.util.Optional;

public class QueueTypeUtils {

    public static boolean isBatchCq(Optional<TopicConfig> topicConfig) {
```

### UtilityClassWithoutPrivateConstructor
Class `ExpressionType` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/filter/ExpressionType.java`
#### Snippet
```java
package org.apache.rocketmq.common.filter;

public class ExpressionType {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `ThreadPoolMonitor` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/thread/ThreadPoolMonitor.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class ThreadPoolMonitor {
    private static Logger jstackLogger = LoggerFactory.getLogger(ThreadPoolMonitor.class);
    private static Logger waterMarkLogger = LoggerFactory.getLogger(ThreadPoolMonitor.class);
```

### UtilityClassWithoutPrivateConstructor
Class `PolishExpr` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java
import static org.apache.rocketmq.common.filter.impl.Operator.createOperator;

public class PolishExpr {

    public static List<Op> reversePolish(String expression) {
```

### UtilityClassWithoutPrivateConstructor
Class `UtilAll` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
import sun.nio.ch.DirectBuffer;

public class UtilAll {
    private static final Logger log = LoggerFactory.getLogger(LoggerName.COMMON_LOGGER_NAME);
    private static final Logger STORE_LOG = LoggerFactory.getLogger(LoggerName.STORE_LOGGER_NAME);
```

### UtilityClassWithoutPrivateConstructor
Class `MessageClientIDSetter` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/message/MessageClientIDSetter.java`
#### Snippet
```java
import org.apache.rocketmq.common.UtilAll;

public class MessageClientIDSetter {
    private static final String TOPIC_KEY_SPLITTER = "#";
    private static final int LEN;
```

### UtilityClassWithoutPrivateConstructor
Class `MessageAccessor` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/message/MessageAccessor.java`
#### Snippet
```java
import java.util.Map;

public class MessageAccessor {

    public static void clearProperty(final Message msg, final String name) {
```

### UtilityClassWithoutPrivateConstructor
Class `HttpTinyClient` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
import org.apache.rocketmq.common.MixAll;

public class HttpTinyClient {

    static public HttpResult httpGet(String url, List<String> headers, List<String> paramValues,
```

### UtilityClassWithoutPrivateConstructor
Class `NamesrvUtil` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/namesrv/NamesrvUtil.java`
#### Snippet
```java
package org.apache.rocketmq.common.namesrv;

public class NamesrvUtil {
    public static final String NAMESPACE_ORDER_TOPIC_CONFIG = "ORDER_TOPIC_CONFIG";
}
```

### UtilityClassWithoutPrivateConstructor
Class `SubscriptionSysFlag` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/sysflag/SubscriptionSysFlag.java`
#### Snippet
```java
package org.apache.rocketmq.common.sysflag;

public class SubscriptionSysFlag {

    private final static int FLAG_UNIT = 0x1 << 0;
```

### UtilityClassWithoutPrivateConstructor
Class `TopicQueueMappingUtils` has only 'static' members, and lacks a 'private' constructor
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
import org.apache.rocketmq.common.TopicConfig;

public class TopicQueueMappingUtils {

    public static final int DEFAULT_BLOCK_SEQ_SIZE = 10000;
```

### UtilityClassWithoutPrivateConstructor
Class `TopicSysFlag` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/sysflag/TopicSysFlag.java`
#### Snippet
```java
package org.apache.rocketmq.common.sysflag;

public class TopicSysFlag {

    private final static int FLAG_UNIT = 0x1 << 0;
```

### UtilityClassWithoutPrivateConstructor
Class `ConsumeInitMode` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/constant/ConsumeInitMode.java`
#### Snippet
```java
package org.apache.rocketmq.common.constant;

public class ConsumeInitMode {
    public static final int MIN = 0;
    public static final int MAX = 1;
```

### UtilityClassWithoutPrivateConstructor
Class `MessageConst` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/message/MessageConst.java`
#### Snippet
```java
import java.util.HashSet;

public class MessageConst {
    public static final String PROPERTY_KEYS = "KEYS";
    public static final String PROPERTY_TAGS = "TAGS";
```

### UtilityClassWithoutPrivateConstructor
Class `DBMsgConstants` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/constant/DBMsgConstants.java`
#### Snippet
```java
package org.apache.rocketmq.common.constant;

public class DBMsgConstants {
    public static final int MAX_BODY_SIZE = 64 * 1024 * 1024; //64KB
}
```

### UtilityClassWithoutPrivateConstructor
Class `MessageSysFlag` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/sysflag/MessageSysFlag.java`
#### Snippet
```java
import org.apache.rocketmq.common.compression.CompressionType;

public class MessageSysFlag {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `PullSysFlag` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/sysflag/PullSysFlag.java`
#### Snippet
```java
package org.apache.rocketmq.common.sysflag;

public class PullSysFlag {
    private final static int FLAG_COMMIT_OFFSET = 0x1;
    private final static int FLAG_SUSPEND = 0x1 << 1;
```

### UtilityClassWithoutPrivateConstructor
Class `LoggerName` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/constant/LoggerName.java`
#### Snippet
```java
package org.apache.rocketmq.common.constant;

public class LoggerName {
    public static final String FILTERSRV_LOGGER_NAME = "RocketmqFiltersrv";
    public static final String NAMESRV_LOGGER_NAME = "RocketmqNamesrv";
```

### UtilityClassWithoutPrivateConstructor
Class `AttributeParser` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/attribute/AttributeParser.java`
#### Snippet
```java
import java.util.Map;

public class AttributeParser {
    public static Map<String, String> parseToMap(String attributesModification) {
        if (Strings.isNullOrEmpty(attributesModification)) {
```

### UtilityClassWithoutPrivateConstructor
Class `PermName` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/constant/PermName.java`
#### Snippet
```java
package org.apache.rocketmq.common.constant;

public class PermName {
    public static final int INDEX_PERM_PRIORITY = 3;
    public static final int INDEX_PERM_READ = 2;
```

### UtilityClassWithoutPrivateConstructor
Class `CompressorFactory` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/compression/CompressorFactory.java`
#### Snippet
```java
import java.util.EnumMap;

public class CompressorFactory {
    private static final EnumMap<CompressionType, Compressor> COMPRESSORS;

```

### UtilityClassWithoutPrivateConstructor
Class `Validators` has only 'static' members, and lacks a 'private' constructor
in `client/src/main/java/org/apache/rocketmq/client/Validators.java`
#### Snippet
```java
 * Common Validator
 */
public class Validators {
    public static final int CHARACTER_MAX_LENGTH = 255;
    public static final int TOPIC_MAX_LENGTH = 127;
```

### UtilityClassWithoutPrivateConstructor
Class `MQHelper` has only 'static' members, and lacks a 'private' constructor
in `client/src/main/java/org/apache/rocketmq/client/MQHelper.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class MQHelper {
    private static final Logger log = LoggerFactory.getLogger(MQHelper.class);

```

### UtilityClassWithoutPrivateConstructor
Class `MessageDecoder` has only 'static' members, and lacks a 'private' constructor
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java
import org.apache.rocketmq.common.sysflag.MessageSysFlag;

public class MessageDecoder {
//    public final static int MSG_ID_LENGTH = 8 + 8;

```

### UtilityClassWithoutPrivateConstructor
Class `TraceConstants` has only 'static' members, and lacks a 'private' constructor
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceConstants.java`
#### Snippet
```java
import org.apache.rocketmq.common.topic.TopicValidator;

public class TraceConstants {

    public static final String GROUP_NAME_PREFIX = "_INNER_TRACE_PRODUCER";
```

### UtilityClassWithoutPrivateConstructor
Class `TraceDataEncoder` has only 'static' members, and lacks a 'private' constructor
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceDataEncoder.java`
#### Snippet
```java
 * Encode/decode for Trace Data
 */
public class TraceDataEncoder {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `ClientErrorCode` has only 'static' members, and lacks a 'private' constructor
in `client/src/main/java/org/apache/rocketmq/client/common/ClientErrorCode.java`
#### Snippet
```java
package org.apache.rocketmq.client.common;

public class ClientErrorCode {
    public static final int CONNECT_BROKER_EXCEPTION = 10001;
    public static final int ACCESS_BROKER_TIMEOUT = 10002;
```

### UtilityClassWithoutPrivateConstructor
Class `MessageUtil` has only 'static' members, and lacks a 'private' constructor
in `client/src/main/java/org/apache/rocketmq/client/utils/MessageUtil.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageConst;

public class MessageUtil {
    public static Message createReplyMessage(final Message requestMessage, final byte[] body) throws MQClientException {
        if (requestMessage != null) {
```

### UtilityClassWithoutPrivateConstructor
Class `LockManager` has only 'static' members, and lacks a 'private' constructor
in `srvutil/src/main/java/org/apache/rocketmq/util/cache/LockManager.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.header.PopMessageRequestHeader;

public class LockManager {
    private static ExpiredLocalCache<String, AtomicBoolean> expiredLocalCache = new ExpiredLocalCache<>(100000);

```

### UtilityClassWithoutPrivateConstructor
Class `ServerUtil` has only 'static' members, and lacks a 'private' constructor
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/ServerUtil.java`
#### Snippet
```java
import org.apache.commons.cli.ParseException;

public class ServerUtil {

    public static Options buildCommandlineOptions(final Options options) {
```

### UtilityClassWithoutPrivateConstructor
Class `OMSUtil` has only 'static' members, and lacks a 'private' constructor
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageAccessor;

public class OMSUtil {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `BeanUtils` has only 'static' members, and lacks a 'private' constructor
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/BeanUtils.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public final class BeanUtils {
    private static final Logger log = LoggerFactory.getLogger(BeanUtils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `TestUtils` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtils.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public class TestUtils {
    public static void waitForMoment(long time) {
        try {
```

### UtilityClassWithoutPrivateConstructor
Class `MQWait` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/util/MQWait.java`
#### Snippet
```java
import static com.google.common.truth.Truth.assertThat;

public class MQWait {
    private static Logger logger = LoggerFactory.getLogger(MQWait.class);

```

### UtilityClassWithoutPrivateConstructor
Class `MQRandomUtils` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/util/MQRandomUtils.java`
#### Snippet
```java
package org.apache.rocketmq.test.util;

public class MQRandomUtils {
    public static String getRandomTopic() {
        return RandomUtils.getStringByUUID();
```

### UtilityClassWithoutPrivateConstructor
Class `BenchLmqStore` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
import org.apache.rocketmq.test.util.StatUtil;

public class BenchLmqStore {
    private static Logger logger = LoggerFactory.getLogger(BenchLmqStore.class);
    private static String namesrv = System.getProperty("namesrv", "127.0.0.1:9876");
```

### UtilityClassWithoutPrivateConstructor
Class `VerifyUtils` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/util/VerifyUtils.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class VerifyUtils {
    private static Logger logger = LoggerFactory.getLogger(VerifyUtils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `SendCallBackFactory` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/factory/SendCallBackFactory.java`
#### Snippet
```java
import org.apache.rocketmq.client.producer.SendResult;

public class SendCallBackFactory {
    public static SendCallback getSendCallBack() {
        return new SendCallback() {
```

### UtilityClassWithoutPrivateConstructor
Class `ProducerFactory` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/factory/ProducerFactory.java`
#### Snippet
```java
import org.apache.rocketmq.test.util.RandomUtil;

public class ProducerFactory {

    public static DefaultMQProducer getRMQProducer(String ns) {
```

### UtilityClassWithoutPrivateConstructor
Class `ConsumerFactory` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/factory/ConsumerFactory.java`
#### Snippet
```java
import org.apache.rocketmq.test.listener.AbstractListener;

public class ConsumerFactory {

    public static RMQNormalConsumer getRMQNormalConsumer(String nsAddr, String consumerGroup,
```

### UtilityClassWithoutPrivateConstructor
Class `MessageFactory` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/factory/MessageFactory.java`
#### Snippet
```java
import org.apache.rocketmq.test.util.RandomUtils;

public class MessageFactory {

    public static Message getRandomMessage(String topic) {
```

### UtilityClassWithoutPrivateConstructor
Class `SchemaDefiner` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
import org.reflections.Reflections;

public class SchemaDefiner {
    public static final Map<Class<?>, Set<String>> IGNORED_FIELDS = new HashMap<>();
    //Use name as the key instead of X.class directly. X.class is not equal to field.getType().
```

### UtilityClassWithoutPrivateConstructor
Class `BrokerPathConfigHelper` has only 'static' members, and lacks a 'private' constructor
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerPathConfigHelper.java`
#### Snippet
```java
import java.io.File;

public class BrokerPathConfigHelper {
    private static String brokerConfigPath = System.getProperty("user.home") + File.separator + "store"
        + File.separator + "config" + File.separator + "broker.properties";
```

### UtilityClassWithoutPrivateConstructor
Class `SchemaTools` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
import static org.apache.rocketmq.test.schema.SchemaDefiner.IGNORED_FIELDS;

public class SchemaTools {
    public static final String PATH_API = "api";
    public static final String PATH_PROTOCOL = "protocol";
```

### UtilityClassWithoutPrivateConstructor
Class `MQMessageFactory` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/factory/MQMessageFactory.java`
#### Snippet
```java
import org.apache.rocketmq.test.util.RandomUtil;

public class MQMessageFactory {
    private static Integer index = 0;

```

### UtilityClassWithoutPrivateConstructor
Class `HookUtils` has only 'static' members, and lacks a 'private' constructor
in `broker/src/main/java/org/apache/rocketmq/broker/util/HookUtils.java`
#### Snippet
```java
import org.apache.rocketmq.store.timer.TimerMessageStore;

public class HookUtils {

    protected static final Logger LOG = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);
```

### UtilityClassWithoutPrivateConstructor
Class `BrokerStartup` has only 'static' members, and lacks a 'private' constructor
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
import org.apache.rocketmq.store.config.MessageStoreConfig;

public class BrokerStartup {
    public static Properties properties = null;
    public static CommandLine commandLine = null;
```

### UtilityClassWithoutPrivateConstructor
Class `MQAdminTestUtils` has only 'static' members, and lacks a 'private' constructor
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
import static org.awaitility.Awaitility.await;

public class MQAdminTestUtils {
    private static Logger log = LoggerFactory.getLogger(MQAdminTestUtils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `BrokerMetricsConstant` has only 'static' members, and lacks a 'private' constructor
in `broker/src/main/java/org/apache/rocketmq/broker/metrics/BrokerMetricsConstant.java`
#### Snippet
```java
package org.apache.rocketmq.broker.metrics;

public class BrokerMetricsConstant {
    public static final String OPEN_TELEMETRY_METER_NAME = "broker-meter";

```

### UtilityClassWithoutPrivateConstructor
Class `FilterServerUtil` has only 'static' members, and lacks a 'private' constructor
in `broker/src/main/java/org/apache/rocketmq/broker/filtersrv/FilterServerUtil.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.Logger;

public class FilterServerUtil {
    public static void callShell(final String shellString, final Logger log) {
        Process process = null;
```

### UtilityClassWithoutPrivateConstructor
Class `TransactionalMessageUtil` has only 'static' members, and lacks a 'private' constructor
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageUtil.java`
#### Snippet
```java
import org.apache.rocketmq.common.topic.TopicValidator;

public class TransactionalMessageUtil {
    public static final String REMOVE_TAG = "d";
    public static final Charset CHARSET = StandardCharsets.UTF_8;
```

### UtilityClassWithoutPrivateConstructor
Class `RequestProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/rpc/RequestProducer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class RequestProducer {
    public static void main(String[] args) throws MQClientException, InterruptedException {
        String producerGroup = "please_rename_unique_group_name";
```

### UtilityClassWithoutPrivateConstructor
Class `AsyncRequestProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/rpc/AsyncRequestProducer.java`
#### Snippet
```java
import org.apache.rocketmq.logging.org.slf4j.LoggerFactory;

public class AsyncRequestProducer {
    private static final Logger log = LoggerFactory.getLogger(AsyncRequestProducer.class);

```

### UtilityClassWithoutPrivateConstructor
Class `SimpleBatchProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/batch/SimpleBatchProducer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.Message;

public class SimpleBatchProducer {

    public static final String PRODUCER_GROUP = "BatchProducerGroupName";
```

### UtilityClassWithoutPrivateConstructor
Class `ResponseConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.exception.RemotingException;

public class ResponseConsumer {
    public static void main(String[] args) throws InterruptedException, MQClientException {
        String producerGroup = "please_rename_unique_group_name";
```

### UtilityClassWithoutPrivateConstructor
Class `SplitBatchProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/batch/SplitBatchProducer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.Message;

public class SplitBatchProducer {

    public static final String PRODUCER_GROUP = "BatchProducerGroupName";
```

### UtilityClassWithoutPrivateConstructor
Class `TagFilterConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/filter/TagFilterConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class TagFilterConsumer {

    public static void main(String[] args) throws MQClientException {
```

### UtilityClassWithoutPrivateConstructor
Class `SqlFilterConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/filter/SqlFilterConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class SqlFilterConsumer {

    public static void main(String[] args) throws Exception {
```

### UtilityClassWithoutPrivateConstructor
Class `SqlFilterProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/filter/SqlFilterProducer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class SqlFilterProducer {

    public static void main(String[] args) throws Exception {
```

### UtilityClassWithoutPrivateConstructor
Class `TagFilterProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/filter/TagFilterProducer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class TagFilterProducer {

    public static void main(String[] args) throws Exception {
```

### UtilityClassWithoutPrivateConstructor
Class `LitePullConsumerSubscribe` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerSubscribe.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class LitePullConsumerSubscribe {

    public static volatile boolean running = true;
```

### UtilityClassWithoutPrivateConstructor
Class `LitePullConsumerAssign` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerAssign.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageQueue;

public class LitePullConsumerAssign {

    public static volatile boolean running = true;
```

### UtilityClassWithoutPrivateConstructor
Class `Producer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/Producer.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class Producer {

    public static final String PRODUCER_GROUP = "ProducerGroupName";
```

### UtilityClassWithoutPrivateConstructor
Class `LitePullConsumerAssignWithSubExpression` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/LitePullConsumerAssignWithSubExpression.java`
#### Snippet
```java
import java.util.List;

public class LitePullConsumerAssignWithSubExpression {

    public static volatile boolean running = true;
```

### UtilityClassWithoutPrivateConstructor
Class `OnewayProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/OnewayProducer.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class OnewayProducer {
    public static void main(String[] args) throws Exception {
        //Instantiate with a producer group name.
```

### UtilityClassWithoutPrivateConstructor
Class `PullScheduleService` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/PullScheduleService.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.heartbeat.MessageModel;

public class PullScheduleService {

    public static void main(String[] args) throws MQClientException {
```

### UtilityClassWithoutPrivateConstructor
Class `TimerMessageConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/schedule/TimerMessageConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class TimerMessageConsumer {
    public static final String CONSUMER_GROUP = "TimerMessageConsumerGroup";
    public static final String DEFAULT_NAMESRVADDR = "127.0.0.1:9876";
```

### UtilityClassWithoutPrivateConstructor
Class `AsyncProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/AsyncProducer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class AsyncProducer {
    public static void main(
        String[] args) throws MQClientException, InterruptedException, UnsupportedEncodingException {
```

### UtilityClassWithoutPrivateConstructor
Class `PullConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java

@SuppressWarnings("deprecation")
public class PullConsumer {

    public static void main(String[] args) throws MQClientException {
```

### UtilityClassWithoutPrivateConstructor
Class `ScheduledMessageProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/schedule/ScheduledMessageProducer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.Message;

public class ScheduledMessageProducer {

    public static final String PRODUCER_GROUP = "ExampleProducerGroup";
```

### UtilityClassWithoutPrivateConstructor
Class `PushConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/PushConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class PushConsumer {

    public static void main(String[] args) throws InterruptedException, MQClientException {
```

### UtilityClassWithoutPrivateConstructor
Class `ScheduledMessageConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/schedule/ScheduledMessageConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class ScheduledMessageConsumer {

    public static final String CONSUMER_GROUP = "ExampleConsumer";
```

### UtilityClassWithoutPrivateConstructor
Class `TimerMessageProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/schedule/TimerMessageProducer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.Message;

public class TimerMessageProducer {

    public static final String PRODUCER_GROUP = "TimerMessageProducerGroup";
```

### UtilityClassWithoutPrivateConstructor
Class `AclClient` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/benchmark/AclClient.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.RPCHook;

public class AclClient {

    public static final String ACL_ACCESS_KEY = "rocketmq2";
```

### UtilityClassWithoutPrivateConstructor
Class `PushConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/broadcast/PushConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.protocol.heartbeat.MessageModel;

public class PushConsumer {

    public static final String CONSUMER_GROUP = "please_rename_unique_group_name_1";
```

### UtilityClassWithoutPrivateConstructor
Class `PushConsumerWithNamespace` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/namespace/PushConsumerWithNamespace.java`
#### Snippet
```java
import org.apache.rocketmq.client.consumer.listener.MessageListenerConcurrently;

public class PushConsumerWithNamespace {
    public static final String NAMESPACE = "InstanceTest";
    public static final String CONSUMER_GROUP = "cidTest";
```

### UtilityClassWithoutPrivateConstructor
Class `AclClient` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java


public class AclClient {

    private static final Map<MessageQueue, Long> OFFSE_TABLE = new HashMap<>();
```

### UtilityClassWithoutPrivateConstructor
Class `ProducerWithNamespace` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/namespace/ProducerWithNamespace.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class ProducerWithNamespace {

    public static final String NAMESPACE = "InstanceTest";
```

### UtilityClassWithoutPrivateConstructor
Class `PullConsumerWithNamespace` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageQueue;

public class PullConsumerWithNamespace {

    public static final String NAMESPACE = "InstanceTest";
```

### UtilityClassWithoutPrivateConstructor
Class `BatchProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
import org.apache.rocketmq.srvutil.ServerUtil;

public class BatchProducer {

    private static byte[] msgBody;
```

### UtilityClassWithoutPrivateConstructor
Class `Producer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/quickstart/Producer.java`
#### Snippet
```java
 * This class demonstrates how to send messages to brokers using provided {@link DefaultMQProducer}.
 */
public class Producer {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `Consumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/quickstart/Consumer.java`
#### Snippet
```java
 * This example shows how to subscribe and consume messages using providing {@link DefaultMQPushConsumer}.
 */
public class Consumer {

    public static final String CONSUMER_GROUP = "please_rename_unique_group_name_4";
```

### UtilityClassWithoutPrivateConstructor
Class `Producer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class Producer {

    public static void main(String[] args) throws MQClientException, InterruptedException {
```

### UtilityClassWithoutPrivateConstructor
Class `Consumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/operation/Consumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class Consumer {

    public static void main(String[] args) throws MQClientException {
```

### UtilityClassWithoutPrivateConstructor
Class `Consumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Consumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.message.MessageExt;

public class Consumer {

    public static void main(String[] args) throws MQClientException {
```

### UtilityClassWithoutPrivateConstructor
Class `TransactionProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/transaction/TransactionProducer.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public class TransactionProducer {

    public static final String PRODUCER_GROUP = "please_rename_unique_group_name";
```

### UtilityClassWithoutPrivateConstructor
Class `Producer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Producer.java`
#### Snippet
```java
import java.util.List;

public class Producer {
    public static void main(String[] args) throws MQClientException {
        try {
```

### UtilityClassWithoutPrivateConstructor
Class `TracePushConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/TracePushConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.consumer.ConsumeFromWhere;

public class TracePushConsumer {

    public static final String CONSUMER_GROUP = "ProducerGroupName";
```

### UtilityClassWithoutPrivateConstructor
Class `Producer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
import java.util.concurrent.atomic.AtomicLong;

public class Producer {

    private static final Logger log = LoggerFactory.getLogger(Producer.class);
```

### UtilityClassWithoutPrivateConstructor
Class `OpenTracingPushConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingPushConsumer.java`
#### Snippet
```java
import org.apache.rocketmq.common.consumer.ConsumeFromWhere;

public class OpenTracingPushConsumer {

    public static final String CONSUMER_GROUP = "CID_JODIE_1";
```

### UtilityClassWithoutPrivateConstructor
Class `OpenTracingProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingProducer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class OpenTracingProducer {

    public static final String PRODUCER_GROUP = "ProducerGroupName";
```

### UtilityClassWithoutPrivateConstructor
Class `SimplePullConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePullConsumer.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class SimplePullConsumer {

    public static final String URL = "oms:rocketmq://localhost:9876/default:default";
```

### UtilityClassWithoutPrivateConstructor
Class `TraceProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/TraceProducer.java`
#### Snippet
```java
import org.apache.rocketmq.remoting.common.RemotingHelper;

public class TraceProducer {

    public static final String PRODUCER_GROUP = "ProducerGroupName";
```

### UtilityClassWithoutPrivateConstructor
Class `OpenTracingTransactionProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingTransactionProducer.java`
#### Snippet
```java
import java.io.UnsupportedEncodingException;

public class OpenTracingTransactionProducer {

    public static final String PRODUCER_GROUP = "please_rename_unique_group_name";
```

### UtilityClassWithoutPrivateConstructor
Class `SimplePushConsumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimplePushConsumer.java`
#### Snippet
```java
import io.openmessaging.consumer.PushConsumer;

public class SimplePushConsumer {

    public static final String URL = "oms:rocketmq://localhost:9876/default:default";
```

### UtilityClassWithoutPrivateConstructor
Class `SimpleProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/openmessaging/SimpleProducer.java`
#### Snippet
```java
import java.util.concurrent.CountDownLatch;

public class SimpleProducer {

    public static final String URL = "oms:rocketmq://localhost:9876/default:default";
```

### UtilityClassWithoutPrivateConstructor
Class `Consumer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
import org.apache.rocketmq.srvutil.ServerUtil;

public class Consumer {

    public static void main(String[] args) throws MQClientException, IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `TransactionProducer` has only 'static' members, and lacks a 'private' constructor
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
import java.util.concurrent.atomic.LongAdder;

public class TransactionProducer {
    private static final long START_TIME = System.currentTimeMillis();
    private static final LongAdder MSG_COUNT = new LongAdder();
```

## RuleId[ruleID=DataFlowIssue]
### DataFlowIssue
Method invocation `iterator` may produce `NullPointerException`
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java

                int count = 0;
                for (Iterator i = inList.iterator(); i.hasNext(); ) {
                    Object o = (Object) i.next();
                    if (count != 0) {
```

### DataFlowIssue
Result of 'min' is the same as the first argument making the call meaningless
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java

        if (curPos < toRet)
            for (i = toRet - Math.min(curPos, seenUpto); i-- > 0; )
                try {
                    curChar = inputStream.readChar();
```

### DataFlowIssue
Casting `lv` to `String` will produce `ClassCastException` for any non-null value
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                if (lc == Boolean.class) {
                    if (convertStringExpressions && rc == String.class) {
                        lv = Boolean.valueOf((String) lv).booleanValue();
                    } else {
                        return -1;
```

### DataFlowIssue
Method invocation `getStoreTimestamp` may produce `NullPointerException`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                    MappedFile firstBcq = mappedFileQueue.getFirstMappedFile();
                    BatchOffsetIndex minForFirstBcq = getMinMsgOffset(firstBcq, false, true);
                    if (minForFirstBcq != null && minForFirstBcq.getStoreTimestamp() <= timestamp && timestamp < minForLastBcq.getStoreTimestamp()) {
                        // old search logic
                        targetBcq = this.searchTimeFromFiles(timestamp);
```

### DataFlowIssue
Method invocation `getMsgOffset` may produce `NullPointerException`
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                    MappedFile firstBcq = mappedFileQueue.getFirstMappedFile();
                    BatchOffsetIndex minForFirstBcq = getMinMsgOffset(firstBcq, false, false);
                    if (minForFirstBcq != null && minForFirstBcq.getMsgOffset() <= msgOffset && msgOffset < minForLastBcq.getMsgOffset()) {
                        // old search logic
                        targetBcq = this.searchOffsetFromFiles(msgOffset);
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `store/src/main/java/org/apache/rocketmq/store/queue/ConsumeQueueStore.java`
#### Snippet
```java
                this.messageStore);
        } else {
            throw new RuntimeException(format("queue type %s is not supported.", cqType.toString()));
        }
    }
```

### DataFlowIssue
Variable is already assigned to this value
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java

            if (maxOffset == 0) {
                status = GetMessageStatus.NO_MESSAGE_IN_QUEUE;
                nextBeginOffset = nextOffsetCorrection(offset, 0);
            } else if (offset < minOffset) {
```

### DataFlowIssue
Dereference of `files` may produce `NullPointerException`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
        File file = new File(path);
        File[] files = file.listFiles();
        for (int i = 0; i < files.length; i++) {
            String fileName = files[i].getAbsolutePath();
            File f = new File(fileName);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
            String aclFileName = accessKeyTable.get(plainAccessConfig.getAccessKey());
            Map<String, Object> aclAccessConfigMap = AclUtils.getYamlDataObject(aclFileName, Map.class);
            List<Map<String, Object>> accounts = (List<Map<String, Object>>) aclAccessConfigMap.get(AclConstants.CONFIG_ACCOUNTS);
            if (null != accounts) {
                for (Map<String, Object> account : accounts) {
```

### DataFlowIssue
Argument `ctx` might be null
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
                return this.wipeWritePermOfBroker(ctx, request);
            case RequestCode.ADD_WRITE_PERM_OF_BROKER:
                return this.addWritePermOfBroker(ctx, request);
            case RequestCode.GET_ALL_TOPIC_LIST_FROM_NAMESERVER:
                return this.getAllTopicListFromNameserver(ctx, request);
```

### DataFlowIssue
Argument `ctx` might be null
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/processor/DefaultRequestProcessor.java`
#### Snippet
```java
                return this.addWritePermOfBroker(ctx, request);
            case RequestCode.GET_ALL_TOPIC_LIST_FROM_NAMESERVER:
                return this.getAllTopicListFromNameserver(ctx, request);
            case RequestCode.DELETE_TOPIC_IN_NAMESRV:
                return this.deleteTopicInNamesrv(ctx, request);
```

### DataFlowIssue
Method invocation `add` may produce `NullPointerException`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
                fileIndexPy = (int) (tr.getOffsetPy() / commitLogFileSize);
            } else {
                currList.add(tr);
                if (++msgIndex % 2000 == 0) {
                    lists.add(currList);
```

### DataFlowIssue
@Nullable method 'load' always returns a non-null value
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteService.java`
#### Snippet
```java
            refreshAfterWrite(config.getTopicRouteServiceCacheExpiredInSeconds(), TimeUnit.SECONDS).
            executor(cacheRefreshExecutor).build(new CacheLoader<String, MessageQueueView>() {
                @Override public @Nullable MessageQueueView load(String topic) throws Exception {
                    try {
                        TopicRouteData topicRouteData = topicRouteCacheLoader.loadTopicRouteData(topic);
```

### DataFlowIssue
Method invocation `isEmptyCachedQueue` may produce `NullPointerException`
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/route/TopicRouteService.java`
#### Snippet
```java
        String key) throws Exception {
        MessageQueueView res = topicCache.get(key);
        if (res.isEmptyCachedQueue()) {
            throw new MQClientException(ResponseCode.TOPIC_NOT_EXIST,
                "No topic route info in name server for the topic: " + key);
```

### DataFlowIssue
Dereference of `header` may produce `NullPointerException`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
            this.makeCustomHeaderToNet();
            byte[] header = RemotingSerializable.encode(this);
            headerSize = header.length;
            out.writeBytes(header);
        }
```

### DataFlowIssue
Dereference of `cmd` may produce `NullPointerException`
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/RemotingCommand.java`
#### Snippet
```java
            byteBuffer.readBytes(bodyData);
        }
        cmd.body = bodyData;

        return cmd;
```

### DataFlowIssue
Method invocation `channel` may produce `NullPointerException`
in `controller/src/main/java/org/apache/rocketmq/controller/processor/ControllerRequestProcessor.java`
#### Snippet
```java
                    if (responseHeader != null && responseHeader.getBrokerId() >= 0) {
                        this.heartbeatManager.registerBroker(controllerRequest.getClusterName(), controllerRequest.getBrokerName(), controllerRequest.getBrokerAddress(),
                                                             responseHeader.getBrokerId(), controllerRequest.getHeartbeatTimeoutMillis(), ctx.channel(),
                                                             controllerRequest.getEpoch(), controllerRequest.getMaxOffset(), controllerRequest.getElectionPriority());
                    }
```

### DataFlowIssue
Dereference of `files` may produce `NullPointerException`
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        } else if (file.isDirectory()) {
            File[] files = file.listFiles();
            for (File file1 : files) {
                deleteFile(file1);
            }
```

### DataFlowIssue
Method invocation `getBytes` may produce `NullPointerException`
in `common/src/main/java/org/apache/rocketmq/common/utils/HttpTinyClient.java`
#### Snippet
```java
            setHeaders(conn, headers, encoding);

            conn.getOutputStream().write(encodedContent.getBytes(MixAll.DEFAULT_CHARSET));

            int respCode = conn.getResponseCode();
```

### DataFlowIssue
Casting `this.bornHost` to `InetSocketAddress` will produce `ClassCastException` for any non-null value
in `common/src/main/java/org/apache/rocketmq/common/message/MessageExt.java`
#### Snippet
```java
                return ((InetSocketAddress) bornHost).getHostString();
            }
            InetAddress inetAddress = ((InetSocketAddress) this.bornHost).getAddress();

            return null != inetAddress ? inetAddress.getHostName() : null;
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
                                returnType = ConsumeReturnType.FAILED;
                            } else if (ConsumeOrderlyStatus.SUCCESS == status) {
                                returnType = ConsumeReturnType.SUCCESS;
                            }

```

### DataFlowIssue
Method invocation `getProps` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java

                            if (ConsumeMessageOrderlyService.this.defaultMQPushConsumerImpl.hasHook()) {
                                consumeMessageContext.getProps().put(MixAll.CONSUME_CONTEXT_TYPE, returnType.name());
                            }

```

### DataFlowIssue
Method invocation `setStatus` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java

                            if (ConsumeMessageOrderlyService.this.defaultMQPushConsumerImpl.hasHook()) {
                                consumeMessageContext.setStatus(status.toString());
                                consumeMessageContext
                                    .setSuccess(ConsumeOrderlyStatus.SUCCESS == status || ConsumeOrderlyStatus.COMMIT == status);
```

### DataFlowIssue
Argument `msg` might be null
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
            try {

                pushConsumer.sendMessageBack(msg, 3);
                log.info("send expire msg back. topic={}, msgId={}, storeHost={}, queueId={}, queueOffset={}", msg.getTopic(), msg.getMsgId(), msg.getStoreHost(), msg.getQueueId(), msg.getQueueOffset());
                try {
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceLitePullImpl.java`
#### Snippet
```java
                    }
                } else {
                    result = -1;
                }
                break;
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceLitePullImpl.java`
#### Snippet
```java
                    result = 0L;
                } else {
                    result = -1;
                }
                break;
```

### DataFlowIssue
Method invocation `getTime` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceLitePullImpl.java`
#### Snippet
```java
                        try {
                            long timestamp = UtilAll.parseDate(this.litePullConsumerImpl.getDefaultLitePullConsumer().getConsumeTimestamp(),
                                UtilAll.YYYYMMDDHHMMSS).getTime();
                            result = this.mQClientFactory.getMQAdminImpl().searchOffset(mq, timestamp);
                        } catch (MQClientException e) {
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceLitePullImpl.java`
#### Snippet
```java
                    }
                } else {
                    result = -1;
                }
                break;
```

### DataFlowIssue
Method invocation `getTime` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePushImpl.java`
#### Snippet
```java
                        try {
                            long timestamp = UtilAll.parseDate(this.defaultMQPushConsumerImpl.getDefaultMQPushConsumer().getConsumeTimestamp(),
                                UtilAll.YYYYMMDDHHMMSS).getTime();
                            result = this.mQClientFactory.getMQAdminImpl().searchOffset(mq, timestamp);
                        } catch (MQClientException e) {
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
                returnType = ConsumeReturnType.FAILED;
            } else if (ConsumeConcurrentlyStatus.CONSUME_SUCCESS == status) {
                returnType = ConsumeReturnType.SUCCESS;
            }

```

### DataFlowIssue
Method invocation `getProps` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java

            if (ConsumeMessagePopConcurrentlyService.this.defaultMQPushConsumerImpl.hasHook()) {
                consumeMessageContext.getProps().put(MixAll.CONSUME_CONTEXT_TYPE, returnType.name());
                consumeMessageContext.setStatus(status.toString());
                consumeMessageContext.setSuccess(ConsumeConcurrentlyStatus.CONSUME_SUCCESS == status);
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                break;
            case ResponseCode.PULL_NOT_FOUND:
                pullStatus = PullStatus.NO_NEW_MSG;
                break;
            case ResponseCode.PULL_RETRY_IMMEDIATELY:
```

### DataFlowIssue
Variable is already assigned to this value
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
                returnType = ConsumeReturnType.FAILED;
            } else if (ConsumeConcurrentlyStatus.CONSUME_SUCCESS == status) {
                returnType = ConsumeReturnType.SUCCESS;
            }

```

### DataFlowIssue
Method invocation `getProps` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java

            if (ConsumeMessageConcurrentlyService.this.defaultMQPushConsumerImpl.hasHook()) {
                consumeMessageContext.getProps().put(MixAll.CONSUME_CONTEXT_TYPE, returnType.name());
            }

```

### DataFlowIssue
Method invocation `setStatus` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java

            if (ConsumeMessageConcurrentlyService.this.defaultMQPushConsumerImpl.hasHook()) {
                consumeMessageContext.setStatus(status.toString());
                consumeMessageContext.setSuccess(ConsumeConcurrentlyStatus.CONSUME_SUCCESS == status);
                ConsumeMessageConcurrentlyService.this.defaultMQPushConsumerImpl.executeHookAfter(consumeMessageContext);
```

### DataFlowIssue
Method invocation `setSendResult` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java

                if (this.hasSendMessageHook()) {
                    context.setSendResult(sendResult);
                    this.executeSendMessageHookAfter(context);
                }
```

### DataFlowIssue
Method invocation `setException` may produce `NullPointerException`
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
            } catch (RemotingException | InterruptedException | MQBrokerException e) {
                if (this.hasSendMessageHook()) {
                    context.setException(e);
                    this.executeSendMessageHookAfter(context);
                }
```

### DataFlowIssue
Dereference of `files` may produce `NullPointerException`
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/AclFileWatchService.java`
#### Snippet
```java
        }
        File[] files = file.listFiles();
        for (int i = 0; i < files.length; i++) {
            String fileName = files[i].getAbsolutePath();
            File f = new File(fileName);
```

### DataFlowIssue
Argument `msg` might be null
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/LocalMessageCache.java`
#### Snippet
```java

                try {
                    rocketmqPullConsumer.sendMessageBack(msg, 3);
                    log.info("Send expired msg back. topic={}, msgId={}, storeHost={}, queueId={}, queueOffset={}",
                        msg.getTopic(), msg.getMsgId(), msg.getStoreHost(), msg.getQueueId(), msg.getQueueOffset());
```

### DataFlowIssue
Method invocation `getPath` may produce `NullPointerException`
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java

    public static void main(String[] args) {
        String filePath = FileUtil.class.getResource("/").getPath();
        String fileName = "test.txt";
        FileUtil fileUtil = new FileUtil(filePath, fileName);
```

### DataFlowIssue
Variable is already assigned to this value
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
                v = getIntegerBetween(mn, mx);
                if (v == mx) {
                    mx = v;
                }
                if (v == mn) {
```

### DataFlowIssue
Variable is already assigned to this value
in `test/src/main/java/org/apache/rocketmq/test/util/RandomUtil.java`
#### Snippet
```java
                }
                if (v == mn) {
                    mn = v;
                }
            }
```

### DataFlowIssue
Variable is already assigned to this value
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            val = Integer.parseInt(s);
        } catch (NumberFormatException e) {
            val = defval;
        }
        return val;
```

### DataFlowIssue
Variable is already assigned to this value
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            val = Long.parseLong(s);
        } catch (NumberFormatException e) {
            val = defval;
        }
        return val;
```

### DataFlowIssue
Dereference of `dir.listFiles()` may produce `NullPointerException`
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
        File dir = new File(String.format("%s/%s", base, label));
        Map<String, TreeMap<String, String>> schemaMap = new TreeMap<>();
        for (File file: dir.listFiles()) {
            BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(file), StandardCharsets.UTF_8));
            String line = null;
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ExpressionForRetryMessageFilter.java`
#### Snippet
```java
                tempProperties = MessageDecoder.decodeProperties(msgBuffer);
            }
            String realTopic = tempProperties.get(MessageConst.PROPERTY_RETRY_TOPIC);
            String group = subscriptionData.getTopic().substring(MixAll.RETRY_GROUP_TOPIC_PREFIX.length());
            realFilterData = this.consumerFilterManager.get(realTopic, group);
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                break;
            case ResponseCode.PULL_NOT_FOUND:
                pullStatus = PullStatus.NO_NEW_MSG;
                break;
            case ResponseCode.PULL_RETRY_IMMEDIATELY:
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
                        break;
                    case ResponseCode.SUCCESS:
                        sendStatus = SendStatus.SEND_OK;
                        break;
                    default:
```

### DataFlowIssue
Result of 'min' is the same as the second argument making the call meaningless
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOffsetManager.java`
#### Snippet
```java
                        Long offset = queueMinOffset.get(entry.getKey());
                        if (offset == null) {
                            queueMinOffset.put(entry.getKey(), Math.min(Long.MAX_VALUE, entry.getValue()));
                        } else {
                            queueMinOffset.put(entry.getKey(), Math.min(entry.getValue(), offset));
```

### DataFlowIssue
Method invocation `load` may produce `NullPointerException`
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        }

        result = result && this.messageStore.load();

        if (messageStoreConfig.isTimerWheelEnable()) {
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                        //actually, we need do nothing, but keep the code structure here
                        if (code == ResponseCode.PULL_OFFSET_MOVED) {
                            responseCode = ResponseCode.PULL_OFFSET_MOVED;
                            nextBeginOffset = maxOffset;
                        } else {
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                        } else {
                            //maybe current broker is the slave
                            responseCode = code;
                        }
                    } else if (requestOffset < minOffset) {
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                        responseCode = ResponseCode.PULL_RETRY_IMMEDIATELY;
                    } else {
                        responseCode = code;
                    }
                }
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                    } else {
                        //let it go
                        responseCode = code;
                    }
                }
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                        }
                    } else {
                        responseCode = code;
                    }
                }
```

### DataFlowIssue
Variable is already assigned to this value
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/queue/TransactionalMessageBridge.java`
#### Snippet
```java
                case NO_MESSAGE_IN_QUEUE:
                case OFFSET_OVERFLOW_ONE:
                    pullStatus = PullStatus.NO_NEW_MSG;
                    LOGGER.warn("No new message. GetMessageStatus={}, topic={}, groupId={}, requestOffset={}",
                        getMessageResult.getStatus(), topic, group, offset);
```

### DataFlowIssue
Variable is already assigned to this value
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
                            success = sendResult != null && sendResult.getSendStatus() == SendStatus.SEND_OK;
                        } catch (Throwable e) {
                            success = false;
                        } finally {
                            final long currentRT = System.currentTimeMillis() - beginTimestamp;
```

## RuleId[ruleID=DeprecatedIsStillUsed]
### DeprecatedIsStillUsed
Deprecated member 'recoverAbnormally' is still used
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

    @Deprecated
    public void recoverAbnormally(long maxPhyOffsetOfConsumeQueue) {
        // recover by the minimum time stamp
        boolean checkCRCOnRecover = this.defaultMessageStore.getMessageStoreConfig().isCheckCRCOnRecover();
```

### DeprecatedIsStillUsed
Deprecated member 'getAclConfigVersion' is still used
in `acl/src/main/java/org/apache/rocketmq/acl/AccessValidator.java`
#### Snippet
```java
     */
    @Deprecated
    String getAclConfigVersion();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'GROUP_GET_FALL_TIME' is still used
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java

    @Deprecated public static final String GROUP_GET_FALL_SIZE = Stats.GROUP_GET_FALL_SIZE;
    @Deprecated public static final String GROUP_GET_FALL_TIME = Stats.GROUP_GET_FALL_TIME;
    // Pull Message Latency
    @Deprecated public static final String GROUP_GET_LATENCY = Stats.GROUP_GET_LATENCY;
```

### DeprecatedIsStillUsed
Deprecated member 'GROUP_GET_FALL_SIZE' is still used
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
    public static final String INNER_RT = "INNER_RT";

    @Deprecated public static final String GROUP_GET_FALL_SIZE = Stats.GROUP_GET_FALL_SIZE;
    @Deprecated public static final String GROUP_GET_FALL_TIME = Stats.GROUP_GET_FALL_TIME;
    // Pull Message Latency
```

### DeprecatedIsStillUsed
Deprecated member 'dataVersion' is still used
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java

    @Deprecated
    private final DataVersion dataVersion = new DataVersion();

    private List<String> fileList = new ArrayList<>();
```

### DeprecatedIsStillUsed
Deprecated member 'getAclConfigDataVersion' is still used
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java

    @Deprecated
    public String getAclConfigDataVersion() {
        return this.dataVersion.toJson();
    }
```

### DeprecatedIsStillUsed
Deprecated member 'aclConfigDataVersion' is still used
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/ClusterAclVersionInfo.java`
#### Snippet
```java

    @Deprecated
    private DataVersion aclConfigDataVersion;

    private Map<String, DataVersion> allAclConfigDataVersion;
```

### DeprecatedIsStillUsed
Deprecated member 'GetConsumerStatusBody' is still used
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/body/GetConsumerStatusBody.java`
#### Snippet
```java

@Deprecated
public class GetConsumerStatusBody extends RemotingSerializable {
    private Map<MessageQueue, Long> messageQueueTable = new HashMap<>();
    private Map<String, Map<MessageQueue, Long>> consumerTable =
```

### DeprecatedIsStillUsed
Deprecated member 'CONSUME_FROM_MAX_OFFSET' is still used
in `common/src/main/java/org/apache/rocketmq/common/consumer/ConsumeFromWhere.java`
#### Snippet
```java
    CONSUME_FROM_MIN_OFFSET,
    @Deprecated
    CONSUME_FROM_MAX_OFFSET,
    CONSUME_FROM_FIRST_OFFSET,
    CONSUME_FROM_TIMESTAMP,
```

### DeprecatedIsStillUsed
Deprecated member 'CONSUME_FROM_LAST_OFFSET_AND_FROM_MIN_WHEN_BOOT_FIRST' is still used
in `common/src/main/java/org/apache/rocketmq/common/consumer/ConsumeFromWhere.java`
#### Snippet
```java

    @Deprecated
    CONSUME_FROM_LAST_OFFSET_AND_FROM_MIN_WHEN_BOOT_FIRST,
    @Deprecated
    CONSUME_FROM_MIN_OFFSET,
```

### DeprecatedIsStillUsed
Deprecated member 'CONSUME_FROM_MIN_OFFSET' is still used
in `common/src/main/java/org/apache/rocketmq/common/consumer/ConsumeFromWhere.java`
#### Snippet
```java
    CONSUME_FROM_LAST_OFFSET_AND_FROM_MIN_WHEN_BOOT_FIRST,
    @Deprecated
    CONSUME_FROM_MIN_OFFSET,
    @Deprecated
    CONSUME_FROM_MAX_OFFSET,
```

### DeprecatedIsStillUsed
Deprecated member 'getConsumeStatus' is still used
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java

    @Deprecated
    public RemotingCommand getConsumeStatus(ChannelHandlerContext ctx,
        RemotingCommand request) throws RemotingCommandException {
        final RemotingCommand response = RemotingCommand.createResponseCommand(null);
```

### DeprecatedIsStillUsed
Deprecated member 'computePullFromWhere' is still used
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalanceImpl.java`
#### Snippet
```java
     */
    @Deprecated
    public abstract long computePullFromWhere(final MessageQueue mq);

    public abstract long computePullFromWhereWithException(final MessageQueue mq) throws MQClientException;
```

### DeprecatedIsStillUsed
Deprecated member 'uploadFilterClassToAllFilterServer' is still used
in `client/src/main/java/org/apache/rocketmq/client/impl/factory/MQClientInstance.java`
#### Snippet
```java
     */
    @Deprecated
    private void uploadFilterClassToAllFilterServer(final String consumerGroup, final String fullClassName,
        final String topic,
        final String filterClassSource) {
```

### DeprecatedIsStillUsed
Deprecated member 'DefaultMQPullConsumerImpl' is still used
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPullConsumerImpl.java`
#### Snippet
```java
 */
@Deprecated
public class DefaultMQPullConsumerImpl implements MQConsumerInner {
    private static final Logger log = LoggerFactory.getLogger(DefaultMQPullConsumerImpl.class);
    private final DefaultMQPullConsumer defaultMQPullConsumer;
```

### DeprecatedIsStillUsed
Deprecated member 'setBrokerSuspendMaxTimeMillis' is still used
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPullConsumer.java`
#### Snippet
```java
     */
    @Deprecated
    public void setBrokerSuspendMaxTimeMillis(long brokerSuspendMaxTimeMillis) {
        this.brokerSuspendMaxTimeMillis = brokerSuspendMaxTimeMillis;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'TransactionCheckListener' is still used
in `client/src/main/java/org/apache/rocketmq/client/producer/TransactionCheckListener.java`
#### Snippet
```java
 */
@Deprecated
public interface TransactionCheckListener {
    LocalTransactionState checkLocalTransactionState(final MessageExt msg);
}
```

### DeprecatedIsStillUsed
Deprecated member 'setTransactionCheckListener' is still used
in `client/src/main/java/org/apache/rocketmq/client/producer/TransactionMQProducer.java`
#### Snippet
```java
     */
    @Deprecated
    public void setTransactionCheckListener(TransactionCheckListener transactionCheckListener) {
        this.transactionCheckListener = transactionCheckListener;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'checkListener' is still used
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
    @Override
    @Deprecated
    public TransactionCheckListener checkListener() {
        if (this.defaultMQProducer instanceof TransactionMQProducer) {
            TransactionMQProducer producer = (TransactionMQProducer) defaultMQProducer;
```

### DeprecatedIsStillUsed
Deprecated member 'fileCurrentHash' is still used
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/AclFileWatchService.java`
#### Snippet
```java
    private int aclFilesNum;
    @Deprecated
    private final Map<String, String> fileCurrentHash;
    private Map<String, Long> fileLastModifiedTime;
    private List<String/**absolute pathname **/> fileList = new ArrayList<>();
```

### DeprecatedIsStillUsed
Deprecated member 'LocalTransactionExecuter' is still used
in `client/src/main/java/org/apache/rocketmq/client/producer/LocalTransactionExecuter.java`
#### Snippet
```java
 */
@Deprecated
public interface LocalTransactionExecuter {
    LocalTransactionState executeLocalTransactionBranch(final Message msg, final Object arg);
}
```

## RuleId[ruleID=Convert2MethodRef]
### Convert2MethodRef
Lambda can be replaced with method reference
in `broker/src/main/java/org/apache/rocketmq/broker/failover/EscapeBridge.java`
#### Snippet
```java

                return future.exceptionally(throwable -> null)
                    .thenApplyAsync(sendResult -> transformSendResult2PutResult(sendResult), this.defaultAsyncSenderExecutor)
                    .exceptionally(throwable -> transformSendResult2PutResult(null));

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
        public PutResultProcess thenProcess() {
            this.future.thenAccept(result -> {
                this.handleResult(result);
            });

```

## RuleId[ruleID=AbstractMethodCallInConstructor]
### AbstractMethodCallInConstructor
Call to 'abstract' method `getServiceName()` during object construction
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/ServiceThread.java`
#### Snippet
```java

    public ServiceThread() {
        this.thread = new Thread(this, this.getServiceName());
    }

```

## RuleId[ruleID=RedundantCollectionOperation]
### RedundantCollectionOperation
Unnecessary 'containsKey()' check
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainAccessResource.java`
#### Snippet
```java
        }
        if (request.getVersion() <= MQVersion.Version.V4_9_3.ordinal()
            && map.containsKey(MixAll.UNIQUE_MSG_QUERY_FLAG)) {
            map.remove(MixAll.UNIQUE_MSG_QUERY_FLAG);
        }
```

## RuleId[ruleID=CatchMayIgnoreException]
### CatchMayIgnoreException
Empty `catch` block
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
                }
                while (p != null);
            } catch (LookaheadSuccess ls) {
            }
        }
```

### CatchMayIgnoreException
Empty `catch` block
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
                            try {
                                Thread.sleep(deleteFilesInterval);
                            } catch (InterruptedException e) {
                            }
                        }
```

### CatchMayIgnoreException
Empty `catch` block
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

            return dispatchRequest;
        } catch (Exception e) {
        }

```

### CatchMayIgnoreException
Empty `catch` block
in `store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java`
#### Snippet
```java
        try {
            return this.statsTable.get(statsName).getStatsItem(statsKey);
        } catch (Exception e) {
        }

```

### CatchMayIgnoreException
Empty `catch` block
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                long storeTime = this.getCommitLog().pickupStoreTimestamp(phyOffset, size);
                return storeTime;
            } catch (Exception e) {
            }
        }
```

### CatchMayIgnoreException
Empty `catch` block
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                            }
                        }
                    } catch (Exception e) {
                    }
                }
```

### CatchMayIgnoreException
Empty `catch` block
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
                lock.release();
                lockFile.close();
            } catch (IOException e) {
            }
        }
```

### CatchMayIgnoreException
Empty `catch` block
in `common/src/main/java/org/apache/rocketmq/common/stats/MomentStatsItem.java`
#### Snippet
```java

                    MomentStatsItem.this.value.set(0);
                } catch (Throwable e) {
                }
            }
```

### CatchMayIgnoreException
Empty `catch` block
in `common/src/main/java/org/apache/rocketmq/common/consistenthash/ConsistentHashRouter.java`
#### Snippet
```java
            try {
                instance = MessageDigest.getInstance("MD5");
            } catch (NoSuchAlgorithmException e) {
            }
        }
```

### CatchMayIgnoreException
Empty `catch` block
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
            info.setLastPullTimestamp(this.lastPullTimestamp);
            info.setLastConsumeTimestamp(this.lastConsumeTimestamp);
        } catch (Exception e) {
        } finally {
            this.treeMapLock.readLock().unlock();
```

### CatchMayIgnoreException
Empty `catch` block
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ProcessQueue.java`
#### Snippet
```java
                this.treeMapLock.readLock().unlock();
            }
        } catch (InterruptedException e) {
        }

```

### CatchMayIgnoreException
Empty `catch` block
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                                context.getProducer().executeSendMessageHookAfter(context);
                            }
                        } catch (Throwable e) {
                        }

```

### CatchMayIgnoreException
Empty `catch` block
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                            try {
                                sendCallback.onSuccess(sendResult);
                            } catch (Throwable e) {
                            }

```

### CatchMayIgnoreException
Empty `catch` block
in `test/src/main/java/org/apache/rocketmq/test/util/MQWait.java`
#### Snippet
```java
                    recvAll = true;
                    break;
                } catch (Throwable e) {
                }
                TestUtil.waitForMonment(500);
```

### CatchMayIgnoreException
Empty `catch` block
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
            mqAdminExt.start();
            mqAdminExt.createTopic(clusterName, topic, queueNum, attributes);
        } catch (Exception e) {
        }

```

### CatchMayIgnoreException
Empty `catch` block
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
            TopicStatsTable topicInfo = mqAdminExt.examineTopicStats(topic);
            createResult = !topicInfo.getOffsetTable().isEmpty();
        } catch (Exception e) {
        }

```

### CatchMayIgnoreException
'catch' parameter named `ignore` is used
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        try {
            scheduledExecutorService.awaitTermination(5000, TimeUnit.MILLISECONDS);
        } catch (InterruptedException ignore) {
            BrokerController.LOG.warn("shutdown ScheduledExecutorService was Interrupted!  ", ignore);
            Thread.currentThread().interrupt();
```

### CatchMayIgnoreException
Empty `catch` block
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PullMessageProcessor.java`
#### Snippet
```java
                try {
                    hook.consumeMessageBefore(context);
                } catch (Throwable e) {
                }
            }
```

### CatchMayIgnoreException
Empty `catch` block
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
        try {
            Thread.sleep(2000);
        } catch (InterruptedException e) {
        }
        if (!isShouldRunning()) {
```

### CatchMayIgnoreException
Empty `catch` block
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
            selectMappedBufferResult.getByteBuffer().get(body);
            request.setBody(body);
        } catch (UnknownHostException e) {
        } finally {
            if (selectMappedBufferResult != null) {
```

### CatchMayIgnoreException
Empty `catch` block
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                    }
                }
            } catch (Throwable e) {
            }
        }
```

### CatchMayIgnoreException
Empty `catch` block
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException e1) {
                            }
                            statsBenchmark.getSendRequestFailedCount().increment();
```

### CatchMayIgnoreException
Empty `catch` block
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                            try {
                                Thread.sleep(3000);
                            } catch (InterruptedException e1) {
                            }
                        } catch (MQClientException e) {
```

### CatchMayIgnoreException
Empty `catch` block
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
            try {
                executorService.awaitTermination(5000, TimeUnit.MILLISECONDS);
            } catch (InterruptedException e) {
            }

```

### CatchMayIgnoreException
Empty `catch` block
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
                                try {
                                    Thread.sleep(config.sendInterval);
                                } catch (InterruptedException e) {
                                }
                            }
```

## RuleId[ruleID=UnnecessaryToStringCall]
### UnnecessaryToStringCall
Unnecessary `toString()` call
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java
                    return cw.getChannel();
                } else {
                    LOGGER.warn("createChannel: connect remote host[" + addr + "] failed, " + channelFuture.toString());
                }
            } else {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
            sm.add(new InfoStatus("Could NOT find resource [" + resourceName + "]", context));
        } else {
            sm.add(new InfoStatus("Found resource [" + resourceName + "] at [" + url.toString() + "]", context));
            multiplicityWarning(resourceName, classLoader);
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `client/src/main/java/org/apache/rocketmq/client/trace/TraceContext.java`
#### Snippet
```java
            }
        }
        return "TraceContext{" + sb.toString() + '}';
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        requestHeader.setTranStateTableOffset(sendResult.getQueueOffset());
        requestHeader.setMsgId(sendResult.getMsgId());
        String remark = localException != null ? ("executeLocalTransactionBranch exception: " + localException.toString()) : null;
        this.mQClientFactory.getMQClientAPIImpl().endTransactionOneway(brokerAddr, requestHeader, remark,
            this.defaultMQProducer.getSendMsgTimeout());
```

## RuleId[ruleID=AssignmentToForLoopParameter]
### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            char c = image.charAt(i);
            if (c == '\'')
                i++;
            rc.append(c);
        }
```

## RuleId[ruleID=SetReplaceableByEnumSet]
### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/consumer/AckMessageActivity.java`
#### Snippet
```java
                }

                Set<Code> responseCodes = new HashSet<>();
                List<AckMessageResultEntry> entryList = new ArrayList<>();
                for (CompletableFuture<AckMessageResultEntry> entryFuture : futures) {
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
        SendMessageResponse.Builder builder = SendMessageResponse.newBuilder();

        Set<Code> responseCodes = new HashSet<>();
        for (SendResult result : resultList) {
            SendResultEntry resultEntry;
```

## RuleId[ruleID=InnerClassMayBeStatic]
### InnerClassMayBeStatic
Inner class `FlushCommitLogService` may be 'static'
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
    }

    abstract class FlushCommitLogService extends ServiceThread {
        protected static final int RETRY_TIMES_OVER = 10;
    }
```

### InnerClassMayBeStatic
Inner class `EncodeResult` may be 'static'
in `store/src/main/java/org/apache/rocketmq/store/dledger/DLedgerCommitLog.java`
#### Snippet
```java
    }

    class EncodeResult {
        private String queueOffsetKey;
        private ByteBuffer data;
```

### InnerClassMayBeStatic
Inner class `AbstractStateService` may be 'static'
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
    }

    abstract class AbstractStateService extends ServiceThread {
        public static final int INITIAL = -1, START = 0, WAITING = 1, RUNNING = 2, END = 3;
        protected int state = INITIAL;
```

### InnerClassMayBeStatic
Inner class `MessageQueueState` may be 'static'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/AssignedMessageQueue.java`
#### Snippet
```java
    }

    private class MessageQueueState {
        private MessageQueue messageQueue;
        private ProcessQueue processQueue;
```

### InnerClassMayBeStatic
Inner class `FaultItem` may be 'static'
in `client/src/main/java/org/apache/rocketmq/client/latency/LatencyFaultToleranceImpl.java`
#### Snippet
```java
    }

    class FaultItem implements Comparable<FaultItem> {
        private final String name;
        private volatile long currentLatency;
```

### InnerClassMayBeStatic
Inner class `ConsumeRequest` may be 'static'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    }

    public class ConsumeRequest {
        private final List<MessageExt> messageExts;
        private final MessageQueue messageQueue;
```

### InnerClassMayBeStatic
Inner class `PushReplyResult` may be 'static'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java`
#### Snippet
```java
    }

    class PushReplyResult {
        boolean pushOk;
        String remark;
```

### InnerClassMayBeStatic
Inner class `PopCheckPointWrapper` may be 'static'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
    }

    public class PopCheckPointWrapper {
        private final int reviveQueueId;
        // -1: not stored, >=0: stored, Long.MAX: storing.
```

### InnerClassMayBeStatic
Inner class `QueueWithTime` may be 'static'
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
    }

    public class QueueWithTime<T> {
        private final LinkedBlockingDeque<T> queue;
        private long time;
```

### InnerClassMayBeStatic
Inner class `MsgMeta` may be 'static'
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
    private final LRUMap<Long, Integer> cache = new LRUMap<>(200000);

    private class MsgMeta {
        long batchId;
        long msgId;
```

## RuleId[ruleID=StringEqualsEmptyString]
### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        double getDiskSpaceWarningLevelRatio() {
            double finalDiskSpaceWarningLevelRatio;
            if ("".equals(diskSpaceWarningLevelRatio)) {
                finalDiskSpaceWarningLevelRatio = DefaultMessageStore.this.getMessageStoreConfig().getDiskSpaceWarningLevelRatio() / 100.0;
            } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
        double getDiskSpaceCleanForciblyRatio() {
            double finalDiskSpaceCleanForciblyRatio;
            if ("".equals(diskSpaceCleanForciblyRatio)) {
                finalDiskSpaceCleanForciblyRatio = DefaultMessageStore.this.getMessageStoreConfig().getDiskSpaceCleanForciblyRatio() / 100.0;
            } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java

    public boolean updateGlobalWhiteAddrsConfig(List<String> globalWhiteAddrsList, String fileName) {
        if (fileName == null || fileName.equals("")) {
            fileName = this.defaultAclFile;
        }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
    public static void closeChannel(Channel channel) {
        final String addrRemote = RemotingHelper.parseChannelRemoteAddr(channel);
        if ("".equals(addrRemote)) {
            channel.close();
        } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/utils/ServiceProvider.java`
#### Snippet
```java
        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8))) {
            String serviceName = reader.readLine();
            if (serviceName != null && !"".equals(serviceName)) {
                s = initService(getContextClassLoader(), serviceName, clazz);
            } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/utils/ServiceProvider.java`
#### Snippet
```java
            String serviceName = reader.readLine();
            List<String> names = new ArrayList<>();
            while (serviceName != null && !"".equals(serviceName)) {
                LOG.info(
                    "Creating an instance as specified by file {} which was present in the path of the context classloader.",
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/filter/ExpressionType.java`
#### Snippet
```java

    public static boolean isTagType(String type) {
        if (type == null || "".equals(type) || TAG.equals(type)) {
            return true;
        }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java

    public static byte[] string2bytes(String hexString) {
        if (hexString == null || hexString.equals("")) {
            return null;
        }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/ClientRemotingProcessor.java`
#### Snippet
```java
            }
            String transactionId = messageExt.getProperty(MessageConst.PROPERTY_UNIQ_CLIENT_MESSAGE_ID_KEYIDX);
            if (null != transactionId && !"".equals(transactionId)) {
                messageExt.setTransactionId(transactionId);
            }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                    }
                    String transactionId = msg.getProperty(MessageConst.PROPERTY_UNIQ_CLIENT_MESSAGE_ID_KEYIDX);
                    if (null != transactionId && !"".equals(transactionId)) {
                        msg.setTransactionId(transactionId);
                    }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    public synchronized void subscribe(String topic, String subExpression) throws MQClientException {
        try {
            if (topic == null || "".equals(topic)) {
                throw new IllegalArgumentException("Topic can not be null or empty.");
            }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    public synchronized void subscribe(String topic, MessageSelector messageSelector) throws MQClientException {
        try {
            if (topic == null || "".equals(topic)) {
                throw new IllegalArgumentException("Topic can not be null or empty.");
            }
```

## RuleId[ruleID=UnnecessaryBoxing]
### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/NowExpression.java`
#### Snippet
```java
    @Override
    public Object evaluate(EvaluationContext context) throws Exception {
        return new Long(System.currentTimeMillis());
    }

```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/NowExpression.java`
#### Snippet
```java

    public Object getValue() {
        return new Long(System.currentTimeMillis());
    }
}
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
        Class clazz = left.getClass();
        if (clazz == Integer.class) {
            return new Integer(-left.intValue());
        } else if (clazz == Long.class) {
            return new Long(-left.longValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
            return new Integer(-left.intValue());
        } else if (clazz == Long.class) {
            return new Long(-left.longValue());
        } else if (clazz == Float.class) {
            return new Float(-left.floatValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
            return new Long(-left.longValue());
        } else if (clazz == Float.class) {
            return new Float(-left.floatValue());
        } else if (clazz == Double.class) {
            return new Double(-left.doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
            return new Float(-left.floatValue());
        } else if (clazz == Double.class) {
            return new Double(-left.doubleValue());
        } else if (clazz == BigDecimal.class) {
            // We ussually get a big deciamal when we have Long.MIN_VALUE
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java

            if (BD_LONG_MIN_VALUE.compareTo(bd) == 0) {
                return Long.valueOf(Long.MIN_VALUE);
            }
            return bd;
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Byte.class) {
                    if (rc == Short.class) {
                        lv = Short.valueOf(((Number) lv).shortValue());
                    } else if (rc == Integer.class) {
                        lv = Integer.valueOf(((Number) lv).intValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Short.valueOf(((Number) lv).shortValue());
                    } else if (rc == Integer.class) {
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Byte.valueOf((String) rv);
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Short.class) {
                    if (rc == Integer.class) {
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Integer.valueOf(((Number) lv).intValue());
                    } else if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Short.valueOf((String) rv);
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Integer.class) {
                    if (rc == Long.class) {
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = Long.valueOf(((Number) lv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Integer.valueOf((String) rv);
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Long.class) {
                    if (rc == Integer.class) {
                        rv = Long.valueOf(((Number) rv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = Long.valueOf(((Number) rv).longValue());
                    } else if (rc == Float.class) {
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        lv = new Float(((Number) lv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Long.valueOf((String) rv);
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Float.class) {
                    if (rc == Integer.class) {
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Long.class) {
                        rv = new Float(((Number) rv).floatValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Long.class) {
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Float(((Number) rv).floatValue());
                    } else if (rc == Double.class) {
                        lv = new Double(((Number) lv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Float.valueOf((String) rv);
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                } else if (lc == Double.class) {
                    if (rc == Integer.class) {
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Long.class) {
                        rv = new Double(((Number) rv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Long.class) {
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Float.class) {
                        rv = new Float(((Number) rv).doubleValue());
```

### UnnecessaryBoxing
Unnecessary boxing
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
                        rv = new Double(((Number) rv).doubleValue());
                    } else if (rc == Float.class) {
                        rv = new Float(((Number) rv).doubleValue());
                    } else if (convertStringExpressions && rc == String.class) {
                        rv = Double.valueOf((String) rv);
```

## RuleId[ruleID=SynchronizeOnNonFinalField]
### SynchronizeOnNonFinalField
Synchronization on a non-final field `this.requestsWrite`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

        public synchronized boolean putRequest(final GroupCommitRequest request) {
            synchronized (this.requestsWrite) {
                this.requestsWrite.add(request);
            }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `this.requestsRead`
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java

        private void doCommit() {
            synchronized (this.requestsRead) {
                if (!this.requestsRead.isEmpty()) {
                    for (GroupCommitRequest req : this.requestsRead) {
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `lastBrokerRole`
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        BrokerRole currRole = storeConfig.getBrokerRole();
        if (lastBrokerRole != currRole) {
            synchronized (lastBrokerRole) {
                LOGGER.info("Broker role change from {} to {}", lastBrokerRole, currRole);
                //if change to master, do something
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `this.registerTopics`
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPullConsumer.java`
#### Snippet
```java
    @Override
    public void registerMessageQueueListener(String topic, MessageQueueListener listener) {
        synchronized (this.registerTopics) {
            this.registerTopics.add(withNamespace(topic));
            if (listener != null) {
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `lock`
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java
        if (!collectMap.containsKey(realKey)
            || collectMap.get(realKey) instanceof MapDataCollectorImpl) {
            synchronized (lock) {
                if (!collectMap.containsKey(realKey)
                    || collectMap.get(realKey) instanceof MapDataCollectorImpl) {
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `lock`
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java
        if (!collectMap.containsKey(realKey)
            || collectMap.get(realKey) instanceof ListDataCollectorImpl) {
            synchronized (lock) {
                if (!collectMap.containsKey(realKey)
                    || collectMap.get(realKey) instanceof ListDataCollectorImpl) {
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `lock`
in `test/src/main/java/org/apache/rocketmq/test/util/data/collect/DataCollectorManager.java`
#### Snippet
```java
        String realKey = key;
        if (!collectMap.containsKey(realKey)) {
            synchronized (lock) {
                if (!collectMap.containsKey(realKey)) {
                    DataCollector collect = (DataCollector) new MapDataCollectorImpl();
```

## RuleId[ruleID=ExcessiveRangeCheck]
### ExcessiveRangeCheck
Can be replaced with 'lexState != 0'
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
     */
    public void SwitchTo(int lexState) {
        if (lexState >= 1 || lexState < 0)
            throw new TokenMgrError("Error: Ignoring invalid lexical state : " + lexState + ". State unchanged.",
                TokenMgrError.INVALID_LEXICAL_STATE);
```

## RuleId[ruleID=ConditionCoveredByFurtherCondition]
### ConditionCoveredByFurtherCondition
Condition 'object != null' covered by subsequent condition 'object == Boolean.TRUE'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryInExpression.java`
#### Snippet
```java
    public boolean matches(EvaluationContext context) throws Exception {
        Object object = evaluate(context);
        return object != null && object == Boolean.TRUE;
    }

```

### ConditionCoveredByFurtherCondition
Condition 'object != null' covered by subsequent condition 'object == Boolean.TRUE'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/BooleanConstantExpression.java`
#### Snippet
```java
    public boolean matches(EvaluationContext context) throws Exception {
        Object object = evaluate(context);
        return object != null && object == Boolean.TRUE;
    }
}
```

### ConditionCoveredByFurtherCondition
Condition 'object != null' covered by subsequent condition 'object == Boolean.TRUE'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/LogicExpression.java`
#### Snippet
```java
    public boolean matches(EvaluationContext context) throws Exception {
        Object object = evaluate(context);
        return object != null && object == Boolean.TRUE;
    }

```

### ConditionCoveredByFurtherCondition
Condition 'object != null' covered by subsequent condition 'object == Boolean.TRUE'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/UnaryExpression.java`
#### Snippet
```java
        public boolean matches(EvaluationContext context) throws Exception {
            Object object = evaluate(context);
            return object != null && object == Boolean.TRUE;
        }
    }
```

### ConditionCoveredByFurtherCondition
Condition 'object != null' covered by subsequent condition 'object == Boolean.TRUE'
in `filter/src/main/java/org/apache/rocketmq/filter/expression/ComparisonExpression.java`
#### Snippet
```java
    public boolean matches(EvaluationContext context) throws Exception {
        Object object = evaluate(context);
        return object != null && object == Boolean.TRUE;
    }

```

### ConditionCoveredByFurtherCondition
Condition 'null == opNew' covered by subsequent condition 'LEFTPARENTHESIS != opNew'
in `common/src/main/java/org/apache/rocketmq/common/filter/impl/PolishExpr.java`
#### Snippet
```java
                    segments.add(opNew);
                }
                if (null == opNew || LEFTPARENTHESIS != opNew)
                    throw new IllegalArgumentException("mismatched parentheses");
            } else if (isOperator(token)) {
```

### ConditionCoveredByFurtherCondition
Condition 'ip != null' covered by subsequent condition 'ip instanceof Inet4Address'
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
                while (addresses.hasMoreElements()) {
                    ip = (InetAddress) addresses.nextElement();
                    if (ip != null && ip instanceof Inet4Address) {
                        byte[] ipByte = ip.getAddress();
                        if (ipByte.length == 4) {
```

### ConditionCoveredByFurtherCondition
Condition 'ip != null' covered by subsequent condition 'ip instanceof Inet6Address'
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
                            }
                        }
                    } else if (ip != null && ip instanceof Inet6Address) {
                        byte[] ipByte = ip.getAddress();
                        if (ipByte.length == 16) {
```

### ConditionCoveredByFurtherCondition
Condition 'ret == null' covered by subsequent condition '!(ret instanceof Boolean)'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ExpressionForRetryMessageFilter.java`
#### Snippet
```java
        log.debug("Pull eval result: {}, {}, {}", ret, realFilterData, tempProperties);

        if (ret == null || !(ret instanceof Boolean)) {
            return false;
        }
```

### ConditionCoveredByFurtherCondition
Condition 'ret != null' covered by subsequent condition 'ret instanceof Boolean'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/CommitLogDispatcherCalcBitMap.java`
#### Snippet
```java

                // eval true
                if (ret != null && ret instanceof Boolean && (Boolean) ret) {
                    consumerFilterManager.getBloomFilter().hashTo(
                        filterData.getBloomFilterData(),
```

### ConditionCoveredByFurtherCondition
Condition 'ret == null' covered by subsequent condition '!(ret instanceof Boolean)'
in `broker/src/main/java/org/apache/rocketmq/broker/filter/ExpressionMessageFilter.java`
#### Snippet
```java
        log.debug("Pull eval result: {}, {}, {}", ret, realFilterData, tempProperties);

        if (ret == null || !(ret instanceof Boolean)) {
            return false;
        }
```

## RuleId[ruleID=UnnecessaryFullyQualifiedName]
### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.filter.parser` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/SqlFilter.java`
#### Snippet
```java

/**
 * SQL92 Filter, just a wrapper of {@link org.apache.rocketmq.filter.parser.SelectorParser}.
 * <p/>
 * <p>
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/Token.java`
#### Snippet
```java
 */

public class Token implements java.io.Serializable {

    /**
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.filter.expression` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/expression/Expression.java`
#### Snippet
```java
 * </p>
 *
 * @see org.apache.rocketmq.filter.expression.EvaluationContext
 */
public interface Expression {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.filter.util` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
     * Check {@code BloomFilterData} is valid, and belong to this bloom filter.
     * <li>1. not null</li>
     * <li>2. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitNum} must be equal to {@code m} </li>
     * <li>3. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitPos} is not null</li>
     * <li>4. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitPos}'s length is equal to {@code k}</li>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.filter.util` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
     * <li>1. not null</li>
     * <li>2. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitNum} must be equal to {@code m} </li>
     * <li>3. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitPos} is not null</li>
     * <li>4. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitPos}'s length is equal to {@code k}</li>
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.filter.util` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/util/BloomFilter.java`
#### Snippet
```java
     * <li>2. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitNum} must be equal to {@code m} </li>
     * <li>3. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitPos} is not null</li>
     * <li>4. {@link org.apache.rocketmq.filter.util.BloomFilterData#getBitPos}'s length is equal to {@code k}</li>
     */
    public boolean isValid(BloomFilterData filterData) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.filter.expression` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/expression/BooleanExpression.java`
#### Snippet
```java
 * </p>
 *
 * @see org.apache.rocketmq.filter.expression.EvaluationContext
 */
public interface BooleanExpression extends Expression {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn) throws java.io.UnsupportedEncodingException {
        this(dstream, encoding, startline, startcolumn, 4096);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     */
    public SimpleCharStream(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn) throws java.io.UnsupportedEncodingException {
        this(dstream, encoding, startline, startcolumn, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.Reader dstream) {
        ReInit(dstream, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.Reader dstream) {
        this(dstream, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream, int startline,
        int startcolumn, int buffersize) {
        this(new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8), startline, startcolumn, buffersize);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    public SimpleCharStream(java.io.InputStream dstream, int startline,
        int startcolumn, int buffersize) {
        this(new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8), startline, startcolumn, buffersize);
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Start.
     */
    public char BeginToken() throws java.io.IOException {
        tokenBegin = -1;
        char c = readChar();
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream) {
        this(dstream, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.Reader dstream, int startline,
        int startcolumn) {
        ReInit(dstream, startline, startcolumn, 4096);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn) throws java.io.UnsupportedEncodingException {
        ReInit(dstream, encoding, startline, startcolumn, 4096);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     */
    public void ReInit(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn) throws java.io.UnsupportedEncodingException {
        ReInit(dstream, encoding, startline, startcolumn, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.Reader dstream, int startline,
        int startcolumn) {
        this(dstream, startline, startcolumn, 4096);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    }

    protected void FillBuff() throws java.io.IOException {
        if (maxNextCharInd == available) {
            if (available == bufsize) {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
            if ((i = inputStream.read(buffer, maxNextCharInd, available - maxNextCharInd)) == -1) {
                inputStream.close();
                throw new java.io.IOException();
            } else
                maxNextCharInd += i;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
                maxNextCharInd += i;
            return;
        } catch (java.io.IOException e) {
            --bufpos;
            backup(0);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream, int startline,
        int startcolumn) {
        this(dstream, startline, startcolumn, 4096);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn, int buffersize) throws java.io.UnsupportedEncodingException {
        this(encoding == null ?
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     */
    public SimpleCharStream(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn, int buffersize) throws java.io.UnsupportedEncodingException {
        this(encoding == null ?
            new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8) :
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        int startcolumn, int buffersize) throws java.io.UnsupportedEncodingException {
        this(encoding == null ?
            new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8) :
            new java.io.InputStreamReader(dstream, encoding), startline, startcolumn, buffersize);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        this(encoding == null ?
            new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8) :
            new java.io.InputStreamReader(dstream, encoding), startline, startcolumn, buffersize);
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream, String encoding) throws java.io.UnsupportedEncodingException {
        ReInit(dstream, encoding, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream, String encoding) throws java.io.UnsupportedEncodingException {
        ReInit(dstream, encoding, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream) {
        ReInit(dstream, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    protected boolean prevCharIsLF = false;

    protected java.io.Reader inputStream;

    protected char[] buffer;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.Reader dstream, int startline,
        int startcolumn, int buffersize) {
        inputStream = dstream;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream, int startline,
        int startcolumn) {
        ReInit(dstream, startline, startcolumn, 4096);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Read a character.
     */
    public char readChar() throws java.io.IOException {
        if (inBuf > 0) {
            --inBuf;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn, int buffersize) throws java.io.UnsupportedEncodingException {
        ReInit(encoding == null ?
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     */
    public void ReInit(java.io.InputStream dstream, String encoding, int startline,
        int startcolumn, int buffersize) throws java.io.UnsupportedEncodingException {
        ReInit(encoding == null ?
            new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8) :
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        int startcolumn, int buffersize) throws java.io.UnsupportedEncodingException {
        ReInit(encoding == null ?
            new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8) :
            new java.io.InputStreamReader(dstream, encoding), startline, startcolumn, buffersize);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
        ReInit(encoding == null ?
            new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8) :
            new java.io.InputStreamReader(dstream, encoding), startline, startcolumn, buffersize);
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream, String encoding) throws java.io.UnsupportedEncodingException {
        this(dstream, encoding, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Constructor.
     */
    public SimpleCharStream(java.io.InputStream dstream, String encoding) throws java.io.UnsupportedEncodingException {
        this(dstream, encoding, 1, 1, 4096);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream dstream, int startline,
        int startcolumn, int buffersize) {
        ReInit(new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8), startline, startcolumn, buffersize);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
    public void ReInit(java.io.InputStream dstream, int startline,
        int startcolumn, int buffersize) {
        ReInit(new java.io.InputStreamReader(dstream, StandardCharsets.UTF_8), startline, startcolumn, buffersize);
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SimpleCharStream.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.Reader dstream, int startline,
        int startcolumn, int buffersize) {
        inputStream = dstream;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            return jjMoveNfa_0(5, 5);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
     * Debug output.
     */
    public java.io.PrintStream debugStream = System.out;

    /**
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            return jjMoveNfa_0(5, 2);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            return jjMoveNfa_0(5, 4);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            return jjMoveNfa_0(5, 1);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            try {
                curChar = inputStream.BeginToken();
            } catch (java.io.IOException e) {
                jjmatchedKind = 0;
                matchedToken = jjFillToken();
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                inputStream.readChar();
                inputStream.backup(1);
            } catch (java.io.IOException e1) {
                eofSeen = true;
                errorAfter = curPos <= 1 ? "" : inputStream.GetImage();
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            return jjMoveNfa_0(5, 3);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            return jjMoveNfa_0(5, 0);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
        try {
            curChar = inputStream.readChar();
        } catch (java.io.IOException e) {
            throw new Error("Internal Error");
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
            try {
                curChar = inputStream.readChar();
            } catch (java.io.IOException e) {
                break;
            }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
                try {
                    curChar = inputStream.readChar();
                } catch (java.io.IOException e) {
                    throw new Error("Internal Error : Please send a bug report.");
                }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParserTokenManager.java`
#### Snippet
```java
     * Set debug output.
     */
    public void setDebugStream(java.io.PrintStream ds) {
        debugStream = ds;
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
     * Transform {@code address}(decorated by {@link #decorate}) to offset in mapped file.
     * <p>
     * if {@code address} is less than 0, return {@code address} - {@link java.lang.Long#MIN_VALUE};
     * else, just return {@code address}
     * </p>
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `store/src/main/java/org/apache/rocketmq/store/ConsumeQueueExt.java`
#### Snippet
```java
     * Decorate {@code offset} from mapped file, in order to distinguish with tagsCode(saved in cq originally).
     * <p>
     * if {@code offset} is greater than or equal to 0, then return {@code offset} + {@link java.lang.Long#MIN_VALUE};
     * else, just return {@code offset}
     * </p>
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Constructor.
     */
    public SelectorParser(java.io.Reader stream) {
        jjInputStream = new SimpleCharStream(stream, 1, 1);
        tokenSource = new SelectorParserTokenManager(jjInputStream);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
            }
            jj_entries_loop:
            for (java.util.Iterator<?> it = jjExpentries.iterator(); it.hasNext(); ) {
                int[] oldentry = (int[]) (it.next());
                if (oldentry.length == jjExpentry.length) {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    static private final class LookaheadSuccess extends java.lang.Error {
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Constructor with InputStream.
     */
    public SelectorParser(java.io.InputStream stream) {
        this(stream, null);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    private java.util.List<int[]> jjExpentries = new java.util.ArrayList<>();
    private int[] jjExpentry;
    private int jjKind = -1;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
    }

    private java.util.List<int[]> jjExpentries = new java.util.ArrayList<>();
    private int[] jjExpentry;
    private int jjKind = -1;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream stream, String encoding) {
        try {
            jjInputStream.ReInit(stream, encoding, 1, 1);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        try {
            jjInputStream.ReInit(stream, encoding, 1, 1);
        } catch (java.io.UnsupportedEncodingException e) {
            throw new RuntimeException(e);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.InputStream stream) {
        ReInit(stream, null);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Reinitialise.
     */
    public void ReInit(java.io.Reader stream) {
        jjInputStream.ReInit(stream, 1, 1);
        tokenSource.ReInit(jjInputStream);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
     * Constructor with InputStream and supplied encoding
     */
    public SelectorParser(java.io.InputStream stream, String encoding) {
        try {
            jjInputStream = new SimpleCharStream(stream, encoding, 1, 1);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `filter/src/main/java/org/apache/rocketmq/filter/parser/SelectorParser.java`
#### Snippet
```java
        try {
            jjInputStream = new SimpleCharStream(stream, encoding, 1, 1);
        } catch (java.io.UnsupportedEncodingException e) {
            throw new RuntimeException(e);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
    }

    public DispatchRequest checkMessageAndReturnSize(java.nio.ByteBuffer byteBuffer, final boolean checkCRC,
        final boolean checkDupInfo) {
        return this.checkMessageAndReturnSize(byteBuffer, checkCRC, checkDupInfo, true);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `store/src/main/java/org/apache/rocketmq/store/CommitLog.java`
#### Snippet
```java
     * @return 0 Come the end of the file // >0 Normal messages // -1 Message checksum failure
     */
    public DispatchRequest checkMessageAndReturnSize(java.nio.ByteBuffer byteBuffer, final boolean checkCRC,
        final boolean checkDupInfo, final boolean readBody) {
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `io.grpc` is unnecessary, and can be replaced with an import
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/GrpcServer.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoggerName.PROXY_LOGGER_NAME);

    private final io.grpc.Server server;

    protected GrpcServer(io.grpc.Server server) {
```

### UnnecessaryFullyQualifiedName
Qualifier `io.grpc` is unnecessary, and can be replaced with an import
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/GrpcServer.java`
#### Snippet
```java
    private final io.grpc.Server server;

    protected GrpcServer(io.grpc.Server server) {
        this.server = server;
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary and can be removed
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
    }

    protected void fillDelayMessageProperty(apache.rocketmq.v2.Message message, org.apache.rocketmq.common.message.Message messageWithHeader) {
        if (message.getSystemProperties().hasDeliveryTimestamp()) {
            Timestamp deliveryTimestamp = message.getSystemProperties().getDeliveryTimestamp();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary and can be removed
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
        long userPropertySize = 0;
        ProxyConfig config = ConfigurationManager.getProxyConfig();
        org.apache.rocketmq.common.message.Message messageWithHeader = new org.apache.rocketmq.common.message.Message();
        // set user properties
        Map<String, String> userProperties = message.getUserPropertiesMap();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary and can be removed
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/v2/producer/SendMessageActivity.java`
#### Snippet
```java
        long userPropertySize = 0;
        ProxyConfig config = ConfigurationManager.getProxyConfig();
        org.apache.rocketmq.common.message.Message messageWithHeader = new org.apache.rocketmq.common.message.Message();
        // set user properties
        Map<String, String> userProperties = message.getUserPropertiesMap();
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.channel` is unnecessary and can be removed
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
 * SimpleChannel is used to handle writeAndFlush situation in processor
 *
 * @see io.netty.channel.ChannelHandlerContext#writeAndFlush
 * @see io.netty.channel.Channel#writeAndFlush
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.channel` is unnecessary and can be removed
in `proxy/src/main/java/org/apache/rocketmq/proxy/service/channel/SimpleChannel.java`
#### Snippet
```java
 *
 * @see io.netty.channel.ChannelHandlerContext#writeAndFlush
 * @see io.netty.channel.Channel#writeAndFlush
 */
public class SimpleChannel extends AbstractChannel {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `remoting/src/main/java/org/apache/rocketmq/remoting/Configuration.java`
#### Snippet
```java
     * The store path will be gotten from the field of object.
     *
     * @throws java.lang.RuntimeException if the field of object is not exist.
     */
    public void setStorePathFromConfig(Object object, String fieldName) {
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.buffer` is unnecessary and can be removed
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/FileRegionEncoder.java`
#### Snippet
```java

    /**
     * Encode a message into a {@link io.netty.buffer.ByteBuf}. This method will be called for each written message that
     * can be handled by this encoder.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.channel` is unnecessary and can be removed
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/FileRegionEncoder.java`
#### Snippet
```java
     * can be handled by this encoder.
     *
     * @param ctx the {@link io.netty.channel.ChannelHandlerContext} which this {@link
     * io.netty.handler.codec.MessageToByteEncoder} belongs to
     * @param msg the message to encode
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.handler.codec` is unnecessary and can be removed
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/FileRegionEncoder.java`
#### Snippet
```java
     *
     * @param ctx the {@link io.netty.channel.ChannelHandlerContext} which this {@link
     * io.netty.handler.codec.MessageToByteEncoder} belongs to
     * @param msg the message to encode
     * @param out the {@link io.netty.buffer.ByteBuf} into which the encoded message will be written
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.buffer` is unnecessary and can be removed
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/FileRegionEncoder.java`
#### Snippet
```java
     * io.netty.handler.codec.MessageToByteEncoder} belongs to
     * @param msg the message to encode
     * @param out the {@link io.netty.buffer.ByteBuf} into which the encoded message will be written
     * @throws Exception is thrown if an error occurs
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.util.internal.logging` is unnecessary, and can be replaced with an import
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
        if (!nettyLoggerSeted.get()) {
            try {
                io.netty.util.internal.logging.InternalLoggerFactory.setDefaultFactory(new NettyBridgeLoggerFactory());
            } catch (Throwable e) {
                //ignore
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.util.internal.logging` is unnecessary, and can be replaced with an import
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
    }

    private static class NettyBridgeLogger implements io.netty.util.internal.logging.InternalLogger {

        private Logger logger = null;
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.util.internal.logging` is unnecessary, and can be replaced with an import
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
    }

    private static class NettyBridgeLoggerFactory extends io.netty.util.internal.logging.InternalLoggerFactory {
        @Override
        protected io.netty.util.internal.logging.InternalLogger newInstance(String s) {
```

### UnnecessaryFullyQualifiedName
Qualifier `io.netty.util.internal.logging` is unnecessary, and can be replaced with an import
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyLogger.java`
#### Snippet
```java
    private static class NettyBridgeLoggerFactory extends io.netty.util.internal.logging.InternalLoggerFactory {
        @Override
        protected io.netty.util.internal.logging.InternalLogger newInstance(String s) {
            return new NettyBridgeLogger(s);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang.management` is unnecessary, and can be replaced with an import
in `common/src/main/java/org/apache/rocketmq/common/MixAll.java`
#### Snippet
```java

    public static long getPID() {
        String processName = java.lang.management.ManagementFactory.getRuntimeMXBean().getName();
        if (processName != null && processName.length() > 0) {
            try {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.zip` is unnecessary, and can be replaced with an import
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        java.util.zip.Deflater defeater = new java.util.zip.Deflater(level);
        DeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, defeater);
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.zip` is unnecessary, and can be replaced with an import
in `common/src/main/java/org/apache/rocketmq/common/UtilAll.java`
#### Snippet
```java
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        java.util.zip.Deflater defeater = new java.util.zip.Deflater(level);
        DeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, defeater);
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/message/MessageVersion.java`
#### Snippet
```java
    public abstract int getTopicLengthSize();

    public abstract int getTopicLength(java.nio.ByteBuffer buffer);
    public abstract int getTopicLength(java.nio.ByteBuffer buffer, int index);
    public abstract void putTopicLength(java.nio.ByteBuffer buffer, int topicLength);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/thread/ThreadPoolWrapper.java`
#### Snippet
```java
        }

        @java.lang.Override
        public java.lang.String toString() {
            return "ThreadPoolWrapper.ThreadPoolWrapperBuilder(name=" + this.name + ", threadPoolExecutor=" + this.threadPoolExecutor + ", statusPrinters=" + this.statusPrinters + ")";
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/thread/ThreadPoolWrapper.java`
#### Snippet
```java

        @java.lang.Override
        public java.lang.String toString() {
            return "ThreadPoolWrapper.ThreadPoolWrapperBuilder(name=" + this.name + ", threadPoolExecutor=" + this.threadPoolExecutor + ", statusPrinters=" + this.statusPrinters + ")";
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/message/MessageVersion.java`
#### Snippet
```java

    public abstract int getTopicLength(java.nio.ByteBuffer buffer);
    public abstract int getTopicLength(java.nio.ByteBuffer buffer, int index);
    public abstract void putTopicLength(java.nio.ByteBuffer buffer, int topicLength);
}
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/message/MessageVersion.java`
#### Snippet
```java
    public abstract int getTopicLength(java.nio.ByteBuffer buffer);
    public abstract int getTopicLength(java.nio.ByteBuffer buffer, int index);
    public abstract void putTopicLength(java.nio.ByteBuffer buffer, int topicLength);
}

```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.zip` is unnecessary, and can be replaced with an import
in `common/src/main/java/org/apache/rocketmq/common/compression/ZlibCompressor.java`
#### Snippet
```java
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        java.util.zip.Deflater defeater = new java.util.zip.Deflater(level);
        DeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, defeater);
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.zip` is unnecessary, and can be replaced with an import
in `common/src/main/java/org/apache/rocketmq/common/compression/ZlibCompressor.java`
#### Snippet
```java
        byte[] result = src;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(src.length);
        java.util.zip.Deflater defeater = new java.util.zip.Deflater(level);
        DeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, defeater);
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java

    public static MessageExt decode(
        java.nio.ByteBuffer byteBuffer, final boolean readBody, final boolean deCompressBody, final boolean isClient,
        final boolean isSetPropertiesString) {
        return decode(byteBuffer, readBody, deCompressBody, isClient, isSetPropertiesString, false);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java

    public static MessageExt decode(
        java.nio.ByteBuffer byteBuffer, final boolean readBody, final boolean deCompressBody, final boolean isClient) {
        return decode(byteBuffer, readBody, deCompressBody, isClient, false, false);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.nio` is unnecessary and can be removed
in `common/src/main/java/org/apache/rocketmq/common/message/MessageDecoder.java`
#### Snippet
```java

    public static MessageExt decode(
        java.nio.ByteBuffer byteBuffer, final boolean readBody, final boolean deCompressBody, final boolean isClient,
        final boolean isSetPropertiesString, final boolean checkCRC) {
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.filter` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/MessageSelector.java`
#### Snippet
```java

    /**
     * @see org.apache.rocketmq.common.filter.ExpressionType
     */
    private String type;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.filter` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/MessageSelector.java`
#### Snippet
```java
 * <p>
 * Now, support:
 * <li>Tag: {@link org.apache.rocketmq.common.filter.ExpressionType#TAG}
 * </li>
 * <li>SQL92: {@link org.apache.rocketmq.common.filter.ExpressionType#SQL92}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.filter` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/MessageSelector.java`
#### Snippet
```java
 * <li>Tag: {@link org.apache.rocketmq.common.filter.ExpressionType#TAG}
 * </li>
 * <li>SQL92: {@link org.apache.rocketmq.common.filter.ExpressionType#SQL92}
 * </li>
 * </p>
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/MQPushConsumer.java`
#### Snippet
```java
     * <p/>
     * <p>
     * Choose Tag: {@link MessageSelector#byTag(java.lang.String)}
     * </p>
     * <p/>
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/MQPushConsumer.java`
#### Snippet
```java
     * <p/>
     * <p>
     * Choose SQL92: {@link MessageSelector#bySql(java.lang.String)}
     * </p>
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.consumer` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     *
     * @param topic topic to consume.
     * @param messageSelector {@link org.apache.rocketmq.client.consumer.MessageSelector}
     * @see org.apache.rocketmq.client.consumer.MessageSelector#bySql
     * @see org.apache.rocketmq.client.consumer.MessageSelector#byTag
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.consumer` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * @param topic topic to consume.
     * @param messageSelector {@link org.apache.rocketmq.client.consumer.MessageSelector}
     * @see org.apache.rocketmq.client.consumer.MessageSelector#bySql
     * @see org.apache.rocketmq.client.consumer.MessageSelector#byTag
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.consumer` is unnecessary and can be removed
in `client/src/main/java/org/apache/rocketmq/client/consumer/DefaultMQPushConsumer.java`
#### Snippet
```java
     * @param messageSelector {@link org.apache.rocketmq.client.consumer.MessageSelector}
     * @see org.apache.rocketmq.client.consumer.MessageSelector#bySql
     * @see org.apache.rocketmq.client.consumer.MessageSelector#byTag
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary, and can be replaced with an import
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
    }

    public static BytesMessage msgConvert(org.apache.rocketmq.common.message.MessageExt rmqMsg) {
        BytesMessage omsMsg = new BytesMessageImpl();
        omsMsg.setBody(rmqMsg.getBody());
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary, and can be replaced with an import
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java
    }

    public static org.apache.rocketmq.common.message.Message msgConvert(BytesMessage omsMessage) {
        org.apache.rocketmq.common.message.Message rmqMessage = new org.apache.rocketmq.common.message.Message();
        rmqMessage.setBody(omsMessage.getBody(byte[].class));
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary, and can be replaced with an import
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java

    public static org.apache.rocketmq.common.message.Message msgConvert(BytesMessage omsMessage) {
        org.apache.rocketmq.common.message.Message rmqMessage = new org.apache.rocketmq.common.message.Message();
        rmqMessage.setBody(omsMessage.getBody(byte[].class));

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary, and can be replaced with an import
in `openmessaging/src/main/java/io/openmessaging/rocketmq/utils/OMSUtil.java`
#### Snippet
```java

    public static org.apache.rocketmq.common.message.Message msgConvert(BytesMessage omsMessage) {
        org.apache.rocketmq.common.message.Message rmqMessage = new org.apache.rocketmq.common.message.Message();
        rmqMessage.setBody(omsMessage.getBody(byte[].class));

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.producer` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
    public ResultWrapper send(Object msg, Object arg) {
        boolean commitMsg = ((Pair<Boolean, LocalTransactionState>) arg).getObject2() == LocalTransactionState.COMMIT_MESSAGE;
        org.apache.rocketmq.client.producer.SendResult metaqResult = null;
        Message message = (Message) msg;
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.producer` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java

    public ResultWrapper sendMQ(Message msg, MessageQueue mq) {
        org.apache.rocketmq.client.producer.SendResult internalSendResult = null;
        try {
            long start = System.currentTimeMillis();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.producer` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java

    public ResultWrapper send(Object msg, Object orderKey) {
        org.apache.rocketmq.client.producer.SendResult internalSendResult = null;
        Message message = (Message) msg;
        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            //hook and context
            API_CLASS_LIST.add(RPCHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.CheckForbiddenHook.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(RPCHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.CheckForbiddenHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageHook.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.CheckForbiddenHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionHook.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.CheckForbiddenHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageContext.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.CheckForbiddenHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageContext.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionHook.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.FilterMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionContext.class);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.SendMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionContext.class);

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.client.hook` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaDefiner.java`
#### Snippet
```java
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.ConsumeMessageContext.class);
            API_CLASS_LIST.add(org.apache.rocketmq.client.hook.EndTransactionContext.class);

        }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
        Object objMsg = null;
        if (this instanceof RMQNormalProducer) {
            org.apache.rocketmq.common.message.Message msg = new org.apache.rocketmq.common.message.Message(
                topic, (RandomUtil.getStringByUUID() + "." + new Date()).getBytes(StandardCharsets.UTF_8));
            objMsg = msg;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.rocketmq.common.message` is unnecessary, and can be replaced with an import
in `test/src/main/java/org/apache/rocketmq/test/clientinterface/AbstractMQProducer.java`
#### Snippet
```java
        Object objMsg = null;
        if (this instanceof RMQNormalProducer) {
            org.apache.rocketmq.common.message.Message msg = new org.apache.rocketmq.common.message.Message(
                topic, (RandomUtil.getStringByUUID() + "." + new Date()).getBytes(StandardCharsets.UTF_8));
            objMsg = msg;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.security` is unnecessary, and can be replaced with an import
in `broker/src/main/java/org/apache/rocketmq/broker/out/BrokerOuterAPI.java`
#### Snippet
```java
        List<String> addressList = new ArrayList<>();
        try {
            java.security.Security.setProperty("networkaddress.cache.ttl" , "10");
            int index = domain.indexOf(":");
            String portStr = domain.substring(index);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        runtimeInfo.put("remainHowManyDataToFlush", MixAll.humanReadableByteCount(messageStore.remainHowManyDataToFlush(), false));

        java.io.File commitLogDir = new java.io.File(this.brokerController.getMessageStoreConfig().getStorePathRootDir());
        if (commitLogDir.exists()) {
            runtimeInfo.put("commitLogDirCapacity", String.format("Total : %s, Free : %s.", MixAll.humanReadableByteCount(commitLogDir.getTotalSpace(), false), MixAll.humanReadableByteCount(commitLogDir.getFreeSpace(), false)));
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary, and can be replaced with an import
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
        runtimeInfo.put("remainHowManyDataToFlush", MixAll.humanReadableByteCount(messageStore.remainHowManyDataToFlush(), false));

        java.io.File commitLogDir = new java.io.File(this.brokerController.getMessageStoreConfig().getStorePathRootDir());
        if (commitLogDir.exists()) {
            runtimeInfo.put("commitLogDirCapacity", String.format("Total : %s, Free : %s.", MixAll.humanReadableByteCount(commitLogDir.getTotalSpace(), false), MixAll.humanReadableByteCount(commitLogDir.getFreeSpace(), false)));
```

## RuleId[ruleID=ThrowablePrintStackTrace]
### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
            }
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `namesrv/src/main/java/org/apache/rocketmq/namesrv/NamesrvStartup.java`
#### Snippet
```java
            return controller;
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `proxy/src/main/java/org/apache/rocketmq/proxy/grpc/GrpcServer.java`
#### Snippet
```java
            log.info("grpc server shutdown successfully.");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `proxy/src/main/java/org/apache/rocketmq/proxy/ProxyStartup.java`
#### Snippet
```java
        } catch (Exception e) {
            System.err.println("find an unexpect err." + e);
            e.printStackTrace();
            log.error("find an unexpect err.", e);
            System.exit(1);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            return brokerContainer;
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            }
        } catch (Exception e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            System.out.printf("%s%n", tip);
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                    brokerContainerProperties = configFileHelper.loadConfig();
                } catch (Exception e) {
                    e.printStackTrace();
                    System.exit(-1);
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
            return brokerContainer;
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `container/src/main/java/org/apache/rocketmq/container/BrokerContainerStartup.java`
#### Snippet
```java
                    brokerProperties = configFileHelper.loadConfig();
                } catch (Exception e) {
                    e.printStackTrace();
                    System.exit(-1);
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
                    socketChannel.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `remoting/src/main/java/org/apache/rocketmq/remoting/common/RemotingHelper.java`
#### Snippet
```java
                    sc.close();
                } catch (IOException e1) {
                    e1.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `controller/src/main/java/org/apache/rocketmq/controller/ControllerStartup.java`
#### Snippet
```java
            return controller;
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `common/src/main/java/org/apache/rocketmq/common/logging/DefaultJoranConfiguratorExt.java`
#### Snippet
```java
                configureByResource(url);
            } catch (JoranException e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtils.java`
#### Snippet
```java
            Thread.sleep(time);
        } catch (InterruptedException var3) {
            var3.printStackTrace();
        }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtils.java`
#### Snippet
```java
            TimeUnit.SECONDS.sleep(time);
        } catch (InterruptedException var3) {
            var3.printStackTrace();
        }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtils.java`
#### Snippet
```java
            TimeUnit.MINUTES.sleep(time);
        } catch (InterruptedException var3) {
            var3.printStackTrace();
        }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
            writer.flush();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (writer != null) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
                    writer.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/FileUtil.java`
#### Snippet
```java
                file.createNewFile();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/MQWait.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            Thread.sleep(time);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            TimeUnit.MINUTES.sleep(time);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
            TimeUnit.SECONDS.sleep(time);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/parallel/ParallelTaskExecutor.java`
#### Snippet
```java
            latch.await();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
                            Thread.sleep(100L);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java
        } catch (MQClientException e) {
            LOGGER.error("consumer start failed!");
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java
        } catch (MQClientException e) {
            LOGGER.error("consumer subscribe failed!");
            e.printStackTrace();
        }
        consumer.setMessageListener(listener);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalConsumer.java`
#### Snippet
```java
        } catch (MQClientException e) {
            LOGGER.error("consumer subscribe failed!");
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
            super.setStartSuccess(false);
            logger.error("", e);
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQTransactionalProducer.java`
#### Snippet
```java
        } catch (MQClientException e) {
            if (isDebug) {
                e.printStackTrace();
            }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/factory/ProducerFactory.java`
#### Snippet
```java
            producer.start();
        } catch (MQClientException e) {
            e.printStackTrace();
        }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
        } catch (Exception e) {
            if (isDebug) {
                e.printStackTrace();
            }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
        } catch (Exception e) {
            if (isDebug) {
                e.printStackTrace();
            }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
            mqs = producer.fetchPublishMessageQueues(topic);
        } catch (MQClientException e) {
            e.printStackTrace();
        }
        return mqs;
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQNormalProducer.java`
#### Snippet
```java
            super.setStartSuccess(false);
            logger.error("producer start failed!");
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
            originMsgs.addData(msg);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
            originMsgs.addData(msg);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
            originMsgs.addData(msg);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
            originMsgs.addData(msg);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
            originMsgs.addData(msg);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
        } catch (MQClientException e) {
            logger.error("producer start failed!");
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/client/rmq/RMQAsyncSendProducer.java`
#### Snippet
```java
            originMsgs.addData(msg);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
            return controller;
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerStartup.java`
#### Snippet
```java
            return controller;
        } catch (Throwable e) {
            e.printStackTrace();
            System.exit(-1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
            clusterInfo = mqAdminExt.examineBrokerClusterInfo();
        } catch (Exception e) {
            e.printStackTrace();
        }
        ForkJoinPool.commonPool().execute(mqAdminExt::shutdown);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
                            addr));
                } catch (Exception e) {
                    e.printStackTrace();
                    Thread.sleep(1000 * 1);
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `test/src/main/java/org/apache/rocketmq/test/util/MQAdminTestUtils.java`
#### Snippet
```java
        } catch (Exception e) {
            createResult = false;
            e.printStackTrace();
        }
        ForkJoinPool.commonPool().execute(mqAdminExt::shutdown);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
                Thread.sleep(Math.min(this.resendCount++ * 100, 60 * 1000));
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/RequestProducer.java`
#### Snippet
```java
            System.out.printf("request to <%s> cost: %d replyMessage: %s %n", topic, cost, retMsg);
        } catch (Exception e) {
            e.printStackTrace();
        }
        producer.shutdown();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/rpc/ResponseConsumer.java`
#### Snippet
```java
                        System.out.printf("reply to %s , %s %n", replyTo, replyResult.toString());
                    } catch (MQClientException | RemotingException | MQBrokerException | InterruptedException e) {
                        e.printStackTrace();
                    }
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/Producer.java`
#### Snippet
```java
                System.out.printf("%s%n", sendResult);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullScheduleService.java`
#### Snippet
```java
                    context.setPullNextDelayTimeMillis(100);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AsyncProducer.java`
#### Snippet
```java
                        countDownLatch.countDown();
                        System.out.printf("%-10d Exception %s %n", index, e);
                        e.printStackTrace();
                    }
                });
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AsyncProducer.java`
#### Snippet
```java
                });
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                                    }
                                } catch (RemotingException e) {
                                    e.printStackTrace();
                                } catch (MQBrokerException e) {
                                    e.printStackTrace();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                                    e.printStackTrace();
                                } catch (MQBrokerException e) {
                                    e.printStackTrace();
                                } catch (Exception e) {
                                    e.printStackTrace();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                                    e.printStackTrace();
                                } catch (Exception e) {
                                    e.printStackTrace();
                                }
                            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                        } catch (MQClientException e) {
                            //reblance error
                            e.printStackTrace();
                        } catch (InterruptedException e) {
                            e.printStackTrace();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                            e.printStackTrace();
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        } catch (Exception e) {
                            e.printStackTrace();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/PullConsumer.java`
#### Snippet
```java
                            e.printStackTrace();
                        } catch (Exception e) {
                            e.printStackTrace();
                        }
                    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerConsumer.java`
#### Snippet
```java
                    this.printStats();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java

            } catch (Exception e) {
                e.printStackTrace();
            }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/simple/AclClient.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/ProducerWithNamespace.java`
#### Snippet
```java
                System.out.printf("Topic:%s send success, misId is:%s%n", message.getTopic(), result.getMsgId());
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/namespace/PullConsumerWithNamespace.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
                    this.printStats();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/quickstart/Producer.java`
#### Snippet
```java
                System.out.printf("%s%n", sendResult);
            } catch (Exception e) {
                e.printStackTrace();
                Thread.sleep(1000);
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
                    this.printStats();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
                                msg = buildMessage(messageSize, topic);
                            } catch (UnsupportedEncodingException e) {
                                e.printStackTrace();
                                return;
                            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java
            Thread.sleep(timeMs);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/operation/Producer.java`
#### Snippet
```java
                    System.out.printf("%-8d %s%n", i, sendResult);
                } catch (Exception e) {
                    e.printStackTrace();
                    Thread.sleep(1000);
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/transaction/TransactionProducer.java`
#### Snippet
```java
                Thread.sleep(10);
            } catch (MQClientException | UnsupportedEncodingException e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/ordermessage/Producer.java`
#### Snippet
```java
            producer.shutdown();
        } catch (Exception e) {
            e.printStackTrace();
            throw new MQClientException(e.getMessage(), null);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                    this.printStats();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingProducer.java`
#### Snippet
```java

        } catch (Exception e) {
            e.printStackTrace();
        }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/TraceProducer.java`
#### Snippet
```java

            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/tracemessage/OpenTracingTransactionProducer.java`
#### Snippet
```java
            System.out.printf("%s%n", sendResult);
        } catch (MQClientException | UnsupportedEncodingException e) {
            e.printStackTrace();
        }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Consumer.java`
#### Snippet
```java
                    this.printStats();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java
                    this.printStats();
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

## RuleId[ruleID=Anonymous2MethodRef]
### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    @Override
    public void unlockMappedFile(final MappedFile mappedFile) {
        this.scheduledExecutorService.schedule(new Runnable() {
            @Override
            public void run() {
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    public void start() {
        if (MessageModel.CLUSTERING.equals(ConsumeMessagePopOrderlyService.this.defaultMQPushConsumerImpl.messageModel())) {
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/LocalMessageCache.java`
#### Snippet
```java
    @Override
    public void startup() {
        this.cleanExpireMsgExecutors.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

## RuleId[ruleID=Java8MapApi]
### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `client/src/main/java/org/apache/rocketmq/client/impl/MQClientAPIImpl.java`
#### Snippet
```java
                        }
                    }
                    if (messageExt.getProperties().get(MessageConst.PROPERTY_FIRST_POP_TIME) == null) {
                        messageExt.getProperties().put(MessageConst.PROPERTY_FIRST_POP_TIME, String.valueOf(responseHeader.getPopTime()));
                    }
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `client/src/main/java/org/apache/rocketmq/client/consumer/rebalance/AllocateMachineRoomNearby.java`
#### Snippet
```java
            String brokerMachineRoom = machineRoomResolver.brokerDeployIn(mq);
            if (StringUtils.isNoneEmpty(brokerMachineRoom)) {
                if (mr2Mq.get(brokerMachineRoom) == null) {
                    mr2Mq.put(brokerMachineRoom, new ArrayList<>());
                }
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `client/src/main/java/org/apache/rocketmq/client/consumer/rebalance/AllocateMachineRoomNearby.java`
#### Snippet
```java
            String consumerMachineRoom = machineRoomResolver.consumerDeployIn(cid);
            if (StringUtils.isNoneEmpty(consumerMachineRoom)) {
                if (mr2c.get(consumerMachineRoom) == null) {
                    mr2c.put(consumerMachineRoom, new ArrayList<>());
                }
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `broker/src/main/java/org/apache/rocketmq/broker/offset/ConsumerOffsetManager.java`
#### Snippet
```java

                Set<String> topics = retMap.get(group);
                if (topics == null) {
                    topics = new HashSet<>(8);
                    retMap.put(group, topics);
```

## RuleId[ruleID=Convert2Lambda]
### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java`
#### Snippet
```java
    @Override
    public void unlockMappedFile(final MappedFile mappedFile) {
        this.scheduledExecutorService.schedule(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        timerFlushService.start();

        scheduler.scheduleAtFixedRate(new Runnable() {
            @Override public void run() {
                if (TimerMessageStore.this.messageStore instanceof DefaultMessageStore &&
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `store/src/main/java/org/apache/rocketmq/store/timer/TimerMessageStore.java`
#### Snippet
```java
        }, 30, 30, TimeUnit.SECONDS);

        scheduler.scheduleAtFixedRate(new Runnable() {
            @Override public void run() {
                if (TimerMessageStore.this.messageStore instanceof DefaultMessageStore &&
```

### Convert2Lambda
Anonymous new Comparator\>() can be replaced with lambda
in `remoting/src/main/java/org/apache/rocketmq/remoting/rpc/ClientMetadata.java`
#### Snippet
```java
            ConcurrentMap<MessageQueue, TopicQueueMappingInfo> mqEndPoints = new ConcurrentHashMap<>();
            List<Map.Entry<String, TopicQueueMappingInfo>> mappingInfos = new ArrayList<>(topicQueueMappingInfoMap.entrySet());
            Collections.sort(mappingInfos, new Comparator<Map.Entry<String, TopicQueueMappingInfo>>() {
                @Override
                public int compare(Map.Entry<String, TopicQueueMappingInfo> o1, Map.Entry<String, TopicQueueMappingInfo> o2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `remoting/src/main/java/org/apache/rocketmq/remoting/netty/NettyRemotingClient.java`
#### Snippet
```java

        for (final String namesrvAddr : nameServerList) {
            scanExecutor.execute(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/MomentStatsItemSet.java`
#### Snippet
```java
    public void init() {

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/MomentStatsItem.java`
#### Snippet
```java

    public void init() {
        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
    public void init() {

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
        }, 0, 10, TimeUnit.SECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
        }, 0, 10, TimeUnit.MINUTES);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
        }, 0, 1, TimeUnit.HOURS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
        }, Math.abs(UtilAll.computeNextMinutesTimeMillis() - System.currentTimeMillis()), 1000 * 60, TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItemSet.java`
#### Snippet
```java
        }, Math.abs(UtilAll.computeNextHourTimeMillis() - System.currentTimeMillis()), 1000 * 60 * 60, TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
    public void init() {

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
        }, 0, 10, TimeUnit.SECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
        }, 0, 10, TimeUnit.MINUTES);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
        }, 0, 1, TimeUnit.HOURS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
        }, Math.abs(UtilAll.computeNextMinutesTimeMillis() - System.currentTimeMillis()), 1000 * 60, TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/stats/StatsItem.java`
#### Snippet
```java
        }, Math.abs(UtilAll.computeNextHourTimeMillis() - System.currentTimeMillis()), 1000 * 60 * 60, TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Thread.UncaughtExceptionHandler() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/utils/ThreadUtils.java`
#### Snippet
```java
        Thread thread = new Thread(runnable, name);
        thread.setDaemon(daemon);
        thread.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {
            public void uncaughtException(Thread t, Throwable e) {
                LOGGER.error("Uncaught exception in thread '" + t.getName() + "':", e);
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java

    public static Map<Integer, TopicQueueMappingOne> checkAndBuildMappingItems(List<TopicQueueMappingDetail> mappingDetailList, boolean replace, boolean checkConsistence) {
        Collections.sort(mappingDetailList, new Comparator<TopicQueueMappingDetail>() {
            @Override
            public int compare(TopicQueueMappingDetail o1, TopicQueueMappingDetail o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
            if (brokerNumMapBeforeRemapping != null
                    && !brokerNumMapBeforeRemapping.isEmpty()) {
                Collections.sort(leastBrokers, new Comparator<String>() {
                    @Override
                    public int compare(String o1, String o2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledPrinter.java`
#### Snippet
```java
     */
    public void schedule(final StatisticsItem statisticsItem) {
        ScheduledFuture future = executor.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsManager.java`
#### Snippet
```java
    private void start() {
        int maxIdleTime = MAX_IDLE_TIME;
        executor.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java

        // print log every ${interval} miliseconds
        ScheduledFuture future = executor.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `common/src/main/java/org/apache/rocketmq/common/statistics/StatisticsItemScheduledIncrementPrinter.java`
#### Snippet
```java

        // sample every TPS_INTREVAL
        ScheduledFuture futureSample = executor.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullMessageService.java`
#### Snippet
```java
    public void executePullRequestLater(final PullRequest pullRequest, final long timeDelay) {
        if (!isStopped()) {
            this.scheduledExecutorService.schedule(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullMessageService.java`
#### Snippet
```java
    public void executePopPullRequestLater(final PopRequest pullRequest, final long timeDelay) {
        if (!isStopped()) {
            this.scheduledExecutorService.schedule(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
    public void start() {
        if (MessageModel.CLUSTERING.equals(ConsumeMessagePopOrderlyService.this.defaultMQPushConsumerImpl.messageModel())) {
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopOrderlyService.java`
#### Snippet
```java
        }

        this.scheduledExecutorService.schedule(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
    public void start() {
        if (MessageModel.CLUSTERING.equals(ConsumeMessageOrderlyService.this.defaultMQPushConsumerImpl.messageModel())) {
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
        }

        this.scheduledExecutorService.schedule(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageOrderlyService.java`
#### Snippet
```java
    public void tryLockLaterAndReconsume(final MessageQueue mq, final ProcessQueue processQueue,
        final long delayMills) {
        this.scheduledExecutorService.schedule(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/RebalancePushImpl.java`
#### Snippet
```java
        if (pq.hasTempMessage()) {
            log.info("[{}]unlockDelay, begin {} ", mq.hashCode(), mq);
            this.defaultMQPushConsumerImpl.getmQClientFactory().getScheduledExecutorService().schedule(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
    ) {

        this.scheduledExecutorService.schedule(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessagePopConcurrentlyService.java`
#### Snippet
```java
    ) {

        this.scheduledExecutorService.schedule(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultMQPushConsumerImpl.java`
#### Snippet
```java

                            pullRequest.getProcessQueue().setDropped(true);
                            DefaultMQPushConsumerImpl.this.executeTaskLater(new Runnable() {

                                @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java

    public void start() {
        this.cleanExpireMsgExecutors.scheduleAtFixedRate(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
    ) {

        this.scheduledExecutorService.schedule(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/ConsumeMessageConcurrentlyService.java`
#### Snippet
```java
    ) {

        this.scheduledExecutorService.schedule(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/producer/RequestFutureHolder.java`
#### Snippet
```java
            this.scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(new ThreadFactoryImpl("RequestHouseKeepingService"));

            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java

        final long beginStartTime = System.currentTimeMillis();
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
        throws MQClientException, RemotingException, InterruptedException {
        final long beginStartTime = System.currentTimeMillis();
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java

        final long beginStartTime = System.currentTimeMillis();
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `client/src/main/java/org/apache/rocketmq/client/impl/consumer/DefaultLitePullConsumerImpl.java`
#### Snippet
```java
    private void startScheduleTask() {
        scheduledExecutorService.scheduleAtFixedRate(
            new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `openmessaging/src/main/java/io/openmessaging/rocketmq/consumer/LocalMessageCache.java`
#### Snippet
```java
    @Override
    public void startup() {
        this.cleanExpireMsgExecutors.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Comparator\>() can be replaced with lambda
in `test/src/main/java/org/apache/rocketmq/test/util/TestUtil.java`
#### Snippet
```java
    public static <K, V extends Comparable<? super V>> Map<K, V> sortByValue(Map<K, V> map) {
        List<Map.Entry<K, V>> list = new LinkedList<Map.Entry<K, V>>(map.entrySet());
        Collections.sort(list, new Comparator<Map.Entry<K, V>>() {
            public int compare(Map.Entry<K, V> o1, Map.Entry<K, V> o2) {
                return (o1.getValue()).compareTo(o2.getValue());
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `test/src/main/java/org/apache/rocketmq/test/lmq/benchmark/BenchLmqStore.java`
#### Snippet
```java
        for (int i = 0; i < sendThreadNum; i++) {
            final int flag = i;
            sendPool.execute(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `test/src/main/java/org/apache/rocketmq/test/client/mq/MQAsyncProducer.java`
#### Snippet
```java
        this.intervalMills = intervalMills;

        sendT = new Thread(new Runnable() {
            public void run() {
                for (int i = 0; i < msgNum; i++) {
```

### Convert2Lambda
Anonymous new Comparator\>() can be replaced with lambda
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            }
            Class<?>[] parameterTypes = method.getParameterTypes();
            Arrays.sort(parameterTypes, new Comparator<Class<?>>() {
                @Override
                public int compare(Class<?> o1, Class<?> o2) {
```

### Convert2Lambda
Anonymous new Comparator\>() can be replaced with lambda
in `test/src/main/java/org/apache/rocketmq/test/schema/SchemaTools.java`
#### Snippet
```java
            });
            Class<?>[] exceptionTypes = method.getExceptionTypes();
            Arrays.sort(exceptionTypes, new Comparator<Class<?>>() {
                @Override
                public int compare(Class<?> o1, Class<?> o2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/client/ClientHousekeepingService.java`
#### Snippet
```java
    public void start() {

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/dledger/DLedgerRoleChangeHandler.java`
#### Snippet
```java
            }
            this.brokerController.getSlaveSynchronize().setMasterAddr(null);
            slaveSyncFuture = this.brokerController.getScheduledExecutorService().scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/dledger/DLedgerRoleChangeHandler.java`
#### Snippet
```java
    @Override
    public void handle(long term, MemberState.Role role) {
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        final long initialDelay = UtilAll.computeNextMorningTimeMillis() - System.currentTimeMillis();
        final long period = TimeUnit.DAYS.toMillis(1);
        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        }, initialDelay, period, TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        }, 1000 * 10, this.brokerConfig.getFlushConsumerOffsetInterval(), TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        }, 1000 * 10, 1000 * 10, TimeUnit.MILLISECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        }, 3, 3, TimeUnit.MINUTES);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        }, 10, 1, TimeUnit.SECONDS);

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
                }

                this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {

                    @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java

            } else {
                this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {

                    @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
        initializeBrokerScheduledTasks();

        this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
            LOG.info("Set user specified name server address: {}", this.brokerConfig.getNamesrvAddr());
            // also auto update namesrv if specify
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/BrokerController.java`
#### Snippet
```java
            }, 1000 * 10, 1000 * 60 * 2, TimeUnit.MILLISECONDS);
        } else if (this.brokerConfig.isFetchNamesrvAddrByAddressServer()) {
            this.scheduledExecutorService.scheduleAtFixedRate(new Runnable() {

                @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
            }

            this.deliverExecutorService.scheduleAtFixedRate(new Runnable() {

                @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/schedule/ScheduleMessageService.java`
#### Snippet
```java
        scheduledPersistService = new ScheduledThreadPoolExecutor(1,
            new ThreadFactoryImpl("ScheduleMessageServicePersistThread", true, brokerController.getBrokerConfig()));
        scheduledPersistService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/longpolling/PopRequest.java`
#### Snippet
```java
    }

    public static final Comparator<PopRequest> COMPARATOR = new Comparator<PopRequest>() {
        @Override
        public int compare(PopRequest o1, PopRequest o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopReviveService.java`
#### Snippet
```java
            }
            sortList = new ArrayList<>(map.values());
            Collections.sort(sortList, new Comparator<PopCheckPoint>() {
                @Override
                public int compare(PopCheckPoint o1, PopCheckPoint o2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `broker/src/main/java/org/apache/rocketmq/broker/transaction/AbstractTransactionalMessageCheckListener.java`
#### Snippet
```java
    public void resolveHalfMsg(final MessageExt msgExt) {
        if (executorService != null) {
            executorService.execute(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
    public void start() {

        executorService.scheduleAtFixedRate(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `example/src/main/java/org/apache/rocketmq/example/benchmark/BatchProducer.java`
#### Snippet
```java
        final ExecutorService sendThreadPool = Executors.newFixedThreadPool(threadCount);
        for (int i = 0; i < threadCount; i++) {
            sendThreadPool.execute(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `example/src/main/java/org/apache/rocketmq/example/benchmark/timer/TimerProducer.java`
#### Snippet
```java

        for (int i = 0; i < threadCount; i++) {
            sendThreadPool.execute(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `example/src/main/java/org/apache/rocketmq/example/benchmark/Producer.java`
#### Snippet
```java
                break;
            }
            sendThreadPool.execute(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `example/src/main/java/org/apache/rocketmq/example/benchmark/TransactionProducer.java`
#### Snippet
```java

        for (int i = 0; i < config.threadCount; i++) {
            sendThreadPool.execute(new Runnable() {
                @Override
                public void run() {
```

## RuleId[ruleID=UnnecessaryContinue]
### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `filter/src/main/java/org/apache/rocketmq/filter/parser/TokenMgrError.java`
#### Snippet
```java
                        retval.append(ch);
                    }
                    continue;
            }
        }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `filter/src/main/java/org/apache/rocketmq/filter/parser/ParseException.java`
#### Snippet
```java
                        retval.append(ch);
                    }
                    continue;
            }
        }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `store/src/main/java/org/apache/rocketmq/store/MappedFileQueue.java`
#### Snippet
```java
                    && mappedFile.getMappedByteBufferAccessCountSinceLastSwap() > 0) {
                mappedFile.swapMap();
                continue;
            }
        }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `store/src/main/java/org/apache/rocketmq/store/queue/BatchConsumeQueue.java`
#### Snippet
```java
                    } else {
                        //The min timestamp of this file is larger than the given timestamp, so check the next file
                        continue;
                    }
                }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java`
#### Snippet
```java
            File f = new File(fileName);
            if (fileName.equals(fileHome + MixAll.ACL_CONF_TOOLS_FILE)) {
                continue;
            } else if (fileName.endsWith(".yml") || fileName.endsWith(".yaml")) {
                allAclFileFullPath.add(fileName);
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/statictopic/TopicQueueMappingUtils.java`
#### Snippet
```java
            LogicQueueMappingItem item =  mappingItems.get(i);
            if (ignoreNegative && item.getLogicOffset() < 0) {
                continue;
            } else {
                return item;
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                        log.warn(msg.toString());
                        exception = e;
                        continue;
                    } catch (MQBrokerException e) {
                        endTimestamp = System.currentTimeMillis();
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `client/src/main/java/org/apache/rocketmq/client/impl/producer/DefaultMQProducerImpl.java`
#### Snippet
```java
                        exception = e;
                        if (this.defaultMQProducer.getRetryResponseCodes().contains(e.getResponseCode())) {
                            continue;
                        } else {
                            if (sendResult != null) {
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `srvutil/src/main/java/org/apache/rocketmq/srvutil/AclFileWatchService.java`
#### Snippet
```java
            File f = new File(fileName);
            if (fileName.equals(aclPath + File.separator + "tools.yml")) {
                continue;
            } else if (fileName.endsWith(".yml") || fileName.endsWith(".yaml")) {
                fileList.add(fileName);
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
                    } else {
                        //not found
                        continue;
                    }
                } else {
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/ConsumerManageProcessor.java`
#### Snippet
```java
                        break;
                    } else if (rpcResponse.getCode() == ResponseCode.QUERY_NOT_FOUND) {
                        continue;
                    } else {
                        //this should not happen
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
            // double check
            if (isCkDone(pointWrapper)) {
                continue;
            } else if (pointWrapper.isJustOffset()) {
                // just offset should be in store.
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
                    countCk++;
                }
                continue;
            } else if (removeCk) {
                // put buffer ak to store
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
                    iterator.remove();
                    counter.decrementAndGet();
                    continue;
                }
            }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopBufferMergeService.java`
#### Snippet
```java
                POP_LOGGER.info("[PopBuffer]remove long time not used sub {} of topic {} in buffer!", cid, topic);
                iterator.remove();
                continue;
            }
        }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/AdminBrokerProcessor.java`
#### Snippet
```java
                    if (offsetResponseHeader.getOffset() < 0
                        || item.checkIfEndOffsetDecided() && offsetResponseHeader.getOffset() >= item.getEndOffset()) {
                        continue;
                    } else {
                        offset = item.computeStaticQueueOffsetStrictly(offsetResponseHeader.getOffset());
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `broker/src/main/java/org/apache/rocketmq/broker/processor/PopMessageProcessor.java`
#### Snippet
```java
                            POP_LOGGER.info("remove not exit sub {} of topic {} in pollingMap!", cid, topic);
                            pollingMapIter.remove();
                            continue;
                        }
                    }
```

## RuleId[ruleID=CopyConstructorMissesField]
### CopyConstructorMissesField
Copy constructor does not copy field 'zoneName'
in `remoting/src/main/java/org/apache/rocketmq/remoting/protocol/route/BrokerData.java`
#### Snippet
```java
    }

    public BrokerData(BrokerData brokerData) {
        this.cluster = brokerData.cluster;
        this.brokerName = brokerData.brokerName;
```

## RuleId[ruleID=ThreadStartInConstruction]
### ThreadStartInConstruction
Call to `start()` during object construction
in `broker/src/main/java/org/apache/rocketmq/broker/processor/NotificationProcessor.java`
#### Snippet
```java
        this.checkNotificationPollingThread.setDaemon(true);
        this.checkNotificationPollingThread.setName("checkNotificationPolling");
        this.checkNotificationPollingThread.start();
    }

```

