# jackrabbit-oak 
 
# Bad smells
I found 8380 bad smells with 577 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| UnstableApiUsage | 1797 | false |
| SystemOutErr | 591 | false |
| ReturnNull | 567 | false |
| BoundedWildcard | 503 | false |
| UnnecessaryFullyQualifiedName | 485 | false |
| DataFlowIssue | 402 | false |
| AssignmentToMethodParameter | 362 | false |
| RedundantFieldInitialization | 260 | false |
| NullableProblems | 196 | false |
| ZeroLengthArrayInitialization | 173 | false |
| SizeReplaceableByIsEmpty | 171 | true |
| StaticPseudoFunctionalStyleMethod | 156 | false |
| ConstantValue | 145 | false |
| UNUSED_IMPORT | 108 | false |
| Convert2Lambda | 101 | false |
| UtilityClassWithoutPrivateConstructor | 96 | true |
| FieldAccessedSynchronizedAndUnsynchronized | 92 | false |
| UnnecessaryToStringCall | 85 | true |
| UnusedAssignment | 83 | false |
| UnstableTypeUsedInSignature | 82 | false |
| SynchronizeOnThis | 79 | false |
| MissortedModifiers | 79 | false |
| IgnoreResultOfCall | 63 | false |
| Anonymous2MethodRef | 63 | false |
| DynamicRegexReplaceableByCompiledPattern | 56 | false |
| ToArrayCallWithZeroLengthArrayArgument | 49 | true |
| NestedAssignment | 49 | false |
| DuplicateThrows | 48 | false |
| StringEquality | 45 | false |
| UnnecessaryLocalVariable | 43 | true |
| ObsoleteCollection | 43 | false |
| AssignmentToForLoopParameter | 40 | false |
| UnnecessaryModifier | 38 | true |
| NonShortCircuitBoolean | 37 | false |
| EmptyMethod | 37 | false |
| StringBufferReplaceableByString | 35 | false |
| Convert2MethodRef | 34 | false |
| NonProtectedConstructorInAbstractClass | 33 | true |
| ThrowablePrintStackTrace | 33 | false |
| UnnecessaryBoxing | 29 | false |
| PublicFieldAccessedInSynchronizedContext | 27 | false |
| IntegerMultiplicationImplicitCastToLong | 26 | false |
| ReplaceAssignmentWithOperatorAssignment | 26 | false |
| DuplicateBranchesInSwitch | 26 | false |
| IOResource | 26 | false |
| StringEqualsEmptyString | 26 | false |
| CharsetObjectCanBeUsed | 25 | false |
| OptionalUsedAsFieldOrParameterType | 24 | false |
| ReplaceNullCheck | 24 | false |
| StringOperationCanBeSimplified | 23 | false |
| BusyWait | 22 | false |
| RedundantArrayCreation | 22 | true |
| DeprecatedIsStillUsed | 22 | false |
| FieldMayBeStatic | 20 | false |
| StringConcatenationInsideStringBufferAppend | 19 | false |
| InnerClassMayBeStatic | 19 | true |
| KeySetIterationMayUseEntrySet | 18 | false |
| TrivialStringConcatenation | 18 | false |
| RedundantMethodOverride | 18 | false |
| RedundantImplements | 18 | false |
| Java9CollectionFactory | 18 | false |
| RedundantStringFormatCall | 17 | false |
| UnnecessarySemicolon | 16 | false |
| WhileCanBeForeach | 14 | false |
| ClassNameSameAsAncestorName | 14 | false |
| DefaultAnnotationParam | 14 | false |
| MissingDeprecatedAnnotation | 14 | false |
| CommentedOutCode | 13 | false |
| RegExpRedundantEscape | 13 | false |
| UnnecessaryCallToStringValueOf | 13 | false |
| UseOfPropertiesAsHashtable | 13 | false |
| UnnecessaryUnboxing | 11 | false |
| SamePackageImport | 11 | false |
| UseCompareMethod | 11 | false |
| MethodOverridesStaticMethod | 11 | false |
| ConditionalBreakInInfiniteLoop | 10 | false |
| CodeBlock2Expr | 10 | true |
| Java8MapApi | 10 | false |
| MismatchedCollectionQueryUpdate | 9 | false |
| IndexOfReplaceableByContains | 9 | false |
| ManualMinMaxCalculation | 9 | false |
| StringBufferReplaceableByStringBuilder | 9 | false |
| ConditionCoveredByFurtherCondition | 9 | false |
| AssignmentToStaticFieldFromInstanceMethod | 8 | false |
| UnnecessaryQualifierForThis | 8 | false |
| SynchronizationOnLocalVariableOrMethodParameter | 8 | false |
| UseBulkOperation | 8 | false |
| IfStatementWithIdenticalBranches | 8 | false |
| EmptyStatementBody | 7 | false |
| RedundantSuppression | 7 | false |
| CStyleArrayDeclaration | 6 | false |
| FinalStaticMethod | 6 | false |
| EqualsAndHashcode | 6 | false |
| DoubleBraceInitialization | 6 | false |
| ThrowablePrintedToSystemOut | 6 | false |
| CatchMayIgnoreException | 6 | false |
| MismatchedJavadocCode | 6 | false |
| EnumSwitchStatementWhichMissesCases | 5 | false |
| AbstractClassNeverImplemented | 5 | false |
| AnonymousHasLambdaAlternative | 5 | false |
| NonSerializableFieldInSerializableClass | 5 | false |
| ThrowableNotThrown | 5 | false |
| Finalize | 4 | false |
| WrapperTypeMayBePrimitive | 4 | false |
| SimplifyStreamApiCallChains | 4 | false |
| ProtectedMemberInFinalClass | 4 | true |
| StaticCallOnSubclass | 4 | false |
| RedundantClassCall | 4 | false |
| FunctionalExpressionCanBeFolded | 4 | false |
| UnnecessarySuperQualifier | 4 | false |
| FuseStreamOperations | 4 | false |
| TypeParameterExtendsObject | 4 | false |
| OptionalIsPresent | 4 | false |
| AbstractMethodCallInConstructor | 4 | false |
| SynchronizeOnNonFinalField | 4 | false |
| PointlessBitwiseExpression | 3 | false |
| ManualArrayToCollectionCopy | 3 | false |
| RegExpSimplifiable | 3 | false |
| UnnecessaryReturn | 3 | true |
| WhileLoopSpinsOnField | 3 | false |
| ThrowFromFinallyBlock | 3 | false |
| InfiniteLoopStatement | 3 | false |
| InstanceofCatchParameter | 3 | false |
| ExceptionNameDoesntEndWithException | 3 | false |
| NestedSynchronizedStatement | 3 | false |
| UnnecessaryContinue | 3 | false |
| CopyConstructorMissesField | 3 | false |
| PointlessArithmeticExpression | 2 | false |
| FinalPrivateMethod | 2 | false |
| AccessStaticViaInstance | 2 | false |
| CallToStringConcatCanBeReplacedByOperator | 2 | false |
| SocketResource | 2 | false |
| SwitchStatementWithConfusingDeclaration | 2 | false |
| RedundantFileCreation | 2 | false |
| PointlessBooleanExpression | 2 | true |
| OverwrittenKey | 2 | false |
| LoopStatementsThatDontLoop | 2 | false |
| UnnecessaryStringEscape | 2 | true |
| RefusedBequest | 2 | false |
| DuplicateExpressions | 2 | false |
| FinalizeNotProtected | 2 | false |
| NullArgumentToVariableArgMethod | 2 | false |
| ThreadStartInConstruction | 2 | false |
| CastCanBeRemovedNarrowingVariableType | 2 | false |
| MismatchedArrayReadWrite | 1 | false |
| NotNullFieldNotInitialized | 1 | false |
| ForLoopReplaceableByWhile | 1 | false |
| NumberEquality | 1 | false |
| HtmlWrongAttributeValue | 1 | false |
| RedundantEscapeInRegexReplacement | 1 | false |
| NewObjectEquality | 1 | false |
| ImplicitArrayToString | 1 | false |
| AssignmentToLambdaParameter | 1 | false |
| ManualArrayCopy | 1 | false |
| AssertWithSideEffects | 1 | false |
| OctalLiteral | 1 | false |
| ConstantMathCall | 1 | false |
| IfStatementMissingBreakInLoop | 1 | false |
| MalformedFormatString | 1 | false |
| SimplifyOptionalCallChains | 1 | false |
| GroovyUnusedAssignment | 1 | false |
| RedundantUnmodifiable | 1 | false |
| RedundantOperationOnEmptyContainer | 1 | false |
| ComparatorCombinators | 1 | false |
| RedundantCollectionOperation | 1 | false |
| EqualsWhichDoesntCheckParameterClass | 1 | false |
## RuleId[id=ToArrayCallWithZeroLengthArrayArgument]
### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[tokens.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockManagerImpl.java`
#### Snippet
```java
            public String[] perform() {
                Set<String> tokens = sessionContext.getOpenScopedLocks();
                return tokens.toArray(new String[tokens.size()]);
            }
        });
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[list.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryManagerImpl.java`
#### Snippet
```java
        // create a new instance each time because the array is mutable
        // (the caller could modify it)
        return list.toArray(new String[list.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new RefreshStrategy\[strategies.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/RefreshStrategy.java`
#### Snippet
```java
                }
            }
            return new Composite(strategies.toArray(new RefreshStrategy[strategies.size()]));
        }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[prefixes.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionNamespaces.java`
#### Snippet
```java
        prefixes.addAll(local.keySet());

        return prefixes.toArray(new String[prefixes.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[names.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionImpl.java`
#### Snippet
```java
        Collections.addAll(names, sd.getAuthInfo().getAttributeNames());
        names.add(RepositoryImpl.BOUND_PRINCIPALS);
        return names.toArray(new String[names.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Version\[predecessors.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionImpl.java`
#### Snippet
```java
                    predecessors.add(new VersionImpl(vDelegate, sessionContext));
                }
                return predecessors.toArray(new Version[predecessors.size()]);
            }
        });
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Version\[successors.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionImpl.java`
#### Snippet
```java
                    successors.add(new VersionImpl(vMgr.getVersionByIdentifier(id), sessionContext));
                }
                return successors.toArray(new Version[successors.size()]);
            }
        });
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[labels.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
                    labels.add(sessionContext.getJcrName(label));
                }
                return labels.toArray(new String[labels.size()]);
            }
        });
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[labels.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
                    labels.add(sessionContext.getJcrName(label));
                }
                return labels.toArray(new String[labels.size()]);
            }
        });
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new NodeType\[mixinTypes.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
                        mixinTypes.add(ntMgr.getNodeType(sessionContext.getJcrName(mixinNames.next())));
                    }
                    return mixinTypes.toArray(new NodeType[mixinTypes.size()]);
                } else {
                    return new NodeType[0];
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Value\[values.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/EventFactory.java`
#### Snippet
```java
        if (property.isArray()) {
            List<Value> values = valueFactory.createValues(property);
            return values.toArray(new Value[values.size()]);
        } else {
            return valueFactory.createValue(property);
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[combo.size()\]'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
            combo.addAll(Arrays.asList(this.globPaths));
            combo.addAll(Arrays.asList(globPaths));
            this.globPaths = combo.toArray(new String[combo.size()]);
        }
        return this;
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[aggrNames.size()\]'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                        });
                if (allAggregatesRegistered(pMgr, aggrNames)) {
                    pMgr.registerPrivilege(aggrPriv.getName(), aggrPriv.isAbstract(), aggrNames.toArray(new String[aggrNames.size()]));
                    it.remove();
                    logger.info("- " + aggrPriv.getName());
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[names.size()\]'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                names.add(getOakName(supertype));
            }
            tmpl.setDeclaredSuperTypeNames(names.toArray(new String[names.size()]));
        }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new NodeTypeTemplate\[templates.size()\]'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            }
        }
        ntMgr.registerNodeTypes(templates.toArray(new NodeTypeTemplate[templates.size()]), true);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[names.size()\]'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            names.add(getOakName(type));
        }
        tmpl.setRequiredPrimaryTypeNames(names.toArray(new String[names.size()]));

        Name type = def.getDefaultPrimaryType();
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[filter.getPrimaryTypes().size()\]'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java

        if (configuration.useForPrimaryTypes()) {
            String[] pts = filter.getPrimaryTypes().toArray(new String[filter.getPrimaryTypes().size()]);
            StringBuilder ptQueryBuilder = new StringBuilder();
            for (int i = 0; i < pts.length; i++) {
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[includeCopy.size()\]'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/filter/PathFilter.java`
#### Snippet
```java
        checkState(!includeCopy.isEmpty(), "No valid include provided. Includes %s, " +
                "Excludes %s", includes, excludes);
        this.includedPaths = includeCopy.toArray(new String[includeCopy.size()]);
        this.excludedPaths = excludeCopy.toArray(new String[excludeCopy.size()]);
    }
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[excludeCopy.size()\]'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/filter/PathFilter.java`
#### Snippet
```java
                "Excludes %s", includes, excludes);
        this.includedPaths = includeCopy.toArray(new String[includeCopy.size()]);
        this.excludedPaths = excludeCopy.toArray(new String[excludeCopy.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[keys.size()\]'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/descriptors/GenericDescriptors.java`
#### Snippet
```java
            Collections.addAll(keys, base.getKeys());
        }
        return keys.toArray(new String[keys.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[keys.size()\]'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/descriptors/AggregatingDescriptors.java`
#### Snippet
```java
            Collections.addAll(keys, descriptors.getKeys());
        }
        return keys.toArray(new String[keys.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[values.size()\]'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
                }
            }
            return values.toArray(new String[values.size()]);

        } else if (propValue instanceof Collection<?>) {
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[valueList.size()\]'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
                }
            }
            return valueList.toArray(new String[valueList.size()]);
        }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[stack.size()\]'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            }
            if (stack.size() > 0) {
                String[] s = stack.toArray(new String[stack.size()]);
                list.add(s);
            }
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new PropertyTemplate\[templates.size()\]'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        this.mixinTypes = mixins;
        this.properties =
                templates.toArray(new PropertyTemplate[templates.size()]);
        Arrays.sort(properties);

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Integer\[map.size()\]'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarFiles.java`
#### Snippet
```java

        Map<Integer, Map<Character, String>> map = collectFiles(archiveManager);
        Integer[] indices = map.keySet().toArray(new Integer[map.size()]);
        Arrays.sort(indices);

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new SegmentArchiveEntry\[entryList.size()\]'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
    SegmentArchiveEntry[] getEntries() {
        List<SegmentArchiveEntry> entryList = archive.listSegments();
        return entryList.toArray(new SegmentArchiveEntry[entryList.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[rootPathList.size()\]'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

                    List<String> rootPathList = options.valuesOf(verboseRootPath);
                    traverser.traverse((String[]) rootPathList.toArray(new String[rootPathList.size()]));

                    FileUtils.copyFile(traverser.references, register.createFile(refOp, dumpPath));
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[rootPathList.size()\]'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                List<String> roothPathInclusionRegex = dataStoreOpts.getVerboseInclusionRegex();
                retriever = new NodeTraverserReferenceRetriever(fixture.getStore(),
                    rootPathList.toArray(new String[rootPathList.size()]),
                    roothPathInclusionRegex.toArray(new String[roothPathInclusionRegex.size()]),
                    dataStoreOpts.isUseDirListing());
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[roothPathInclusionRegex.size()\]'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                retriever = new NodeTraverserReferenceRetriever(fixture.getStore(),
                    rootPathList.toArray(new String[rootPathList.size()]),
                    roothPathInclusionRegex.toArray(new String[roothPathInclusionRegex.size()]),
                    dataStoreOpts.isUseDirListing());
            } else {
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[list.size()\]'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultImpl.java`
#### Snippet
```java
            }
        }
        return list.toArray(new String[list.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new PropertyDefinition\[definitions.size()\]'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
    public PropertyDefinition[] getPropertyDefinitions() {
        Collection<PropertyDefinition> definitions = internalGetPropertyDefinitions();
        return definitions.toArray(new PropertyDefinition[definitions.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new NodeDefinition\[definitions.size()\]'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
    public NodeDefinition[] getChildNodeDefinitions() {
        Collection<NodeDefinition> definitions = internalGetChildDefinitions();
        return definitions.toArray(new NodeDefinition[definitions.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Value\[values.size()\]'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
        if (definition.isMultiple()) {
            List<Value> values = valueFactory.createValues(property);
            if (!nt.canSetProperty(property.getName(), values.toArray(new Value[values.size()]))) {
                throw new ConstraintViolationException("Cannot set property '" + property.getName() + "' to '" + values + '\'');
            }
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[orderedProps.size()\]'
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakLuceneIndexUtils.java`
#### Snippet
```java
            if (!orderedProps.isEmpty()) {
                indexDef.setProperty(FulltextIndexConstants.ORDERED_PROP_NAMES,
                        orderedProps.toArray(new String[orderedProps.size()]),
                        PropertyType.NAME);
            }
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new TokenFilterFactory\[result.size()\]'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/NodeStateAnalyzerFactory.java`
#### Snippet
```java
        }

        return result.toArray(new TokenFilterFactory[result.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new CharFilterFactory\[result.size()\]'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/NodeStateAnalyzerFactory.java`
#### Snippet
```java
        }

        return result.toArray(new CharFilterFactory[result.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[fieldNames.size()\]'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/MoreLikeThisHelper.java`
#### Snippet
```java
                            }
                        }
                        String[] docFields = fieldNames.toArray(new String[fieldNames.size()]);
                        mlt.setFieldNames(docFields);
                        moreLikeThisQuery = mlt.like(d.doc);
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[names.size()\]'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            Arrays.fill(maxPassages, 1);
            try {
                Map<String, String[]> stringMap = postingsHighlighter.highlightFields(names.toArray(new String[names.size()]),
                        query, searcher, new int[]{docID}, maxPassages);
                for (Map.Entry<String, String[]> entry : stringMap.entrySet()) {
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[all.size()\]'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/BufferedOakDirectory.java`
#### Snippet
```java
        all.addAll(asList(buffered.listAll()));
        all.removeAll(bufferedForDelete);
        return all.toArray(new String[all.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[fileNames.size()\]'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakDirectory.java`
#### Snippet
```java
    @Override
    public String[] listAll() throws IOException {
        return fileNames.toArray(new String[fileNames.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Principal\[principals.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java

    protected void addPolicy(AccessControlManager acMgr, Node node, Privilege[] privileges, List<Principal> principals) throws RepositoryException {
        addPolicy(acMgr, node, privileges, principals.toArray(new Principal[principals.size()]));
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[ids.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMembersTest.java`
#### Snippet
```java
                    i++;
                }
                group.removeMembers(ids.toArray(new String[ids.size()]));
            }
            s.save();
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[ids.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMembersTest.java`
#### Snippet
```java
                    ids.add(USER + j);
                }
                g.addMembers(ids.toArray(new String[ids.size()]));
                s.save();
            }
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[ids.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddUniqueMembersTest.java`
#### Snippet
```java
                    i++;
                }
                failed = group.addMembers(ids.toArray(new String[ids.size()]));
            }
            Assert.assertTrue("Group " + group.getID() + ": unable to add: " + failed, failed.isEmpty());
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[ids.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddMembersTest.java`
#### Snippet
```java
                    i++;
                }
                group.addMembers(ids.toArray(new String[ids.size()]));
            }
            s.save();
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[supportedPaths.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CugTest.java`
#### Snippet
```java
        super(runAsAdmin, itemsToRead, false, singleSession);
        this.params = ConfigurationParameters.of(AuthorizationConfiguration.NAME, ConfigurationParameters.of(
                    "cugSupportedPaths", supportedPaths.toArray(new String[supportedPaths.size()]),
                    "cugEnabled", true));
        this.reverseOrder = reverseOrder;
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[memberIds.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/MemberBaseTest.java`
#### Snippet
```java
            }

            String[] idArray = memberIds.toArray(new String[memberIds.size()]);
            for (int i = 0, j = 1; i <= numberOfGroups; i++, j++) {
                Group g = userManager.createGroup(new PrincipalImpl(GROUP + i), REL_TEST_PATH);
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[autoMembership.size()\]'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/AbstractExternalTest.java`
#### Snippet
```java
                .setMembershipNestingDepth(1)
                .setDynamicMembership(dynamicMembership)
                .setAutoMembership(autoMembership.toArray(new String[autoMembership.size()]))
                .setExpirationTime(expTime).setPathPrefix(PATH_PREFIX);
        syncConfig.group()
```

## RuleId[id=Finalize]
### Finalize
'finalize()' should not be overridden
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java

    @Override
    protected void finalize() throws Throwable {
        if (!this.ch.isClosed() && this.callStack != null) {
            LOG.debug("finalizing RDBDocumentStore that was not disposed", this.callStack);
```

### Finalize
'finalize()' should not be overridden
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        @Override
        public void finalize() throws Throwable {
            try {
                if (this.connection != null) {
```

### Finalize
'finalize()' should not be overridden
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    @Override
    public void finalize() throws Throwable {
        super.finalize();
        // TODO should not be needed, but it seems
```

### Finalize
'finalize()' should not be overridden
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    @Override
    protected void finalize() throws Throwable {
        if (!this.ch.isClosed() && this.callStack != null) {
            LOG.debug("finalizing RDBDocumentStore that was not disposed", this.callStack);
```

## RuleId[id=WrapperTypeMayBePrimitive]
### WrapperTypeMayBePrimitive
Type may be primitive
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerConfigurationProvider.java`
#### Snippet
```java
            String coreName = getStringValueFor(Properties.CORE_NAME, SolrServerConfigurationDefaults.CORE_NAME);
            String context = getStringValueFor(Properties.CONTEXT, null);
            Integer httpPort = Integer.valueOf(getStringValueFor(Properties.HTTP_PORT, "0"));

            if (context != null && httpPort > 0) {
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
            // use 'findAndUpdate' with the condition that
            // the view id is still at the previousview one
            Long previousViewSeqNum = previousView.getViewSeqNum();
            updateOp.setNew(false); // change to false from true above
            updateOp.equals(VIEW_SEQ_NUM_KEY, null, previousViewSeqNum);
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            if (split.length == 2) {
                try {
                    Integer id = Integer.parseInt(split[0]);
                    if (id == clusterNodeId) {
                        final Revision lastKnownRev = Revision.fromString(split[1]);
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarFiles.java`
#### Snippet
```java
                    dataFiles.put(index, files);
                }
                Character generation = 'a';
                if (matcher.group(4) != null) {
                    generation = matcher.group(4).charAt(0);
```

## RuleId[id=MismatchedArrayReadWrite]
### MismatchedArrayReadWrite
Contents of array `customAttributes` are read, but never written to
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
        private String idAttribute;

        private String[] customAttributes = {};

        private String extraFilter;
```

## RuleId[id=UnnecessaryModifier]
### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/OperationStatsCollector.java`
#### Snippet
```java
     * @param num
     */
    public void updateNumBlobReferences(long num);

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/OperationStatsCollector.java`
#### Snippet
```java
     * @param size
     */
    public void updateBlobReferencesSize(long size);
    
    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/MountedNodeStoreChecker.java`
#### Snippet
```java
public interface MountedNodeStoreChecker<T> {
    
    public T createContext(NodeStore globalStore, MountInfoProvider mip);
    
    boolean check(MountedNodeStore mountedStore, Tree tree, ErrorHolder errorHolder, T context);
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextVisitor.java`
#### Snippet
```java
     * The base implementation of a full-text visitor.
     */
    public abstract static class FullTextVisitorBase implements FullTextVisitor {

        @Override
```

### UnnecessaryModifier
Modifier `static` is redundant for inner classes of interfaces
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextVisitor.java`
#### Snippet
```java
     * The base implementation of a full-text visitor.
     */
    public abstract static class FullTextVisitorBase implements FullTextVisitor {

        @Override
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/ImpactOption.java`
#### Snippet
```java
    private final int value;

    private ImpactOption(int value) {
        this.value = value;
    }
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/ConflictType.java`
#### Snippet
```java
    private final boolean effectsNode;

    private ConflictType(String value, boolean node) {
        this.name = value;
        this.effectsNode = node;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
    public Iterator<NodeStateEntry> iterator();

    public boolean isEmpty();

    public void close();
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
    public boolean isEmpty();

    public void close();

}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
    public long estimatedMemoryUsage();

    public int size();

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
     * Add an item at the tail of the list.
     */
    public void add(@NotNull NodeStateEntry item);

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
     * Get an iterator to iterate over the whole list
     */
    public Iterator<NodeStateEntry> iterator();

    public boolean isEmpty();
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
     * @return the removed item
     */
    public NodeStateEntry remove();

    public long estimatedMemoryUsage();
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/NodeStateEntryList.java`
#### Snippet
```java
    public NodeStateEntry remove();

    public long estimatedMemoryUsage();

    public int size();
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/JcrCreator.java`
#### Snippet
```java
    };

    public Jcr customize(Oak oak);
}

```

### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java

    /** describes the reason why the BackgroundWorker should be woken up **/
    private static enum WakeupReason {
        CLUSTER_STATE_CHANGED, BACKGROUND_READ_FINISHED
    }
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterStateChangeListener.java`
#### Snippet
```java
     * the clusterNodes collection.
     */
    public void handleClusterStateChange();

}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevTracker.java`
#### Snippet
```java
     * @param path the path of the document to update.
     */
    public void track(Path path);
}

```

### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
    public static final String REV_RECOVERY_LOCK = "recoveryLock";

    public static enum RecoverLockState {
        NONE,
        /**
```

### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
    public static final String BROADCAST_LISTENER = "broadcastListener";

    public static enum ClusterNodeState {
        NONE,
        /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
         * @throws SQLException
         */
        public int setParameters(PreparedStatement stmt, int startIndex) throws SQLException;
    }

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
         */
        @NotNull
        public String getStatementComponent();

        /**
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
    }

    private RDBDocumentStoreDB(String description, RDBCommonVendorSpecificCode vendorCode) {
        this.description = description;
        this.vendorCode = vendorCode;
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
    }

    private RDBDocumentStoreDB(String description) {
        this.description = description;
        this.vendorCode = RDBCommonVendorSpecificCode.DEFAULT;
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBCommonVendorSpecificCode.java`
#### Snippet
```java
    protected String description;

    private RDBCommonVendorSpecificCode() {
    }

```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStoreDB.java`
#### Snippet
```java
    }

    private RDBBlobStoreDB(String description, RDBCommonVendorSpecificCode vendorCode) {
        this.description = description;
        this.vendorCode = vendorCode;
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStoreDB.java`
#### Snippet
```java
    protected RDBCommonVendorSpecificCode vendorCode = RDBCommonVendorSpecificCode.DEFAULT;

    private RDBBlobStoreDB(String description) {
        this.description = description;
        this.vendorCode = RDBCommonVendorSpecificCode.DEFAULT;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/spi/lease/LeaseFailureHandler.java`
#### Snippet
```java
     * and must be done by here in this LeaseFailureHandler.
     */
    public void handleLeaseFailure();
    
}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/Broadcaster.java`
#### Snippet
```java
     * A listener for new messages.
     */
    public interface Listener {
        
        /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/monitor/RemoteStoreMonitor.java`
#### Snippet
```java
    public void requestError();

    public void requestDuration(long duration, TimeUnit timeUnit);

}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/monitor/RemoteStoreMonitor.java`
#### Snippet
```java
    public void requestCount();

    public void requestError();

    public void requestDuration(long duration, TimeUnit timeUnit);
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/monitor/RemoteStoreMonitor.java`
#### Snippet
```java
public interface RemoteStoreMonitor {

    public void requestCount();

    public void requestError();
```

### UnnecessaryModifier
Modifier `static` is redundant for inner interfaces
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private static interface MyCloseableIterable<T> extends Closeable, Iterable<T> {
    }

```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedIndex.java`
#### Snippet
```java
        
        private final String direction;
        private OrderDirection(String direction) {
            this.direction = direction;
        }
```

### UnnecessaryModifier
Modifier `static` is redundant for inner interfaces
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/SimpleNodeAggregator.java`
#### Snippet
```java
    // ----- aggregation rules

    private static interface Rule {

    }
```

### UnnecessaryModifier
Modifier `static` is redundant for inner interfaces
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeEditor.java`
#### Snippet
```java
     */
    @ConsumerType
    public static interface ConstraintViolationCallback {
        /**
         * Invoked whenever a constraint violation is detected.
```

### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
     * optimisation.
     */
    public static enum QuerySelectionMode {
        
        /**
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/AuthorizableType.java`
#### Snippet
```java
    private final int userType;

    private AuthorizableType(int jcrUserType) {
        this.userType = jcrUserType;
    }
```

## RuleId[id=PointlessArithmeticExpression]
### PointlessArithmeticExpression
`1 * MB` can be replaced with 'MB'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            .withPort(port)
            .withFileStore(stores[i])
            .withBlobChunkSize(1 * MB)
            .withSecureConnection(secure)
            .build();
```

### PointlessArithmeticExpression
`1 * 1024 * 1024` can be replaced with '1024 \* 1024'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
    // we see the (approximate) updateOp size of the recovery journal entry grow above 1 MB
    // (1 MB being well within the 16 MB limit to account for 'approximate' nature of getting the size)
    private static final int PSEUDO_BRANCH_COMMIT_UPDATE_OP_THRESHOLD_BYTES = 1 * 1024 * 1024;

    // OAK-9535 : recalculate the journal entry size every 4096 elements
```

## RuleId[id=EmptyStatementBody]
### EmptyStatementBody
`while` statement has empty body
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                        try {
                            reader = new LineNumberReader(new InputStreamReader(refRec.getStream()));
                            while (reader.readLine() != null) {
                            }
                            stat.setNumLines(reader.getLineNumber());
```

### EmptyStatementBody
`while` statement has empty body
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
        executor.shutdown();
        try {
            while (!executor.awaitTermination(100, TimeUnit.MILLISECONDS));
        } catch (InterruptedException e) {
            throw new IOException(e);
```

### EmptyStatementBody
`while` statement has empty body
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
        executor.shutdown();
        try {
            while (!executor.awaitTermination(100, TimeUnit.MILLISECONDS));
        } catch (InterruptedException e) {
            throw new IOException(e);
```

### EmptyStatementBody
`while` statement has empty body
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ImmutableRecordNumbers.java`
#### Snippet
```java
            @Override
            protected Entry computeNext() {
                while (++pos < offsets.length && offsets[pos] < 0) { }
                if (pos < offsets.length) {
                    return new Entry() {
```

### EmptyStatementBody
`for` statement has empty body
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/QueryUtils.java`
#### Snippet
```java
        if (sb.charAt(position) == oldWildcard) {
            int escapeCount = 0;
            for (int m = position - 1; m >= 0 && sb.charAt(m) == WILDCARD_ESCAPE; m--, escapeCount++) ;
            if (escapeCount % 2 == 0) {
                sb.setCharAt(position, newWildcard);
```

### EmptyStatementBody
`while` statement has empty body
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
    private String
    readCommaAndWhitespace() {
        while (match(" ")) {
        }
        match(",");
```

### EmptyStatementBody
`while` statement has empty body
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
        }
        match(",");
        while (match(" ")) {
        }
        return "*";
```

## RuleId[id=WhileCanBeForeach]
### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java
            Iterator<String> pendingFileIter = pendingUploads.keySet().iterator();

            while (pendingFileIter.hasNext()) {
                String file = pendingFileIter.next();
                File upload = new File(path, file);
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java
                }).iterator();

        while (iterator.hasNext()) {
            File download = iterator.next();
            LOG.trace("Download cache file absolute pre-upgrade path " + download);
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        private void loadElements(PageSet<? extends StorageMetadata> set) {
            Iterator<? extends StorageMetadata> iter = set.iterator();
            while (iter.hasNext()) {
                StorageMetadata metadata = iter.next();
                if ((maxLastModifiedTime <= 0)
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                }
            }).iterator();
        while (iter.hasNext()) {
            File toBeSyncedFile = iter.next();
            try {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java
        long n = 0;
        Iterator<?> iterator = iterable.iterator();
        while (iterator.hasNext()) {
            iterator.next();
            n++;
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java
        long n = 0;
        Iterator<?> iterator = getChildNodeEntries().iterator();
        while (iterator.hasNext()) {
            iterator.next();
            n++;
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/AbstractConfig.java`
#### Snippet
```java
    public void init(Properties props) throws ServletException {
        Iterator iter = props.keySet().iterator();
        while (iter.hasNext()) {
            String name = (String) iter.next();
            String mapName = toMapName(name, '.');
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/AbstractConfig.java`
#### Snippet
```java
        log.info("----------------------------------------------");
        Iterator iter = map.keySet().iterator();
        while (iter.hasNext()) {
            String name = (String) iter.next();
            log.info("  {}: {}", name, map.get(name));
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/JNDIConfig.java`
#### Snippet
```java
        // add all props whose name starts with 'java.namming.' to the env
        Iterator iter = props.keySet().iterator();
        while (iter.hasNext()) {
            String name = (String) iter.next();
            if (name.startsWith("java.naming.")) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        public void close() throws IOException {
            Iterator<Map.Entry<OptionSpec, File>> iterator = opFiles.entrySet().iterator();
            while (iterator.hasNext()) {
                Map.Entry<OptionSpec, File> entry = iterator.next();
                File f = entry.getValue();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    } else if (p.getType() == Type.BINARIES && p.count() > 0) {
                        Iterator<Blob> iterator = p.getValue(Type.BINARIES).iterator();
                        while (iterator.hasNext()) {

                            Blob blob = iterator.next();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                } else if (p.getType() == Type.BINARIES && p.count() > 0) {
                    Iterator<Blob> iterator = p.getValue(Type.BINARIES).iterator();
                    while (iterator.hasNext()) {
                        Blob blob = iterator.next();
                        String blobId = blob.getContentIdentity();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
        if (this.unpreciseExcludePathPatterns.size() != 0) {
            final Iterator<String> it = parentPaths.iterator();
            while (it.hasNext()) {
                final String aParentPath = it.next();
                if (patternsMatch(this.unpreciseExcludePathPatterns, aParentPath)) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
                }
                Iterator<Tree> children = aclTree.getChildren().iterator();
                while (children.hasNext()) {
                    Tree child = children.next();
                    if (ace.equals(createEntryWithPrincipalMap(path, child, rProvider, principalMap))) {
```

## RuleId[id=AssignmentToStaticFieldFromInstanceMethod]
### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `NO_MESSAGE_UNTIL` from instance context
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/FrozenNodeLogger.java`
#### Snippet
```java
            synchronized (FrozenNodeLogger.class) {
                if (now >= NO_MESSAGE_UNTIL) {
                    NO_MESSAGE_UNTIL = now + LOG_INTERVAL;
                    logFrozenNode(tree);
                }
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `schedulerNumber` from instance context
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/Scheduler.java`
#### Snippet
```java
            synchronized (Scheduler.class) {
                this.name = "scheduler-" + schedulerNumber;
                schedulerNumber++;
            }
        } else {
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `timerSampleCounter` from instance context
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            // always measure slow events (slower than 1 ms)
            measure(timeNanos);
        } else if ((timerSampleCounter++ & (TIMER_SAMPLE_RATE - 1)) == 0) {
            // only measure each xth fast event, but multiply by x, so on
            // average measured times are correct
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `cyclicExecutionCount` from instance context
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
                    if ((cyclicExecutionCount >= INDEX_JCR_TYPE_INVALID_LOG_LIMITER)) {
                        log.warn("jcr:primaryType of index {} should be {} instead of {}", name, IndexConstants.INDEX_DEFINITIONS_NODE_TYPE, primaryType);
                        cyclicExecutionCount = 0;
                    }
                    cyclicExecutionCount++;
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `cyclicExecutionCount` from instance context
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
                        cyclicExecutionCount = 0;
                    }
                    cyclicExecutionCount++;
                    continue;
                }
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `hits` from instance context
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedPropertyIndexProvider.java`
#### Snippet
```java
    
    private synchronized int getHits() {
        return hits++;
    }
    
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `lastDuplicateWarning` from instance context
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java
                    if (now > lastDuplicateWarning + DUPLICATE_WARNING_INTERVAL_MS) {
                        log.warn("Duplicate value for ordered field {}; ignoring. Possibly duplicate index definition.", f.name());
                        lastDuplicateWarning = now;
                    }
                }
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `FLAG_CACHE_FACET_RESULTS_CHANGE` from instance context
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            LOG.info(OLD_FACET_PROVIDER_CONFIG_NAME + " = " + OLD_FACET_PROVIDER);
            LOG.info(CACHE_FACET_RESULTS_NAME + " = " + CACHE_FACET_RESULTS);
            FLAG_CACHE_FACET_RESULTS_CHANGE = false;
        }
    }
```

## RuleId[id=CommentedOutCode]
### CommentedOutCode
Commented out code (2 lines)
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java

        // TODO : See if we need to support dumpIndexStats and index defs for elastic - not needed for now
        //dumpIndexStats(indexOpts, indexHelper);
        //dumpIndexDefinitions(indexOpts, indexHelper);
        reindexOperation(indexOpts, indexHelper);
```

### CommentedOutCode
Commented out code (4 lines)
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        System.setProperty("oak.queryLimitReads", String.valueOf(Long.MAX_VALUE));

        //		// disable the WARN of the TraversingCursor
        //		LoggerContext c = (LoggerContext) LoggerFactory.getILoggerFactory();
        //		Logger logger = c.getLogger("org.apache.jackrabbit.oak.plugins.index.Cursors$TraversingCursor");
```

### CommentedOutCode
Commented out code (2 lines)
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    public Oak() {
        this(new MemoryNodeStore());
        // this(new DocumentMK.Builder().open());
        // this(new LogWrapper(new DocumentMK.Builder().open()));
    }
```

### CommentedOutCode
Commented out code (2 lines)
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveType.java`
#### Snippet
```java

// TODO: Fall back to residual definitions until we have consensus on OAK-713
//          throw new ConstraintViolationException(
//                "No matching definition found for property " + propertyName);
        }
```

### CommentedOutCode
Commented out code (2 lines)
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveType.java`
#### Snippet
```java

// TODO: Fall back to residual definitions until we have consensus on OAK-713
//          throw new ConstraintViolationException(
//                  "Incorrect node type of child node " + nodeName);
        }
```

### CommentedOutCode
Commented out code (2 lines)
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexProviderService.java`
#### Snippet
```java
        whiteboard = new OsgiWhiteboard(bundleContext);

        //initializeTextExtractionDir(bundleContext, config);
        //initializeExtractedTextCache(config, statisticsProvider);

```

### CommentedOutCode
Commented out code (5 lines)
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexProviderService.java`
#### Snippet
```java
        props.put("type", ElasticIndexDefinition.TYPE_ELASTICSEARCH);
        regs.add(bundleContext.registerService(IndexEditorProvider.class.getName(), editorProvider, props));
//        oakRegs.add(registerMBean(whiteboard,
//                TextExtractionStatsMBean.class,
//                editorProvider.getExtractedTextCache().getStatsMBean(),
```

### CommentedOutCode
Commented out code (6 lines)
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexHelper.java`
#### Snippet
```java
                                b2 -> b2.analyzer("oak_analyzer")));
        // TODO: the mapping below is for features currently not supported. These need to be reviewed
        // mappingBuilder.startObject(FieldNames.NOT_NULL_PROPS)
        //  .field("type", "keyword")
        //  .endObject();
```

### CommentedOutCode
Commented out code (3 lines)
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                        // ensure the path ends with the given
                        // relative path
                        // if (!path.endsWith("/" + parent)) {
                        // continue;
                        // }
```

### CommentedOutCode
Commented out code (3 lines)
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
            // the following instead:

            // throw new
            // IllegalStateException("Lucene index is used even when no full-text conditions are used for filter "
            // + filter);
```

### CommentedOutCode
Commented out code (2 lines)
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java

        //TODO Explore following for optimizing indexing speed
        //config.setUseCompoundFile(false);
        //config.setRAMBufferSizeMB(1024*1024*25);

```

### CommentedOutCode
Commented out code (3 lines)
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/GetGroupPrincipalsTest.java`
#### Snippet
```java
            Principal p = principalManager.getPrincipal(principalName);
            PrincipalIterator principals = principalManager.getGroupMembership(p);
//            while (principals.hasNext()) {
//                Principal groupPrincipal = principals.nextPrincipal();
//            }
```

### CommentedOutCode
Commented out code (4 lines)
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CompositeAuthorizationTest.java`
#### Snippet
```java

        private void performSomeRead(@Nullable Tree tree) {
//            Tree immutableTree = PermissionUtil.getImmutableTree(tree, immutableRoot);
//            if (immutableTree != null) {
//                immutableTree.hasChild(POLICY_NAME);
```

## RuleId[id=CStyleArrayDeclaration]
### CStyleArrayDeclaration
C-style array declaration of local variable `decodedParts`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordUploadToken.java`
#### Snippet
```java

        String decoded = decodeBase64(toBeDecoded);
        String decodedParts[] = decoded.split("#");
        if (decodedParts.length < 2) {
            throw new IllegalArgumentException("Invalid upload token");
```

### CStyleArrayDeclaration
C-style array declaration of local variable `elements`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
    private static String createLogMessage(String operation) {
        boolean whitelistThisCall = false;
        StackTraceElement elements[] = Thread.currentThread().getStackTrace();
        StringBuilder b = new StringBuilder();
        b.append("operation '" + operation + "' called from:");
```

### CStyleArrayDeclaration
C-style array declaration of parameter `args`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
     * @throws IOException
     */
    public static void main(String args[]) throws IOException {
        String adminUser = "admin";
        String adminPwd = "";
```

### CStyleArrayDeclaration
C-style array declaration of local variable `bytes`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                for (Document d : documents) {
                    String data = ser.asString(d, tmd.getColumnOnlyProperties());
                    byte bytes[] = asBytes(data);
                    if (bytes.length > longest) {
                        longest = bytes.length;
```

### CStyleArrayDeclaration
C-style array declaration of local variable `key`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenProviderImpl.java`
#### Snippet
```java
    private static String generateKey(int size) {
        SecureRandom random = new SecureRandom();
        byte key[] = new byte[size];
        random.nextBytes(key);

```

### CStyleArrayDeclaration
C-style array declaration of parameter `propTypes`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/util/NodeTypeUtils.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    public static String createNodeType(Session session, String name,
            String[] properties, int propTypes[], String[] superTypes, String[] childrenTypes,
            String baseType, boolean isMixin)
            throws RepositoryException {
```

## RuleId[id=RegExpRedundantEscape]
### RegExpRedundantEscape
Redundant character escape `\\]` in RegExp
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
    private static final Logger logger = LoggerFactory.getLogger(SameNameSiblingsEditor.class);

    private static final Pattern SNS_REGEX = Pattern.compile("^(.+)\\[(\\d+)\\]$");

    private static final Predicate<NodeState> NO_SNS_PROPERTY = new Predicate<NodeState>() {
```

### RegExpRedundantEscape
Redundant character escape `\\]` in RegExp
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PathUtils.java`
#### Snippet
```java

    private static final Pattern SNS_PATTERN =
            Pattern.compile("(.+)\\[[1-9][0-9]*\\]$");

    private PathUtils() {
```

### RegExpRedundantEscape
Redundant character escape `\\]` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // (case insensitive)
        query = query.replaceAll(
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(.*,\\s*\\[/[^]]*\\]\\)",
                "$1('x')");
        query = query.replaceAll(
```

### RegExpRedundantEscape
Redundant character escape `\\]` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
                "$1('x')");
        query = query.replaceAll(
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(\\[/[^]]*\\]\\)",
                "$1('x')");

```

### RegExpRedundantEscape
Redundant character escape `\\/` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        buff.append(" /* xpath: ");
        // the xpath query may contain the "end comment" marker
        String xpathEscaped = xpath.replaceAll("\\*\\/", "* /");
        buff.append(xpathEscaped);
        buff.append(" */");        
```

### RegExpRedundantEscape
Redundant character escape `\\\"` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
                    String regexPattern = f.substring("regex(\"".length(), f.length() - 2);
                    // un-escape: \" => "
                    regexPattern = regexPattern.replaceAll("\\\"", "\"");
                    String x = findMatch(path, regexPattern);
                    if (x == null) {
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
    // match ${...} -- unfortunately it needs a lot of escaping. 
    // } inside {...} need to be escaped: ${...\}...} 
    private static final Pattern FUNCTION = Pattern.compile("\\$\\{((\\}|[^}])*)\\}");

    private final Cursor cursor;
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
    // match ${...} -- unfortunately it needs a lot of escaping. 
    // } inside {...} need to be escaped: ${...\}...} 
    private static final Pattern FUNCTION = Pattern.compile("\\$\\{((\\}|[^}])*)\\}");

    private final Cursor cursor;
```

### RegExpRedundantEscape
Redundant character escape `\\(` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/NumericConstraint.java`
#### Snippet
```java
    protected NumericConstraint(String definition) {
        // format: '(<min>, <max>)',  '[<min>, <max>]', '(, <max>)' etc.
        Pattern pattern = Pattern.compile("([\\(\\[])([^,]*),([^\\)\\]]*)([\\)\\]])");
        Matcher matcher = pattern.matcher(definition);
        if (matcher.matches()) {
```

### RegExpRedundantEscape
Redundant character escape `\\)` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/NumericConstraint.java`
#### Snippet
```java
    protected NumericConstraint(String definition) {
        // format: '(<min>, <max>)',  '[<min>, <max>]', '(, <max>)' etc.
        Pattern pattern = Pattern.compile("([\\(\\[])([^,]*),([^\\)\\]]*)([\\)\\]])");
        Matcher matcher = pattern.matcher(definition);
        if (matcher.matches()) {
```

### RegExpRedundantEscape
Redundant character escape `\\)` in RegExp
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/NumericConstraint.java`
#### Snippet
```java
    protected NumericConstraint(String definition) {
        // format: '(<min>, <max>)',  '[<min>, <max>]', '(, <max>)' etc.
        Pattern pattern = Pattern.compile("([\\(\\[])([^,]*),([^\\)\\]]*)([\\)\\]])");
        Matcher matcher = pattern.matcher(definition);
        if (matcher.matches()) {
```

### RegExpRedundantEscape
Redundant character escape `\\*` in RegExp
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
                replaceAll("[\\*]", "\\\\*");
    }

```

### RegExpRedundantEscape
Redundant character escape `\\:` in RegExp
in `oak-benchmarks-solr/src/main/java/org/apache/jackrabbit/oak/benchmark/FullTextSolrSearchTest.java`
#### Snippet
```java

    private void initializeProvider() throws Exception {
        if (server != null && (server.startsWith("http") || server.matches("\\w+\\:\\d{3,5}"))) {
            log.info("using remote Solr {}", server);
            RemoteSolrServerConfiguration remoteSolrServerConfiguration = new RemoteSolrServerConfiguration(
```

## RuleId[id=KeySetIterationMayUseEntrySet]
### KeySetIterationMayUseEntrySet
Iteration over `props.keySet()` may be replaced with 'entrySet()' iteration
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
    private static Map<String, ?> asMap(Properties props) {
        Map<String, Object> map = Maps.newHashMap();
        for (Object key : props.keySet()) {
            map.put((String)key, props.get(key));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `obj.props.keySet()` may be replaced with 'entrySet()' iteration
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsonObject.java`
#### Snippet
```java
        } else {
            buf.object();
            for (String name : obj.props.keySet()) {
                buf.key(name).encodedValue(obj.props.get(name));
            }
```

### KeySetIterationMayUseEntrySet
Iteration over `obj.children.keySet()` may be replaced with 'entrySet()' iteration
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsonObject.java`
#### Snippet
```java
                buf.key(name).encodedValue(obj.props.get(name));
            }
            for (String name : obj.children.keySet()) {
                buf.key(name);
                toJson(buf, obj.children.get(name));
```

### KeySetIterationMayUseEntrySet
Iteration over `committedChanges.keySet()` may be replaced with 'entrySet()' iteration
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
                old.set(NodeDocument.PATH, oldPath.toString());
            }
            for (String property : committedChanges.keySet()) {
                NavigableMap<Revision, String> splitMap = committedChanges.get(property);
                for (Map.Entry<Revision, String> entry : splitMap.entrySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `nodes.keySet()` may be replaced with 'entrySet()' iteration
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/memory/MemoryDocumentStore.java`
#### Snippet
```java
        StringBuilder buff = new StringBuilder();
        buff.append("Nodes:\n");
        for (String p : nodes.keySet()) {
            buff.append("Path: ").append(p).append('\n');
            NodeDocument doc = nodes.get(p);
```

### KeySetIterationMayUseEntrySet
Iteration over `props.keySet()` may be replaced with 'entrySet()' iteration
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    private static Map<String, ?> asMap(Properties props) {
        Map<String, Object> map = Maps.newHashMap();
        for (Object key : props.keySet()) {
            map.put((String)key, props.get(key));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `inclusionMap.keySet()` may be replaced with 'entrySet()' iteration
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                                continue;
                            }
                            for (NodeState s : inclusionMap.keySet()) {
                                traverseChildren(s, inclusionMap.get(s), collector);
                            }
```

### KeySetIterationMayUseEntrySet
Iteration over `rightSelectorScan.keySet()` may be replaced with 'entrySet()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
                    Map<String, Long> rightSelectorScan = right.getSelectorScanCount();
                    Map<String, Long> unionScan = Maps.newHashMap(leftSelectorScan);
                    for (String key : rightSelectorScan.keySet()) {
                        if (unionScan.containsKey(key)) {
                            unionScan.put(key, rightSelectorScan.get(key) + unionScan.get(key));
```

### KeySetIterationMayUseEntrySet
Iteration over `selectorScanCount.keySet()` may be replaced with 'entrySet()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java

            Map<String, Long> selectorScanCount = getSelectorScanCount();
            for (String selector : selectorScanCount.keySet()) {
                r = new ResultRowImpl(query,
                    Tree.EMPTY_ARRAY,
```

### KeySetIterationMayUseEntrySet
Iteration over `properties.keySet()` may be replaced with 'entrySet()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUtils.java`
#### Snippet
```java
        // additional properties
        if (properties != null) {
            for (String k : properties.keySet()) {
                entry.setProperty(k, properties.get(k));
            }
```

### KeySetIterationMayUseEntrySet
Iteration over `properties.keySet()` may be replaced with 'entrySet()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUtils.java`
#### Snippet
```java

        if (properties != null) {
            for (String k : properties.keySet()) {
                entry.setProperty(k, properties.get(k));
            }
```

### KeySetIterationMayUseEntrySet
Iteration over `indexesByType.keySet()` may be replaced with 'entrySet()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/inventory/IndexPrinter.java`
#### Snippet
```java
        po.text("Total number of indexes", indexesByType.values().stream().mapToInt(List::size).sum());

        for (String type : indexesByType.keySet()) {
            List<IndexInfo> typedInfo = indexesByType.get(type);
            po.startSection(type, true);
```

### KeySetIterationMayUseEntrySet
Iteration over `oldDefs.keySet()` may be replaced with 'entrySet()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
        final Map<NodeDefinitionId, List<NodeDefinition>> newDefs = collectChildNodeDefs(newDef.getDeclaredChildNodeDefinitions());

        for (NodeDefinitionId defId : oldDefs.keySet()) {
            final ChildNodeDefDiffs childNodeDefDiffs = new ChildNodeDefDiffs(oldDefs.get(defId), newDefs.get(defId));
            this.childNodeDefDiffs.addAll(childNodeDefDiffs.getChildNodeDefDiffs());
```

### KeySetIterationMayUseEntrySet
Iteration over `newDefs.keySet()` may be replaced with 'values()' iteration
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
        }

        for (NodeDefinitionId defId : newDefs.keySet()) {
            final ChildNodeDefDiffs childNodeDefDiffs = new ChildNodeDefDiffs(null, newDefs.get(defId));
            this.childNodeDefDiffs.addAll(childNodeDefDiffs.getChildNodeDefDiffs());
```

### KeySetIterationMayUseEntrySet
Iteration over `props.keySet()` may be replaced with 'entrySet()' iteration
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
    public static Map<String, Object> asMap(Properties props) {
        Map<String, Object> map = Maps.newHashMap();
        for (Object key : props.keySet()) {
            map.put((String)key, props.get(key));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `paramMap.keySet()` may be replaced with 'entrySet()' iteration
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/MoreLikeThisHelper.java`
#### Snippet
```java
            String text = null;
            String[] fields = {};
            for (String key : paramMap.keySet()) {
                String value = paramMap.get(key);
                if (MoreLikeThisHelperUtil.MLT_STREAM_BODY.equals(key)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `props.keySet()` may be replaced with 'entrySet()' iteration
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java
                propnode.setProperty("jcr:primaryType", "nt:unstructured", NAME);

                for (String p : props.keySet()) {
                    Tree t1 = propnode.addChild(PathUtils.getName(p));
                    t1.setProperty(PROP_PROPERTY_INDEX, true, BOOLEAN);
```

### KeySetIterationMayUseEntrySet
Iteration over `benchmarks.keySet()` may be replaced with 'values()' iteration
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                "No Benchmarks configured");

        for (String key : benchmarks.keySet()) {
            ScalabilityBenchmark benchmark = benchmarks.get(key);
            if (result.getBenchmarkStatistics(benchmark) == null) {
```

## RuleId[id=NotNullFieldNotInitialized]
### NotNullFieldNotInitialized
Not-null fields must be initialized
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreBuilder.java`
#### Snippet
```java
    private final Set<IOMonitor> ioMonitors = newHashSet();

    @NotNull
    private RemoteStoreMonitor remoteStoreMonitor;

```

## RuleId[id=ForLoopReplaceableByWhile]
### ForLoopReplaceableByWhile
`for` loop statement may be replace by 'while' loop
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
                if (benchmarks != null) {
                    Iterator<String> iter = suite.getBenchmarks().keySet().iterator();
                    for (;iter.hasNext();) {
                        String availBenchmark = iter.next();
                        if (!benchmarks.contains(availBenchmark)) {
```

## RuleId[id=UnnecessaryQualifierForThis]
### UnnecessaryQualifierForThis
Qualifier `BackgroundWorker` on 'this' is unnecessary in this context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
                    long sleepMillis = shortSleep ? (50 + random.nextInt(450)) : 5000;
                    logger.trace("BackgroundWorker.doRun: sleeping {}ms", sleepMillis);
                    synchronized (BackgroundWorker.this) {
                        if (stopped)
                            return;
```

### UnnecessaryQualifierForThis
Qualifier `BackgroundWorker` on 'this' is unnecessary in this context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
                        if (stopped)
                            return;
                        BackgroundWorker.this.wait(sleepMillis);
                        if (stopped)
                            return;
```

### UnnecessaryQualifierForThis
Qualifier `BackgroundWorker` on 'this' is unnecessary in this context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        private void stop() {
            logger.trace("stop: start");
            synchronized (BackgroundWorker.this) {
                stopped = true;
            }
```

### UnnecessaryQualifierForThis
Qualifier `DocumentNodeStore` on 'this' is unnecessary in this context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        }
        PropertyState p = new DocumentPropertyState(
                DocumentNodeStore.this, "p", json);
        if (p.getType().tag() != PropertyType.BINARY) {
            return -1;
```

### UnnecessaryQualifierForThis
Qualifier `MongoDocumentNodeStoreBuilderBase` on 'this' is unnecessary in this context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentNodeStoreBuilderBase.java`
#### Snippet
```java
        this.mongoStatus = client.getStatus();
        this.documentStoreSupplier = memoize(() -> new MongoDocumentStore(
                client.getClient(), client.getDatabase(), MongoDocumentNodeStoreBuilderBase.this));

        if (this.blobStoreSupplier == null) {
```

### UnnecessaryQualifierForThis
Qualifier `MongoDocumentNodeStoreBuilderBase` on 'this' is unnecessary in this context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentNodeStoreBuilderBase.java`
#### Snippet
```java
        if (this.blobStoreSupplier == null) {
            this.blobStoreSupplier = memoize(
                    () -> new MongoBlobStore(client.getDatabase(), blobCacheSizeMB * 1024 * 1024L, MongoDocumentNodeStoreBuilderBase.this));
        }

```

### UnnecessaryQualifierForThis
Qualifier `LucenePropertyIndex` on 'this' is unnecessary in this context
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                LOG.debug("estimate size: not a Query: {}", luceneRequestFacade.getLuceneRequest());
            } catch (IOException e) {
                LOG.warn("query via {} failed.", LucenePropertyIndex.this, e);
            } finally {
                indexNode.release();
```

### UnnecessaryQualifierForThis
Qualifier `IndexDefinition` on 'this' is unnecessary in this context
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java

        if (!hasOrderableChildren(indexRules)){
            log.warn("IndexRule node does not have orderable children in [{}]", IndexDefinition.this);
        }

```

## RuleId[id=FinalPrivateMethod]
### FinalPrivateMethod
'private' method declared `final`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
    }

    private final String getSourcePath() {
        // Traverse up the hierarchy until we encounter the first builder
        // having a source path annotation or until we hit the root
```

### FinalPrivateMethod
'private' method declared `final`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LeaseCheckDocumentStoreWrapper.java`
#### Snippet
```java
    }

    private final void performLeaseCheck() {
        if (clusterNodeInfo != null) {
            clusterNodeInfo.performLeaseCheck();
```

## RuleId[id=SizeReplaceableByIsEmpty]
### SizeReplaceableByIsEmpty
`token.length() == 0` can be replaced with 'token.isEmpty()'
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authentication/token/TokenCredentials.java`
#### Snippet
```java
     */
    public TokenCredentials(@NotNull String token) throws IllegalArgumentException {
        if (token == null || token.length() == 0) {
            throw new IllegalArgumentException("Invalid token '" + token + "'");
        }
```

### SizeReplaceableByIsEmpty
`pathNodeName.length() > 0` can be replaced with '!pathNodeName.isEmpty()'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/ConsolidatedDataStoreCacheStats.java`
#### Snippet
```java
        NodeState currentNode = nodeStore.getRoot();
        for (String pathNodeName : pathNodes) {
            if (pathNodeName.length() > 0) {
                NodeState childNode = currentNode.getChildNode(pathNodeName);
                if (!childNode.exists()) {
```

### SizeReplaceableByIsEmpty
`refFiles.size() > 0` can be replaced with '!refFiles.isEmpty()'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                }
                
                if (refFiles.size() > 0) {
                    File temp = new File(root, repoId + UUID.randomUUID().toString());
                    copyFile(fs.getMarkedRefs(), temp);
```

### SizeReplaceableByIsEmpty
`list.size() > 0` can be replaced with '!list.isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/PrefetchIterator.java`
#### Snippet
```java
            list.add(it.next());
        }
        if (list.size() > 0) {
            prefetchIterator = list.iterator();
            position -= list.size();
```

### SizeReplaceableByIsEmpty
`id.length() > 0` can be replaced with '!id.isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
                if (node.isNodeType(NodeType.NT_FROZEN_NODE)) {
                    String id = node.getProperty(Property.JCR_FROZEN_UUID).getString();
                    if (id.length() > 0) {
                        uuids.add(id);
                    }
```

### SizeReplaceableByIsEmpty
`delayThresholdStr.length() != 0` can be replaced with '!delayThresholdStr.isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        int maxDelay = 10000; /* default is 10000 still */
        try{
            if (delayThresholdStr != null && delayThresholdStr.length() != 0) {
                delayThreshold = Double.parseDouble(delayThresholdStr);
                LOG.info("<clinit> using oak.commitRateLimiter.delayThreshold of " + delayThreshold);
```

### SizeReplaceableByIsEmpty
`maxDelayStr.length() != 0` can be replaced with '!maxDelayStr.isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        }
        try{
            if (maxDelayStr != null && maxDelayStr.length() != 0) {
                maxDelay = Integer.parseInt(maxDelayStr);
                LOG.info("<clinit> using oak.commitRateLimiter.maxDelay of " + maxDelay + "ms");
```

### SizeReplaceableByIsEmpty
`additionalIncludeConditions.size() == 0` can be replaced with 'additionalIncludeConditions.isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
            }
        }
        if (additionalIncludeConditions.size() == 0) {
            return null;
        } else {
```

### SizeReplaceableByIsEmpty
`parentPaths.size() == 0` can be replaced with 'parentPaths.isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
            }
        }
        if (parentPaths.size() == 0) {
            return mainCondition;
        }
```

### SizeReplaceableByIsEmpty
`ignoredProperties[0].length() > 0` can be replaced with '!ignoredProperties\[0\].isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
                @Override
                public Collection<String> getIgnoredProperties() {
                    if (ignoredProperties != null && ignoredProperties.length > 0 && ignoredProperties[0].length() > 0) {
                        return Arrays.asList(ignoredProperties);
                    } else {
```

### SizeReplaceableByIsEmpty
`usedProperties[0].length() > 0` can be replaced with '!usedProperties\[0\].isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
                @Override
                public Collection<String> getUsedProperties() {
                    if (usedProperties != null && usedProperties.length > 0 && usedProperties[0].length() > 0) {
                        return Arrays.asList(usedProperties);
                    } else {
```

### SizeReplaceableByIsEmpty
`configuration.getUsedProperties().size() > 0` can be replaced with '!configuration.getUsedProperties().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/index/SolrIndexEditor.java`
#### Snippet
```java

        for (PropertyState property : state.getProperties()) {
            if ((configuration.getUsedProperties().size() > 0 && configuration.getUsedProperties().contains(property.getName()))
                    || !configuration.getIgnoredProperties().contains(property.getName())) {
                // try to get the field to use for this property from configuration
```

### SizeReplaceableByIsEmpty
`solrConfDir.length() > 0` can be replaced with '!solrConfDir.isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/RemoteSolrServerProvider.java`
#### Snippet
```java
                String solrConfDir = remoteSolrServerConfiguration.getSolrConfDir();
                Path dir;
                if (solrConfDir != null && solrConfDir.length() > 0) {
                    log.info("uploading config from {}", solrConfDir);
                    dir = Paths.get(solrConfDir);
```

### SizeReplaceableByIsEmpty
`remoteSolrServerConfiguration.getSolrZkHost().length() > 0` can be replaced with '!remoteSolrServerConfiguration.getSolrZkHost().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/RemoteSolrServerProvider.java`
#### Snippet
```java

        SolrClient solrServer = null;
        if (remoteSolrServerConfiguration.getSolrZkHost() != null && remoteSolrServerConfiguration.getSolrZkHost().length() > 0) {
            try {
                solrServer = initializeWithCloudSolrServer();
```

### SizeReplaceableByIsEmpty
`remoteSolrServerConfiguration.getSolrHttpUrls()[0].length() > 0` can be replaced with '!remoteSolrServerConfiguration.getSolrHttpUrls()\[0\].isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/RemoteSolrServerProvider.java`
#### Snippet
```java
        }
        if (solrServer == null && remoteSolrServerConfiguration.getSolrHttpUrls() != null && remoteSolrServerConfiguration.getSolrHttpUrls().length == 1
                && remoteSolrServerConfiguration.getSolrHttpUrls()[0] != null && remoteSolrServerConfiguration.getSolrHttpUrls()[0].length() > 0) {
            try {
                solrServer = initializeWithExistingHttpServer();
```

### SizeReplaceableByIsEmpty
`catchAllField.length() > 0` can be replaced with '!catchAllField.isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
        solrQuery.setParam("fl", configuration.getPathField() + " score");
        String catchAllField = configuration.getCatchAllField();
        if (catchAllField != null && catchAllField.length() > 0) {
            solrQuery.setParam("df", catchAllField);
        }
```

### SizeReplaceableByIsEmpty
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
        if (pathPrefix != null && pathPrefix.length() > 1 && path.startsWith(pathPrefix)) {
            path = path.substring(pathPrefix.length());
            if (path.length() == 0) {
                path = "/";
            }
```

### SizeReplaceableByIsEmpty
`queue.size() == 0` can be replaced with 'queue.isEmpty()'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
                    }
                }
                if (added && queue.size() == 0) {
                    return true;
                }
```

### SizeReplaceableByIsEmpty
`spellCheckResponse.getSuggestions().size() > 0` can be replaced with '!spellCheckResponse.getSuggestions().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                    SpellCheckResponse spellCheckResponse = queryResponse.getSpellCheckResponse();
                    if (spellCheckResponse != null && spellCheckResponse.getSuggestions() != null &&
                            spellCheckResponse.getSuggestions().size() > 0) {
                        putSpellChecks(spellCheckResponse, queue, filter, configuration, solrServer);
                        noDocs = true;
```

### SizeReplaceableByIsEmpty
`fieldValues.size() > 0` can be replaced with '!fieldValues.isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                    Collection<Object> fieldValues = currentRow.doc.getFieldValues(columnName);
                    String value;
                    if (fieldValues != null && fieldValues.size() > 0) {
                        if (fieldValues.size() > 1) {
                            value = Iterables.toString(fieldValues);
```

### SizeReplaceableByIsEmpty
`relPaths.size() == 0` can be replaced with 'relPaths.isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            final Set<String> relPaths = filter.getFullTextConstraint() != null ? getRelativePaths(filter.getFullTextConstraint())
                    : Collections.<String>emptySet();
            final String parent = relPaths.size() == 0 ? "" : relPaths.iterator().next();

            final int parentDepth = getDepth(parent);
```

### SizeReplaceableByIsEmpty
`configuration.getUsedProperties().size() > 0` can be replaced with '!configuration.getUsedProperties().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            return false;
        } else return (!configuration.useForPropertyRestrictions() // Solr index not used for properties
                || (configuration.getUsedProperties().size() > 0 && !configuration.getUsedProperties().contains(property.propertyName)) // not explicitly contained in the used properties
                || property.propertyName.contains("/") // no child-level property restrictions
                || QueryConstants.REP_EXCERPT.equals(property.propertyName) // rep:excerpt is not handled at the property level
```

### SizeReplaceableByIsEmpty
`filter.getFulltextConditions().size() > 0` can be replaced with '!filter.getFulltextConditions().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
        // full text expressions OR full text conditions defined
        if (filter.getFullTextConstraint() != null || (filter.getFulltextConditions() != null
                && filter.getFulltextConditions().size() > 0)) {
            match++; // full text queries have usually a significant recall
        }
```

### SizeReplaceableByIsEmpty
`filter.getPropertyRestrictions().size() > 0` can be replaced with '!filter.getPropertyRestrictions().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
        // property restriction OR native language property restriction defined AND property restriction handled
        if (filter.getPropertyRestrictions() != null
                && filter.getPropertyRestrictions().size() > 0
                && (filter.getPropertyRestriction(NATIVE_SOLR_QUERY) != null
                || filter.getPropertyRestriction(NATIVE_LUCENE_QUERY) != null
```

### SizeReplaceableByIsEmpty
`filter.getPrimaryTypes().size() > 0` can be replaced with '!filter.getPrimaryTypes().isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java

        // primary type restriction defined AND primary type restriction handled
        if (filter.getPrimaryTypes().size() > 0 && configuration.useForPrimaryTypes()) {
            if (match > 0) {
                match++;
```

### SizeReplaceableByIsEmpty
`lines.size() > 0` can be replaced with '!lines.isEmpty()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
        }
        List<String> lines = source.getGCJournalFile().readLines();
        if (lines.size() > 0) {
            targetGCJournal.writeLine(lines.get(lines.size() - 1));
        }
```

### SizeReplaceableByIsEmpty
`line.length() > 0` can be replaced with '!line.isEmpty()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.length() > 0 && !line.trim().equals("")) {
                    journal.add(line);
                }
```

### SizeReplaceableByIsEmpty
`directory.withDirectory(archiveName).listObjects("").size() > 0` can be replaced with '!directory.withDirectory(archiveName).listObjects("").isEmpty()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsArchiveManager.java`
#### Snippet
```java
    public boolean exists(String archiveName) {
        try {
            return directory.withDirectory(archiveName).listObjects("").size() > 0;
        } catch (IOException e) {
            log.error("Can't check the existence of {}", archiveName, e);
```

### SizeReplaceableByIsEmpty
`rootPath.length() > 0` can be replaced with '!rootPath.isEmpty()'
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentStoreService.java`
#### Snippet
```java
    @NotNull
    private static String normalizePath(@NotNull String rootPath) {
        if (rootPath.length() > 0 && rootPath.charAt(0) == '/') {
            return rootPath.substring(1);
        }
```

### SizeReplaceableByIsEmpty
`outcome.getUnprocessedItems().size() > 0` can be replaced with '!outcome.getUnprocessedItems().isEmpty()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/DynamoDBClient.java`
#### Snippet
```java
            // provisioned throughput
            Map<String, List<WriteRequest>> unprocessedItems = outcome.getUnprocessedItems();
            if (outcome.getUnprocessedItems().size() > 0) {
                outcome = dynamoDB.batchWriteItemUnprocessed(unprocessedItems);
            }
```

### SizeReplaceableByIsEmpty
`outcome.getUnprocessedItems().size() > 0` can be replaced with '!outcome.getUnprocessedItems().isEmpty()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/DynamoDBClient.java`
#### Snippet
```java
                outcome = dynamoDB.batchWriteItemUnprocessed(unprocessedItems);
            }
        } while (outcome.getUnprocessedItems().size() > 0);
    }

```

### SizeReplaceableByIsEmpty
`line.length() > 0` can be replaced with '!line.isEmpty()'
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.length() > 0 && !line.trim().equals("")) {
                    journal.add(line);
                }
```

### SizeReplaceableByIsEmpty
`groupConfig.extraFilter.length() > 0` can be replaced with '!groupConfig.extraFilter.isEmpty()'
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
                        .append(')');
            }
            if (groupConfig.extraFilter != null && groupConfig.extraFilter.length() > 0) {
                filter.append(groupConfig.extraFilter);
            }
```

### SizeReplaceableByIsEmpty
`extraFilter.length() > 0` can be replaced with '!extraFilter.isEmpty()'
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
                            .append(')');
                }
                if (extraFilter != null && extraFilter.length() > 0) {
                    filter.append(extraFilter);
                }
```

### SizeReplaceableByIsEmpty
`nonOptions.size() > 0` can be replaced with '!nonOptions.isEmpty()'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/CommonOptions.java`
#### Snippet
```java
    public String getStoreArg() {
        List<String> nonOptions = nonOption.values(options);
        return nonOptions.size() > 0 ? nonOptions.get(0) : "";
    }

```

### SizeReplaceableByIsEmpty
`existingDataDumpDirs.size() > 0` can be replaced with '!existingDataDumpDirs.isEmpty()'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
            throws IOException {
        ConcurrentLinkedQueue<String> completedTasks = new ConcurrentLinkedQueue<>();
        if (existingDataDumpDirs != null && existingDataDumpDirs.size() > 0) {
            //include all sorted files from previous incomplete runs
            for (int i = 0; i < existingDataDumpDirs.size(); i++) {
```

### SizeReplaceableByIsEmpty
`deleteList.size() > 0` can be replaced with '!deleteList.isEmpty()'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/DataStoreUtils.java`
#### Snippet
```java
                            s3ObjSumm.getKey()));
                    }
                    if (deleteList.size() > 0) {
                        DeleteObjectsRequest delObjsReq = new DeleteObjectsRequest(
                            bucket);
```

### SizeReplaceableByIsEmpty
`steps.size() > 0` can be replaced with '!steps.isEmpty()'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/DocumentStoreSplitter.java`
#### Snippet
```java
            splitPoints.append(" ").append(i);
        }
        if (steps.size() > 0 && steps.get(steps.size() - 1) != end) {
            steps.add(end);
            splitPoints.append(" ").append(end);
```

### SizeReplaceableByIsEmpty
`query.clauses().size() > 0` can be replaced with '!query.clauses().isEmpty()'
in `oak-search-mt/src/main/java/org/apache/jackrabbit/oak/plugins/index/mt/MTFulltextQueryTermsProvider.java`
#### Snippet
```java
            log.error("could not translate query", e);
        }
        return query.clauses().size() > 0 ? query : null;
    }

```

### SizeReplaceableByIsEmpty
`stack.size() > 0` can be replaced with '!stack.isEmpty()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                stack.add(line);
            }
            if (stack.size() > 0) {
                String[] s = stack.toArray(new String[stack.size()]);
                list.add(s);
```

### SizeReplaceableByIsEmpty
`counts.size() == 0` can be replaced with 'counts.isEmpty()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
        }
        buff.append(":").append(LINE_SEPARATOR);
        if (counts.size() == 0) {
            buff.append("(none)").append(LINE_SEPARATOR);
        }
```

### SizeReplaceableByIsEmpty
`p.length() > 0` can be replaced with '!p.isEmpty()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
    private static boolean startsWithAny(String s, String[] prefixes) {
        for (String p : prefixes) {
            if (p.length() > 0 && s.startsWith(p)) {
                return true;
            }
```

### SizeReplaceableByIsEmpty
`e.length() > 0` can be replaced with '!e.isEmpty()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            p.waitFor();
            String e = new String(err.toByteArray(), "UTF-8");
            if (e.length() > 0) {
                throw new RuntimeException(e);
            }
```

### SizeReplaceableByIsEmpty
`map.size() == 0` can be replaced with 'map.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
                                        @NotNull Lock lock) {
        BackgroundWriteStats stats = new BackgroundWriteStats();
        if (map.size() == 0) {
            return stats;
        }
```

### SizeReplaceableByIsEmpty
`handlers.size() > 0` can be replaced with '!handlers.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
                            if (leaseFailureHandlerTracker != null) {
                                final List<LeaseFailureHandler> handlers = leaseFailureHandlerTracker.getServices();
                                if (handlers != null && handlers.size() > 0) {
                                    // go through the list, but only execute the first one
                                    for (LeaseFailureHandler handler : handlers) {
```

### SizeReplaceableByIsEmpty
`ids.size() == 0` can be replaced with 'ids.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
     */
    private static String setToCsv(Set<Integer> ids) {
        if (ids == null || ids.size() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`actual.size() == 0` can be replaced with 'actual.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
    static boolean matches(Integer[] expected, Set<Integer> actual) {
        boolean expectedIsEmpty = expected == null || expected.length == 0;
        boolean actualIsEmpty = actual == null || actual.size() == 0;
        if (expectedIsEmpty && actualIsEmpty) {
            // if both are null or empty, they match
```

### SizeReplaceableByIsEmpty
`activeIds.size() == 0` can be replaced with 'activeIds.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        logger.trace("readOrUpdate: expected: activeIds: {}, recoveringIds: {}, inactiveIds: {}", activeIds, recoveringIds,
                inactiveIds);
        if (activeIds == null || activeIds.size() == 0) {
            logger.info("readOrUpdate: activeIds must not be null or empty");
            throw new IllegalStateException("activeIds must not be null or empty");
```

### SizeReplaceableByIsEmpty
`children.size() > 0` can be replaced with '!children.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
                json.key("hasMore").value(true);
            }
            if (children.size() > 0) {
                json.key("children").array();
                for (String c : children) {
```

### SizeReplaceableByIsEmpty
`backlogIds.size() > 0` can be replaced with '!backlogIds.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterView.java`
#### Snippet
```java
        Set<Integer> inactiveIds = new HashSet<Integer>();
        inactiveIds.addAll(clusterViewDoc.getInactiveIds());
        if (!inactiveIds.removeAll(backlogIds) && backlogIds.size() > 0) {
            // then not all backlogIds were listed is inactive - which is
            // contrary to the expectation
```

### SizeReplaceableByIsEmpty
`backlogIds.size() == 0` can be replaced with 'backlogIds.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterView.java`
#### Snippet
```java
        // with OAK-4006 however we're changing this to use one clusterId
        // within oak - provided and controlled by ClusterRepositoryInfo.
        return new ClusterView(clusterViewDoc.getViewSeqNum(), backlogIds.size() == 0, clusterId,
                localInstanceId, activeIds, deactivatingIds, inactiveIds);
    }
```

### SizeReplaceableByIsEmpty
`clusterId.length() == 0` can be replaced with 'clusterId.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterView.java`
#### Snippet
```java
            throw new IllegalStateException("viewSeqNum must be zero or higher: " + viewSeqNum);
        }
        if (clusterId == null || clusterId.length() == 0) {
            throw new IllegalStateException("clusterId must not be zero or empty: " + clusterId);
        }
```

### SizeReplaceableByIsEmpty
`activeIds.size() == 0` can be replaced with 'activeIds.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterView.java`
#### Snippet
```java
            throw new IllegalStateException("localId must not be zero or higher: " + localId);
        }
        if (activeIds == null || activeIds.size() == 0) {
            throw new IllegalStateException("activeIds must not be null or empty");
        }
```

### SizeReplaceableByIsEmpty
`recoveringNodes.size() > 0` can be replaced with '!recoveringNodes.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            return true;
        }
        boolean newHasInstancesWithBacklog = recoveringNodes.size() > 0 || backlogNodes.size() > 0;
        boolean changed = originalView == null || (newView.getViewSeqNum() != originalView.getViewSeqNum())
                || (newHasInstancesWithBacklog != hasInstancesWithBacklog);
```

### SizeReplaceableByIsEmpty
`backlogNodes.size() > 0` can be replaced with '!backlogNodes.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            return true;
        }
        boolean newHasInstancesWithBacklog = recoveringNodes.size() > 0 || backlogNodes.size() > 0;
        boolean changed = originalView == null || (newView.getViewSeqNum() != originalView.getViewSeqNum())
                || (newHasInstancesWithBacklog != hasInstancesWithBacklog);
```

### SizeReplaceableByIsEmpty
`activeNodes.size() == 0` can be replaced with 'activeNodes.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        allInactives.addAll(backlogNodes);

        if (activeNodes.size() == 0) {
            // then we have zero active nodes - that's nothing expected as that
            // includes our own node not to be active
```

### SizeReplaceableByIsEmpty
`macAddresses.size() > 0` can be replaced with '!macAddresses.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            }

            if (macAddresses.size() > 0) {
                // use the lowest MAC value, such that if the order changes,
                // the same one is used
```

### SizeReplaceableByIsEmpty
`likelyVirtualMacAddresses.size() > 0` can be replaced with '!likelyVirtualMacAddresses.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                Collections.sort(macAddresses);
                return "mac:" + macAddresses.get(0);
            } else if (likelyVirtualMacAddresses.size() > 0) {
                Collections.sort(likelyVirtualMacAddresses);
                return "mac:" + likelyVirtualMacAddresses.get(0);
```

### SizeReplaceableByIsEmpty
`otherAddresses.size() > 0` can be replaced with '!otherAddresses.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                Collections.sort(likelyVirtualMacAddresses);
                return "mac:" + likelyVirtualMacAddresses.get(0);
            } else if (otherAddresses.size() > 0) {
                // try the lowest "other" address
                Collections.sort(otherAddresses);
```

### SizeReplaceableByIsEmpty
`id.length() != 0` can be replaced with '!id.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        if (bc != null) {
            for (String id : bc.split(",")) {
                if (id.length() != 0) {
                    ids.add(id);
                }
```

### SizeReplaceableByIsEmpty
`branchCommits.length() > 0` can be replaced with '!branchCommits.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        }
        for (Revision r : revisions) {
            if (branchCommits.length() > 0) {
                branchCommits += ",";
            }
```

### SizeReplaceableByIsEmpty
`value.length() > 0` can be replaced with '!value.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        }
        for (Revision r : revisions) {
            if (value.length() > 0) {
                value += ",";
            }
```

### SizeReplaceableByIsEmpty
`p.length() != 0` can be replaced with '!p.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
        String p = checkLegalTableName(prefix);
        String b = checkLegalTableName(basename);
        if (p.length() != 0 && !p.endsWith("_")) {
            p += "_";
        }
```

### SizeReplaceableByIsEmpty
`charData.length() > 0` can be replaced with '!charData.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
        } catch (Exception ex) {
            String message = String.format("Error processing persisted data for document '%s'", row.getId());
            if (charData.length() > 0) {
                int last = charData.charAt(charData.length() - 1);
                if (last != '}' && last != '"' && last != ']') {
```

### SizeReplaceableByIsEmpty
`sbdata.length() != 0` can be replaced with '!sbdata.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java

            byte[] bytes = null;
            if (sbdata.length() != 0) {
                String lobfile = sbdata.replace("/", "");

```

### SizeReplaceableByIsEmpty
`smodified.length() == 0` can be replaced with 'smodified.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
            try {
                RDBRow row = new RDBRow(id, "1".equals(shasbinary) ? 1L : 0L, "1".equals(sdeletedonce),
                        smodified.length() == 0 ? 0 : Long.parseLong(smodified), Long.parseLong(smodcount),
                        Long.parseLong(scmodcount), -1L, -1L, -1L, sdata, bytes);
                StringBuilder fulljson = dumpRow(ser, id, row);
```

### SizeReplaceableByIsEmpty
`whereClause.length() != 0` can be replaced with '!whereClause.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        query.append("select ").append(selectClause);

        if (whereClause.length() != 0) {
            query.append(" where ").append(whereClause);
        }
```

### SizeReplaceableByIsEmpty
`whereClause.length() != 0` can be replaced with '!whereClause.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        String whereClause = buildWhereClause(null, null, null, conditions);
        if (whereClause.length() != 0) {
            query.append(" where ").append(whereClause);
        }
```

### SizeReplaceableByIsEmpty
`result.size() > 0` can be replaced with '!result.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

            String resultRange = "";
            if (result.size() > 0) {
                resultRange = String.format(" Result range: '%s'...'%s'.", result.get(0).getId(),
                        result.get(result.size() - 1).getId());
```

### SizeReplaceableByIsEmpty
`result.size() == 0` can be replaced with 'result.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/TimingDocumentStoreWrapper.java`
#### Snippet
```java
            long start = now();
            List<T> result = base.query(collection, fromKey, toKey, limit);
            if (result.size() == 0) {
                updateAndLogTimes("query, result=0", start, 0, size(result));
            } else if (result.size() == 1) {
```

### SizeReplaceableByIsEmpty
`key.length() > 0` can be replaced with '!key.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
            sendTo[0] = null;
            MessageDigest messageDigest = MessageDigest.getInstance("SHA-256");
            if (key.length() > 0) {
                ownKey = messageDigest.digest(key.getBytes(UTF8));
            }
```

### SizeReplaceableByIsEmpty
`directory.length() == 0` can be replaced with 'directory.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    
    private String getFileName(int generation) {
        if (directory.length() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`dir.length() == 0` can be replaced with 'dir.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
        }
        this.directory = dir;
        if (dir.length() == 0) {
            readGeneration = -1;
            writeGeneration = 0;
```

### SizeReplaceableByIsEmpty
`generations.size() > 0` can be replaced with '!generations.isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
        try {
            readGeneration = generations.size() > 1 ? generations.first() : -1;
            writeGeneration = generations.size() > 0 ? generations.last() : 0;
            if (readGeneration >= 0) {
                readStore = createMapFactory(readGeneration, true);
```

### SizeReplaceableByIsEmpty
`rmiUri.length() > 0` can be replaced with '!rmiUri.isEmpty()'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RMIConfig.java`
#### Snippet
```java
        }

        if (rmiUri != null && rmiUri.length() > 0) {
            // URI takes precedences, so check whether the configuration has to
            // be set from the URI
```

### SizeReplaceableByIsEmpty
`rmiName.length() ==0` can be replaced with 'rmiName.isEmpty()'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RMIConfig.java`
#### Snippet
```java

        // check name - use repositoryName if empty or null
        if (rmiName == null || rmiName.length() ==0) {
            rmiName = parentConfig.getRepositoryName();
        }
```

### SizeReplaceableByIsEmpty
`rc.getRmiHost().length() > 0` can be replaced with '!rc.getRmiHost().isEmpty()'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
                // rmiHost is not configured
                RMIServerSocketFactory sf;
                if (rc.getRmiHost().length() > 0) {
                    log.debug("Creating RMIServerSocketFactory for host " + rc.getRmiHost());
                    InetAddress hostAddress = InetAddress.getByName(rc.getRmiHost());
```

### SizeReplaceableByIsEmpty
`entries.size() == 0` can be replaced with 'entries.isEmpty()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/RecoverJournal.java`
#### Snippet
```java
        }

        if (entries.size() == 0) {
            out.println("No valid journal entries found, aborting");
            return 1;
```

### SizeReplaceableByIsEmpty
`checkpoints.size() > 0` can be replaced with '!checkpoints.isEmpty()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Check.java`
#### Snippet
```java
                }
            }
            if (checkpoints.size() > 0) {
                print("\nCheckpoints");
                for (String checkpoint : result.getCheckpointRevisions().keySet()) {
```

### SizeReplaceableByIsEmpty
`parsed.valuesOf(dir).size() == 0` can be replaced with 'parsed.valuesOf(dir).isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java
        }

        if (parsed.valuesOf(dir).size() == 0) {
            System.err.println("Segment Store path not specified");
            System.exit(1);
```

### SizeReplaceableByIsEmpty
`src.length() == 0` can be replaced with 'src.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            throws IOException {
        String src = options.getStoreArg();
        if (src == null || src.length() == 0) {
            options.printHelpOn(System.err);
            System.exit(1);
```

### SizeReplaceableByIsEmpty
`args.size() > 0` can be replaced with '!args.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        public List<String> getOtherArgs() {
            List<String> args = new ArrayList<String>(nonOption.values(options));
            if (args.size() > 0) {
                args.remove(0);
            }
```

### SizeReplaceableByIsEmpty
`nonOptions.size() > 0` can be replaced with '!nonOptions.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        public String getStoreArg() {
            List<String> nonOptions = nonOption.values(options);
            return nonOptions.size() > 0? nonOptions.get(0) : "";
        }

```

### SizeReplaceableByIsEmpty
`src.length() == 0` can be replaced with 'src.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    public static NodeStore bootstrapNodeStore(NodeStoreOptions options, Closer closer, boolean readOnlyMode) throws IOException, InvalidFileStoreVersionException {
        String src = options.getStoreArg();
        if (src == null || src.length() == 0) {
            options.printHelpOn(System.err);
            System.exit(1);
```

### SizeReplaceableByIsEmpty
`args.size() > 0` can be replaced with '!args.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        String getSubCmd() {
            List<String> args = getOtherArgs();
            if (args.size() > 0) {
                return args.get(0);
            }
```

### SizeReplaceableByIsEmpty
`out.length() > 0` can be replaced with '!out.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
        String out = outSpec.value(options);
        PrintWriter write = new PrintWriter(System.out);
        if (out.length() > 0) {
            write = new PrintWriter(new BufferedWriter(new FileWriter(out)));
        }
```

### SizeReplaceableByIsEmpty
`map.length() > 0` can be replaced with '!map.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
             if (n.startsWith("name.")) {
                 String mapName = n.substring(5, n.length());
                 if (map.length() > 0 && !map.equalsIgnoreCase(mapName)) {
                     continue;
                 }
```

### SizeReplaceableByIsEmpty
`storeArg.length() == 0` can be replaced with 'storeArg.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java

        String storeArg = options.getStoreArg();
        if (storeArg == null || storeArg.length() == 0) {
            System.err.println("Missing nodestore path/URI");
            System.exit(1);
```

### SizeReplaceableByIsEmpty
`opArg.size() > 0` can be replaced with '!opArg.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
        try {
            String op = "list"; //default operation
            if (opArg.size() > 0) {
                op = opArg.get(0);
                if (!"list".equals(op) && !"rm-all".equals(op) && !"rm-unreferenced".equals(op) && !"rm".equals(op) && !"info".equals(op) && !"set".equals(op)) {
```

### SizeReplaceableByIsEmpty
`tars.size() > 0` can be replaced with '!tars.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DebugCommand.java`
#### Snippet
```java
        int returnCode = 0;

        if (tars.size() > 0) {
            if (debugTars(file, tars) != 0) {
                returnCode = 1;
```

### SizeReplaceableByIsEmpty
`segs.size() > 0` can be replaced with '!segs.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DebugCommand.java`
#### Snippet
```java
        }

        if (segs.size() > 0) {
            if (debugSegments(file, segs) != 0) {
                returnCode = 1;
```

### SizeReplaceableByIsEmpty
`parsed.valuesOf(dir).size() == 0` can be replaced with 'parsed.valuesOf(dir).isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoverJournalCommand.java`
#### Snippet
```java
        }

        if (parsed.valuesOf(dir).size() == 0) {
            System.err.println("Segment Store path not specified");
            System.exit(1);
```

### SizeReplaceableByIsEmpty
`outFileList.size() == 0` can be replaced with 'outFileList.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            outFileList.removeAll(Collections.singleton(null));

            if (outFileList.size() == 0) {
                throw new IllegalArgumentException("No candidate file found");
            }
```

### SizeReplaceableByIsEmpty
`inclusionMap.size() == 0` can be replaced with 'inclusionMap.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                            Map<NodeState, String> inclusionMap = new HashMap<NodeState, String>();
                            getInclusionListFromRegex(state, path, regex, inclusionMap);
                            if (inclusionMap.size() == 0) {
                                System.out.println(
                                    "No valid paths found for traversal, " + "for the inclusion Regex " + regex
```

### SizeReplaceableByIsEmpty
`text.length() == 0` can be replaced with 'text.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
                        textWriter.markError(blobId);
                        stats.errored++;
                    } else if (text.length() == 0) {
                        textWriter.markEmpty(blobId);
                        stats.empty++;
```

### SizeReplaceableByIsEmpty
`tmplist.size() > 0` can be replaced with '!tmplist.isEmpty()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                }
            } catch (EOFException oef) {
                if (tmplist.size() > 0) {
                    files.add(sortAndSave(tmplist, cmp, cs,
                            tmpdirectory, distinct, algorithm, typeToString));
```

### SizeReplaceableByIsEmpty
`pq.size() > 0` can be replaced with '!pq.isEmpty()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        T lastLine = null;
        try {
            while (pq.size() > 0) {
                BinaryFileBuffer<T> bfb = pq.poll();
                T r = bfb.pop();
```

### SizeReplaceableByIsEmpty
`line.trim().length() == 0` can be replaced with 'line.trim().isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpConverter.java`
#### Snippet
```java
            }
            buff.append(line).append('\n');
            if (line.trim().length() == 0) {
                writer.print(convert(buff.toString()));
                buff = new StringBuilder();
```

### SizeReplaceableByIsEmpty
`line.trim().length() == 0` can be replaced with 'line.trim().isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpCleaner.java`
#### Snippet
```java
            line = removeModuleName(line);
            buff.append(line).append('\n');
            if (line.trim().length() == 0) {
                String filtered = filter(buff.toString());
                if (filtered.trim().length() > 10) {
```

### SizeReplaceableByIsEmpty
`sid.length() == 0` can be replaced with 'sid.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java

    void printSegmentReferences(String sid) {
        if (sid == null || sid.length() == 0) {
            return;
        }
```

### SizeReplaceableByIsEmpty
`input.trim().length() == 0` can be replaced with 'input.trim().isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
    void printDiff(String input) {
        StringBuilder sb = new StringBuilder();
        if (input == null || input.trim().length() == 0) {
            setText("Usage <recordId> <recordId> [<path>]");
            return;
```

### SizeReplaceableByIsEmpty
`file.length() == 0` can be replaced with 'file.isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java

    void printTarInfo(String file) {
        if (file == null || file.length() == 0) {
            return;
        }
```

### SizeReplaceableByIsEmpty
`columnToFacetMap.size() == 0` can be replaced with 'columnToFacetMap.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultRowImpl.java`
#### Snippet
```java

    static ResultRowImpl getMappingResultRow(ResultRowImpl delegate, final Map<String, String> columnToFacetMap) {
        if (columnToFacetMap.size() == 0) {
            return delegate;
        }
```

### SizeReplaceableByIsEmpty
`sortOrder.size() == 0` can be replaced with 'sortOrder.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            sortOrder.add(e);
        }
        if (sortOrder.size() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`sources.size() > 0` can be replaced with '!sources.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        // only for 3-way and higher joins, and only if traversal is considered very fast)
        boolean isPotentiallySlowJoin = true;
        while (sources.size() > 0) {
            int bestIndex = 0;
            double bestCost = Double.POSITIVE_INFINITY;
```

### SizeReplaceableByIsEmpty
`p.length() > 0` can be replaced with '!p.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java
                    p = query.getOakPath(p);
                }
                if (p.length() > 0) {
                    if (buff.length() > 0) {
                        buff.append('/');
```

### SizeReplaceableByIsEmpty
`list.size() == 0` can be replaced with 'list.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            ArrayList<PropertyValue> list = new ArrayList<PropertyValue>();
            readOakProperties(list, t, oakPropertyName, propertyType);
            if (list.size() == 0) {
                return null;
            } else if (list.size() == 1) {
```

### SizeReplaceableByIsEmpty
`selectors.size() == 0` can be replaced with 'selectors.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                pathPattern += "%";
                if (!currentSelector.isDescendant) {
                    if (selectors.size() == 0 && currentSelector.path.equals("")) {
                        // the query /* is special
                        currentSelector.path = "/";
```

### SizeReplaceableByIsEmpty
`selectors.size() > 0` can be replaced with '!selectors.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                    }
                } else {
                    if (selectors.size() > 0) {
                        currentSelector = selectors.remove(selectors.size() - 1);
                        currentSelector.condition = null;
```

### SizeReplaceableByIsEmpty
`selectors.size() == 0` can be replaced with 'selectors.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            nextSelector(false);
        }
        if (selectors.size() == 0) {
            nextSelector(true);
        }
```

### SizeReplaceableByIsEmpty
`selectors.size() > 0` can be replaced with '!selectors.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
     */
    private void rewindSelector() {
        if (selectors.size() > 0) {
            currentSelector = selectors.remove(selectors.size() - 1);
            // prevent (join) conditions are added again
```

### SizeReplaceableByIsEmpty
`selectors.size() > 0` can be replaced with '!selectors.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            currentSelector.nodeName = name;
        } else {
            if (selectors.size() > 0) {
                // no explicit path restriction - so it's a node name restriction
                currentSelector.isChild = true;
```

### SizeReplaceableByIsEmpty
`selectors.size() == 0` can be replaced with 'selectors.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java

    private void nextSelector(boolean force) throws ParseException {
        boolean isFirstSelector = selectors.size() == 0;
        String path = currentSelector.path;
        Expression condition = currentSelector.condition;
```

### SizeReplaceableByIsEmpty
`p.length() > 0` can be replaced with '!p.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
                break;
            }
            if (p.length() > 0) {
                n = n.getChildNode(p);
            }
```

### SizeReplaceableByIsEmpty
`p.length() > 0` can be replaced with '!p.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounter.java`
#### Snippet
```java
                break;
            }
            if (p.length() > 0) {
                n = n.getChildNode(p);
            }
```

### SizeReplaceableByIsEmpty
`declaringNodeTypeNames.size() > 0` can be replaced with '!declaringNodeTypeNames.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUtils.java`
#### Snippet
```java
            entry.setProperty(UNIQUE_PROPERTY_NAME, true);
        }
        if (declaringNodeTypeNames != null && declaringNodeTypeNames.size() > 0) {
            entry.setProperty(DECLARING_NODE_TYPES, declaringNodeTypeNames, Type.NAMES);
        }
```

### SizeReplaceableByIsEmpty
`plans.size() == 0` can be replaced with 'plans.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndexPlan.java`
#### Snippet
```java
    
    void setPlan(String path, List<IndexPlan> plans) {
        if (plans.size() == 0) {
            // no index
            basePlans.put(path, null);
```

### SizeReplaceableByIsEmpty
`this.unpreciseExcludePathPatterns.size() != 0` can be replaced with '!this.unpreciseExcludePathPatterns.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
        // we have to let it pass as include
        boolean unpreciseExclude = false;
        if (this.unpreciseExcludePathPatterns.size() != 0) {
            final Iterator<String> it = parentPaths.iterator();
            while (it.hasNext()) {
```

### SizeReplaceableByIsEmpty
`this.excludePathPatterns.size() != 0` can be replaced with '!this.excludePathPatterns.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
        // first go through excludes to remove those that are explicitly
        // excluded
        if (this.excludePathPatterns.size() != 0) {
            final Iterator<String> it = parentPaths.iterator();
            while (it.hasNext()) {
```

### SizeReplaceableByIsEmpty
`this.propertyNames.size() != 0` can be replaced with '!this.propertyNames.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
        }

        if (this.propertyNames != null && this.propertyNames.size() != 0) {
            if (disjoint(changeSet.getPropertyNames(), this.propertyNames)) {
                // if propertyNames are defined then if we can't find any
```

### SizeReplaceableByIsEmpty
`this.parentNodeTypes.size() != 0` can be replaced with '!this.parentNodeTypes.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
        }

        if (this.parentNodeTypes != null && this.parentNodeTypes.size() != 0) {
            if (disjoint(changeSet.getParentNodeTypes(), this.parentNodeTypes)) {
                // same story here: if nodeTypes is defined and we can't find any
```

### SizeReplaceableByIsEmpty
`this.parentNodeNames.size() != 0` can be replaced with '!this.parentNodeNames.isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
        }

        if (this.parentNodeNames != null && this.parentNodeNames.size() != 0) {
            // and a 3rd time, if we can't find any nodeName match
            // here, then we're filtering out
```

### SizeReplaceableByIsEmpty
`usersIdx.size() > 0` can be replaced with '!usersIdx.isEmpty()'
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java

            for (int i = 0; i < NUM_RELATIONSHIPS; i++) {
                if (usersIdx.size() > 0) {
                    String otherUser =
                        users.get(usersIdx.remove(random.nextInt(usersIdx.size()))).getID();
```

### SizeReplaceableByIsEmpty
`deleteList.size() > 0` can be replaced with '!deleteList.isEmpty()'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                ((System.currentTimeMillis() - startTime) / 1000));
            // Delete older keys.
            if (deleteList.size() > 0) {
                DeleteObjectsRequest delObjsReq = new DeleteObjectsRequest(
                    bucket);
```

### SizeReplaceableByIsEmpty
`deleteList.size() > 0` can be replaced with '!deleteList.isEmpty()'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                deleteList.add(new DeleteObjectsRequest.KeyVersion(s3ObjSumm.getKey()));
            }
            if (deleteList.size() > 0) {
                DeleteObjectsRequest delObjsReq = new DeleteObjectsRequest(bucket);
                delObjsReq.setKeys(deleteList);
```

### SizeReplaceableByIsEmpty
`v.length() > 0` can be replaced with '!v.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocumentMaker.java`
#### Snippet
```java
        if (value != null) {
            String v = value.trim();
            if (v.length() > 0) {
                doc.addFulltext(v);
            }
```

### SizeReplaceableByIsEmpty
`v.length() > 0` can be replaced with '!v.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocumentMaker.java`
#### Snippet
```java
        if (value != null) {
            String v = value.trim();
            if (v.length() > 0) {
                doc.addSuggest(v);
            }
```

### SizeReplaceableByIsEmpty
`v.length() > 0` can be replaced with '!v.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocumentMaker.java`
#### Snippet
```java
        if (value != null) {
            String v = value.trim();
            if (v.length() > 0) {
                doc.addSpellcheck(v);
            }
```

### SizeReplaceableByIsEmpty
`val.length() > 0` can be replaced with '!val.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocumentMaker.java`
#### Snippet
```java
    protected boolean indexSimilarityTag(ElasticDocument doc, PropertyState property) {
        String val = property.getValue(Type.STRING);
        if (val.length() > 0) {
            doc.addSimilarityTag(val);
            return true;
```

### SizeReplaceableByIsEmpty
`token.length() > 0` can be replaced with '!token.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocumentMaker.java`
#### Snippet
```java
    @Override
    protected boolean indexDynamicBoost(ElasticDocument doc, String parent, String nodeName, String token, double boost) {
        if (token.length() > 0) {
            doc.addDynamicBoostField(nodeName, token, boost);
            return true;
```

### SizeReplaceableByIsEmpty
`fulltext.size() > 0` can be replaced with '!fulltext.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocument.java`
#### Snippet
```java
                    builder.endArray();
                }
                if (fulltext.size() > 0) {
                    builder.field(FieldNames.FULLTEXT, fulltext);
                }
```

### SizeReplaceableByIsEmpty
`suggest.size() > 0` can be replaced with '!suggest.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocument.java`
#### Snippet
```java
                    builder.field(FieldNames.FULLTEXT, fulltext);
                }
                if (suggest.size() > 0) {
                    builder.startArray(FieldNames.SUGGEST);
                    for (String val : suggest) {
```

### SizeReplaceableByIsEmpty
`spellcheck.size() > 0` can be replaced with '!spellcheck.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticDocument.java`
#### Snippet
```java
                    builder.endArray();
                }
                if (spellcheck.size() > 0) {
                    builder.field(FieldNames.SPELLCHECK, spellcheck);
                }
```

### SizeReplaceableByIsEmpty
`indexDefinition.getSimilarityProperties().size() > 0` can be replaced with '!indexDefinition.getSimilarityProperties().isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexHelper.java`
#### Snippet
```java
    private static ObjectBuilder<IndexSettings> loadSettings(@NotNull IndexSettings.Builder builder,
                                                             @NotNull ElasticIndexDefinition indexDefinition) {
        if (indexDefinition.getSimilarityProperties().size() > 0) {
            builder.otherSettings(ElasticIndexDefinition.ELASTIKNN, JsonData.of(true));
        }
```

### SizeReplaceableByIsEmpty
`indices.size() == 0` can be replaced with 'indices.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexWriter.java`
#### Snippet
```java

    private void deleteOldIndices(ElasticsearchIndicesClient indicesClient, Set<String> indices) throws IOException {
        if (indices.size() == 0)
            return;
        DeleteIndexResponse deleteIndexResponse = indicesClient.delete(db -> db.index(new ArrayList<>(indices)));
```

### SizeReplaceableByIsEmpty
`field.length() > 0` can be replaced with '!field.isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
        if (name.length() > length) {
            String field = name.substring(length + 1, name.length() - 1);
            if (field.length() > 0 && !field.equals(".")) {
                return field;
            }
```

### SizeReplaceableByIsEmpty
`subQueries.size() == 0` can be replaced with 'subQueries.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java

            Query ret;
            if (subQueries.size() == 0) {
                ret = null;
            } else if (subQueries.size() == 1) {
```

### SizeReplaceableByIsEmpty
`indexFieldProviders.size() == 0` can be replaced with 'indexFieldProviders.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java

    boolean isStateEmpty() {
        return indexFieldProviders.size() == 0 &&
                indexFieldProviderMap.size() == 0 &&
                fulltextQueryTermsProviders.size() == 0 &&
```

### SizeReplaceableByIsEmpty
`indexFieldProviderMap.size() == 0` can be replaced with 'indexFieldProviderMap.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
    boolean isStateEmpty() {
        return indexFieldProviders.size() == 0 &&
                indexFieldProviderMap.size() == 0 &&
                fulltextQueryTermsProviders.size() == 0 &&
                fulltextQueryTermsProviderMap.size() == 0;
```

### SizeReplaceableByIsEmpty
`fulltextQueryTermsProviders.size() == 0` can be replaced with 'fulltextQueryTermsProviders.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
        return indexFieldProviders.size() == 0 &&
                indexFieldProviderMap.size() == 0 &&
                fulltextQueryTermsProviders.size() == 0 &&
                fulltextQueryTermsProviderMap.size() == 0;
    }
```

### SizeReplaceableByIsEmpty
`fulltextQueryTermsProviderMap.size() == 0` can be replaced with 'fulltextQueryTermsProviderMap.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
                indexFieldProviderMap.size() == 0 &&
                fulltextQueryTermsProviders.size() == 0 &&
                fulltextQueryTermsProviderMap.size() == 0;
    }

```

### SizeReplaceableByIsEmpty
`qs.size() == 0` can be replaced with 'qs.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                    indexDefinition);
        }
        if (qs.size() == 0) {
            return new LuceneRequestFacade<Query>(new MatchAllDocsQuery());
        }
```

### SizeReplaceableByIsEmpty
`relPaths.size() == 0` can be replaced with 'relPaths.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
        }

        final String parent = relPaths.size() == 0 ? "" : relPaths.iterator().next();
        // we only restrict non-full-text conditions if there is
        // no relative property in the full-text constraint
```

### SizeReplaceableByIsEmpty
`relPaths.size() == 0` can be replaced with 'relPaths.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                return new MultiLuceneIndex(filter, root, relPaths).getPlan();
            }
            String parent = relPaths.size() == 0 ? "" : relPaths.iterator().next();
            // we only restrict non-full-text conditions if there is
            // no relative property in the full-text constraint
```

### SizeReplaceableByIsEmpty
`value.length() > 0` can be replaced with '!value.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java
                Iterable<String> values = property.getValue(Type.STRINGS);
                for (String value : values) {
                    if (value != null && value.length() > 0) {
                        doc.add(new SortedSetDocValuesFacetField(pname, value));
                    }
```

### SizeReplaceableByIsEmpty
`value.length() > 0` can be replaced with '!value.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java
            } else if (tag == Type.STRING.tag()) {
                String value = property.getValue(Type.STRING);
                if (value.length() > 0) {
                    doc.add(new SortedSetDocValuesFacetField(pname, value));
                    fieldAdded = true;
```

### SizeReplaceableByIsEmpty
`token.length() > 0` can be replaced with '!token.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java
        boolean added = false;
        for (String token : tokens) {
            if (token.length() > 0) {
                AugmentedField f = new AugmentedField(parent + "/" + token.toLowerCase(), confidence);
                if (doc.getField(f.name()) == null) {
```

### SizeReplaceableByIsEmpty
`facetFields.size() > 0` can be replaced with '!facetFields.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/FacetHelper.java`
#### Snippet
```java
        @SuppressWarnings("unchecked")
        List<String> facetFields = (List<String>) plan.getAttribute(ATTR_FACET_FIELDS);
        if (facetFields != null && facetFields.size() > 0) {
            Map<String, Facets> facetsMap = new HashMap<String, Facets>();

```

### SizeReplaceableByIsEmpty
`facetsMap.size() > 0` can be replaced with '!facetsMap.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/FacetHelper.java`
#### Snippet
```java
                }
            }
            if (facetsMap.size() > 0) {
                facets = new MultiFacets(facetsMap, NULL_FACETS);
            }
```

### SizeReplaceableByIsEmpty
`prefix.length() > 0` can be replaced with '!prefix.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/NodeStateFacetsConfig.java`
#### Snippet
```java
            NodeBuilder child = current.child(childName);
            super.setMultiValued(childName, child.getProperty(MULTIVALUED).getValue(Type.BOOLEAN));
            if (prefix.length() > 0) {
                super.setMultiValued(prefix + "/" + childName, child.getProperty(MULTIVALUED).getValue(Type.BOOLEAN));
                readMVFacets(child, childName);
```

### SizeReplaceableByIsEmpty
`minHashSets.get(hashLoop).get(bucketLoop).size() == 0` can be replaced with 'minHashSets.get(hashLoop).get(bucketLoop).isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
        for (int hashLoop = 0; hashLoop < hashCount; hashLoop++) {
          for (int bucketLoop = 0; bucketLoop < bucketCount; bucketLoop++) {
            if (minHashSets.get(hashLoop).get(bucketLoop).size() == 0) {
              for (int bucketOffset = 1; bucketOffset < bucketCount; bucketOffset++) {
                if (minHashSets.get(hashLoop).get((bucketLoop + bucketOffset) % bucketCount).size() > 0) {
```

### SizeReplaceableByIsEmpty
`minHashSets.get(hashLoop).get((bucketLoop + bucketOffset) % bucketCount).size() > 0` can be replaced with '!minHashSets.get(hashLoop).get((bucketLoop + bucketOffset) % bucketCount).isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
            if (minHashSets.get(hashLoop).get(bucketLoop).size() == 0) {
              for (int bucketOffset = 1; bucketOffset < bucketCount; bucketOffset++) {
                if (minHashSets.get(hashLoop).get((bucketLoop + bucketOffset) % bucketCount).size() > 0) {
                  LongPair replacementHash = minHashSets.get(hashLoop).get((bucketLoop + bucketOffset) % bucketCount)
                      .first();
```

### SizeReplaceableByIsEmpty
`fvString.trim().length() > 0` can be replaced with '!fvString.trim().isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
                        String similarityFieldName = FieldNames.createSimilarityFieldName(pd.name);
                        String fvString = doc.get(similarityFieldName);
                        if (fvString != null && fvString.trim().length() > 0) {
                            log.trace("generating sim query on field {} and text {}", similarityFieldName, fvString);
                            Query simQuery = SimSearchUtils.getSimQuery(analyzer, similarityFieldName, fvString);
```

### SizeReplaceableByIsEmpty
`booleanQuery.clauses().size() > 0` can be replaced with '!booleanQuery.clauses().isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
                    }
                }
                if (booleanQuery.clauses().size() > 0) {
                    similarityQuery = booleanQuery;
                    log.trace("final similarity query is {}", similarityQuery);
```

### SizeReplaceableByIsEmpty
`childBuilder.clauses().size() > 0` can be replaced with '!childBuilder.clauses().isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
        }
        // Avoid a dubious narrow band, wrap around and pad with the start
        if (childBuilder.clauses().size() > 0) {
            for (BytesRef token : minhashes) {
                TermQuery tq = new TermQuery(new Term(field, token.toString()));
```

### SizeReplaceableByIsEmpty
`eligible.size() == 0` can be replaced with 'eligible.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
            }

            if (eligible.size() == 0) {
                return spec;
            }
```

### SizeReplaceableByIsEmpty
`eligible.size() == 0` can be replaced with 'eligible.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
        }

        if (eligible.size() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`eligible.size() == 0` can be replaced with 'eligible.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
        }

        if (eligible.size() == 0) {
            return null;
        }
```

### SizeReplaceableByIsEmpty
`bq.clauses().size() != 0` can be replaced with '!bq.clauses().isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        }

        if (bq.clauses().size() != 0) {
            qs.add(bq);
        }
```

### SizeReplaceableByIsEmpty
`qs.size() == 0` can be replaced with 'qs.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        }

        if (qs.size() == 0
            && plan.getSortOrder() != null) {
            //This case indicates that query just had order by and no
```

### SizeReplaceableByIsEmpty
`qs.size() == 0` can be replaced with 'qs.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        }

        if (qs.size() == 0) {
            if (reader == null) {
                //When called in planning mode then some queries like rep:similar
```

### SizeReplaceableByIsEmpty
`nodeExcerptColumns.size() > 0` can be replaced with '!nodeExcerptColumns.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        });

        final boolean requireNodeLevelExcerpt = nodeExcerptColumns.size() > 0;

        int docID = doc.doc;
```

### SizeReplaceableByIsEmpty
`names.size() > 0` can be replaced with '!names.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        }

        if (names.size() > 0) {
            int[] maxPassages = new int[names.size()];
            Arrays.fill(maxPassages, 1);
```

### SizeReplaceableByIsEmpty
`columnNameToExcerpts.size() == 0` can be replaced with 'columnNameToExcerpts.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java

        // fallback if no excerpt could be retrieved using postings highlighter
        if (columnNameToExcerpts.size() == 0) {
            for (IndexableField field : searcher.getIndexReader().document(doc.doc).getFields()) {
                String name = field.name();
```

### SizeReplaceableByIsEmpty
`excerptFieldNames.size() == 0` can be replaced with 'excerptFieldNames.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                                }
                            }
                            if (excerptFieldNames.size() == 0) {
                                break;
                            }
```

### SizeReplaceableByIsEmpty
`excerptFields.size() > 0` can be replaced with '!excerptFields.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                                }
                            }
                            boolean addExcerpt = excerptFields.size() > 0;

                            PropertyRestriction restriction = filter.getPropertyRestriction(QueryConstants.OAK_SCORE_EXPLANATION);
```

### SizeReplaceableByIsEmpty
`paramMap.size() == 0` can be replaced with 'paramMap.isEmpty()'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/MoreLikeThisHelperUtil.java`
#### Snippet
```java
        }

        if (paramMap.size() == 0) {
            throw new RuntimeException("No params found while parsing the MLT query : " + mltQueryString);
        }
```

### SizeReplaceableByIsEmpty
`chunkIds.size() > 0` can be replaced with '!chunkIds.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java

                                    List<String> chunkIds = Lists.newArrayList(blobStore.resolveChunks(deletedBlobId));
                                    if (chunkIds.size() > 0) {
                                        long deleted = blobStore.countDeleteChunks(chunkIds, 0);
                                        if (deleted < 1) {
```

### SizeReplaceableByIsEmpty
`localDeletedBlobs.size() > 0` can be replaced with '!localDeletedBlobs.isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
                List<BlobIdInfoStruct> localDeletedBlobs = new LinkedList<>();
                deletedBlobs.drainTo(localDeletedBlobs);
                if (localDeletedBlobs.size() > 0) {
                    File outFile = new File(rootDirectory, getBlobFileName());
                    try {
```

### SizeReplaceableByIsEmpty
`facetFields.size() > 0` can be replaced with '!facetFields.isEmpty()'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
            }

            if (facetFields.size() > 0) {
                plan.setAttribute(ATTR_FACET_FIELDS, facetFields);
            }
```

### SizeReplaceableByIsEmpty
`namePatterns.size() > 0` can be replaced with '!namePatterns.isEmpty()'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
            if (config != null) {
                return config;
            } else if (namePatterns.size() > 0) {
                // check patterns
                for (NamePattern np : namePatterns) {
```

## RuleId[id=TrivialStringConcatenation]
### TrivialStringConcatenation
Empty string used in concatenation
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        executor.start(whiteboard);
        final FilteringObserver filteringObserver = createObserver(executor);
        listenerId = COUNTER.incrementAndGet() + "";
        Map<String, String> attrs = ImmutableMap.of(LISTENER_ID, listenerId);
        String name = tracker.toString();
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java

        static void setLastModifiedUpperLimit(File sortWorkDir, long lastModifiedUpperLimit) throws IOException {
            Files.write(Paths.get(sortWorkDir.getAbsolutePath() + "/" + LAST_MODIFIED_UPPER_LIMIT), ("" + lastModifiedUpperLimit).getBytes(),
                    StandardOpenOption.CREATE, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);
        }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
    private static List<Object[]> readRunnableStackTraces(int pid) {
        try {
            String jstack = exec("jstack", "" + pid);
            LineNumberReader r = new LineNumberReader(
                    new StringReader(jstack));
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentBroadcastConfig.java`
#### Snippet
```java
        ClusterNodeInfo info = documentNodeStore.getClusterInfo();
        info.setInfo(clientInfo);
        return "" + info.getId();
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        }

        UpdateOp update = new UpdateOp("" + id, false);
        // Update the field only if the newer value is higher (or doesn't exist)
        update.max(LEASE_END_KEY, updatedLeaseEndTime);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                // try to add more diagnostics
                try {
                    ClusterNodeInfoDocument current = store.find(Collection.CLUSTER_NODES, "" + id);
                    if (current != null) {
                        Object leaseEnd = current.get(LEASE_END_KEY);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java

            Long leaseEnd = (Long) doc.get(LEASE_END_KEY);
            String mId = "" + doc.get(MACHINE_ID_KEY);
            String iId = "" + doc.get(INSTANCE_ID_KEY);

```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            Long leaseEnd = (Long) doc.get(LEASE_END_KEY);
            String mId = "" + doc.get(MACHINE_ID_KEY);
            String iId = "" + doc.get(INSTANCE_ID_KEY);

            // handle active clusterId with valid lease and no recovery lock
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            }
        }
        UpdateOp update = new UpdateOp("" + id, true);
        update.set(LEASE_END_KEY, null);
        update.set(STATE, null);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        // synchronized, because renewLease is also synchronized 
        synchronized(this) {
            UpdateOp update = new UpdateOp("" + id, false);
            for(Entry<String, String> e : info.entrySet()) {
                update.set(e.getKey(), e.getValue());
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            System.out.println("Tar graph:");
            for (Map.Entry<UUID, Set<UUID>> entry : graph.entrySet()) {
                System.out.println("" + entry.getKey() + '=' + entry.getValue());
            }
        } catch (IOException e) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
                v = v.length() + "," + v.replace(',', '#');
            } else {
                v = "" + v.length();
            }
            key = key.replace(',', '#');
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        }
        if (force || condition != null || joinCondition != null) {
            String nextSelectorName = "" + (char) (currentSelector.name.charAt(0) + 1);
            if (nextSelectorName.compareTo("x") > 0) {
                throw getSyntaxError("too many joins");
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexHelper.java`
#### Snippet
```java
                                "    \"L\": " + pd.getSimilaritySearchParameters().getL() + "," +
                                "    \"k\": " + pd.getSimilaritySearchParameters().getK() + "," +
                                "    \"w\": " + pd.getSimilaritySearchParameters().getW() + "" +
                                "  }" +
                                "}");
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/Aggregate.java`
#### Snippet
```java
            //For supporting jcr:contains(jcr:content, 'foo')
            if (!(include instanceof NodeInclude)) {
                throw new IllegalArgumentException("" + include);
            }
            NodeInclude rootInclude = (NodeInclude) include;
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/CanReadNonExisting.java`
#### Snippet
```java
        Node extras = s.getNode("/").addNode("extras");
        for (int i = 0; i < extraPolicies; i++) {
            extras.addNode(i + "");
        }
        s.save();
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/CanReadNonExisting.java`
#### Snippet
```java
            Node content = s.getNode("/").addNode("content");
            for (int i = 0; i < contentNodes; i++) {
                String p = content.addNode(i + "").getPath();
                addAccessControlEntry(s, p, eye.getPrincipal(), new String[] { JCR_READ }, true);
            }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/AceCreationTest.java`
#### Snippet
```java

        for (int i = 0; i < count; i++) {
            ImmutableMap<String, Value> restrictions = ImmutableMap.of(AccessControlConstants.REP_GLOB, session.getValueFactory().createValue(i + ""));
            acl.addEntry(EveryonePrincipal.getInstance(), AccessControlUtils.privilegesFromNames(acManager, Privilege.JCR_ADD_CHILD_NODES), true, restrictions);
        }
```

## RuleId[id=FinalStaticMethod]
### FinalStaticMethod
'static' method declared `final`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
    }

    public final static boolean isLockingSupported() {
        return ISLOCKINGSUPPORTED;
    }
```

### FinalStaticMethod
'static' method declared `final`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
        private long weight = 0;

        static final <K> Supplier<RecordCache<K>> defaultFactory(final int size, @NotNull final Weigher<K, RecordId> weigher) {
            return new Supplier<RecordCache<K>>() {
                @Override
```

### FinalStaticMethod
'static' method declared `final`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java

    private static class Empty<T> extends RecordCache<T> {
        static final <T> Supplier<RecordCache<T>> emptyFactory() {
            return  new Supplier<RecordCache<T>>() {
                @Override
```

### FinalStaticMethod
'static' method declared `final`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsData.java`
#### Snippet
```java
    }
    
    public static final String getTimeString(long timeMillis) {
        return String.format("%tF %tT", timeMillis, timeMillis);
    }
```

### FinalStaticMethod
'static' method declared `final`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/ConflictHook.java`
#### Snippet
```java
    }

    public static final ConflictHook of(ThreeWayConflictHandler handler) {
        return new ConflictHook(handler);
    }
```

### FinalStaticMethod
'static' method declared `final`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/ConflictHook.java`
#### Snippet
```java
     */
    @Deprecated
    public static final ConflictHook of(ConflictHandler handler) {
        return of(ConflictHandlers.wrap(handler));
    }
```

## RuleId[id=NumberEquality]
### NumberEquality
Number objects are compared using `!=`, not 'equals()'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextIndexEditorContext.java`
#### Snippet
```java
          Long clonedRandom = getLongPropertyOrNull(clonedState.getProperty(PROP_RANDOM_SEED));

          if (clonedRandom == null || clonedRandom != defRandom) {
            definition.getChildNode(INDEX_DEFINITION_NODE).setProperty(PROP_RANDOM_SEED, defRandom);
          }
```

## RuleId[id=NullableProblems]
### NullableProblems
Primitive type members cannot be annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CachingBlobStore.java`
#### Snippet
```java
    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
            long weight = (long)StringUtils.estimateMemoryUsage(key) + value.length;
            if (weight > Integer.MAX_VALUE) {
```

### NullableProblems
Parameter annotated @NotNull must not override @Nullable parameter
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
                    @Override
                    @Nullable
                    public Long apply(@NotNull DataRecord input) {
                        return input.getLastModified();
                    }
```

### NullableProblems
Parameter annotated @NotNull must not override @Nullable parameter
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
                            @Override
                            @Nullable
                            public String apply(@NotNull DataRecord input) {
                                return SharedStoreRecordType.REFERENCES.getIdFromName(input.getIdentifier().toString());
                            }
```

### NullableProblems
Parameter annotated @NotNull must not override @Nullable parameter
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
                    @Override
                    @Nullable
                    public String apply(@NotNull DataRecord input) {
                        return SharedStoreRecordType.REPOSITORY.getIdFromName(input.getIdentifier().toString());
                    }
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/TextWriter.java`
#### Snippet
```java
public interface TextWriter {

    void write(@NotNull String blobId, @NotNull String text) throws IOException;

    void markEmpty(String blobId);
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/TextWriter.java`
#### Snippet
```java
public interface TextWriter {

    void write(@NotNull String blobId, @NotNull String text) throws IOException;

    void markEmpty(String blobId);
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordAccessProvider.java`
#### Snippet
```java
     */
    @NotNull
    DataRecord completeDataRecordUpload(@NotNull String uploadToken)
            throws IllegalArgumentException, DataRecordUploadException, DataStoreException;
}
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordAccessProvider.java`
#### Snippet
```java
     */
    @Nullable
    URI getDownloadURI(@NotNull DataIdentifier identifier,
                       @NotNull DataRecordDownloadOptions downloadOptions);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordAccessProvider.java`
#### Snippet
```java
    @Nullable
    URI getDownloadURI(@NotNull DataIdentifier identifier,
                       @NotNull DataRecordDownloadOptions downloadOptions);

    /**
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordUploadToken.java`
#### Snippet
```java
     *         securely identify an upload.
     */
    public String getEncodedToken(@NotNull byte[] secret) {
        String now = Instant.now().toString();
        String toBeEncoded = uploadId.isPresent() ?
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordUploadToken.java`
#### Snippet
```java
     *         if validation fails.
     */
    public static DataRecordUploadToken fromEncodedToken(@NotNull String encoded, @NotNull byte[] secret)
            throws IllegalArgumentException {
        final String[] parts = encoded.split("#", 2);
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
            long weight = (long)StringUtils.estimateMemoryUsage(key) + value.length;
            if (weight > Integer.MAX_VALUE) {
```

### NullableProblems
Overridden methods are not annotated
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/QueryIndexProvider.java`
#### Snippet
```java
     * @return the list of indexes
     */
    @NotNull
    List<? extends QueryIndex> getQueryIndexes(NodeState nodeState);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Descriptors.java`
#### Snippet
```java
     */
    @Nullable
    Value[] getValues(@NotNull String key);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Descriptors.java`
#### Snippet
```java
     * @return whether {@code key} is a standard descriptor.
     */
    boolean isStandardDescriptor(@NotNull String key);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Descriptors.java`
#### Snippet
```java
     */
    @Nullable
    Value getValue(@NotNull String key);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Descriptors.java`
#### Snippet
```java
     * @since JCR 2.0
     */
    boolean isSingleValueDescriptor(@NotNull String key);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * @return  the status of the operation right after it was initiated
     */
    @NotNull
    @Description("Initiates a revision garbage collection operation for a given role")
    CompositeData startRevisionGCForRole(String role);
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * status of the last operation or <em>Status not available</em> if none.
     */
    @NotNull
    @Description("The status of the ongoing operation, or the terminal status of the last completed backup operation")
    CompositeData getBackupStatus();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     *         none.
     */
    @NotNull
    @Description("Asynchronous Property Index reindexing status")
    CompositeData getPropertyIndexAsyncReindexStatus();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * status of the last operation or <em>Status not available</em> if none.
     */
    @NotNull
    @Description("The status of the ongoing operation, or the terminal status of the last completed restore operation")
    CompositeData getRestoreStatus();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * @return the status of the operation right after it was initiated
     */
    @NotNull
    @Description("Initiates a reindex operation for the property indexes marked for reindexing")
    CompositeData startPropertyIndexAsyncReindex();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * @return  the status of the operation right after it was initiated
     */
    @NotNull
    @Description("Creates a backup of the persistent state of the repository")
    CompositeData startBackup();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * @return  the status of the operation right after it was initiated
     */
    @NotNull
    @Description("Initiates a revision garbage collection operation")
    CompositeData startRevisionGC();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * @return  the status of the operation right after it was initiated
     */
    @NotNull
    @Description("Initiates a data store garbage collection operation")
    CompositeData startDataStoreGC(@Name("markOnly")
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * @return  the status of the operation right after it was initiated
     */
    @NotNull
    @Description("Restores the repository from a backup")
    CompositeData startRestore();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * <em>Warning</em>: this operation might be disruptive to the owner of the affected sessions
     */
    @NotNull
    @Description("Refresh all currently open sessions")
    TabularData refreshAllSessions();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * status of the last operation or <em>Status not available</em> if none.
     */
    @NotNull
    @Description("Revision garbage collection status")
    CompositeData getRevisionGCStatus();
```

### NullableProblems
Overridden methods are not annotated
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/RepositoryManagementMBean.java`
#### Snippet
```java
     * status of the last operation or <em>Status not available</em> if none.
     */
    @NotNull
    @Description("Data store garbage collection status")
    CompositeData getDataStoreGCStatus();
```

### NullableProblems
Overridden methods are not annotated
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/operation/SessionOperation.java`
#### Snippet
```java
    }

    @NotNull
    public T perform() throws RepositoryException {
        throw new UnsupportedOperationException();
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/PropertyImpl.java`
#### Snippet
```java

    @Override
    @NotNull
    public long[] getLengths() throws RepositoryException {
        Value[] values = getValues();
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     * @return valid checkpoints.
     */
    @NotNull
    Iterable<String> checkpoints();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     * @return {@code true} if the checkpoint was successfully removed, or if it doesn't exist
     */
    boolean release(@NotNull String checkpoint);

}
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     * @return root node state
     */
    @NotNull
    NodeState getRoot();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     */
    @Nullable
    NodeState retrieve(@NotNull String checkpoint);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     * @throws IOException  If an error occurs while reading from the stream
     */
    @NotNull
    Blob createBlob(InputStream inputStream) throws IOException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     * @return string reference of this checkpoint
     */
    @NotNull
    String checkpoint(long lifetime, @NotNull Map<String, String> properties);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     */
    @NotNull
    String checkpoint(long lifetime, @NotNull Map<String, String> properties);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     */
    @Nullable
    Blob getBlob(@NotNull String reference);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     *                                  from a root state of this store
     */
    @NotNull
    NodeState merge(
            @NotNull NodeBuilder builder, @NotNull CommitHook commitHook,
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
    @NotNull
    NodeState merge(
            @NotNull NodeBuilder builder, @NotNull CommitHook commitHook,
            @NotNull CommitInfo info) throws CommitFailedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
    @NotNull
    NodeState merge(
            @NotNull NodeBuilder builder, @NotNull CommitHook commitHook,
            @NotNull CommitInfo info) throws CommitFailedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
    NodeState merge(
            @NotNull NodeBuilder builder, @NotNull CommitHook commitHook,
            @NotNull CommitInfo info) throws CommitFailedException;

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     *         checkpoint.
     */
    @NotNull
    Map<String, String> checkpointInfo(@NotNull String checkpoint);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     */
    @NotNull
    Map<String, String> checkpointInfo(@NotNull String checkpoint);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     * @return string reference of this checkpoint
     */
    @NotNull
    String checkpoint(long lifetime);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     *                                  from a root state of this store
     */
    NodeState reset(@NotNull NodeBuilder builder);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     *                                  from a root state of this store
     */
    @NotNull
    NodeState rebase(@NotNull NodeBuilder builder);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStore.java`
#### Snippet
```java
     */
    @NotNull
    NodeState rebase(@NotNull NodeBuilder builder);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return current properties
     */
    @NotNull
    Iterable<? extends PropertyState> getProperties();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    @NotNull
    NodeBuilder child(@NotNull String name) throws IllegalArgumentException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    NodeBuilder child(@NotNull String name) throws IllegalArgumentException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @Nullable
    String getName(@NotNull String name);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    @NotNull
    NodeBuilder setChildNode(@NotNull String name, @NotNull NodeState nodeState)
            throws IllegalArgumentException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    NodeBuilder setChildNode(@NotNull String name, @NotNull NodeState nodeState)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    NodeBuilder setChildNode(@NotNull String name, @NotNull NodeState nodeState)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    @NotNull
    NodeBuilder setChildNode(@NotNull String name)
            throws IllegalArgumentException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    NodeBuilder setChildNode(@NotNull String name)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    @NotNull
    NodeBuilder setProperty(@NotNull PropertyState property)
            throws IllegalArgumentException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    NodeBuilder setProperty(@NotNull PropertyState property)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return name values of the named property, or an empty collection
     */
    @NotNull
    Iterable<String> getNames(@NotNull String name);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    Iterable<String> getNames(@NotNull String name);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    boolean moveTo(@NotNull NodeBuilder newParent, @NotNull String newName)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    boolean moveTo(@NotNull NodeBuilder newParent, @NotNull String newName)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *         {@code false} otherwise
     */
    boolean hasChildNode(@NotNull String name);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return child node names
     */
    @NotNull
    Iterable<String> getChildNodeNames();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return boolean value of the named property, or {@code false}
     */
    boolean getBoolean(@NotNull String name);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
    * @param name  name of the property
    */
    @NotNull
    NodeBuilder removeProperty(String name);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    @NotNull
    NodeBuilder getChildNode(@NotNull String name)
            throws IllegalArgumentException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    NodeBuilder getChildNode(@NotNull String name)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return immutable node state
     */
    @NotNull
    NodeState getNodeState();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return base node state, possibly non-existent
     */
    @NotNull
    NodeState getBaseState();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     *                                  or contains the forward slash character
     */
    @NotNull
    <T> NodeBuilder setProperty(String name, @NotNull T value, Type<T> type)
            throws IllegalArgumentException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    <T> NodeBuilder setProperty(String name, @NotNull T value, Type<T> type)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     * @return this builder
     */
    @NotNull
    <T> NodeBuilder setProperty(String name, @NotNull T value)
            throws IllegalArgumentException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeBuilder.java`
#### Snippet
```java
     */
    @NotNull
    <T> NodeBuilder setProperty(String name, @NotNull T value)
            throws IllegalArgumentException;

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStoreBranch.java`
#### Snippet
```java
     * @throws IllegalStateException if the branch is already merged
     */
    @NotNull
    NodeState getHead();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStoreBranch.java`
#### Snippet
```java
     * @return root node state
     */
    @NotNull
    NodeState getBase();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStoreBranch.java`
#### Snippet
```java
     * @throws IllegalStateException if the branch is already merged
     */
    @NotNull
    NodeState merge(@NotNull CommitHook hook, @NotNull CommitInfo info)
            throws CommitFailedException;
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/ChildNodeEntry.java`
#### Snippet
```java
     * @return child node state
     */
    @NotNull
    NodeState getNodeState();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/ChildNodeEntry.java`
#### Snippet
```java
     * @return  name of the child node
     */
    @NotNull
    String getName();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/Clusterable.java`
#### Snippet
```java
     * @return Cannot be null or empty.
     */
    @NotNull
    String getInstanceId();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/Clusterable.java`
#### Snippet
```java
     *             (optionally) thrown if interrupted while waiting
     */
    boolean isVisible(@NotNull String visibilityToken, long maxWaitMillis) throws InterruptedException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/Observer.java`
#### Snippet
```java
     * @param info commit information
     */
    void contentChanged(@NotNull NodeState root, @NotNull CommitInfo info);

}
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/Observer.java`
#### Snippet
```java
     * @param info commit information
     */
    void contentChanged(@NotNull NodeState root, @NotNull CommitInfo info);

}
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     * @return node builder based on this state
     */
    @NotNull
    NodeBuilder builder();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     * @return child node entries in some stable order
     */
    @NotNull
    Iterable<? extends ChildNodeEntry> getChildNodeEntries();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     *         {@code false} otherwise
     */
    boolean hasChildNode(@NotNull String name);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     * @return properties in some stable order
     */
    @NotNull
    Iterable<? extends PropertyState> getProperties();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     *         {@code false} otherwise
     */
    boolean hasProperty(@NotNull String name);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     *                                  or contains a forward slash character
     */
    @NotNull
    NodeState getChildNode(@NotNull String name) throws IllegalArgumentException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     */
    @NotNull
    NodeState getChildNode(@NotNull String name) throws IllegalArgumentException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeState.java`
#### Snippet
```java
     */
    @Nullable
    PropertyState getProperty(@NotNull String name);

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution addExistingProperty(NodeBuilder parent, PropertyState ours, PropertyState theirs);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution deleteDeletedNode(NodeBuilder parent, String name);
}
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution changeDeletedProperty(NodeBuilder parent, PropertyState ours);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution deleteDeletedProperty(NodeBuilder parent, PropertyState ours);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution changeDeletedNode(NodeBuilder parent, String name, NodeState ours);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution addExistingNode(NodeBuilder parent, String name, NodeState ours, NodeState theirs);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution changeChangedProperty(NodeBuilder parent, PropertyState ours, PropertyState theirs);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution deleteChangedNode(NodeBuilder parent, String name, NodeState theirs);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
     */
    @Override
    @NotNull
    Resolution deleteChangedProperty(NodeBuilder parent, PropertyState theirs);

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/CommitHook.java`
#### Snippet
```java
     * @throws CommitFailedException if the commit should be rejected
     */
    @NotNull
    NodeState processCommit(NodeState before, NodeState after, CommitInfo info)
        throws CommitFailedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java

    @Override
    public boolean hasProperty(@NotNull String name) {
        return getProperty(name) != null;
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java

    @Override
    public PropertyState getProperty(@NotNull String name) {
        for (PropertyState property : getProperties()) {
            if (name.equals(property.getName())) {
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/lifecycle/RepositoryInitializer.java`
#### Snippet
```java
     * @param builder builder for accessing and modifying repository content
     */
    void initialize(@NotNull NodeBuilder builder);
}

```

### NullableProblems
Primitive type members cannot be annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/BinaryPropertyState.java`
#### Snippet
```java
     */
    public static PropertyState binaryProperty(
            @NotNull String name, @NotNull byte[] value) {
        return new BinaryPropertyState(
                name, new ArrayBasedBlob(checkNotNull(value)));
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/PropertyValues.java`
#### Snippet
```java

    @NotNull
    public static PropertyValue newBinary(@NotNull byte[] value) {
        return new PropertyStateValue(BinaryPropertyState.binaryProperty("", value));
    }
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureUtilities.java`
#### Snippet
```java

        @Override
        public void write(@NotNull byte[] bytes, int offset, int length) {
            buffer.put(bytes, offset, length);
        }
```

### NullableProblems
Overridden methods are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfoProvider.java`
#### Snippet
```java
     * default mount would be returned
     */
    @NotNull
    Mount getMountByPath(String path);

```

### NullableProblems
Overridden methods are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfoProvider.java`
#### Snippet
```java
     * @see Mount#isUnder(String)
     */
    @NotNull
    Collection<Mount> getMountsPlacedUnder(String path);

```

### NullableProblems
Overridden methods are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfoProvider.java`
#### Snippet
```java
     * @return the default mount
     */
    @NotNull
    Mount getDefaultMount();
}
```

### NullableProblems
Overridden methods are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfoProvider.java`
#### Snippet
```java
     * @return a collection of mounts, possibly empty
     */
    @NotNull
    Collection<Mount> getNonDefaultMounts();

```

### NullableProblems
Overridden methods are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfoProvider.java`
#### Snippet
```java
     * @see Mount#isDirectlyUnder(String)
     */
    @NotNull
    Collection<Mount> getMountsPlacedDirectlyUnder(String path);

```

### NullableProblems
Overridden methods are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/ManagementOperation.java`
#### Snippet
```java
     * @return  the current status of this operation
     */
    @NotNull
    public Status getStatus() {
        if (isCancelled()) {
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/StringUtils.java`
#### Snippet
```java
     */
    @NotNull
    public static String convertBytesToHex(@NotNull byte[] value) {
        checkNotNull(value);
        int len = value.length;
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/StringUtils.java`
#### Snippet
```java
     * @return the byte array
     */
    @NotNull
    public static byte[] convertHexToBytes(@NotNull String s) {
        checkNotNull(s);
```

### NullableProblems
Overridden methods are not annotated
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
     * @return IndexType served by the implementation like lucene or elasticsearch
     */
    @NotNull
    protected abstract String getIndexType();

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @param cause the cause of the eviction
         */
        void evicted(@NotNull K key, @Nullable V value, @NotNull RemovalCause cause);
    }
    
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @param cause the cause of the eviction
         */
        void evicted(@NotNull K key, @Nullable V value, @NotNull RemovalCause cause);
    }
    
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentStore.java`
#### Snippet
```java
     *          an I/O error.
     */
    @NotNull
    <T extends Document> List<T> query(Collection<T> collection,
                                       String fromKey,
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentStore.java`
#### Snippet
```java
     *          an I/O error.
     */
    @NotNull
    <T extends Document> List<T> query(Collection<T> collection,
                                       String fromKey,
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
    }

    @Nullable
    public byte[] getBdata() {
        return bdata;
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
         *         {@link PreparedStatement}
         */
        @NotNull
        public String getStatementComponent();

```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
     * @return the DB initialization SQL string
     */
    public @NotNull String getInitializationStatement() {
        return "";
    }
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBCommonVendorSpecificCode.java`
#### Snippet
```java
    }

    @NotNull
    public Map<String, String> getAdditionalDiagnostics(RDBConnectionHandler ch, String tableName) {
        return Collections.emptyMap();
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
     * Obtain a {@link Connection} suitable for read-only operations.
     */
    public @NotNull Connection getROConnection() throws SQLException {
        Connection c = getConnection();
        c.setAutoCommit(false);
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
     * Obtain a {@link Connection} suitable for read-write operations.
     */
    public @NotNull Connection getRWConnection() throws SQLException {
        Connection c = getConnection();
        c.setAutoCommit(false);
```

### NullableProblems
Overridden methods are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriteOperationHandler.java`
#### Snippet
```java
         * @throws IOException
         */
        @NotNull
        RecordId execute(@NotNull SegmentBufferWriter writer) throws IOException;
    }
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java

    @Override
    public int read(@NotNull byte[] b, int off, int len) {
        checkNotNull(b);
        checkPositionIndexes(off, off + len, b.length);
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java

    @NotNull
    RecordId writeBlock(@NotNull final byte[] bytes, final int offset, final int length) throws IOException {
        return new SegmentWriteOperation(writeOperationHandler.getGCGeneration())
                .writeBlock(bytes, offset, length);
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
        }

        private RecordId writeBlock(@NotNull byte[] bytes, int offset, int length)
                throws IOException {
            checkNotNull(bytes);
```

### NullableProblems
Assigning a collection of nullable elements into a collection of non-null elements
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        this.mixinTypes = mixinTypes;
        if (properties != null) {
            this.properties = properties;
            Arrays.sort(this.properties);
        } else {
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java
     * @param data serialized binary references data
     */
    void writeBinaryReferences(@NotNull byte[] data) throws IOException;

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java
     * @return archive name
     */
    @NotNull
    String getName();

```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java
     * @throws IOException
     */
    @NotNull
    void writeSegment(long msb, long lsb, @NotNull byte[] data, int offset, int size, int generation, int fullGeneration, boolean isCompacted) throws IOException;

```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java
     */
    @NotNull
    void writeSegment(long msb, long lsb, @NotNull byte[] data, int offset, int size, int generation, int fullGeneration, boolean isCompacted) throws IOException;

    /**
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java
     * @param data serialized segment graph data
     */
    void writeGraph(@NotNull byte[] data) throws IOException;

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveReader.java`
#### Snippet
```java
     * @return archive name
     */
    @NotNull
    String getName();

```

### NullableProblems
Overridden methods are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveReader.java`
#### Snippet
```java
     * @return byte buffer representing the binary references structure.
     */
    @NotNull
    Buffer getBinaryReferences() throws IOException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @throws IOException
     */
    void backup(@NotNull String archiveName, @NotNull String backupArchiveName, @NotNull Set<UUID> recoveredEntries) throws IOException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @throws IOException
     */
    void backup(@NotNull String archiveName, @NotNull String backupArchiveName, @NotNull Set<UUID> recoveredEntries) throws IOException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @throws IOException
     */
    void backup(@NotNull String archiveName, @NotNull String backupArchiveName, @NotNull Set<UUID> recoveredEntries) throws IOException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     *                archive
     */
    void recoverEntries(@NotNull String archiveName, @NotNull LinkedHashMap<UUID, byte[]> entries) throws IOException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     *                archive
     */
    void recoverEntries(@NotNull String archiveName, @NotNull LinkedHashMap<UUID, byte[]> entries) throws IOException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @return true if archive exists, false otherwise
     */
    boolean exists(@NotNull String archiveName);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @return true if the archive was renamed, false otherwise
     */
    boolean renameTo(@NotNull String from, @NotNull String to);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @return true if the archive was renamed, false otherwise
     */
    boolean renameTo(@NotNull String from, @NotNull String to);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     */
    @Nullable
    SegmentArchiveReader open(@NotNull String archiveName) throws IOException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @return true if the archive was removed, false otherwise
     */
    boolean delete(@NotNull String archiveName);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @param to new name
     */
    void copyFile(@NotNull String from, @NotNull String to) throws IOException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @param to new name
     */
    void copyFile(@NotNull String from, @NotNull String to) throws IOException;

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @return the archive writer
     */
    @NotNull
    SegmentArchiveWriter create(@NotNull String archiveName) throws IOException;

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     */
    @NotNull
    SegmentArchiveWriter create(@NotNull String archiveName) throws IOException;

    /**
```

### NullableProblems
Overridden methods are not annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveManager.java`
#### Snippet
```java
     * @return archive list
     */
    @NotNull
    List<String> listArchives() throws IOException;

```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/GarbageCollector.java`
#### Snippet
```java
        SegmentGCOptions gcOptions,
        GCListener gcListener,
        GCJournal gcJournal,
        AtomicBoolean sufficientMemory,
        FileReaper fileReaper,
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClient.java`
#### Snippet
```java
    }

    @Nullable
    byte[] getSegment(String segmentId) throws InterruptedException {
        channel.writeAndFlush(new GetSegmentRequest(clientId, segmentId));
```

### NullableProblems
Parameter annotated @NotNull must not override @Nullable parameter
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeState.java`
#### Snippet
```java
        @NotNull
        @Override
        public ChildNodeEntry apply(@NotNull ChildNodeEntry input) {
            String name = input.getName();
            NodeState child = input.getNodeState();
```

### NullableProblems
Overridden methods are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/Query.java`
#### Snippet
```java
     *         a {@link Query}. Cannot return null.
     */
    @NotNull
    Query buildAlternativeQuery();
    
```

### NullableProblems
Overridden methods are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/ConstraintImpl.java`
#### Snippet
```java
     *         conversion is not possible
     */
    @NotNull
    public Set<ConstraintImpl> convertToUnion() {
        return Collections.emptySet();
```

### NullableProblems
Overridden methods are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java
     *         to {@code this}.
     */
    @NotNull
    public AstElement copyOf() {
        return this;
```

### NullableProblems
Overridden methods are not annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    @NotNull
    protected <T extends Document> T convertFromDBObject(@NotNull Collection<T> collection, @NotNull RDBRow row) {
        // this method is present here in order to facilitate unit testing for OAK-3566
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    @Nullable
    private <T extends Document> boolean internalCreate(Collection<T> collection, List<UpdateOp> updates) {
        final Stopwatch watch = startWatch();
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/FilteringAwareObserver.java`
#### Snippet
```java
     * @param info the associated CommitInfo
     */
    void contentChanged(@NotNull NodeState before, @NotNull NodeState after, @NotNull CommitInfo info);
    
}
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/FilteringAwareObserver.java`
#### Snippet
```java
     * @param info the associated CommitInfo
     */
    void contentChanged(@NotNull NodeState before, @NotNull NodeState after, @NotNull CommitInfo info);
    
}
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/FilteringAwareObserver.java`
#### Snippet
```java
     * @param info the associated CommitInfo
     */
    void contentChanged(@NotNull NodeState before, @NotNull NodeState after, @NotNull CommitInfo info);
    
}
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/Filter.java`
#### Snippet
```java
     *         include it (forward)
     */
    boolean excludes(@NotNull NodeState root, @NotNull CommitInfo info);

}
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/Filter.java`
#### Snippet
```java
     *         include it (forward)
     */
    boolean excludes(@NotNull NodeState root, @NotNull CommitInfo info);

}
```

### NullableProblems
Overridden methods are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/UniversalFilter.java`
#### Snippet
```java
         * @return a {@code NodeState} instance for basing the filtering criterion (predicate) upon
         */
        @NotNull
        NodeState select(@NotNull UniversalFilter filter,
                @Nullable PropertyState before, @Nullable PropertyState after);
```

### NullableProblems
Overridden methods are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/UniversalFilter.java`
#### Snippet
```java
         * @return a NodeState instance for basing the filtering criterion (predicate) upon
         */
        @NotNull
        NodeState select(@NotNull UniversalFilter filter, @NotNull String name,
                @NotNull NodeState before, @NotNull NodeState after);
```

### NullableProblems
Assigning a collection of nullable elements into a collection of non-null elements
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
            return excludeAll();
        } else {
            return new UniversalCondition(checkNotNull(selector), new UuidPredicate(uuids));
        }
    }
```

### NullableProblems
Overridden methods are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java

    public interface Condition {
        @NotNull
        EventFilter createFilter(@NotNull NodeState before, @NotNull NodeState after);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
    public interface Condition {
        @NotNull
        EventFilter createFilter(@NotNull NodeState before, @NotNull NodeState after);
    }
    
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
    public interface Condition {
        @NotNull
        EventFilter createFilter(@NotNull NodeState before, @NotNull NodeState after);
    }
    
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/NodeStateCopier.java`
#### Snippet
```java
         */
        @NotNull
        public Builder preserve(@NotNull boolean preserveOnTarget) {
            this.preserveOnTarget = preserveOnTarget;
            return this;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/SearchScalabilityBenchmark.java`
#### Snippet
```java
    }

    protected abstract Query getQuery(@NotNull final QueryManager qm, ExecutionContext context) 
            throws RepositoryException;
}
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/ActiveDeletedBlobCollectorMBean.java`
#### Snippet
```java
     * @return true: if recording deleted blob for active deletion is unsafe; false: otherwise
     */
    @NotNull
    boolean isActiveDeletionUnsafe();

```

### NullableProblems
Primitive type members cannot be annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/ActiveDeletedBlobCollectorMBean.java`
#### Snippet
```java
     * by active deletion
     */
    @NotNull
    void flagActiveDeletionUnsafeForCurrentState();

```

### NullableProblems
Overridden methods are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
    }

    @NotNull
    public IndexFieldProvider getIndexFieldProvider(String nodeType) {
        IndexFieldProvider provider = indexFieldProviderMap.get(nodeType);
```

### NullableProblems
Overridden methods are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
    }

    @NotNull
    public FulltextQueryTermsProvider getFulltextQueryTermsProvider(String nodeType) {
        FulltextQueryTermsProvider provider = fulltextQueryTermsProviderMap.get(nodeType);
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java

    public interface COWDirectoryTracker {
        void registerOpenedDirectory(@NotNull CopyOnWriteDirectory directory);
        void registerReindexingLocalDirectory(@NotNull File dir);

```

### NullableProblems
Overridden method parameters are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    public interface COWDirectoryTracker {
        void registerOpenedDirectory(@NotNull CopyOnWriteDirectory directory);
        void registerReindexingLocalDirectory(@NotNull File dir);

        COWDirectoryTracker NOOP = new COWDirectoryTracker() {
```

### NullableProblems
Overridden methods are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/spi/FulltextQueryTermsProvider.java`
#### Snippet
```java
     * @return {@link Set} of types supported by the implementation
     */
    @NotNull
    Set<String> getSupportedTypes();
}
```

### NullableProblems
Overridden methods are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/spi/IndexFieldProvider.java`
#### Snippet
```java
     * @return {@link Iterable} of fields that are to be added to {@link org.apache.lucene.document.Document} being prepared
     */
    @NotNull
    Iterable<Field> getAugmentedFields(String path, NodeState document, NodeState indexDefinition);

```

### NullableProblems
Overridden methods are not annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/spi/IndexFieldProvider.java`
#### Snippet
```java
     * @return {@link Set} of types supported by the implementation
     */
    @NotNull
    Set<String> getSupportedTypes();
}
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java

            @Override
            public int read(@NotNull byte[] b, int off, int len) throws IOException {
                if (bytesLeftToRead == 0) {
                    return -1;
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java

            @Override
            public int read(@NotNull byte[] target, int off, int len) throws IOException {
                if (available() <= 0) {
                    return -1;
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/BlobStore.java`
#### Snippet
```java
     */
    @Nullable
    String getBlobId(@NotNull String reference);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/BlobStore.java`
#### Snippet
```java
     */
    @Nullable
    String getReference(@NotNull String blobId);

}
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
    }

    public String getIndexSelectionPolicy() {
        return indexSelectionPolicy;
    }
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
    }

    protected IndexDefinition(NodeState root, NodeState defn, IndexFormatVersion version, String uid, String indexPath) {
        try {
            this.root = root;
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/PasswordUtil.java`
#### Snippet
```java
     * @return the byte array
     */
    @NotNull
    private static byte[] convertHexToBytes(String s) {
        int len = s.length();
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/PasswordUtil.java`
#### Snippet
```java
     * the given {@code hashedPassword} string.
     */
    public static boolean isSame(@Nullable String hashedPassword, @NotNull char[] password) {
        return isSame(hashedPassword, String.valueOf(password));
    }
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveWriter.java`
#### Snippet
```java

    @Override
    public void writeBinaryReferences(@NotNull byte[] data) throws IOException {
        writeDataFile(data, ".brf");
    }
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveWriter.java`
#### Snippet
```java

    @Override
    public void writeGraph(@NotNull byte[] data) throws IOException {
        writeDataFile(data, ".gph");
    }
```

### NullableProblems
Primitive type members cannot be annotated
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveWriter.java`
#### Snippet
```java

    @Override
    public void writeSegment(long msb, long lsb, @NotNull byte[] data, int offset, int size, int generation,
            int fullGeneration, boolean compacted) throws IOException {
        created = true;
```

## RuleId[id=IgnoreResultOfCall]
### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUtils.java`
#### Snippet
```java
        file = new File(file, id.substring(2, 4));
        file = new File(file, id.substring(4, 6));
        file.mkdirs();
        return new File(file, id);
    }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java
                LOG.trace("Pending upload upgrade absolute path " + newUpload.getAbsolutePath());

                newUpload.getParentFile().mkdirs();

                if (upload.exists()) {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java
            File newDownload = new File(newDownloadDir,
                download.getAbsolutePath().substring(path.getAbsolutePath().length()));
            newDownload.getParentFile().mkdirs();
            LOG.trace("Downloaded cache file absolute post-upgrade path " + newDownload);

```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
        List<File> files;
        try {
            uploadCacheSpace.mkdirs();
            files = java.nio.file.Files.find(uploadCacheSpace.toPath(), Integer.MAX_VALUE, (path, basicFileAttributes) -> basicFileAttributes.isRegularFile())
                    .map(Path::toFile)
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java

                File parent = dest.getParentFile();
                parent.mkdirs();
                synchronized (this) {
                    if (tmpFile.renameTo(dest)) {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
            } finally {
                if (tmpFile != null) {
                    tmpFile.delete();
                }
            }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

                    if (toBeRemoved != null) {
                        toBeRemoved.delete();
                    }
                }
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexerSupport.java`
#### Snippet
```java
            FileUtils.forceMkdir(dir);
            File infoFile = new File(dir, IndexerInfo.INDEX_METADATA_FILE_NAME);
            infoFile.createNewFile();
            Properties p = new Properties();
            p.setProperty("indexPath", indexPath);
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java

                    if (candTemp != null) {
                        candTemp.delete();
                    }
                }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java
            try {
                writer.close();
                tmpFile.delete();
                tmpFile = null;
                writer = null;
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentTarFactory.java`
#### Snippet
```java
    private void createDirectoryIfMissing(File directory) {
        if (!directory.exists()) {
            directory.mkdirs();
        }
    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
            throw new IOException(e);
        } finally {
            tmpDir.delete();
        }
    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java

        File tmpDir = Files.createTempDir();
        closer.register(() -> tmpDir.delete());
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
                .withCustomPersistence(azPersistence).withMemoryMapping(false);
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentFactory.java`
#### Snippet
```java
    private void createDirectoryIfMissing(File directory) {
        if (!directory.exists()) {
            directory.mkdirs();
        }
    }
```

### IgnoreResultOfCall
Result of `File.mkdir()` is ignored
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

                    File directory = new File(destination);
                    directory.mkdir();

                    for (Future<Segment> future : futures) {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
        if (deleteOriginal) {
            LOG.info("removing original flat file {} after splitting into {} files", flatFile.getAbsolutePath(), splitFlatFiles);
            flatFile.delete();
        }

```

### IgnoreResultOfCall
Result of `UUID.fromString()` is ignored
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/UUIDUtils.java`
#### Snippet
```java
    public static boolean isValidUUID(String uuid) {
        try {
            UUID.fromString(uuid);
            return true;
        } catch (IllegalArgumentException e) {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            if (delete) {
                for (File f : files) {
                    f.delete();
                }
            }
```

### IgnoreResultOfCall
Result of `MongoCursor.hasNext()` is ignored
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoStatus.java`
#### Snippet
```java
                    .withReadConcern(ReadConcern.MAJORITY)
                    .find(new BasicDBObject()).iterator()) {
                cursor.hasNext();
                majorityReadConcernEnabled = true;
            } catch (MongoQueryException | IllegalArgumentException e) {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
        File dr = new File(dir);
        if (!dr.exists()) {
            dr.mkdirs();
        }
        if (dr.exists() && !dr.isDirectory()) {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            } else {
                LOG.info("Removing old generation " + oldFile.getAbsolutePath());
                oldFile.delete();
            }
            generations.remove(oldest);
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            if (oldRead != null) {
                oldRead.closeStore();
                new File(getFileName(oldReadGeneration)).delete();
            }
        }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/Installer.java`
#### Snippet
```java
        in.close();
        if (!dest.getParentFile().exists()) {
            dest.getParentFile().mkdirs();
        }
        OutputStream out = new FileOutputStream(dest);
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/Installer.java`
#### Snippet
```java
            }
            log.info("Creating new repository home '{}'", repHome);
            home.mkdirs();

            try {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java
            if (cfg.hasSplitPersistence()) {
                cfg.getLogger().info("Initializing SegmentNodeStore with custom persistence [{}] and local writes", customPersistence);
                cfg.getSplitPersistenceDirectory().mkdirs();
                SegmentNodeStorePersistence rwPersistence = new TarPersistence(cfg.getSplitPersistenceDirectory());
                SegmentNodeStorePersistence persistence = new SplitPersistence(customPersistence, rwPersistence);
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreBuilder.java`
#### Snippet
```java
        checkState(!built, "Cannot re-use builder");
        built = true;
        directory.mkdirs();
        TarRevisions revisions = new TarRevisions(persistence);
        LOG.info("Creating file store {}", this);
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/LocalGCJournalFile.java`
#### Snippet
```java
    @Override
    public void truncate() throws IOException {
        file.delete();
    }
}
```

### IgnoreResultOfCall
Result of `InputStream.read()` is ignored
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/RemoteBlobProcessor.java`
#### Snippet
```java

        try {
            data.read();
        } catch (Exception e) {
            logger.warn("Unable to read the content for blob {}, the blob will be downloaded", blobId, e);
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/SegmentPropertyIndexEditorProvider.java`
#### Snippet
```java
    private NodeBuilder createRootBuilder() {
        try {
            indexStoreDir.mkdirs();
            fixture = NodeStoreFixtureProvider.create(createSegmentOptions(indexStoreDir), false);
        } catch (Exception e) {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                List<String> data = getMetadata(fixture);
                File outDir = opts.getOptionBean(DataStoreOptions.class).getOutDir();
                outDir.mkdirs();
                FileIOUtils.writeStrings(data.iterator(), new File(outDir, "metadata"), false);
            } else {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                for (File f : files) {
                    if (f.exists()) {
                        f.delete();
                    }
                }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
            }
            for (File f : files) {
                f.delete();
            }
        }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java

    static void extractAll(String extractFile, String extractTargetDirectory) {
        new File(extractTargetDirectory).mkdirs();
        JsonObject indexDefs = parseIndexDefinitions(extractFile);
        removeUninterestingIndexProperties(indexDefs);
```

### IgnoreResultOfCall
Result of `Iterator.hasNext()` is ignored
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        if (orderBy != null) {
            // this will force the rows to be read, so that the size is known
            it.hasNext();
            // we need the size, and there is no other way to get it right now
            // but we also have to take limit and offset into account
```

### IgnoreResultOfCall
Result of `OnParentVersionAction.nameFromValue()` is ignored
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/ItemDefinitionTemplate.java`
#### Snippet
```java

    public void setOnParentVersion(int onParentVersion) {
        OnParentVersionAction.nameFromValue(onParentVersion); // validate
        this.onParentVersion = onParentVersion;
    }
```

### IgnoreResultOfCall
Result of `PropertyType.nameFromValue()` is ignored
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/PropertyDefinitionTemplateImpl.java`
#### Snippet
```java
    @Override
    public void setRequiredType(int type) {
        PropertyType.nameFromValue(type); // validation
        this.requiredType = type;
    }
```

### IgnoreResultOfCall
Result of `ImportBehavior.nameFromValue()` is ignored
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPolicyImpl.java`
#### Snippet
```java
                  @NotNull PrincipalManager principalManager, int importBehavior,
                  @NotNull CugExclude cugExclude, @NotNull Iterable<Principal> principals, boolean immutable) {
        ImportBehavior.nameFromValue(importBehavior);
        this.oakPath = oakPath;
        this.namePathMapper = namePathMapper;
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/LuceneFacetSearchTest.java`
#### Snippet
```java
            throw new RuntimeException(e);
        }
        createdFolder.delete();
        createdFolder.mkdir();
        return createdFolder;
```

### IgnoreResultOfCall
Result of `File.mkdir()` is ignored
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/LuceneFacetSearchTest.java`
#### Snippet
```java
        }
        createdFolder.delete();
        createdFolder.mkdir();
        return createdFolder;
    }
```

### IgnoreResultOfCall
Result of `PropertyType.valueFromName()` is ignored
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
        public PropertyRule type(String type){
            //This would throw an IAE if type is invalid
            PropertyType.valueFromName(type);
            propTree.setProperty(FulltextIndexConstants.PROP_TYPE, type);
            return this;
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/DefaultDirectoryFactory.java`
#### Snippet
```java
            // try {
            File file = new File(path);
            file.mkdirs();
            // TODO: no locking used
            // --> using the FS backend for the index is in any case
```

### IgnoreResultOfCall
Result of `PropertyType.valueFromName()` is ignored
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
        public PropertyRule type(String type) {
            //This would throw an IAE if type is invalid
            PropertyType.valueFromName(type);
            propTree.setProperty(FulltextIndexConstants.PROP_TYPE, type);
            return this;
```

### IgnoreResultOfCall
Result of `File.mkdir()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
        if (!f.exists()) {
            File old = getFile(id.digest, true);
            f.getParentFile().mkdir();
            old.renameTo(f);
            f = getFile(id.digest, false);
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
            File old = getFile(id.digest, true);
            f.getParentFile().mkdir();
            old.renameTo(f);
            f = getFile(id.digest, false);
        }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
        File f = getFile(digest, false);
        if (f.exists()) {
            file.delete();
        } else {
            File parent = f.getParentFile();
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
            File parent = f.getParentFile();
            if (!parent.exists()) {
                parent.mkdirs();
            }
            file.renameTo(f);
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                parent.mkdirs();
            }
            file.renameTo(f);
        }
        IOUtils.writeVarInt(idStream, digest.length);
```

### IgnoreResultOfCall
Result of `File.mkdir()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
            if (!f.exists()) {
                File old = getFile(digest, true);
                f.getParentFile().mkdir();
                old.renameTo(f);
                f = getFile(digest, false);
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                File old = getFile(digest, true);
                f.getParentFile().mkdir();
                old.renameTo(f);
                f = getFile(digest, false);
            }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
            if ((maxLastModifiedTime <= 0) 
                    || FileUtils.isFileOlder(f, maxLastModifiedTime)) {
                f.delete();
                count++;
            }
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                            String name = p.getName();
                            File newName = new File(old, name);
                            p.renameTo(newName);
                        }
                    } else {
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                        }
                    } else {
                        d.renameTo(old);
                    }
                }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
        File parent = f.getParentFile();
        if (!parent.exists()) {
            parent.mkdirs();
        }
        File temp = new File(parent, f.getName() + ".temp");
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
        out.write(data);
        out.close();
        temp.renameTo(f);
    }

```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                        String name = p.getName();
                        File file = new File(old, name);
                        file.delete();
                        count++;
                    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                        count++;
                    }
                    old.delete();
                }
            }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
    public FileBlobStore(String dir) {
        baseDir = new File(dir);
        baseDir.mkdirs();
    }

```

### IgnoreResultOfCall
Result of `File.mkdir()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
        if (!f.exists()) {
            File old = getFile(id.digest, true);
            f.getParentFile().mkdir();
            old.renameTo(f);
            f = getFile(id.digest, false);
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
            File old = getFile(id.digest, true);
            f.getParentFile().mkdir();
            old.renameTo(f);
            f = getFile(id.digest, false);
        }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java
            throw new RuntimeException(e);
        }
        createdFolder.delete();
        createdFolder.mkdir();
        return createdFolder;
```

### IgnoreResultOfCall
Result of `File.mkdir()` is ignored
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java
        }
        createdFolder.delete();
        createdFolder.mkdir();
        return createdFolder;
    }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
        this.tempFilesCleanupWaitTimeMs = tempFilesCleanupWaitTimeMs;
        if (!directory.exists()) {
            directory.mkdirs();
        }

```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
                        File segment = segmentCacheEntry.getPath().toFile();
                        cacheSize.addAndGet(-segment.length());
                        segment.delete();
                        evictionCount.incrementAndGet();
                    } else {
```

## RuleId[id=AccessStaticViaInstance]
### AccessStaticViaInstance
Static member 'org.apache.jackrabbit.oak.blob.cloud.s3.S3RequestDecorator.DataEncryption.valueOf(java.lang.String)' accessed via instance reference
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java
        String encryptionType = props.getProperty(S3Constants.S3_ENCRYPTION);
        if (encryptionType != null) {
            this.dataEncryption = dataEncryption.valueOf(encryptionType);

            if (encryptionType.equals(S3Constants.S3_ENCRYPTION_SSE_KMS)) {
```

### AccessStaticViaInstance
Static member 'org.osgi.framework.BundleEvent.STOPPED' accessed via instance reference
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/RunnableJobTracker.java`
#### Snippet
```java
        //currently does not emit framework event
        if(bundleEvent.getBundle().getBundleId() == 0
                && bundleEvent.getType() == bundleEvent.STOPPED){
            close();
        }
```

## RuleId[id=UnnecessaryUnboxing]
### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
        this.hasBinaryProperties = hasBinaryProperties;
        this.deletedOnce = deletedOnce;
        this.modified = modified != null ? modified.longValue() : LONG_UNSET;
        this.modcount = modcount != null ? modcount.longValue() : LONG_UNSET;
        this.cmodcount = cmodcount != null ? cmodcount.longValue() : LONG_UNSET;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
        this.deletedOnce = deletedOnce;
        this.modified = modified != null ? modified.longValue() : LONG_UNSET;
        this.modcount = modcount != null ? modcount.longValue() : LONG_UNSET;
        this.cmodcount = cmodcount != null ? cmodcount.longValue() : LONG_UNSET;
        this.schemaVersion = schemaVersion != null ? schemaVersion.longValue() : LONG_UNSET;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
        this.modified = modified != null ? modified.longValue() : LONG_UNSET;
        this.modcount = modcount != null ? modcount.longValue() : LONG_UNSET;
        this.cmodcount = cmodcount != null ? cmodcount.longValue() : LONG_UNSET;
        this.schemaVersion = schemaVersion != null ? schemaVersion.longValue() : LONG_UNSET;
        this.sdType = sdType != null ? sdType.longValue() : LONG_UNSET;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
        this.modcount = modcount != null ? modcount.longValue() : LONG_UNSET;
        this.cmodcount = cmodcount != null ? cmodcount.longValue() : LONG_UNSET;
        this.schemaVersion = schemaVersion != null ? schemaVersion.longValue() : LONG_UNSET;
        this.sdType = sdType != null ? sdType.longValue() : LONG_UNSET;
        this.sdMaxRevTime = sdMaxRevTime != null ? sdMaxRevTime.longValue() : LONG_UNSET;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
        this.cmodcount = cmodcount != null ? cmodcount.longValue() : LONG_UNSET;
        this.schemaVersion = schemaVersion != null ? schemaVersion.longValue() : LONG_UNSET;
        this.sdType = sdType != null ? sdType.longValue() : LONG_UNSET;
        this.sdMaxRevTime = sdMaxRevTime != null ? sdMaxRevTime.longValue() : LONG_UNSET;
        this.data = data;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBRow.java`
#### Snippet
```java
        this.schemaVersion = schemaVersion != null ? schemaVersion.longValue() : LONG_UNSET;
        this.sdType = sdType != null ? sdType.longValue() : LONG_UNSET;
        this.sdMaxRevTime = sdMaxRevTime != null ? sdMaxRevTime.longValue() : LONG_UNSET;
        this.data = data;
        this.bdata = bdata;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
        }
        if (row.hasBinaryProperties() != null) {
            doc.put(HASBINARY, row.hasBinaryProperties().longValue());
        }
        if (row.deletedOnce() != null) {
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
        }
        if (row.deletedOnce() != null) {
            doc.put(DELETEDONCE, row.deletedOnce().booleanValue());
        }
        if (row.getSchemaVersion() >= 2) {
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    @Nullable
    private static Integer deletedOnceAsNullOrInteger(Boolean b) {
        return b == null ? null : (b.booleanValue() ? INT_TRUE : INT_FALSE);
    }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                data = ser.asString(document, tmd.getColumnOnlyProperties());
                Object m = document.get(MODIFIED);
                long modified = (m instanceof Long) ? ((Long)m).longValue() : 0;
                success = db.update(connection, tmd, document.getId(), modified, hasBinary, deletedOnce, modcount, cmodcount,
                        oldmodcount, data);
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    private static long modifiedOf(@NotNull Document doc) {
        Object l = doc.get(NodeDocument.MODIFIED_IN_SECS);
        return (l instanceof Long) ? ((Long)l).longValue() : -1;
    }

```

## RuleId[id=ClassNameSameAsAncestorName]
### ClassNameSameAsAncestorName
Class name `Clock` is the same as one of its superclass' names
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
 * As of Oak 1.20, this extends from {@link java.time.Clock}.
 */
public abstract class Clock extends java.time.Clock {

    /**
```

### ClassNameSameAsAncestorName
Class name `Listener` is the same as one of its superclass' names
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/namepath/JcrPathParser.java`
#### Snippet
```java
    }

    public interface Listener extends JcrNameParser.Listener {
        boolean root();
        boolean current();
```

### ClassNameSameAsAncestorName
Class name `JcrRemotingServlet` is the same as one of its superclass' names
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/JcrRemotingServlet.java`
#### Snippet
```java
 * <code>JcrRemotingServlet</code>...
 */
public class JcrRemotingServlet extends org.apache.jackrabbit.server.remoting.davex.JcrRemotingServlet {

    /**
```

### ClassNameSameAsAncestorName
Class name `JCRWebdavServerServlet` is the same as one of its superclass' names
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/JCRWebdavServerServlet.java`
#### Snippet
```java
 * JCRWebdavServer.
 */
public class JCRWebdavServerServlet extends
        org.apache.jackrabbit.webdav.jcr.JCRWebdavServerServlet {

```

### ClassNameSameAsAncestorName
Class name `SimpleWebdavServlet` is the same as one of its superclass' names
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/SimpleWebdavServlet.java`
#### Snippet
```java
 * resources.
 */
public class SimpleWebdavServlet extends org.apache.jackrabbit.webdav.simple.SimpleWebdavServlet {

    /**
```

### ClassNameSameAsAncestorName
Class name `NamespaceConstants` is the same as one of its superclass' names
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/NamespaceConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.namespace.NamespaceConstants} instead.
 */
public interface NamespaceConstants extends org.apache.jackrabbit.oak.spi.namespace.NamespaceConstants {
}
```

### ClassNameSameAsAncestorName
Class name `VersionConstants` is the same as one of its superclass' names
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.version.VersionConstants} instead
 */
public interface VersionConstants extends org.apache.jackrabbit.oak.spi.version.VersionConstants {
}
```

### ClassNameSameAsAncestorName
Class name `NodeTypeConstants` is the same as one of its superclass' names
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.nodetype.NodeTypeConstants} instead
 */
public interface NodeTypeConstants extends org.apache.jackrabbit.oak.spi.nodetype.NodeTypeConstants {
}
```

### ClassNameSameAsAncestorName
Class name `GroupPrincipal` is the same as one of its superclass' names
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
     * Principal representation of this group instance.
     */
    private final class GroupPrincipal extends AbstractGroupPrincipal {

        private GroupPrincipal(String principalName, Tree groupTree) {
```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexDefinition.java`
#### Snippet
```java
     * The built object represents the index definition only without the node structure.
     */
    public static class Builder extends IndexDefinition.Builder {

        private final String indexPrefix;
```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexDefinition.java`
#### Snippet
```java
    }

    public static class Builder extends IndexDefinition.Builder {
        @Override
        public LuceneIndexDefinition build() {
```

### ClassNameSameAsAncestorName
Class name `NodeStateCopyUtils` is the same as one of its superclass' names
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/NodeStateCopyUtils.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.util;

final class NodeStateCopyUtils extends org.apache.jackrabbit.oak.plugins.index.search.util.NodeStateCopyUtils {

}
```

### ClassNameSameAsAncestorName
Class name `ConfigUtil` is the same as one of its superclass' names
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/ConfigUtil.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.util;

public class ConfigUtil extends org.apache.jackrabbit.oak.plugins.index.search.util.ConfigUtil {
}

```

### ClassNameSameAsAncestorName
Class name `FunctionIndexProcessor` is the same as one of its superclass' names
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/FunctionIndexProcessor.java`
#### Snippet
```java
 * definition (XPath) to the internal Polish notation.
 */
public class FunctionIndexProcessor extends org.apache.jackrabbit.oak.plugins.index.search.util.FunctionIndexProcessor {

    private FunctionIndexProcessor(String function) {
```

## RuleId[id=RedundantMethodOverride]
### RedundantMethodOverride
Method `enter()` is identical to its super method
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CrossMountReferenceValidator.java`
#### Snippet
```java

    @Override
    public void enter(NodeState before, NodeState after)
            throws CommitFailedException {
    }
```

### RedundantMethodOverride
Method `getCommitHooks()` is identical to its super method
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAuthorizationConfiguration.java`
#### Snippet
```java
    @NotNull
    @Override
    public List<? extends CommitHook> getCommitHooks(@NotNull String workspaceName) {
        return Collections.emptyList();
    }
```

### RedundantMethodOverride
Method `getMembershipPrincipals()` is identical to its super method
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalProvider.java`
#### Snippet
```java
    @NotNull
    @Override
    public Set<Principal> getMembershipPrincipals(@NotNull Principal principal) {
        // EXERCISE : expose the group membership of your known Principals
        // EXERCISE : add every other principal into one of your known-principal-groups to establish dynamic group membership
```

### RedundantMethodOverride
Method `getWorkspaceInitializer()` is identical to its super method
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
    @NotNull
    @Override
    public WorkspaceInitializer getWorkspaceInitializer() {
        return WorkspaceInitializer.DEFAULT;
    }
```

### RedundantMethodOverride
Method `getContext()` is identical to its super method
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
    @NotNull
    @Override
    public Context getContext() {
        return Context.DEFAULT;
    }
```

### RedundantMethodOverride
Method `getRepositoryInitializer()` is identical to its super method
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
    @NotNull
    @Override
    public RepositoryInitializer getRepositoryInitializer() {
        return RepositoryInitializer.DEFAULT;
    }
```

### RedundantMethodOverride
Method `requiresFullTextIndex()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NotFullTextSearchImpl.java`
#### Snippet
```java

    @Override
    public boolean requiresFullTextIndex() {
        return true;
    }
```

### RedundantMethodOverride
Method `isName()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java

        @Override
        boolean isName() {
            return false;
        }
```

### RedundantMethodOverride
Method `optimize()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        
        @Override
        Expression optimize() {
            return this;
        }
```

### RedundantMethodOverride
Method `isName()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java

        @Override
        boolean isName() {
            return false;
        }
```

### RedundantMethodOverride
Method `isName()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        
        @Override
        boolean isName() {
            return false;
        }
```

### RedundantMethodOverride
Method `isCondition()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
    
        @Override
        boolean isCondition() {
            return false;
        }
```

### RedundantMethodOverride
Method `isName()` is identical to its super method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        
        @Override
        boolean isName() {
            return false;
        }
```

### RedundantMethodOverride
Method `getContext()` only delegates to its super method
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexEditorProvider.java`
#### Snippet
```java

        @Override
        public FulltextIndexEditorContext<D> getContext() {
            return super.getContext();
        }
```

### RedundantMethodOverride
Method `entering()` only delegates to its super method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentEveryoneACLTest.java`
#### Snippet
```java
            }
            @Override
            protected void entering(Property prop, int i) throws RepositoryException {
                super.entering(prop, i);
            }
```

### RedundantMethodOverride
Method `getNamePathMapper()` is identical to its super method
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
            @NotNull
            @Override
            protected NamePathMapper getNamePathMapper() {
                return NamePathMapper.DEFAULT;
            }
```

### RedundantMethodOverride
Method `afterSuite()` is identical to its super method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java

    @Override
    protected void afterSuite() throws Exception {

    }
```

### RedundantMethodOverride
Method `getMembershipPrincipals()` is identical to its super method
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/principal/EmptyPrincipalProvider.java`
#### Snippet
```java
    @NotNull
    @Override
    public Set<Principal> getMembershipPrincipals(@NotNull Principal principal) {
        return Collections.emptySet();
    }
```

## RuleId[id=IntegerMultiplicationImplicitCastToLong]
### IntegerMultiplicationImplicitCastToLong
intervalSec \* 1000: integer multiplication implicitly cast to long
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
            }
            try {
                Thread.sleep(intervalSec * 1000);
            } catch (InterruptedException e) {
                log.error("Interrupted", e);
```

### IntegerMultiplicationImplicitCastToLong
intervalSec \* 1000: integer multiplication implicitly cast to long
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
            }
            try {
                Thread.sleep(intervalSec * 1000);
            } catch (InterruptedException e) {
                log.error("Interrupted", e);
```

### IntegerMultiplicationImplicitCastToLong
s.length() \* 2: integer multiplication implicitly cast to long
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/StringSizeEstimator.java`
#### Snippet
```java
     */
    public static long estimatedSizeOf(String s) {
        return (s.length() * 2) + OBJ_OVERHEAD;
    }

```

### IntegerMultiplicationImplicitCastToLong
(revisions.length + 1 \>\> 1) \<\< 3: integer shift implicitly cast to long
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/RevisionVector.java`
#### Snippet
```java

    private long revisionArrayMemory() {
        return 16 + ((revisions.length + 1 >> 1) << 3);
    }

```

### IntegerMultiplicationImplicitCastToLong
revisions.length \* Revision.SHALLOW_MEMORY_USAGE: integer multiplication implicitly cast to long
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/RevisionVector.java`
#### Snippet
```java
        long size = 24 // shallow size
                + revisionArrayMemory()
                + revisions.length * Revision.SHALLOW_MEMORY_USAGE;
        if (size > Integer.MAX_VALUE) {
            log.debug("Estimated memory footprint larger than Integer.MAX_VALUE: {}.", size);
```

### IntegerMultiplicationImplicitCastToLong
store.getMaxBackOffMillis() \* MAX_LOCK_TRY_TIME_MULTIPLIER: integer multiplication implicitly cast to long
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBranch.java`
#### Snippet
```java
        this.branchState = new Unmodified(checkNotNull(base));
        this.maximumBackoff = Math.max((long) store.getMaxBackOffMillis(), MIN_BACKOFF);
        this.maxLockTryTimeMS = (long) (store.getMaxBackOffMillis() * MAX_LOCK_TRY_TIME_MULTIPLIER);
        this.mergeLock = mergeLock;
        this.updateLimit = store.getUpdateLimit();
```

### IntegerMultiplicationImplicitCastToLong
builder.getMaxFileSize() \* MB: integer multiplication implicitly cast to long
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java
                .withRemoteStoreMonitor(remoteStoreMonitor)
                .withFileStoreMonitor(stats)
                .withMaxFileSize(builder.getMaxFileSize() * MB)
                .withPersistence(builder.getPersistence())
                .withReaderCountStats(readerCountStats)
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java
        if (fix.startsWith(OakFixture.OAK_MEMORY)) {
            if (OakFixture.OAK_MEMORY_NS.equals(fix)) {
                oakFixture = OakFixture.getMemoryNS(cacheSize * MB);
            } else {
                oakFixture = OakFixture.getMemory(cacheSize * MB);
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java
                oakFixture = OakFixture.getMemoryNS(cacheSize * MB);
            } else {
                oakFixture = OakFixture.getMemory(cacheSize * MB);
            }
        } else if (fix.startsWith(OakFixture.OAK_MONGO)) {
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java
                        host.value(options), port.value(options),
                        db, false,
                        cacheSize * MB, throttlingEnabled.value(options));
            } else {
                oakFixture = OakFixture.getMongo(
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java
                oakFixture = OakFixture.getMongo(
                        host.value(options), port.value(options),
                        db, false, cacheSize * MB, throttlingEnabled.value(options));
            }
        } else if (fix.equals(OakFixture.OAK_SEGMENT_TAR)) {
```

### IntegerMultiplicationImplicitCastToLong
resolution \* 10: integer multiplication implicitly cast to long
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/ApproximateCounter.java`
#### Snippet
```java
            return -oldCount;
        }
        if (resolution <= 10 || oldCount < resolution * 10) {
            return calculatedOffset;
        }
```

### IntegerMultiplicationImplicitCastToLong
page \* LIMIT: integer multiplication implicitly cast to long
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/PaginationEnabledSearcher.java`
#### Snippet
```java
            Query query = getQuery(qm, context);
            query.setLimit(LIMIT);
            query.setOffset(page * LIMIT);

            iterate(query);
```

### IntegerMultiplicationImplicitCastToLong
100 \* tries: integer multiplication implicitly cast to long
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
            if (bucketExists) break;
            try {
                Thread.sleep(100 * tries);
            }
            catch (InterruptedException e) { }
```

### IntegerMultiplicationImplicitCastToLong
expirySeconds \* 1000: integer multiplication implicitly cast to long
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        try {
            final Date expiration = new Date();
            expiration.setTime(expiration.getTime() + expirySeconds * 1000);

            GeneratePresignedUrlRequest request = new GeneratePresignedUrlRequest(bucket, key)
```

### IntegerMultiplicationImplicitCastToLong
EXTRACTION_TIMEOUT_SECONDS \* 1000: integer multiplication implicitly cast to long
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
    private volatile ExecutorService executorService;
    private volatile int timeoutCount;
    private long extractionTimeoutMillis = EXTRACTION_TIMEOUT_SECONDS * 1000;

    public ExtractedTextCache(long maxWeight, long expiryTimeInSecs){
```

### IntegerMultiplicationImplicitCastToLong
24 \* COUNT: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ISO8601FormatterTest.java`
#### Snippet
```java
            }
        }
        if (chars != 24 * COUNT && chars != 28 * COUNT) {
            System.err.println("formatted strings did not have the expected length: " + chars);
        }
```

### IntegerMultiplicationImplicitCastToLong
28 \* COUNT: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ISO8601FormatterTest.java`
#### Snippet
```java
            }
        }
        if (chars != 24 * COUNT && chars != 28 * COUNT) {
            System.err.println("formatted strings did not have the expected length: " + chars);
        }
```

### IntegerMultiplicationImplicitCastToLong
numNodes \* 1000: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
                time = System.currentTimeMillis() - time;
                if (this == writer && VERBOSE) {
                    long perSecond = numNodes * 1000 / time;
                    System.out.println("Created " + numNodes + " in " + time + " ms. (" + perSecond + " nodes/sec)");
                }
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
        RepositoryFixture[] allFixtures = new RepositoryFixture[]{
                new JackrabbitRepositoryFixture(benchmarkOptions.getBase().value(options), cacheSize),
                OakRepositoryFixture.getMemoryNS(cacheSize * MB),
                OakRepositoryFixture.getMongo(uri, benchmarkOptions.getDropDBAfterTest().value(options),
                        cacheSize * MB, benchmarkOptions.isThrottlingEnabled().value(options)),
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
                OakRepositoryFixture.getMemoryNS(cacheSize * MB),
                OakRepositoryFixture.getMongo(uri, benchmarkOptions.getDropDBAfterTest().value(options),
                        cacheSize * MB, benchmarkOptions.isThrottlingEnabled().value(options)),
                OakRepositoryFixture.getMongoWithDS(uri,
                        benchmarkOptions.getDropDBAfterTest().value(options),
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
                OakRepositoryFixture.getMongoWithDS(uri,
                        benchmarkOptions.getDropDBAfterTest().value(options),
                        cacheSize * MB,
                        benchmarkOptions.getBase().value(options),
                        benchmarkOptions.getFdsCache().value(options), benchmarkOptions.isThrottlingEnabled().value(options)),
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
                OakRepositoryFixture.getMongoNS(uri,
                        benchmarkOptions.getDropDBAfterTest().value(options),
                        cacheSize * MB, benchmarkOptions.isThrottlingEnabled().value(options)),
                OakRepositoryFixture.getSegmentTar(benchmarkOptions.getBase().value(options), 256, cacheSize,
                        benchmarkOptions.getMmap().value(options), benchmarkOptions.getBinariesInlineThreshold().value(options)),
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
                        benchmarkOptions.getRdbjdbcuser().value(options),
                        benchmarkOptions.getRdbjdbcpasswd().value(options), benchmarkOptions.getRdbjdbctableprefix().value(options),
                        benchmarkOptions.getDropDBAfterTest().value(options), cacheSize * MB, benchmarkOptions.getVgcMaxAge().value(options)),
                OakRepositoryFixture.getRDBWithDS(benchmarkOptions.getRdbjdbcuri().value(options),
                        benchmarkOptions.getRdbjdbcuser().value(options),
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
                        benchmarkOptions.getRdbjdbcuser().value(options),
                        benchmarkOptions.getRdbjdbcpasswd().value(options), benchmarkOptions.getRdbjdbctableprefix().value(options),
                        benchmarkOptions.getDropDBAfterTest().value(options), cacheSize * MB, benchmarkOptions.getBase().value(options),
                        benchmarkOptions.getFdsCache().value(options), benchmarkOptions.getVgcMaxAge().value(options)),
                OakRepositoryFixture.getCompositeStore(benchmarkOptions.getBase().value(options), 256, cacheSize,
```

### IntegerMultiplicationImplicitCastToLong
cacheSize \* MB: integer multiplication implicitly cast to long
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
                        benchmarkOptions.getMmap().value(options), benchmarkOptions.getBinariesInlineThreshold().value(options)),
                OakRepositoryFixture.getCompositeMemoryStore(),
                OakRepositoryFixture.getCompositeMongoStore(uri, cacheSize * MB,
                        benchmarkOptions.getDropDBAfterTest().value(options), benchmarkOptions.isThrottlingEnabled().value(options))
        };
```

## RuleId[id=UNUSED_IMPORT]
### UNUSED_IMPORT
Unused import `import javax.management.openmbean.CompositeData;`
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/CheckpointMBean.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.api.jmx;

import javax.management.openmbean.CompositeData;
import javax.management.openmbean.TabularData;

```

### UNUSED_IMPORT
Unused import `import javax.management.openmbean.TabularData;`
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/CopyOnWriteStoreMBean.java`
#### Snippet
```java
import org.osgi.annotation.versioning.ProviderType;

import javax.management.openmbean.TabularData;

/**
```

### UNUSED_IMPORT
Unused import `import java.util.HashSet;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java
import javax.jcr.query.QueryResult;
import javax.jcr.security.Privilege;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
```

### UNUSED_IMPORT
Unused import `import java.util.Collection;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
import java.security.Principal;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashSet;
import java.util.List;
```

### UNUSED_IMPORT
Unused import `import java.util.HashSet;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashSet;
import java.util.List;
import java.util.Set;
```

### UNUSED_IMPORT
Unused import `import java.util.Set;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
import java.util.HashSet;
import java.util.List;
import java.util.Set;

/**
```

### UNUSED_IMPORT
Unused import `import javax.jcr.LoginException;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.benchmark;

import javax.jcr.LoginException;
import javax.jcr.Node;
import javax.jcr.Repository;
```

### UNUSED_IMPORT
Unused import `import com.google.common.base.Strings;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakIndexUtils.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.benchmark.util;

import com.google.common.base.Strings;
import com.google.common.collect.Lists;
import org.apache.jackrabbit.JcrConstants;
```

### UNUSED_IMPORT
Unused import `import com.google.common.collect.Lists;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakIndexUtils.java`
#### Snippet
```java

import com.google.common.base.Strings;
import com.google.common.collect.Lists;
import org.apache.jackrabbit.JcrConstants;
import org.apache.jackrabbit.commons.JcrUtils;
```

### UNUSED_IMPORT
Unused import `import java.util.List;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakIndexUtils.java`
#### Snippet
```java

import java.util.Arrays;
import java.util.List;
import java.util.Map;

```

### UNUSED_IMPORT
Unused import `import java.util.Map;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakIndexUtils.java`
#### Snippet
```java
import java.util.Arrays;
import java.util.List;
import java.util.Map;

/**
```

### UNUSED_IMPORT
Unused import `import static org.apache.jackrabbit.oak.commons.IOUtils.closeQuietly;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/run/Main.java`
#### Snippet
```java

import static java.util.Arrays.copyOfRange;
import static org.apache.jackrabbit.oak.commons.IOUtils.closeQuietly;

public final class Main {
```

### UNUSED_IMPORT
Unused import `import java.util.ArrayList;`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
import java.io.IOException;
import java.io.PrintStream;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Iterator;
```

### UNUSED_IMPORT
Unused import `import java.util.ArrayList;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.Collection;
import java.util.List;
```

### UNUSED_IMPORT
Unused import `import java.util.stream.Collectors;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import java.util.UUID;
import java.util.concurrent.TimeUnit;
import java.util.stream.Collectors;
import java.util.stream.StreamSupport;
import static com.google.common.collect.Iterables.addAll;
```

### UNUSED_IMPORT
Unused import `import java.util.stream.StreamSupport;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;
import java.util.stream.Collectors;
import java.util.stream.StreamSupport;
import static com.google.common.collect.Iterables.addAll;
import static com.google.common.collect.Lists.newArrayList;
```

### UNUSED_IMPORT
Unused import `import static com.google.common.collect.Iterables.addAll;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import java.util.stream.Collectors;
import java.util.stream.StreamSupport;
import static com.google.common.collect.Iterables.addAll;
import static com.google.common.collect.Lists.newArrayList;
import static com.google.common.collect.Lists.newCopyOnWriteArrayList;
```

### UNUSED_IMPORT
Unused import `import static com.google.common.collect.Lists.newCopyOnWriteArrayList;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import static com.google.common.collect.Iterables.addAll;
import static com.google.common.collect.Lists.newArrayList;
import static com.google.common.collect.Lists.newCopyOnWriteArrayList;
import static com.google.common.collect.Maps.newConcurrentMap;
import static com.google.common.collect.Maps.newHashMap;
```

### UNUSED_IMPORT
Unused import `import static com.google.common.collect.Maps.newHashMap;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import static com.google.common.collect.Lists.newCopyOnWriteArrayList;
import static com.google.common.collect.Maps.newConcurrentMap;
import static com.google.common.collect.Maps.newHashMap;
import static java.util.Collections.emptyMap;
import static java.util.Collections.singletonMap;
```

### UNUSED_IMPORT
Unused import `import static java.util.stream.Collectors.toList;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import static java.util.Collections.emptyMap;
import static java.util.Collections.singletonMap;
import static java.util.stream.Collectors.toList;
import static java.util.stream.StreamSupport.stream;

```

### UNUSED_IMPORT
Unused import `import static java.util.stream.StreamSupport.stream;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/BranchNodeStore.java`
#### Snippet
```java
import static java.util.Collections.singletonMap;
import static java.util.stream.Collectors.toList;
import static java.util.stream.StreamSupport.stream;

public class BranchNodeStore implements NodeStore, Observable {
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexMBeanRegistration.java`
#### Snippet
```java

import com.google.common.collect.Lists;
import org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils;

public class IndexMBeanRegistration implements Registration {
```

### UNUSED_IMPORT
Unused import `import com.google.common.collect.Iterators;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexPathServiceImpl.java`
#### Snippet
```java

import com.google.common.collect.Iterables;
import com.google.common.collect.Iterators;
import org.apache.jackrabbit.oak.commons.PathUtils;
import org.apache.jackrabbit.oak.plugins.index.nodetype.NodeTypeIndexProvider;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexPathServiceImpl.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.query.IndexRow;
import org.apache.jackrabbit.oak.spi.query.QueryIndex;
import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;
import org.apache.jackrabbit.oak.spi.state.NodeState;
import org.apache.jackrabbit.oak.spi.state.NodeStateUtils;
```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.plugins.tree.TreeUtil;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/FilteringAwareObserver.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeState;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

/**
```

### UNUSED_IMPORT
Unused import `import static com.google.common.base.Preconditions.checkNotNull;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/OrphanedVersionCleaner.java`
#### Snippet
```java
import java.util.Set;

import static com.google.common.base.Preconditions.checkNotNull;
import static org.apache.jackrabbit.JcrConstants.JCR_SYSTEM;
import static org.apache.jackrabbit.JcrConstants.JCR_VERSIONSTORAGE;
```

### UNUSED_IMPORT
Unused import `import java.util.Optional;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
import java.util.Collections;
import java.util.List;
import java.util.Optional;
import java.util.Set;
import java.util.concurrent.TimeUnit;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.query.index.FilterImpl;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/plan/SelectorExecutionPlan.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.query.ast.SelectorImpl;
import org.apache.jackrabbit.oak.query.index.FilterImpl;
import org.apache.jackrabbit.oak.spi.query.QueryIndex;
import org.apache.jackrabbit.oak.spi.query.QueryIndex.AdvancedQueryIndex;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.spi.query.QueryIndex.AdvancedQueryIndex;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/plan/SelectorExecutionPlan.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.query.index.FilterImpl;
import org.apache.jackrabbit.oak.spi.query.QueryIndex;
import org.apache.jackrabbit.oak.spi.query.QueryIndex.AdvancedQueryIndex;
import org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan;

```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.namepath.PathMapper;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenProviderImpl.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.Tree;
import org.apache.jackrabbit.oak.namepath.NamePathMapper;
import org.apache.jackrabbit.oak.namepath.PathMapper;
import org.apache.jackrabbit.oak.plugins.identifier.IdentifierManager;
import org.apache.jackrabbit.oak.plugins.tree.TreeAware;
```

### UNUSED_IMPORT
Unused import `import java.util.Iterator;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/ChildOrderDiff.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.security.authorization.permission;

import java.util.Iterator;
import java.util.Set;

```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/ChildOrderDiff.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.plugins.tree.TreeConstants;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

import static com.google.common.collect.Sets.newLinkedHashSet;
```

### UNUSED_IMPORT
Unused import `import static org.apache.jackrabbit.oak.api.CommitFailedException.ACCESS;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/MoveAwarePermissionValidator.java`
#### Snippet
```java
import org.jetbrains.annotations.Nullable;

import static org.apache.jackrabbit.oak.api.CommitFailedException.ACCESS;

public class MoveAwarePermissionValidator extends PermissionValidator {
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.api.Type;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/ResultRowToAuthorizable.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.Root;
import org.apache.jackrabbit.oak.api.Tree;
import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.security.user.UserManagerImpl;
import org.apache.jackrabbit.oak.spi.query.QueryConstants;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.spi.query.QueryConstants;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/ResultRowToAuthorizable.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.security.user.UserManagerImpl;
import org.apache.jackrabbit.oak.spi.query.QueryConstants;
import org.apache.jackrabbit.oak.spi.security.user.AuthorizableType;
import org.apache.jackrabbit.oak.spi.security.user.util.UserUtil;
```

### UNUSED_IMPORT
Unused import `import javax.management.openmbean.CompositeData;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/AbstractCheckpointMBean.java`
#### Snippet
```java

import javax.management.openmbean.ArrayType;
import javax.management.openmbean.CompositeData;
import javax.management.openmbean.CompositeDataSupport;
import javax.management.openmbean.CompositeType;
```

### UNUSED_IMPORT
Unused import `import javax.management.openmbean.SimpleType;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/AbstractCheckpointMBean.java`
#### Snippet
```java
import javax.management.openmbean.OpenDataException;
import javax.management.openmbean.OpenType;
import javax.management.openmbean.SimpleType;
import javax.management.openmbean.TabularData;
import javax.management.openmbean.TabularDataSupport;
```

### UNUSED_IMPORT
Unused import `import com.google.common.collect.Maps;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/AbstractCheckpointMBean.java`
#### Snippet
```java
import javax.management.openmbean.TabularType;

import com.google.common.collect.Maps;
import org.apache.jackrabbit.oak.api.jmx.CheckpointMBean;

```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiWhiteboard.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;
import org.osgi.framework.BundleContext;
import org.osgi.framework.Filter;
```

### UNUSED_IMPORT
Unused import `import static com.google.common.collect.Sets.newHashSet;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
import static com.google.common.base.Preconditions.checkNotNull;
import static com.google.common.collect.Iterables.transform;
import static com.google.common.collect.Sets.newHashSet;
import static com.google.common.collect.Sets.newTreeSet;
import static org.apache.jackrabbit.oak.commons.PathUtils.getParentPath;
```

### UNUSED_IMPORT
Unused import `import org.slf4j.Logger;`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/Reader.java`
#### Snippet
```java

import org.jetbrains.annotations.NotNull;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

```

### UNUSED_IMPORT
Unused import `import org.slf4j.LoggerFactory;`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/Reader.java`
#### Snippet
```java
import org.jetbrains.annotations.NotNull;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class Reader implements Principal {
```

### UNUSED_IMPORT
Unused import `import java.io.IOException;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexEditorContext.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene;

import java.io.IOException;

import org.apache.jackrabbit.oak.plugins.index.IndexUpdateCallback;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.directory;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.hybrid;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.property;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.reader;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.api.Type;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexDefinitionBuilder.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.util;

import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexConstants;
import org.apache.jackrabbit.oak.plugins.index.search.FulltextIndexConstants;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexConstants;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexDefinitionBuilder.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexConstants;
import org.apache.jackrabbit.oak.plugins.index.search.FulltextIndexConstants;
import org.apache.jackrabbit.oak.plugins.index.search.util.IndexDefinitionBuilder;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.index.search.FulltextIndexConstants;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexDefinitionBuilder.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexConstants;
import org.apache.jackrabbit.oak.plugins.index.search.FulltextIndexConstants;
import org.apache.jackrabbit.oak.plugins.index.search.util.IndexDefinitionBuilder;
import org.apache.jackrabbit.oak.spi.state.NodeBuilder;
```

### UNUSED_IMPORT
Unused import `import java.util.Arrays;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexDefinitionBuilder.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeBuilder;

import java.util.Arrays;

import static org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexConstants.TYPE_LUCENE;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.util.fv;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.util;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.lucene.writer;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.apache.commons.csv.CSVFormat;`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
import com.google.common.io.Closer;
import com.google.common.io.Files;
import org.apache.commons.csv.CSVFormat;
import org.apache.commons.csv.CSVPrinter;
import org.slf4j.Logger;
```

### UNUSED_IMPORT
Unused import `import com.google.common.base.Function;`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

import com.google.common.base.Charsets;
import com.google.common.base.Function;
import com.google.common.base.Joiner;
import com.google.common.base.Splitter;
```

### UNUSED_IMPORT
Unused import `import java.util.zip.ZipInputStream;`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
import java.util.zip.GZIPInputStream;
import java.util.zip.ZipException;
import java.util.zip.ZipInputStream;

import joptsimple.OptionParser;
```

### UNUSED_IMPORT
Unused import `import java.util.function.Predicate;`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java
import java.util.Iterator;
import java.util.function.Consumer;
import java.util.function.Predicate;

import static com.google.common.collect.Iterables.concat;
```

### UNUSED_IMPORT
Unused import `import static org.apache.jackrabbit.oak.index.indexer.document.flatfile.FlatFileNodeStoreBuilder.DEF...`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java

import static org.apache.jackrabbit.oak.index.indexer.document.flatfile.FlatFileNodeStoreBuilder.*;
import static org.apache.jackrabbit.oak.index.indexer.document.flatfile.FlatFileNodeStoreBuilder.DEFAULT_NUMBER_OF_MERGE_TASK_THREADS;
import static org.apache.jackrabbit.oak.index.indexer.document.flatfile.FlatFileStoreUtils.getSortedStoreFileName;
import static org.apache.jackrabbit.oak.plugins.document.mongo.MongoDocumentTraverser.TraversingRange;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.index.property.OrderedPropertyIndexEditorProvider;`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.plugins.index.IndexUpdateProvider;
import org.apache.jackrabbit.oak.plugins.index.counter.NodeCounterEditorProvider;
import org.apache.jackrabbit.oak.plugins.index.property.OrderedPropertyIndexEditorProvider;
import org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexEditorProvider;
import org.apache.jackrabbit.oak.plugins.index.reference.ReferenceEditorProvider;
```

### UNUSED_IMPORT
Unused import `import java.util.UUID;`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
import java.util.Map;
import java.util.Properties;
import java.util.UUID;

import com.google.common.collect.Maps;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search.spi.binary;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search.spi.editor;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search.spi.query;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/update/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search.update;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.osgi.annotation.versioning.Version;`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search.util;

import org.osgi.annotation.versioning.Version;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.index.search.ReindexOperations;`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexImporter.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.CommitFailedException;
import org.apache.jackrabbit.oak.plugins.index.importer.IndexImporterProvider;
import org.apache.jackrabbit.oak.plugins.index.search.ReindexOperations;
import org.apache.jackrabbit.oak.spi.state.NodeBuilder;
import org.apache.jackrabbit.oak.spi.state.NodeState;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.index.IndexConstants;`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticBulkProcessorHandler.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.PropertyState;
import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.plugins.index.IndexConstants;
import org.apache.jackrabbit.oak.plugins.index.elastic.ElasticConnection;
import org.apache.jackrabbit.oak.plugins.index.elastic.ElasticIndexDefinition;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.index.importer.AsyncLaneSwitcher;`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticBulkProcessorHandler.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.plugins.index.elastic.ElasticConnection;
import org.apache.jackrabbit.oak.plugins.index.elastic.ElasticIndexDefinition;
import org.apache.jackrabbit.oak.plugins.index.importer.AsyncLaneSwitcher;
import org.apache.jackrabbit.oak.plugins.index.search.IndexDefinition;
import org.apache.jackrabbit.oak.spi.commit.CommitInfo;
```

### UNUSED_IMPORT
Unused import `import com.google.common.base.Suppliers;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreRestoreImpl.java`
#### Snippet
```java

import com.google.common.base.Stopwatch;
import com.google.common.base.Suppliers;
import org.apache.jackrabbit.oak.backup.FileStoreRestore;
import org.apache.jackrabbit.oak.segment.DefaultSegmentWriter;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.api.stats.RepositoryStatistics;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java

import com.google.common.io.Closer;
import org.apache.jackrabbit.api.stats.RepositoryStatistics;
import org.apache.jackrabbit.api.stats.TimeSeries;
import org.apache.jackrabbit.oak.osgi.OsgiUtil;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.api.stats.TimeSeries;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
import com.google.common.io.Closer;
import org.apache.jackrabbit.api.stats.RepositoryStatistics;
import org.apache.jackrabbit.api.stats.TimeSeries;
import org.apache.jackrabbit.oak.osgi.OsgiUtil;
import org.apache.jackrabbit.oak.osgi.OsgiWhiteboard;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.stats.CounterStats;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.whiteboard.Registration;
import org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard;
import org.apache.jackrabbit.oak.stats.CounterStats;
import org.apache.jackrabbit.oak.stats.HistogramStats;
import org.apache.jackrabbit.oak.stats.MeterStats;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.stats.HistogramStats;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard;
import org.apache.jackrabbit.oak.stats.CounterStats;
import org.apache.jackrabbit.oak.stats.HistogramStats;
import org.apache.jackrabbit.oak.stats.MeterStats;
import org.apache.jackrabbit.oak.stats.StatisticsProvider;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.stats.MeterStats;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.stats.CounterStats;
import org.apache.jackrabbit.oak.stats.HistogramStats;
import org.apache.jackrabbit.oak.stats.MeterStats;
import org.apache.jackrabbit.oak.stats.StatisticsProvider;
import org.apache.jackrabbit.oak.stats.StatsOptions;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.stats.StatsOptions;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.stats.MeterStats;
import org.apache.jackrabbit.oak.stats.StatisticsProvider;
import org.apache.jackrabbit.oak.stats.StatsOptions;
import org.apache.jackrabbit.oak.stats.TimerStats;
import org.osgi.framework.BundleContext;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.stats.TimerStats;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.stats.StatisticsProvider;
import org.apache.jackrabbit.oak.stats.StatsOptions;
import org.apache.jackrabbit.oak.stats.TimerStats;
import org.osgi.framework.BundleContext;
import org.osgi.service.component.ComponentContext;
```

### UNUSED_IMPORT
Unused import `import static com.google.common.base.Preconditions.checkArgument;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreBuilder.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.segment.file;

import static com.google.common.base.Preconditions.checkArgument;
import static com.google.common.base.Preconditions.checkNotNull;
import static com.google.common.base.Preconditions.checkState;
```

### UNUSED_IMPORT
Unused import `import java.util.concurrent.TimeUnit;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/cancel/ConditionCanceller.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.segment.file.cancel;

import java.util.concurrent.TimeUnit;
import java.util.function.BooleanSupplier;

```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/proc/CommitNode.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.PropertyState;
import org.apache.jackrabbit.oak.api.Type;
import org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState;
import org.apache.jackrabbit.oak.plugins.memory.MemoryChildNodeEntry;
import org.apache.jackrabbit.oak.plugins.memory.PropertyStates;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.spi.state.NodeState;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/proc/CommitNode.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.segment.file.proc.Proc.Backend.Commit;
import org.apache.jackrabbit.oak.spi.state.ChildNodeEntry;
import org.apache.jackrabbit.oak.spi.state.NodeState;
import org.jetbrains.annotations.NotNull;

```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.segment.file.tar.index.IndexEntry;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/GCGeneration.java`
#### Snippet
```java

import com.google.common.base.Objects;
import org.apache.jackrabbit.oak.segment.file.tar.index.IndexEntry;
import org.apache.jackrabbit.oak.segment.spi.persistence.SegmentArchiveEntry;
import org.jetbrains.annotations.NotNull;
```

### UNUSED_IMPORT
Unused import `import java.util.concurrent.Callable;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java

import java.io.IOException;
import java.util.concurrent.Callable;
import java.util.function.BiConsumer;

```

### UNUSED_IMPORT
Unused import `import java.util.function.BiConsumer;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/SegmentArchiveWriter.java`
#### Snippet
```java
import java.io.IOException;
import java.util.concurrent.Callable;
import java.util.function.BiConsumer;

import org.apache.jackrabbit.oak.commons.Buffer;
```

### UNUSED_IMPORT
Unused import `import java.io.IOException;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyDiff.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState.EMPTY_NODE;

import java.io.IOException;
import java.io.InputStream;

```

### UNUSED_IMPORT
Unused import `import java.io.InputStream;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyDiff.java`
#### Snippet
```java

import java.io.IOException;
import java.io.InputStream;

import com.google.common.base.Supplier;
```

### UNUSED_IMPORT
Unused import `import io.netty.handler.codec.marshalling.DefaultMarshallerProvider;`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/CommunicationObserver.java`
#### Snippet
```java
import javax.management.StandardMBean;

import io.netty.handler.codec.marshalling.DefaultMarshallerProvider;
import org.apache.jackrabbit.oak.segment.standby.jmx.ObservablePartnerMBean;
import org.apache.jackrabbit.oak.segment.standby.jmx.StandbyStatusMBean;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.memory.MemoryNodeBuilder;`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeBuilder.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.commons.PathUtils;
import org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState;
import org.apache.jackrabbit.oak.plugins.memory.MemoryNodeBuilder;
import org.apache.jackrabbit.oak.spi.state.NodeBuilder;
import org.apache.jackrabbit.oak.spi.state.NodeState;
```

### UNUSED_IMPORT
Unused import `import org.osgi.service.component.annotations.ReferenceCardinality;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
import org.osgi.service.component.annotations.Deactivate;
import org.osgi.service.component.annotations.Reference;
import org.osgi.service.component.annotations.ReferenceCardinality;
import org.osgi.service.component.annotations.ReferencePolicy;
import org.slf4j.Logger;
```

### UNUSED_IMPORT
Unused import `import org.osgi.service.component.annotations.ReferencePolicy;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
import org.osgi.service.component.annotations.Reference;
import org.osgi.service.component.annotations.ReferenceCardinality;
import org.osgi.service.component.annotations.ReferencePolicy;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.commons.PathUtils;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ExternalChange.java`
#### Snippet
```java
import java.util.function.Consumer;

import org.apache.jackrabbit.oak.commons.PathUtils;
import org.apache.jackrabbit.oak.commons.sort.StringSort;
import org.apache.jackrabbit.oak.plugins.document.util.Utils;
```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.NotNull;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevs.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.plugins.document.util.Utils;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.document.util.Utils;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/PathComparator.java`
#### Snippet
```java
import java.util.Comparator;

import org.apache.jackrabbit.oak.plugins.document.util.Utils;

/**
```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/PrefetchDispatcher.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeState;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

import static com.google.common.base.Preconditions.checkNotNull;
```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundlingConfigHandler.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeState;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
```

### UNUSED_IMPORT
Unused import `import com.google.common.collect.Lists;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundlorUtils.java`
#### Snippet
```java
import com.google.common.base.Predicate;
import com.google.common.collect.ImmutableList;
import com.google.common.collect.Lists;
import com.google.common.collect.Maps;
import com.google.common.collect.Sets;
```

### UNUSED_IMPORT
Unused import `import com.mongodb.client.MongoCollection;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoBlobReferenceIterator.java`
#### Snippet
```java

import com.mongodb.BasicDBObject;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoCursor;
import com.mongodb.client.model.Filters;
```

### UNUSED_IMPORT
Unused import `import java.util.Arrays;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoUtils.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.document.mongo;

import java.util.Arrays;
import java.util.Set;
import java.util.stream.Collectors;
```

### UNUSED_IMPORT
Unused import `import java.util.stream.Collectors;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoUtils.java`
#### Snippet
```java
import java.util.Arrays;
import java.util.Set;
import java.util.stream.Collectors;

import com.google.common.collect.Sets;
```

### UNUSED_IMPORT
Unused import `import com.mongodb.connection.ServerVersion;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoUtils.java`
#### Snippet
```java
import com.mongodb.client.MongoCollection;
import com.mongodb.client.model.IndexOptions;
import com.mongodb.connection.ServerVersion;
import com.mongodb.internal.connection.MongoWriteConcernWithResponseException;

```

### UNUSED_IMPORT
Unused import `import com.mongodb.util.JSON;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/RevisionEntry.java`
#### Snippet
```java
import com.mongodb.BasicDBObject;
import com.mongodb.DBObject;
import com.mongodb.util.JSON;

import static com.google.common.base.Preconditions.checkNotNull;
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.plugins.document.DocumentStore;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/package-info.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.document.rdb;

import org.apache.jackrabbit.oak.plugins.document.DocumentStore;
import org.apache.jackrabbit.oak.spi.blob.BlobStore;

```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.spi.blob.BlobStore;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/package-info.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.plugins.document.DocumentStore;
import org.apache.jackrabbit.oak.spi.blob.BlobStore;


```

### UNUSED_IMPORT
Unused import `import java.util.Collection;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonSerializer.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.api.Type.STRING;

import java.util.Collection;
import java.util.Collections;
import java.util.List;
```

### UNUSED_IMPORT
Unused import `import org.jetbrains.annotations.Nullable;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ChangeDispatcher.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeState;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

/**
```

### UNUSED_IMPORT
Unused import `import org.apache.jackrabbit.oak.commons.PathUtils;`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/nodestate/MetadataExposingNodeState.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.api.PropertyState;
import org.apache.jackrabbit.oak.commons.PathUtils;
import org.apache.jackrabbit.oak.plugins.document.AbstractDocumentNodeState;
import org.apache.jackrabbit.oak.plugins.migration.AbstractDecoratedNodeState;
```

## RuleId[id=ReplaceAssignmentWithOperatorAssignment]
### ReplaceAssignmentWithOperatorAssignment
`result = result + 31 * tag` could be simplified to 'result += 31 \* tag'
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Type.java`
#### Snippet
```java
        int result = 1;

        result = result + 31 * tag;
        result = result + 31 * hashCode(array);

```

### ReplaceAssignmentWithOperatorAssignment
`result = result + 31 * hashCode(array)` could be simplified to 'result += 31 \* hashCode(array)'
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Type.java`
#### Snippet
```java

        result = result + 31 * tag;
        result = result + 31 * hashCode(array);

        return result;
```

### ReplaceAssignmentWithOperatorAssignment
`ms = ms + 1000` could be simplified to 'ms += 1000'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
                // adjusting the ns timestamp ahead so that the reported time
                // will stall until the clock would again move ahead.
                ms = ms + 1000; // the 1s clock sync interval from above
                ns = nowns + (ms - nowms) * NS_IN_MS;
            }
```

### ReplaceAssignmentWithOperatorAssignment
`time = time / 1000` could be simplified to 'time /= 1000'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/DebugTimer.java`
#### Snippet
```java
            double time = t.time;
            while (time > 1000 && u<units.length-1) {
                time = time / 1000;
                u++;
            }
```

### ReplaceAssignmentWithOperatorAssignment
`ts = ts + duration` could be simplified to 'ts += duration'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGCSupport.java`
#### Snippet
```java
            else {
                // so, there are no delete candidates older than "ts + duration"
                ts = ts + duration;
                duration /= 2;
            }
```

### ReplaceAssignmentWithOperatorAssignment
`fromKey = fromKey + "a"` could be simplified to 'fromKey += "a"'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
        //name to create a proper id
        if(fromKey.endsWith("/")){
            fromKey = fromKey + "a";
        }
        return getParentId(fromKey);
```

### ReplaceAssignmentWithOperatorAssignment
`throttleTime = throttleTime * 8` could be simplified to 'throttleTime \*= 8'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoThrottlerFactory.java`
#### Snippet
```java

            if (fuzzyCompare(oplogWindow,threshold/8,  0.001) <= 0) {
                throttleTime = throttleTime * 8;
            } else if (fuzzyCompare(oplogWindow,threshold/4, 0.001) <= 0) {
                throttleTime = throttleTime * 4;
```

### ReplaceAssignmentWithOperatorAssignment
`throttleTime = throttleTime * 4` could be simplified to 'throttleTime \*= 4'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoThrottlerFactory.java`
#### Snippet
```java
                throttleTime = throttleTime * 8;
            } else if (fuzzyCompare(oplogWindow,threshold/4, 0.001) <= 0) {
                throttleTime = throttleTime * 4;
            } else if (fuzzyCompare(oplogWindow, threshold/2, 0.001) <= 0) {
                throttleTime = throttleTime * 2;
```

### ReplaceAssignmentWithOperatorAssignment
`throttleTime = throttleTime * 2` could be simplified to 'throttleTime \*= 2'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoThrottlerFactory.java`
#### Snippet
```java
                throttleTime = throttleTime * 4;
            } else if (fuzzyCompare(oplogWindow, threshold/2, 0.001) <= 0) {
                throttleTime = throttleTime * 2;
            } else if (fuzzyCompare(oplogWindow, threshold,0.001) <= 0) {
                throttleTime = throttlingTime;
```

### ReplaceAssignmentWithOperatorAssignment
`gcInfo = gcInfo + format( "This is greater than sizeDeltaEstimation=%s, so running g...` could be simplified to 'gcInfo += format( "This is greater than sizeDeltaEstimation=%s, so running garbage collection", newPrintableBytes(context.getSizeDelta()) )'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TailSizeDeltaEstimationStrategy.java`
#### Snippet
```java
        );
        if (gcNeeded) {
            gcInfo = gcInfo + format(
                "This is greater than sizeDeltaEstimation=%s, so running garbage collection",
                newPrintableBytes(context.getSizeDelta())
            );
        } else {
            gcInfo = gcInfo + format(
```

### ReplaceAssignmentWithOperatorAssignment
`gcInfo = gcInfo + format( "This is less than sizeDeltaEstimation=%s, so skipping gar...` could be simplified to 'gcInfo += format( "This is less than sizeDeltaEstimation=%s, so skipping garbage collection", newPrintableBytes(context.getSizeDelta()) )'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TailSizeDeltaEstimationStrategy.java`
#### Snippet
```java
            );
        } else {
            gcInfo = gcInfo + format(
                "This is less than sizeDeltaEstimation=%s, so skipping garbage collection",
                newPrintableBytes(context.getSizeDelta())
            );
        }
        return new EstimationResult(gcNeeded, gcInfo);
```

### ReplaceAssignmentWithOperatorAssignment
`gcInfo = gcInfo + format( "This is greater than sizeDeltaEstimation=%s, so running g...` could be simplified to 'gcInfo += format( "This is greater than sizeDeltaEstimation=%s, so running garbage collection", newPrintableBytes(context.getSizeDelta()) )'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FullSizeDeltaEstimationStrategy.java`
#### Snippet
```java
        );
        if (gcNeeded) {
            gcInfo = gcInfo + format(
                "This is greater than sizeDeltaEstimation=%s, so running garbage collection",
                newPrintableBytes(context.getSizeDelta())
            );
        } else {
            gcInfo = gcInfo + format(
```

### ReplaceAssignmentWithOperatorAssignment
`gcInfo = gcInfo + format( "This is less than sizeDeltaEstimation=%s, so skipping gar...` could be simplified to 'gcInfo += format( "This is less than sizeDeltaEstimation=%s, so skipping garbage collection", newPrintableBytes(context.getSizeDelta()) )'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FullSizeDeltaEstimationStrategy.java`
#### Snippet
```java
            );
        } else {
            gcInfo = gcInfo + format(
                "This is less than sizeDeltaEstimation=%s, so skipping garbage collection",
                newPrintableBytes(context.getSizeDelta())
            );
        }
        return new EstimationResult(gcNeeded, gcInfo);
```

### ReplaceAssignmentWithOperatorAssignment
`mask = (byte) (mask | (1 << 0))` could be simplified to 'mask \|= (1 \<\< 0)'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = 0;
        if (offset == 0) {
            mask = (byte) (mask | (1 << 0));
        }

```

### ReplaceAssignmentWithOperatorAssignment
`mask = (byte) (mask | (1 << 1))` could be simplified to 'mask \|= (1 \<\< 1)'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java

        if (offset + bytesRead == length) {
            mask = (byte) (mask | (1 << 1));
        }

```

### ReplaceAssignmentWithOperatorAssignment
`checked = checked | traverse(blob, checkBinaries)` could be simplified to 'checked \|= traverse(blob, checkBinaries)'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
                } else if (type == BINARIES) {
                    for (Blob blob : propertyState.getValue(BINARIES)) {
                        checked = checked | traverse(blob, checkBinaries);
                    }
                } else {
```

### ReplaceAssignmentWithOperatorAssignment
`s[1] = s[1] + ks[0] + ks[1]` could be simplified to 's\[1\] += ks\[0\] + ks\[1\]'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
                // already been here, record size under 'link'
                Long[] ks = sizeCache.get(ckey);
                s[1] = s[1] + ks[0] + ks[1];
            } else {
                Long[] ks = exploreSize(k, sizeCache, store);
```

### ReplaceAssignmentWithOperatorAssignment
`s[0] = s[0] + ks[0]` could be simplified to 's\[0\] += ks\[0\]'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
            } else {
                Long[] ks = exploreSize(k, sizeCache, store);
                s[0] = s[0] + ks[0];
                s[1] = s[1] + ks[1];
            }
```

### ReplaceAssignmentWithOperatorAssignment
`s[1] = s[1] + ks[1]` could be simplified to 's\[1\] += ks\[1\]'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
                Long[] ks = exploreSize(k, sizeCache, store);
                s[0] = s[0] + ks[0];
                s[1] = s[1] + ks[1];
            }
        }
```

### ReplaceAssignmentWithOperatorAssignment
`s[0] = s[0] + b.length()` could be simplified to 's\[0\] += b.length()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
                    boolean skip = store.isExternal(b);
                    if (!skip) {
                        s[0] = s[0] + b.length();
                    }
                } else {
```

### ReplaceAssignmentWithOperatorAssignment
`s[0] = s[0] + ps.size(j)` could be simplified to 's\[0\] += ps.size(j)'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
                    }
                } else {
                    s[0] = s[0] + ps.size(j);
                }
            }
```

### ReplaceAssignmentWithOperatorAssignment
`count = count / 2` could be simplified to 'count /= 2'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/TraversingIndex.java`
#### Snippet
```java
            if (count >= 0) {
                if (restriction == PathRestriction.DIRECT_CHILDREN) {
                    count = count / 2;
                }
                return count;
```

### ReplaceAssignmentWithOperatorAssignment
`name = name + buff.toString()` could be simplified to 'name += buff.toString()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsData.java`
#### Snippet
```java
                    buff.append("\n\tat " + e);
                }
                name = name + buff.toString();
            }
            lastThreadName = name;
```

### ReplaceAssignmentWithOperatorAssignment
`key = key + "S"` could be simplified to 'key += "S"'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeRegistration.java`
#### Snippet
```java
                key = "BINARIES";
            } else {
                key = key + "S";
            }
        } else if (propertyName != null) {
```

### ReplaceAssignmentWithOperatorAssignment
`minNumDocs = (int) (minNumDocs * 0.9)` could be simplified to 'minNumDocs \*= 0.9'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
                // So the cost of having a usable path condition is
                // lower than the cost of not having a path condition at all.
                minNumDocs = (int) (minNumDocs * 0.9);
            }
        }
```

### ReplaceAssignmentWithOperatorAssignment
`bits[0] = bits[0] & ~other.longValue()` could be simplified to 'bits\[0\] \&= \~other.longValue()'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBits.java`
#### Snippet
```java
        private void diff(Data other) {
            if (bits.length == 1 && other.isSimple()) {
                bits[0] = bits[0] & ~other.longValue();
            } else {
                bits = diff(bits, other.longValues());
```

## RuleId[id=NestedAssignment]
### NestedAssignment
Result of assignment expression used
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java
        }
        if (maxMatch == patternLength) {
            lowerBounds = upperBound = lower;
            return;
        }
```

### NestedAssignment
Result of assignment expression used
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/query/facet/FacetResult.java`
#### Snippet
```java
        String label = null;
        int count;
        while ((c = jsopTokenizer.read()) != JsopReader.END) {
            if (JsopReader.STRING == c) {
                label = jsopTokenizer.getEscapedToken();
```

### NestedAssignment
Result of assignment expression used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java
            try {
                int read;
                while ((read = reader.read(chunk)) > -1) {
                    sb.append(chunk, 0, read);
                }
```

### NestedAssignment
Result of assignment expression used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/DocViewImportHandler.java`
#### Snippet
```java
                try {
                    int ch;
                    while ((ch = reader.read()) != -1) {
                        if (ch > 0x20) {
                            break;
```

### NestedAssignment
Result of assignment expression used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java

        public void forceRefresh() {
            threadSaveCount.set(sessionSaveCount = (getThreadSaveCount() + 1));
        }

```

### NestedAssignment
Result of assignment expression used
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/Jackrabbit2Factory.java`
#### Snippet
```java
                reader = new BufferedReader(new FileReader(file));
                String line;
                while ((line = reader.readLine()) != null) {
                    if (StringUtils.containsIgnoreCase(line, "<Repository>")) {
                        return true;
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
        try (JournalFileReader reader = source.getJournalFile().openJournalReader()) {
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.length() > 0 && !line.trim().equals("")) {
                    journal.add(line);
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
        try (JournalFileReader reader = source.getJournalFile().openJournalReader()) {
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.length() > 0 && !line.trim().equals("")) {
                    journal.add(line);
```

### NestedAssignment
Result of assignment expression used
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
            int lineCount = 0;
            Stack<String> nodeTypeNameStack = new Stack<>();
            while ((line = reader.readLine()) != null) {
                updateNodeTypeStack(nodeTypeNameStack, line, entryReader);
                boolean shouldSplit = (readPos > splitThreshold);
```

### NestedAssignment
Result of assignment expression used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
        long count = 0;
        int n = 0;
        while (-1 != (n = input.read(buffer))) {
            output.write(buffer, 0, n);
            count += n;
```

### NestedAssignment
Result of assignment expression used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopBuilder.java`
#### Snippet
```java
                        buff.append("{}");
                    } else {
                        buff.append("{\n").append(space += ident);
                    }
                    break;
```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            e.stackPrev.stackNext = e.stackNext;
            e.stackNext.stackPrev = e.stackPrev;
            e.stackPrev = e.stackNext = null;
            stackSize--;
        }
```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            e.queuePrev.queueNext = e.queueNext;
            e.queueNext.queuePrev = e.queuePrev;
            e.queuePrev = e.queueNext = null;
            if (e.value != null) {
                queueSize--;
```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            // initialize the stack and queue heads
            stack = new Entry<K, V>();
            stack.stackPrev = stack.stackNext = stack;
            queue = new Entry<K, V>();
            queue.queuePrev = queue.queueNext = queue;
```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            stack.stackPrev = stack.stackNext = stack;
            queue = new Entry<K, V>();
            queue.queuePrev = queue.queueNext = queue;
            queue2 = new Entry<K, V>();
            queue2.queuePrev = queue2.queueNext = queue2;
```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            queue.queuePrev = queue.queueNext = queue;
            queue2 = new Entry<K, V>();
            queue2.queuePrev = queue2.queueNext = queue2;

            // first set to a small array, to avoiding out of memory
```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            mapSize = 0;
            usedMemory = 0;
            stackSize = queueSize = queue2Size = 0;
        }

```

### NestedAssignment
Result of assignment expression used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            mapSize = 0;
            usedMemory = 0;
            stackSize = queueSize = queue2Size = 0;
        }

```

### NestedAssignment
Result of assignment expression used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
            } else {
                lastRevisionTimestamp = timestamp;
                lastRevisionCount = c = 0;
            }
        }
```

### NestedAssignment
Result of assignment expression used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    private void cleanOrphanedBranches() {
        Branch b;
        while ((b = branches.pollOrphanedBranch()) != null) {
            LOG.debug("Cleaning up orphaned branch with base revision: {}, " + 
                    "commits: {}", b.getBase(), b.getCommits());
```

### NestedAssignment
Result of assignment expression used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            reader = new BufferedReader(new InputStreamReader(stream, Charsets.UTF_8));
            String line  = null;
            while ((line = reader.readLine()) != null) {
                if (unescape) {
                    set.add(unescapeLineBreaks(line));
```

### NestedAssignment
Result of assignment expression used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/UDPBroadcaster.java`
#### Snippet
```java
            byte[] buf = new byte[1024];
            int bytesRead;
            while ((bytesRead = cipherInputStream.read(buf)) >= 0) {
                outputStream.write(buf, 0, bytesRead);
            }
```

### NestedAssignment
Result of assignment expression used
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/Installer.java`
#### Snippet
```java
        byte[] buffer = new byte[8192];
        int read;
        while ((read = in.read(buffer)) >= 0) {
            out.write(buffer, 0, read);
        }
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/LoggingHook.java`
#### Snippet
```java
        int b;
        try {
            while ((b = is.read()) >= 0) {
                sb.append(hex[b >> 4]);
                sb.append(hex[b & 0x0f]);
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriter.java`
#### Snippet
```java
            }

            statistics.size = length = totalLength;

            int pos = HEADER_SIZE;
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitPersistence.java`
#### Snippet
```java
        try (JournalFileReader journalFileReader = roPersistence.getJournalFile().openJournalReader()) {
            String journalLine;
            if ((journalLine = journalFileReader.readLine()) != null) {
                properties.setProperty("split.lastRoJournalEntry", journalLine);
            }
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/JournalReader.java`
#### Snippet
```java
        try {
            String line = null;
            while ((line = reader.readLine()) != null) {
                if (line.indexOf(' ') != -1) {
                    List<String> splits = Splitter.on(' ').splitToList(line);
```

### NestedAssignment
Result of assignment expression used
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/AbstractCompactionStrategy.java`
#### Snippet
```java
            SegmentNodeState previousHead = head;
            while (cycles < context.getGCOptions().getRetryCount() &&
                !(success = context.getRevisions().setHead(previousHead.getRecordId(), compacted.getRecordId(), EXPEDITE_OPTION))) {
                // Some other concurrent changes have been made.
                // Rebase (and compact) those changes on top of the
```

### NestedAssignment
Result of assignment expression used
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompositePrepareCommand.java`
#### Snippet
```java
                }
                if (builder.exists()) {
                    totalNodes = modifiedNodes = 0;
                    LOG.info("  path: {}", p);
                    NodeBuilder indexData = rootBuilder
```

### NestedAssignment
Result of assignment expression used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                    long currentblocksize = 0;
                    while ((currentblocksize < blocksize)
                            && ((line = fbr.readLine()) != null)) {
                        // as long as you have enough memory
                        if (counter < numHeader) {
```

### NestedAssignment
Result of assignment expression used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    private void reload() throws IOException {
        try {
            if ((this.cache = stringToType.apply(fbr.readLine())) == null) {
                this.empty = true;
                this.cache = null;
```

### NestedAssignment
Result of assignment expression used
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ResultWriter.java`
#### Snippet
```java
    public Void call() throws Exception {
        Result r;
        while ((r = results.take()) != END) {
            resultConsumer.accept(r.toJson());
        }
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/MutableRoot.java`
#### Snippet
```java
            this.destParent = destParent;
            this.destName = destName;
            return next = new Move();
        }

```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                    break;
                }
                types[i] = type = CHAR_IGNORE;                
                startLoop = i;
                i += 2;
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                break;
            case '[':
                types[i] = type = CHAR_BRACKETED;
                startLoop = i;
                while (true) {
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                break;
            case '\'':
                types[i] = type = CHAR_STRING;
                startLoop = i;
                while (command[++i] != '\'') {
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                break;
            case '\"':
                types[i] = type = CHAR_QUOTED;
                startLoop = i;
                while (command[++i] != '\"') {
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            // and index=<planIndexName> as a label by a downstream consumer like prometheus.
            StatsProviderUtil statsProviderUtil = new StatsProviderUtil(query.getSettings().getStatisticsProvider());
            t = timerDuration = statsProviderUtil.getTimerStats().apply("QUERY_DURATION", Collections.singletonMap("index", planIndexName));
        }
        t.update(timeNanos, TimeUnit.NANOSECONDS);
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java`
#### Snippet
```java
        switch (op) {
        case EQUAL:
            x.first = x.last = v;
            x.firstIncluding = x.lastIncluding = true;
            break;
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java`
#### Snippet
```java
        case EQUAL:
            x.first = x.last = v;
            x.firstIncluding = x.lastIncluding = true;
            break;
        case NOT_EQUAL:
```

### NestedAssignment
Result of assignment expression used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeRegistry.java`
#### Snippet
```java
                StringBuilder result = new StringBuilder();
                String line;
                while ((line = bufferedReader.readLine()) != null) {
                    if (line.trim().equals("[nt:frozenNode]")) {
                        line = "[nt:frozenNode] > mix:referenceable";
```

### NestedAssignment
Result of assignment expression used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        ArrayList<Entry> list = new ArrayList<>();
        long totalCount = 0;
        while((byteRef = iterator.next()) != null) {
            Entry e = new Entry();
            e.term = handler.apply(byteRef);
```

### NestedAssignment
Result of assignment expression used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                return estimatedSize;
            }
            return estimatedSize = sizeEstimator.getSize();
        }
    }
```

### NestedAssignment
Result of assignment expression used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
                    IndexWriterConfig config = getIndexWriterConfig(definition, directoryFactory.remoteDirectory(), writerConfig);
                    config.setMergePolicy(definition.getMergePolicy());
                    writer = localRefWriter = new IndexWriter(directory, config);
                    genAtStart = getLatestGeneration(directory);
                    log.trace("IndexWriterConfig for index [{}] is {}", definition.getIndexPath(), config);
```

### NestedAssignment
Result of assignment expression used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    n = indexNode;
                    if (n == null) {
                        n = indexNode = tracker.acquireIndexNode(indexPath);
                    }
                }
```

### NestedAssignment
Result of assignment expression used
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
                return estimatedSize;
            }
            return estimatedSize = sizeEstimator.getSize();
        }
    }
```

### NestedAssignment
Result of assignment expression used
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
        try {
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.equals(blobId)) {
                    return true;
```

### NestedAssignment
Result of assignment expression used
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
            reader = new BufferedReader(new FileReader(store));
            String line;
            while ((line = reader.readLine()) != null) {
                bloomFilter.put(line);
            }
```

### NestedAssignment
Result of assignment expression used
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/AceCreationTest.java`
#### Snippet
```java
        }

        return (transientSession = systemLogin());
    }
}
```

## RuleId[id=MismatchedCollectionQueryUpdate]
### MismatchedCollectionQueryUpdate
Contents of collection `indexerPaths` are updated, but never queried
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    protected List<NodeStateIndexerProvider> indexerProviders;
    protected final IndexerSupport indexerSupport;
    private final Set<String> indexerPaths = new HashSet<>();
    private static final int MAX_DOWNLOAD_ATTEMPTS = Integer.parseInt(System.getProperty("oak.indexer.maxDownloadRetries", "5")) + 1;

```

### MismatchedCollectionQueryUpdate
Contents of collection `throwables` are updated, but never queried
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
    private final Comparator<NodeStateHolder> comparator;
    private final BlockingQueue<File> sortedFiles;
    private final ConcurrentLinkedQueue<Throwable> throwables;

    /**
```

### MismatchedCollectionQueryUpdate
Contents of collection `blobs` are updated, but never queried
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        Iterable<NodeDocument> docs = getDocuments(store.getDocumentStore());
        PriorityQueue<BlobReferences> queue = new PriorityQueue<BlobReferences>(num, comparator);
        List<Blob> blobs = Lists.newArrayList();
        long docCount = 0;
        for (NodeDocument doc : docs) {
```

### MismatchedCollectionQueryUpdate
Contents of collection `buffers` are updated, but never queried
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferMonitor.java`
#### Snippet
```java

    @NotNull
    private final Set<BufferReference> buffers = newConcurrentHashSet();

    @NotNull
```

### MismatchedCollectionQueryUpdate
Contents of collection `available` are updated, but never queried
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        // use a greedy algorithm
        SourceImpl result = null;
        Set<SourceImpl> available = new HashSet<SourceImpl>();
        // the query is only slow if all possible join orders are slow
        // (in theory, due to using the greedy algorithm, a query might be considered
```

### MismatchedCollectionQueryUpdate
Contents of collection `userPaths` are updated, but never queried
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMemberTest.java`
#### Snippet
```java
public class RemoveMemberTest extends RemoveMembersTest {

    private final List<String> userPaths;

    public RemoveMemberTest(int numberOfMembers, int batchSize) {
```

### MismatchedCollectionQueryUpdate
Contents of collection `actualAclLabelCount` are updated, but never queried
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java
    protected static final String FACET_PROP_2 = "bar";
    private final Map<String, Integer> actualLabelCount = Maps.newHashMap();
    private final Map<String, Integer> actualAclLabelCount = Maps.newHashMap();
    private final Map<String, Integer> actualAclPar1LabelCount = Maps.newHashMap();
    protected Boolean storageEnabled;
```

### MismatchedCollectionQueryUpdate
Contents of collection `actualAclPar1LabelCount` are updated, but never queried
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java
    private final Map<String, Integer> actualLabelCount = Maps.newHashMap();
    private final Map<String, Integer> actualAclLabelCount = Maps.newHashMap();
    private final Map<String, Integer> actualAclPar1LabelCount = Maps.newHashMap();
    protected Boolean storageEnabled;
    protected Set<String> propVals = newHashSet();
```

### MismatchedCollectionQueryUpdate
Contents of collection `actualLabelCount` are updated, but never queried
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java
    protected static final String FACET_PROP_1 = "foo";
    protected static final String FACET_PROP_2 = "bar";
    private final Map<String, Integer> actualLabelCount = Maps.newHashMap();
    private final Map<String, Integer> actualAclLabelCount = Maps.newHashMap();
    private final Map<String, Integer> actualAclPar1LabelCount = Maps.newHashMap();
```

## RuleId[id=FieldAccessedSynchronizedAndUnsynchronized]
### FieldAccessedSynchronizedAndUnsynchronized
Field `uploader` is accessed in both synchronized and unsynchronized contexts
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
     * Wrapper to where the blobs are uploaded/written
     */
    private StagingUploader uploader;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `fsPathDir` is accessed in both synchronized and unsynchronized contexts
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    private String fsPath;

    private File fsPathDir;

    @Override
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `maxNodePathCount` is accessed in both synchronized and unsynchronized contexts
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreStats.java`
#### Snippet
```java
    private final Map<String, Long> nodePathCounts;

    private long maxNodePathCount;

    private final long nodePathCountSizeLimit;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `sd` is accessed in both synchronized and unsynchronized contexts
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionImpl.java`
#### Snippet
```java

    private SessionContext sessionContext;
    private SessionDelegate sd;
    private final CounterStats sessionCounter;
    private final Object logoutMonitor = new Object();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `sessionContext` is accessed in both synchronized and unsynchronized contexts
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionImpl.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(SessionImpl.class);

    private SessionContext sessionContext;
    private SessionDelegate sd;
    private final CounterStats sessionCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `listenerId` is accessed in both synchronized and unsynchronized contexts
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
     * Lazy initialization via the {@link #start(Whiteboard)} method
     */
    private String listenerId;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `cachedSolrServer` is accessed in both synchronized and unsynchronized contexts
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrServerProviderService.java`
#### Snippet
```java
    private String serverType;

    private SolrClient cachedSolrServer;

    @Activate
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `serverType` is accessed in both synchronized and unsynchronized contexts
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrServerProviderService.java`
#### Snippet
```java
    private final Map<String, SolrServerConfigurationProvider> solrServerConfigurationProviders = new HashMap<String, SolrServerConfigurationProvider>();

    private String serverType;

    private SolrClient cachedSolrServer;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `provider` is accessed in both synchronized and unsynchronized contexts
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerProvider.java`
#### Snippet
```java

    private final NodeState nodeState;
    private SolrServerProvider provider;

    public NodeStateSolrServerProvider(NodeState nodeState) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lastSnapshot` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    private final String name;

    private CacheStats lastSnapshot =
            new CacheStats(0, 0, 0, 0, 0, 0);

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `memoryUsed` is accessed in both synchronized and unsynchronized contexts
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java
    private final Comparator<NodeStateHolder> comparator;
    private long entryCount;
    private long memoryUsed;
    private final File sortWorkDir;
    private final List<File> sortedFiles = new ArrayList<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `stackMoveCounter` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * The number of times any item was moved to the top of the stack.
         */
        private int stackMoveCounter;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `queue2` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * There is always at least one entry: the head entry.
         */
        private Entry<K, V> queue2;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `loadExceptionCount` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        LongAdder missCount = new LongAdder();
        LongAdder loadSuccessCount = new LongAdder();
        LongAdder loadExceptionCount = new LongAdder();
        LongAdder totalLoadTime = new LongAdder();
        LongAdder evictionCount = new LongAdder();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `averageMemory` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * The average memory used by one entry.
         */
        private int averageMemory;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `maxMemory` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * The maximum memory this cache should use.
         */
        private long maxMemory;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `queue` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * There is always at least one entry: the head entry.
         */
        private Entry<K, V> queue;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `loadSuccessCount` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        LongAdder hitCount = new LongAdder();
        LongAdder missCount = new LongAdder();
        LongAdder loadSuccessCount = new LongAdder();
        LongAdder loadExceptionCount = new LongAdder();
        LongAdder totalLoadTime = new LongAdder();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `entries` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * mask is the length of the array minus one.
         */
        Entry<K, V>[] entries;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `stack` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * There is always at least one entry: the head entry.
         */
        private Entry<K, V> stack;

        /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `totalLoadTime` is accessed in both synchronized and unsynchronized contexts
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        LongAdder loadSuccessCount = new LongAdder();
        LongAdder loadExceptionCount = new LongAdder();
        LongAdder totalLoadTime = new LongAdder();
        LongAdder evictionCount = new LongAdder();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `ops` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
    private final BatchCommitQueue queue;

    private List<UpdateOp> ops;
    private List<Future<NodeDocument>> results;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `stopped` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        final Random random = new Random();

        boolean stopped = false;

        private void stop() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `leaseCheckMode` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
     * Default lease check mode is strict, unless disabled by
     */
    private LeaseCheckMode leaseCheckMode = DEFAULT_LEASE_CHECK_MODE;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `leaseCheckFailed` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
     * from a failed leaseCheck (which is currently to stop oak-store-document bundle)
     */
    private boolean leaseCheckFailed = false;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `leaseFailureMargin` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
     * of 20sec then things are not good and we have to give up.
     */
    private long leaseFailureMargin = DEFAULT_LEASE_FAILURE_MARGIN_MILLIS;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `leaseTime` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
     * initially).
     */
    private long leaseTime = DEFAULT_LEASE_DURATION_MILLIS;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `changes` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * update thread.
     */
    private JournalEntry changes;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lagEstimate` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/ReplicaSetStatus.java`
#### Snippet
```java
    private final Deque<Long> estimatesPerMember = new LinkedList<>();

    private long lagEstimate = UNKNOWN_LAG;

    @Override
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `openCount` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/MapFactory.java`
#### Snippet
```java
    static final Logger LOG = LoggerFactory.getLogger(MapFactory.class);

    private int openCount = 1;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `memory` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/async/CacheActionDispatcher.java`
#### Snippet
```java
     * The current memory usage of the cache actions in the queue.
     */
    private long memory = 0;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `out` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        final int port;
        final byte[] key;
        DataOutputStream out;
        Client(String host, int port, byte[] key) throws UnknownHostException {
            this.host = host;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `readStore` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    private final String directory;
    private MapFactory writeStore;
    private MapFactory readStore;
    private int maxSizeMB = 1024;
    private int memCache = -1;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `caches` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    private boolean asyncCache = true;
    private boolean asyncDiffCache = false;
    private HashMap<CacheType, GenerationCache> caches = 
            new HashMap<CacheType, GenerationCache>();
    
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `store` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            
            final String fileName = getFileName(generation);
            MVStore store;
            
            @Override
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `exceptionCount` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }
    
    private int exceptionCount;

    public PersistentCache(String url) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `writeStore` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    
    private final String directory;
    private MapFactory writeStore;
    private MapFactory readStore;
    private int maxSizeMB = 1024;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `writeDispatcher` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    private final byte[] broadcastId;
    private DynamicBroadcastConfig broadcastConfig;
    private CacheActionDispatcher writeDispatcher;
    private Thread writeDispatcherThread;
    
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `rebuildCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentIdTable.java`
#### Snippet
```java
     * The refresh count (for diagnostics and testing).
     */
    private int rebuildCount;
    
    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `entryCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentIdTable.java`
#### Snippet
```java
     * The number of used entries (WeakReferences) in this table.
     */
    private int entryCount;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `recordEntries` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MutableRecordNumbers.java`
#### Snippet
```java
 */
class MutableRecordNumbers implements RecordNumbers {
    private int[] recordEntries;
    private int size;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `position` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
    private final long length;

    private long position = 0;

    private long mark = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `weight` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
        private final Weigher<K, RecordId> weigher;

        private long weight = 0;

        static final <K> Supplier<RecordCache<K>> defaultFactory(final int size, @NotNull final Weigher<K, RecordId> weigher) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lastCompactionType` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/GarbageCollector.java`
#### Snippet
```java
     * because of a system restart).
     */
    private SegmentGCOptions.GCType lastCompactionType = FULL;

    private volatile boolean cancelRequested;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `loadCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    private long hitCount;
    private long missCount;
    private long loadCount;
    private long loadExceptionCount;
    private long evictionCount;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `size` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    private long loadExceptionCount;
    private long evictionCount;
    private long size;

    @NotNull
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `loadExceptionCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    private long missCount;
    private long loadCount;
    private long loadExceptionCount;
    private long evictionCount;
    private long size;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `missCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java

    private long hitCount;
    private long missCount;
    private long loadCount;
    private long loadExceptionCount;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `evictionCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    private long loadCount;
    private long loadExceptionCount;
    private long evictionCount;
    private long size;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `hitCount` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    private final int[] evictions = new int[256];

    private long hitCount;
    private long missCount;
    private long loadCount;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `weight` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    @NotNull
    private final Weigher<K, V> weigher;
    private long weight = 0;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `head` is accessed in both synchronized and unsynchronized contexts
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/memory/MemoryStoreRevisions.java`
#### Snippet
```java
 */
public class MemoryStoreRevisions implements Revisions {
    private RecordId head;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `executorService` is accessed in both synchronized and unsynchronized contexts
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
    private final WorkItem SHUTDOWN_SIGNAL = new WorkItem(null);
    private BlockingQueue<WorkItem> inputQueue;
    private ExecutorService executorService;
    private int threadPoolSize = Runtime.getRuntime().availableProcessors();
    private int queueSize = 100;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `tika` is accessed in both synchronized and unsynchronized contexts
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
    private int maxExtractedLength = MAX_EXTRACT_LENGTH;
    private File tikaConfig;
    private TikaHelper tika;
    private boolean initialized;
    private BinaryStats stats;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `tikaConfig` is accessed in both synchronized and unsynchronized contexts
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java

    private int maxExtractedLength = MAX_EXTRACT_LENGTH;
    private File tikaConfig;
    private TikaHelper tika;
    private boolean initialized;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `threadPoolSize` is accessed in both synchronized and unsynchronized contexts
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
    private BlockingQueue<WorkItem> inputQueue;
    private ExecutorService executorService;
    private int threadPoolSize = Runtime.getRuntime().availableProcessors();
    private int queueSize = 100;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `inputQueue` is accessed in both synchronized and unsynchronized contexts
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java

    private final WorkItem SHUTDOWN_SIGNAL = new WorkItem(null);
    private BlockingQueue<WorkItem> inputQueue;
    private ExecutorService executorService;
    private int threadPoolSize = Runtime.getRuntime().availableProcessors();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `executor` is accessed in both synchronized and unsynchronized contexts
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    private ScheduledExecutorService scheduledExecutor;

    private Executor executor;

    private final Closer closer = Closer.create();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `scheduledExecutor` is accessed in both synchronized and unsynchronized contexts
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    private SecurityProvider securityProvider;

    private ScheduledExecutorService scheduledExecutor;

    private Executor executor;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `cnUpdates` is accessed in both synchronized and unsynchronized contexts
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    // keeping track of CLUSTER_NODES updates
    private Map<String, Long> cnUpdates = new ConcurrentHashMap<String, Long>();

    private <T extends Document> void maintainUpdateStats(Collection<T> collection, String key) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `leaseTimeOut` is accessed in both synchronized and unsynchronized contexts
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    private IndexMBeanRegistration mbeanRegistration;

    private long leaseTimeOut;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `validatorProviders` is accessed in both synchronized and unsynchronized contexts
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    private long lastCheckpointCleanUpTime;

    private List<ValidatorProvider> validatorProviders = Collections.emptyList();

    private TrackingCorruptIndexHandler corruptIndexHandler = new TrackingCorruptIndexHandler();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `directory` is accessed in both synchronized and unsynchronized contexts
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java

    private static final Logger log = LoggerFactory.getLogger(DataStoreTextWriter.class);
    private File directory;

    private final SetHolder emptyBlobsHolder;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `nsdata` is accessed in both synchronized and unsynchronized contexts
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/GlobalNameMapper.java`
#### Snippet
```java
    private final Root root;
    private Tree namespaces;
    private Tree nsdata;

    public GlobalNameMapper(Root root) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `readPaths` is accessed in both synchronized and unsynchronized contexts
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
    private List<String> searchPaths;

    private List<String> readPaths;
    private String nodeType;
    private String indexType;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `searchPaths` is accessed in both synchronized and unsynchronized contexts
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
    private final Random random = new Random(29);

    private List<String> searchPaths;

    private List<String> readPaths;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `searchRootPaths` is accessed in both synchronized and unsynchronized contexts
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
    private final Random random = new Random(29);

    private List<String> searchRootPaths;

    private List<String> searchDescPaths;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `root` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexTracker.java`
#### Snippet
```java
    private final BadIndexTracker badIndexTracker = new BadIndexTracker();

    private NodeState root = EMPTY_NODE;

    private AsyncIndexInfoService asyncIndexInfoService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `asyncIndexInfoService` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexTracker.java`
#### Snippet
```java
    private NodeState root = EMPTY_NODE;

    private AsyncIndexInfoService asyncIndexInfoService;

    private volatile Map<String, LuceneIndexNodeManager> indices = emptyMap();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `directoryFactory` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndexFactory.java`
#### Snippet
```java
    private final long refreshDeltaInSecs;
    private final StatisticsProvider statisticsProvider;
    private NRTDirectoryFactory directoryFactory = DefaultNRTDirFactory.INSTANCE;
    private boolean assertAllResourcesClosed = Boolean.getBoolean("oak.lucene.assertAllResourcesClosed");

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `assertAllResourcesClosed` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndexFactory.java`
#### Snippet
```java
    private final StatisticsProvider statisticsProvider;
    private NRTDirectoryFactory directoryFactory = DefaultNRTDirFactory.INSTANCE;
    private boolean assertAllResourcesClosed = Boolean.getBoolean("oak.lucene.assertAllResourcesClosed");

    public NRTIndexFactory(IndexCopier indexCopier, StatisticsProvider statisticsProvider) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `readers` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private boolean closed;
    private boolean previousModeEnabled;
    private List<LuceneIndexReader> readers;
    private final List<IndexReader> openedReaders;
    private final boolean assertAllReadersClosed;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `dirReaderUsedForPrevious` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private Directory directory;
    private DirectoryReader dirReader;
    private DirectoryReader dirReaderUsedForPrevious;
    private boolean closed;
    private boolean previousModeEnabled;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `previousModeEnabled` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private DirectoryReader dirReaderUsedForPrevious;
    private boolean closed;
    private boolean previousModeEnabled;
    private List<LuceneIndexReader> readers;
    private final List<IndexReader> openedReaders;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `indexWriter` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private NRTIndex previous;

    private IndexWriter indexWriter;
    private NRTIndexWriter nrtIndexWriter;
    private File indexDir;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `indexDir` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private IndexWriter indexWriter;
    private NRTIndexWriter nrtIndexWriter;
    private File indexDir;
    private Directory directory;
    private DirectoryReader dirReader;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `closed` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private DirectoryReader dirReader;
    private DirectoryReader dirReaderUsedForPrevious;
    private boolean closed;
    private boolean previousModeEnabled;
    private List<LuceneIndexReader> readers;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `previous` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private final NRTDirectoryFactory directoryFactory;

    private NRTIndex previous;

    private IndexWriter indexWriter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `directory` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    private NRTIndexWriter nrtIndexWriter;
    private File indexDir;
    private Directory directory;
    private DirectoryReader dirReader;
    private DirectoryReader dirReaderUsedForPrevious;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `genAtStart` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
    private volatile IndexWriter writer;
    private Directory directory;
    private long genAtStart = -1;
    private boolean indexUpdated = false;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `directory` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
    private final LuceneIndexWriterConfig writerConfig;
    private volatile IndexWriter writer;
    private Directory directory;
    private long genAtStart = -1;
    private boolean indexUpdated = false;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `tracker` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    static class LazyLuceneIndexNode implements LuceneIndexNode {
        private AtomicBoolean released = new AtomicBoolean();
        private IndexTracker tracker;
        private String indexPath;
        private volatile LuceneIndexNode indexNode;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `indexPath` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        private AtomicBoolean released = new AtomicBoolean();
        private IndexTracker tracker;
        private String indexPath;
        private volatile LuceneIndexNode indexNode;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
        private static PerfLogger PERF_LOG = new PerfLogger(
                LoggerFactory.getLogger(ActiveDeletedBlobCollectorImpl.class.getName() + ".perf"));
        private static Logger LOG = LoggerFactory.getLogger(ActiveDeletedBlobCollectorImpl.class.getName());

        private final Clock clock;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `asyncIndexInfoService` is accessed in both synchronized and unsynchronized contexts
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexTracker.java`
#### Snippet
```java
    private NodeState root = EMPTY_NODE;

    private AsyncIndexInfoService asyncIndexInfoService;

    private volatile Map<String, I> indices = emptyMap();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `root` is accessed in both synchronized and unsynchronized contexts
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexTracker.java`
#### Snippet
```java
    private final BadIndexTracker badIndexTracker = new BadIndexTracker();

    private NodeState root = EMPTY_NODE;

    private AsyncIndexInfoService asyncIndexInfoService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `weights` is accessed in both synchronized and unsynchronized contexts
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/LMSEstimator.java`
#### Snippet
```java
    private static final int DEFAULT_THRESHOLD = 5;

    private double[] weights;
    private final double alpha;
    private final long threshold;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `map` is accessed in both synchronized and unsynchronized contexts
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/MemoryBlobStore.java`
#### Snippet
```java
public class MemoryBlobStore extends AbstractBlobStore {

    private HashMap<BlockId, byte[]> map = new HashMap<BlockId, byte[]>();
    private HashMap<BlockId, byte[]> old = new HashMap<BlockId, byte[]>();
    private HashMap<BlockId, Long> timestamps = new HashMap<BlockId, Long>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `timestamps` is accessed in both synchronized and unsynchronized contexts
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/MemoryBlobStore.java`
#### Snippet
```java
    private HashMap<BlockId, byte[]> map = new HashMap<BlockId, byte[]>();
    private HashMap<BlockId, byte[]> old = new HashMap<BlockId, byte[]>();
    private HashMap<BlockId, Long> timestamps = new HashMap<BlockId, Long>();
    private boolean mark;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `referenceKey` is accessed in both synchronized and unsynchronized contexts
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
     * Encryption key for creating secure references from blobId
     */
    private byte[] referenceKey;

    private final Logger log = LoggerFactory.getLogger(getClass());
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `sessions` is accessed in both synchronized and unsynchronized contexts
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
    private Credentials credentials;

    private List<Session> sessions;

    private List<Thread> threads;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `sessions` is accessed in both synchronized and unsynchronized contexts
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
    private Credentials credentials;

    private LinkedList<Session> sessions;

    ExecutionContext context;
```

## RuleId[id=EqualsAndHashcode]
### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/FormatVersion.java`
#### Snippet
```java
 * older versions.
 */
public final class FormatVersion implements Comparable<FormatVersion> {

    /**
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/AbstractDocumentNodeState.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.plugins.memory.EmptyNodeState.EMPTY_NODE;

public abstract class AbstractDocumentNodeState extends AbstractNodeState {
    private static final PerfLogger perfLogger = new PerfLogger(
            LoggerFactory.getLogger(AbstractDocumentNodeState.class.getName()
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ModifiedDocumentNodeState.java`
#### Snippet
```java
 * connected to the {@link #branch} on {@link #builder()}.
 */
class ModifiedDocumentNodeState extends AbstractNodeState {

    private final DocumentNodeStore store;
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java`
#### Snippet
```java


    public static final class Diff implements CacheValue {

        private final Map<Path, String> changes;
```

### EqualsAndHashcode
Class has `hashCode()` defined but does not define `equals()`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/SipHash.java`
#### Snippet
```java
 * An implementation of the SipHash-2-2 function, to prevent hash flooding.
 */
public class SipHash {
    
    private final long v0, v1, v2, v3;
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.plugins.tree.TreeConstants.OAK_CHILD_ORDER;

public abstract class AbstractDecoratedNodeState extends AbstractNodeState {

    protected final NodeState delegate;
```

## RuleId[id=PointlessBitwiseExpression]
### PointlessBitwiseExpression
`~(boundary - 1)` can be replaced with '-boundary'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Segment.java`
#### Snippet
```java
     */
    static int align(int address, int boundary) {
        return (address + boundary - 1) & ~(boundary - 1);
    }

```

### PointlessBitwiseExpression
`1 << 0` can be replaced with '1'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = 0;
        if (offset == 0) {
            mask = (byte) (mask | (1 << 0));
        }

```

### PointlessBitwiseExpression
`1 << 0` can be replaced with '1'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java
        
        // START_CHUNK flag enabled
        if ((mask & (1 << 0)) != 0) {
            blobChunkSize = in.readableBytes() - 8;
            if (Files.deleteIfExists(tempFile.toPath())) {
```

## RuleId[id=HtmlWrongAttributeValue]
### HtmlWrongAttributeValue
Wrong attribute value
in `log/indexing-diagnostic/project.15375f63/diagnostic-2023-03-10-04-55-55.386.html`
#### Snippet
```java
              <td>0</td>
              <td>0</td>
              <td><textarea rows="10" cols="75" readonly="true" placeholder="empty" style="white-space: pre; border: none">Not collected for refresh</textarea></td>
            </tr>
          </tbody>
```

## RuleId[id=CallToStringConcatCanBeReplacedByOperator]
### CallToStringConcatCanBeReplacedByOperator
Call to `concat()` can be replaced with '+' expression
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                    }

                    if (type.getName().equals(service.getClass().getName().concat("MBean"))
                            || service instanceof StandardMBean){
                        mbeanServer.registerMBean(service, objectName);
```

### CallToStringConcatCanBeReplacedByOperator
Call to `concat()` can be replaced with '+' expression
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
     */
    private static String createIndexPathKey(String indexPath, String dirName){
        return indexPath.concat(dirName);
    }

```

## RuleId[id=DuplicateThrows]
### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryImpl.java`
#### Snippet
```java
    }

    private void parse() throws InvalidQueryException, RepositoryException {
        if (parsed) {
            return;
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public boolean hasVersionLabel(Version version, String label)
            throws VersionException, RepositoryException {
        return Arrays.asList(getVersionLabels(version)).contains(label);
    }
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public void removeVersionLabel(final String label)
            throws VersionException, RepositoryException {
        sessionDelegate.performVoid(new SessionOperation<Void>("removeVersionLabel", true) {
            @Override
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public void removeVersion(final String versionName)
            throws ReferentialIntegrityException, AccessDeniedException,
            UnsupportedRepositoryOperationException, VersionException,
            RepositoryException {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public void removeVersion(final String versionName)
            throws ReferentialIntegrityException, AccessDeniedException,
            UnsupportedRepositoryOperationException, VersionException,
            RepositoryException {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    public void removeVersion(final String versionName)
            throws ReferentialIntegrityException, AccessDeniedException,
            UnsupportedRepositoryOperationException, VersionException,
            RepositoryException {

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    public void removeVersion(final String versionName)
            throws ReferentialIntegrityException, AccessDeniedException,
            UnsupportedRepositoryOperationException, VersionException,
            RepositoryException {

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public Version getVersion(final String versionName)
            throws VersionException, RepositoryException {
        return perform(new SessionOperation<Version>("getVersion") {
            @NotNull
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
                                final String label,
                                final boolean moveLabel)
            throws LabelExistsVersionException, VersionException,
            RepositoryException {
        sessionDelegate.performVoid(new SessionOperation<Void>("addVersionLabel", true) {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.version.VersionException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
                                final String label,
                                final boolean moveLabel)
            throws LabelExistsVersionException, VersionException,
            RepositoryException {
        sessionDelegate.performVoid(new SessionOperation<Void>("addVersionLabel", true) {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
                                final String label,
                                final boolean moveLabel)
            throws LabelExistsVersionException, VersionException,
            RepositoryException {
        sessionDelegate.performVoid(new SessionOperation<Void>("addVersionLabel", true) {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public Version getVersionByLabel(final String label)
            throws VersionException, RepositoryException {
        return perform(new SessionOperation<Version>("getVersionByLabel") {
            @NotNull
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionHistoryImpl.java`
#### Snippet
```java
    @Override
    public String[] getVersionLabels(final Version version)
            throws VersionException, RepositoryException {
        if (!version.getContainingHistory().getPath().equals(getPath())) {
            throw new VersionException("Version is not contained in this " +
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java
                                @NotNull String oakVersionLabel,
                                boolean moveLabel)
            throws LabelExistsVersionException, VersionException, RepositoryException {
        VersionManagerDelegate vMgr = VersionManagerDelegate.create(sessionDelegate);
        vMgr.addVersionLabel(this, version, oakVersionLabel, moveLabel);
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.version.VersionException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java
                                @NotNull String oakVersionLabel,
                                boolean moveLabel)
            throws LabelExistsVersionException, VersionException, RepositoryException {
        VersionManagerDelegate vMgr = VersionManagerDelegate.create(sessionDelegate);
        vMgr.addVersionLabel(this, version, oakVersionLabel, moveLabel);
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java
                                @NotNull String oakVersionLabel,
                                boolean moveLabel)
            throws LabelExistsVersionException, VersionException, RepositoryException {
        VersionManagerDelegate vMgr = VersionManagerDelegate.create(sessionDelegate);
        vMgr.addVersionLabel(this, version, oakVersionLabel, moveLabel);
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java
    @NotNull
    public VersionDelegate getVersionByLabel(@NotNull String label)
            throws VersionException, RepositoryException {
        checkNotNull(label);
        Tree versionLabels = getVersionLabelsTree();
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java

    public void removeVersionLabel(@NotNull String oakVersionLabel)
            throws VersionException, RepositoryException {
        VersionManagerDelegate vMgr = VersionManagerDelegate.create(sessionDelegate);
        vMgr.removeVersionLabel(this, oakVersionLabel);
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
    public void restore(final Version[] versions,
                        final boolean removeExisting)
            throws ItemExistsException,
            UnsupportedRepositoryOperationException, VersionException,
            LockException, InvalidItemStateException, RepositoryException {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
                        final boolean removeExisting)
            throws ItemExistsException,
            UnsupportedRepositoryOperationException, VersionException,
            LockException, InvalidItemStateException, RepositoryException {
        if (versions.length > 1) {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
                        final boolean removeExisting)
            throws ItemExistsException,
            UnsupportedRepositoryOperationException, VersionException,
            LockException, InvalidItemStateException, RepositoryException {
        if (versions.length > 1) {
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
            throws ItemExistsException,
            UnsupportedRepositoryOperationException, VersionException,
            LockException, InvalidItemStateException, RepositoryException {
        if (versions.length > 1) {
            throw new UnsupportedRepositoryOperationException("OAK-168: Restore of multiple versions not implemented.");
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
            throws ItemExistsException,
            UnsupportedRepositoryOperationException, VersionException,
            LockException, InvalidItemStateException, RepositoryException {
        if (versions.length > 1) {
            throw new UnsupportedRepositoryOperationException("OAK-168: Restore of multiple versions not implemented.");
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public AccessControlPolicyIterator getApplicablePolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicyIteratorAdapter(ImmutableList.of());
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public AccessControlPolicyIterator getApplicablePolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicyIteratorAdapter(ImmutableList.of());
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void setPolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void setPolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void setPolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.security.AccessControlException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void setPolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void setPolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void setPolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void removePolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void removePolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void removePolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.security.AccessControlException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void removePolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void removePolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public void removePolicy(String absPath, AccessControlPolicy policy) throws PathNotFoundException, AccessControlException, AccessDeniedException, LockException, VersionException, RepositoryException {
        // EXERCISE

```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public Privilege[] getSupportedPrivileges(String absPath) throws PathNotFoundException, RepositoryException {
        // EXERCISE
        return new Privilege[0];
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public Privilege privilegeFromName(String privilegeName) throws AccessControlException, RepositoryException {
        // EXERCISE
        return null;
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
     */
    @Override
    public AccessControlPolicy[] getPolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicy[0];
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
     */
    @Override
    public AccessControlPolicy[] getPolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicy[0];
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public boolean hasPrivileges(String absPath, Privilege[] privileges) throws PathNotFoundException, RepositoryException {
        // EXERCISE
        return false;
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public AccessControlPolicy[] getEffectivePolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicy[0];
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public AccessControlPolicy[] getEffectivePolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicy[0];
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java

    @Override
    public Privilege[] getPrivileges(String absPath) throws PathNotFoundException, RepositoryException {
        // EXERCISE
        return new Privilege[0];
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    }

    private boolean isPresentInStore(String blobId) throws FileNotFoundException, IOException {
        if (!store.exists()) {
            return false;
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/RestrictionProvider.java`
#### Snippet
```java
        @NotNull
        @Override
        public Restriction createRestriction(@Nullable String oakPath, @NotNull String oakName, @NotNull Value value) throws AccessControlException, RepositoryException {
            throw new AccessControlException("This implementation doesn't support any restrictions");
        }
```

### DuplicateThrows
There is a more general exception, 'javax.jcr.RepositoryException', in the throws list already.
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/RestrictionProvider.java`
#### Snippet
```java
        @NotNull
        @Override
        public Restriction createRestriction(@Nullable String oakPath, @NotNull String oakName, @NotNull Value... values) throws AccessControlException, RepositoryException {
            throw new AccessControlException("This implementation doesn't support any restrictions");
        }
```

## RuleId[id=SynchronizeOnThis]
### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    public void deleteRecord(DataIdentifier identifier) throws DataStoreException {
        File file = getFile(identifier, fsPathDir);
        synchronized (this) {
            if (file.exists()) {
                if (file.delete()) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
                File parent = dest.getParentFile();
                parent.mkdirs();
                synchronized (this) {
                    if (tmpFile.renameTo(dest)) {
                        // no longer need to delete the temporary file
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
        public T get() {
            if (value == null) {
                synchronized (this) {
                    if (value == null) {
                        value = supplier.get();
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/FrozenNodeLogger.java`
#### Snippet
```java
                && primaryType.getValue(Type.STRING).equals(NT_FROZENNODE)) {
            long now = clock.getTime();
            synchronized (FrozenNodeLogger.class) {
                if (now >= NO_MESSAGE_UNTIL) {
                    NO_MESSAGE_UNTIL = now + LOG_INTERVAL;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
    public void removeEventListener(EventListener listener) {
        ChangeProcessor processor;
        synchronized (this) {
            processor = processors.remove(listener);
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
        List<ChangeProcessor> toBeStopped;

        synchronized (this) {
            toBeStopped = newArrayList(processors.values());
            processors.clear();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
        boolean added = false;
        while(done > System.currentTimeMillis()) {
            synchronized(this) {
                if (!added) {
                    added = queue.offer(STOP);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
                    return true;
                }
                wait(1);
            }
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeStore.java`
#### Snippet
```java
            @Override
            public void close() throws IOException {
                synchronized (MemoryNodeStore.this) {
                    observers.remove(this);
                }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
            // optimize the comparison if both this and the other blob
            // already have pre-computed SHA-256 hash codes
            synchronized (this) {
                if (hashCode != null) {
                    synchronized (that) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
        long now = getTime();
        while (now <= increasing) {
            wait(0, 100000); // 0.1ms
            now = getTime();
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/LazyValue.java`
#### Snippet
```java
        // See http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html
        if (value == null) {
            synchronized (this) {
                if (value == null) {
                    value = createValue();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                return null;
            }
            synchronized (this) {
                value = get(key, hash);
                if (value != null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
                op.getId(), id);
        Callable<NodeDocument> result;
        synchronized (this) {
            checkState(!executing, "Cannot enqueue when batch is already executing");
            if (ops != null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java

    void release() {
        synchronized (this) {
            executing = true;
            notifyAll();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
        synchronized (this) {
            executing = true;
            notifyAll();
        }
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
                    @Override
                    public NodeDocument call() throws Exception {
                        synchronized (BatchCommit.this) {
                            while (!executing) {
                                LOG.debug("Waiting until BatchCommit is executing. {}", id);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
                            while (!executing) {
                                LOG.debug("Waiting until BatchCommit is executing. {}", id);
                                BatchCommit.this.wait();
                            }
                        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CommitQueue.java`
#### Snippet
```java
        boolean isHead;
        Entry commitEntry;
        synchronized (this) {
            isHead = commits.firstKey().equals(rev);
            commitEntry = commits.get(rev);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CommitQueue.java`
#### Snippet
```java
            c.headOfQueue(rev);
        } finally {
            synchronized (this) {
                commits.remove(rev);
                try {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CommitQueue.java`
#### Snippet
```java

    boolean contains(@NotNull Revision revision) {
        synchronized (this) {
            return commits.containsKey(checkNotNull(revision));
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CommitQueue.java`
#### Snippet
```java
    private void removeCommit(@NotNull Revision rev) {
        // simply remove and notify next head if any
        synchronized (this) {
            boolean wasHead = commits.firstKey().equals(rev);
            commits.remove(rev);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CommitQueue.java`
#### Snippet
```java
        SortedSet<Revision> revs = new TreeSet<Revision>(StableRevisionComparator.INSTANCE);
        Revision rev = null;
        synchronized (this) {
            for (int i = 0; i < num; i++) {
                rev = context.newRevision();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
                    long sleepMillis = shortSleep ? (50 + random.nextInt(450)) : 5000;
                    logger.trace("BackgroundWorker.doRun: sleeping {}ms", sleepMillis);
                    synchronized (BackgroundWorker.this) {
                        if (stopped)
                            return;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
                        if (stopped)
                            return;
                        BackgroundWorker.this.wait(sleepMillis);
                        if (stopped)
                            return;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        private void stop() {
            logger.trace("stop: start");
            synchronized (BackgroundWorker.this) {
                stopped = true;
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommitQueue.java`
#### Snippet
```java
        // check if there is already a batch commit in progress for
        // the document
        synchronized (this) {
            BatchCommit commit = inProgress.get(id);
            if (commit != null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommitQueue.java`
#### Snippet
```java
    void finished(BatchCommit commit) {
        String id = commit.getId();
        synchronized (this) {
            LOG.debug("BatchCommit finished with id {}", id);
            if (inProgress.remove(id) == null) {
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
        long timestamp = getCurrentTimestamp();
        int c;
        synchronized (Revision.class) {
            // need to check again, because threads
            // could arrive inside the synchronized block
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java

        long updatedLeaseEndTime;
        synchronized(this) {
            // this is synchronized since access to leaseCheckFailed and leaseEndTime
            // are both normally synchronized to propagate values between renewLease()
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            // check whether the lease is still valid and can be renewed
            if (isLeaseExpired(now)) {
                synchronized (this) {
                    if (leaseCheckFailed) {
                        // some other thread already noticed and calls failure handler
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                // should behave and must consider itself as 'lease failed'

                synchronized(this) {
                    if (leaseCheckFailed) {
                        // somehow the instance figured out otherwise that the
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        // accordingly until leaseEndTime is reached
        while (getCurrentTime() < updatedLeaseEndTime) {
            synchronized (this) {
                if (leaseCheckFailed) {
                    // no need to read from store, lease check already failed
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java

    public void dispose() {
        synchronized(this) {
            if (leaseCheckFailed) {
                LOG.warn("dispose: lease check failed, thus not marking instance as cleanly shut down.");
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
    public void setInfo(Map<String, String> info) {
        // synchronized, because renewLease is also synchronized 
        synchronized(this) {
            UpdateOp update = new UpdateOp("" + id, false);
            for(Entry<String, String> e : info.entrySet()) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        //               that it is only set by 1 thread - thus handleLeaseFailure
        //               is guaranteed to be only called once
        synchronized(this) {
            if (leaseCheckFailed) {
                // someone else won and marked leaseCheckFailed - so we only log/throw
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java

                    // directly use this to sleep on - to allow renewLease() to work
                    wait(waitForMs);
                } catch (InterruptedException e) {
                    LOG.warn("performLeaseCheck: got interrupted - giving up: " + e, e);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
                return false;
            } else {
                synchronized (this) {
                    return filter.mightContain(entry);
                }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            return;
        }
        synchronized (this) {
            // maybe another thread already switched,
            // so we need to check again
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MutableRecordNumbers.java`
#### Snippet
```java

        if (recordEntry == -1) {
            synchronized (this) {
                recordEntry = getRecordEntry(recordEntries, recordNumber);
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentId.java`
#### Snippet
```java
        Segment segment = this.segment;
        if (segment == null) {
            synchronized (this) {
                segment = this.segment;
                if (segment == null) {
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/Scheduler.java`
#### Snippet
```java
    public Scheduler(@Nullable String name) {
        if (name == null) {
            synchronized (Scheduler.class) {
                this.name = "scheduler-" + schedulerNumber;
                schedulerNumber++;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
     */
    Buffer readEntry(long msb, long lsb) throws IOException {
        synchronized (this) {
            checkState(!closed);
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
        checkState(writeIndex >= 0);
        // If nothing was written to this file, then we're already done.
        synchronized (this) {
            if (!archive.isCreated()) {
                return this;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
            boolean doFlush;

            synchronized (this) {
                doFlush = archive.isCreated() && !closed;
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
        // this part, as no other synchronized methods should get invoked
        // once close() has been initiated (see related checkState calls).
        synchronized (this) {
            if (closed) {
                return;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
        checkPositionIndexes(offset, offset + size, data.length);

        synchronized (this) {
            checkState(!closed);

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/CommunicationPartnerMBean.java`
#### Snippet
```java

    void onMessageReceived(Date lastSeen, String lastRequest) {
        synchronized (this) {
            this.lastSeen = lastSeen;
            this.lastRequest = lastRequest;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    private <T extends Document> void maintainUpdateStats(Collection<T> collection, String key) {
        if (collection == Collection.CLUSTER_NODES) {
            synchronized (this) {
                Long old = cnUpdates.get(key);
                old = old == null ? Long.valueOf(1) : old + 1;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
            long count = updateCount.incrementAndGet();
            if (count % 10000 == 0) {
                synchronized (this) {
                    log.info("{} => Indexed {} nodes in {} ...", indexPath, count, watch);
                    watch.reset().start();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
        //during startup phase so for later calls should not hit the synchronized block
        if (stats == null) {
            synchronized (this){
                stats = statsRegistry.get(name);
                //If still null then go ahead and create it within lock
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/CommitRateLimiter.java`
#### Snippet
```java
    protected void delay() throws CommitFailedException {
        if (delay > 0 && isThreadBlocking()) {
            synchronized (this) {
                try {
                    long t0 = Clock.ACCURATE.getTime();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/CommitRateLimiter.java`
#### Snippet
```java
                    while (delay > 0 && dt > 0) {
                        LOG.trace("delay: waiting {}ms (delay={}ms)", dt, delay);
                        wait(dt);
                        dt = dt - Clock.ACCURATE.getTime() + t0;
                    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/CommitRateLimiter.java`
#### Snippet
```java
            throw new CommitFailedException(OAK, 1, "System busy. Try again later.");
        }
        synchronized (this) {
            try {
                while (getBlockCommits()) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/CommitRateLimiter.java`
#### Snippet
```java
            try {
                while (getBlockCommits()) {
                    wait(1000);
                }
            } catch (InterruptedException e) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/CommitRateLimiter.java`
#### Snippet
```java
        this.delay = delay;
        if (delay == 0) {
            synchronized (this) {
                this.notifyAll();
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/CommitRateLimiter.java`
#### Snippet
```java
        if (delay == 0) {
            synchronized (this) {
                this.notifyAll();
            }
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        log.info("Trying to unregister the SecurityProvider...");

        synchronized (this) {

            // If there is nothing to register, we obviously have nothing to do.
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
    )
    public void bindRestrictionProvider(@NotNull ServiceReference serviceReference, @NotNull RestrictionProvider restrictionProvider) {
        synchronized (this) {
            restrictionProviders.put(serviceReference, restrictionProvider);
            addCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
    )
    public void bindUserAuthenticationFactory(@NotNull ServiceReference serviceReference, @NotNull UserAuthenticationFactory userAuthenticationFactory) {
        synchronized (this) {
            userAuthenticationFactories.put(serviceReference, userAuthenticationFactory);
            addCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        ServiceRegistration registration;

        synchronized (this) {
            registration = this.registration;

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        String[] requiredServicePids = configuration.requiredServicePids();

        synchronized (this) {
            preconditions.clearPreconditions();

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
    )
    public void bindAuthorizableActionProvider(@NotNull ServiceReference serviceReference, @NotNull AuthorizableActionProvider authorizableActionProvider) {
        synchronized (this) {
            authorizableActionProviders.put(serviceReference, authorizableActionProvider);
            addCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        String[] requiredServicePids = configuration.requiredServicePids();

        synchronized (this) {
            for (String pid : requiredServicePids) {
                preconditions.addPrecondition(pid);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    public void unbindAggregationFilter(@NotNull ServiceReference serviceReference, @NotNull AggregationFilter aggregationFilter) {
        synchronized (this) {
            aggregationFilters.remove(serviceReference);
            removeCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    public void unbindRestrictionProvider(@NotNull ServiceReference serviceReference, @NotNull RestrictionProvider restrictionProvider) {
        synchronized (this) {
            restrictionProviders.remove(serviceReference);
            removeCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    private <T extends SecurityConfiguration> void bindConfiguration(@NotNull CompositeConfiguration<T> composite, @NotNull T configuration, Map<String, Object> properties) {
        synchronized (this) {
            composite.addConfiguration(configuration, ConfigurationParameters.of(properties));
            addCandidate(properties);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    public void unbindUserAuthenticationFactory(@NotNull ServiceReference serviceReference, @NotNull UserAuthenticationFactory userAuthenticationFactory) {
        synchronized (this) {
            userAuthenticationFactories.remove(serviceReference);
            removeCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    public void unbindAuthorizableNodeName(@NotNull ServiceReference serviceReference, @NotNull AuthorizableNodeName authorizableNodeName) {
        synchronized (this) {
            authorizableNodeNames.remove(serviceReference);
            removeCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
    )
    public void bindAuthorizableNodeName(@NotNull ServiceReference serviceReference, @NotNull AuthorizableNodeName authorizableNodeName) {
        synchronized (this) {
            authorizableNodeNames.put(serviceReference, authorizableNodeName);
            addCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    private <T extends SecurityConfiguration> void unbindConfiguration(@NotNull CompositeConfiguration<T> composite, @NotNull T configuration, Map<String, Object> properties) {
        synchronized (this) {
            composite.removeConfiguration(configuration);
            removeCandidate(properties);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        log.info("Trying to register a SecurityProvider...");

        synchronized (this) {

            // The component is not activated, yet. We have no means of registering
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        );

        synchronized (this) {
            this.registration = registration;
            this.registering = false;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
            policy = ReferencePolicy.DYNAMIC)
    public void bindAggregationFilter(@NotNull ServiceReference serviceReference, @NotNull AggregationFilter aggregationFilter) {
        synchronized (this) {
            aggregationFilters.put(serviceReference, aggregationFilter);
            addCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

    public void unbindAuthorizableActionProvider(@NotNull ServiceReference serviceReference, @NotNull AuthorizableActionProvider authorizableActionProvider) {
        synchronized (this) {
            authorizableActionProviders.remove(serviceReference);
            removeCandidate(serviceReference);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticConnection.java`
#### Snippet
```java
        // double-checked locking to get good performance and avoid double initialization
        if (clients == null) {
            synchronized (this) {
                if (clients == null) {
                    RestClientBuilder builder = RestClient.builder(new HttpHost(host, port, scheme));
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
        IndexWriter localRefWriter = writer;
        if (localRefWriter == null) {
            synchronized (this) {
                localRefWriter = writer;
                if (localRefWriter == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
     */
    private boolean updateSuggester(Analyzer analyzer, Calendar currentTime) throws IOException {
        synchronized (this) {
            final Closer closer = Closer.create();

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            // concurrently right now, but better be save)
            if (n == null) {
                synchronized (this) {
                    n = indexNode;
                    if (n == null) {
```

## RuleId[id=DoubleBraceInitialization]
### DoubleBraceInitialization
Double brace initialization
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryResultImpl.java`
#### Snippet
```java
                new  PrefetchIterator<NodeImpl<? extends NodeDelegate>>(
                    sessionDelegate.sync(nodeIterator),
                    new PrefetchOptions() { {
                        size = result.getSize();
                        fastSize = sessionContext.getFastQueryResultSize();
```

### DoubleBraceInitialization
Double brace initialization
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryResultImpl.java`
#### Snippet
```java
        final PrefetchIterator<RowImpl> prefIt = new  PrefetchIterator<RowImpl>(
                sessionDelegate.sync(rowIterator),
                new PrefetchOptions() { {
                    size = result.getSize();
                    fastSize = sessionContext.getFastQueryResultSize();
```

### DoubleBraceInitialization
Double brace initialization
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentStoreService.java`
#### Snippet
```java
        AzurePersistence persistence = createAzurePersistenceFrom(config);
        registration = context.getBundleContext()
            .registerService(SegmentNodeStorePersistence.class.getName(), persistence, new Properties() {{
                put(SERVICE_PID, String.format("%s(%s, %s)", AzurePersistence.class.getName(), config.accountName(), config.rootPath()));
                if (!Objects.equals(config.role(), "")) {
```

### DoubleBraceInitialization
Double brace initialization
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Compression.java`
#### Snippet
```java
        @Override
        public OutputStream getOutputStream(OutputStream out) throws  IOException {
            return new GZIPOutputStream(out, 2048) {
                {
                    def.setLevel(Deflater.BEST_SPEED);
```

### DoubleBraceInitialization
Double brace initialization
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/osgi/SplitPersistenceService.java`
#### Snippet
```java
                SegmentNodeStorePersistence.class,
                new SplitPersistence(roPersistence, rwPersistence),
                new Properties() {{
                    put(SERVICE_PID, String.format("%s(%s, %s)",
                            SplitPersistence.class.getName(),
```

### DoubleBraceInitialization
Double brace initialization
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private static GZIPOutputStream asGZIPOutputStream(OutputStream os, final int level) throws IOException {
        return new GZIPOutputStream(os) {
            {
                this.def.setLevel(level);
```

## RuleId[id=UnstableTypeUsedInSignature]
### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
    private final String apiKeyId;
    private final String apiSecretId;
    protected final Closer closer = Closer.create();

    public ElasticIndexImporterSupport(IndexHelper indexHelper ,String indexPrefix, String scheme,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerElastic.java`
#### Snippet
```java

    private final ElasticIndexOptions indexOpts;
    public AsyncIndexerElastic(IndexHelper indexHelper, Closer closer, List<String> names,
                               long delay, ElasticIndexOptions indexOpts) {
        super(indexHelper, closer, names, delay);
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.cache.LoadingCache'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    private final boolean encodeLengthInId;

    protected final LoadingCache<String, byte[]> cache;

    public static final int DEFAULT_CACHE_SIZE = 16;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    protected final Closer closer;

    public MigrationFactory(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores, Closer closer) {
        this.options = options;
        this.stores = stores;
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    protected final DatastoreArguments datastores;

    protected final Closer closer;

    public MigrationFactory(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores, Closer closer) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    }

    protected NodeStore createTarget(Closer closer, BlobStore srcBlobStore) throws IOException {
        BlobStore dstBlobStore = datastores.getDstBlobStore(srcBlobStore).create(closer);
        NodeStore dstStore = stores.getDstStore().create(dstBlobStore, closer);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/ConstantBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) throws IOException {
        return blobStore;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java
    }

    public static void handleSigInt(final Closer closer) {
        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/BlobStoreFactory.java`
#### Snippet
```java

public interface BlobStoreFactory {
    BlobStore create(Closer closer) throws IOException;
}

```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/FileBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        return new FileBlobStore(directory);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) throws IOException {
        S3DataStore delegate = createDS(directory, props);
        // Initialize a default stats provider
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/DummyBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        return null;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/LoopbackBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        checkNotNull(closer, "Closer object cannot be null");
        return new LoopbackBlobStore();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/FileDataStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        OakFileDataStore delegate = new OakFileDataStore();
        delegate.setPath(directory);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/StoreFactory.java`
#### Snippet
```java
    }

    public RepositoryContext create(Closer closer) throws IOException, RepositoryException {
        if (jcr2Factory == null) {
            throw new UnsupportedOperationException();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/StoreFactory.java`
#### Snippet
```java
    }

    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        if (nodeStoreFactory == null) {
            throw new UnsupportedOperationException();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        System.setProperty(DocumentNodeStore.SYS_PROP_DISABLE_JOURNAL, "true");
        RDBDocumentNodeStoreBuilder builder = baseConfiguration(newRDBDocumentNodeStoreBuilder(), cacheSize);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) throws IOException {
        AzureDataStore delegate = createDS(directory, props);
        // Initialize a default stats provider
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/Jackrabbit2Factory.java`
#### Snippet
```java
    }

    public RepositoryContext create(Closer closer) throws RepositoryException {
        RepositoryContext source = RepositoryContext.create(RepositoryConfig.create(repositoryFile, repositoryDir));
        closer.register(asCloseable(source));
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        System.setProperty(DocumentNodeStore.SYS_PROP_DISABLE_JOURNAL, "true");
        MongoDocumentNodeStoreBuilder builder = baseConfiguration(newMongoDocumentNodeStoreBuilder(), cacheSize);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentTarFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        final FileStoreBuilder builder = fileStoreBuilder(new File(dir, "segmentstore"));
        if (blobStore != null) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/NodeStoreFactory.java`
#### Snippet
```java
public interface NodeStoreFactory {

    NodeStore create(BlobStore blobStore, Closer closer) throws IOException;

    boolean hasExternalBlobReferences() throws IOException;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        AzurePersistence azPersistence = null;
        try {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        Builder builder = FileStore.builder(new File(dir, "segmentstore"));
        if (blobStore != null) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.HashCode'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    }

    public static HashCode calculateSha256(final Blob blob) {
        AbstractBlob ab;
        if (blob instanceof AbstractBlob) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.HashCode'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    private HashCode hashCode; // synchronized access

    protected AbstractBlob(HashCode hashCode) {
        this.hashCode = hashCode;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.base.Stopwatch'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
    }

    public static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.base.Stopwatch'
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/ToolUtils.java`
#### Snippet
```java
    }

    public static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
     */
    @SuppressWarnings("unchecked")
    public CacheStats(
            @NotNull Cache<?, ?> cache,
            @NotNull String name,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java

    @Override
    protected com.google.common.cache.CacheStats getCurrentStats() {
        return cache.stats();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
     * underlying cache.
     */
    protected abstract CacheStats getCurrentStats();

    private CacheStats stats() {
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
public abstract class OutOfBandIndexerBase implements Closeable, IndexUpdateCallback, NodeTraversalCallback{

    protected final Closer closer = Closer.create();
    private final IndexHelper indexHelper;
    private NodeStore copyOnWriteStore;
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexHelper.java`
#### Snippet
```java
    private final Whiteboard whiteboard;
    private Executor executor;
    protected final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final StatisticsProvider statisticsProvider;
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(AsyncIndexerBase.class);
    private final IndexHelper indexHelper;
    protected final Closer closer;
    private final List<String> names;
    private static final long INIT_DELAY = 0;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
    private final CountDownLatch latch;

    public AsyncIndexerBase(IndexHelper indexHelper, Closer closer, List<String> names, long delay) {
        this.indexHelper = indexHelper;
        this.closer = closer;
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    private final Logger log = LoggerFactory.getLogger(getClass());
    private final Logger traversalLog = LoggerFactory.getLogger(DocumentStoreIndexerBase.class.getName()+".traversal");
    protected final Closer closer = Closer.create();
    protected final IndexHelper indexHelper;
    protected List<NodeStateIndexerProvider> indexerProviders;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
    }

    public static Cache<PathRev, DocumentNodeState> getNodesCache(DocumentNodeStore dns) {
        return dns.getNodeCache();
    }
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.io.Closer'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(PurgeOldIndexVersion.class);

    protected final Closer closer = Closer.create();

    /**
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @return this
         */
        public Builder<K, V> weigher(Weigher<K, V> weigher) {
            this.weigher = weigher;
            return this;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.RemovalCause'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @param cause the cause of the eviction
         */
        void evicted(@NotNull K key, @Nullable V value, @NotNull RemovalCause cause);
    }
    
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public CacheStats stats() {
        long hitCount = 0;
        long missCount = 0;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<CacheValue, NodeDocument> buildDocumentCache(DocumentStore docStore) {
        return buildCache(CacheType.DOCUMENT, getDocumentCacheSize(), null, docStore);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<StringValue, NodeDocument> buildPrevDocumentsCache(DocumentStore docStore) {
        return buildCache(CacheType.PREV_DOCUMENT, getPrevDocumentCacheSize(), null, docStore);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<PathRev, DocumentNodeState> buildNodeCache(DocumentNodeStore store) {
        return buildCache(CacheType.NODE, getNodeCacheSize(), store, null);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<RevisionsKey, LocalDiffCache.Diff> buildLocalDiffCache() {
        return buildCache(CacheType.LOCAL_DIFF, getLocalDiffCacheSize(), null, null);
    }
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.cache.Weigher'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    private Feature prefetchFeature;
    private Feature docStoreThrottlingFeature;
    private Weigher<CacheValue, CacheValue> weigher = new EmpiricalWeigher();
    private long memoryCacheSize = DEFAULT_MEMORY_CACHE_SIZE;
    private int nodeCachePercentage = DEFAULT_NODE_CACHE_PERCENTAGE;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<CacheValue, StringValue> buildMemoryDiffCache() {
        return buildCache(CacheType.DIFF, getMemoryDiffCacheSize(), null, null);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public T withWeigher(Weigher<CacheValue, CacheValue> weigher) {
        this.weigher = weigher;
        return thisBuilder();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Weigher<CacheValue, CacheValue> getWeigher() {
        return weigher;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<NamePathRev, DocumentNodeState.Children> buildChildrenCache(DocumentNodeStore store) {
        return buildCache(CacheType.CHILDREN, getChildrenCacheSize(), store, null);
    }
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
     * Key: PathRev, value: StringValue
     */
    protected final Cache<CacheValue, StringValue> diffCache;
    protected final CacheStats diffCacheStats;

```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    }

    public Cache<PathRev, DocumentNodeState> getNodeCache() {
        return nodeCache;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    }

    public Cache<NamePathRev, DocumentNodeState.Children> getNodeChildrenCache() {
        return nodeChildrenCache;
    }
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * Key: PathRev, value: DocumentNodeState
     */
    private final Cache<PathRev, DocumentNodeState> nodeCache;
    private final CacheStats nodeCacheStats;

```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * Key: PathRev, value: Children
     */
    private final Cache<NamePathRev, DocumentNodeState.Children> nodeChildrenCache;
    private final CacheStats nodeChildrenCacheStats;

```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.RemovalNotification'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java

    @Override
    public void onRemoval(RemovalNotification<K, V> notification) {
        if (delegate != null) {
            delegate.onRemoval(notification);
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.cache.RemovalListener'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
public class ForwardingListener<K, V>
        implements RemovalListener<K, V> {
    private RemovalListener<K, V> delegate;

    public ForwardingListener() {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.RemovalListener'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    }

    public static <K, V> ForwardingListener<K, V> newInstance(RemovalListener<K, V> delegate) {
        return new ForwardingListener<K, V>(delegate);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.RemovalListener'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    }

    public void setDelegate(RemovalListener<K, V> delegate) {
        this.delegate = delegate;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.RemovalListener'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    }

    public ForwardingListener(RemovalListener<K, V> delegate) {
        this.delegate = delegate;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    private final List<CacheChangesTracker> changeTrackers;

    public NodeDocumentCache(@NotNull Cache<CacheValue, NodeDocument> nodeDocumentsCache,
                             @NotNull CacheStats nodeDocumentsCacheStats,
                             @NotNull Cache<StringValue, NodeDocument> prevDocumentsCache,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.RemovalCause'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/EvictionListener.java`
#### Snippet
```java
public interface EvictionListener<K, V> {

    void evicted(K key, V value, RemovalCause removalCause);

}
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }

    public synchronized <K extends CacheValue, V extends CacheValue> Cache<K, V> wrap(
            DocumentNodeStore docNodeStore,
            DocumentStore docStore,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }
    
    public synchronized <K extends CacheValue, V extends CacheValue> Cache<K, V> wrap(
            DocumentNodeStore docNodeStore, 
            DocumentStore docStore,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Cache'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }
    
    public static PersistentCacheStats getPersistentCacheStats(Cache<?, ?> cache) {
        if (cache instanceof NodeCache) {
            return ((NodeCache<?, ?>) cache).getPersistentCacheStats();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCacheStats.java`
#### Snippet
```java
    private final Supplier<Long> weight;

    public RecordCacheStats(
            @NotNull String name,
            @NotNull Supplier<CacheStats> stats,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCacheStats.java`
#### Snippet
```java

    @Override
    protected CacheStats getCurrentStats() {
        return stats.get();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ReaderCache.java`
#### Snippet
```java
     * @param weigher   Needed to provide an estimation of the cache weight in memory
     */
    protected ReaderCache(long maxWeight, int averageWeight,
            @NotNull String name, @NotNull Weigher<CacheKey, T> weigher) {
        this.name = checkNotNull(name);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

    @SuppressWarnings("unchecked")
    public static <K, V> Weigher<K, V> noopWeigher() {
        return (Weigher<K, V>) NOOP_WEIGHER;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
     */
    @NotNull
    public static <T> Supplier<RecordCache<T>> factory(int size, @NotNull Weigher<T, RecordId> weigher) {
        if (size <= 0) {
            return Empty.emptyFactory();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
     */
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, 0, 0, evictionCount);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/SegmentCacheStats.java`
#### Snippet
```java

    @Override
    protected CacheStats getCurrentStats() {
        return new CacheStats(
                hitCount.get(),
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.CacheStats'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     */
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, loadExceptionCount, 0, evictionCount);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @return  a new {@code PriorityCache} instance of the given {@code size}.
     */
    public static <K, V> Supplier<PriorityCache<K, V>> factory(final int size, @NotNull final Weigher<K, V> weigher) {
        checkArgument(bitCount(size) == 1);
        checkNotNull(weigher);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @param weigher   Needed to provide an estimation of the cache weight in memory
     */
    public PriorityCache(int size, int rehash, @NotNull Weigher<K, V> weigher) {
        checkArgument(bitCount(size) == 1);
        checkArgument(rehash >= 0);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.cache.Weigher'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @param size      Size of the cache. Must be a power of {@code 2}.
     */
    public PriorityCache(int size, @NotNull Weigher<K, V> weigher) {
        this(size, 31 - numberOfTrailingZeros(size), weigher);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerLucene.java`
#### Snippet
```java
    private final ExtendedIndexHelper extendedIndexHelper;
    private final boolean enableCowCor;
    public AsyncIndexerLucene(ExtendedIndexHelper extendedIndexHelper, boolean enableCowCor, Closer close, List<String> names, long delay) {
        super(extendedIndexHelper, close, names, delay);
        this.extendedIndexHelper = extendedIndexHelper;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
        private boolean uuid;

        public Builder(DocumentNodeStore ns,
                       DocumentStore store,
                       Closer closer) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/checkpoint/Checkpoints.java`
#### Snippet
```java
public abstract class Checkpoints {

    public static Checkpoints onSegmentTar(File path, Closer closer) throws IOException {
        return SegmentTarCheckpoints.create(path, closer);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.io.Closer'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
    };

    public static void updateSuggester(Directory directory, Analyzer analyzer, IndexReader reader, final Closer closer)
            throws IOException {
        File tempDir = null;
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.base.Ticker'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
    private final Map<String, BadIndexInfo> badPersistedIndexes = Maps.newConcurrentMap();
    private final long recheckIntervalMillis;
    private Ticker ticker = Ticker.systemTicker();
    private int indexerCycleCount;

```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.base.Ticker'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
    }

    public void setTicker(Ticker ticker) {
        this.ticker = ticker;
    }
```

## RuleId[id=UnusedAssignment]
### UnusedAssignment
Variable `downloadDomainIgnored` initializer `false` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryDownloadOptions.java`
#### Snippet
```java
    private final String fileName;
    private final String dispositionType;
    private boolean downloadDomainIgnored = false;

    private BinaryDownloadOptions(final String mediaType,
```

### UnusedAssignment
Variable `length` initializer `0` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
            MessageDigest digest = MessageDigest.getInstance(DIGEST);
            OutputStream output = new DigestOutputStream(new FileOutputStream(tmpFile), digest);
            long length = 0;
            try {
                length = IOUtils.copyLarge(inputStream, output);
```

### UnusedAssignment
Variable `domainOverrideIgnored` initializer `false` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordDownloadOptions.java`
#### Snippet
```java
    private final String fileName;
    private final String dispositionType;
    private boolean domainOverrideIgnored = false;

    private String contentTypeHeader = null;
```

### UnusedAssignment
Variable `blobsCount` initializer `0` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                GarbageCollectorFileState fs, int batchCount) throws Exception {
            LOG.debug("Starting retrieve of all blobs");
            int blobsCount = 0;
            Iterator<String> idsIter = null;
            try {
```

### UnusedAssignment
Variable `uploadId` initializer `null` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        DataIdentifier newIdentifier = generateSafeRandomIdentifier();
        String blobId = getKeyName(newIdentifier);
        String uploadId = null;

        if (httpUploadURIExpirySeconds > 0) {
```

### UnusedAssignment
Variable `numParts` initializer `0L` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
            uploadId = Base64.encode(UUID.randomUUID().toString());

            long numParts = 0L;
            if (maxNumberOfURIs > 0) {
                long requestedPartSize = (long) Math.ceil(((double) maxUploadSizeInBytes) / ((double) maxNumberOfURIs));
```

### UnusedAssignment
Variable `record` initializer `null` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        DataIdentifier blobId = new DataIdentifier(getIdentifierName(key));

        DataRecord record = null;
        try {
            record = getRecord(blobId);
```

### UnusedAssignment
Variable `domainOverrideIgnored` initializer `false` is redundant
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/blob/BlobUploadOptions.java`
#### Snippet
```java
@ProviderType
public class BlobUploadOptions {
    private boolean domainOverrideIgnored = false;

    public static final BlobUploadOptions DEFAULT = new BlobUploadOptions();
```

### UnusedAssignment
Variable `domainOverrideIgnored` initializer `false` is redundant
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/blob/BlobDownloadOptions.java`
#### Snippet
```java
    private final String fileName;
    private final String dispositionType;
    private boolean domainOverrideIgnored = false;

    public static final BlobDownloadOptions DEFAULT = new BlobDownloadOptions();
```

### UnusedAssignment
The value `ctx.getGlobalStore().getNodeStore().checkpointInfo(checkpoint)` assigned to `props` is never used
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
        boolean result;
        if (checkpointExists(ctx.getGlobalStore().getNodeStore(), checkpoint)) {
            props = ctx.getGlobalStore().getNodeStore().checkpointInfo(checkpoint);
            result = ctx.getGlobalStore().getNodeStore().release(checkpoint);
        } else {
```

### UnusedAssignment
The value `Collections.emptyMap()` assigned to `props` is never used
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
            result = ctx.getGlobalStore().getNodeStore().release(checkpoint);
        } else {
            props = Collections.emptyMap();
            result = true;
        }
```

### UnusedAssignment
The value `findLock(lock.getParent(), true)` assigned to `lock` is never used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
                return null;
            } else {
                lock = findLock(lock.getParent(), true);
            }
        }
```

### UnusedAssignment
Variable `predicateMatches` initializer `false` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
        @Override
        public EventFilter create(String name, NodeState before, NodeState after) {
            boolean predicateMatches = false;
            if (after.exists()) {
                predicateMatches = predicate.test(after);
```

### UnusedAssignment
Variable `azPersistence` initializer `null` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        AzurePersistence azPersistence = null;
        try {
            azPersistence = createAzurePersistence();
```

### UnusedAssignment
Variable `azPersistence` initializer `null` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        AzurePersistence azPersistence = null;
        try {
            azPersistence = createAzurePersistence();
```

### UnusedAssignment
Variable `compare` initializer `-1` is redundant
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/PropertyStateValue.java`
#### Snippet
```java
                Calendar c1 = ISO8601.parse(v1);
                Calendar c2 = ISO8601.parse(v2);
                int compare = -1;
                if (c1 != null && c2 != null) {
                    compare = c1.compareTo(c2);
```

### UnusedAssignment
Variable `persistence` initializer `null` is redundant
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
    public static SegmentNodeStorePersistence newSegmentNodeStorePersistence(SegmentStoreType storeType,
            String pathOrUri) throws IOException {
        SegmentNodeStorePersistence persistence = null;

        switch (storeType) {
```

### UnusedAssignment
Variable `persistence` initializer `null` is redundant
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/ToolUtils.java`
#### Snippet
```java
    public static SegmentNodeStorePersistence newSegmentNodeStorePersistence(SegmentStoreType storeType,
            String pathOrUri, String persistentCachePath, Integer persistentCacheSize) {
        SegmentNodeStorePersistence persistence = null;

        switch (storeType) {
```

### UnusedAssignment
Variable `archiveManager` initializer `null` is redundant
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/ToolUtils.java`
#### Snippet
```java

    public static SegmentArchiveManager createArchiveManager(SegmentNodeStorePersistence persistence) {
        SegmentArchiveManager archiveManager = null;
        try {
            archiveManager = persistence.createArchiveManager(false, false, new IOMonitorAdapter(),
```

### UnusedAssignment
Variable `persistence` initializer `null` is redundant
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/ToolUtils.java`
#### Snippet
```java
    public static SegmentNodeStorePersistence newSegmentNodeStorePersistence(SegmentStoreType storeType,
            String pathOrUri) {
        SegmentNodeStorePersistence persistence = null;

        switch (storeType) {
```

### UnusedAssignment
Variable `patternChar` initializer `0` is redundant
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/FragmentMatcher.java`
#### Snippet
```java
    public static Result startsWith(String pattern, String subject) {
        int i = 0, j = 0;
        char patternChar = 0, subjectChar;

        while (i < pattern.length() && j < subject.length()) {
```

### UnusedAssignment
Variable `credentials` initializer `null` is redundant
in `oak-http/src/main/java/org/apache/jackrabbit/oak/http/OakServlet.java`
#### Snippet
```java
            throws ServletException, IOException {
        try {
            Credentials credentials = null;

            String authorization = request.getHeader("Authorization");
```

### UnusedAssignment
Variable `pathPredicate` initializer `path -> true` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
    private final Compression algorithm;

    private Predicate<String> pathPredicate = path -> true;

    /**
```

### UnusedAssignment
Variable `pathPredicate` initializer `path -> true` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java
    private String registrationID;
    private final long dumpThreshold;
    private Predicate<String> pathPredicate = path -> true;

    TraverseAndSortTask(MongoDocumentTraverser.TraversingRange range, Comparator<NodeStateHolder> comparator,
```

### UnusedAssignment
Variable `port` initializer `0` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            .build();
        
        int port = 0;
        try (ServerSocket socket = new ServerSocket(0)) {
            port = socket.getLocalPort();
```

### UnusedAssignment
Variable `n` initializer `0` is redundant
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
        byte[] buffer = new byte[4096];
        long count = 0;
        int n = 0;
        while (-1 != (n = input.read(buffer))) {
            output.write(buffer, 0, n);
```

### UnusedAssignment
The value `jsop.charAt(++pos)` assigned to `ch` is never used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
                        ch = jsop.charAt(++pos);
                        if (ch == '+' || ch == '-') {
                            ch = jsop.charAt(++pos);
                        }
                        while (pos < length) {
```

### UnusedAssignment
The value `small` assigned to `entries` is never used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            @SuppressWarnings("unchecked")
            Entry<K, V>[] small = new Entry[1];
            entries = small;
            @SuppressWarnings("unchecked")
            Entry<K, V>[] e = new Entry[len];
```

### UnusedAssignment
Variable `repoId` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
        // If a shared data store register the repo id in the data store
        if (SharedDataStoreUtils.isShared(blobStore)) {
            String repoId = null;
            try {
                repoId = ClusterRepositoryInfo.getOrCreateId(nodeStore);
```

### UnusedAssignment
Variable `vendorCode` initializer `RDBCommonVendorSpecificCode.DEFAULT` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
    protected String description;

    protected RDBCommonVendorSpecificCode vendorCode = RDBCommonVendorSpecificCode.DEFAULT;

    protected String extractFields(ResultSet rs, String indexStats) throws SQLException {
```

### UnusedAssignment
Variable `vendorCode` initializer `RDBCommonVendorSpecificCode.DEFAULT` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStoreDB.java`
#### Snippet
```java
    protected String description;

    protected RDBCommonVendorSpecificCode vendorCode = RDBCommonVendorSpecificCode.DEFAULT;

    private RDBBlobStoreDB(String description) {
```

### UnusedAssignment
Variable `readStats` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    /** OAK-2624 : background read operations are split from background update ops */
    private void internalRunBackgroundReadOperations() {
        BackgroundReadStats readStats = null;
        synchronized (backgroundReadMonitor) {
            long start = clock.getTime();
```

### UnusedAssignment
Variable `asyncDelay` initializer `1000` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * cache update).
     */
    private int asyncDelay = 1000;

    /**
```

### UnusedAssignment
Variable `value` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
        String key = op.get(1).toString();
        Revision rev = null;
        Object value = null;
        if (op.size() == 3) {
            value = op.get(2);
```

### UnusedAssignment
Variable `line` initializer `null` is redundant
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
        try {
            reader = new BufferedReader(new InputStreamReader(stream, Charsets.UTF_8));
            String line  = null;
            while ((line = reader.readLine()) != null) {
                if (unescape) {
```

### UnusedAssignment
The value changed at `si++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

            if (oldmodcount != null) {
                stmt.setObject(si++, oldmodcount, Types.BIGINT);
            }
            int result = stmt.executeUpdate();
```

### UnusedAssignment
The value changed at `field++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                long sdMaxRevTime = tmd.hasSplitDocs() ? readLongFromResultSet(rs, field++) : RDBRow.LONG_UNSET;
                String data = rs.getString(field++);
                byte[] bdata = rs.getBytes(field++);
                PERFLOG.end(pstart, 10,
                        "read: table={}, id={}, lastmodcount={}, lastmodified={} -> modcount={}, modified={}, data={}, bdata={}",
```

### UnusedAssignment
The value changed at `field++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                    long sdMaxRevTime = tmd.hasSplitDocs() ? readLongFromResultSet(rs, field++) : RDBRow.LONG_UNSET;
                    String data = rs.getString(field++);
                    byte[] bdata = rs.getBytes(field++);
                    RDBRow row = new RDBRow(id, hasBinary, deletedOnce, modified, modcount, cmodcount, schemaVersion, sdType,
                            sdMaxRevTime, data, bdata);
```

### UnusedAssignment
The value changed at `si++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                if (data.length() < tmd.getDataLimitInOctets() / CHAR2OCTETRATIO) {
                    setDataInStatement(tmd, stmt, si++, data);
                    stmt.setBinaryStream(si++, null, 0);
                } else {
                    setDataInStatement(tmd, stmt, si++, "\"blob\"");
```

### UnusedAssignment
The value changed at `si++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                    setDataInStatement(tmd, stmt, si++, "\"blob\"");
                    byte[] bytes = asBytes(data);
                    stmt.setBytes(si++, bytes);
                }
                stmt.addBatch();
```

### UnusedAssignment
The value changed at `si++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

            if (oldmodcount != null) {
                stmt.setObject(si++, oldmodcount, Types.BIGINT);
            }
            int result = stmt.executeUpdate();
```

### UnusedAssignment
Variable `message` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private Exception callstack = null;
        private long elapsed = 0;
        private String message = null;
        private long cnt = 0;
        private long pstart;
```

### UnusedAssignment
Variable `next` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private PreparedStatement stmt;
        private ResultSet rs;
        private RDBRow next = null;
        private Exception callstack = null;
        private long elapsed = 0;
```

### UnusedAssignment
The value changed at `field++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                long sdMaxRevTime = tmd.hasSplitDocs() ? readLongFromResultSet(rs, field++) : RDBRow.LONG_UNSET;
                String data = rs.getString(field++);
                byte[] bdata = rs.getBytes(field++);
                result.add(new RDBRow(id, hasBinary, deletedOnce, modified, modcount, cmodcount, schemaVersion, sdType,
                        sdMaxRevTime, data, bdata));
```

### UnusedAssignment
The value changed at `field++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                    long sdMaxRevTime = tmd.hasSplitDocs() ? readLongFromResultSet(rs, field++) : RDBRow.LONG_UNSET;
                    String data = this.rs.getString(field++);
                    byte[] bdata = this.rs.getBytes(field++);
                    PERFLOG.end(pstart, 10, "queried: table={} -> id={}, modcount={}, modified={}, data={}, bdata={}",
                            tmd.getName(), id, modcount, modified, (data == null ? 0 : data.length()),
```

### UnusedAssignment
The value changed at `si++` is never used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

                setIdInStatement(tmd, stmt, si++, document.getId());
                stmt.setObject(si++, modcount - 1, Types.BIGINT);
                stmt.addBatch();
                updatedKeys.add(document.getId());
```

### UnusedAssignment
Variable `oldDoc` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ThrottlingDocumentStoreWrapper.java`
#### Snippet
```java
    public <T extends Document> T findAndUpdate(final Collection<T> collection, final UpdateOp update) {
        long throttlingTime = performThrottling(collection);
        T oldDoc = null;
        try {
            oldDoc = store.findAndUpdate(collection, update);
```

### UnusedAssignment
Variable `count` initializer `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ThrottlingDocumentStoreWrapper.java`
#### Snippet
```java
    public <T extends Document> int remove(final Collection<T> collection, final Map<String, Long> toRemove) {
        long throttlingTime = performThrottling(collection);
        int count = 0;
        try {
            count = store.remove(collection, toRemove);
```

### UnusedAssignment
Variable `results` initializer `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ThrottlingDocumentStoreWrapper.java`
#### Snippet
```java
    public <T extends Document> List<T> createOrUpdate(final Collection<T> collection, final List<UpdateOp> updateOps) {
        long throttlingTime = performThrottling(collection);
        List<T> results = null;
        try {
            results = store.createOrUpdate(collection, updateOps);
```

### UnusedAssignment
Variable `count` initializer `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ThrottlingDocumentStoreWrapper.java`
#### Snippet
```java
                                           final long startValue, final long endValue) throws DocumentStoreException {
        long throttlingTime = performThrottling(collection);
        int count = 0;
        try {
            count = store.remove(collection, indexedProperty, startValue, endValue);
```

### UnusedAssignment
Variable `status` initializer `Status.NOP` is redundant
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/basic/DefaultSyncResultImpl.java`
#### Snippet
```java
    private final DefaultSyncedIdentity id;

    private Status status = Status.NOP;

    public DefaultSyncResultImpl(@Nullable DefaultSyncedIdentity id, @NotNull Status status) {
```

### UnusedAssignment
Variable `line` initializer `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/JournalReader.java`
#### Snippet
```java
    protected JournalEntry computeNext() {
        try {
            String line = null;
            while ((line = reader.readLine()) != null) {
                if (line.indexOf(' ') != -1) {
```

### UnusedAssignment
Variable `random` initializer `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarManager.java`
#### Snippet
```java
                }

                FileAccess random = null;
                if (offHeapAccess) {
                    random = new FileAccess.RandomOffHeap(access);
```

### UnusedAssignment
Variable `forceTimeout` initializer `FORCE_TIMEOUT_DEFAULT` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/compaction/SegmentGCOptions.java`
#### Snippet
```java
    private int retryCount = RETRY_COUNT_DEFAULT;

    private int forceTimeout = FORCE_TIMEOUT_DEFAULT;

    private int retainedGenerations = RETAINED_GENERATIONS_DEFAULT;
```

### UnusedAssignment
Variable `paused` initializer `PAUSE_DEFAULT` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/compaction/SegmentGCOptions.java`
#### Snippet
```java
    public static final int MEMORY_THRESHOLD_DEFAULT = 15;

    private boolean paused = PAUSE_DEFAULT;

    /**
```

### UnusedAssignment
Variable `retryCount` initializer `RETRY_COUNT_DEFAULT` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/compaction/SegmentGCOptions.java`
#### Snippet
```java
    private boolean estimationDisabled = DISABLE_ESTIMATION_DEFAULT;

    private int retryCount = RETRY_COUNT_DEFAULT;

    private int forceTimeout = FORCE_TIMEOUT_DEFAULT;
```

### UnusedAssignment
Variable `dns` initializer `null` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
        String h = "mongodb://host:port/database|jdbc:...";

        DocumentNodeStore dns = null;
        try {
            DocumentNodeStoreBuilder<?> builder = Utils.createDocumentMKBuilder(args, closer, h);
```

### UnusedAssignment
Variable `options` initializer `null` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
            OptionSpec<?> help = parser.acceptsAll(asList("h", "?", "help"), "show help").forHelp();

            OptionSet options = null;
            try {
                options = parser.parse(args);
```

### UnusedAssignment
Variable `code` initializer `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
        }

        int code = 0;

        if (path.startsWith("az:")) {
```

### UnusedAssignment
Variable `options` initializer `null` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            trackOverride.availableIf(idOp, consistencyOp);

            OptionSet options = null;
            try {
                options = parser.parse(args);
```

### UnusedAssignment
The value `JsopBuilder.encode(clear)` assigned to `v` is never used
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
                    String base64 = v.substring(9, v.length() - 1);
                    String clear = new String(java.util.Base64.getDecoder().decode(base64), StandardCharsets.UTF_8);
                    v = JsopBuilder.encode(clear);
                    // we don't update the property, otherwise importing the index
                    // would change the type
```

### UnusedAssignment
Variable `id` initializer `null` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
            return;
        }
        UUID id = null;
        try {
            id = UUID.fromString(sid.trim());
```

### UnusedAssignment
The value `p.substring(2)` assigned to `p` is never used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ValueConverter.java`
#### Snippet
```java
                        String p = uri.getPath();
                        if (p.startsWith("./")) {
                            p = p.substring(2);
                        }
                        return PropertyValues.newPath(v);
```

### UnusedAssignment
The value `p.substring(2)` assigned to `p` is never used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ValueConverter.java`
#### Snippet
```java
                        String p = uri.getPath();
                        if (p.startsWith("./")) {
                            p = p.substring(2);
                        }
                        return PropertyValues.newName(getOakPath(v, mapper));
```

### UnusedAssignment
Variable `startLoop` initializer `0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
        query.getChars(0, len, command, 0);
        command[len] = ' ';
        int startLoop = 0;
        for (int i = 0; i < len; i++) {
            char c = command[i];
```

### UnusedAssignment
Variable `tds` initializer `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
    
    private TabularData asTabularData(ArrayList<QueryStatsData> list) {
        TabularDataSupport tds = null;
        try {
            CompositeType ct = QueryStatsCompositeTypeFactory.getCompositeType();
```

### UnusedAssignment
Variable `startLoop` initializer `0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        query.getChars(0, len, command, 0);
        command[len] = ' ';
        int startLoop = 0;
        for (int i = 0; i < len; i++) {
            char c = command[i];
```

### UnusedAssignment
The value `true` assigned to `init` is never used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/ConcatCursor.java`
#### Snippet
```java
        if (!init) {
            fetchNext();
            init = true;
        }
        IndexRow result = current;
```

### UnusedAssignment
Variable `editor` initializer `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
                }

                Editor editor = null;
                try {
                    editor = rootState.provider.getIndexEditor(type, definition, rootState.root,
```

### UnusedAssignment
Variable `updatePostRunStatus` initializer `true` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                                  AtomicReference<String> checkpointToReleaseRef) throws CommitFailedException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean updatePostRunStatus = true;
        boolean progressLogged = false;
        // prepare the update callback for tracking index updates
```

### UnusedAssignment
Variable `mixinType` initializer `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
        }

        NodeType mixinType = null;
        try {
            mixinType = ntMgr.internalGetNodeType(mixin);
```

### UnusedAssignment
Variable `s3service` initializer `null` is redundant
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        String accessKey = prop.getProperty(S3Constants.ACCESS_KEY);
        String secretKey = prop.getProperty(S3Constants.SECRET_KEY);
        AmazonS3Client s3service = null;
        if (StringUtils.isNullOrEmpty(accessKey)
                || StringUtils.isNullOrEmpty(secretKey)) {
```

### UnusedAssignment
Variable `endpoint` initializer `null` is redundant
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        }
        String region = prop.getProperty(S3Constants.S3_REGION);
        String endpoint = null;
        String propEndPoint = prop.getProperty(S3Constants.S3_END_POINT);
        if ((propEndPoint != null) & !"".equals(propEndPoint)) {
```

### UnusedAssignment
Variable `record` initializer `null` is redundant
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        DataIdentifier blobId = new DataIdentifier(getIdentifierName(key));

        DataRecord record = null;
        try {
            record = getRecord(blobId);
```

### UnusedAssignment
Variable `byteRef` initializer `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        }
        TermsEnum iterator = terms.iterator(null);
        BytesRef byteRef = null;
        class Entry implements Comparable<Entry> {
            String term;
```

### UnusedAssignment
Variable `c` initializer `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/NodeStateAnalyzerFactory.java`
#### Snippet
```java
            }
        }
        Constructor<? extends Analyzer> c = null;

        try {
```

### UnusedAssignment
Variable `hashCount` initializer `DEFAULT_HASH_COUNT` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
  private int bucketCount = DEFAULT_BUCKET_COUNT;

  private int hashCount = DEFAULT_HASH_COUNT;

  private boolean requiresInitialisation = true;
```

### UnusedAssignment
Variable `hashSetSize` initializer `DEFAULT_HASH_SET_SIZE` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
  private final List<List<FixedSizeTreeSet<LongPair>>> minHashSets;

  private int hashSetSize = DEFAULT_HASH_SET_SIZE;

  private int bucketCount = DEFAULT_BUCKET_COUNT;
```

### UnusedAssignment
Variable `bucketCount` initializer `DEFAULT_BUCKET_COUNT` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
  private int hashSetSize = DEFAULT_HASH_SET_SIZE;

  private int bucketCount = DEFAULT_BUCKET_COUNT;

  private int hashCount = DEFAULT_HASH_COUNT;
```

### UnusedAssignment
The value `getFile(id.digest, false)` assigned to `f` is never used
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
            f.getParentFile().mkdir();
            old.renameTo(f);
            f = getFile(id.digest, false);
        }
    }
```

### UnusedAssignment
Variable `createdFolder` initializer `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java

    private File createTemporaryFolder(File parentFolder) {
        File createdFolder = null;
        try {
            createdFolder = File.createTempFile("oak", "", parentFolder);
```

### UnusedAssignment
Variable `session` initializer `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                long level1Pointer = 1;
                long level2Pointer = 1;
                Session session = null;
                try {
                    session = repository.login(
```

### UnusedAssignment
Variable `added` initializer `false` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/principalbased/PrinicipalBasedReadTest.java`
#### Snippet
```java

    private static boolean addEntry(@NotNull JackrabbitAccessControlManager acMgr, @NotNull Principal principal, @NotNull String path, @NotNull Privilege[] privileges, boolean useDefault) throws RepositoryException {
        boolean added = false;
        JackrabbitAccessControlList acl = null;
        if (useDefault) {
```

## RuleId[id=IndexOfReplaceableByContains]
### IndexOfReplaceableByContains
`value.indexOf(filteredText) < 0` can be replaced with '!value.contains(filteredText)'
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextTerm.java`
#### Snippet
```java
        }
        if (not) {
            return value.indexOf(filteredText) < 0;
        }
        return value.indexOf(filteredText) >= 0;
```

### IndexOfReplaceableByContains
`value.indexOf(filteredText) >= 0` can be replaced with 'value.contains(filteredText)'
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextTerm.java`
#### Snippet
```java
            return value.indexOf(filteredText) < 0;
        }
        return value.indexOf(filteredText) >= 0;
    }

```

### IndexOfReplaceableByContains
`solrServerConfiguration.getClass().getName().indexOf("EmbeddedSolrServerConfiguration") >= 0` can be replaced with 'solrServerConfiguration.getClass().getName().contains("EmbeddedSolrServerConfiguration")'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/OakSolrServer.java`
#### Snippet
```java
        SolrClient solrServer = SolrServerRegistry.get(solrServerConfiguration, strategy);
        if (solrServer == null) {
            if (solrServerConfiguration.getClass().getName().indexOf("EmbeddedSolrServerConfiguration") >= 0) {
                solrServer = solrServerProvider.getSolrServer();
                // the same Solr server has to be used for both
```

### IndexOfReplaceableByContains
`arch.indexOf("32") != -1` can be replaced with 'arch.contains("32")'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/StringSizeEstimator.java`
#### Snippet
```java
        String arch = System.getProperty("sun.arch.data.model");
        if (arch != null) {
            if (arch.indexOf("32") != -1) {
                // If exists and is 32 bit then we assume a 32bit JVM
                is64Bit = false;
```

### IndexOfReplaceableByContains
`displayName.indexOf("virtual") >= 0` can be replaced with 'displayName.contains("virtual")'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                                String displayName = ni.getDisplayName().toLowerCase(Locale.ENGLISH);
                                // de-prioritize addresses that are likely to be virtual (see OAK-3885 and OAK-8935)
                                boolean looksVirtual = displayName.indexOf("virtual") >= 0 || displayName.indexOf("vpn") >= 0
                                        || displayName.indexOf("docker") >= 0;
                                if (!looksVirtual) {
```

### IndexOfReplaceableByContains
`displayName.indexOf("vpn") >= 0` can be replaced with 'displayName.contains("vpn")'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                                String displayName = ni.getDisplayName().toLowerCase(Locale.ENGLISH);
                                // de-prioritize addresses that are likely to be virtual (see OAK-3885 and OAK-8935)
                                boolean looksVirtual = displayName.indexOf("virtual") >= 0 || displayName.indexOf("vpn") >= 0
                                        || displayName.indexOf("docker") >= 0;
                                if (!looksVirtual) {
```

### IndexOfReplaceableByContains
`displayName.indexOf("docker") >= 0` can be replaced with 'displayName.contains("docker")'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
                                // de-prioritize addresses that are likely to be virtual (see OAK-3885 and OAK-8935)
                                boolean looksVirtual = displayName.indexOf("virtual") >= 0 || displayName.indexOf("vpn") >= 0
                                        || displayName.indexOf("docker") >= 0;
                                if (!looksVirtual) {
                                    macAddresses.add(str);
```

### IndexOfReplaceableByContains
`statement.indexOf(QueryEngine.INTERNAL_SQL2_QUERY) >= 0` can be replaced with 'statement.contains(QueryEngine.INTERNAL_SQL2_QUERY)'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
     */
    public static boolean isInternal(String statement) {
        return statement.indexOf(QueryEngine.INTERNAL_SQL2_QUERY) >= 0;
    }

```

### IndexOfReplaceableByContains
`origUpper.indexOf(orderBy) > -1` can be replaced with 'origUpper.contains(orderBy)'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            recomputed.append(original.substring(0, origUpper.indexOf(where) + whereOffset));
            recomputed.append(query.getConstraint());
            if (origUpper.indexOf(orderBy) > -1) {
                recomputed.append(original.substring(origUpper.indexOf(orderBy)));
            }
```

## RuleId[id=SocketResource]
### SocketResource
'Socket' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        while (isRunning()) {
            try {
                final Socket socket = serverSocket.accept();
                Runnable r = new Runnable() {
                    @Override
```

### SocketResource
'Socket' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
                return;
            }
            Socket socket = new Socket();
            try {
                socket.connect(new InetSocketAddress(address, port), TIMEOUT);
```

## RuleId[id=ManualArrayToCollectionCopy]
### ManualArrayToCollectionCopy
Manual array to collection copy
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/NamespacePrefixNodestoreChecker.java`
#### Snippet
```java
        
        public Context(String[] prefixes) {
            for (String prefix : prefixes ) {
                validPrefixes.add(prefix);
            }
```

### ManualArrayToCollectionCopy
Manual array to collection copy
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
                String[] vca1 = getOldDef().getValueConstraints();
                Set<String> set1 = new HashSet<String>();
                for (String aVca1 : vca1) {
                    set1.add(aVca1);
                }
```

### ManualArrayToCollectionCopy
Manual array to collection copy
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
                String[] vca2 = getNewDef().getValueConstraints();
                Set<String> set2 = new HashSet<String>();
                for (String aVca2 : vca2) {
                    set2.add(aVca2);
                }
```

## RuleId[id=UnnecessarySemicolon]
### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
            return "Clock.Virtual";
        }
    };
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
    public enum FETCHFIRSTSYNTAX {
        FETCHFIRST, LIMIT, TOP
    };

    /**
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
    private enum Format {
        JSON, JSONARRAY, CSV
    };

    private static final RDBJSONSupport JSON = new RDBJSONSupport(false);
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/monitor/ExternalIdentityMonitor.java`
#### Snippet
```java
     * @param retryCount The number of retries needed to complete the sync.
     */
    default void doneSyncExternalIdentity(long timeTakenNanos, @NotNull SyncResult result, int retryCount) {};

    /**
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/monitor/ExternalIdentityMonitor.java`
#### Snippet
```java
     * @param result The result of the sync operation.
     */
    default void doneSyncId(long timeTakenNanos, @NotNull SyncResult result) {};

    /**
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/monitor/ExternalIdentityMonitor.java`
#### Snippet
```java
     * @param syncException The sync exception.
     */
    default void syncFailed(@NotNull SyncException syncException) {};

    @Override
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
    public void execute(String... args) throws Exception {

        CheckpointsOptions options = new CheckpointsOptions("checkpoints {<path>|<mongo-uri>|<jdbc-uri>} [list|rm-all|rm-unreferenced|rm <checkpoint>|info <checkpoint>|set <checkpoint> <name> [<value>]] [--segment]").parse(args);;
        if (options.isHelp()) {
            options.printHelpOn(System.out);
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authentication/external/CustomExternalIdentityProvider.java`
#### Snippet
```java
    private Set<String> groupIds = new HashSet<>();

    public CustomExternalIdentityProvider() {};


```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryOptions.java`
#### Snippet
```java
        // the default setting
        DEFAULT
    };

    public QueryOptions() {
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java

        Iterator<ResultRowImpl> it;
        final Iterator<ResultRowImpl> leftRows = facetMerger.getLeftIterator();;
        final Iterator<ResultRowImpl> rightRows = facetMerger.getRightIterator();
        Iterator<ResultRowImpl> leftIter = leftRows;
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/OrderedIndex.java`
#### Snippet
```java
            return ASC.equals(fromIndexMeta(indexMeta));
        }
    };
    
    String TYPE = "ordered";
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/inventory/IndexDefinitionPrinter.java`
#### Snippet
```java
    private NodeStore nodeStore;
    
    private String filter = "{\"properties\":[\"*\", \"-:childOrder\"],\"nodes\":[\"*\", \"-:*\"]}";;

    public IndexDefinitionPrinter() {
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java
        ObjectMetadata metadata = request.getObjectMetadata() == null
                                      ? new ObjectMetadata()
                                      : request.getObjectMetadata();;
        switch (getDataEncryption()) {
            case SSE_S3:
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java
        ObjectMetadata metadata = request.getNewObjectMetadata() == null
                                      ? new ObjectMetadata()
                                      : request.getNewObjectMetadata();;
        switch (getDataEncryption()) {
            case SSE_S3:
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java
     */
    private enum DataEncryption {
        SSE_S3, SSE_KMS, NONE;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/SimpleCredentialsSupport.java`
#### Snippet
```java
    private static final SimpleCredentialsSupport INSTANCE = new SimpleCredentialsSupport();

    private SimpleCredentialsSupport() {};

    public static CredentialsSupport getInstance() {
```

## RuleId[id=SimplifyStreamApiCallChains]
### SimplifyStreamApiCallChains
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreStats.java`
#### Snippet
```java
        if (newValue == 1) {
            if (nodePathCounts.size() >= nodePathCountSizeLimit) {
                nodePathCounts.entrySet().stream().forEach(e -> nodePathCounts.put(e.getKey(), e.getValue() - 1));
                maxNodePathCount--;
                removeZeros = true;
```

### SimplifyStreamApiCallChains
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreStats.java`
#### Snippet
```java
            maxNodePathCount = newValue;
            if (maxNodePathCount >= nodePathCountValueLimit) {
                nodePathCounts.entrySet().stream().forEach(e -> nodePathCounts.put(e.getKey(), e.getValue() / 2));
                maxNodePathCount /= 2;
                removeZeros = true;
```

### SimplifyStreamApiCallChains
The 'filter().findFirst().isPresent()' chain can be replaced with 'anyMatch()'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java

    private static boolean isSameProductVersionBaseIndexPresent(List<IndexName> reverseSortedIndexNameList, IndexName activeIndexNameObject) {
        return reverseSortedIndexNameList.stream().filter(n -> (n.getBaseName().equals(activeIndexNameObject.getBaseName())
                && n.getProductVersion() == activeIndexNameObject.getProductVersion()
                && n.getCustomerVersion() == 0)).findFirst().isPresent();
    }

```

### SimplifyStreamApiCallChains
''stream().forEach()'' can be replaced with 'forEach()'' (may change semantics)
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/COWNodeStore.java`
#### Snippet
```java
        branchStore.merge(b, EmptyHook.INSTANCE, CommitInfo.EMPTY);

        branchStore.addObserver((root, info) -> observers.stream().forEach(o -> o.contentChanged(root, info)));
        this.branchStore = branchStore;
    }
```

## RuleId[id=StringOperationCanBeSimplified]
### StringOperationCanBeSimplified
`new String()` is redundant
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeState.java`
#### Snippet
```java
    // the root store will be ignored

    static final String STOP_COUNTING_CHILDREN = new String(CompositeNodeState.class.getName() + ".stopCountingChildren");

    private final NodeMap<NodeState> nodeStates;
```

### StringOperationCanBeSimplified
Inefficient conversion from ByteArrayOutputStream
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java
            ByteArrayOutputStream out = new ByteArrayOutputStream();
            Base64.decode(value, out);
            value = new String(out.toByteArray(), "UTF-8");
        }
        return value;
```

### StringOperationCanBeSimplified
Call to `substring()` is redundant
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
                if (sb == null) {
                    sb = new StringBuilder(value.length() * 2);
                    sb.append(value.substring(0, i));
                }
                sb.append(replace);
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/StopwatchLogger.java`
#### Snippet
```java
     */
    public StopwatchLogger(@Nullable final Logger customLog, @NotNull final Class<?> clazz) {
        this(customLog, checkNotNull(clazz).getName().toString());
    }

```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/StopwatchLogger.java`
#### Snippet
```java
     */
    public StopwatchLogger(@NotNull final Class<?> clazz) {
        this(checkNotNull(clazz).getName().toString());
    }

```

### StringOperationCanBeSimplified
Call to `substring()` is redundant
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PathUtils.java`
#### Snippet
```java
                        result.append('/');
                    }
                    result.append(path.substring(i0, i1));
                }
            }
```

### StringOperationCanBeSimplified
Inefficient conversion from ByteArrayOutputStream
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            copyInThread(p.getErrorStream(), err);
            p.waitFor();
            String e = new String(err.toByteArray(), "UTF-8");
            if (e.length() > 0) {
                throw new RuntimeException(e);
```

### StringOperationCanBeSimplified
Inefficient conversion from ByteArrayOutputStream
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                throw new RuntimeException(e);
            }
            String output = new String(out.toByteArray(), "UTF-8");
            return output;
        } catch (Exception e) {
```

### StringOperationCanBeSimplified
`new String()` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/StringCache.java`
#### Snippet
```java
        String cached = STRING_CACHE[index];
        if (!s.equals(cached)) {
            cached = new String(s); // avoid referring to 
            STRING_CACHE[index] = cached;
        }
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                        while (rs.next()) {
                            String data = extractFields(rs, tableStats);
                            result.put("_data", data.toString());
                        }
                    }
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                        while (rs.next()) {
                            String data = extractFields(rs, tableStats);
                            result.put("_data", data.toString());
                        }
                    }
```

### StringOperationCanBeSimplified
Unnecessary empty string argument
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
    private static void printHelp() {
        System.err.println("Export Apache OAK RDB data to JSON files");
        System.err.println("");
        System.err.println("Generic options:");
        System.err.println("  --help                             produce this help message");
```

### StringOperationCanBeSimplified
Unnecessary empty string argument
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --help                             produce this help message");
        System.err.println("  --version                          show version information");
        System.err.println("");
        System.err.println("JDBC options:");
        System.err.println("  -j/--jdbc-url JDBC-URL             JDBC URL of database to connect to");
```

### StringOperationCanBeSimplified
Unnecessary empty string argument
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -c/--collection table              table name (defaults to 'nodes')");
        System.err.println("  -q/--query query                   SQL where clause (minus 'where')");
        System.err.println("");
        System.err.println("Dump file options:");
        System.err.println("  --columns column-names             column names (comma separated)");
```

### StringOperationCanBeSimplified
Unnecessary empty string argument
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --lobdir dir                       name of DB2 DEL export file LOB directory");
        System.err.println("                                     (defaults to ./lobdir under the dump file)");
        System.err.println("");
        System.err.println("Output options:");
        System.err.println("  -o/--out file                      Output to name file (instead of stdout)");
```

### StringOperationCanBeSimplified
Unnecessary string length argument
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            broadcaster = InMemoryBroadcaster.INSTANCE;
        } else if (broadcast.startsWith("udp:")) {
            String config = broadcast.substring("udp:".length(), broadcast.length());
            broadcaster = new UDPBroadcaster(config);
        } else if (broadcast.startsWith("tcp:")) {
```

### StringOperationCanBeSimplified
Unnecessary string length argument
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            broadcaster = new UDPBroadcaster(config);
        } else if (broadcast.startsWith("tcp:")) {
            String config = broadcast.substring("tcp:".length(), broadcast.length());
            broadcaster = new TCPBroadcaster(config);
        } else {
```

### StringOperationCanBeSimplified
Unnecessary string length argument
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
         for (String n : meta.keySet()) {
             if (n.startsWith("name.")) {
                 String mapName = n.substring(5, n.length());
                 if (map.length() > 0 && !map.equalsIgnoreCase(mapName)) {
                     continue;
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
            value = "$" + getValueOrVariable("\"" + value.substring(1) + "\"");
        }
        return data.get(value.toString());
    }

```

### StringOperationCanBeSimplified
Call to `substring()` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            recomputed.append(original);
        } else {
            recomputed.append(original.substring(0, origUpper.indexOf(where) + whereOffset));
            recomputed.append(query.getConstraint());
            if (origUpper.indexOf(orderBy) > -1) {
```

### StringOperationCanBeSimplified
Unnecessary string length argument
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
                }
            }
            String newQuery = query.substring(0, pathIndex) + "/jcr:root/" + path + query.substring(end, query.length());
            query = newQuery;
        }
```

### StringOperationCanBeSimplified
Call to `substring()` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
        if (statement.length() > MAX_QUERY_SIZE) {
            statement = new StringBuilder().append("Truncated query: ")
                    .append(statement.substring(0, MAX_QUERY_SIZE >> 1))
                    .append(" ...... ")
                    .append(statement.substring(statement.length() - (MAX_QUERY_SIZE >> 1)))
```

### StringOperationCanBeSimplified
Unnecessary empty string argument
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/AggregateNodeSearcher.java`
#### Snippet
```java
        // /jcr:root//element(*, ActivityType)[((id = 1234 or id = '1354'))] order by jcr:created
        // descending
        StringBuilder statement = new StringBuilder("");
        statement.append("/jcr:root")
            .append("//element(*, ")
```

## RuleId[id=UnnecessaryCallToStringValueOf]
### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
        String encodedValue() {
            if (hasLengthInfo()) {
                return blobId + SEP + String.valueOf(length);
            } else {
                return blobId;
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        b.value(previousView.getCreatedBy());
        b.key(RETIRED_KEY);
        b.value(String.valueOf(ISO8601.format(retireTime)));
        b.key(RETIRER_KEY);
        b.value(retiringClusterNodeId);
```

### UnnecessaryCallToStringValueOf
Unnecessary `Long.toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
            e.put(sStarted, start <= 0 ? "-" : df.format(new Date(start)));
            e.put(sLeaseEnd, leaseEnd == 0 ? "-" : df.format(new Date(leaseEnd)));
            e.put(sLeft, (left < -999) ? "-" : (Long.toString(left) + "s"));
            e.put(sRecoveryBy,
                    c.getRecoveryBy() == null ? (c.isRecoveryNeeded(now) ? "!" : "-") : Long.toString(c.getRecoveryBy()));
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    File trackingFileParent = new File(FilenameUtils.concat(trackPath, "blobids"));
                    File trackingFile = new File(trackingFileParent,
                        "blob-" + String.valueOf(System.currentTimeMillis()) + ".gen");
                    FileUtils.copyFile(idTemp, trackingFile);
                }
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
            checkState(history.hasChildNode(JCR_ROOTVERSION));
            NodeBuilder v = history.getChildNode(JCR_ROOTVERSION);
            return String.valueOf(v.getProperty(JCR_SUCCESSORS).count() + 1) + ".0";
        }
    }
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
        for (int i = 0; i < WRITERS; i++) {
            /* Each writer will write to a directory of the form load-b-i */
            addBackgroundJob(new BlobWriter(String.valueOf(context.getIncrement() + "-b-" + i), 1,
                    null));
        }
```

### UnnecessaryCallToStringValueOf
Unnecessary `String .valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndex", ASYNC_INDEX,
                        new String[]{FILTER_PROP, DATE_PROP},
```

### UnnecessaryCallToStringValueOf
Unnecessary `String .valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
                Map<String, String> propMap = Maps.newHashMap();
```

### UnnecessaryCallToStringValueOf
Unnecessary `String .valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndexActivity", ASYNC_INDEX,
                        new String[]{SOURCE_ID, CREATED},
```

### UnnecessaryCallToStringValueOf
Unnecessary `String .valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
                Map<String, String> propMap = Maps.newHashMap();
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                    // check if last bucket has enough space
                    if (maxNum < 0 || numChildNodes(parentNode) >= BUCKET_SIZE) {
                        parentNode = dayNode.addNode("@" + String.valueOf(maxNum + 1),
                            NodeTypeConstants.NT_OAK_UNSTRUCTURED);
                    }
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
        // Add users
        for (int idx = 0; idx < NUM_USERS * context.getIncrement(); idx++) {
            String name = String.valueOf((char) (random.nextInt(26) + 'a')) + CTX_USER + context
                .getIncrement() + "_" + idx;
            User user = userMgr.createUser(name, name);
```

### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
        // Add groups and include random number of members
        for (int idx = 0; idx < NUM_GROUPS * context.getIncrement(); idx++) {
            String name = String.valueOf((char) (random.nextInt(26) + 'a')) + CTX_GROUP + context
                .getIncrement() + idx;
            Group group = userMgr.createGroup(name);
```

## RuleId[id=ProtectedMemberInFinalClass]
### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * The commit queue to coordinate the commits.
     */
    protected final CommitQueue commitQueue;

    /**
```

### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/NodeBuilderTree.java`
#### Snippet
```java
    }

    protected NodeBuilderTree(@Nullable NodeBuilderTree parent, @NotNull NodeBuilder nodeBuilder,
           @NotNull String name) {
        this.parent = parent;
```

### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    final class AsyncIndexStats extends AnnotatedStandardMBean implements  IndexStatsMBean {

        protected AsyncIndexStats(String name, StatisticsProvider statsProvider) {
            super(IndexStatsMBean.class);
            this.execStats = new ExecutionStats(name, statsProvider);
```

### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/user/LoginModuleImpl.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(LoginModuleImpl.class);

    protected static final Set<Class> SUPPORTED_CREDENTIALS = new HashSet<>(3);
    static {
        SUPPORTED_CREDENTIALS.add(SimpleCredentials.class);
```

## RuleId[id=RedundantEscapeInRegexReplacement]
### RedundantEscapeInRegexReplacement
Redundant escape of '\['
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
                    child.getProperties().put(p, v);
                } else if (v.startsWith("[") && v.contains("\"nam:")) {
                    v = v.replaceAll("\\[\"nam:", "\\[\"");
                    v = v.replaceAll(", \"nam:", ", \"");
                    child.getProperties().put(p, v);
```

## RuleId[id=SwitchStatementWithConfusingDeclaration]
### SwitchStatementWithConfusingDeclaration
Local variable `path` declared in one 'switch' branch and used in another
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/PropertyImpl.java`
#### Snippet
```java
                    case PropertyType.PATH:
                    case PropertyType.NAME:
                        String path = value.getString();
                        if (path.startsWith("[") && path.endsWith("]")) {
                            // identifier path
```

### SwitchStatementWithConfusingDeclaration
Local variable `parent` declared in one 'switch' branch and used in another
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeTreePermission.java`
#### Snippet
```java
            case 0: return TreePermission.EMPTY;
            case 1:
                TreePermission parent = null;
                for (TreePermission tp : parentPermission.treePermissions) {
                    if (isValid(tp)) {
```

## RuleId[id=PublicFieldAccessedInSynchronizedContext]
### PublicFieldAccessedInSynchronizedContext
Non-private field `SIMPLE` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
            // Last clock sync was up to ten seconds ago, so we synchronize
            // smoothly to avoid both drift and sudden jumps.
            long nowms = SIMPLE.getTime();
            if (msIncrease < 10000) {
                // 1) increase the ms and ns timestamps as if the estimated
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `entries` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            }
            e = new Entry<K, V>(key, value, memory);
            Entry<K, V>[] array = entries;
            int mask = array.length - 1;
            int index = hash & mask;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `usedMemory` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            e.mapNext = array[index];
            array[index] = e;
            usedMemory += memory;
            if (usedMemory > maxMemory && mapSize > 0) {
                // an old entry needs to be removed
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `usedMemory` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            array[index] = e;
            usedMemory += memory;
            if (usedMemory > maxMemory && mapSize > 0) {
                // an old entry needs to be removed
                evict(e);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mapSize` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            array[index] = e;
            usedMemory += memory;
            if (usedMemory > maxMemory && mapSize > 0) {
                // an old entry needs to be removed
                evict(e);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mapSize` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                evict(e);
            }
            mapSize++;
            // added entries are always added to the stack
            addToStack(e);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `loadSuccessCount` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                    value = future.get();
                }
                loadSuccessCount.increment();
            } catch (Exception e) {
                loadExceptionCount.increment();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `loadExceptionCount` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                loadSuccessCount.increment();
            } catch (Exception e) {
                loadExceptionCount.increment();
                throw new ExecutionException(e);
            } finally {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalLoadTime` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            } finally {
                long time = System.nanoTime() - start;
                totalLoadTime.add(time);
            }
            put(key, hash, value, cache.sizeOf(key, value));
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `loadSuccessCount` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                try {
                    value = loader.load(key);
                    loadSuccessCount.increment();
                } catch (Exception e) {
                    loadExceptionCount.increment();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `loadExceptionCount` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                    loadSuccessCount.increment();
                } catch (Exception e) {
                    loadExceptionCount.increment();
                    throw new ExecutionException(e);
                } finally {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalLoadTime` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                } finally {
                    long time = System.nanoTime() - start;
                    totalLoadTime.add(time);
                }
                put(key, hash, value, cache.sizeOf(key, value));
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `entries` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         */
        synchronized void invalidate(Object key, int hash, RemovalCause cause) {
            Entry<K, V>[] array = entries;
            int mask = array.length - 1;
            int index = hash & mask;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mapSize` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                last.mapNext = e.mapNext;
            }
            mapSize--;
            usedMemory -= e.memory;
            if (e.stackNext != null) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `usedMemory` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            }
            mapSize--;
            usedMemory -= e.memory;
            if (e.stackNext != null) {
                removeFromStack(e);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `entries` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            @SuppressWarnings("unchecked")
            Entry<K, V>[] small = new Entry[1];
            entries = small;
            @SuppressWarnings("unchecked")
            Entry<K, V>[] e = new Entry[len];
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `entries` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            @SuppressWarnings("unchecked")
            Entry<K, V>[] e = new Entry[len];
            entries = e;

            mapSize = 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `mapSize` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            entries = e;

            mapSize = 0;
            usedMemory = 0;
            stackSize = queueSize = queue2Size = 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `usedMemory` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

            mapSize = 0;
            usedMemory = 0;
            stackSize = queueSize = queue2Size = 0;
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `queueSize` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            mapSize = 0;
            usedMemory = 0;
            stackSize = queueSize = queue2Size = 0;
        }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `queue2Size` accessed in synchronized context
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            mapSize = 0;
            usedMemory = 0;
            stackSize = queueSize = queue2Size = 0;
        }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `out` accessed in synchronized context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
                            // ignore
                        }
                        out = null;
                    }
                }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `store` accessed in synchronized context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            @Override
            synchronized void closeStore() {
                if (store == null) {
                    return;
                }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `store` accessed in synchronized context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                boolean compact = compactOnClose;
                try {
                    if (store.getFileStore().isReadOnly()) {
                        compact = false;
                    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `store` accessed in synchronized context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                    // clear the interrupted flag, if set
                    Thread.interrupted();
                    store.close();
                } catch (Exception e) {
                    exceptionCount++;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `store` accessed in synchronized context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                    LOG.debug("Could not close the store", e);
                    LOG.warn("Could not close the store: " + e);
                    store.closeImmediately();
                }
                if (compact) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `store` accessed in synchronized context
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                    }
                }
                store = null;
            }

```

## RuleId[id=RedundantSuppression]
### RedundantSuppression
Redundant suppression
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java
    @SuppressWarnings("deprecation")
    @Override
    protected void runTest(TestContext ec) throws Exception {
        LOG.trace("Starting test execution");
        QueryManager qm = ec.session.getWorkspace().getQueryManager();
```

### RedundantSuppression
Redundant suppression
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/OakRepositoryFactory.java`
#### Snippet
```java
    @SuppressWarnings({"rawtypes", "unchecked"})
    @Override
    public Repository getRepository(Map parameters) throws RepositoryException {
        Object value = parameters == null ? null : parameters.get(REPOSITORY_URI);
        if (value != null) {
```

### RedundantSuppression
Redundant suppression
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/CopyOnWriteDirectory.java`
#### Snippet
```java
            @SuppressWarnings("ThrowableResultOfMethodCallIgnored")
            @Override
            public Void call() throws Exception {
                try {
                    Callable<Void> task = queue.poll();
```

### RedundantSuppression
Redundant suppression
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
            Configuration config = getConfiguration(pidString, pid[0], pid[1]);

            @SuppressWarnings("unchecked") Dictionary<String, Object> props = config.getProperties();
            Hashtable<String, Object> old = props != null ?
                    new Hashtable<String, Object>(new DictionaryAsMap<String, Object>(props)) : null;
```

### RedundantSuppression
Redundant suppression
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordUsageAnalyser.java`
#### Snippet
```java
    public String toString() {
        StringBuilder sb = new StringBuilder();
        @SuppressWarnings("resource")
        Formatter formatter = new Formatter(sb);
        formatter.format(
                "%s in maps (%s leaf and branch records)%n",
```

### RedundantSuppression
Redundant suppression
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Checkpoints.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    @Nullable
    public Revision getOldestRevisionToKeep() {
        //Get uncached doc
        SortedMap<Revision, Info> checkpoints = getCheckpoints();
```

### RedundantSuppression
Redundant suppression
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
                @SuppressWarnings("ConstantConditions")
                @Override
                public Iterator<Entry<Revision, String>> iterator() {
                    return rangeToChanges.apply(range).iterator();
                }
```

## RuleId[id=OptionalUsedAsFieldOrParameterType]
### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'uploadId'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordUploadToken.java`
#### Snippet
```java

    private String blobId;
    private Optional<String> uploadId;

    /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'limit'
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/QueryEngine.java`
#### Snippet
```java
     */
    Result executeQuery(
            String statement, String language, Optional<Long> limit, Optional<Long> offset,
            Map<String, ? extends PropertyValue> bindings,
            Map<String, String> mappings) throws ParseException;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'offset'
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/QueryEngine.java`
#### Snippet
```java
     */
    Result executeQuery(
            String statement, String language, Optional<Long> limit, Optional<Long> offset,
            Map<String, ? extends PropertyValue> bindings,
            Map<String, String> mappings) throws ParseException;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'limit'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryImpl.java`
#### Snippet
```java
    private final String language;
    private final String statement;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private boolean parsed;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'offset'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryImpl.java`
#### Snippet
```java
    private final String statement;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private boolean parsed;
    private String storedQueryPath;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'limit'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryManagerImpl.java`
#### Snippet
```java

    public QueryResult executeQuery(String statement, String language,
        Optional<Long> limit, Optional<Long> offset, HashMap<String, Value> bindVariableMap) throws RepositoryException {
        try {
            Map<String, PropertyValue> bindMap = convertMap(bindVariableMap);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'offset'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryManagerImpl.java`
#### Snippet
```java

    public QueryResult executeQuery(String statement, String language,
        Optional<Long> limit, Optional<Long> offset, HashMap<String, Value> bindVariableMap) throws RepositoryException {
        try {
            Map<String, PropertyValue> bindMap = convertMap(bindVariableMap);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'limit'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QueryObjectModelImpl.java`
#### Snippet
```java
    private final Ordering[] orderings;
    private final Column[] columns;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private boolean parsed;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'offset'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QueryObjectModelImpl.java`
#### Snippet
```java
    private final Column[] columns;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private boolean parsed;
    private String storedQueryPath;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lastRoJournalEntry'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitPersistence.java`
#### Snippet
```java
    private final Optional<String> lastRoArchive;

    private final Optional<String> lastRoJournalEntry;

    public SplitPersistence(SegmentNodeStorePersistence roPersistence, SegmentNodeStorePersistence rwPersistence) throws IOException {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lastRoArchive'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitPersistence.java`
#### Snippet
```java
    private final SegmentNodeStorePersistence rwPersistence;

    private final Optional<String> lastRoArchive;

    private final Optional<String> lastRoJournalEntry;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lastRoJournalEntry'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitJournalFile.java`
#### Snippet
```java
    private final JournalFile rwJournalFile;

    private final Optional<String> lastRoJournalEntry;

    public SplitJournalFile(JournalFile roJournalFile, JournalFile rwJournalFile, Optional<String> lastRoJournalEntry) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastRoJournalEntry'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitJournalFile.java`
#### Snippet
```java
    private final Optional<String> lastRoJournalEntry;

    public SplitJournalFile(JournalFile roJournalFile, JournalFile rwJournalFile, Optional<String> lastRoJournalEntry) {
        this.roJournalFile = roJournalFile;
        this.rwJournalFile = rwJournalFile;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastRoJournalEntry'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitJournalFileReader.java`
#### Snippet
```java
    private boolean roJournalReaderHasFinished;

    public SplitJournalFileReader(JournalFileReader roJournalReader, JournalFileReader rwJournalReader, Optional<String> lastRoJournalEntry) {
        this.roJournalReader = roJournalReader;
        this.rwJournalReader = rwJournalReader;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lastRoJournalEntry'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitJournalFileReader.java`
#### Snippet
```java
    private final JournalFileReader rwJournalReader;

    private final Optional<String> lastRoJournalEntry;

    private boolean rwJournalReaderHasFinished;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'offset'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryOptions.java`
#### Snippet
```java
    public String indexTag;
    public Optional<Long> limit = Optional.empty();
    public Optional<Long> offset = Optional.empty();
    public List<String> prefetch = Collections.emptyList();
    public Optional<Integer> prefetchCount = Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'prefetchCount'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryOptions.java`
#### Snippet
```java
    public Optional<Long> offset = Optional.empty();
    public List<String> prefetch = Collections.emptyList();
    public Optional<Integer> prefetchCount = Optional.empty();
    
    public enum Traversal {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'limit'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryOptions.java`
#### Snippet
```java
    public String indexName;
    public String indexTag;
    public Optional<Long> limit = Optional.empty();
    public Optional<Long> offset = Optional.empty();
    public List<String> prefetch = Collections.emptyList();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'offset'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
    private boolean measure;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private long size = -1;
    private final QueryEngineSettings settings;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'limit'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
    private boolean explain;
    private boolean measure;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private long size = -1;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'offset'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
    private boolean distinct;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private long size = -1;
    private boolean prepared;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'limit'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
    private boolean explain, measure;
    private boolean distinct;
    private Optional<Long> limit = Optional.empty();
    private Optional<Long> offset = Optional.empty();
    private long size = -1;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
    }

    private static long getValue(List<Query> queries, Optional<Long> value, Function<Query, Optional<Long>> getter, Long defaultValue) {
        if (!value.isPresent()) {
            return queries.stream().map(getter::apply).filter(Optional::isPresent).map(Optional::get).findFirst()
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'queue'
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveWriter.java`
#### Snippet
```java
    protected final FileStoreMonitor monitor;

    protected final Optional<SegmentWriteQueue> queue;

    protected Map<UUID, RemoteSegmentArchiveEntry> index = Collections.synchronizedMap(new LinkedHashMap<>());
```

## RuleId[id=SystemOutErr]
### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java
        } catch(CliArgumentException e) {
            if (e.getMessage() != null) {
                System.err.println(e.getMessage());
            }
            System.exit(e.getExitCode());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java

    public static void displayUsage() throws IOException {
        System.out.println(getUsage().replace("${command}", "java -jar oak-upgrade-*.jar upgrade"));
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
                new FileStoreMonitorAdapter(), new RemoteStoreMonitorAdapter());

        System.out.printf("Compacting %s\n", path);
        System.out.printf("    before\n");
        List<String> beforeArchives = Collections.emptyList();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

        System.out.printf("Compacting %s\n", path);
        System.out.printf("    before\n");
        List<String> beforeArchives = Collections.emptyList();
        try {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            beforeArchives = archiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
        }

        printArchives(System.out, beforeArchives);
        System.out.printf("    -> compacting\n");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

        printArchives(System.out, beforeArchives);
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(persistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
                gcLogInterval)) {
            if (!store.compactFull()) {
                System.out.printf("Compaction cancelled after %s.\n", printableStopwatch(watch));
                return 1;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
                return 1;
            }
            System.out.printf("    -> cleaning up\n");
            store.cleanup();
            JournalFile journal = persistence.getJournalFile();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

            try (JournalFileWriter journalWriter = journal.openJournalWriter()) {
                System.out.printf("    -> writing new %s: %s\n", journal.getName(), head);
                journalWriter.truncate();
                journalWriter.writeLine(head);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
        } catch (Exception e) {
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
            return 1;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

        watch.stop();
        System.out.printf("    after\n");
        List<String> afterArchives = Collections.emptyList();
        try {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            afterArchives = archiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }
        printArchives(System.out, afterArchives);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            System.err.println(e);
        }
        printArchives(System.out, afterArchives);
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));
        return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
        }
        printArchives(System.out, afterArchives);
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));
        return 0;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

    private long printTargetRepoSizeInfo(CloudBlobContainer container) {
        System.out.printf("Calculating the size of container %s\n", container.getName());
        long size = 0;
        for (ListBlobItem i : container.listBlobs(null, true, EnumSet.of(BlobListingDetails.METADATA), null, null)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            }
        }
        System.out.printf("The size is: %d MB \n", size / 1024 / 1024);
        return size;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        SegmentArchiveManager rwArchiveManager = createArchiveManager(rwPersistence);

        System.out.printf("Compacting %s\n", path);
        System.out.printf(" to %s\n", targetPath);
        System.out.printf("    before\n");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

        System.out.printf("Compacting %s\n", path);
        System.out.printf(" to %s\n", targetPath);
        System.out.printf("    before\n");
        List<String> beforeArchives = Collections.emptyList();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        System.out.printf("Compacting %s\n", path);
        System.out.printf(" to %s\n", targetPath);
        System.out.printf("    before\n");
        List<String> beforeArchives = Collections.emptyList();
        try {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            beforeArchives = roArchiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        }

        printArchives(System.out, beforeArchives);
        System.out.printf("    -> compacting\n");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

        printArchives(System.out, beforeArchives);
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(splitPersistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
                gcLogInterval, compactorType)) {
            if (!store.compactFull()) {
                System.out.printf("Compaction cancelled after %s.\n", printableStopwatch(watch));
                return 1;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            }

            System.out.printf("    -> [skipping] cleaning up\n");
        } catch (Exception e) {
            watch.stop();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        } catch (Exception e) {
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
            return 1;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

        watch.stop();
        System.out.printf("    after\n");
        List<String> afterArchives = Collections.emptyList();
        try {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            afterArchives = rwArchiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }
        printArchives(System.out, afterArchives);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            System.err.println(e);
        }
        printArchives(System.out, afterArchives);
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        }
        printArchives(System.out, afterArchives);
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));

        CloudBlobDirectory targetDirectory = createCloudBlobDirectory(targetPath.substring(3));
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
            MongoClientURI uri = new MongoClientURI(commonOpts.getStoreArg());
            if (uri.getDatabase() == null) {
                System.err.println("Database missing in MongoDB URI: "
                        + uri.getURI());
                System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/Options.java`
#### Snippet
```java
        if (optionBeans.containsKey(CommonOptions.class)
                && getCommonOpts().getNonOptions().isEmpty()){
            System.out.println("NodeStore details not provided");
            systemExit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/Options.java`
#### Snippet
```java
        if (optionBeans.containsKey(CommonOptions.class)
                && getCommonOpts().isHelpRequested()){
            parser.printHelpOn(System.out);
            systemExit(0);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
        MetricRegistry metricRegistry = statsProvider.getRegistry();
        ConsoleReporter.forRegistry(metricRegistry)
                .outputTo(System.out)
                .filter((name, metric) -> {
                    if (metric instanceof Counting) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/commons/Utils.java`
#### Snippet
```java
    public static void printProductInfo(String[] args, InputStream pom) {
        if(!Arrays.asList(args).contains("--quiet")) {
            System.out.println(Utils.getProductInfo(pom));
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/PrinterDumper.java`
#### Snippet
```java
    public void dump() throws IOException {
        try (OutputStream os = newOutput()) {
            OutputStream writerStream = dumpToSysOut ? new TeeOutputStream(os, System.out) : os;
            PrintWriter pw = new PrintWriter(writerStream);
            printer.print(pw, format, false);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java

                PathFilter pf = new PathFilter(paths, emptyList());
                System.out.println("Configuring persistent cache to only cache nodes under paths " + paths);
                Predicate<String> cachePredicate = path -> path != null && pf.filter(path) == PathFilter.Result.INCLUDE;
                builder.setNodeCachePredicate(cachePredicate);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreHelper.java`
#### Snippet
```java
        NodeDocument doc = store.find(NODES, id);
        if (doc == null) {
            System.out.println("No document for path " + path);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreHelper.java`
#### Snippet
```java
            .newTreeMap(NodeDocumentHelper.getLocalCommitRoot(doc));
        if (!commitRoot.keySet().retainAll(changes)) {
            System.out.println("Nothing to repair on " + path);
            return;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreHelper.java`
#### Snippet
```java
        Number modCount = doc.getModCount();
        if (modCount == null) {
            System.err.println("Document does not have a modCount " + path);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreHelper.java`
#### Snippet
```java
        if (result.getModifiedCount() == 1) {
            int num = NodeDocumentHelper.getLocalCommitRoot(doc).size() - commitRoot.size();
            System.out.println("Removed " + num + " _commitRoot entries on " + path);
        } else {
            System.out.println("Unable to repair " + path + " (concurrent update).");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreHelper.java`
#### Snippet
```java
            System.out.println("Removed " + num + " _commitRoot entries on " + path);
        } else {
            System.out.println("Unable to repair " + path + " (concurrent update).");
        }
        
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java

    public static void garbageReport(DocumentNodeStore dns) {
        System.out.print("Collecting top 100 nodes with most blob garbage ");
        Stopwatch sw = Stopwatch.createStarted();
        Iterable<BlobReferences> refs = scan(dns, new BlobGarbageSizeComparator(), 100);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        Iterable<BlobReferences> refs = scan(dns, new BlobGarbageSizeComparator(), 100);
        for (BlobReferences br : refs) {
            System.out.println(br);
        }
        System.out.println("Collected in " + sw.stop());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
            System.out.println(br);
        }
        System.out.println("Collected in " + sw.stop());
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        for (NodeDocument doc : docs) {
            if (++docCount % 10000 == 0) {
                System.out.print(".");
            }
            blobs.clear();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        }

        System.out.println();
        List<BlobReferences> refs = Lists.newArrayList();
        refs.addAll(queue);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        refs.addAll(queue);
        Collections.sort(refs, Collections.reverseOrder(comparator));
        System.out.println("Total garbage size: " + FileUtils.byteCountToDisplaySize(totalGarbage));
        System.out.println("Total number of nodes with blob references: " + docCount);
        System.out.println("total referenced / old referenced / # blob references / path");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        Collections.sort(refs, Collections.reverseOrder(comparator));
        System.out.println("Total garbage size: " + FileUtils.byteCountToDisplaySize(totalGarbage));
        System.out.println("Total number of nodes with blob references: " + docCount);
        System.out.println("total referenced / old referenced / # blob references / path");
        return refs;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
        System.out.println("Total garbage size: " + FileUtils.byteCountToDisplaySize(totalGarbage));
        System.out.println("Total number of nodes with blob references: " + docCount);
        System.out.println("total referenced / old referenced / # blob references / path");
        return refs;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
    private void run(String... args) {
        if (args.length == 0) {
            System.out.println("Show profiling data");
            System.out.println("Usage: java " + getClass().getName() +
                    " <pid> | <stackTraceFileNames>");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
        if (args.length == 0) {
            System.out.println("Show profiling data");
            System.out.println("Usage: java " + getClass().getName() +
                    " <pid> | <stackTraceFileNames>");
            System.out.println("Processes:");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            System.out.println("Usage: java " + getClass().getName() +
                    " <pid> | <stackTraceFileNames>");
            System.out.println("Processes:");
            String processes = exec("jps", "-l");
            System.out.println(processes);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            System.out.println("Processes:");
            String processes = exec("jps", "-l");
            System.out.println(processes);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                if (t - last > 5000) {
                    time = System.currentTimeMillis() - start;
                    System.out.println(getTopTraces(3));
                    last = t;
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                reader.close();
            }
            System.out.println(getTopTraces(5));
        } catch (IOException e) {
            throw new RuntimeException(e);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBCreator.java`
#### Snippet
```java
            db = args[3];
        } catch (IndexOutOfBoundsException ex) {
            System.err.println("Usage: ... " + RDBCreator.class.getName() + " JDBC-URL username password databasename");
            System.exit(2);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBCreator.java`
#### Snippet
```java
            Class.forName(driver);
        } catch (ClassNotFoundException ex) {
            System.err.println("Attempt to load class " + driver + " failed.");
        }
        Connection c = DriverManager.getConnection(url, user, pw);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBCreator.java`
#### Snippet
```java
        stmt.close();
        c.close();
        System.out.println("Database " + db + " created @ " + url + " using " + driver);
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        int initial = defaultOpts.getInitialSchema();
        int upgradeTo = defaultOpts.getUpgradeToSchema();
        System.out.println("Table Creation Statements for RDBBlobStore and RDBDocumentStore");
        System.out.println("RDBDocumentStore initial version: " + initial + ", with modifications up to version: " + upgradeTo);
        System.out.println(
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        int upgradeTo = defaultOpts.getUpgradeToSchema();
        System.out.println("Table Creation Statements for RDBBlobStore and RDBDocumentStore");
        System.out.println("RDBDocumentStore initial version: " + initial + ", with modifications up to version: " + upgradeTo);
        System.out.println(
                "(use system properties org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.INITIALSCHEMA and org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.UPGRADETOSCHEMA to specify initial DB schema, and schema to upgrade to)");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        System.out.println("Table Creation Statements for RDBBlobStore and RDBDocumentStore");
        System.out.println("RDBDocumentStore initial version: " + initial + ", with modifications up to version: " + upgradeTo);
        System.out.println(
                "(use system properties org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.INITIALSCHEMA and org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.UPGRADETOSCHEMA to specify initial DB schema, and schema to upgrade to)");
        System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        System.out.println(
                "(use system properties org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.INITIALSCHEMA and org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.UPGRADETOSCHEMA to specify initial DB schema, and schema to upgrade to)");
        System.out.println();

        for (String database : DATABASES) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java

    private static void internalDump(String database, int initial, int upgradeTo) {
        System.out.println("-- " + database);

        RDBDocumentStoreDB ddb = RDBDocumentStoreDB.getValue(database);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java

        for (String table : RDBDocumentStore.getTableNames()) {
            System.out.println();
            System.out.println("  -- creating table " + table + " for schema version " + initial);
            System.out.println("  " + ddb.getTableCreationStatement(table, initial));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        for (String table : RDBDocumentStore.getTableNames()) {
            System.out.println();
            System.out.println("  -- creating table " + table + " for schema version " + initial);
            System.out.println("  " + ddb.getTableCreationStatement(table, initial));
            for (String s : ddb.getIndexCreationStatements(table, initial)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
            System.out.println();
            System.out.println("  -- creating table " + table + " for schema version " + initial);
            System.out.println("  " + ddb.getTableCreationStatement(table, initial));
            for (String s : ddb.getIndexCreationStatements(table, initial)) {
                System.out.println("  " + s);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
            System.out.println("  " + ddb.getTableCreationStatement(table, initial));
            for (String s : ddb.getIndexCreationStatements(table, initial)) {
                System.out.println("  " + s);
            }
            for (int level = initial + 1; level <= upgradeTo; level++) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
            }
            for (int level = initial + 1; level <= upgradeTo; level++) {
                System.out.println("  -- upgrading table " + table + " to schema version " + level);
                for (String statement : ddb.getTableUpgradeStatements(table, level)) {
                    System.out.println("  " + statement);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
                System.out.println("  -- upgrading table " + table + " to schema version " + level);
                for (String statement : ddb.getTableUpgradeStatements(table, level)) {
                    System.out.println("  " + statement);
                }
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
            }
        }
        System.out.println();

        System.out.println("   -- creating blob store tables");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        System.out.println();

        System.out.println("   -- creating blob store tables");
        System.out.println("  " + bdb.getMetaTableCreationStatement("DATASTORE_META"));
        System.out.println("  " + bdb.getDataTableCreationStatement("DATASTORE_DATA"));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java

        System.out.println("   -- creating blob store tables");
        System.out.println("  " + bdb.getMetaTableCreationStatement("DATASTORE_META"));
        System.out.println("  " + bdb.getDataTableCreationStatement("DATASTORE_DATA"));
        System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        System.out.println("   -- creating blob store tables");
        System.out.println("  " + bdb.getMetaTableCreationStatement("DATASTORE_META"));
        System.out.println("  " + bdb.getDataTableCreationStatement("DATASTORE_DATA"));
        System.out.println();
        System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        System.out.println("  " + bdb.getMetaTableCreationStatement("DATASTORE_META"));
        System.out.println("  " + bdb.getDataTableCreationStatement("DATASTORE_DATA"));
        System.out.println();
        System.out.println();
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        System.out.println("  " + bdb.getDataTableCreationStatement("DATASTORE_DATA"));
        System.out.println();
        System.out.println();
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
        for (String database : DATABASES) {
            internalDump(database, initial, upgradeTo);
            System.out.println();
        }
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java

    private static void printHelp() {
        System.err.println("Export Apache OAK RDB data to JSON files");
        System.err.println("");
        System.err.println("Generic options:");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
    private static void printHelp() {
        System.err.println("Export Apache OAK RDB data to JSON files");
        System.err.println("");
        System.err.println("Generic options:");
        System.err.println("  --help                             produce this help message");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("Export Apache OAK RDB data to JSON files");
        System.err.println("");
        System.err.println("Generic options:");
        System.err.println("  --help                             produce this help message");
        System.err.println("  --version                          show version information");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("");
        System.err.println("Generic options:");
        System.err.println("  --help                             produce this help message");
        System.err.println("  --version                          show version information");
        System.err.println("");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("Generic options:");
        System.err.println("  --help                             produce this help message");
        System.err.println("  --version                          show version information");
        System.err.println("");
        System.err.println("JDBC options:");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --help                             produce this help message");
        System.err.println("  --version                          show version information");
        System.err.println("");
        System.err.println("JDBC options:");
        System.err.println("  -j/--jdbc-url JDBC-URL             JDBC URL of database to connect to");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --version                          show version information");
        System.err.println("");
        System.err.println("JDBC options:");
        System.err.println("  -j/--jdbc-url JDBC-URL             JDBC URL of database to connect to");
        System.err.println("  -u/--username username             database username");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("");
        System.err.println("JDBC options:");
        System.err.println("  -j/--jdbc-url JDBC-URL             JDBC URL of database to connect to");
        System.err.println("  -u/--username username             database username");
        System.err.println("  -p/--password password             database password");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("JDBC options:");
        System.err.println("  -j/--jdbc-url JDBC-URL             JDBC URL of database to connect to");
        System.err.println("  -u/--username username             database username");
        System.err.println("  -p/--password password             database password");
        System.err.println("  -c/--collection table              table name (defaults to 'nodes')");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -j/--jdbc-url JDBC-URL             JDBC URL of database to connect to");
        System.err.println("  -u/--username username             database username");
        System.err.println("  -p/--password password             database password");
        System.err.println("  -c/--collection table              table name (defaults to 'nodes')");
        System.err.println("  -q/--query query                   SQL where clause (minus 'where')");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -u/--username username             database username");
        System.err.println("  -p/--password password             database password");
        System.err.println("  -c/--collection table              table name (defaults to 'nodes')");
        System.err.println("  -q/--query query                   SQL where clause (minus 'where')");
        System.err.println("");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -p/--password password             database password");
        System.err.println("  -c/--collection table              table name (defaults to 'nodes')");
        System.err.println("  -q/--query query                   SQL where clause (minus 'where')");
        System.err.println("");
        System.err.println("Dump file options:");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -c/--collection table              table name (defaults to 'nodes')");
        System.err.println("  -q/--query query                   SQL where clause (minus 'where')");
        System.err.println("");
        System.err.println("Dump file options:");
        System.err.println("  --columns column-names             column names (comma separated)");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -q/--query query                   SQL where clause (minus 'where')");
        System.err.println("");
        System.err.println("Dump file options:");
        System.err.println("  --columns column-names             column names (comma separated)");
        System.err.println("  --from-db2-dump file               name of DB2 DEL export file");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("");
        System.err.println("Dump file options:");
        System.err.println("  --columns column-names             column names (comma separated)");
        System.err.println("  --from-db2-dump file               name of DB2 DEL export file");
        System.err.println("  --lobdir dir                       name of DB2 DEL export file LOB directory");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("Dump file options:");
        System.err.println("  --columns column-names             column names (comma separated)");
        System.err.println("  --from-db2-dump file               name of DB2 DEL export file");
        System.err.println("  --lobdir dir                       name of DB2 DEL export file LOB directory");
        System.err.println("                                     (defaults to ./lobdir under the dump file)");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --columns column-names             column names (comma separated)");
        System.err.println("  --from-db2-dump file               name of DB2 DEL export file");
        System.err.println("  --lobdir dir                       name of DB2 DEL export file LOB directory");
        System.err.println("                                     (defaults to ./lobdir under the dump file)");
        System.err.println("");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --from-db2-dump file               name of DB2 DEL export file");
        System.err.println("  --lobdir dir                       name of DB2 DEL export file LOB directory");
        System.err.println("                                     (defaults to ./lobdir under the dump file)");
        System.err.println("");
        System.err.println("Output options:");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --lobdir dir                       name of DB2 DEL export file LOB directory");
        System.err.println("                                     (defaults to ./lobdir under the dump file)");
        System.err.println("");
        System.err.println("Output options:");
        System.err.println("  -o/--out file                      Output to name file (instead of stdout)");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("                                     (defaults to ./lobdir under the dump file)");
        System.err.println("");
        System.err.println("Output options:");
        System.err.println("  -o/--out file                      Output to name file (instead of stdout)");
        System.err.println("  --jsonArray                        Output a JSON array (instead of one");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("");
        System.err.println("Output options:");
        System.err.println("  -o/--out file                      Output to name file (instead of stdout)");
        System.err.println("  --jsonArray                        Output a JSON array (instead of one");
        System.err.println("                                     JSON doc per line)");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("Output options:");
        System.err.println("  -o/--out file                      Output to name file (instead of stdout)");
        System.err.println("  --jsonArray                        Output a JSON array (instead of one");
        System.err.println("                                     JSON doc per line)");
        System.err.println("  --csv                              Output in CSV format (requires --fields");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  -o/--out file                      Output to name file (instead of stdout)");
        System.err.println("  --jsonArray                        Output a JSON array (instead of one");
        System.err.println("                                     JSON doc per line)");
        System.err.println("  --csv                              Output in CSV format (requires --fields");
        System.err.println("  --fields names                     field names (comma separated); required");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --jsonArray                        Output a JSON array (instead of one");
        System.err.println("                                     JSON doc per line)");
        System.err.println("  --csv                              Output in CSV format (requires --fields");
        System.err.println("  --fields names                     field names (comma separated); required");
        System.err.println("                                     for CSV output");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("                                     JSON doc per line)");
        System.err.println("  --csv                              Output in CSV format (requires --fields");
        System.err.println("  --fields names                     field names (comma separated); required");
        System.err.println("                                     for CSV output");
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("  --csv                              Output in CSV format (requires --fields");
        System.err.println("  --fields names                     field names (comma separated); required");
        System.err.println("                                     for CSV output");
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        List<String> fieldList = Collections.emptyList();
        Format format = Format.JSON;
        PrintStream out = System.out;
        RDBDocumentSerializer ser = new RDBDocumentSerializer(new MemoryDocumentStore());
        String columns = null;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    fieldList = Arrays.asList(fields.split(","));
                } else if ("--version".equals(param)) {
                    System.out.println(RDBExport.class.getName() + " version " + getModuleVersion());
                    System.exit(0);
                } else if ("--help".equals(param)) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    System.exit(0);
                } else {
                    System.err.println(RDBExport.class.getName() + ": invalid parameter " + args[i]);
                    printUsage();
                    System.exit(2);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
            }
        } catch (IndexOutOfBoundsException ex) {
            System.err.println(RDBExport.class.getName() + ": value missing for parameter " + param);
            printUsage();
            System.exit(2);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java

        if (format == Format.CSV && fieldList.isEmpty()) {
            System.err.println(RDBExport.class.getName() + ": csv output requires specification of field list");
            System.exit(2);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java

        if (dumpfile == null && url == null) {
            System.err.println(RDBExport.class.getName() + ": must use either dump file or JDBC URL");
            printUsage();
            System.exit(2);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        } else {
            if (columns != null) {
                System.err.println(RDBExport.class.getName() + ": column names ignored when using JDBC");
            }
            dumpJDBC(url, user, pw, table, query, format, out, fieldList, ser);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java

    private static void printUsage() {
        System.err.println("Usage: " + RDBExport.class.getName()
                + " -j/--jdbc-url JDBC-URL [-u/--username username] [-p/--password password] [-c/--collection table] [-q/--query query] [-o/--out file] [--fields list] [--csv] [--jsonArray]");
        System.err.println(
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println("Usage: " + RDBExport.class.getName()
                + " -j/--jdbc-url JDBC-URL [-u/--username username] [-p/--password password] [-c/--collection table] [-q/--query query] [-o/--out file] [--fields list] [--csv] [--jsonArray]");
        System.err.println(
                "Usage: " + RDBExport.class.getName() + " --from-db2-dump file [--lobdir lobdir] [-o/--out file] [--fields list] [--csv] [--jsonArray]");
        System.err.println("Usage: " + RDBExport.class.getName() + " --version");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
        System.err.println(
                "Usage: " + RDBExport.class.getName() + " --from-db2-dump file [--lobdir lobdir] [-o/--out file] [--fields list] [--csv] [--jsonArray]");
        System.err.println("Usage: " + RDBExport.class.getName() + " --version");
        System.err.println("Usage: " + RDBExport.class.getName() + " --help");
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                "Usage: " + RDBExport.class.getName() + " --from-db2-dump file [--lobdir lobdir] [-o/--out file] [--fields list] [--csv] [--jsonArray]");
        System.err.println("Usage: " + RDBExport.class.getName() + " --version");
        System.err.println("Usage: " + RDBExport.class.getName() + " --help");
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
            Class.forName(driver);
        } catch (ClassNotFoundException ex) {
            System.err.println(RDBExport.class.getName() + ":attempt to load class " + driver + " failed:" + ex.getMessage());
        }
        Connection c = DriverManager.getConnection(url, user, pw);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    lobfile = lobfile.substring(0, lastdot);

                    System.err.println("lastdot: " + lastdot + "; length: " + length + "; lobfile: " + lobfile + "; lastdot: " + lastdot + "; startpos: " + startpos);
                    int s = Integer.valueOf(startpos);
                    int l = Integer.valueOf(length);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                }
            } catch (DocumentStoreException ex) {
                System.err.println("Error: skipping line for ID " + id + " because of " + ex.getMessage());
            } catch (Exception e) {
                System.err.println("Error reading fields: " + fields);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                System.err.println("Error: skipping line for ID " + id + " because of " + ex.getMessage());
            } catch (Exception e) {
                System.err.println("Error reading fields: " + fields);
                throw e;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        String out = this.logThread ? (Thread.currentThread() + " " + message) : message;
        if (DEBUG) {
            System.out.println(out);
        }
        LOG.info(out);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/TimingDocumentStoreWrapper.java`
#### Snippet
```java
    private void log(String message) {
        if (DEBUG) {
            System.out.println("[" + id + "] " + message);
        }
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java

    private void diff() throws Exception {
        System.out.println("Store " + path);
        System.out.println("Writing diff to " + out);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
    private void diff() throws Exception {
        System.out.println("Store " + path);
        System.out.println("Writing diff to " + out);

        String[] tokens = interval.trim().split("\\.\\.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java

        if (tokens.length != 2) {
            System.out.println("Error parsing revision interval '" + interval + "'.");
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
                }
            } catch (IllegalArgumentException e) {
                System.out.println("Invalid left endpoint for interval " + interval);
                return;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
                }
            } catch (IllegalArgumentException e) {
                System.out.println("Invalid left endpoint for interval " + interval);
                return;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
                if (incremental) {
                    List<String> revs = readRevisions(path);
                    System.out.println("Generating diff between " + idL + " and " + idR + " incrementally. Found " + revs.size() + " revisions.");

                    int s = revs.indexOf(idL.toString10());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
                    int e = revs.indexOf(idR.toString10());
                    if (s == -1 || e == -1) {
                        System.out.println("Unable to match input revisions with FileStore.");
                        return;
                    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
                    }
                    if (revDiffs.size() < 2) {
                        System.out.println("Nothing to diff: " + revDiffs);
                        return;
                    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
                    }
                } else {
                    System.out.println("Generating diff between " + idL + " and " + idR);
                    diff(store, idL, idR, pw);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java

            long dur = System.currentTimeMillis() - start;
            System.out.println("Finished in " + dur + " ms.");
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
            return true;
        } catch (SegmentNotFoundException ex) {
            System.out.println(ex.getMessage());
            pw.println("#SNFE " + ex.getSegmentId());
            return false;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/SearchNodes.java`
#### Snippet
```java
        private Output output = Output.TEXT;

        private PrintStream out = System.out;

        private PrintStream err = System.err;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/SearchNodes.java`
#### Snippet
```java
        private PrintStream out = System.out;

        private PrintStream err = System.err;

        public Builder withPath(File path) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java

    public int run() {
        System.out.printf("Compacting %s with %s and %s compactor type\n", path, fileAccessMode.description, compactorType.description());
        System.out.printf("    before\n");
        Set<File> beforeFiles = listFiles(path);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
    public int run() {
        System.out.printf("Compacting %s with %s and %s compactor type\n", path, fileAccessMode.description, compactorType.description());
        System.out.printf("    before\n");
        Set<File> beforeFiles = listFiles(path);
        printFiles(System.out, beforeFiles);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    before\n");
        Set<File> beforeFiles = listFiles(path);
        printFiles(System.out, beforeFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    -> compacting\n");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        Set<File> beforeFiles = listFiles(path);
        printFiles(System.out, beforeFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    -> compacting\n");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        printFiles(System.out, beforeFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    -> compacting\n");

        Stopwatch watch = Stopwatch.createStarted();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        try (FileStore store = newFileStore()) {
            if (!store.compactFull()) {
                System.out.printf("Compaction cancelled after %s.\n", printableStopwatch(watch));
                return 1;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
                return 1;
            }
            System.out.printf("    -> cleaning up\n");
            store.cleanup();
            JournalFile journal = new LocalJournalFile(path, "journal.log");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java

            try (JournalFileWriter journalWriter = journal.openJournalWriter()) {
                System.out.printf("    -> writing new %s: %s\n", journal.getName(), head);
                journalWriter.truncate();
                journalWriter.writeLine(head);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        } catch (Exception e) {
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
            return 1;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java

        watch.stop();
        System.out.printf("    after\n");
        Set<File> afterFiles = listFiles(path);
        printFiles(System.out, afterFiles);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    after\n");
        Set<File> afterFiles = listFiles(path);
        printFiles(System.out, afterFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    removed files %s\n", fileNames(difference(beforeFiles, afterFiles)));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        Set<File> afterFiles = listFiles(path);
        printFiles(System.out, afterFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    removed files %s\n", fileNames(difference(beforeFiles, afterFiles)));
        System.out.printf("    added files %s\n", fileNames(difference(afterFiles, beforeFiles)));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        printFiles(System.out, afterFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    removed files %s\n", fileNames(difference(beforeFiles, afterFiles)));
        System.out.printf("    added files %s\n", fileNames(difference(afterFiles, beforeFiles)));
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    removed files %s\n", fileNames(difference(beforeFiles, afterFiles)));
        System.out.printf("    added files %s\n", fileNames(difference(afterFiles, beforeFiles)));
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));
        return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    removed files %s\n", fileNames(difference(beforeFiles, afterFiles)));
        System.out.printf("    added files %s\n", fileNames(difference(afterFiles, beforeFiles)));
        System.out.printf("Compaction succeeded in %s.\n", printableStopwatch(watch));
        return 0;
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
                analyser.analyseNode(id);
            } catch (Exception e) {
                System.err.format("Error while processing node at %s", id);
                e.printStackTrace(System.err);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
            } catch (Exception e) {
                System.err.format("Error while processing node at %s", id);
                e.printStackTrace(System.err);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
            }
        }
        System.out.println("Total size:");
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
        }
        System.out.println("Total size:");
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
        System.out.println(analyser.toString());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
        System.out.println("Total size:");
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
        System.out.println(analyser.toString());

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
        System.out.println(analyser.toString());

        Set<SegmentId> garbage = newHashSet(idmap.keySet());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
            }
        }
        System.out.format("%nAvailable for garbage collection:%n");
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
        }
        System.out.format("%nAvailable for garbage collection:%n");
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
        System.out.format("%nAvailable for garbage collection:%n");
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Revisions.java`
#### Snippet
```java

    private void listRevisions() throws IOException {
        System.out.println("Store " + path);
        System.out.println("Writing revisions to " + out);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Revisions.java`
#### Snippet
```java
    private void listRevisions() throws IOException {
        System.out.println("Store " + path);
        System.out.println("Writing revisions to " + out);

        List<String> revs = readRevisions(path);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Revisions.java`
#### Snippet
```java

        if (revs.isEmpty()) {
            System.out.println("No revisions found.");
            return;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Revisions.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugSegments.java`
#### Snippet
```java

        if (!matcher.matches()) {
            System.err.println("Unknown argument: " + segment);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugSegments.java`
#### Snippet
```java
            UUID uuid = UUID.fromString(matcher.group(1));
            SegmentId id = store.getSegmentIdProvider().newSegmentId(uuid.getMostSignificantBits(), uuid.getLeastSignificantBits());
            System.out.println(id.getSegment());
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugSegments.java`
#### Snippet
```java
        if (id2 == null) {
            NodeState node = store.getReader().readNode(id1);
            System.out.println("/ (" + id1 + ") -> " + node);
            for (String name : PathUtils.elements(path)) {
                node = node.getChildNode(name);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugSegments.java`
#### Snippet
```java
                    nid = ((SegmentNodeState) node).getRecordId();
                }
                System.out.println("  " + name + " (" + nid + ") -> " + node);
            }
            return;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugSegments.java`
#### Snippet
```java
            node2 = node2.getChildNode(name);
        }
        System.out.println(JsopBuilder.prettyPrint(JsopDiff.diffToJsop(node1, node2)));
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugSegments.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/RecoverJournal.java`
#### Snippet
```java
        private PrintStream out = System.out;

        private PrintStream err = System.err;

        private Builder() {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/RecoverJournal.java`
#### Snippet
```java
        private File path;

        private PrintStream out = System.out;

        private PrintStream err = System.err;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Restore.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/History.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/History.java`
#### Snippet
```java
    private void run(Iterator<HistoryElement> history) {
        while (history.hasNext()) {
            System.out.println(history.next().toString(depth));
        }
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Backup.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java

        if (!tar.exists()) {
            System.out.println("file doesn't exist, skipping " + t);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
        }

        System.out.println("Debug file " + tar + "(" + tar.length() + ")");
        Set<UUID> uuids = new HashSet<UUID>();
        boolean hasRefs = false;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java

        if (hasRefs) {
            System.out.println("SegmentNodeState references to " + t);
            List<String> paths = new ArrayList<String>();
            filterNodeStates(uuids, paths, store.getHead(), "/");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            filterNodeStates(uuids, paths, store.getHead(), "/");
            for (String p : paths) {
                System.out.println("  " + p);
            }
        } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            }
        } else {
            System.out.println("No references to " + t);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
        try {
            Map<UUID, Set<UUID>> graph = store.getTarGraph(t);
            System.out.println();
            System.out.println("Tar graph:");
            for (Map.Entry<UUID, Set<UUID>> entry : graph.entrySet()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            Map<UUID, Set<UUID>> graph = store.getTarGraph(t);
            System.out.println();
            System.out.println("Tar graph:");
            for (Map.Entry<UUID, Set<UUID>> entry : graph.entrySet()) {
                System.out.println("" + entry.getKey() + '=' + entry.getValue());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            System.out.println("Tar graph:");
            for (Map.Entry<UUID, Set<UUID>> entry : graph.entrySet()) {
                System.out.println("" + entry.getKey() + '=' + entry.getValue());
            }
        } catch (IOException e) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            System.err.println("Error getting tar graph:");
            e.printStackTrace(System.err);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
        } catch (IOException e) {
            System.err.println("Error getting tar graph:");
            e.printStackTrace(System.err);
        }
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
            return 0;
        } catch (Exception e) {
            e.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RepairCommand.java`
#### Snippet
```java
            NodeStore store = Utils.bootstrapNodeStore(args, closer, h);
            if (!(store instanceof DocumentNodeStore)) {
                System.err.println("Repair only available for DocumentNodeStore");
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RepairCommand.java`
#### Snippet
```java
            DocumentNodeStore dns = (DocumentNodeStore) store;
            if (!(dns.getDocumentStore() instanceof MongoDocumentStore)) {
                System.err.println("Repair only available for MongoDocumentStore");
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java

            if (options.has(helpOption)) {
                System.err.println("Options:");
                parser.printHelpOn(System.err);
            } else {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
            if (options.has(helpOption)) {
                System.err.println("Options:");
                parser.printHelpOn(System.err);
            } else {
                String db = dbOption.value(options);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
            System.exit(0);
        } catch (joptsimple.OptionException ex) {
            System.err.println(ex.getLocalizedMessage());
            System.err.println(Arrays.toString(args));
            System.err.println();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
        } catch (joptsimple.OptionException ex) {
            System.err.println(ex.getLocalizedMessage());
            System.err.println(Arrays.toString(args));
            System.err.println();
            System.err.println("Options:");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
            System.err.println(ex.getLocalizedMessage());
            System.err.println(Arrays.toString(args));
            System.err.println();
            System.err.println("Options:");
            parser.printHelpOn(System.err);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
            System.err.println(Arrays.toString(args));
            System.err.println();
            System.err.println("Options:");
            parser.printHelpOn(System.err);
            System.exit(2);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
            System.err.println();
            System.err.println("Options:");
            parser.printHelpOn(System.err);
            System.exit(2);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FileStoreDiffCommand.java`
#### Snippet
```java

        if (options.has(help)) {
            parser.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FileStoreDiffCommand.java`
#### Snippet
```java

        if (store == null) {
            parser.printHelpOn(System.out);
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java

        if (parsed.has(help)) {
            options.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java

        if (parsed.valuesOf(dir).size() == 0) {
            System.err.println("Segment Store path not specified");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java

        if (parsed.valuesOf(dir).size() > 1) {
            System.err.println("Too many Segment Store paths specified");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java
        Builder builder = SearchNodes.builder()
            .withPath(parsed.valueOf(dir))
            .withOut(System.out)
            .withErr(System.err);

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java
            .withPath(parsed.valueOf(dir))
            .withOut(System.out)
            .withErr(System.err);

        if (parsed.has(output)) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java
                    break;
                default:
                    System.err.printf("Unrecognized output: %s\n", v);
                    System.exit(1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SearchNodesCommand.java`
#### Snippet
```java

            if (parts.length != 2) {
                System.err.println("Invalid property value specified: " + v);
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            adminPwd = args[2];
        } else {
            System.out.println("Required arguments: <mongo uri> [repository admin username] <repository admin password>");
            System.out.println("If no username is specified, it will default to 'admin'.");
            System.out.println("Examples:");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
        } else {
            System.out.println("Required arguments: <mongo uri> [repository admin username] <repository admin password>");
            System.out.println("If no username is specified, it will default to 'admin'.");
            System.out.println("Examples:");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"oak123456\"");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println("Required arguments: <mongo uri> [repository admin username] <repository admin password>");
            System.out.println("If no username is specified, it will default to 'admin'.");
            System.out.println("Examples:");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"oak123456\"");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"admin\" \"oak123456\"");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println("If no username is specified, it will default to 'admin'.");
            System.out.println("Examples:");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"oak123456\"");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"admin\" \"oak123456\"");
            System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println("Examples:");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"oak123456\"");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"admin\" \"oak123456\"");
            System.out.println();
            System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"oak123456\"");
            System.out.println("    \"mongodb://127.0.0.1:27017/database\" \"admin\" \"oak123456\"");
            System.out.println();
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            HashMap<String, String> wrongNodes = new HashMap<>();

            System.out.println("Searching for inconsistencies in version history...");
            runningJob = true;
            Thread progressThread = new Thread(new ProgressThread());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            iterateAndFindEmptyAndWrongVersionNodes(tree, 3, readOnlyVersionManager, emptyNodes, wrongNodes);
            runningJob = false;
            System.out.println("Job Finished. Traversed: " + count + " nodes. Found " + emptyNodesCount + " empty and " + wrongNodesCount + " wrong nodes.");
            System.out.println();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            runningJob = false;
            System.out.println("Job Finished. Traversed: " + count + " nodes. Found " + emptyNodesCount + " empty and " + wrongNodesCount + " wrong nodes.");
            System.out.println();

            System.out.println("=== List 1: Empty nodes ===");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println();

            System.out.println("=== List 1: Empty nodes ===");
            for (Tree node : emptyNodes) {
                System.out.println(node.getPath());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println("=== List 1: Empty nodes ===");
            for (Tree node : emptyNodes) {
                System.out.println(node.getPath());
            }
            System.out.println("Total empty nodes: " + emptyNodes.size());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
                System.out.println(node.getPath());
            }
            System.out.println("Total empty nodes: " + emptyNodes.size());
            System.out.println("=== End of empty nodes list ===");
            System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            }
            System.out.println("Total empty nodes: " + emptyNodes.size());
            System.out.println("=== End of empty nodes list ===");
            System.out.println();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println("Total empty nodes: " + emptyNodes.size());
            System.out.println("=== End of empty nodes list ===");
            System.out.println();

            System.out.println("=== List 2: versionHistory nodes with wrong primaryType ===");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            System.out.println();

            System.out.println("=== List 2: versionHistory nodes with wrong primaryType ===");
            for (Map.Entry<String, String> entry : wrongNodes.entrySet()) {
                String nodePath = entry.getKey();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            for (Map.Entry<String, String> entry : wrongNodes.entrySet()) {
                String nodePath = entry.getKey();
                System.out.println(nodePath + " => " + entry.getValue());
            }
            System.out.println("Total wrong nodes: " + wrongNodes.size());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
                System.out.println(nodePath + " => " + entry.getValue());
            }
            System.out.println("Total wrong nodes: " + wrongNodes.size());
            System.out.println("=== End of versionHistory nodes with wrong primaryType list ===");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            }
            System.out.println("Total wrong nodes: " + wrongNodes.size());
            System.out.println("=== End of versionHistory nodes with wrong primaryType list ===");

            dns.dispose();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            try {
                while (runningJob) {
                    System.out.println("Job is running... Traversed " + count + " nodes. Found " + emptyNodesCount + " empty and " + wrongNodesCount + " wrong nodes.");
                    Thread.sleep(PROGRESS_WAITING_TIME_MILLIS);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
                }
            } catch (InterruptedException e) {
                System.out.println("ProgressThread was interrupted");
                e.printStackTrace();
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/BackupCommand.java`
#### Snippet
```java

        if (options.nonOptionArguments().size() < 2) {
            System.err.println("This command requires a source and a target folder");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        String src = options.getStoreArg();
        if (src == null || src.length() == 0) {
            options.printHelpOn(System.err);
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            MongoClientURI uri = new MongoClientURI(src);
            if (uri.getDatabase() == null) {
                System.err.println("Database missing in MongoDB URI: "
                        + uri.getURI());
                System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
                    closer.close();
                } catch (IOException e) {
                    e.printStackTrace(System.err);
                }
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        String src = options.getStoreArg();
        if (src == null || src.length() == 0) {
            options.printHelpOn(System.err);
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckCommand.java`
#### Snippet
```java
            .withFilterPaths(toSet(options, filter))
            .withIOStatistics(options.has(ioStatistics))
            .withOutWriter(new PrintWriter(System.out, true))
            .withErrWriter(new PrintWriter(System.err, true));

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckCommand.java`
#### Snippet
```java
            .withIOStatistics(options.has(ioStatistics))
            .withOutWriter(new PrintWriter(System.out, true))
            .withErrWriter(new PrintWriter(System.err, true));

        if (options.has(journal)) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckCommand.java`
#### Snippet
```java
    private void printUsageAndExit(OptionParser parser, String... messages) throws IOException {
        for (String message : messages) {
            System.err.println(message);
        }
        System.err.println("usage: check path/to/segmentstore <options>");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckCommand.java`
#### Snippet
```java
            System.err.println(message);
        }
        System.err.println("usage: check path/to/segmentstore <options>");
        parser.printHelpOn(System.err);
        System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckCommand.java`
#### Snippet
```java
        }
        System.err.println("usage: check path/to/segmentstore <options>");
        parser.printHelpOn(System.err);
        System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java
        Map<Oak, String> m;
        if (cIds.isEmpty()) {
            System.out.println("Starting " + oakFixture.toString() + " repository -> " + uri);
            m = Collections.singletonMap(oakFixture.getOak(0), "");
        } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java
            m = Collections.singletonMap(oakFixture.getOak(0), "");
        } else {
            System.out.println("Starting a clustered repository " + oakFixture.toString() + " -> " + uri);
            m = new HashMap<Oak, String>(cIds.size());

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ServerCommand.java`
#### Snippet
```java

        if (options.has(help)) {
            parser.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
                    @Override
                    public void run() {
                        System.out.println("Detected QUIT signal.");
                        System.out.println("Stopping Revision GC...");
                        running.set(false);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
                    public void run() {
                        System.out.println("Detected QUIT signal.");
                        System.out.println("Stopping Revision GC...");
                        running.set(false);
                        finished.acquireUninterruptibly();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
                        running.set(false);
                        finished.acquireUninterruptibly();
                        System.out.println("Stopped Revision GC.");
                    }
                }));
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        DocumentNodeStoreBuilder<?> builder = createDocumentMKBuilder(options, closer);
        if (builder == null) {
            System.err.println("revisions mode only available for DocumentNodeStore");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        FormatVersion version = versionOf(gcSupport.getDocumentStore());
        if (!DocumentNodeStore.VERSION.equals(version)) {
            System.err.println("Incompatible versions. This oak-run is " +
                    DocumentNodeStore.VERSION + ", while the store is " +
                    version);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
                             ExecutorService executor) throws IOException {
        long started = System.currentTimeMillis();
        System.out.println("starting gc collect");
        Future<VersionGCStats> f = executor.submit(new Callable<VersionGCStats>() {
            @Override
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            VersionGCStats stats = f.get();
            long ended = System.currentTimeMillis();
            System.out.printf(Locale.US, "%21s  %s%n", "Started:", fmtTimestamp(started));
            System.out.printf(Locale.US, "%21s  %s%n", "Ended:", fmtTimestamp(ended));
            System.out.printf(Locale.US, "%21s  %s%n", "Duration:", fmtDuration(ended - started));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            long ended = System.currentTimeMillis();
            System.out.printf(Locale.US, "%21s  %s%n", "Started:", fmtTimestamp(started));
            System.out.printf(Locale.US, "%21s  %s%n", "Ended:", fmtTimestamp(ended));
            System.out.printf(Locale.US, "%21s  %s%n", "Duration:", fmtDuration(ended - started));
            System.out.printf(Locale.US, "%21s  %s%n", "Stats:", stats.toString());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            System.out.printf(Locale.US, "%21s  %s%n", "Started:", fmtTimestamp(started));
            System.out.printf(Locale.US, "%21s  %s%n", "Ended:", fmtTimestamp(ended));
            System.out.printf(Locale.US, "%21s  %s%n", "Duration:", fmtDuration(ended - started));
            System.out.printf(Locale.US, "%21s  %s%n", "Stats:", stats.toString());
        } catch (InterruptedException e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            System.out.printf(Locale.US, "%21s  %s%n", "Ended:", fmtTimestamp(ended));
            System.out.printf(Locale.US, "%21s  %s%n", "Duration:", fmtDuration(ended - started));
            System.out.printf(Locale.US, "%21s  %s%n", "Stats:", stats.toString());
        } catch (InterruptedException e) {
            throw new IOException(e);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            throws IOException {
        VersionGarbageCollector gc = bootstrapVGC(options, closer);
        System.out.println("resetting recommendations and statistics");
        gc.reset();
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            throws IOException {
        VersionGarbageCollector gc = bootstrapVGC(options, closer);
        System.out.println("retrieving gc info");
        VersionGCInfo info = gc.getInfo(options.getOlderThan(), SECONDS);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        VersionGCInfo info = gc.getInfo(options.getOlderThan(), SECONDS);

        System.out.printf(Locale.US, "%21s  %s%n", "Last Successful Run:",
                info.lastSuccess > 0? fmtTimestamp(info.lastSuccess) : "<unknown>");
        System.out.printf(Locale.US, "%21s  %s%n", "Oldest Revision:",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        System.out.printf(Locale.US, "%21s  %s%n", "Last Successful Run:",
                info.lastSuccess > 0? fmtTimestamp(info.lastSuccess) : "<unknown>");
        System.out.printf(Locale.US, "%21s  %s%n", "Oldest Revision:",
                fmtTimestamp(info.oldestRevisionEstimate));
        System.out.printf(Locale.US, "%21s  %d%n", "Delete Candidates:",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        System.out.printf(Locale.US, "%21s  %s%n", "Oldest Revision:",
                fmtTimestamp(info.oldestRevisionEstimate));
        System.out.printf(Locale.US, "%21s  %d%n", "Delete Candidates:",
                info.revisionsCandidateCount);
        System.out.printf(Locale.US, "%21s  %d%n", "Collect Limit:",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        System.out.printf(Locale.US, "%21s  %d%n", "Delete Candidates:",
                info.revisionsCandidateCount);
        System.out.printf(Locale.US, "%21s  %d%n", "Collect Limit:",
                info.collectLimit);
        System.out.printf(Locale.US, "%21s  %s%n", "Collect Interval:",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        System.out.printf(Locale.US, "%21s  %d%n", "Collect Limit:",
                info.collectLimit);
        System.out.printf(Locale.US, "%21s  %s%n", "Collect Interval:",
                fmtDuration(info.recommendedCleanupInterval));
        System.out.printf(Locale.US, "%21s  %s%n", "Collect Before:",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        System.out.printf(Locale.US, "%21s  %s%n", "Collect Interval:",
                fmtDuration(info.recommendedCleanupInterval));
        System.out.printf(Locale.US, "%21s  %s%n", "Collect Before:",
                fmtTimestamp(info.recommendedCleanupTimestamp));
        System.out.printf(Locale.US, "%21s  %d%n", "Iterations Estimate:",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        System.out.printf(Locale.US, "%21s  %s%n", "Collect Before:",
                fmtTimestamp(info.recommendedCleanupTimestamp));
        System.out.printf(Locale.US, "%21s  %d%n", "Iterations Estimate:",
                info.estimatedIterations);
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        int clusterId = options.getClusterId();
        if (clusterId <= 0) {
            System.err.println("clusterId option is required for " +
                    RevisionsOptions.CMD_SWEEP + " command");
            return;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        DocumentNodeStoreBuilder<?> builder = createDocumentMKBuilder(options, closer);
        if (builder == null) {
            System.err.println("revisions mode only available for DocumentNodeStore");
            return;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        for (ClusterNodeInfoDocument doc : ClusterNodeInfoDocument.all(store)) {
            if (doc.getClusterId() == clusterId && doc.isActive()) {
                System.err.println("cannot sweep revisions for active " +
                        "clusterId " + clusterId);
                return;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        // the root document must have a _lastRev entry for the clusterId
        if (!getRootDocument(store).getLastRev().containsKey(clusterId)) {
            System.err.println("store does not have changes with " +
                    "clusterId " + clusterId);
            return;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
                sweep(options, closer);
            } else {
                System.err.println("unknown revisions command: " + subCmd);
            }
        } catch (Throwable e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DocumentStoreCheckCommand.java`
#### Snippet
```java
            CheckOptions options = new CheckOptions(h).parse(args);
            if (options.isHelp()) {
                options.printHelpOn(System.out);
                System.exit(0);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DocumentStoreCheckCommand.java`
#### Snippet
```java

            if (builder == null) {
                System.err.println("This check is only available for DocumentNodeStore backed by MongoDB or RDB persistence");
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
        if (options.has(helpSpec)
                || options.nonOptionArguments().isEmpty()) {
            System.out.println("Mode: " + THREADDUMP);
            System.out.println();
            parser.printHelpOn(System.out);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
                || options.nonOptionArguments().isEmpty()) {
            System.out.println("Mode: " + THREADDUMP);
            System.out.println();
            parser.printHelpOn(System.out);
            return;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
            System.out.println("Mode: " + THREADDUMP);
            System.out.println();
            parser.printHelpOn(System.out);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
            if (file.isDirectory() || file.getName().endsWith(".gz")) {
                file = combineAndExpandFiles(file);
                System.out.println("Combined into " + file.getAbsolutePath());
            }
            if (convert) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
            if (convert) {
                file = ThreadDumpConverter.process(file);
                System.out.println("Converted to " + file.getAbsolutePath());

            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
            if (threadNames) {
                File f = ThreadDumpThreadNames.process(file);
                System.out.println("Thread names written to " + f.getAbsolutePath());
            }
            if (filter) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
            if (filter) {
                file = ThreadDumpCleaner.process(file);
                System.out.println("Filtered into " + file.getAbsolutePath());
            }
            if (threadNames) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
            if (threadNames) {
                File f = ThreadDumpThreadNames.process(file);
                System.out.println("Thread names written to " + f.getAbsolutePath());
            }
            if (profile) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
                }
            } else if (file.getName().endsWith(".zip")) {
                System.out.println("Warning: file skipped. Please extract first: " + file.getName());
                return 0;
            } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
                return 0;
            } else {
                System.out.println("Reading " + file.getAbsolutePath());
                reader = new FileReader(file);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
        try {
            int count = processFileOrDirectory(file, writer);
            System.out.println("    (total " + count + " full thread dumps)");
        } finally {
            writer.close();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SegmentCopyCommand.java`
#### Snippet
```java
        OptionSet options = parser.parse(args);

        PrintWriter out = new PrintWriter(System.out, true);
        PrintWriter err = new PrintWriter(System.err, true);

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/SegmentCopyCommand.java`
#### Snippet
```java

        PrintWriter out = new PrintWriter(System.out, true);
        PrintWriter err = new PrintWriter(System.err, true);

        if (options.nonOptionArguments().size() != 2) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
            body.add(e);
        }
        list(System.out, header, body);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
        StringBuilder sb = new StringBuilder();
        RDBJSONSupport.appendJsonMap(sb, rawEntries);
        System.out.println(sb);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
            ClusterNodesOptions options = new ClusterNodesOptions(h).parse(args);
            if (options.isHelp()) {
                options.printHelpOn(System.out);
                System.exit(0);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java

            if (builder == null) {
                System.err
                        .println("Clusternodes command only available for DocumentNodeStore backed by MongoDB or RDB persistence");
                System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
                }
            } catch (Throwable e) {
                e.printStackTrace(System.err);
            }
        } catch (Throwable e) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RestoreCommand.java`
#### Snippet
```java

        if (options.nonOptionArguments().size() < 2) {
            System.err.println("This command requires a target and a source folder");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
        int count = countNtFrozenNodeReferences(nopts);
        if (count > 0) {
            System.err.println("FAILURE: " + count + " Reference(s) (in /oak:index/references) to nt:frozenNode found.");
            System.exit(1);
        } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
            System.exit(1);
        } else {
            System.out.println("SUCCESS: No references (in /oak:index/references) to nt:frozenNode found.");
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
            String referrerProperty = PathUtils.getName(referrerPropertyPath);
            FrozenNodeRef ref = new FrozenNodeRef(referrerPath, referrerProperty, "Reference", uuid, uuidRefPath);
            System.out.println(FrozenNodeRef.REFERENCE_TO_NT_FROZEN_NODE_FOUND_PREFIX + ref.toInfoString());
            count++;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
        try {
            // explicitly set readOnly mode
            System.out.println("Opening NodeStore in read-only mode.");
            NodeStore store = Utils.bootstrapNodeStore(nopts, closer, true);
            NodeState root = store.getRoot();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
            NodeState uuidIndex = oakIndex.getChildNode("uuid");
            NodeState uuids = uuidIndex.getChildNode(":index");
            System.out.println("Scanning ... refindex = " + refIndex);
            NodeState references = refIndex.getChildNode(":references");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
                }
            }
            System.out.println("Scanning done.");

            return count;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
                options = parser.parse(args);
            } catch (Exception e) {
                System.err.println(e);
                parser.printHelpOn(System.err);
                return;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
            } catch (Exception e) {
                System.err.println(e);
                parser.printHelpOn(System.err);
                return;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java

            if (options.has(help)) {
                parser.printHelpOn(System.out);
                return;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
            boolean delPendingUploadsMapFile = options.valueOf(delPendingUploadsMapFileOption);

            System.out.println("homeDir " + homeDir);
            System.out.println("path " + path);
            System.out.println("moveCache " + moveCache);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java

            System.out.println("homeDir " + homeDir);
            System.out.println("path " + path);
            System.out.println("moveCache " + moveCache);
            System.out.println("delPendingUploadsMapFile " + delPendingUploadsMapFile);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
            System.out.println("homeDir " + homeDir);
            System.out.println("path " + path);
            System.out.println("moveCache " + moveCache);
            System.out.println("delPendingUploadsMapFile " + delPendingUploadsMapFile);
            DataStoreCacheUpgradeUtils.upgrade(homeDir, path, moveCache, delPendingUploadsMapFile);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
            System.out.println("path " + path);
            System.out.println("moveCache " + moveCache);
            System.out.println("delPendingUploadsMapFile " + delPendingUploadsMapFile);
            DataStoreCacheUpgradeUtils.upgrade(homeDir, path, moveCache, delPendingUploadsMapFile);
        } catch (Exception e) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
        } catch (Exception e) {
            e.printStackTrace();
            System.err.println("Error upgrading cache");
        }
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/HelpCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        System.err.print("Available run modes: ");
        System.err.println(Joiner.on(", ").join(MODES.getModes()));
        System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/HelpCommand.java`
#### Snippet
```java
    public void execute(String... args) throws Exception {
        System.err.print("Available run modes: ");
        System.err.println(Joiner.on(", ").join(MODES.getModes()));
        System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            FrozenNodeRef ref = new FrozenNodeRef(referrerPath, referrerProperty, PropertyType.nameFromValue(p.getType()), uuid, path);

            System.out.println(FrozenNodeRef.REFERENCE_TO_NT_FROZEN_NODE_FOUND_PREFIX + ref.toInfoString());

            return true;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        OptionSet options = opts.parseAndConfigure(parser, args);

        System.out.println("Opening nodestore (readOnly=true)...");
        // explicitly set readOnly mode (overwriting any possibly set -read-write= option)
        NodeStoreFixture nodeStoreFixture = NodeStoreFixtureProvider.create(opts, true);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        // explicitly set readOnly mode (overwriting any possibly set -read-write= option)
        NodeStoreFixture nodeStoreFixture = NodeStoreFixtureProvider.create(opts, true);
        System.out.println("Nodestore opened.");

        int count = uuidscan(userOption, passwordOption, options, nodeStoreFixture);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        int count = uuidscan(userOption, passwordOption, options, nodeStoreFixture);
        if (count > 0) {
            System.err.println("FAILURE: " + count + " Reference(s) (in any uuid formatted property value) to nt:frozenNode found.");
            System.exit(1);
        } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            System.exit(1);
        } else {
            System.out.println("SUCCESS: No references (in any uuid formatted property value) to nt:frozenNode found.");
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        try {

            System.out.println("Logging in...");
            Session session = openSession(nodeStore, "crx.default", user, password);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            Session session = openSession(nodeStore, "crx.default", user, password);

            System.out.println("Logged in, querying...");
            QueryManager qm = session.getWorkspace().getQueryManager();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            }

            System.out.println("logout...");
            session.logout();
            System.out.println("done.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            System.out.println("logout...");
            session.logout();
            System.out.println("done.");

            return count;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java

            if (options.nonOptionArguments().size() != 1) {
                printUsage(optionParser, System.err);
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java
            trace.setCount(countOption.value(options));

            System.out.println(
                    format("tracing %s with %s", segmentStore, trace.getDescription()));
            System.out.println(
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java
            System.out.println(
                    format("tracing %s with %s", segmentStore, trace.getDescription()));
            System.out.println(
                    format("mmap=%b, segment cache=%d", mmap, segmentCache));
            System.out.println(
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java
            System.out.println(
                    format("mmap=%b, segment cache=%d", mmap, segmentCache));
            System.out.println(
                    format("Writing trace to %s", output));

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java
            trace.collectIOTrace(segmentStore, mmap, segmentCache, output);
        } catch (OptionException e) {
            printUsage(optionParser, System.err, e.getMessage());
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/HistoryCommand.java`
#### Snippet
```java
        File directory = directoryArg.value(options);
        if (directory == null) {
            System.err.println("Trace the history of a path. Usage: history [File] <options>");
            parser.printHelpOn(System.err);
            System.exit(-1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/HistoryCommand.java`
#### Snippet
```java
        if (directory == null) {
            System.err.println("Trace the history of a path. Usage: history [File] <options>");
            parser.printHelpOn(System.err);
            System.exit(-1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
        if (!clusterConfigNode.exists()) {
            // if it doesn't exist, then there is no way to delete
            System.out.println("clusterId was never set or already deleted.");
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
            // the config node exists, but the clusterId not 
            // so again, no way to delete
            System.out.println("clusterId was never set or already deleted.");
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
            store.merge(builder, EmptyHook.INSTANCE, CommitInfo.EMPTY);

            System.out.println("clusterId deleted successfully. (old id was " + oldClusterId + ")");
        } catch (CommitFailedException e) {
            System.err.println("Failed to delete clusterId due to exception: " + e.getMessage());
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
            System.out.println("clusterId deleted successfully. (old id was " + oldClusterId + ")");
        } catch (CommitFailedException e) {
            System.err.println("Failed to delete clusterId due to exception: " + e.getMessage());
            e.printStackTrace();
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UpgradeCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        System.out.println("This command was moved to the oak-upgrade module");
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GarbageCommand.java`
#### Snippet
```java
            NodeStore store = Utils.bootstrapNodeStore(args, closer, h);
            if (!(store instanceof DocumentNodeStore)) {
                System.err.println("Garbage mode only available for DocumentNodeStore");
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
        if (options.has(helpSpec)
                || options.nonOptionArguments().isEmpty()) {
            System.out.println("Mode: " + PERSISTENTCACHE);
            System.out.println("Map names and statistic are listed if just the file name is specified.");
            System.out.println("To list all keys, just specify '/' and the file name.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
                || options.nonOptionArguments().isEmpty()) {
            System.out.println("Mode: " + PERSISTENTCACHE);
            System.out.println("Map names and statistic are listed if just the file name is specified.");
            System.out.println("To list all keys, just specify '/' and the file name.");
            System.out.println("To dump multiples files in one go, add multiple file names.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
            System.out.println("Mode: " + PERSISTENTCACHE);
            System.out.println("Map names and statistic are listed if just the file name is specified.");
            System.out.println("To list all keys, just specify '/' and the file name.");
            System.out.println("To dump multiples files in one go, add multiple file names.");
                System.out.println("Files are accessed in read-only mode; " + 
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
            System.out.println("Map names and statistic are listed if just the file name is specified.");
            System.out.println("To list all keys, just specify '/' and the file name.");
            System.out.println("To dump multiples files in one go, add multiple file names.");
                System.out.println("Files are accessed in read-only mode; " + 
                    "to analyze a running system you need to copy the cache file first.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
            System.out.println("To list all keys, just specify '/' and the file name.");
            System.out.println("To dump multiples files in one go, add multiple file names.");
                System.out.println("Files are accessed in read-only mode; " + 
                    "to analyze a running system you need to copy the cache file first.");
            System.out.println("Output format is CSV (',' replaced with '#')");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
                System.out.println("Files are accessed in read-only mode; " + 
                    "to analyze a running system you need to copy the cache file first.");
            System.out.println("Output format is CSV (',' replaced with '#')");
            System.out.println("To import in H2, use: " + 
                    "create table cache as select * from csvread('cache.csv', null, 'fieldDelimiter=')");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
                    "to analyze a running system you need to copy the cache file first.");
            System.out.println("Output format is CSV (',' replaced with '#')");
            System.out.println("To import in H2, use: " + 
                    "create table cache as select * from csvread('cache.csv', null, 'fieldDelimiter=')");
            System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
            System.out.println("To import in H2, use: " + 
                    "create table cache as select * from csvread('cache.csv', null, 'fieldDelimiter=')");
            System.out.println();
            parser.printHelpOn(System.out);
            return;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
                    "create table cache as select * from csvread('cache.csv', null, 'fieldDelimiter=')");
            System.out.println();
            parser.printHelpOn(System.out);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
        boolean raw = options.has(rawSpec);
        String out = outSpec.value(options);
        PrintWriter write = new PrintWriter(System.out);
        if (out.length() > 0) {
            write = new PrintWriter(new BufferedWriter(new FileWriter(out)));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UnlockUpgradeCommand.java`
#### Snippet
```java

        if (options.has(help)) {
            parser.printHelpOn(System.out);
            return;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UnlockUpgradeCommand.java`
#### Snippet
```java

        if (nonOptions.isEmpty()) {
            parser.printHelpOn(System.err);
            return;
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UnlockUpgradeCommand.java`
#### Snippet
```java
                MongoClientURI clientURI = new MongoClientURI(uri);
                if (clientURI.getDatabase() == null) {
                    System.err.println("Database missing in MongoDB URI: " + clientURI.getURI());
                } else {
                    MongoConnection mongo = new MongoConnection(clientURI.getURI());
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UnlockUpgradeCommand.java`
#### Snippet
```java
                store = new RDBDocumentStore(ds, new DocumentNodeStoreBuilder());
            } else {
                System.err.println("Unrecognized URI: " + uri);
            }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UnlockUpgradeCommand.java`
#### Snippet
```java

            if (store != null && VERSION.writeTo(store)) {
                System.out.println("Format version set to " + VERSION);
            }
        } catch (DocumentStoreException e) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/UnlockUpgradeCommand.java`
#### Snippet
```java
            }
        } catch (DocumentStoreException e) {
            System.err.println(e.getMessage());
        } finally {
            if (store != null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
        CheckpointsOptions options = new CheckpointsOptions("checkpoints {<path>|<mongo-uri>|<jdbc-uri>} [list|rm-all|rm-unreferenced|rm <checkpoint>|info <checkpoint>|set <checkpoint> <name> [<value>]] [--segment]").parse(args);;
        if (options.isHelp()) {
            options.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
        String storeArg = options.getStoreArg();
        if (storeArg == null || storeArg.length() == 0) {
            System.err.println("Missing nodestore path/URI");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                DocumentNodeStoreBuilder<?> builder = Utils.createDocumentMKBuilder(options, closer);
                if (builder == null) {
                    System.err.println("Could not create DocumentNodeStoreBuilder");
                    System.exit(1);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
            }

            System.out.println("Checkpoints " + storeArg);
            if ("list".equals(op)) {
                int cnt = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                int cnt = 0;
                for (Checkpoints.CP cp : cps.list()) {
                    System.out.printf("- %s created %s expires %s%n",
                            cp.id,
                            new Timestamp(cp.created),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                    cnt++;
                }
                System.out.println("Found " + cnt + " checkpoints");
            } else if ("rm-all".equals(op)) {
                long time = System.currentTimeMillis();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                time = System.currentTimeMillis() - time;
                if (cnt != -1) {
                    System.out.println("Removed " + cnt + " checkpoints in " + time + "ms.");
                } else {
                    failWith("Failed to remove all checkpoints.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                time = System.currentTimeMillis() - time;
                if (cnt != -1) {
                    System.out.println("Removed " + cnt + " checkpoints in " + time + "ms.");
                } else {
                    failWith("Failed to remove unreferenced checkpoints.");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                    if (cnt != 0) {
                        if (cnt == 1) {
                            System.out.println("Removed checkpoint " + cp + " in "
                                    + time + "ms.");
                        } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                    if (info != null) {
                        for (Map.Entry<String, String> e : info.entrySet()) {
                            System.out.println(e.getKey() + '\t' + e.getValue());
                        }
                    } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                    if (cnt != 0) {
                        if (cnt == 1) {
                            System.out.println("Updated checkpoint " + cp + " in "
                                    + time + "ms.");
                        } else {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
            success = true;
        } catch (Throwable t) {
            System.err.println(t.getMessage());
        } finally {
            closer.close();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DebugCommand.java`
#### Snippet
```java

        if (options.valuesOf(nonOptions).isEmpty()) {
            System.err.println("usage: debug <path> [id...]");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoverJournalCommand.java`
#### Snippet
```java

        if (parsed.has(help)) {
            options.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoverJournalCommand.java`
#### Snippet
```java

        if (parsed.valuesOf(dir).size() == 0) {
            System.err.println("Segment Store path not specified");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoverJournalCommand.java`
#### Snippet
```java

        if (parsed.valuesOf(dir).size() > 1) {
            System.err.println("Too many Segment Store paths specified");
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoverJournalCommand.java`
#### Snippet
```java
        int code = RecoverJournal.builder()
            .withPath(dir.value(parsed))
            .withOut(System.out)
            .withErr(System.err)
            .build()
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoverJournalCommand.java`
#### Snippet
```java
            .withPath(dir.value(parsed))
            .withOut(System.out)
            .withErr(System.err)
            .build()
            .run();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompositePrepareCommand.java`
#### Snippet
```java

        if (options.has(help)) {
            parser.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompositePrepareCommand.java`
#### Snippet
```java

        if (store == null) {
            parser.printHelpOn(System.out);
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
        OptionSet options = oakOptions.parseAndConfigure(parser, args);

        System.out.println("Opening nodestore...");
        NodeStoreFixture nodeStoreFixture = NodeStoreFixtureProvider.create(oakOptions);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
            throws Exception {
        session = openSession(nodeStore, user, password);
        System.out.println("Nodestore is open");
        if (interactive) {
            System.out.println("Type \"exit\" to quit");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
        System.out.println("Nodestore is open");
        if (interactive) {
            System.out.println("Type \"exit\" to quit");
        }
        while (true) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
    public static final String INDEX = "json-index";

    PrintStream output = System.out;
    Session session;
    private boolean interactive;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java

        if (path == null) {
            System.err.println("Compact a file store. Usage: compact [path] <options>");
            parser.printHelpOn(System.err);
            System.exit(-1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
        if (path == null) {
            System.err.println("Compact a file store. Usage: compact [path] <options>");
            parser.printHelpOn(System.err);
            System.exit(-1);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
        if (path.startsWith("az:")) {
            if (targetPath.value(options) == null) {
                System.err.println("A destination for the compacted Azure Segment Store needs to be specified");
                parser.printHelpOn(System.err);
                System.exit(-1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
            if (targetPath.value(options) == null) {
                System.err.println("A destination for the compacted Azure Segment Store needs to be specified");
                parser.printHelpOn(System.err);
                System.exit(-1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java

            if (persistentCachePath.value(options) == null) {
                System.err.println("A path for the persistent disk cache needs to be specified");
                parser.printHelpOn(System.err);
                System.exit(-1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
            if (persistentCachePath.value(options) == null) {
                System.err.println("A path for the persistent disk cache needs to be specified");
                parser.printHelpOn(System.err);
                System.exit(-1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java

            if (builder == null) {
                System.err.println("Recovery only available for DocumentNodeStore backed by MongoDB or RDB persistence");
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java

            if (agent == null || seeker == null) {
                System.err.println("Recovery only available for MongoDocumentStore and RDBDocumentStore (this: "
                        + ds.getClass().getName() + ")");
                System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java

            if (builder.getClusterId() == 0) {
                System.err.println("Please specify the clusterId for recovery using --clusterId");
                try {
                    List<ClusterNodeInfoDocument> all = ClusterNodeInfoDocument.all(ds);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
                try {
                    List<ClusterNodeInfoDocument> all = ClusterNodeInfoDocument.all(ds);
                    System.err.println("Existing entries in the clusternodes collection are:");
                    for (ClusterNodeInfoDocument c : all) {
                        String state = c.isActive() ? "ACTIVE" : "INACTIVE";
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
                    for (ClusterNodeInfoDocument c : all) {
                        String state = c.isActive() ? "ACTIVE" : "INACTIVE";
                        System.err.println(c.getClusterId() +
                                " (" + state + "): " +
                                c.toString().replace('\n', ' '));
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
                }
                catch (Throwable e) {
                    e.printStackTrace(System.err);
                }
                System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
            try {
                dumper.dump();
                System.out.printf("    - %s (%s)%n", indexPath, IOUtils.humanReadableByteCount(dumper.getSize()));
            } catch (Exception e){
                System.out.printf("Error occurred while performing consistency check for index [%s]%n", indexPath);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
                System.out.printf("    - %s (%s)%n", indexPath, IOUtils.humanReadableByteCount(dumper.getSize()));
            } catch (Exception e){
                System.out.printf("Error occurred while performing consistency check for index [%s]%n", indexPath);
                e.printStackTrace(System.out);
                try {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
            } catch (Exception e){
                System.out.printf("Error occurred while performing consistency check for index [%s]%n", indexPath);
                e.printStackTrace(System.out);
                try {
                    File indexDir = DirectoryUtils.createIndexDir(indexDumpDir, indexPath);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
                    serializer.setSerializeBlobContent(true);
                    serializer.serialize(indexDir);
                    System.out.printf("    - Dumping raw node content%n", indexPath, FileUtils.sizeOf(indexDir));
                    System.out.printf("    - %s (%s)%n", indexPath, FileUtils.sizeOf(indexDir));
                } catch (Exception e2){
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
                    serializer.serialize(indexDir);
                    System.out.printf("    - Dumping raw node content%n", indexPath, FileUtils.sizeOf(indexDir));
                    System.out.printf("    - %s (%s)%n", indexPath, FileUtils.sizeOf(indexDir));
                } catch (Exception e2){
                    System.out.printf("Error occurred while performing consistency check for index [%s]%n", indexPath);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
                    System.out.printf("    - %s (%s)%n", indexPath, FileUtils.sizeOf(indexDir));
                } catch (Exception e2){
                    System.out.printf("Error occurred while performing consistency check for index [%s]%n", indexPath);
                    e2.printStackTrace(System.out);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
                } catch (Exception e2){
                    System.out.printf("Error occurred while performing consistency check for index [%s]%n", indexPath);
                    e2.printStackTrace(System.out);
                }
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
        }

        System.out.printf("Dumped index data of %d indexes (%s) to %s%n", indexCount,
                IOUtils.humanReadableByteCount(totalSize), IndexCommand.getPath(indexDumpDir));
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDefinitionUpdater.java`
#### Snippet
```java

    private void dumpIndexDiff(NodeState beforeRoot, NodeState afterRoot, List<String> reindexingLuceneDefPaths) {
        try (PrintWriter pw = new PrintWriter(System.out)) {
            for (String indexPath : reindexingLuceneDefPaths) {
                NodeState before = NodeStateUtils.getNode(beforeRoot, indexPath);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                options = parser.parse(args);
            } catch (Exception e) {
                System.err.println(e);
                System.err.println(Arrays.toString(args));
                System.err.println();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            } catch (Exception e) {
                System.err.println(e);
                System.err.println(Arrays.toString(args));
                System.err.println();
                System.err.println("Options :");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                System.err.println(e);
                System.err.println(Arrays.toString(args));
                System.err.println();
                System.err.println("Options :");
                parser.printHelpOn(System.err);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                System.err.println(Arrays.toString(args));
                System.err.println();
                System.err.println("Options :");
                parser.printHelpOn(System.err);
                return 1;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                System.err.println();
                System.err.println("Options :");
                parser.printHelpOn(System.err);
                return 1;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            if (options.has(help)) {
                parser.printHelpOn(System.out);
                return 0;
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            // blob store still not initialized means configuration not supported
            if (blobStore == null) {
                System.err.println("Operation not defined for SegmentNodeStore without external datastore");
                parser.printHelpOn(System.err);
                return 1;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            if (blobStore == null) {
                System.err.println("Operation not defined for SegmentNodeStore without external datastore");
                parser.printHelpOn(System.err);
                return 1;
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            return 0;
        } catch (Throwable t) {
            t.printStackTrace(System.err);
            return 1;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        throws Exception {

        System.out.println("Starting dump of blob ids");
        Stopwatch watch = createStarted();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        sort(blob);
        System.out.println(count + " blob ids found");
        System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        sort(blob);
        System.out.println(count + " blob ids found");
        System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
    private static void checkConsistency(File ids, File refs, File missing, String trackRoot, String dsType)
        throws IOException {
        System.out.println("Starting consistency check");
        Stopwatch watch = createStarted();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                }
            } else {
                System.out.println("Skipping active deleted tracked as parameter [repoHome] : [" + trackRoot + "] incorrect");
                FileUtils.copyFile(candTemp, missing);
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        }

        System.out.println("Consistency check found " + candidates + " missing blobs");
        if (candidates > 0) {
            System.out.println("Consistency check failure for the data store");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        System.out.println("Consistency check found " + candidates + " missing blobs");
        if (candidates > 0) {
            System.out.println("Consistency check failure for the data store");
        }
        System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            System.out.println("Consistency check failure for the data store");
        }
        System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                File f = entry.getValue();
                if (options.has(entry.getKey()) && f.length() != 0) {
                    System.out.println(entry.getKey().toString() + " - " + f.getAbsolutePath());
                } else {
                    if (f.exists()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            final GarbageCollectableBlobStore finalBlobStore = blobStore;

            System.out.println("Starting dump of blob references");
            Stopwatch watch = createStarted();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            sort(marked, idComparator);

            System.out.println(count.get() + " blob references found");
            System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
            threw = false;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            System.out.println(count.get() + " blob references found");
            System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
            threw = false;
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            final AtomicInteger count = new AtomicInteger();
            boolean threw = true;
            System.out.println("Starting dump of blob references by traversing");
            Stopwatch watch = createStarted();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                sort(references, idComparator);

                System.out.println(count.get() + " blob references found");
                System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
                threw = false;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

                System.out.println(count.get() + " blob references found");
                System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
                threw = false;
            } finally {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    System.err.println("Error in retrieving blob id for path " + propPath);
                }
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexConsistencyCheckPrinter.java`
#### Snippet
```java
                    invalidIndexes.add(indexPath);
                }
                System.out.printf("%s => %s%n", indexPath, result.clean ? "valid" : "invalid <==");
            } catch (Exception e) {
                invalidIndexes.add(indexPath);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
    private void tellReportPaths() {
        if (info != null) {
            System.out.printf("Index stats stored at %s%n", getPath(info));
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

        if (definitions != null) {
            System.out.printf("Index definitions stored at %s%n", getPath(definitions));
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

        if (consistencyCheckReport != null) {
            System.out.printf("Index consistency check report stored at %s%n", getPath(consistencyCheckReport));
        }
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                checkTikaDependency();
            } catch (Throwable e) {
                System.err.println("Missing tika parser dependencies, use --ignore-missing-tika-dep to force continue");
                System.exit(1);
            }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        } catch (Throwable e) {
            log.error("Error occurred while performing index tasks", e);
            e.printStackTrace(System.err);
            if (disableExitOnError) {
                throw e;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexMerge.java`
#### Snippet
```java
    private void log(String message) {
        if(!quiet) {
            System.out.println(message);
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        String dt = formatter.format(timestamp);
        System.out.println(dt);
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        if (!dataStoreOpts.anyActionSelected()) {
            log.info("No actions specified");
            parser.printHelpOn(System.out);
            return false;
        } else if (fixture.getStore() == null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        } else if (fixture.getStore() == null) {
            log.info("No NodeStore specified");
            parser.printHelpOn(System.out);
            return false;
        } else if (!opts.getCommonOpts().isDocument() && fixture.getBlobStore() == null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        } else if (!opts.getCommonOpts().isDocument() && fixture.getBlobStore() == null) {
            log.info("No BlobStore specified");
            parser.printHelpOn(System.out);
            return false;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
    private static void retrieveBlobIds(GarbageCollectableBlobStore blobStore, File blob) throws Exception {

        System.out.println("Starting dump of blob ids");
        Stopwatch watch = createStarted();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        sort(blob);
        System.out.println(count + " blob ids found");
        System.out.println("Finished in " + watch.elapsed(SECONDS) + " seconds");
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        sort(blob);
        System.out.println(count + " blob ids found");
        System.out.println("Finished in " + watch.elapsed(SECONDS) + " seconds");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                            getInclusionListFromRegex(state, path, regex, inclusionMap);
                            if (inclusionMap.size() == 0) {
                                System.out.println(
                                    "No valid paths found for traversal, " + "for the inclusion Regex " + regex
                                        + " under the path " + path);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        } catch (Throwable e) {
            log.error("Error occurred while performing datastore operation", e);
            e.printStackTrace(System.err);
        } finally {
            shutdownLogging();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                comparePath.isEmpty() &&
                extractFile.isEmpty())) {
            parser.printHelpOn(System.out);
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
        }
        if (!customDir.isEmpty()) {
            System.out.println("Listing differences between out-of-the-box and customized indexes " +
                    "for directory \"" + customDir + "\"");
            System.out.println(IndexDiff.collectCustomizations(customDir));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
            System.out.println("Listing differences between out-of-the-box and customized indexes " +
                    "for directory \"" + customDir + "\"");
            System.out.println(IndexDiff.collectCustomizations(customDir));
        }
        if (!mergeDirectory.isEmpty()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
            String mergeAdd = mergeAddFileOption.value(options);
            if (mergeAdd.isEmpty()) {
                parser.printHelpOn(System.out);
                return;
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
            }
            if (targetDirectory.isEmpty()) {
                System.out.println("Merging indexes " +
                        "for directory \"" +
                        mergeDirectory +
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                        mergeDirectory +
                        "\" with \"" + mergeAdd + "\"");
                System.out.println(IndexDiff.mergeIndexes(mergeDirectory, mergeAdd));
            } else {
                System.out.println("Merging index " +
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                System.out.println(IndexDiff.mergeIndexes(mergeDirectory, mergeAdd));
            } else {
                System.out.println("Merging index " +
                        "for \"" +
                        mergeDirectory +
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
            String indexBaseFile = indexBaseOption.value(options);
            if (!indexBaseFile.isEmpty()) {
                System.out.println("Comparing indexes in " + indexBaseFile + " against all indexes in " +
                        " directory \"" +
                        comparePath + "\"");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                        " directory \"" +
                        comparePath + "\"");
                System.out.println(IndexDiff.compareIndexesAgainstBase(comparePath, indexBaseFile));
            } else {
                if (index1.isEmpty() || index2.isEmpty()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
            } else {
                if (index1.isEmpty() || index2.isEmpty()) {
                    parser.printHelpOn(System.out);
                    return;
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                }
                if (Files.isRegularFile(Paths.get(comparePath))) {
                    System.out.println("Comparing indexes " + index1 + " and " + index2 +
                            " in file \"" +
                            comparePath + "\"");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                            " in file \"" +
                            comparePath + "\"");
                    System.out.println(IndexDiff.compareIndexesInFile(Paths.get(comparePath), index1, index2));
                } else {
                    System.out.println("Comparing indexes " + index1 + " and " + index2 +
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                    System.out.println(IndexDiff.compareIndexesInFile(Paths.get(comparePath), index1, index2));
                } else {
                    System.out.println("Comparing indexes " + index1 + " and " + index2 +
                            " for directory \"" +
                            comparePath + "\"");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                            " for directory \"" +
                            comparePath + "\"");
                    System.out.println(IndexDiff.compareIndexes(comparePath, index1, index2));
                }
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
            String index1 = index1Option.value(options);
            if (!index1.isEmpty()) {
                System.out.println("Extracting index " + index1 + " from \"" +
                        extractFile + "\"");
                System.out.println(IndexDiff.extract(extractFile, index1));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                System.out.println("Extracting index " + index1 + " from \"" +
                        extractFile + "\"");
                System.out.println(IndexDiff.extract(extractFile, index1));
            } else if (!targetDirectory.isEmpty()) {
                System.out.println("Extracting indexes to \"" + targetDirectory + "\" from \"" +
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                System.out.println(IndexDiff.extract(extractFile, index1));
            } else if (!targetDirectory.isEmpty()) {
                System.out.println("Extracting indexes to \"" + targetDirectory + "\" from \"" +
                        extractFile + "\"");
                IndexDiff.extractAll(extractFile, targetDirectory);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                maxtmpfiles = Integer.parseInt(args[param]);
                if (headersize < 0) {
                    System.err
                            .println("maxtmpfiles should be positive");
                }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                maxMemory = Long.parseLong(args[param]);
                if (headersize < 0) {
                    System.err
                            .println("maxmembytes should be positive");
                }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                headersize = Integer.parseInt(args[param]);
                if (headersize < 0) {
                    System.err
                            .println("headersize should be positive");
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                    outputfile = args[param];
                } else {
                    System.out.println("Unparsed: "
                            + args[param]);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        }
        if (outputfile == null) {
            System.out
                    .println("please provide input and output file names");
            displayUsage();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                usegzip);
        if (verbose) {
            System.out
                    .println("created " + l.size() + " tmp files");
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java

    public static void displayUsage() {
        System.out
                .println("java com.google.externalsorting.ExternalSort inputfile outputfile");
        System.out.println("Flags are:");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("java com.google.externalsorting.ExternalSort inputfile outputfile");
        System.out.println("Flags are:");
        System.out.println("-v or --verbose: verbose output");
        System.out.println("-d or --distinct: prune duplicate lines");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                .println("java com.google.externalsorting.ExternalSort inputfile outputfile");
        System.out.println("Flags are:");
        System.out.println("-v or --verbose: verbose output");
        System.out.println("-d or --distinct: prune duplicate lines");
        System.out
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out.println("Flags are:");
        System.out.println("-v or --verbose: verbose output");
        System.out.println("-d or --distinct: prune duplicate lines");
        System.out
                .println("-t or --maxtmpfiles (followed by an integer): specify an upper bound on the number of temporary files");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out.println("-v or --verbose: verbose output");
        System.out.println("-d or --distinct: prune duplicate lines");
        System.out
                .println("-t or --maxtmpfiles (followed by an integer): specify an upper bound on the number of temporary files");
        System.out
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("-t or --maxtmpfiles (followed by an integer): specify an upper bound on the number of temporary files");
        System.out
                .println("-m or --maxmembytes (followed by a long): specify an upper bound on the memory");
        System.out
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("-m or --maxmembytes (followed by a long): specify an upper bound on the memory");
        System.out
                .println("-c or --charset (followed by a charset code): specify the character set to use (for sorting)");
        System.out
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("-c or --charset (followed by a charset code): specify the character set to use (for sorting)");
        System.out
                .println("-z or --gzip: use compression for the temporary files");
        System.out
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("-z or --gzip: use compression for the temporary files");
        System.out
                .println("-H or --header (followed by an integer): ignore the first few lines");
        System.out
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("-H or --header (followed by an integer): ignore the first few lines");
        System.out
                .println("-s or --store (following by a path): where to store the temporary files");
        System.out.println("-h or --help: display this message");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
        System.out
                .println("-s or --store (following by a path): where to store the temporary files");
        System.out.println("-h or --help: display this message");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
            log = s -> {};
        } else {
            log = System.out::println;
        }
        Consumer<String> out = log;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateExportCommand.java`
#### Snippet
```java
            serializer.serialize(dir);

            System.out.printf("Export the nodes under path [%s] to file [%s] in %s%n",
                    eo.getPath(), dir.getAbsolutePath(), w);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/SweepHelper.java`
#### Snippet
```java
            NodeDocument.setLastRev(op, sweepRev.get());
            if (store.findAndUpdate(NODES, op) != null) {
                System.out.println("Updated sweep revision to " +
                        sweepRev.get() + ". Branch commit markers added to " +
                        bcUpdates.get() + " documents. Reverted uncommitted " +
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/SweepHelper.java`
#### Snippet
```java
                        "(" + formatMillis(time) + ")");
            } else {
                System.out.println("Sweep revision updated failed. " +
                        "Is clusterId " + clusterId + " active again?");
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/SweepHelper.java`
#### Snippet
```java
            }
        } else {
            System.out.println("Revision sweep not needed for " +
                    "clusterId " + clusterId);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/SweepHelper.java`
#### Snippet
```java
                sweepUpdates.incrementAndGet();
                trackStats(updates.values());
                System.out.println("Sweeper updated " + updates.keySet());
            }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/checkpoint/Checkpoints.java`
#### Snippet
```java
            if (name.endsWith("async") && ps.getType().equals(Type.STRING)) {
                String ref = ps.getValue(Type.STRING);
                System.out.println("Referenced checkpoint from /:async@" + name
                        + " is " + ref);
                cps.add(ref);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/Explorer.java`
#### Snippet
```java

        if (options.valuesOf(nonOptions).isEmpty()) {
            parser.printHelpOn(System.err);
            System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        reader.close();
        for(String s : sorted) {
            System.out.println(s);
        }
        System.out.println("sorted: " + sorted.size() + " original: " + lineCount);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
            System.out.println(s);
        }
        System.out.println("sorted: " + sorted.size() + " original: " + lineCount);
    }
    
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    private void dumpStats() {
        IndexStatsMBean indexStats = WhiteboardUtils.getService(whiteboard, IndexStatsMBean.class);
        System.out.println(indexStats.getConsolidatedExecutionStats());
        String queueSize = Arrays.toString(statsProvider.getStats().getTimeSeries("HYBRID_QUEUE_SIZE", false)
                .getValuePerSecond());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
        String queueSize = Arrays.toString(statsProvider.getStats().getTimeSeries("HYBRID_QUEUE_SIZE", false)
                .getValuePerSecond());
        System.out.println("Queue size - " + queueSize);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
            FileUtils.deleteDirectory(indexCopierDir);
        }
        System.out.printf("numOfIndexes: %d, refreshDeltaMillis: %d, asyncInterval: %d, queueSize: %d , " +
                        "hybridIndexEnabled: %s, indexingMode: %s, useOakCodec: %s, cleanerIntervalInSecs: %d, " +
                        "syncIndexing: %s %n",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/GetURITest.java`
#### Snippet
```java
        URI uri = ((BinaryDownload) binary).getURI(BinaryDownloadOptions.DEFAULT);
        if (DEBUG) {
            System.out.println("URI retrieved=" + uri);
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadBinaryPropertiesTest.java`
#### Snippet
```java
            byte[] bytes = IOUtils.toByteArray(property.getBinary().getStream());
            if (bytes.length != BINARY_SIZE) {
                System.out.println("Invalid binary property in node " + child.getPath());
            }
            if (child.hasNodes()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadBinaryPropertiesTest.java`
#### Snippet
```java
        Session session = loginWriter();
        Node rootNode = session.getRootNode();
        System.out.printf("Creating tree with %d nodes. Binary size: %d%n", MAX_NODES, BINARY_SIZE);
        int maxDepth = computeDepth(MAX_NODES);
        StopWatch watch = StopWatch.createStarted();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadBinaryPropertiesTest.java`
#### Snippet
```java
        int nodeCount = createTree(rootNode, maxDepth, 0);
        watch.stop();
        System.out.printf("%d nodes created in %dms%n", nodeCount, watch.getTime());
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadBinaryPropertiesTest.java`
#### Snippet
```java
        Node rootNode = session.getRootNode();
        traverseTree(rootNode);
        System.out.println("Traversal done");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + (cnt-accessCnt.noAccess) + " (Nodes: "+ accessCnt.nodeCnt +"; Properties: "+accessCnt.propertyCnt+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
            testRoot = rn.getNode(testNodeName);
        }
        System.out.println("Import deep tree: " + (System.currentTimeMillis()-start));

        ItemVisitor v = new TraversingItemVisitor.Default() {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
        };
        v.visit(testRoot);
        System.out.println("All paths: " + allPaths.size());
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentHasPermissionTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " calling #hasPermission (Allows: "+ allows +"; Denies: "+ denies +") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMembersTest.java`
#### Snippet
```java
            s.logout();
        }
        System.out.println("setup done");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FlatTreeUpdateTest.java`
#### Snippet
```java
    public void beforeSuite() throws RepositoryException {
        session = loginWriter();
        System.out.println("start");
        Node node = session.getRootNode().addNode(ROOT_NODE_NAME, "oak:Unstructured");
        for (int i = 0; i < CHILD_COUNT; i++) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FlatTreeUpdateTest.java`
#### Snippet
```java
        }
        session.save();
        System.out.println("end");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/GetAuthorizableByIdTest.java`
#### Snippet
```java
        }
        s.save();
        System.out.println("Setup "+numberOfUsers+" users");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            long diff = writerPointer - myPointer;
                            if (diff<100) {
                                System.out.println("Reader: Closer than 100, waiting...level1="+level1+", level2="+level2);
                                try {
                                    Thread.sleep(1000);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            Node level1Node = replicaCrashTestNode.getNode(level1);
                            if (!level1Node.hasNode(level2)) {
                                System.err.println("Reader: NOT FOUND: level1="+level1+", level2="+level2);
                                Thread.sleep(500);
                                session.refresh(false);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                Thread.sleep(500);
                                session.refresh(false);
                                System.err.println("Reader: Reverifying once...");
                                rootNode = session.getRootNode();
                                replicaCrashTestNode = rootNode.getNode(REPLICA_CRASH_TEST);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                final boolean hasNode = level1Node.hasNode(level2);
                                if (hasNode) {
                                    System.err.println("Reader: yup, exists: "+hasNode+", level1="+level1+", level2="+level2);
                                } else {
                                    System.err.println("Reader: not found: level1="+level1+", level2="+level2);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                    System.err.println("Reader: yup, exists: "+hasNode+", level1="+level1+", level2="+level2);
                                } else {
                                    System.err.println("Reader: not found: level1="+level1+", level2="+level2);

                                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                // read it
                                Node level2Node = level1Node.getNode(level2);
                                System.out.println("Reader: verified level1="+level1+", level2="+level2);
                            }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java

                        } catch(com.google.common.util.concurrent.UncheckedExecutionException e) {
                            System.out.println("Got an UncheckedException from the google cache probably: "+e);
                            try {
                                Thread.sleep(500);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            continue;
                        } catch (Throwable e) { // yes, one should not catch Throwable - but this is a test only
                            e.printStackTrace(System.out);
                            System.exit(1);
                        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java

                } catch (RepositoryException e1) {
                    e1.printStackTrace(System.out);
                    System.exit(1);
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                    System.exit(1);
                }
                System.out.println("Test start.");

            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                    System.exit(1);
                }
                System.out.println("Writer: Test start.");
                while(true) {
                    try{
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                        } else {
                            level1Node = replicaCrashTestNode.addNode(level1);
                            System.out.println("Writer: Created level1 node: "+level1Node);
                        }
                        Node level2Node = level1Node.addNode(level2);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                        }
                        Node level2Node = level1Node.addNode(level2);
                        System.out.println("Writer: Created level2 node: "+level2Node);
                        writerInfosNode.setProperty(LEVEL1POINTER, level1Pointer);
                        writerInfosNode.setProperty(LEVEL2POINTER, level2Pointer);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                        session.save();
                    } catch(com.google.common.util.concurrent.UncheckedExecutionException e) {
                        System.out.println("Got an UncheckedException (levels: "+level1Pointer+"/"+level2Pointer+") from the google cache probably: "+e);
                        try {
                            Thread.sleep(500);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                        continue;
                    } catch (Throwable e) { // yes, one should not catch Throwable - but this is a test only
                        e.printStackTrace(System.out);
                        System.exit(1);
                    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
                System.out.format("%s: ReplicaCrashResilienceTest%n", fixture);
                try {
                    Repository[] cluster = fixture.setUpCluster(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java

    private void run(final Repository repository) throws Exception {
        System.out.println("Setup...");
        try {
            Session session = repository.login(
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
        };
        Thread th1 = new Thread(writer);
        System.out.println("Launching writer...");
        th1.start();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
        th2.start();

        System.out.println("Waiting for writer to finish...");
        th1.join();
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsMemberTest.java`
#### Snippet
```java
            }
        } catch (RepositoryException e) {
            System.out.println(e.getMessage());
        } finally {
            if (s != null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsMemberTest.java`
#### Snippet
```java
            s.logout();
        }
        System.out.println("setup done");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
    @Override
    protected void afterSuite() throws Exception {
        System.out.printf("bundlingEnabled: %s, oakResourceEnabled: %s, readerEnabled: %s, bundlingMode: %s%n",
                bundlingEnabled, oakResourceEnabled, readerEnabled, bundlingMode);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentEveryoneACLTest.java`
#### Snippet
```java
        };
        v.visit(root);
        System.out.println("Num ACEs: " + numACEs[0]);

        session.logout();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddMembersTest.java`
#### Snippet
```java
            s.logout();
        }
        System.out.println("setup done");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/LoginWithTokensTest.java`
#### Snippet
```java
            s.logout();
        }
        System.out.println("setup done, created " + numberOfUsers + " users.");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
                System.out.format("%s: RevisionGC benchmark%n", fixture);
                try {
                    final AtomicReference<Oak> whiteboardRef = new AtomicReference<Oak>();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
                        });
                    } else {
                        System.err.format("%s: RevisionGC benchmark only runs on Oak%n", fixture);
                        return;
                    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
        Random rand = new Random();
        try {
            System.out.print("Creating garbage ");
            String longPathName = "0123456789";
            int depth = Integer.getInteger("RevisionGCTest.PATHDEPTH", 0);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            }
            s.save();
            System.out.println("Creating garbage in " + p.getPath() + " (" + p.getPath().length() + " chars)");
            for (int i = 0; i < SCALE; i++) {
                Node n = p.addNode("node-" + i);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
                    s.save();
                }
                System.out.print(".");
            }
            System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
                System.out.print(".");
            }
            System.out.println();
            System.out.println("Running RevisionGC");
            Stopwatch sw = Stopwatch.createStarted();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            }
            System.out.println();
            System.out.println("Running RevisionGC");
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            String result = revisionGC(nodeStore);
            sw.stop();
            System.out.println(result);
            System.out.println("Performed RevisionGC in " + sw);
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            sw.stop();
            System.out.println(result);
            System.out.println("Performed RevisionGC in " + sw);
        } finally {
            s.logout();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsCheckedOutAddMixinSetPropertyTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + (cnt-accessCnt.noAccess) + " (Nodes: "+ accessCnt.nodeCnt +"; Properties: "+accessCnt.propertyCnt+"), Node writes "+accessCnt.nodeWrites+" completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
            Random rand = new Random();
            try {
                System.out.print("Creating garbage ");
                for (int i = 0; ; i++) {
                    Node n = s.getRootNode().addNode("node-" + i);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
                        s.save();
                    }
                    System.out.print(".");
                }
            } catch (Exception e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
            String result = revisionGC(nodeStore);
            sw.stop();
            System.out.println("\nPerformed RevisionGC in " + sw + " (" + result + ")");
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyNodes.java`
#### Snippet
```java
                    long now = System.currentTimeMillis();
                    if (verbose) {
                        System.out.println(total + " nodes in " + (now - time) + " ms");
                    }
                    time = now;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyNodes.java`
#### Snippet
```java
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            System.out.println("ManyNodes test: " + fixture);
            if (fixture.isAvailable(1)) {
                try {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyNodes.java`
#### Snippet
```java
                }
            } else {
                System.out.println("- not available, skipping");
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java

        String pathFilter = PATH_FILTER == null ? path : PATH_FILTER;
        System.out.println("Path filter for event listener: " + pathFilter);
        ExecutorService service = Executors.newFixedThreadPool(WRITER_COUNT);
        try {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
            }

            System.out.println("ms      #node   nodes/s #event  event/s event-ratio queue external");
            while (!isDone(createNodes) || (eventCount.get() / LISTENER_COUNT < nodeCount.get() * EVENTS_PER_NODE)) {
                long t0 = System.currentTimeMillis();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
                double epn = (double) ec / nc / EVENTS_PER_NODE;

                System.out.format(
                        "%7d %7d %7.1f %7d %7.1f %7.2f %7d %7d%n",
                           t, nc,  nps, ec,  eps,  epn, ql[0], ql[1]);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
                System.out.format("%s: Observation throughput benchmark%n", fixture);
                try {
                    final AtomicReference<Whiteboard> whiteboardRef = new AtomicReference<Whiteboard>();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
            observationThroughput(repository, whiteboard);
        } finally {
            System.out.println("Time elapsed: " + (System.currentTimeMillis() - t0) + " ms");
            session.logout();
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
                }
                if (statistics.getN() > 0) {
                    System.out.format(
                            "%-28.28s  %6d  %6.0f  %6.0f  %6.0f  %6.0f %6.0f  %6d  %6.0f"+statsFormatsJoined(false)+"%n",
                            statsArg);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
    @Override
    public void run(Iterable<RepositoryFixture> fixtures, List<Integer> concurrencyLevels) {
        System.out.format(
                "# %-26.26s       C     min     10%%     50%%     90%%     max     N       mean%s%n",
                toString(), statsNamesJoined(false));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java

        if (profiler != null) {
            System.out.println(profiler.stopCollecting().getTop(5));
            profiler = null;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FlatTreeWithAceForSamePrincipalTest.java`
#### Snippet
```java

        long end = System.currentTimeMillis();
        System.out.println("setup time " + (end - start));
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentWriteACLTest.java`
#### Snippet
```java
            }
        } catch (InvalidItemStateException e) {
            System.out.printf("error: %s%n", e);
            // ignore
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java
            adminSession.save();
        }
        System.out.println("Setup "+numberOfUsers+" users");

        for (int i = 0; i < numberOfUsers; i++) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java
        }

        System.out.println("Setup group membership ("+numberOfMembers+" members per group)");
        System.out.println("All Paths : " + allPaths.size());

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java

        System.out.println("Setup group membership ("+numberOfMembers+" members per group)");
        System.out.println("All Paths : " + allPaths.size());

        AccessControlUtils.denyAllToEveryone(adminSession, "/rep:security/rep:authorizables");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentTraversalTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + (cnt-noAccess) + " (Nodes: "+ nodeCnt +"; Properties: "+propertyCnt+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ISO8601FormatterTest.java`
#### Snippet
```java
        }
        if (chars != 24 * COUNT && chars != 28 * COUNT) {
            System.err.println("formatted strings did not have the expected length: " + chars);
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateNodesBenchmark.java`
#### Snippet
```java
        createNodes(testRoot, 20, 6, count, startTime);
        long duration = System.currentTimeMillis() - startTime;
        System.out.format(
                "Created %d nodes in %d seconds (%.2fms/node)%n",
                count.get(), duration / 1000, (double) duration / count.get());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateNodesBenchmark.java`
#### Snippet
```java
            if (count.incrementAndGet() % 1000 == 0) {
                long duration = System.currentTimeMillis() - startTime;
                System.out.format(
                        "Created %d nodes in %d seconds (%.2fms/node)...%n",
                        count.get(), duration / 1000,
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateNodesBenchmark.java`
#### Snippet
```java
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
                System.out.format("%s: Create nodes benchmark%n", fixture);
                try {
                    Repository[] cluster = fixture.setUpCluster(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
                if (this == writer && VERBOSE) {
                    long perSecond = numNodes * 1000 / time;
                    System.out.println("Created " + numNodes + " in " + time + " ms. (" + perSecond + " nodes/sec)");
                }
            } catch (RepositoryException e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CugOakTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("ContentSession " + cs.getAuthInfo().getUserID() + " reading " + (itemsToRead - noAccess) + " (Tree: " + nodeCnt + "; PropertyState: " + propertyCnt + ") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/UUIDLookupTest.java`
#### Snippet
```java
        }
        String lookupMode = lookupByQuery ? "query" : "Session#getNodeByIdentifier";
        System.out.printf("No of indexes (%s) %d, Lookup by (%s)[%s] %n",noOfIndex, noOfIndex, "lookupByQuery", lookupMode);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/MemberBaseTest.java`
#### Snippet
```java
            s.logout();
        }
        System.out.println("setup done");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/MemberBaseTest.java`
#### Snippet
```java
            }
        } catch (RepositoryException e) {
            System.out.println(e.getMessage());
        } finally {
            if (s != null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentReadRandomNodeAndItsPropertiesTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + (cnt-noAccess) + " (Nodes: "+ nodeCnt +"; Properties: "+propertyCnt+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/HasPermissionHasItemGetItemTest.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            if (doReport) {
                e.printStackTrace(System.out);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/RefreshHasPrivPermHasItemGetItemTest.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            if (doReport) {
                e.printStackTrace(System.out);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/RefreshHasItemGetItemTest.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            if (doReport) {
                e.printStackTrace(System.out);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/CanReadNonExisting.java`
#### Snippet
```java
            s.logout();
        }
        System.out.println("setup done.");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/SaveHasItemGetItemTest.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            if (doReport) {
                e.printStackTrace(System.out);
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/HasPrivilegesHasItemGetItemTest.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            if (doReport) {
                e.printStackTrace(System.out);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/principalbased/HasItemGetItemIsModifiedTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + cnt + " (Nodes: "+ nodeCnt +"; Properties: "+propertyCnt+"; no access: "+noAccess+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java

        private int traverse(Session session) throws Exception {
            System.out.format("Traversing imported pages...%n");
            Node wikipedia = session.getNode("/wikipedia");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
            if (doReport) {
                long millis = System.currentTimeMillis() - start;
                System.out.format(
                        "Traversed %d pages in %d seconds (%.2fms/page)%n",
                        count, millis / 1000, (double) millis / count);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java

        if(doReport) {
            System.out.format("Importing %s...%n", dump);
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
        if (doReport) {
            long millis = System.currentTimeMillis() - start;
            System.out.format(
                    "Imported %d pages in %d seconds (%.2fms/page)%n",
                    count, millis / 1000, (double) millis / count);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
                if (count % 1000 == 0 && doReport) {
                    long millis = System.currentTimeMillis() - start;
                    System.out.format(
                            "Read %d pages in %d seconds (%.2fms/page)%n",
                            count, millis / 1000, (double) millis / count);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
    public void run(Iterable<RepositoryFixture> fixtures) {
        if (dump == null) {
            System.out.format("Missing Wikipedia dump, skipping import benchmark.%n");
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
        }
        if (!dump.isFile()) {
            System.out.format("The Wikipedia dump at %s is not a file, skipping import benchmark.%n", dump.getPath());
            return;
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
                System.out.format(
                        "%s: Wikipedia import benchmark%n", fixture);
                try {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
                }
            } else {
                System.out.format("%s: not available, skipping.%n", fixture);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
        if (doReport) {
            long millis = System.currentTimeMillis() - start;
            System.out.format(
                    "Added %d pages in %d seconds (%.2fms/page)%n",
                    count, millis / 1000, (double) millis / count);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/GetPrivilegeCollectionIncludeNamesTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + cnt + " (Nodes: "+ nodeCnt +"; Properties: "+propertyCnt+"; no access: "+noAccess+"; "+ additionalMethodName()+": "+addCnt+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/GetPrivilegeCollectionIncludeNamesTest.java`
#### Snippet
```java
                    boolean includes = pc.includes(toTest);
                    if (doReport) {
                        System.out.println("PrivilegeCollection.includes('"+toTest+"') : "+includes);
                    }
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/GetPrivilegeCollectionIncludeNamesTest.java`
#### Snippet
```java
                    boolean includes = privilegeNames.contains(toTest);
                    if (doReport) {
                        System.out.println("Privileges '"+Arrays.toString(privileges)+"' include '"+toTest+"' : "+includes);
                    }
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/GetPrivilegeCollectionIncludeNamesTest.java`
#### Snippet
```java
                    boolean hasPrivilege = acMgr.hasPrivileges(accessControlledPath, AccessControlUtils.privilegesFromNames(acMgr, toTest)); 
                    if (doReport) {
                        System.out.println("AccessControlManager.hasPrivileges('"+accessControlledPath+"','"+toTest+"') : "+hasPrivilege);
                    }
                }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/GetPrivilegeCollectionIncludeNamesTest.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            if (doReport) {
                e.printStackTrace(System.out);
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/principalbased/PermissionEvaluationTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " hasPermissions (granted = " + access + "; denied = "+ noAccess+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/AbstractHasItemGetItemTest.java`
#### Snippet
```java
            long end = System.currentTimeMillis();
            if (doReport) {
                System.out.println("Session " + testSession.getUserID() + " reading " + cnt + " (Nodes: "+ nodeCnt +"; Properties: "+propertyCnt+"; no access: "+noAccess+"; "+ additionalMethodName()+": "+addCnt+") completed in " + (end - start));
            }
        } finally {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java

        if (options.has(scalabilityOptions.getHelp())) {
            parser.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java

        if (argmap.isEmpty()) {
            System.err.println("Warning: no scalability suites specified, " +
                "supported  are: " + Arrays.asList(allSuites));
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
            }
        } else {
            System.err.println("Unknown arguments: " + argset);
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
            if (end || count % LIMIT == 0) {
                long dur = System.currentTimeMillis() - start;
                System.out.println(dur + " ms, " + count + " tests");
                start = System.currentTimeMillis();
                count = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
                return;
            }
            System.out.println("Reporting enabled.");
            start = System.currentTimeMillis();
            count = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
    protected void afterSuite() throws Exception {
        reporter.afterSuite();
        System.out.println("Unique users " + uniques.size() + " out of total " + numberOfUsers + ". Groups "
                + numberOfGroups + ". Err " + err.get() + ". Seed " + seed);
        super.afterSuite();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                ScalabilityBenchmark benchmark = entry.getKey();

                System.out
                        .format(
                                "# %-26.26s       min     10%%     50%%     90%%     max       N%n",
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                }

                System.out.format(
                        "%-30.30s  %6.0f  %6.0f  %6.0f  %6.0f  %6.0f  %6d%n",
                        fixture.toString(),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                }
                header.append("%n");
                System.out.format(header.toString(), "Iterations/Load");

                StringBuffer format = new StringBuffer();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                StringBuffer format = new StringBuffer();
                format.append("%-30.30s");
                System.out.format(format.toString(), "\t" + "Time (ms)");
                if (out != null) {
                    out.format(format.toString(), "\t" + "Time (ms)");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                    format.append("\t");
                    format.append("%-7.0f");
                    System.out.format(format.toString(), statistics.getValues()[idx]);
                    if (out != null) {
                        out.format(format.toString(), statistics.getValues()[idx]);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                    }
                }
                System.out.format("%n");
            }
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java

        if (options.has(benchmarkOptions.getHelp())) {
            parser.printHelpOn(System.out);
            System.exit(0);
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java

        if (fixtures.isEmpty()) {
            System.err.println("Warning: no repository fixtures specified, supported fixtures are: "
                    + asSortedString(Arrays.asList(allFixtures)));
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java

        if (benchmarks.isEmpty()) {
            System.err.println("Warning: no benchmarks specified, supported benchmarks are: "
                    + asSortedString(Arrays.asList(allBenchmarks)));
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
            reportMetrics(statsProvider);
        } else {
            System.err.println("Unknown arguments: " + argset);
        }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
            MetricRegistry metricRegistry = ((MetricStatisticsProvider) statsProvider).getRegistry();
            ConsoleReporter.forRegistry(metricRegistry)
                    .outputTo(System.out)
                    .filter(new MetricFilter() {
                        @Override
```

## RuleId[id=CharsetObjectCanBeUsed]
### CharsetObjectCanBeUsed
Charsets.UTF_8 can be used instead
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                for (Map.Entry<String, String> e : additionalQueryParams.entrySet()) {
                    builder.append("&");
                    builder.append(URLEncoder.encode(e.getKey(), Charsets.UTF_8.name()));
                    builder.append("=");
                    builder.append(URLEncoder.encode(e.getValue(), Charsets.UTF_8.name()));
```

### CharsetObjectCanBeUsed
Charsets.UTF_8 can be used instead
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                    builder.append(URLEncoder.encode(e.getKey(), Charsets.UTF_8.name()));
                    builder.append("=");
                    builder.append(URLEncoder.encode(e.getValue(), Charsets.UTF_8.name()));
                }
                uriString += builder.toString();
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java
            return new Base64ReaderInputStream(reader());
        } else if (buffer != null) {
            return new ByteArrayInputStream(retrieve().getBytes("UTF-8"));
        } else if (tmpFile != null) {
            // close writer first
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java
                tmpFile = fileFactory.createTransientFile("txt", null, null);
                BufferedOutputStream fout = new BufferedOutputStream(new FileOutputStream(tmpFile));
                writer = new OutputStreamWriter(fout, "UTF-8");
                writer.write(buffer.toString());
                writer.write(chars, start, len);
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java

    private Reader openReader() throws IOException {
        return new InputStreamReader(openStream(), "UTF-8");
    }

```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/BufferedStringValue.java`
#### Snippet
```java
            ByteArrayOutputStream out = new ByteArrayOutputStream();
            Base64.decode(value, out);
            value = new String(out.toByteArray(), "UTF-8");
        }
        return value;
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/util/NodeTypeIndexingUtils.java`
#### Snippet
```java
        }
        FileOutputStream fileOutputStream = new FileOutputStream(file);
        fileOutputStream.write(stringWriter.toString().getBytes("UTF-8"));
        fileOutputStream.flush();
        fileOutputStream.close();
```

### CharsetObjectCanBeUsed
Charsets.UTF_8 can be used instead
in `oak-http/src/main/java/org/apache/jackrabbit/oak/http/HtmlRepresentation.java`
#### Snippet
```java
                xhtml.startElement("dd");
                xhtml.startElement("a", "href", response.encodeRedirectURL(
                        URLEncoder.encode(name, Charsets.UTF_8.name()) + "/"));
                xhtml.characters(child.getPath());
                xhtml.endElement("a");
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
     */
    public static String readString(InputStream in) throws IOException {
        return new String(readBytes(in), "UTF-8");
    }

```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
     */
    public static void writeString(OutputStream out, String s) throws IOException {
        writeBytes(out, s.getBytes("UTF-8"));
    }

```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            copyInThread(p.getErrorStream(), err);
            p.waitFor();
            String e = new String(err.toByteArray(), "UTF-8");
            if (e.length() > 0) {
                throw new RuntimeException(e);
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                throw new RuntimeException(e);
            }
            String output = new String(out.toByteArray(), "UTF-8");
            return output;
        } catch (Exception e) {
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
                // GZIP
                try (GZIPInputStream gis = new GZIPInputStream(new ByteArrayInputStream(bdata), 65536)) {
                    return IOUtils.toString(gis, "UTF-8");
                }
            } else {
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    public static final int NODE_NAME_LIMIT = Integer.getInteger("oak.nodeNameLimit", 150);

    private static final Charset UTF_8 = Charset.forName("UTF-8");

    private static final char[] HEX_DIGITS = "0123456789abcdef".toCharArray();
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                } else if ("-o".equals(param) || "--out".equals(param)) {
                    OutputStream os = new FileOutputStream(args[++i]);
                    out = new PrintStream(os, true, "UTF-8");
                } else if ("--from-db2-dump".equals(param)) {
                    dumpfile = args[++i];
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
public class RDBExport {

    private static final Charset UTF8 = Charset.forName("UTF-8");

    private enum Format {
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        if (tmd.isIdBinary()) {
            try {
                return new String(rs.getBytes(idx), "UTF-8");
            } catch (UnsupportedEncodingException ex) {
                LOG.error("UTF-8 not supported", ex);
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
    private static final int MAX_BUFFER_SIZE = 64;
    private static final AtomicInteger NEXT_ID = new AtomicInteger();
    private static final Charset UTF8 = Charset.forName("UTF-8");

    private final int id = NEXT_ID.incrementAndGet();
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/util/SafeEncode.java`
#### Snippet
```java
     */
    public static String safeEncode(String s) throws UnsupportedEncodingException {
        return URLEncoder.encode(s, "UTF-8").replace("%2F", "/").replace("%3A", ":");
    }

```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        byte[] bytes;
        try {
            bytes = data.getBytes("UTF-8");
        } catch (UnsupportedEncodingException ex) {
            LOG.error("UTF-8 not supported??", ex);
```

### CharsetObjectCanBeUsed
Charsets.UTF_8 can be used instead
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexUtil.java`
#### Snippet
```java
                    v = EMPTY_TOKEN;
                } else {
                    v = URLEncoder.encode(v, Charsets.UTF_8.name());
                }
                values.add(v);
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_16LE can be used instead
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java

        for (int i = 0; i < hashCount; i++) {
          byte[] bytes = current.getBytes("UTF-16LE");
          LongPair hash = new LongPair();
          murmurhash3_x64_128(bytes, 0, bytes.length, 0, hash);
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractSharedBackend.java`
#### Snippet
```java
            Mac mac = Mac.getInstance(ALGORITHM);
            mac.init(new SecretKeySpec(getReferenceKey(), ALGORITHM));
            byte[] hash = mac.doFinal(id.getBytes("UTF-8"));

            return id + ':' + encodeHexString(hash);
```

### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
            Mac mac = Mac.getInstance(ALGORITHM);
            mac.init(new SecretKeySpec(getReferenceKey(), ALGORITHM));
            byte[] hash = mac.doFinal(blobId.getBytes("UTF-8"));
            return blobId + ':' + BaseEncoding.base32Hex().encode(hash);
        } catch (NoSuchAlgorithmException e) {
```

### CharsetObjectCanBeUsed
Charsets.UTF_8 can be used instead
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
                out =
                    new PrintStream(FileUtils.openOutputStream(scalabilityOptions.getCsvFile().value(options), true), false,
                                            Charsets.UTF_8.name());
            }
            for (ScalabilitySuite suite : suites) {
```

## RuleId[id=NewObjectEquality]
### NewObjectEquality
New object is compared using '!='
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeBuilder.java`
#### Snippet
```java
            NodeState state = super.getNodeState();
            SegmentNodeState sState = new SegmentNodeState(reader, writer, blobStore, writer.writeNode(state), readStats);
            if (state != sState) {
                set(sState);
                if(!isChildBuilder()) {
```

## RuleId[id=ImplicitArrayToString]
### ImplicitArrayToString
Implicit call to 'toString()' on array `enabledProtocols`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
        sb.append(", useTLS=").append(useTLS);
        sb.append(", noCertCheck=").append(noCertCheck);
        sb.append(", enabledProtocols=").append(enabledProtocols);
        sb.append(", bindDN='").append(bindDN).append('\'');
        sb.append(", bindPassword='***'");
```

## RuleId[id=DynamicRegexReplaceableByCompiledPattern]
### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/DocViewImportHandler.java`
#### Snippet
```java
     */
    private Iterable<String> parseNames(String value) throws SAXException {
        String[] names = value.split("\\p{Space}+");
        List<String> qnames = Lists.newArrayListWithCapacity(names.length);
        for (String name : names) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QOMNode.java`
#### Snippet
```java

    private static String quoteName(String name) {
        name = name.replaceAll("]", "]]");
        return '[' + name + ']';
    }
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/MigrationOptions.java`
#### Snippet
```java
            calendar = Calendar.getInstance();
            calendar.setTimeInMillis(0);
        } else if (string != null && string.matches("^\\d{4}-\\d{2}-\\d{2}$")) {
            calendar = Calendar.getInstance();
            try {
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
    private static boolean isSupportedHttpRequest(String nativeQueryString) {
        // the query string starts with ${supported-handler.selector}?
        return nativeQueryString.matches("(suggest|spellcheck|mlt|query|select|get)\\\\?.*");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-http/src/main/java/org/apache/jackrabbit/oak/http/AcceptHeader.java`
#### Snippet
```java
            ranges.add(new MediaRange(MediaType.parse("*/*"), 1.0));
        } else {
            for (String part : accept.split("(\\s*,)+\\s*")) {
                MediaRange range = MediaRange.parse(part, registry); 
                if (range != null) {
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
        }
        start = System.currentTimeMillis();
        if (args[0].matches("\\d+")) {
            pid = Integer.parseInt(args[0]);
            long last = 0;
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
    private boolean isContinuousRevisionGC() {
        String expr = getVersionGCExpression();
        String[] elements = expr.split("\\s");
        // simple heuristic to determine if revision GC runs 'frequently'
        return elements.length >= 6 && elements[1].equals("*");
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreServiceConfiguration.java`
#### Snippet
```java
                obj = value;
            } else if (type == String[].class) {
                obj = String.valueOf(value).split("::");
            } else {
                obj = defaultValue;
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreServiceConfiguration.java`
#### Snippet
```java
        public Object invoke(Object proxy, Method method, Object[] args)
                throws Throwable {
            String name = method.getName().replaceAll("_", ".");
            Configuration c;
            if (configurationKeys.contains(name)) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Document.java`
#### Snippet
```java
     */
    public String format() {
        return data.toString().replaceAll(", _", ",\n_").replaceAll("}, ", "},\n");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Document.java`
#### Snippet
```java
     */
    public String format() {
        return data.toString().replaceAll(", _", ",\n_").replaceAll("}, ", "},\n");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java

        String dbDesc = String.format("%s %s (%d.%d)", md.getDatabaseProductName(), md.getDatabaseProductVersion(),
                md.getDatabaseMajorVersion(), md.getDatabaseMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
        String driverDesc = String.format("%s %s (%d.%d)", md.getDriverName(), md.getDriverVersion(), md.getDriverMajorVersion(),
                md.getDriverMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java
                md.getDatabaseMajorVersion(), md.getDatabaseMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
        String driverDesc = String.format("%s %s (%d.%d)", md.getDriverName(), md.getDriverVersion(), md.getDriverMajorVersion(),
                md.getDriverMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
        String dbUrl = md.getURL();

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

    private String getClusterNodeInfoDisplayString() {
        return (readOnlyMode?"readOnly:true, ":"") + clusterNodeInfo.toString().replaceAll("[\r\n\t]", " ").trim();
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java

    private String jmxRole() {
        return cfg.getRole().replaceAll(":", "-");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Diff.java`
#### Snippet
```java
        System.out.println("Writing diff to " + out);

        String[] tokens = interval.trim().split("\\.\\.");

        if (tokens.length != 2) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
    protected String getDestinationFromId(String id) {
        // Rename the blob names to match expected datastore cache format (remove the "-" in the name)
        String blobName = id.replaceAll("-", "");
        if (id.length() < 6) {
            LOG.warn("Blob with name {} is less than 6 chars. Cannot create data folder structure. Storing in the root folder", blobName);
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
                    if (!p.isMultiple()) {
                        String propValue = p.getValue().getString();
                        if (propValue.matches("........-....-....-....-............")) {
                            if (verify(session, n, p, propValue)) {
                                count++;
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
                        for (Value v : p.getValues()) {
                            String propValue = v.getString();
                            if (propValue.matches("........-....-....-....-............")) {
                                if (verify(session, n, p, propValue)) {
                                    count++;
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
                    child.getProperties().put(p, v);
                } else if (v.startsWith("[") && v.contains("\"nam:")) {
                    v = v.replaceAll("\\[\"nam:", "\\[\"");
                    v = v.replaceAll(", \"nam:", ", \"");
                    child.getProperties().put(p, v);
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
                } else if (v.startsWith("[") && v.contains("\"nam:")) {
                    v = v.replaceAll("\\[\"nam:", "\\[\"");
                    v = v.replaceAll(", \"nam:", ", \"");
                    child.getProperties().put(p, v);
                } else if (v.startsWith("\":blobId:")) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
            JsonObject index = indexDefs.getChildren().get(child);
            simplify(index);
            String fileName = child.replaceAll(OAK_INDEX, "");
            fileName = fileName.replace(':', '-');
            Path p = Paths.get(extractTargetDirectory, fileName + ".json");
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
    private String readLabel() throws ParseException {
        String label = readName();
        if (!label.matches("[a-zA-Z0-9_]*") || label.isEmpty() || label.length() > 128) {
            throw getSyntaxError("a-z, A-Z, 0-9, _");
        }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
                            PropertyValues.newString(plan),
                            // retrieve the original statement from either of the unioned subqueries, i.e., the left one
                            PropertyValues.newString(left.getStatement().replaceFirst("(?i)\\bexplain\\s+", ""))
                    },
                    null, null);
```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
                            // remove "explain" keyword from query statement to produce explained statement
                            PropertyValues.newString(getStatement()
                                    .replaceFirst("(?i)\\bexplain\\s+", ""))
                    },
                    null, null);
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java

    protected String quoteJson(String string) {
        return '"' + string.replaceAll("\"", "\"\"") + '"';
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java

    protected String quote(String pathOrName) {
        pathOrName = pathOrName.replaceAll("]", "]]");
        return '[' + pathOrName + ']';
    }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

        String dbDesc = String.format("%s %s (%d.%d)", md.getDatabaseProductName(), md.getDatabaseProductVersion(),
                md.getDatabaseMajorVersion(), md.getDatabaseMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
        String driverDesc = String.format("%s %s (%d.%d)", md.getDriverName(), md.getDriverVersion(), md.getDriverMajorVersion(),
                md.getDriverMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                md.getDatabaseMajorVersion(), md.getDatabaseMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
        String driverDesc = String.format("%s %s (%d.%d)", md.getDriverName(), md.getDriverVersion(), md.getDriverMajorVersion(),
                md.getDriverMinorVersion()).replaceAll("[\r\n\t]", " ").trim();
        String dbUrl = md.getURL();

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // numbers
        query = query.replaceAll("[0-9]+", "1");

        // single quoted literals
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // single quoted literals
        query = query.replaceAll("'[^']*'", "'x'");
        query = query.replaceAll("('x')+", "'x'");

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // single quoted literals
        query = query.replaceAll("'[^']*'", "'x'");
        query = query.replaceAll("('x')+", "'x'");

        // doubly quoted literals
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // doubly quoted literals
        query = query.replaceAll("\"[^\"]*\"", "\"x\"");
        query = query.replaceAll("(\"x\")+", "\"x\"");

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // doubly quoted literals
        query = query.replaceAll("\"[^\"]*\"", "\"x\"");
        query = query.replaceAll("(\"x\")+", "\"x\"");

        // replace "in('x', 'x')" with "in('x')"
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // replace "in('x', 'x')" with "in('x')"
        query = query.replaceAll("'x', ", "'x',");
        query = query.replaceAll("('x','x')+", "'x'");

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // replace "in('x', 'x')" with "in('x')"
        query = query.replaceAll("'x', ", "'x',");
        query = query.replaceAll("('x','x')+", "'x'");

        // usage of [/path] inside ISDESCENDANTNODE and so on
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // usage of [/path] inside ISDESCENDANTNODE and so on
        // (case insensitive)
        query = query.replaceAll(
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(.*,\\s*\\[/[^]]*\\]\\)",
                "$1('x')");
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(.*,\\s*\\[/[^]]*\\]\\)",
                "$1('x')");
        query = query.replaceAll(
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(\\[/[^]]*\\]\\)",
                "$1('x')");
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        buff.append(" /* xpath: ");
        // the xpath query may contain the "end comment" marker
        String xpathEscaped = xpath.replaceAll("\\*\\/", "* /");
        buff.append(xpathEscaped);
        buff.append(" */");        
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
                String f = m.group(1);
                // un-escape: \} => }
                f = f.replaceAll("\\\\}", "}");
                // we only support regex("...") currently
                if (f.startsWith("regex(\"") && f.endsWith("\")")) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
                    String regexPattern = f.substring("regex(\"".length(), f.length() - 2);
                    // un-escape: \" => "
                    regexPattern = regexPattern.replaceAll("\\\"", "\"");
                    String x = findMatch(path, regexPattern);
                    if (x == null) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java

    private static String escapeFilterValue(String s) {
        return s.replaceAll("[(]", "\\\\(").
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
    private static String escapeFilterValue(String s) {
        return s.replaceAll("[(]", "\\\\(").
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
                replaceAll("[\\*]", "\\\\*");
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
        return s.replaceAll("[(]", "\\\\(").
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
                replaceAll("[\\*]", "\\\\*");
    }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
                replaceAll("[\\*]", "\\\\*");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
                if (contains.getBase() instanceof FullTextTerm && contains.isNot() && rawText.startsWith("-")) {
                    // Replace the prepending '-' in raw text to avoid double negation
                    String text = rawText.replaceFirst("-", "");
                    visitTerm(contains.getPropertyName(), text, null,
                            true);
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java

    private static List<String> splitForIndexing(String tagName) {
        return Arrays.asList(removeBackSlashes(tagName).split(DYNAMIC_BOOST_SPLIT_REGEX));
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java

    private static String removeBackSlashes(String text) {
        return text.replaceAll("\\\\", "");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java

        //Just keep ascii chars
        propName = propName.replaceAll("\\W", "");
        return propName;
    }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java
    static String getFSSafeName(String e) {
        //TODO Exclude -_ like chars via [^\W_]
        return e.replaceAll("\\W", "");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
        // most query parsers recognize 'AND' and 'NOT' as
        // keywords.
        textsearch = textsearch.replaceAll("AND", "and");
        textsearch = textsearch.replaceAll("NOT", "not");
        boolean escaped = false;
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
        // keywords.
        textsearch = textsearch.replaceAll("AND", "and");
        textsearch = textsearch.replaceAll("NOT", "not");
        boolean escaped = false;
        for (int i = 0; i < textsearch.length(); i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java

        //Just keep ascii chars
        propName = propName.replaceAll("\\W", "");
        return propName;
    }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
            prop = prop.substring(0, prop.lastIndexOf(']'));
            remaining = remaining.substring(prop.length() + 1);
            String x = prop.replaceAll("]]", "]");
            if ("jcr:path".equals(x)) {
                return "@:path";
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
            }
            remaining = remaining.substring(prop.length());
            String x = prop.replaceAll("@", "");
            if ("jcr:path".equals(x)) {
                return "@:path";
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `oak-benchmarks-solr/src/main/java/org/apache/jackrabbit/oak/benchmark/FullTextSolrSearchTest.java`
#### Snippet
```java

    private void initializeProvider() throws Exception {
        if (server != null && (server.startsWith("http") || server.matches("\\w+\\:\\d{3,5}"))) {
            log.info("using remote Solr {}", server);
            RemoteSolrServerConfiguration remoteSolrServerConfiguration = new RemoteSolrServerConfiguration(
```

## RuleId[id=SamePackageImport]
### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStore;`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/plugins/segment/CheckpointAccessor.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.segment;

import org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStore;
import org.apache.jackrabbit.oak.spi.state.NodeState;

```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.commit.Observable;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ObserverTracker.java`
#### Snippet
```java
import java.util.Map;

import org.apache.jackrabbit.oak.spi.commit.Observable;
import org.apache.jackrabbit.oak.spi.commit.Observer;
import org.jetbrains.annotations.NotNull;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.commit.Observer;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ObserverTracker.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.spi.commit.Observable;
import org.apache.jackrabbit.oak.spi.commit.Observer;
import org.jetbrains.annotations.NotNull;
import org.osgi.framework.BundleContext;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.commit.CommitInfo;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/WhiteboardEditorProvider.java`
#### Snippet
```java

import org.apache.jackrabbit.oak.api.CommitFailedException;
import org.apache.jackrabbit.oak.spi.commit.CommitInfo;
import org.apache.jackrabbit.oak.spi.commit.CompositeEditorProvider;
import org.apache.jackrabbit.oak.spi.commit.Editor;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.commit.CompositeEditorProvider;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/WhiteboardEditorProvider.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.CommitFailedException;
import org.apache.jackrabbit.oak.spi.commit.CommitInfo;
import org.apache.jackrabbit.oak.spi.commit.CompositeEditorProvider;
import org.apache.jackrabbit.oak.spi.commit.Editor;
import org.apache.jackrabbit.oak.spi.commit.EditorProvider;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.commit.Editor;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/WhiteboardEditorProvider.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.commit.CommitInfo;
import org.apache.jackrabbit.oak.spi.commit.CompositeEditorProvider;
import org.apache.jackrabbit.oak.spi.commit.Editor;
import org.apache.jackrabbit.oak.spi.commit.EditorProvider;
import org.apache.jackrabbit.oak.spi.state.NodeBuilder;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.commit.EditorProvider;`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/WhiteboardEditorProvider.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.commit.CompositeEditorProvider;
import org.apache.jackrabbit.oak.spi.commit.Editor;
import org.apache.jackrabbit.oak.spi.commit.EditorProvider;
import org.apache.jackrabbit.oak.spi.state.NodeBuilder;
import org.apache.jackrabbit.oak.spi.state.NodeState;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.mount.Mount;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/SimpleMountInfoProvider.java`
#### Snippet
```java
import com.google.common.collect.Lists;
import com.google.common.collect.Maps;
import org.apache.jackrabbit.oak.spi.mount.Mount;
import org.apache.jackrabbit.oak.spi.mount.MountInfoProvider;
import org.apache.jackrabbit.oak.spi.mount.Mounts;
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.mount.MountInfoProvider;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/SimpleMountInfoProvider.java`
#### Snippet
```java
import com.google.common.collect.Maps;
import org.apache.jackrabbit.oak.spi.mount.Mount;
import org.apache.jackrabbit.oak.spi.mount.MountInfoProvider;
import org.apache.jackrabbit.oak.spi.mount.Mounts;

```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.spi.mount.Mounts;`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/SimpleMountInfoProvider.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.mount.Mount;
import org.apache.jackrabbit.oak.spi.mount.MountInfoProvider;
import org.apache.jackrabbit.oak.spi.mount.Mounts;

/**
```

### SamePackageImport
Unnecessary import from the same package `import org.apache.jackrabbit.oak.segment.remote.RemoteSegmentArchiveEntry;`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/RemoteUtilities.java`
#### Snippet
```java
import static java.lang.Boolean.getBoolean;

import org.apache.jackrabbit.oak.segment.remote.RemoteSegmentArchiveEntry;
import org.jetbrains.annotations.NotNull;

```

## RuleId[id=NonProtectedConstructorInAbstractClass]
### NonProtectedConstructorInAbstractClass
Constructor `CachingBlobStore()` of an abstract class should not be declared 'public'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CachingBlobStore.java`
#### Snippet
```java
    public static final String MEM_CACHE_NAME = "BlobStore-MemCache";

    public CachingBlobStore(long cacheSize) {
        this.blobCacheSize = cacheSize;
        cache = CacheLIRS.<String, byte[]>newBuilder().
```

### NonProtectedConstructorInAbstractClass
Constructor `CachingBlobStore()` of an abstract class should not be declared 'public'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CachingBlobStore.java`
#### Snippet
```java
    }

    public CachingBlobStore() {
        this(DEFAULT_CACHE_SIZE);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `OutOfBandIndexerBase()` of an abstract class should not be declared 'public'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
    //present in target repository

    public OutOfBandIndexerBase(IndexHelper indexHelper, IndexerSupport indexerSupport) {
        this.indexHelper = checkNotNull(indexHelper);
        this.indexerSupport = checkNotNull(indexerSupport);
```

### NonProtectedConstructorInAbstractClass
Constructor `IndexImporterSupportBase()` of an abstract class should not be declared 'public'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexImporterSupportBase.java`
#### Snippet
```java
    protected final IndexHelper indexHelper;

    public IndexImporterSupportBase(IndexHelper indexHelper) {
        this.nodeStore = indexHelper.getNodeStore();
        this.indexHelper = indexHelper;
```

### NonProtectedConstructorInAbstractClass
Constructor `AsyncIndexerBase()` of an abstract class should not be declared 'public'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
    private final CountDownLatch latch;

    public AsyncIndexerBase(IndexHelper indexHelper, Closer closer, List<String> names, long delay) {
        this.indexHelper = indexHelper;
        this.closer = closer;
```

### NonProtectedConstructorInAbstractClass
Constructor `DocumentStoreIndexerBase()` of an abstract class should not be declared 'public'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    private static final int MAX_DOWNLOAD_ATTEMPTS = Integer.parseInt(System.getProperty("oak.indexer.maxDownloadRetries", "5")) + 1;

    public DocumentStoreIndexerBase(IndexHelper indexHelper, IndexerSupport indexerSupport) {
        this.indexHelper = indexHelper;
        this.indexerSupport = indexerSupport;
```

### NonProtectedConstructorInAbstractClass
Constructor `BlobStoreFixture()` of an abstract class should not be declared 'public'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/BlobStoreFixture.java`
#### Snippet
```java
    protected final String unique;

    public BlobStoreFixture(String name) {
        this.name = name;
        this.unique = getUniqueName(name);
```

### NonProtectedConstructorInAbstractClass
Constructor `IndexVersionOperation()` of an abstract class should not be declared 'public'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java
    private Operation operation;

    public IndexVersionOperation(IndexName indexName) {
        this.indexName = indexName;
        this.operation = Operation.NOOP;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractDocumentNodeBuilder()` of an abstract class should not be declared 'public'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/AbstractDocumentNodeBuilder.java`
#### Snippet
```java
abstract class AbstractDocumentNodeBuilder extends MemoryNodeBuilder {

    public AbstractDocumentNodeBuilder(@NotNull NodeState base) {
        super(base);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `Collection()` of an abstract class should not be declared 'public'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Collection.java`
#### Snippet
```java
    private final String name;

    public Collection(String name) {
        this.name = name;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `MergeSortedIterators()` of an abstract class should not be declared 'public'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/MergeSortedIterators.java`
#### Snippet
```java
    private T lastPeek;

    public MergeSortedIterators(final Comparator<T> comparator) {
        this.comparator = comparator;
        fetchNextIterator();
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractPersistentCache()` of an abstract class should not be declared 'public'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java
    protected SegmentCacheStats segmentCacheStats;

    public AbstractPersistentCache() {
        executor = Executors.newFixedThreadPool(THREADS);
        writesPending = ConcurrentHashMap.newKeySet();
```

### NonProtectedConstructorInAbstractClass
Constructor `ReadWriteNamespaceRegistry()` of an abstract class should not be declared 'public'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/ReadWriteNamespaceRegistry.java`
#### Snippet
```java
        extends ReadOnlyNamespaceRegistry {

    public ReadWriteNamespaceRegistry(Root root) {
        super(root);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `DiffIndex()` of an abstract class should not be declared 'public'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/diffindex/DiffIndex.java`
#### Snippet
```java
    private final DiffCollector collector;

    public DiffIndex(DiffCollector collector) {
        this.collector = collector;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseDiffCollector()` of an abstract class should not be declared 'public'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/diffindex/BaseDiffCollector.java`
#### Snippet
```java
     * @param after after state
     */
    public BaseDiffCollector(NodeState before, NodeState after) {
        this.before = before;
        this.after = after;
```

### NonProtectedConstructorInAbstractClass
Constructor `COWFileReference()` of an abstract class should not be declared 'public'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/CopyOnWriteDirectory.java`
#### Snippet
```java
        protected final String name;

        public COWFileReference(String name) {
            this.name = name;
        }
```

### NonProtectedConstructorInAbstractClass
Constructor `Include()` of an abstract class should not be declared 'public'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/Aggregate.java`
#### Snippet
```java
        protected final String[] elements;

        public Include(String pattern) {
            this.elements = computeElements(pattern);
        }
```

### NonProtectedConstructorInAbstractClass
Constructor `FulltextDocumentMaker()` of an abstract class should not be declared 'public'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
    private final int logWarnStringSizeThreshold;

    public FulltextDocumentMaker(@Nullable FulltextBinaryTextExtractor textExtractor,
                                 @NotNull IndexDefinition definition,
                                 IndexDefinition.IndexingRule indexingRule,
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractDataRecord()` of an abstract class should not be declared 'public'
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractDataRecord.java`
#### Snippet
```java
     * @param identifier data identifier
     */
    public AbstractDataRecord(
        AbstractSharedBackend backend, DataIdentifier identifier) {
        this.backend = backend;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractLoginTest()` of an abstract class should not be declared 'public'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java
    }

    public AbstractLoginTest(String runAsUser, boolean runWithToken, int noIterations, long expiration) {
        super();
        this.runAsUser = runAsUser;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractLoginTest()` of an abstract class should not be declared 'public'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java
    }

    public AbstractLoginTest(String runAsUser, boolean runWithToken, int noIterations) {
        this(runAsUser, runWithToken, noIterations, NO_CACHE);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractLoginTest()` of an abstract class should not be declared 'public'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java
    private long expiration;

    public AbstractLoginTest() {
        this("admin", false, DEFAULT_ITERATIONS);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `MemberBaseTest()` of an abstract class should not be declared 'public'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/MemberBaseTest.java`
#### Snippet
```java
    private final List<String> memberPaths;

    public MemberBaseTest(int numberOfGroups, boolean nested, int numberOfMembers) {
        this.numberOfGroups = numberOfGroups;
        this.numberOfMembers = numberOfMembers;
```

### NonProtectedConstructorInAbstractClass
Constructor `ConfigurationBase()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/ConfigurationBase.java`
#### Snippet
```java
     * osgi constructor
     */
    public ConfigurationBase() {
    }

```

### NonProtectedConstructorInAbstractClass
Constructor `ConfigurationBase()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/ConfigurationBase.java`
#### Snippet
```java
     * non-osgi constructor
     */
    public ConfigurationBase(@NotNull SecurityProvider securityProvider, @NotNull ConfigurationParameters config) {
        this.securityProvider = securityProvider;
        this.config = config;
```

### NonProtectedConstructorInAbstractClass
Constructor `CompositeConfiguration()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    private T defaultConfig;

    public CompositeConfiguration(@NotNull String name) {
        this.name = name;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `CompositeConfiguration()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    }

    public CompositeConfiguration(@NotNull String name, @NotNull SecurityProvider securityProvider) {
        this.name = name;
        this.securityProvider = securityProvider;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractRestrictionProvider()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/AbstractRestrictionProvider.java`
#### Snippet
```java
    private CompositeRestrictionProvider composite = null;

    public AbstractRestrictionProvider(@NotNull Map<String, ? extends RestrictionDefinition> definitions) {
        this.supported = ImmutableMap.copyOf(definitions);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `ACE()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/ACE.java`
#### Snippet
```java
     * @throws AccessControlException If the given {@code principal} or {@code privilegeBits} are {@code null} or if {@code privilegeBits} are {@link PrivilegeBits#isEmpty() empty}.
     */
    public ACE(@Nullable Principal principal, @Nullable PrivilegeBits privilegeBits,
               boolean isAllow, @Nullable Set<Restriction> restrictions, 
               @NotNull NamePathMapper namePathMapper) throws AccessControlException {
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractAccessControlList()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AbstractAccessControlList.java`
#### Snippet
```java
    private final NamePathMapper namePathMapper;

    public AbstractAccessControlList(@Nullable String oakPath,
                                     @NotNull NamePathMapper namePathMapper) {
        this.oakPath = oakPath;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractCredentials()` of an abstract class should not be declared 'public'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/AbstractCredentials.java`
#### Snippet
```java
    protected final String userId;

    public AbstractCredentials(@NotNull String userId) {
        this.userId = userId;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractRemoteSegmentArchiveWriter()` of an abstract class should not be declared 'public'
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveWriter.java`
#### Snippet
```java
    protected volatile boolean created = false;

    public AbstractRemoteSegmentArchiveWriter(IOMonitor ioMonitor, FileStoreMonitor monitor) {
        this.ioMonitor = ioMonitor;
        this.monitor = monitor;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractRemoteSegmentArchiveReader()` of an abstract class should not be declared 'public'
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveReader.java`
#### Snippet
```java
    protected Boolean hasGraph;

    public AbstractRemoteSegmentArchiveReader(IOMonitor ioMonitor) throws IOException {
        this.ioMonitor = ioMonitor;
    }
```

## RuleId[id=AssignmentToMethodParameter]
### AssignmentToMethodParameter
Assignment to method parameter `f`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUtils.java`
#### Snippet
```java
        // delete empty parent folders (except the main directory)
        while (true) {
            f = f.getParentFile();
            if ((f == null) || f.equals(root)
                || (f.list() == null)
```

### AssignmentToMethodParameter
Assignment to method parameter `statisticsProvider`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
        if (statisticsProvider == null) {
            statsExecutor = Executors.newSingleThreadScheduledExecutor();
            statisticsProvider = new DefaultStatisticsProvider(statsExecutor);
        }
        this.cacheStats = new StagingCacheStats(this, statisticsProvider, size);
```

### AssignmentToMethodParameter
Assignment to method parameter `id`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/InMemoryDataRecord.java`
#### Snippet
```java
    public static InMemoryDataRecord getInstance(String id) throws IllegalArgumentException {
        assert id.startsWith(PREFIX);
        id = id.substring(PREFIX.length());
        int len = id.length();
        if (len % 2 != 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `config`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/AbstractDataStoreService.java`
#### Snippet
```java
    protected void activate(ComponentContext context, Map<String, Object> config) throws RepositoryException {
        // change to mutable map. may be modified in createDS call
        config = Maps.newHashMap(config);
        DataStore ds = createDataStore(context, config);
        boolean encodeLengthInId = PropertiesUtil.toBoolean(config.get(PROP_ENCODE_LENGTH), true);
```

### AssignmentToMethodParameter
Assignment to method parameter `args`
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/run/Main.java`
#### Snippet
```java
            }

            args = copyOfRange(args, 1, args.length);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `maxModificationReferenceTime`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        LOG.debug("maxModificationReferenceTime {} ", maxModificationReferenceTime);

        maxModificationReferenceTime = maxModificationReferenceTime <= 0 ?
                                            System.currentTimeMillis() : maxModificationReferenceTime;
        long calculatedReferenceTime = (oldestCheckpoint <= 0 ? maxModificationReferenceTime :
```

### AssignmentToMethodParameter
Assignment to method parameter `statisticsProvider`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        // re-initialize the statsProvider if passed as parameter
        if (statisticsProvider == null) {
            statisticsProvider = StatisticsProvider.NOOP;
        }
        this.stats = new GarbageCollectionOperationStats(statisticsProvider);
```

### AssignmentToMethodParameter
Assignment to method parameter `in`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
        } else {
            // a few bytes are already read, need to re-build the input stream
            in = new SequenceInputStream(new ByteArrayInputStream(buffer, 0, pos), in);
            record = addRecordInternal(in, options);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `rootState`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositionContext.java`
#### Snippet
```java
        if (rootState instanceof CompositeNodeState) {
            CompositeNodeState compositeRoot = (CompositeNodeState) rootState;
            rootState = compositeRoot.getNodeState(globalStore);
        }
        prefetchNodeStore.prefetch(paths, rootState);
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextTerm.java`
#### Snippet
```java
    public boolean evaluate(String value) {
        // toLowerCase for testFulltextIntercapSQL
        value = value.toLowerCase();
        if (like != null) {
            return like.matches(value);
```

### AssignmentToMethodParameter
Assignment to method parameter `pi`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java

    private boolean compareAt(String s, int pi, int si, int sLen, char[] pattern, int[] types) {
        for (; pi < patternLength; pi++) {
            int type = types[pi];
            switch (type) {
```

### AssignmentToMethodParameter
Assignment to method parameter `si`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java
            switch (type) {
            case MATCH:
                if (si >= sLen || !compare(pattern, s, pi, si++)) {
                    return false;
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `si`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java
                break;
            case ONE:
                if (si++ >= sLen) {
                    return false;
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `pi`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java
                break;
            case ANY:
                if (++pi >= patternLength) {
                    return true;
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `si`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java
                        return true;
                    }
                    si++;
                }
                return false;
```

### AssignmentToMethodParameter
Assignment to method parameter `args`
in `oak-benchmarks-elastic/src/main/java/org/apache/jackrabbit/oak/run/ElasticMain.java`
#### Snippet
```java
            }

            args = copyOfRange(args, 1, args.length);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `parent`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
            }
            // 'replace' current parent with parent of conflicting
            parent = conflicting.getParent();

            // replace child node
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QOMNode.java`
#### Snippet
```java

    private static String quoteName(String name) {
        name = name.replaceAll("]", "]]");
        return '[' + name + ']';
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `type`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java
        }
        if (type == UNDEFINEDS) {
            type = Type.fromTag(values.get(0).getType(), true);
        }
        if (type == NAMES || type == PATHS) {
```

### AssignmentToMethodParameter
Assignment to method parameter `type`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java
            throws RepositoryException {
        if (type == UNDEFINED) {
            type = Type.fromTag(value.getType(), false);
        }
        if (type == NAME || type == PATH) {
```

### AssignmentToMethodParameter
Assignment to method parameter `type`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
            boolean exactTypeMatch = true;
            if (type == PropertyType.UNDEFINED) {
                type = PropertyType.STRING;
                exactTypeMatch = false;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `values`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
                exactTypeMatch = false;
            }
            values = ValueHelper.convert(values, type, getValueFactory());
            return internalSetProperty(jcrName, values, type, exactTypeMatch);
        } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `type`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
            boolean exactTypeMatch = true;
            if (type == PropertyType.UNDEFINED) {
                type = PropertyType.STRING;
                exactTypeMatch = false;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
                exactTypeMatch = false;
            } else {
                value = ValueHelper.convert(value, type, getValueFactory());
            }
            return internalSetProperty(name, value, exactTypeMatch);
```

### AssignmentToMethodParameter
Assignment to method parameter `type`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
            boolean exactTypeMatch = true;
            if (type == PropertyType.UNDEFINED) {
                type = PropertyType.STRING;
                exactTypeMatch = false;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/QueueingHandler.java`
#### Snippet
```java
            for(int i=0; i<aggregationLevel; i++) {
                if (i > 0) {
                    name = childName + "/" + name;
                }
                tracker = handler.identifierTracker;
```

### AssignmentToMethodParameter
Assignment to method parameter `skipNum`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/EventQueue.java`
#### Snippet
```java
            // drop all currently queued events as we're skipping them all
            position += queue.size();
            skipNum -= queue.size();
            queue.clear();

```

### AssignmentToMethodParameter
Assignment to method parameter `before`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/EventQueue.java`
#### Snippet
```java
            EventHandler handler, EventGenerator generator) {
        for (String name : PathUtils.elements(path)) {
            before = before.getChildNode(name);
            after = after.getChildNode(name);
            handler = handler.getChildHandler(name, before, after);
```

### AssignmentToMethodParameter
Assignment to method parameter `after`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/EventQueue.java`
#### Snippet
```java
        for (String name : PathUtils.elements(path)) {
            before = before.getChildNode(name);
            after = after.getChildNode(name);
            handler = handler.getChildHandler(name, before, after);
            if (handler == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `handler`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/EventQueue.java`
#### Snippet
```java
            before = before.getChildNode(name);
            after = after.getChildNode(name);
            handler = handler.getChildHandler(name, before, after);
            if (handler == null) {
                return;
```

### AssignmentToMethodParameter
Assignment to method parameter `propertyState`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
            }
            ValueHelper.checkSupportedConversion(propertyState.getType().tag(), requiredType.tag());
            propertyState = PropertyStates.convert(propertyState, requiredType);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `fuzzyMatch`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
                for (Tree def : definitions.getChildren()) {
                    if (isMultiValue == TreeUtil.getBoolean(def, JCR_MULTIPLE)) {
                        fuzzyMatch = def;
                        break;
                    }
```

### AssignmentToMethodParameter
Assignment to method parameter `attributes`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
        try {
            if (attributes == null) {
                attributes = emptyMap();
            }
            Long refreshInterval = getRefreshInterval(credentials);
```

### AssignmentToMethodParameter
Assignment to method parameter `directory`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java
        // Default path value as-per OAK-6632
        if(StringUtils.isEmpty(directory) && !map.containsKey("path")) {
        	directory = System.getProperty("java.io.tmpdir");
        }
          
```

### AssignmentToMethodParameter
Assignment to method parameter `node`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStateUtils.java`
#### Snippet
```java
    public static NodeState getNode(@NotNull NodeState node, @NotNull String path) {
        for (String name : PathUtils.elements(checkNotNull(path))) {
            node = node.getChildNode(checkNotNull(name));
        }
        return node;
```

### AssignmentToMethodParameter
Assignment to method parameter `pattern`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonSerializer.java`
#### Snippet
```java
                    builder.append(".*");
                }
                pattern = pattern.substring(star + 1);
                star = pattern.indexOf('*');
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `properties`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
        } else {
            if (copy) {
                properties = newHashMap(properties);
            }
            Predicate<PropertyState> predicate = Predicates.compose(
```

### AssignmentToMethodParameter
Assignment to method parameter `nodes`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
        } else {
            if (copy) {
                nodes = newHashMap(nodes);
            }
            return concat(
```

### AssignmentToMethodParameter
Assignment to method parameter `max`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
        if (max + deleted < 0) {
            // avoid overflow
            max = Long.MAX_VALUE;
        } else {
            max += deleted;
```

### AssignmentToMethodParameter
Assignment to method parameter `max`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
            max = Long.MAX_VALUE;
        } else {
            max += deleted;
        }
        long count = base.getChildNodeCount(max);
```

### AssignmentToMethodParameter
Assignment to method parameter `state`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
            }

            state = new MemoryNodeState(properties, nodes);
        }
        return state;
```

### AssignmentToMethodParameter
Assignment to method parameter `rootDirectory`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/S3Directory.java`
#### Snippet
```java
        this.s3 = s3;
        this.bucketName = bucketName;
        rootDirectory = rootDirectory.startsWith("/") ? rootDirectory.substring(1) : rootDirectory;
        this.rootDirectory = rootDirectory.endsWith("/") ? rootDirectory : rootDirectory + "/";
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
        }

        path = SANITIZE_PATH.apply(path);

        String previousPath = includedPaths.floor(path);
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
    @Override
    public boolean isDirectlyUnder(String path) {
        path = SANITIZE_PATH.apply(path);
        for (String nextPath : includedPaths) {
            if (path.equals(getParentPath(nextPath))) {
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
    @Override
    public boolean isUnder(String path) {
        path = SANITIZE_PATH.apply(path);
        String nextPath = includedPaths.higher(path);
        return nextPath != null && isAncestor(path, nextPath);
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/observation/ChangeSetBuilder.java`
#### Snippet
```java

    public ChangeSetBuilder addParentPath(String path){
        path = getPathWithMaxDepth(path, maxPathDepth);
        parentPathOverflow = addAndCheckOverflow(parentPaths, path, maxItems, parentPathOverflow);
        return this;
```

### AssignmentToMethodParameter
Assignment to method parameter `id`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapIdentityProvider.java`
#### Snippet
```java
                        "no value found for attribute '" + idAttribute + "' for entry " + entry);
            }
            id = attr.getString();
        }
        String extId = config.getUseUidForExtId() ? id : entry.getDn().getName();
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexerSupport.java`
#### Snippet
```java
    public static NodeBuilder childBuilder(NodeBuilder nb, String path, boolean createNew) {
        for (String name : PathUtils.elements(checkNotNull(path))) {
            nb = createNew ? nb.child(name) : nb.getChildNode(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `parts`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/DocumentStoreSplitter.java`
#### Snippet
```java
        if (parts > end - start) {
            log.debug("Adjusting parts according to given range {} - {}", start, end);
            parts = (int)(end - start);
        }
        long stepSize = (end - start)/parts;
```

### AssignmentToMethodParameter
Assignment to method parameter `basedir`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/BlobStoreFixture.java`
#### Snippet
```java

        if(basedir == null) {
            basedir = FileUtils.getTempDirectory();
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `database`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java
                                      final File base, final int fdsCacheInMB, final boolean throttlingEnabled) {
        if (database == null) {
            database = getUniqueDatabaseName(name);
        }
        String uri = "mongodb://" + host + ":" + port + "/" + database;
```

### AssignmentToMethodParameter
Assignment to method parameter `propValue`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
     */
    public static long toLong(Object propValue, long defaultValue) {
        propValue = toObject(propValue);
        if (propValue instanceof Long) {
            return (Long) propValue;
```

### AssignmentToMethodParameter
Assignment to method parameter `propValue`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
     */
    public static double toDouble(Object propValue, double defaultValue) {
        propValue = toObject(propValue);
        if (propValue instanceof Double) {
            return (Double) propValue;
```

### AssignmentToMethodParameter
Assignment to method parameter `propValue`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
     */
    public static boolean toBoolean(Object propValue, boolean defaultValue) {
        propValue = toObject(propValue);
        if (propValue instanceof Boolean) {
            return (Boolean) propValue;
```

### AssignmentToMethodParameter
Assignment to method parameter `propValue`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
     */
    public static int toInteger(Object propValue, int defaultValue) {
        propValue = toObject(propValue);
        if (propValue instanceof Integer) {
            return (Integer) propValue;
```

### AssignmentToMethodParameter
Assignment to method parameter `propValue`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
     */
    public static String toString(Object propValue, String defaultValue) {
        propValue = toObject(propValue);
        return (propValue != null) ? propValue.toString() : defaultValue;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `x`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
        while ((x & ~0x7f) != 0) {
            out.write((x & 0x7f) | 0x80);
            x >>>= 7;
        }
        out.write(x);
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
            }
            result += count;
            position += count;
        }
        return result;
```

### AssignmentToMethodParameter
Assignment to method parameter `skip`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
                throw new EOFException();
            }
            skip -= skipped;
        }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `off`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
            }
            result += l;
            off += l;
            len -= l;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `x`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
        while ((x & ~0x7f) != 0) {
            out.write((byte) ((x & 0x7f) | 0x80));
            x >>>= 7;
        }
        out.write((byte) x);
```

### AssignmentToMethodParameter
Assignment to method parameter `ancestor`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PathUtils.java`
#### Snippet
```java
            }
        } else {
            ancestor += "/";
        }
        return path.startsWith(ancestor);
```

### AssignmentToMethodParameter
Assignment to method parameter `nth`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PathUtils.java`
#### Snippet
```java
        int end = path.length() - 1;
        int pos = -1;
        while (nth-- > 0) {
            pos = path.lastIndexOf('/', end);
            if (pos > 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Buffer.java`
#### Snippet
```java
            }
            result += count;
            position += count;
        }
        return result;
```

### AssignmentToMethodParameter
Assignment to method parameter `minCount`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            }
            if (map.size() > MAX_ELEMENTS) {
                minCount++;
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
            throw getFormatException(s, 0);
        }
        s = s.substring(1, s.length() - 1);
        return decode(s);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
    private static String addAsterisk(String s, int index) {
        if (s != null) {
            index = Math.min(index, s.length());
            s = s.substring(0, index) + "[*]" + s.substring(index);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
        if (s != null) {
            index = Math.min(index, s.length());
            s = s.substring(0, index) + "[*]" + s.substring(index);
        }
        return s;
```

### AssignmentToMethodParameter
Assignment to method parameter `line`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
        }
        if (unescapingRequired(line)) {
            line = unescape(line);
        }
        return line;
```

### AssignmentToMethodParameter
Assignment to method parameter `line`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
        }
        if (escapingRequired(line)) {
            line = escape(line);
        }
        return line;
```

### AssignmentToMethodParameter
Assignment to method parameter `stackMoveDistance`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            if (stackMoveDistance < 0) {
                LOG.warn("Illegal stack move distance: " + stackMoveDistance + ", using 16");
                stackMoveDistance = 16;
            }
            this.stackMoveDistance = stackMoveDistance;
```

### AssignmentToMethodParameter
Assignment to method parameter `segmentCount`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            if (Integer.bitCount(segmentCount) != 1 || segmentCount < 0 || segmentCount > 65536) {
                LOG.warn("Illegal segment count: " + segmentCount + ", using 16");
                segmentCount = 16;
            }
            this.segmentCount = segmentCount;
```

### AssignmentToMethodParameter
Assignment to method parameter `other`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
        }
        while (corrected < 0) {
            other = other.parent;
            corrected++;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `nth`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
    public Path getAncestor(int nth) {
        Path p = this;
        while (nth-- > 0 && p.parent != null) {
            p = p.parent;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `before`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
            before.deepCopy(after);
            UpdateUtils.applyChanges(after, op);
            before = after;
        }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `rev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevs.java`
#### Snippet
```java
            return;
        }
        rev = rev.asBranchRevision();
        if (branch != null && branch.containsCommit(rev)
                && readRevision.getBranchRevision().compareRevisionTime(rev) >= 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `readRevision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java`
#### Snippet
```java
    public Revision getUnsavedLastRevision(Path path,
                                           Revision readRevision) {
        readRevision = readRevision.asBranchRevision();
        for (Revision r : commits.descendingKeySet()) {
            if (readRevision.compareRevisionTime(r) < 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `beforeRev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java

        if (ns.isDisableBranches()) {
            beforeRev = beforeRev.asTrunkRevision();
            afterRev = afterRev.asTrunkRevision();
        } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `afterRev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
        if (ns.isDisableBranches()) {
            beforeRev = beforeRev.asTrunkRevision();
            afterRev = afterRev.asTrunkRevision();
        } else {
            beforeRev = getBaseRevision(beforeRev);
```

### AssignmentToMethodParameter
Assignment to method parameter `beforeRev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
            afterRev = afterRev.asTrunkRevision();
        } else {
            beforeRev = getBaseRevision(beforeRev);
            afterRev = getBaseRevision(afterRev);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `afterRev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
        } else {
            beforeRev = getBaseRevision(beforeRev);
            afterRev = getBaseRevision(afterRev);
        }
        if (beforeRev.equals(afterRev)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
        Branch b = ns.getBranches().getBranch(rv);
        if (b != null) {
            rv = b.getBase(rv.getBranchRevision());
        } else if (ns.getBranches().isBranchBase(rv)) {
            rv = rv.asTrunkRevision();
```

### AssignmentToMethodParameter
Assignment to method parameter `rv`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
            rv = b.getBase(rv.getBranchRevision());
        } else if (ns.getBranches().isBranchBase(rv)) {
            rv = rv.asTrunkRevision();
        } else {
            missingBranch(rv);
```

### AssignmentToMethodParameter
Assignment to method parameter `doc`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
        }
        // need to determine the commit value
        doc = resolveDocument(doc, changeRevision);
        if (doc == null) {
            // the document including its history does not contain a change
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Commit.java`
#### Snippet
```java
                break;
            }
            path = path.getParent();
            if (path == null) {
                break;
```

### AssignmentToMethodParameter
Assignment to method parameter `commit`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommitQueue.java`
#### Snippet
```java
                        id + " is not in progress");
            }
            commit = pending.remove(id);
            if (commit != null) {
                LOG.debug("Moving pending BatchCommit to inProgress with id {}", id);
```

### AssignmentToMethodParameter
Assignment to method parameter `machineId`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        // defaults for machineId and instanceID
        if (machineId == null) {
            machineId = MACHINE_ID;
        }
        if (instanceId == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `instanceId`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        }
        if (instanceId == null) {
            instanceId = WORKING_DIR;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java

                // resolve commit revision
                revision = resolveCommitRevision(revision, commitValue);
                // compare resolved revision as is
                return !readRevision.isRevisionNewer(revision);
```

### AssignmentToMethodParameter
Assignment to method parameter `revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
                // if change is visible from there
                RevisionVector baseRev = b.getBase(readRevision.getBranchRevision());
                revision = resolveCommitRevision(revision, commitValue);
                return !baseRev.isRevisionNewer(revision);
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `commitValue`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
        // get the commit value if it is not yet available
        if (commitValue == null) {
            commitValue = context.getCommitValue(rev, this);
        }
        if (commitValue == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `to`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        // to is inclusive, but DocumentStore.query() toKey is exclusive
        final String inclusiveToId = asId(to);
        to = new Revision(to.getTimestamp(), to.getCounter() + 1,
                to.getClusterId(), to.isBranch());

```

### AssignmentToMethodParameter
Assignment to method parameter `startIndex`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
                    try {
                        if (binary) {
                            stmt.setBytes(startIndex++, UTF8Encoder.encodeAsByteArray(value));
                        } else {
                            if (!UTF8Encoder.canEncode(value)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `startIndex`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
                                throw new IOException("can not encode as UTF-8");
                            }
                            stmt.setString(startIndex++, value);
                        }
                    } catch (IOException ex) {
```

### AssignmentToMethodParameter
Assignment to method parameter `startIndex`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                @Override
                public int setParameters(PreparedStatement stmt, int startIndex) throws SQLException {
                    stmt.setInt(startIndex++, dataOctetLimit - appendData.length());
                    stmt.setString(startIndex++, appendData);
                    return startIndex;
```

### AssignmentToMethodParameter
Assignment to method parameter `startIndex`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                public int setParameters(PreparedStatement stmt, int startIndex) throws SQLException {
                    stmt.setInt(startIndex++, dataOctetLimit - appendData.length());
                    stmt.setString(startIndex++, appendData);
                    return startIndex;
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `startIndex`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
            @Override
            public int setParameters(PreparedStatement stmt, int startIndex) throws SQLException {
                stmt.setString(startIndex++, appendData);
                return startIndex;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `startIndex`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                @Override
                public int setParameters(PreparedStatement stmt, int startIndex) throws SQLException {
                    stmt.setString(startIndex++, appendData);
                    return startIndex;
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
            }
            missingDocuments.add(path);
            path = path.getParent();
            if (path == null) {
                break;
```

### AssignmentToMethodParameter
Assignment to method parameter `sweep2Lock`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    boolean backgroundSweep2(long sweep2Lock) throws DocumentStoreException {
        if (sweep2Lock == 0) {
            sweep2Lock = Sweep2Helper.acquireSweep2LockIfNecessary(store, clusterId);
            if (sweep2Lock == 0) {
                // still not well defined, retry in a minute (done in BackgroundSweep2Operation)
```

### AssignmentToMethodParameter
Assignment to method parameter `sweep2Lock`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        }
        // update the lock status one more time to ensure no check can conclude sweep2 is not necessary anymore
        sweep2Lock = Sweep2StatusDocument.acquireOrUpdateSweep2Lock(store, clusterId,
                true /* this true here is what's relevant: locks-in the 'sweeping' status */);
        if (sweep2Lock == 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `base`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                     @Nullable DocumentNodeStoreBranch branch) {
        if (base == null) {
            base = getHeadRevision();
        }
        if (base.isBranch()) {
```

### AssignmentToMethodParameter
Assignment to method parameter `limit`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                        && !head.isRevisionNewer(r)) {
                    NodeDocument.removeCollision(op, r);
                    if (--limit <= 0) {
                        break;
                    }
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                // remember name of last returned document for
                // potential next round of readChildDocs()
                name = p.getName();
                // filter out deleted children
                DocumentNodeState child = getNode(p, rev);
```

### AssignmentToMethodParameter
Assignment to method parameter `delay`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
            this.isDisposed = isDisposed;
            if (delay == null) {
                delay = new Supplier<Integer>() {
                    @Override
                    public Integer get() {
```

### AssignmentToMethodParameter
Assignment to method parameter `key`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
        if (key.startsWith("_")
                && (key.startsWith("__") || key.startsWith("_$") || len == 1)) {
            key = key.substring(1);
            len--;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `fromRev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
                                              @NotNull RevisionVector minRevisions) {
        // make sure we have minimum revisions for all known cluster nodes
        fromRev = fromRev.pmax(minRevisions);
        toRev = toRev.pmax(minRevisions);
        // keep only revision entries that changed
```

### AssignmentToMethodParameter
Assignment to method parameter `toRev`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
        // make sure we have minimum revisions for all known cluster nodes
        fromRev = fromRev.pmax(minRevisions);
        toRev = toRev.pmax(minRevisions);
        // keep only revision entries that changed
        RevisionVector from = fromRev.difference(toRev);
```

### AssignmentToMethodParameter
Assignment to method parameter `fromKey`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
        //name to create a proper id
        if(fromKey.endsWith("/")){
            fromKey = fromKey + "a";
        }
        return getParentId(fromKey);
```

### AssignmentToMethodParameter
Assignment to method parameter `observer`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCacheService.java`
#### Snippet
```java
                    BackgroundObserverMBean.TYPE,
                    "Secondary NodeStore observer stats"));
            observer = bgObserver;
            log.info("Configuring the observer for secondary NodeStore as " +
                    "Background Observer with queue size {}", queueSize);
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/DataTypeUtil.java`
#### Snippet
```java
        while (p != null) {
            StringDataType.INSTANCE.write(buffer, p.getName());
            p = p.getParent();
        }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `principal`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
        }
        if (importBehavior ==  ImportBehavior.ABORT || importBehavior == ImportBehavior.IGNORE) {
            principal = principalManager.getPrincipal(name);
            if (principal == null) {
                if (importBehavior == ImportBehavior.IGNORE) {
```

### AssignmentToMethodParameter
Assignment to method parameter `length`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BlockRecord.java`
#### Snippet
```java

        if (position + length > size) {
            length = size - position;
        }
        if (length > 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `count`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ListRecord.java`
#### Snippet
```java
    public List<RecordId> getEntries(int index, int count) {
        if (index + count > size) {
            count = size - index;
        }
        if (count == 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ListRecord.java`
#### Snippet
```java
                int n = Math.min(bucket.size() - bucketOffset, count);
                bucket.getEntries(bucketOffset, n, ids);
                index += n;
                count -= n;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `count`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ListRecord.java`
#### Snippet
```java
                bucket.getEntries(bucketOffset, n, ids);
                index += n;
                count -= n;
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `builder`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CheckpointCompactor.java`
#### Snippet
```java
    private static NodeBuilder getChild(NodeBuilder builder, String path) {
        for (String name : elements(path)) {
            builder = builder.getChildNode(name);
        }
        return builder;
```

### AssignmentToMethodParameter
Assignment to method parameter `base`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CheckpointCompactor.java`
#### Snippet
```java
                return null;
            }
            base = result.nextBefore;
            onto = result.nextOnto;
            compactedRoots.put(path, result.compacted);
```

### AssignmentToMethodParameter
Assignment to method parameter `onto`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CheckpointCompactor.java`
#### Snippet
```java
            }
            base = result.nextBefore;
            onto = result.nextOnto;
            compactedRoots.put(path, result.compacted);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `len`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java

        if (position + len > length) {
            len = (int) (length - position); // > 0 given the earlier check
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `off`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
                    int n = blockSize - blockOffset;
                    checkState(block.read(blockOffset, b, off, n) == n);
                    off += n;
                    remaining -= n;

```

### AssignmentToMethodParameter
Assignment to method parameter `n`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
    public long skip(long n) {
        if (position + n > length) {
            n = length - position;
        } else if (position + n < 0) {
            n = -position;
```

### AssignmentToMethodParameter
Assignment to method parameter `n`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
            n = length - position;
        } else if (position + n < 0) {
            n = -position;
        }
        position += n;
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java

    static int writeShort(byte[] buffer, int position, short value) {
        position = writeByte(buffer, position, (byte) (value >> 8));
        position = writeByte(buffer, position, (byte) (value));
        return position;
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java
    static int writeShort(byte[] buffer, int position, short value) {
        position = writeByte(buffer, position, (byte) (value >> 8));
        position = writeByte(buffer, position, (byte) (value));
        return position;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java

    static int writeLong(byte[] buffer, int position, long value) {
        position = writeInt(buffer, position, (int) (value >> 32));
        position = writeInt(buffer, position, (int) (value));
        return position;
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java
    static int writeLong(byte[] buffer, int position, long value) {
        position = writeInt(buffer, position, (int) (value >> 32));
        position = writeInt(buffer, position, (int) (value));
        return position;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java

    static int writeByte(byte[] buffer, int position, byte value) {
        buffer[position++] = value;
        return position;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java

    static int writeInt(byte[] buffer, int position, int value) {
        position = writeShort(buffer, position, (short) (value >> 16));
        position = writeShort(buffer, position, (short) (value));
        return position;
```

### AssignmentToMethodParameter
Assignment to method parameter `position`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/BinaryUtils.java`
#### Snippet
```java
    static int writeInt(byte[] buffer, int position, int value) {
        position = writeShort(buffer, position, (short) (value >> 16));
        position = writeShort(buffer, position, (short) (value));
        return position;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentParser.java`
#### Snippet
```java
                onListBucket(listId, bucketId, bucketOffset, n, c);

                index += n;
                count -= n;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `count`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentParser.java`
#### Snippet
```java

                index += n;
                count -= n;
            }
            return new ListBucketInfo(listId, false, entries, entries.size() * RECORD_ID_BYTES);
```

### AssignmentToMethodParameter
Assignment to method parameter `stableIdBytes`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java

            if (state instanceof SegmentNodeState && stableIdBytes == null) {
                stableIdBytes = ((SegmentNodeState) state).getStableIdBytes();
            }
            RecordId recordId = writeNodeUncached(state, stableIdBytes);
```

### AssignmentToMethodParameter
Assignment to method parameter `base`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                    changes.put(name, segment.readRecordId(base.getRecordNumber(), 8, 1));
                }
                base = new MapRecord(reader, segment.readRecordId(base.getRecordNumber(), 8, 2));
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `commitHook`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStore.java`
#### Snippet
```java
        checkArgument(((SegmentNodeBuilder) builder).isRootBuilder());
        if (loggingHook != null) {
            commitHook = new CompositeHook(commitHook, loggingHook);
        }
        return scheduler.schedule(new Commit(builder, commitHook, info));
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Segment.java`
#### Snippet
```java
            RecordId id = readRecordId(recordNumber, offset);
            ListRecord propertyNames = new ListRecord(id, properties.length);
            offset += RECORD_ID_BYTES;
            for (int i = 0; i < propertyCount; i++) {
                byte type = readByte(recordNumber, offset++);
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Segment.java`
#### Snippet
```java
            offset += RECORD_ID_BYTES;
            for (int i = 0; i < propertyCount; i++) {
                byte type = readByte(recordNumber, offset++);
                properties[i] = new PropertyTemplate(i,
                        reader.readString(propertyNames.getEntry(i)), Type.fromTag(
```

### AssignmentToMethodParameter
Assignment to method parameter `updateOp`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        // make sure we don't modify the original updateOp
        updateOp = updateOp.copy();
        Bson update = createUpdate(updateOp, !upsert);

```

### AssignmentToMethodParameter
Assignment to method parameter `initialCost`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
                // Key exists and generation is greater or equal -> use this index and boost the cost
                index = i;
                initialCost = entry.cost;
                if (initialCost < Byte.MAX_VALUE) {
                    initialCost++;
```

### AssignmentToMethodParameter
Assignment to method parameter `initialCost`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
                initialCost = entry.cost;
                if (initialCost < Byte.MAX_VALUE) {
                    initialCost++;
                }
                eviction = false;
```

### AssignmentToMethodParameter
Assignment to method parameter `n`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarFiles.java`
#### Snippet
```java
        while (n != null) {
            r = new Node(n.reader, r);
            n = n.next;
        }
        return r;
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
    private String displayString(String value) {
        if (maxCharDisplay > 0 && value.length() > maxCharDisplay) {
            value = value.substring(0, maxCharDisplay) + "... (" + value.length() + " chars)";
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `payload`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/Messages.java`
#### Snippet
```java
    static String extractClientFrom(String payload) {
        if (payload.startsWith(MAGIC) && payload.length() > MAGIC.length()) {
            payload = payload.substring(MAGIC.length());
            int i = payload.indexOf(SEPARATOR);
            return payload.substring(0, i);
```

### AssignmentToMethodParameter
Assignment to method parameter `args`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Main.java`
#### Snippet
```java
            }

            args = copyOfRange(args, 1, args.length);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `propertyName`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
        if (propertyName.startsWith("{")) {
            String t = propertyName.substring(1, propertyName.indexOf('}'));
            propertyName = propertyName.substring(t.length() + 2);
            type = PropertyType.valueFromName(t);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `k`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
            Object value) {
        if (k.startsWith("$$")) {
            k = "$" + getValueOrVariable("\"" + k.substring(1) + "\"");
        }
        if (properties.containsKey("+")) {
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
            Object v2 = getValueOrVariable(properties.get("+"));
            if (value == null) {
                value = v2;
            } else if (v2 == null) {
                // keep value
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                // keep value
            } else if (v2 instanceof Long && value instanceof Long) {
                value = (Long) value + (Long) v2;
            } else {
                value = value.toString() + v2.toString();
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                value = (Long) value + (Long) v2;
            } else {
                value = value.toString() + v2.toString();
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `columnName`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
            boolean quiet, int depth) throws RepositoryException {
        ArrayList<String> list = new ArrayList<String>();
        columnName = query.startsWith("explain") ? "plan" : columnName;
        QueryManager qm = session.getWorkspace().getQueryManager();
        Query q = qm.createQuery(query, language);
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/SegmentPropertyIndexEditorProvider.java`
#### Snippet
```java
    private static NodeBuilder child(NodeBuilder nb, String path) {
        for (String name : PathUtils.elements(checkNotNull(path))) {
            nb = nb.child(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `newIndexes`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
            }
        } else {
            newIndexes = new JsonObject(true);
        }
        // the superseded indexes of the old repository
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpCleaner.java`
#### Snippet
```java
    private static String filter(String s) {
        for (Pattern p : PATTERNS) {
            s = p.matcher(s).replaceAll("");
        }
        return s;
```

### AssignmentToMethodParameter
Assignment to method parameter `line`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpCleaner.java`
#### Snippet
```java

        // removing the module name
        line = line.substring(0, start) + line.substring(slash + 1);
        return line;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `queryEngineSettings`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SystemRoot.java`
#### Snippet
```java
            @NotNull QueryIndexProvider indexProvider) {
        if (queryEngineSettings == null) {
            queryEngineSettings = new QueryEngineSettings();
        }
        return new SystemRoot(store, hook, workspaceName, securityProvider,
```

### AssignmentToMethodParameter
Assignment to method parameter `workspaceName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/ContentRepositoryImpl.java`
#### Snippet
```java
            throws LoginException, NoSuchWorkspaceException {
        if (workspaceName == null) {
            workspaceName = defaultWorkspaceName;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
    private static String displayString(String value) {
        if (MAX_CHAR_DISPLAY > 0 && value.length() > MAX_CHAR_DISPLAY) {
            value = value.substring(0, MAX_CHAR_DISPLAY) + "... ("
                    + value.length() + " chars)";
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `it`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
            Comparator<K> orderBy, QueryLimits settings) {
        if (distinct) {
            it = FilterIterators.newDistinct(it, settings);
        }
        if (orderBy != null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `it`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
                    Math.min(Integer.MAX_VALUE, offset) + 
                    Math.min(Integer.MAX_VALUE, limit));
            it = FilterIterators.newSort(it, orderBy, max, settings);
        }
        if (offset != 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `it`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        }
        if (offset != 0) {
            it = FilterIterators.newOffset(it, offset);
        }
        if (limit < Long.MAX_VALUE) {
```

### AssignmentToMethodParameter
Assignment to method parameter `it`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        }
        if (limit < Long.MAX_VALUE) {
            it = FilterIterators.newLimit(it, limit);
        }
        return it;
```

### AssignmentToMethodParameter
Assignment to method parameter `token`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
                return;
            }
            token = token.substring(0, token.length() - 1);
            isLike = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `columnName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
            return null;
        }
        columnName = extractExcerptProperty(columnName);
        if (columnName != null && columnName.contains("/")) {
            for (String p : PathUtils.elements(PathUtils
```

### AssignmentToMethodParameter
Assignment to method parameter `columnName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
                }
            }
            columnName = PathUtils.getName(columnName);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
        String result = null;
        while (true) {
            for (int begin = i;; i++) {
                if (chars[i] == end) {
                    if (result == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                }
            }
            if (chars[++i] != end) {
                break;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                break;
            }
            i++;
        }
        currentToken = "'";
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
    public static String escapeStringLiteral(String value) {
        if (value.indexOf('\'') >= 0) {
            value = value.replace("'", "''");
        }
        return '\'' + value + '\'';
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                break;
            }
            i++;
        }
        if (chars[i] == 'E' || chars[i] == 'e') {
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
        }
        if (chars[i] == 'E' || chars[i] == 'e') {
            i++;
            if (chars[i] == '+' || chars[i] == '-') {
                i++;
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
            i++;
            if (chars[i] == '+' || chars[i] == '-') {
                i++;
            }
            if (types[i] != CHAR_VALUE) {
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                throw getSyntaxError();
            }
            while (types[++i] == CHAR_VALUE) {
                // go until the first non-number
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
    private void initialize(String query) throws ParseException {
        if (query == null) {
            query = "";
        }
        statement = query;
```

### AssignmentToMethodParameter
Assignment to method parameter `propertyName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchImpl.java`
#### Snippet
```java
        } else {
            this.relativePath = propertyName.substring(0, slash);
            propertyName = propertyName.substring(slash + 1);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `count`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        long mostNodesFromThisSubtree = (long) (filterPathCount * 0.8);
        // count can at most be the assumed subtree size
        count = Math.min(count, mostNodesFromThisSubtree);
        // this in theory should not have any effect, 
        // except if the above estimates are incorrect,
```

### AssignmentToMethodParameter
Assignment to method parameter `count`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        // except if the above estimates are incorrect,
        // so this is just for safety feature
        count = Math.max(count, countScaledDown);
        return count;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `propertyName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java
            relativePath = query.getOakPath(relativePath);
        }
        propertyName = PathUtils.getName(propertyName);
        propertyName = normalizeNonRelativePropertyName(propertyName);
        return PathUtils.concat(relativePath, propertyName);
```

### AssignmentToMethodParameter
Assignment to method parameter `propertyName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java
        }
        propertyName = PathUtils.getName(propertyName);
        propertyName = normalizeNonRelativePropertyName(propertyName);
        return PathUtils.concat(relativePath, propertyName);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `pathOrName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java

    protected String quote(String pathOrName) {
        pathOrName = pathOrName.replaceAll("]", "]]");
        return '[' + pathOrName + ']';
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `oakPropertyName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            }
            String parent = oakPropertyName.substring(0, slash);
            oakPropertyName = oakPropertyName.substring(slash + 1);
            if (parent.equals("..")) {
                t = t.isRoot() ? null : t.getParent();
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            oakPropertyName = oakPropertyName.substring(slash + 1);
            if (parent.equals("..")) {
                t = t.isRoot() ? null : t.getParent();
            } else if (parent.equals(".")) {
                // same node
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
                skipCurrentNode = true;
            } else {
                t = t.getChild(parent);
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `oakPropertyName`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
                }
            }
            oakPropertyName = PathUtils.getName(oakPropertyName);
        }
        return currentOakProperty(t, oakPropertyName, propertyType);
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsData.java`
#### Snippet
```java
                    buff.append("\n\tat " + e);
                }
                name = name + buff.toString();
            }
            lastThreadName = name;
```

### AssignmentToMethodParameter
Assignment to method parameter `tableName`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            String rmetTableName = Strings.nullToEmpty(rmet.getTableName(1)).trim();
            if (!rmetTableName.isEmpty()) {
                tableName = rmetTableName;
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `one`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private static String asQualifiedDbName(String one, String two) {
        one = Strings.nullToEmpty(one).trim();
        two = Strings.nullToEmpty(two).trim();

```

### AssignmentToMethodParameter
Assignment to method parameter `two`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    private static String asQualifiedDbName(String one, String two) {
        one = Strings.nullToEmpty(one).trim();
        two = Strings.nullToEmpty(two).trim();

        if (one.isEmpty() && two.isEmpty()) {
```

### AssignmentToMethodParameter
Assignment to method parameter `one`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            return null;
        } else {
            one = Strings.nullToEmpty(one).trim();
            two = two == null ? "" : two.trim();
            return one.isEmpty() ? two : one + "." + two;
```

### AssignmentToMethodParameter
Assignment to method parameter `two`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } else {
            one = Strings.nullToEmpty(one).trim();
            two = two == null ? "" : two.trim();
            return one.isEmpty() ? two : one + "." + two;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `oldDoc`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                    if (!success) {
                        retries -= 1;
                        oldDoc = readDocumentCached(collection, update.getId(), Integer.MAX_VALUE);
                        if (oldDoc != null) {
                            long newmodcount = modcountOf(oldDoc);
```

### AssignmentToMethodParameter
Assignment to method parameter `oldDoc`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                                    nodesCache.invalidate(update.getId());
                                }
                                oldDoc = readDocumentUncached(collection, update.getId(), null);
                                if (oldDoc == null) {
                                    LOG.debug("after refetch: {} is gone", update.getId());
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
            return;
        }
        query = query.replace('\n', ' ');
        query = query.replace('\t', ' ');
        if (LOG.isTraceEnabled()) {
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        }
        query = query.replace('\n', ' ');
        query = query.replace('\t', ' ');
        if (LOG.isTraceEnabled()) {
            LOG.trace("query:\t{}", query);
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
            LOG.trace("query:\t{}", query);
        }
        query = simplifySafely(query);
        record(query);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // numbers
        query = query.replaceAll("[0-9]+", "1");

        // single quoted literals
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // single quoted literals
        query = query.replaceAll("'[^']*'", "'x'");
        query = query.replaceAll("('x')+", "'x'");

```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // single quoted literals
        query = query.replaceAll("'[^']*'", "'x'");
        query = query.replaceAll("('x')+", "'x'");

        // doubly quoted literals
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // doubly quoted literals
        query = query.replaceAll("\"[^\"]*\"", "\"x\"");
        query = query.replaceAll("(\"x\")+", "\"x\"");

```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // doubly quoted literals
        query = query.replaceAll("\"[^\"]*\"", "\"x\"");
        query = query.replaceAll("(\"x\")+", "\"x\"");

        // replace "in('x', 'x')" with "in('x')"
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java

        // replace "in('x', 'x')" with "in('x')"
        query = query.replaceAll("'x', ", "'x',");
        query = query.replaceAll("('x','x')+", "'x'");

```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // replace "in('x', 'x')" with "in('x')"
        query = query.replaceAll("'x', ", "'x',");
        query = query.replaceAll("('x','x')+", "'x'");

        // usage of [/path] inside ISDESCENDANTNODE and so on
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        // usage of [/path] inside ISDESCENDANTNODE and so on
        // (case insensitive)
        query = query.replaceAll(
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(.*,\\s*\\[/[^]]*\\]\\)",
                "$1('x')");
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(.*,\\s*\\[/[^]]*\\]\\)",
                "$1('x')");
        query = query.replaceAll(
                "(?i)(ISDESCENDANTNODE|ISCHILDNODE|ISSAMENODE)\\s*\\(\\[/[^]]*\\]\\)",
                "$1('x')");
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
            }
            String newQuery = query.substring(0, pathIndex) + "/jcr:root/" + path + query.substring(end, query.length());
            query = newQuery;
        }
        return query;
```

### AssignmentToMethodParameter
Assignment to method parameter `statement`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
        }
        if (statement.length() > MAX_QUERY_SIZE) {
            statement = new StringBuilder().append("Truncated query: ")
                    .append(statement.substring(0, MAX_QUERY_SIZE >> 1))
                    .append(" ...... ")
```

### AssignmentToMethodParameter
Assignment to method parameter `addedPath`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java`
#### Snippet
```java
        if (addedPath == null) {
            // currently unknown (prepare time)
            addedPath = "/";
        }
        if (addedPath.startsWith(JoinConditionImpl.SPECIAL_PATH_PREFIX)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `max`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/AbstractTree.java`
#### Snippet
```java
        if (max + len < 0) {
            // avoid overflow (if max is near Long.MAX_VALUE)
            max = Long.MAX_VALUE;
        } else {
            // fetch a few more
```

### AssignmentToMethodParameter
Assignment to method parameter `max`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/AbstractTree.java`
#### Snippet
```java
        } else {
            // fetch a few more
            max += len;
        }
        NodeBuilder nodeBuilder = getNodeBuilder();
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
    private Statement convertToStatement(String query) throws ParseException {

        query = query.trim();

        Statement statement = new Statement();
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java

        if (query.startsWith("explain ")) {
            query = query.substring("explain".length()).trim();
            statement.setExplain(true);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        }
        if (query.startsWith("measure")) {
            query = query.substring("measure".length()).trim();
            statement.setMeasure(true);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        if (query.isEmpty()) {
            // special case, will always result in an empty result
            query = "//jcr:root";
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
    private void initialize(String query) throws ParseException {
        if (query == null) {
            query = "";
        }
        statement = query;
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        String result = null;
        while (true) {
            for (int begin = i;; i++) {
                if (chars[i] == end) {
                    if (result == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                }
            }
            if (chars[++i] != end) {
                break;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                break;
            }
            i++;
        }
        currentToken = result;
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                break;
            }
            i++;
        }
        if (chars[i] == 'E' || chars[i] == 'e') {
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        }
        if (chars[i] == 'E' || chars[i] == 'e') {
            i++;
            if (chars[i] == '+' || chars[i] == '-') {
                i++;
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            i++;
            if (chars[i] == '+' || chars[i] == '-') {
                i++;
            }
            if (types[i] != CHAR_VALUE) {
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                throw getSyntaxError();
            }
            while (types[++i] == CHAR_VALUE) {
                // go until the first non-number
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/ApproximateCounter.java`
#### Snippet
```java
        int add = resolution;
        if (offset < 0) {
            offset = -offset;
            add = -add;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
        }
        // check in the counter index (if it exists)
        s = child(root,
                IndexConstants.INDEX_DEFINITIONS_NAME,
                "counter");
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
            return -1;
        }
        s = child(s, NodeCounterEditor.DATA_NODE_NAME);
        if (!s.exists()) {
            // no index data (not yet indexed, or very few nodes)
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
            return -1;
        }
        s = child(s, PathUtils.elements(path));
        if (s != null && s.exists()) {
            value = getCombinedCountIfAvailable(s);
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
        }
        // check in the counter index (if it exists)
        s = child(root,
                IndexConstants.INDEX_DEFINITIONS_NAME,
                "counter");
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
            return -1;
        }
        s = child(s, NodeCounterEditor.DATA_NODE_NAME);
        if (!s.exists()) {
            // no index data (not yet indexed, or very few nodes)
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
            return -1;
        }
        s = child(s, PathUtils.elements(path));
        if (s == null || !s.exists()) {
            // we have an index, but no data
```

### AssignmentToMethodParameter
Assignment to method parameter `n`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
            }
            if (p.length() > 0) {
                n = n.getChildNode(p);
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/upgrade/IndexDisabler.java`
#### Snippet
```java
    private static NodeBuilder child(NodeBuilder nb, String path) {
        for (String name : PathUtils.elements(checkNotNull(path))) {
            nb = nb.getChildNode(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/NodeStoreUtils.java`
#### Snippet
```java
    static NodeBuilder childBuilder(NodeBuilder nb, String path) {
        for (String name : PathUtils.elements(checkNotNull(path))) {
            nb = nb.child(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `n`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounter.java`
#### Snippet
```java
            }
            if (p.length() > 0) {
                n = n.getChildNode(p);
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounter.java`
#### Snippet
```java
        }
        // check in the counter index (if it exists)
        s = child(root,
                IndexConstants.INDEX_DEFINITIONS_NAME,
                "counter");
```

### AssignmentToMethodParameter
Assignment to method parameter `s`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounter.java`
#### Snippet
```java
        }
        // check in the counter index (if it exists)
        s = child(root,
                IndexConstants.INDEX_DEFINITIONS_NAME,
                "counter");
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/nodetype/NodeTypeIndexLookup.java`
#### Snippet
```java

        if (path.startsWith("/")) {
            path = path.substring(1);
        }
        int slash = path.indexOf('/');
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    private static NodeBuilder childBuilder(NodeBuilder nb, String path) {
        for (String name : PathUtils.elements(checkNotNull(path))) {
            nb = nb.child(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java
    private static NodeBuilder child(NodeBuilder nb, String path) {
        for (String name : PathUtils.elements(path)) {
            nb = nb.getChildNode(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `keys`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexEditor.java`
#### Snippet
```java
                && property.count() > 0) {
            if (keys == null) {
                keys = newHashSet();
            }
            keys.addAll(encode(PropertyValues.create(property), pattern));
```

### AssignmentToMethodParameter
Assignment to method parameter `blobId`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
    @Override
    public synchronized boolean isProcessed(String blobId) {
        blobId = stripLength(blobId);
        if (getEmptyBlobs().contains(blobId) || getErrorBlobs().contains(blobId)) {
            return true;
```

### AssignmentToMethodParameter
Assignment to method parameter `node`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
        checkArgument(!PathUtils.isAbsolute(relPath), "Not a relative path");
        for (String name : PathUtils.elements(relPath)) {
            node = node.getChildNode(name);
        }
        return node;
```

### AssignmentToMethodParameter
Assignment to method parameter `selector`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
            if (selector == null) {
                String created = version.getProperty(JCR_CREATED).getValue(Type.DATE);
                selector = new DateVersionSelector(created);
            }
            restoreFrozen(frozenNode, versionable, selector);
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
        if (values != null) {
            if (p.isArray()) {
                p = PropertyStates.createProperty(p.getName(), values);
                dest.setProperty(p);
            } else if (values.length > 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
                dest.setProperty(p);
            } else if (values.length > 0) {
                p = PropertyStates.createProperty(p.getName(), values[0]);
                dest.setProperty(p);
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `max`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java`
#### Snippet
```java
            if (count < 0) {
                count = 0;
                max = Math.max(10, max / size);
                int i = 0;
                for (String p : values) {
```

### AssignmentToMethodParameter
Assignment to method parameter `node`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/RelativePathSelector.java`
#### Snippet
```java
    private NodeState select(NodeState node) {
        for (String name : path) {
            node = node.getChildNode(name);
        }
        return node;
```

### AssignmentToMethodParameter
Assignment to method parameter `tree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/Utils.java`
#### Snippet
```java
            for (String element : PathUtils.elements(relativePath)) {
                if (PathUtils.denotesParent(element)) {
                    tree = tree.getParent();
                } else if (!PathUtils.denotesCurrent(element)) {
                    tree = TreeUtil.getOrAddChild(tree, element, primaryTypeName);
```

### AssignmentToMethodParameter
Assignment to method parameter `tree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/Utils.java`
#### Snippet
```java
                    tree = tree.getParent();
                } else if (!PathUtils.denotesCurrent(element)) {
                    tree = TreeUtil.getOrAddChild(tree, element, primaryTypeName);
                }  // else . -> skip to next element
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `membersList`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/MembershipWriter.java`
#### Snippet
```java
    private static Tree createMemberRefTree(@NotNull Tree groupTree, @NotNull Tree membersList) {
        if (!membersList.exists()) {
            membersList = groupTree.addChild(UserConstants.REP_MEMBERS_LIST);
            membersList.setProperty(JcrConstants.JCR_PRIMARYTYPE, UserConstants.NT_REP_MEMBER_REFERENCES_LIST, NAME);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `intermediatePath`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
                    throw new ConstraintViolationException("Attempt to create authorizable at '" + intermediatePath +"' outside of the configured root '" + authRoot + '\'');
                } else {
                    intermediatePath = intermediatePath.substring(authRoot.length() + 1);
                }
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
    public Iterator<? extends Principal> findPrincipals(@Nullable final String nameHint, final boolean fullText, final int searchType, long offset, long limit) {
        if (offset < 0) {
            offset = 0;
        }
        if (limit < 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `limit`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        }
        if (limit < 0) {
            limit = Long.MAX_VALUE;
        }
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `absPath`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
    public FilterBuilder addSubTree(@NotNull String absPath) {
        if (absPath.endsWith("/")) {
            absPath = absPath.substring(0, absPath.length() - 1);
        }
        for (String path : subTrees) {
```

### AssignmentToMethodParameter
Assignment to method parameter `intermediatePath`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserManagerImpl.java`
#### Snippet
```java

        if (intermediatePath != null) {
            intermediatePath = namePathMapper.getOakPath(intermediatePath);
        }
        Tree groupTree = userProvider.createGroup(groupID, intermediatePath);
```

### AssignmentToMethodParameter
Assignment to method parameter `intermediatePath`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserManagerImpl.java`
#### Snippet
```java

        if (intermediatePath != null) {
            intermediatePath = namePathMapper.getOakPath(intermediatePath);
        }
        Tree userTree = userProvider.createUser(userID, intermediatePath);
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImpl.java`
#### Snippet
```java
            long limit) {
        if (offset < 0) {
            offset = 0;
        }
        if (limit < 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `limit`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImpl.java`
#### Snippet
```java
        }
        if (limit < 0) {
            limit = Long.MAX_VALUE;
        }
        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `respectParent`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/EntryPredicate.java`
#### Snippet
```java
            @Override
            public boolean apply(@NotNull PermissionEntry entry, boolean respectParent) {
                respectParent &= rp;
                return entry.matches(path) || (respectParent && entry.matches(parentPath, false));
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `respectParent`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/EntryPredicate.java`
#### Snippet
```java
            @Override
            public boolean apply(@NotNull PermissionEntry entry, boolean respectParent) {
                respectParent &= rp;
                return entry.matches(path, isProperty) || (respectParent && entry.matches(parentPath, false));
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `respectParent`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/EntryPredicate.java`
#### Snippet
```java
            @Override
            public boolean apply(@NotNull PermissionEntry entry, boolean respectParent) {
                respectParent &= rp;
                return entry.matches(tree, property) || (respectParent && entry.matches(parent, null));
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `pOff`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/GlobPattern.java`
#### Snippet
```java
                // -> recursively test if the rest of the specified string matches
                if (pattern[pOff] == WILDCARD_CHAR) {
                    if (++pOff >= pLength) {
                        return true;
                    }
```

### AssignmentToMethodParameter
Assignment to method parameter `cnt`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/GlobPattern.java`
#### Snippet
```java
                    }

                    cnt--;
                    while (true) {
                        if (matches(pattern, pOff, s, sOff, cnt)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `sOff`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/GlobPattern.java`
#### Snippet
```java
                            return false;
                        }
                        sOff++;
                    }
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `pOff`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/GlobPattern.java`
#### Snippet
```java
                    }
                }
                pOff++;
                sOff++;
            }
```

### AssignmentToMethodParameter
Assignment to method parameter `sOff`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/GlobPattern.java`
#### Snippet
```java
                }
                pOff++;
                sOff++;
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `tree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissionImpl.java`
#### Snippet
```java
        List<Tree> trees = new ArrayList<>();
        while (!tree.isRoot()) {
            tree = tree.getParent();
            trees.add(0, tree);
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `versionableTree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissionImpl.java`
#### Snippet
```java
    private TreePermission buildVersionDelegatee(@NotNull Tree versionableTree) {
        while (!versionableTree.exists()) {
            versionableTree = versionableTree.getParent();
        }
        if (versionableTree.isRoot()) {
```

### AssignmentToMethodParameter
Assignment to method parameter `location`
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPermissionProvider.java`
#### Snippet
```java
        Tree tree = (location.getProperty() == null) ? location.getTree() : location.getParent().getTree();
        while (tree == null && !PathUtils.denotesRoot(location.getPath())) {
            location = location.getParent();
            tree = location.getTree();
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `args`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/run/LuceneMain.java`
#### Snippet
```java
            }

            args = copyOfRange(args, 1, args.length);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `request`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java
          case SSE_KMS:
              String keyId = getSSEParams().getAwsKmsKeyId();
              request = request.withSSEAlgorithm(SSEAlgorithm.KMS.getAlgorithm());
              if (keyId != null) {
                  request = request.withKmsCmkId(keyId);
```

### AssignmentToMethodParameter
Assignment to method parameter `request`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java
              request = request.withSSEAlgorithm(SSEAlgorithm.KMS.getAlgorithm());
              if (keyId != null) {
                  request = request.withKmsCmkId(keyId);
              }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `fileName`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        if (fileName.endsWith(DELETE_CONFIG_SUFFIX)) {
            delete = true;
            fileName = fileName.substring(0, fileName.length()
                - DELETE_CONFIG_SUFFIX.length());
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `pid`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
        if (n > 0) {
            String factoryPid = pid.substring(n + 1);
            pid = pid.substring(0, n);
            return new String[]
                    {
```

### AssignmentToMethodParameter
Assignment to method parameter `bundleFilter`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
        try {
            if (bundleFilter == null){
                bundleFilter = REPOSITORY_BUNDLE_FILTER_DEFAULT;
            }
            List<BundleDescriptor> descriptors = new ClasspathScanner().scanForBundles(bundleFilter);
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/util/TermQueryBuilderFactory.java`
#### Snippet
```java
    private static String preparePath(String path) {
        if (!"/".equals(path) && !path.startsWith("/")) {
            path = "/" + path;
        }
        return path;
```

### AssignmentToMethodParameter
Assignment to method parameter `labelAndValues`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticStatisticalFacetAsyncProvider.java`
#### Snippet
```java
                    proportionedLVs.add(new FulltextIndex.Facet(labelAndValue.getLabel(), Math.toIntExact(count)));
                }
                labelAndValues = proportionedLVs;
            }
            if (numZeros > 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/TermFactory.java`
#### Snippet
```java
    private static String preparePath(String path) {
        if (!"/".equals(path) && !path.startsWith("/")) {
            path = "/" + path;
        }
        return path;
```

### AssignmentToMethodParameter
Assignment to method parameter `definition`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexEditorProvider.java`
#### Snippet
```java
                //some stuff gets written to NodeBuilder. That logic should be refactored
                //to be moved to LuceneIndexWriter
                definition = new ReadOnlyBuilder(definition.getNodeState());

                asyncIndexing = false;
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java

        if (planResult.isPathTransformed()) {
            p = PathUtils.getName(p);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java

        if ("*".equals(p)) {
            p = FieldNames.FULLTEXT;
        }
        return p;
```

### AssignmentToMethodParameter
Assignment to method parameter `first`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java

    private Query like(String name, String first) {
        first = QueryUtils.sqlLikeToLuceneWildcardQuery(first);

        // If the query ends in a wildcard string (*) and has no other wildcard characters, use a prefix match query
```

### AssignmentToMethodParameter
Assignment to method parameter `first`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
        if (optimizeToPrefixQuery) {
            // remove trailing "*" for prefix query
            first = first.substring(0, first.length() - 1);
            if (JCR_PATH.equals(name)) {
                return newPrefixPathQuery(first);
```

### AssignmentToMethodParameter
Assignment to method parameter `sourcePath`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        try {
            if(sourcePath == null){
                sourcePath = "/";
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `indexPath`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        try {
            if(indexPath == null){
                indexPath = "/";
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `bindings`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
        // avoid having to deal with null arguments
        if (bindings == null) {
            bindings = NO_BINDINGS;
        }
        if (mappings == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `mappings`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
        }
        if (mappings == null) {
            mappings = NO_MAPPINGS;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `language`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
        SQL2Parser parser = new SQL2Parser(mapper, nodeTypes, settings, stats);
        if (language.endsWith(NO_LITERALS)) {
            language = language.substring(0, language.length() - NO_LITERALS.length());
            parser.setAllowNumberLiterals(false);
            parser.setAllowTextLiterals(false);
```

### AssignmentToMethodParameter
Assignment to method parameter `token`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
            List<String> tokens = tokenize(token, analyzer);
            if (!tokens.isEmpty()) {
                token = tokens.get(0);
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `doc`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java
    protected Document finalizeDoc(Document doc, boolean dirty, boolean facet) throws IOException {
        if (facet && isFacetingEnabled()) {
            doc = getFacetsConfig().build(doc);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `reader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/TokenizerChain.java`
#### Snippet
```java
                cs = charFilter.create(cs);
            }
            reader = cs;
        }
        return reader;
```

### AssignmentToMethodParameter
Assignment to method parameter `labelAndValues`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
                }

                labelAndValues = proportionedLVs;
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java

        private String createPropNodeName(String name, boolean regex) {
            name = regex ? "prop" : getSafePropName(name);
            if (name.isEmpty()){
                name = "prop";
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
            name = regex ? "prop" : getSafePropName(name);
            if (name.isEmpty()){
                name = "prop";
            }
            if (propNodeNames.contains(name)){
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
            }
            if (propNodeNames.contains(name)){
                name = name + "_" + propNodeNames.size();
            }
            propNodeNames.add(name);
```

### AssignmentToMethodParameter
Assignment to method parameter `propDefnNodeName`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                if (propTree == null){
                    if (propDefnNodeName == null){
                        propDefnNodeName = createPropNodeName(name, regex);
                    }
                    propTree = getOrCreateChild(getPropsTree(), propDefnNodeName);
```

### AssignmentToMethodParameter
Assignment to method parameter `k`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java

  private static long fmix64(long k) {
    k ^= k >>> 33;
    k *= 0xff51afd7ed558ccdL;
    k ^= k >>> 33;
```

### AssignmentToMethodParameter
Assignment to method parameter `k`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
  private static long fmix64(long k) {
    k ^= k >>> 33;
    k *= 0xff51afd7ed558ccdL;
    k ^= k >>> 33;
    k *= 0xc4ceb9fe1a85ec53L;
```

### AssignmentToMethodParameter
Assignment to method parameter `k`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
    k ^= k >>> 33;
    k *= 0xff51afd7ed558ccdL;
    k ^= k >>> 33;
    k *= 0xc4ceb9fe1a85ec53L;
    k ^= k >>> 33;
```

### AssignmentToMethodParameter
Assignment to method parameter `k`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
    k *= 0xff51afd7ed558ccdL;
    k ^= k >>> 33;
    k *= 0xc4ceb9fe1a85ec53L;
    k ^= k >>> 33;
    return k;
```

### AssignmentToMethodParameter
Assignment to method parameter `k`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
    k ^= k >>> 33;
    k *= 0xc4ceb9fe1a85ec53L;
    k ^= k >>> 33;
    return k;
  }
```

### AssignmentToMethodParameter
Assignment to method parameter `doc`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/LuceneDocumentHolder.java`
#### Snippet
```java

    public void add(boolean sync, LuceneDoc doc) {
        doc = checkNotNull(doc);
        //First try adding to queue in non blocking manner
        if (documentQueue.addIfNotFullWithoutWait(doc)){
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexHelper.java`
#### Snippet
```java
            return index.child(name);
        }
        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, TYPE_LUCENE)
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexHelper.java`
#### Snippet
```java
                "requires explicit list of property names to be indexed");

        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, TYPE_LUCENE)
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexHelper.java`
#### Snippet
```java
            return index.child(name);
        }
        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, TYPE_LUCENE)
```

### AssignmentToMethodParameter
Assignment to method parameter `v`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
            throw new IllegalArgumentException("maxMergedSegmentMB must be >=0 (got " + v + ")");
        }
        v *= 1024 * 1024;
        maxMergedSegmentBytes = (v > Long.MAX_VALUE) ? Long.MAX_VALUE : (long) v;
        return this;
```

### AssignmentToMethodParameter
Assignment to method parameter `v`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
            throw new IllegalArgumentException("floorSegmentMB must be >= 0.0 (got " + v + ")");
        }
        v *= 1024 * 1024;
        floorSegmentBytes = (v > Long.MAX_VALUE) ? Long.MAX_VALUE : (long) v;
        return this;
```

### AssignmentToMethodParameter
Assignment to method parameter `first`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java

    private static Query createLikeQuery(String name, String first) {
        first = QueryUtils.sqlLikeToLuceneWildcardQuery(first);

        int indexOfWS = first.indexOf(WildcardQuery.WILDCARD_STRING);
```

### AssignmentToMethodParameter
Assignment to method parameter `first`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        if (indexOfWS == len || indexOfWC == len) {
            // remove trailing "*" for prefix query
            first = first.substring(0, first.length() - 1);
            if (JCR_PATH.equals(name)) {
                return new PrefixQuery(newPathTerm(first));
```

### AssignmentToMethodParameter
Assignment to method parameter `text`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        parserHelper.setDefaultOperator(StandardQueryConfigHandler.Operator.AND);

        text = rewriteQueryText(text);

        try {
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    compositeQuery.add(pathQuery, BooleanClause.Occur.MUST);

                    query = compositeQuery;
                } else {
                    LOG.warn("Descendant clause could not be added without path restrictions enabled. Plan: {}", plan);
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        if (isNodePath(p)) {
            if (pr.isPathTransformed()) {
                p = PathUtils.getName(p);
            } else {
                //Get rid of /* as aggregated fulltext field name is the
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                //Get rid of /* as aggregated fulltext field name is the
                //node relative path
                p = FieldNames.createFulltextFieldName(PathUtils.getParentPath(p));
            }
        } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        } else {
            if (pr.isPathTransformed()) {
                p = PathUtils.getName(p);
            }
            p = FieldNames.createAnalyzedFieldName(p);
```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                p = PathUtils.getName(p);
            }
            p = FieldNames.createAnalyzedFieldName(p);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `p`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java

        if ("*".equals(p)) {
            p = FieldNames.FULLTEXT;
        }
        return p;
```

### AssignmentToMethodParameter
Assignment to method parameter `nb`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
        for (String name : PathUtils.elements(checkNotNull(path))) {
            //Use getChildNode to avoid creating new entries by default
            nb = nb.getChildNode(name);
        }
        return nb;
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
            blobModified = true;

            offset += l;
            len -= l;
            position += l;
```

### AssignmentToMethodParameter
Assignment to method parameter `len`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java

            offset += l;
            len -= l;
            position += l;
            length = Math.max(length, position);
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
            System.arraycopy(blob, o, b, offset, l);

            offset += l;
            len -= l;
            position += l;
```

### AssignmentToMethodParameter
Assignment to method parameter `len`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java

            offset += l;
            len -= l;
            position += l;
            // next block
```

### AssignmentToMethodParameter
Assignment to method parameter `dir`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java
    private LocalIndexDir findMatchingIndexDir(File dir) throws IOException {
        //Resolve to canonical file so that equals can work reliable
        dir = dir.getCanonicalFile();

        Map<String, List<LocalIndexDir>> mapping = getIndexesPerPath();
```

### AssignmentToMethodParameter
Assignment to method parameter `dir`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LocalIndexFile.java`
#### Snippet
```java
    public static File getFSDir(Directory dir) {
        if (dir instanceof FilterDirectory){
            dir = ((FilterDirectory) dir).getDelegate();
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `in`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
    private void pushData(InputStream in) throws IOException {
        if (uniqueKey != null) {
            in = new SequenceInputStream(in,
                    new ByteArrayInputStream(uniqueKey));
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `textsearch`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
        // most query parsers recognize 'AND' and 'NOT' as
        // keywords.
        textsearch = textsearch.replaceAll("AND", "and");
        textsearch = textsearch.replaceAll("NOT", "not");
        boolean escaped = false;
```

### AssignmentToMethodParameter
Assignment to method parameter `textsearch`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
        // keywords.
        textsearch = textsearch.replaceAll("AND", "and");
        textsearch = textsearch.replaceAll("NOT", "not");
        boolean escaped = false;
        for (int i = 0; i < textsearch.length(); i++) {
```

### AssignmentToMethodParameter
Assignment to method parameter `propDefnNodeName`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                if (propTree == null) {
                    if (propDefnNodeName == null) {
                        propDefnNodeName = createPropNodeName(name, regex);
                    }
                    propTree = getOrCreateChild(getPropsTree(), propDefnNodeName);
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java

        private String createPropNodeName(String name, boolean regex) {
            name = regex ? "prop" : getSafePropName(name);
            if (name.isEmpty()) {
                name = "prop";
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
            name = regex ? "prop" : getSafePropName(name);
            if (name.isEmpty()) {
                name = "prop";
            }
            if (propNodeNames.contains(name)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `name`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
            }
            if (propNodeNames.contains(name)) {
                name = name + "_" + propNodeNames.size();
            }
            propNodeNames.add(name);
```

### AssignmentToMethodParameter
Assignment to method parameter `state`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
        if (PathUtils.getDepth(propertyName) != 1) {
            for(String n : PathUtils.elements(PathUtils.getParentPath(propertyName))) {
                state = state.getChildNode(n);
                if (!state.exists()) {
                    return null;
```

### AssignmentToMethodParameter
Assignment to method parameter `propertyName`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
                }
            }
            propertyName = PathUtils.getName(propertyName);
        }
        PropertyState ps;
```

### AssignmentToMethodParameter
Assignment to method parameter `args`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/run/Main.java`
#### Snippet
```java
            }

            args = copyOfRange(args, 1, args.length);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `pos`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
                }
                IOUtils.skipFully(idStream, len);
                pos -= len;
            } else if (type == TYPE_HASH) {
                int level = IOUtils.readVarInt(idStream);
```

### AssignmentToMethodParameter
Assignment to method parameter `pos`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
                IOUtils.readFully(idStream, digest, 0, digest.length);
                if (pos >= totalLength) {
                    pos -= totalLength;
                } else {
                    if (level > 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `idStream`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
                if (level > 0) {
                    byte[] block = readBlock(digest, 0);
                    idStream = new ByteArrayInputStream(block);
                    mark(idStream);
                }
```

### AssignmentToMethodParameter
Assignment to method parameter `totalLength`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
                IOUtils.writeVarInt(idStream, blockLen);
                idStream.write(block, 0, blockLen);
                totalLength += blockLen;
            } else {
                MessageDigest messageDigest;
```

### AssignmentToMethodParameter
Assignment to method parameter `totalLength`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
                // (see class level javadoc for details)                
                IOUtils.writeVarLong(idStream, blockLen);
                totalLength += blockLen;
                IOUtils.writeVarInt(idStream, digest.length);
                idStream.write(digest);
```

### AssignmentToMethodParameter
Assignment to method parameter `nodeCount`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadBinaryPropertiesTest.java`
#### Snippet
```java
            Binary binary = session.getValueFactory().createBinary(new ByteArrayInputStream(b));
            child.setProperty("bin", binary);
            nodeCount++;
            if (depth > 0 && nodeCount < MAX_NODES) {
                nodeCount = createTree(child, depth - 1, nodeCount);
```

### AssignmentToMethodParameter
Assignment to method parameter `nodeCount`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadBinaryPropertiesTest.java`
#### Snippet
```java
            nodeCount++;
            if (depth > 0 && nodeCount < MAX_NODES) {
                nodeCount = createTree(child, depth - 1, nodeCount);
            }
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentHasPermissionTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexHelper.java`
#### Snippet
```java
            return index.child(name);
        }
        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, type)
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexHelper.java`
#### Snippet
```java
                "requires explicit list of property names to be indexed");

        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, type)
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexHelper.java`
#### Snippet
```java
            return index.child(name);
        }
        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, type)
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsCheckedOutAddMixinSetPropertyTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `facetConfigRoot`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
        static SecureFacetConfiguration getInstance(long randomSeed, NodeState facetConfigRoot) {
            if (facetConfigRoot == null) {
                facetConfigRoot = EMPTY_NODE;
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `concurrencyLevels`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java

            if (concurrencyLevels == null || concurrencyLevels.isEmpty()) {
                concurrencyLevels = Arrays.asList(1);
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionUtils.java`
#### Snippet
```java
            return index.child(name);
        }
        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, type)
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionUtils.java`
#### Snippet
```java
            return index.child(name);
        }
        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, type)
```

### AssignmentToMethodParameter
Assignment to method parameter `index`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionUtils.java`
#### Snippet
```java
                "requires explicit list of property names to be indexed");

        index = index.child(name);
        index.setProperty(JCR_PRIMARYTYPE, INDEX_DEFINITIONS_NODE_TYPE, NAME)
                .setProperty(TYPE_PROPERTY_NAME, type)
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentTraversalTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `levels`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateNodesBenchmark.java`
#### Snippet
```java
                            int levels, AtomicInteger count, long startTime)
            throws RepositoryException {
        levels--;
        List<Node> nodes = new ArrayList<Node>();
        for (int i = 0; i < nodesPerLevel; i++) {
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentReadRandomNodeAndItsPropertiesTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/principalbased/HasItemGetItemIsModifiedTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/GetPrivilegeCollectionIncludeNamesTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/principalbased/PermissionEvaluationTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `testSession`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/AbstractHasItemGetItemTest.java`
#### Snippet
```java
        boolean logout = false;
        if (testSession == null) {
            testSession = getTestSession();
            logout = true;
        }
```

### AssignmentToMethodParameter
Assignment to method parameter `iterations`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/PasswordUtil.java`
#### Snippet
```java
        checkNotNull(password);
        if (iterations < NO_ITERATIONS) {
            iterations = DEFAULT_ITERATIONS;
        }
        if (saltSize < DEFAULT_SALT_SIZE) {
```

### AssignmentToMethodParameter
Assignment to method parameter `saltSize`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/PasswordUtil.java`
#### Snippet
```java
        }
        if (saltSize < DEFAULT_SALT_SIZE) {
            saltSize = DEFAULT_SALT_SIZE;
        }
        String salt = generateSalt(saltSize);
```

### AssignmentToMethodParameter
Assignment to method parameter `args`
in `oak-benchmarks-solr/src/main/java/org/apache/jackrabbit/oak/run/SolrMain.java`
#### Snippet
```java
            }

            args = copyOfRange(args, 1, args.length);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `redisPort`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java

        if (redisPort == 0) {
            redisPort = 6379;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `typeName`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java
    public static Tree addChild(@NotNull Tree parent, @NotNull String name, @Nullable String typeName, @NotNull Tree typeRoot, @Nullable String userID) throws RepositoryException {
        if (typeName == null) {
            typeName = getDefaultChildType(typeRoot, parent, name);
            if (typeName == null) {
                String path = PathUtils.concat(parent.getPath(), name);
```

### AssignmentToMethodParameter
Assignment to method parameter `tree`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java
                    return null;
                } else {
                    tree = tree.getParent();
                }
            } else if (!PathUtils.denotesCurrent(element)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `tree`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java
                }
            } else if (!PathUtils.denotesCurrent(element)) {
                tree = tree.getChild(element);
            }  // else . -> skip to next element
        }
```

## RuleId[id=SynchronizationOnLocalVariableOrMethodParameter]
### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `that`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
            synchronized (this) {
                if (hashCode != null) {
                    synchronized (that) {
                        if (that.hashCode != null) {
                            return hashCode.equals(that.hashCode);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `loadNow`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                // we synchronize a bit early here, but that's fine (we don't
                // optimize for the case where loading is extremely quick)
                synchronized (loadNow) {
                    alreadyLoading = loading.putIfAbsent(key, loadNow);
                    if (alreadyLoading == null) {
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `alreadyLoading`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                }
                // another thread is (or was) already loading
                synchronized (alreadyLoading) {
                    alreadyLoading.set(true);
                    // loading might have been finished, so check again
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `s`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    void clear() {
        for (Segment<K, V> s : segments) {
            synchronized (s) {
                if (evicted != null) {
                    s.evictedAll(RemovalCause.EXPLICIT);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `bw`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            logger.trace("wakeupBackgroundWorker: waking up backgroundWorker, reason: {} (hasInstancesWithBacklog: {})",
                    wakeupReason, hasInstancesWithBacklog);
            synchronized (bw) {
                bw.notifyAll();
            }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `o`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
            DataOutputStream o = out;
            if (o != null) {
                synchronized (o) {
                    try {
                        o.writeInt(data.length);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `map`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        if (map.size() > QUERIES_MAX) {
            HashMap<String, Integer> old;
            synchronized (map) {
                old = new HashMap<>(map);
                map.clear();
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `map`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
        }
        Integer count;
        synchronized (map) {
            count = map.get(query);
            count = count == null ? 1 : count + 1;
```

## RuleId[id=ReturnNull]
### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/Utils.java`
#### Snippet
```java
        int retries = PropertiesUtil.toInteger(maxRequestRetry, -1);
        if (retries < 0) {
            return null;
        }
        if (retries == 0) {
```

### ReturnNull
Return of `null`
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitEventFilter.java`
#### Snippet
```java
     */
    public String[] getIdentifiers() {
        return identifiers == null ? null : copyOf(identifiers, identifiers.length);
    }

```

### ReturnNull
Return of `null`
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitEventFilter.java`
#### Snippet
```java
    public JackrabbitEventFilter setIdentifiers(String[] identifiers) {
        this.identifiers = copyOf(identifiers, identifiers.length);
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitEventFilter.java`
#### Snippet
```java
     */
    public String[] getNodeTypes() {
        return nodeTypeNames == null ? null : copyOf(nodeTypeNames, nodeTypeNames.length);
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

            @Override public File get(String key) throws IOException {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/InMemoryDataRecord.java`
#### Snippet
```java
    @Override
    public String getReference() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/AbstractDataStoreService.java`
#### Snippet
```java
            return context.getProperties().get(property).toString();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordUploadToken.java`
#### Snippet
```java
            LOG.warn("Could not sign upload token", e);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/migration/BlobMigrator.java`
#### Snippet
```java
        String blobId = getIdentity(oldBlob);
        if (blobStore.isMigrated(blobId)) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/migration/BlobMigrator.java`
#### Snippet
```java
            return builder.getPropertyState();
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CrossMountReferenceValidator.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/NamespacePrefixNodestoreChecker.java`
#### Snippet
```java
        int idx = name.indexOf(':');
        if ( idx < 0 ) {
            return null;
        }
        
```

### ReturnNull
Return of `null`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
        String role = ns.getRole();
        if (role == null || !role.startsWith(MOUNT_ROLE_PREFIX)) {
            return null;
        }
        return role.substring(MOUNT_ROLE_PREFIX.length());
```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        if (Strings.isNullOrEmpty(accountName)) {
            LOG.warn("Can't generate presigned URI - Azure account name not found in properties");
            return null;
        }
        return String.format("%s.blob.core.windows.net", accountName);
```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        if (Strings.isNullOrEmpty(domain)) {
            LOG.warn("Can't generate presigned URI - no Azure domain provided (is Azure account name configured?)");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
            if (!blob.exists()) {
                LOG.warn("Trying to read missing metadata. metadataName={}", name);
                return null;
            }
            blob.downloadAttributes();
```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                        if (!exists(identifier)) {
                            LOG.warn("Cannot create download URI for nonexistent blob {}; returning null", getKeyName(identifier));
                            return null;
                        }
                    } catch (DataStoreException e) {
```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                    } catch (DataStoreException e) {
                        LOG.warn("Cannot create download URI for blob {} (caught DataStoreException); returning null", getKeyName(identifier), e);
                        return null;
                    }
                }
```

### ReturnNull
Return of `null`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    private static String getIdentifierName(String key) {
        if (!key.contains(Utils.DASH)) {
            return null;
        } else if (key.contains(META_KEY_PREFIX)) {
            return key;
```

### ReturnNull
Return of `null`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/query/facet/FacetResult.java`
#### Snippet
```java
                parseJson(queryResult.getColumnNames(), columnName -> {
                    Value value = row.getValue(columnName);
                    return value == null ? null : value.getString();
                });
            }
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/OakRepositoryFactory.java`
#### Snippet
```java
            return getRepository(null, null);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
            String nameProp = globalCheckpointProperties.get("name");
            if (nameProp == null) {
                return null;
            }
            for (String c : validCheckpointNames) {
```

### ReturnNull
Return of `null`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/QueryResultImpl.java`
#### Snippet
```java
    Value createValue(PropertyValue value) {
        if (value == null) {
            return null;
        }
        PropertyState state = PropertyValues.create(value);
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QueryObjectModelFactoryImpl.java`
#### Snippet
```java
    private String getOakName(String jcrName) throws RepositoryException {
        if (jcrName == null) {
            return null;
        }
        return sessionContext.getOakName(jcrName);
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
                return new Date(timestamp);
            } else {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
    public static ChangeSet getChangeSet(CommitInfo info) {
        if (info == null) {
            return null;
        }
        CommitContext context = (CommitContext) info.getInfo().get(CommitContext.NAME);
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        CommitContext context = (CommitContext) info.getInfo().get(CommitContext.NAME);
        if (context == null) {
            return null;
        }
        return (ChangeSet) context.get(COMMIT_CONTEXT_OBSERVATION_CHANGESET);
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
            throws NoSuchNodeTypeException, RepositoryException {
        if (nodeTypeNames == null) {
            return null;
        }
        String[] oakNames = new String[nodeTypeNames.length];
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/QueueingHandler.java`
#### Snippet
```java
            return primaryType.getValue(NAME);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
                if (propertyType.isArray() == TreeUtil.getBoolean(def, JCR_MULTIPLE)) {
                    if (getBoolean(def, JCR_PROTECTED)) {
                        return null; // no fuzzy matches for protected items
                    } else if (!exactTypeMatch && fuzzyMatch == null) {
                        fuzzyMatch = def;
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
            return property.getValue(Type.STRING);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/IndexAccessor.java`
#### Snippet
```java
        }
        if (searchMgr == null) {
            return null;
        }
        QueryHandler handler = searchMgr.getQueryHandler();
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
    public Condition getAdditionalIncludeConditions(Set<String> includePaths) {
        if (!withNodeTypeAggregate) {
            return null;
        }
        List<Condition> additionalIncludeConditions = new LinkedList<Condition>();
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
        }
        if (additionalIncludeConditions.size() == 0) {
            return null;
        } else {
            return builder().any(additionalIncludeConditions);
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            return toLong((String) value);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            log.warn("Invalid value '" + longValue + "' for " + REFRESH_INTERVAL +
                    ". Expected long. ", e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            Value v = getDescriptorValue(key);
            return v == null
                    ? null
                    : v.getString();
        } catch (RepositoryException e) {
```

### ReturnNull
Return of `null`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            log.debug("Error converting value for descriptor with key {} to string", key);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/DummyBlobStoreFactory.java`
#### Snippet
```java
    @Override
    public BlobStore create(Closer closer) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
            return nameCandidates.get(0);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return new FileDataStoreFactory(options.getDstFds(), false);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return new FileDataStoreFactory(options.getSrcFds(), ignoreMissingBinaries);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/MigrationCliArguments.java`
#### Snippet
```java
        String option = getOption(optionName);
        if (option == null) {
            return null;
        } else {
            return option.split(",");
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/MigrationOptions.java`
#### Snippet
```java
                calendar.setTime(DATE_FORMAT.parse(string));
            } catch (ParseException e) {
                return null;
            }
        } else {
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/checkpoint/CheckpointRetriever.java`
#### Snippet
```java
            result = getCheckpoints(CheckpointAccessor.getCheckpointsRoot(((FileStoreUtils.NodeStoreWithFileStore) nodeStore).getNodeStore()));
        } else {
            return null;
        }
        Collections.sort(result);
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/blob/LengthCachingDataStore.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/JackrabbitNodeState.java`
#### Snippet
```java
            public String getReference() {
                if (!useBinaryReferences) {
                    return null;
                }
                try {
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/JackrabbitNodeState.java`
#### Snippet
```java
                            return ((ReferenceBinary) binary).getReference();
                        } else {
                            return null;
                        }
                    } finally {
```

### ReturnNull
Return of `null`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/JackrabbitNodeState.java`
#### Snippet
```java
                } catch (RepositoryException e) {
                    warn("Unable to get blob reference", e);
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/VisibleValidator.java`
#### Snippet
```java
    private Validator getValidator(@Nullable Validator validator) {
        if (validator == null) {
            return null;
        } else if (validator instanceof VisibleValidator) {
            return validator;
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/SubtreeValidator.java`
#### Snippet
```java
    private Validator descend(String name) {
        if (!head.equals(name)) {
            return null;
        } else if (tail.isEmpty()) {
            return validator;
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/SubtreeExcludingValidator.java`
#### Snippet
```java
            return validator;
        } else if (tail.isEmpty()) {
            return null;
        } else {
            return createValidator(validator, tail);
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ObserverTracker.java`
#### Snippet
```java
        } else {
            bundleContext.ungetService(reference);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/SubtreeEditor.java`
#### Snippet
```java
    private Editor descend(String name) {
        if (!name.equals(path[depth])) {
            return null;
        } else if (depth + 1 < path.length) {
            return new SubtreeEditor(editor, path, depth + 1);
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java
            return property.getValue(NAME);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java
            return property.getValue(STRING);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/Filter.java`
#### Snippet
```java
        @Override
        public PropertyRestriction getPropertyRestriction(String propertyName) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/Filter.java`
#### Snippet
```java
        @Override
        public FullTextExpression getFullTextConstraint() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ProgressNotificationEditor.java`
#### Snippet
```java
    private ProgressNotificationEditor createChildEditor(Editor editor, String name) {
        if (editor == null) {
            return null;
        } else {
            return new ProgressNotificationEditor(editor, concat(path, name), onProgress);
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/BinaryImpl.java`
#### Snippet
```java

    ValueImpl getBinaryValue() {
        return value.getType() == PropertyType.BINARY ? value : null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            LOG.warn("Error getting content identity", e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                            return PropertyValues.newString(writer.toString());
                        } else {
                            return null;
                        }
                    }
```

### ReturnNull
Return of `null`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                                value = fieldValue.toString();
                            } else {
                                return null;
                            }
                        }
```

### ReturnNull
Return of `null`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            return indexPlan;
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                    // avoid duplicate entries
                    if (seenPaths.contains(path)) {
                        return null;
                    }
                    seenPaths.add(path);
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
            // Both null: no source path annotation
            // Both non null but equals: source path annotation is from a previous commit
            return null;
        } else {
            return head.getValue(Type.STRING);
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/EmptyNodeState.java`
#### Snippet
```java
    @Override
    public String getString(String name) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentArchiveReader.java`
#### Snippet
```java
        }

        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/PropertyBuilder.java`
#### Snippet
```java

    public T getValue() {
        return values.isEmpty() ? null : values.get(0);
    }

```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
                @Override
                public String accessKey() {
                    return null;
                }
            };
```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
                @Override
                public String secretKey() {
                    return null;
                }
            
```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
                @Override
                public String region() {
                    return null;
                }
            
```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
                @Override
                public String sessionToken() {
                    return null;
                }
            
```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
                @Override
                public Class<? extends Annotation> annotationType() {
                    return null;
                }
            
```

### ReturnNull
Return of `null`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsJournalFile.java`
#### Snippet
```java
            }

            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/ReverseFileReader.java`
#### Snippet
```java
    public String readLine() throws IOException {
        if (bufferOffset == -1 && fileOffset == 0) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveReader.java`
#### Snippet
```java
            CloudBlockBlob blob = getBlob(name);
            if (!blob.exists()) {
                return null;
            }
            long length = blob.getProperties().getLength();
```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java
                                }
                            }
                            return null;
                        }, 16, 5);
                    }
```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureJournalFile.java`
#### Snippet
```java
                if (currentReader == null) {
                    if (!readers.hasNext()) {
                        return null;
                    }
                    currentReader = readers.next();
```

### ReturnNull
Return of `null`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapIdentityProperties.java`
#### Snippet
```java
    public Object get(Object key) {
        String realKey = keyMapping.get(convert(key));
        return realKey == null ? null : super.get(realKey);
    }

```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
                return reader.getGraph();
            } else {
                return null;
            }
        }, 16, 5));
```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
        if (graph != null) {
            byte[] array = fetchByteArray(graph);
            runWithRetry(() -> {writer.writeGraph(array); return null;}, 16, 5);
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
        for (Future<Segment> future : futures) {
            Segment segment = future.get();
            runWithRetry(() -> {segment.write(writer); return null;}, 16, 5);
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
        if (binaryReferences != null) {
            byte[] array = fetchByteArray(binaryReferences);
            runWithRetry(() -> {writer.writeBinaryReferences(array); return null;}, 16, 5);
        }
    }
```

### ReturnNull
Return of `null`
in `oak-http/src/main/java/org/apache/jackrabbit/oak/http/MediaRange.java`
#### Snippet
```java
        MediaType type = MediaType.parse(range);
        if (type == null) {
            return null;
        }
        type = registry.normalize(type);
```

### ReturnNull
Return of `null`
in `oak-http/src/main/java/org/apache/jackrabbit/oak/http/MediaRange.java`
#### Snippet
```java
                        Double.parseDouble(q));
            } catch (NumberFormatException e) {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/descriptors/GenericDescriptors.java`
#### Snippet
```java
        Descriptor d = descriptors.get(key);
        if (d == null) {
            return base == null ? null : base.getValues(key);
        }
        return d.values;
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/descriptors/AggregatingDescriptors.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/Mounts.java`
#### Snippet
```java
        @Override
        public Mount getMountByName(String name) {
            return DEFAULT_MOUNT.getName().equals(name) ? DEFAULT_MOUNT : null;
        }

```

### ReturnNull
Return of `null`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapIdentityProvider.java`
#### Snippet
```java
                        }
                    }
                    return null;
                }
            };
```

### ReturnNull
Return of `null`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapIdentityProvider.java`
#### Snippet
```java
                        }
                    }
                    return null;
                }
            };
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiUtil.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiUtil.java`
#### Snippet
```java
    private static String asString(Object value) {
        if (value == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiUtil.java`
#### Snippet
```java

        if (string.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiUtil.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiWhiteboard.java`
#### Snippet
```java
                        } else {
                            context.ungetService(reference);
                            return null;
                        }
                    }
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/CommonOptions.java`
#### Snippet
```java
    @Override
    public String description() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/commons/Utils.java`
#### Snippet
```java
    public static String getProductVersion(InputStream pom) {
        if (pom == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/commons/Utils.java`
#### Snippet
```java
            properties.load(pom);
        } catch (IOException e) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexOptions.java`
#### Snippet
```java
    public File getExistingDataDumpDir() {
        File dataDumpDir = existingDataDumpDirOpt.value(options);
        return dataDumpDir != null && dataDumpDir.exists() ? dataDumpDir : null;
    }

```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
        File sortedFile = new File(storeDir, getSortedStoreFileName(algorithm));
        try(BufferedWriter writer = createWriter(sortedFile, algorithm)) {
            Function<String, NodeStateHolder> func1 = (line) -> line == null ? null : new SimpleNodeStateHolder(line);
            Function<NodeStateHolder, String> func2 = holder -> holder == null ? null : holder.getLine();
            ExternalSort.mergeSortedFiles(sortedFiles,
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
        try(BufferedWriter writer = createWriter(sortedFile, algorithm)) {
            Function<String, NodeStateHolder> func1 = (line) -> line == null ? null : new SimpleNodeStateHolder(line);
            Function<NodeStateHolder, String> func2 = holder -> holder == null ? null : holder.getLine();
            ExternalSort.mergeSortedFiles(sortedFiles,
                    writer,
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStoreIterator.java`
#### Snippet
```java
            return wrap(baseItr.next());
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
            File statusFile = new File(sortWorkDir.getAbsolutePath() + "/" + STATUS_FILE_NAME);
            if (!statusFile.exists()) {
                return null;
            }
            return SavedState.deserialize(Files.readAllLines(statusFile.toPath()).get(0));
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
     * This poison pill is added to {@link #taskQueue} to indicate that no more new tasks would be submitted to this queue.
     */
    private static final Callable<List<File>> POISON_PILL = () -> null;

    private final MemoryManager memoryManager;
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
        log.debug("performing merge for {} with size {} {}", outputFile.getName(), files.size(), files);
        try (BufferedWriter writer = createWriter(outputFile, algorithm)) {
            Function<String, NodeStateHolder> func1 = (line) -> line == null ? null : new SimpleNodeStateHolder(line);
            Function<NodeStateHolder, String> func2 = holder -> holder == null ? null : holder.getLine();
            ExternalSort.mergeSortedFiles(files,
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
        try (BufferedWriter writer = createWriter(outputFile, algorithm)) {
            Function<String, NodeStateHolder> func1 = (line) -> line == null ? null : new SimpleNodeStateHolder(line);
            Function<NodeStateHolder, String> func2 = holder -> holder == null ? null : holder.getLine();
            ExternalSort.mergeSortedFiles(files,
                    writer,
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            @Override
            public String sessionToken() {
                return null;
            }
        
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            @Override
            public Class<? extends Annotation> annotationType() {
                return null;
            }
        
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            @Override
            public String region() {
                return null;
            }
        
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            @Override
            public String secretKey() {
                return null;
            }
        
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            @Override
            public String accessKey() {
                return null;
            }
        };
```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java

        Comparator<NodeStateHolder> comparator = (e1, e2) -> pathComparator.compare(e1.getPathElements(), e2.getPathElements());
        Function<String, NodeStateHolder> func1 = (line) -> line == null ? null : new SimpleNodeStateHolder(line);
        Function<NodeStateHolder, String> func2 = holder -> holder == null ? null : holder.getLine();

```

### ReturnNull
Return of `null`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        Comparator<NodeStateHolder> comparator = (e1, e2) -> pathComparator.compare(e1.getPathElements(), e2.getPathElements());
        Function<String, NodeStateHolder> func1 = (line) -> line == null ? null : new SimpleNodeStateHolder(line);
        Function<NodeStateHolder, String> func2 = holder -> holder == null ? null : holder.getLine();

        List<File> sortedFiles = sortInBatch(memory, comparator, func1, func2);
```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
    public static Object toObject(Object propValue) {
        if (propValue == null) {
            return null;
        } else if (propValue.getClass().isArray()) {
            Object[] prop = (Object[]) propValue;
```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
        } else if (propValue.getClass().isArray()) {
            Object[] prop = (Object[]) propValue;
            return prop.length > 0 ? prop[0] : null;
        } else if (propValue instanceof Collection<?>) {
            Collection<?> prop = (Collection<?>) propValue;
```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
        } else if (propValue instanceof Collection<?>) {
            Collection<?> prop = (Collection<?>) propValue;
            return prop.isEmpty() ? null : prop.iterator().next();
        } else {
            return propValue;
```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
    public static String unescapeLineBreaks(@Nullable String line) {
        if (line == null) {
            return null;
        }
        if (unescapingRequired(line)) {
```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
    public static String escapeLineBreak(@Nullable String line) {
        if (line == null) {
            return null;
        }
        if (escapingRequired(line)) {
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        int hash = getHash(key);
        Entry<K, V> e = getSegment(hash).find(key, hash);
        return e == null ? null : e.value;
    }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                return put(key, hash, value, memory);
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                // the entry was not found
                missCount.increment();
                return null;
            }
            V value = e.value;
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                // it was a non-resident entry
                missCount.increment();
                return null;
            }
            if (e.isHot()) {
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            if (old == null) {
                put(key, hash, value, memory);
                return null;
            }
            return old;
```

### ReturnNull
Return of `null`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            }
            if (loader == null) {
                return null;
            }
            synchronized (this) {
```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/FileLineDifferenceIterator.java`
#### Snippet
```java
        private String computeNextDiff() {
            if (!all.hasNext()) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocumentSweeper.java`
#### Snippet
```java
        }

        return op.hasChanges() ? op : null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2StatusDocument.java`
#### Snippet
```java
        Object value = doc.get(SWEPT_BY_PROPERTY);
        if (value == null) {
            return null;
        }
        return Integer.parseInt(String.valueOf(value));
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2StatusDocument.java`
#### Snippet
```java
                -1 /* -1; avoid caching */);
        if (doc == null) {
            return null;
        } else {
            return new Sweep2StatusDocument(doc);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        }
        if (oldestRevision==null) {
            return null;
        } else {
            return Revision.fromString(oldestRevision);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
    private static String setToCsv(Set<Integer> ids) {
        if (ids == null || ids.size() == 0) {
            return null;
        }
        StringBuffer sb = new StringBuffer();
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
    static Integer[] csvToIntegerArray(String csv) {
        if (csv == null) {
            return null;
        }
        String[] split = csv.split(",");
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
                -1 /* -1; avoid caching */);
        if (doc == null) {
            return null;
        } else {
            ClusterViewDocument clusterView = new ClusterViewDocument(doc);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
            } else {
                logger.warn("read: clusterView document is not valid: " + doc.format());
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
            if (!documentNodeStore.getDocumentStore().create(Collection.SETTINGS, updateOps)) {
                logger.debug("updateAndRead: someone else just created the first view ever while I tried - reread that one later");
                return null;
            }
        } else {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
                logger.debug(
                        "updateAndRead: someone else just updated the view which I wanted to do as well - reread that one later");
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        if (readResult == null) {
            logger.debug("updateAndRead: got null from read - whatever the exact reason, we must retry in a moment.");
            return null;
        } else if (newViewSeqNum.equals(readResult.getViewSeqNum())) {
            logger.debug("updateAndRead: matching view - no change");
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        } else {
            logger.debug("updateAndRead: someone else in the cluster was updating right after I also succeeded - re-read in a bit");
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
    static String arrayToCsv(Integer[] arr) {
        if (arr == null || arr.length == 0) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
    private String asString(PropertyState prop) {
        if (prop == null) {
            return null;
        } else if (prop instanceof DocumentPropertyState) {
            return ((DocumentPropertyState) prop).getValue();
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentBroadcastConfig.java`
#### Snippet
```java
    public String getConfig() {
        // currently not implemented
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    public PersistentCache getPersistentCache() {
        if (persistentCacheURI == null) {
            return null;
        }
        if (persistentCache == null) {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    PersistentCache getJournalCache() {
        if (journalCacheURI == null) {
            return null;
        }
        if (journalCache == null) {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnmergedBranches.java`
#### Snippet
```java
            }
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        public Value getValue(String key) {
            if (!OAK_DISCOVERYLITE_CLUSTERVIEW.equals(key)) {
                return null;
            }
            return factory.createValue(getClusterViewAsDescriptorValue());
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        public Value[] getValues(String key) {
            if (!OAK_DISCOVERYLITE_CLUSTERVIEW.equals(key)) {
                return null;
            }
            return new Value[] { getValue(key) };
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            logger.warn("doCheckView: empty active ids. activeNodes:{}, recoveringNodes:{}, inactiveNodes:{}", activeNodes,
                    recoveringNodes, inactiveNodes);
            return null;
        }
        ClusterViewDocument newViewOrNull;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        } catch (RuntimeException re) {
            logger.error("doCheckView: RuntimeException: re: " + re, re);
            return null;
        } catch (Error er) {
            logger.error("doCheckView: Error: er: " + er, er);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        } catch (Error er) {
            logger.error("doCheckView: Error: er: " + er, er);
            return null;
        }
        logger.trace("doChckView: readOrUpdate result: {}", newViewOrNull);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            // and we should do some quick backoff sleeping
            logger.debug("doCheckView: newViewOrNull is null: " + newViewOrNull);
            return null;
        } else {
            // otherwise we now hold the newly valid view
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
    private String getClusterViewAsDescriptorValue() {
        if (previousClusterView == null) {
            return null;
        } else {
            return previousClusterView.asDescriptorValue();
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        }
        logger.warn("getLastKnownRevision: no lastKnownRevision found for " + clusterNodeId);
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
            // the document including its history does not contain a change
            // for the given revision
            return null;
        }
        // at this point 'doc' is guaranteed to have a local entry
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
                    // check negative cache
                    if (emptyCommitValueCache.getIfPresent(changeRevision) != null) {
                        return null;
                    }
                    value = CachingCommitValueResolver.this.resolve(changeRevision, doc);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/RevisionVector.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalPropertyHandler.java`
#### Snippet
```java
        Object o = cc.get(name);
        if (o == null){
            return null;
        }
        checkArgument(o instanceof JournalProperty, "CommitContext entry for name [%s] " +
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ValueMap.java`
#### Snippet
```java
                }
                // not found or null
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ValueMap.java`
#### Snippet
```java
                        NodeDocument d = docs.hasNext() ? docs.next() : null;
                        if (d == null) {
                            return null;
                        }
                        Map<Revision, String> values;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStateCache.java`
#### Snippet
```java
        public AbstractDocumentNodeState getDocumentNodeState(Path path, @Nullable RevisionVector rootRevision,
                                                        RevisionVector lastRev) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
        switch (json.read()) {
        case JsopReader.NULL:
            return null;
        case JsopReader.TRUE:
            return true;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java
        }

        return op == null ? null : op.hasChanges() ? op : null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java
        }

        return op == null ? null : op.hasChanges() ? op : null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
    protected static String jdbctype(String jdbcurl) {
        if (jdbcurl == null) {
            return null;
        } else {
            String t = jdbcurl.toLowerCase(Locale.ENGLISH);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
            String t = jdbcurl.toLowerCase(Locale.ENGLISH);
            if (!t.startsWith("jdbc:")) {
                return null;
            } else {
                t = t.substring("jbdc:".length());
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        CommitContext commitContext = (CommitContext) info.getInfo().get(CommitContext.NAME);
        if (commitContext == null){
            return null;
        }
        return (ChangeSet) commitContext.get(COMMIT_CONTEXT_OBSERVATION_CHANGESET);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        }
        LOG.debug("No blobId found matching reference [{}]", reference);
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
        private String computeNextDiff() {
            if (!all.hasNext()) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    public static Long asLong(@Nullable Number n) {
        if (n == null) {
            return null;
        } else if (n instanceof Long) {
            return (Long) n;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/MongoConnection.java`
#### Snippet
```java
    public static ReadConcernLevel readConcernLevel(ReadConcern readConcern) {
        if (readConcern.isServerDefault()) {
            return null;
        } else {
            return ReadConcernLevel.fromString(readConcern.asDocument().getString("level").getValue());
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/RevisionEntry.java`
#### Snippet
```java
    @Override
    public Object get(String key) {
        return revision.toString().equals(key) ? value : null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/ReplicaSetStatus.java`
#### Snippet
```java
        BsonDocument reply = event.getReply();
        if (!reply.containsKey("lastWrite")) {
            return null;
        }
        return new Date(reply.getDocument("lastWrite")
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                        LOG.debug("failed to rollback", ex2);
                    }
                    return null;
                } else {
                    throw (ex);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                    this.connection.commit();
                    internalClose();
                    return null;
                }
            } catch (SQLException ex) {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoBlobStore.java`
#### Snippet
```java
                    .projection(fields).into(result);
        }
        return result.isEmpty() ? null : result.get(0);
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCache.java`
#### Snippet
```java
            }
        }
        return null;  // key not found.
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/MultiGenerationMap.java`
#### Snippet
```java
            }
        }
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/MultiGenerationMap.java`
#### Snippet
```java
        ValueWithGenerationInfo<V> value = readValue(key);
        if (value == null) {
            return null;
        } else if (!value.isCurrentGeneration()) {
            put((K) key, value.value);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMap.java`
#### Snippet
```java
        for (int i = 0;; i++) {
            if (closed) {
                return null;
            }
            try {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMap.java`
#### Snippet
```java
        for (int i = 0;; i++) {
            if (closed) {
                return null;
            }
            try {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMap.java`
#### Snippet
```java
        for (int i = 0;; i++) {
            if (closed) {
                return null;
            }
            try {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMetadata.java`
#### Snippet
```java
    MetadataEntry remove(Object key) {
        if (!enabled) {
            return null;
        }
        return metadataMap.remove(key);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMetadata.java`
#### Snippet
```java
    private MetadataEntry getOrCreate(K key, boolean readFromPersistentCache) {
        if (!enabled) {
            return null;
        }
        MetadataEntry metadata = metadataMap.get(key);
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
            MultiGenerationMap.ValueWithGenerationInfo<V> v = map.readValue(key);
            if (v == null) {
                return null;
            }
            if (v.isCurrentGeneration() && !cache.needSwitch()) {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    private String getFileName(int generation) {
        if (directory.length() == 0) {
            return null;
        }
        return directory + "/" + FILE_PREFIX + generation + FILE_SUFFIX;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                    exceptionCount++;
                    LOG.warn("Could not open the map", e);
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
        }
        else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/DynamicGroupValidatorProvider.java`
#### Snippet
```java
            } else {
                // a regular group -> no need to traverse into the subtree
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/DynamicGroupValidatorProvider.java`
#### Snippet
```java
            } else {
                // no need to traverse into a regular group
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/DynamicGroupUtil.java`
#### Snippet
```java
                            return group.getPrincipal();
                        } catch (RepositoryException repositoryException) {
                            return null;
                        }
                    }).filter(Objects::nonNull).collect(Collectors.toSet());
```

### ReturnNull
Return of `null`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/AutoMembershipProvider.java`
#### Snippet
```java
                        return userManager.getAuthorizableByPath(namePathMapper.getJcrPath(resultRow.getPath()));
                    } catch (RepositoryException e) {
                        return null;
                    }
                }).filter(Objects::nonNull).iterator();
```

### ReturnNull
Return of `null`
in `oak-examples/standalone/src/main/java/org/apache/jackrabbit/oak/standalone/WebConsoleSupport.java`
#### Snippet
```java
                }
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositorySecurityProvider.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        BootstrapConfig config = getConfig();
        if (!config.getRmiConfig().isValid() || !config.getRmiConfig().enabled()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        String rmiURI = config.getRmiConfig().getRmiUri();
        if (rmiURI == null) {
            return null;
        }
        log.info("  trying to retrieve repository using rmi. uri={}", rmiURI);
```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        } catch (Throwable e) {
            log.error("Unable to locate RMI ClientRepositoryFactory. Is jcr-rmi.jar missing?", e);
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Error while retrieving repository using RMI: {}", rmiURI, e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        BootstrapConfig config = getConfig();
        if (!config.getJndiConfig().isValid() || !config.getJndiConfig().enabled()) {
            return null;
        }
        // acquire via JNDI
```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        InitialContext ctx = getInitialContext();
        if (ctx == null) {
            return null;
        }
        try {
```

### ReturnNull
Return of `null`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
        } catch (NamingException e) {
            log.error("Error while retrieving repository using JNDI (name={})", repositoryName, e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ReaderCache.java`
#### Snippet
```java
                return e.value;
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
            return iterator.next();
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
        int size = getSize(head);
        if (size == 0) {
            return null; // shortcut
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
                return reader.readMap(id).getValue(hash, key);
            } else {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
            int diff = h.compareTo(segment.readInt(getRecordNumber(), 4 + i * 4) & HASH_MASK);
            if (diff > 0) {
                return null;
            } else if (diff == 0) {
                if (key.equals(segment.readRecordId(getRecordNumber(), 4 + size * 4, i * 2))) {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
        int size = getSize(head);
        if (size == 0) {
            return null; // shortcut
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
                return reader.readMap(id).getEntry(name);
            } else {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java
        if (cfg.getBlobStore() == null && (cfg.hasCustomBlobStore() || cfg.isSecondarySegmentStore())) {
            cfg.getLogger().info("BlobStore enabled. SegmentNodeStore will be initialized once the blob store becomes available");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java
        if (cfg.getSegmentNodeStorePersistence() == null && cfg.hasCustomSegmentStore()) {
            cfg.getLogger().info("customSegmentStore enabled. SegmentNodeStore will be initialized once the custom segment store becomes available");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java
        } catch (InvalidFileStoreVersionException e) {
            cfg.getLogger().error("The storage format is not compatible with this version of Oak Segment Tar", e);
            return null;
        }
        registerCloseable(store);
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
    List<RecordId> getBlockIds() {
        if (blocks == null) {
            return null;
        } else {
            return blocks.getEntries();
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                        RecordWriters.newMapLeafWriter()));
                } else {
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java

        private MapRecord mapRecordOrNull(RecordId id) {
            return id == null ? null : new MapRecord(reader, id);
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
            index++;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentDiscoveryLiteDescriptors.java`
#### Snippet
```java
    public Value[] getValues(@NotNull String key) {
        if (!OAK_DISCOVERYLITE_CLUSTERVIEW.equals(key)) {
            return null;
        }
        return new Value[] {getValue(key)};
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBlob.java`
#### Snippet
```java
            return list.getEntries();
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CommitsTracker.java`
#### Snippet
```java
            Thread t = thread.get();
            return t == null
                ? null
                : t.getStackTrace();
        }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
        public synchronized RecordId get(@NotNull T key) {
            super.missCount++;
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            @Override
            public String getRole() {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitJournalFileReader.java`
#### Snippet
```java
            roJournalReaderHasFinished = true;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreUtil.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TarRevisions.java`
#### Snippet
```java
                    return after;
                } else {
                    return null;
                }
            } finally {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TarRevisions.java`
#### Snippet
```java
            }
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/AbstractCompactionStrategy.java`
#### Snippet
```java
        });
        if (compactedId == null) {
            return null;
        }
        return context.getSegmentReader().readNode(compactedId);
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TailCompactionStrategy.java`
#### Snippet
```java

        if (RecordId.NULL.equals(id)) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TailCompactionStrategy.java`
#### Snippet
```java
        } catch (SegmentNotFoundException e) {
            context.getGCListener().error("base state " + id + " is not accessible", e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/GraphLoader.java`
#### Snippet
```java
        if (magic != GRAPH_MAGIC) {
            log.warn("Invalid graph magic number");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/GraphLoader.java`
#### Snippet
```java
        if (count < 0) {
            log.warn("Invalid number of entries");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/GraphLoader.java`
#### Snippet
```java
        if (bytes < 4 + count * 34) {
            log.warn("Invalid entry size");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/GraphLoader.java`
#### Snippet
```java
        if (crc32 != (int) checksum.getValue()) {
            log.warn("Invalid graph checksum in tar file");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreProcBackend.java`
#### Snippet
```java
                segment.writeTo(out);
            } catch (IOException e) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreProcBackend.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        if (length % BLOCK_SIZE != 0) {
            log.warn("Unable to load index of file {}: Invalid alignment", name);
            return null;
        }
        if (length < 6 * BLOCK_SIZE) {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        if (length < 6 * BLOCK_SIZE) {
            log.warn("Unable to load index of file {}: File too short", name);
            return null;
        }
        if (length > Integer.MAX_VALUE) {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        if (length > Integer.MAX_VALUE) {
            log.warn("Unable to load index of file {}: File too long", name);
            return null;
        }
        ReaderAtEnd r = (whence, size) -> {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
            log.warn("Unable to load index of file {}: {}", name, e.getMessage());
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    dbCollection.deleteOne(filter);
                }
                return null;
            }, collection);
        } catch (Exception e) {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    }
                }
                return null;
            }, collection);
            resultSize = list.size();
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    dbCollection.find(getByKeyQuery(key)).into(result);
                }
                return null;
            }, collection);

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    docs.put(foundDoc.getId(), foundDoc);
                }
                return null;
            }, collection);
        }
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                            dbCollection.deleteMany(query);
                        }
                        return null;
                    }, collection);
                } catch (Exception e) {
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    stats.doneFindCached(collection, key);
                    if (doc == NodeDocument.NULL) {
                        return null;
                    }
                    return (T) doc;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                            stats.doneFindCached(collection, key);
                            if (doc == NodeDocument.NULL) {
                                return null;
                            }
                            return (T) doc;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }
            if (doc == NodeDocument.NULL) {
                return null;
            } else {
                return (T) doc;
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    dbCollection.find(query).into(result);
                }
                return null;
            }, collection);

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                        dbCollection.insertMany(inserts);
                    }
                    return null;
                }, collection);
                if (collection == Collection.NODES) {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarFiles.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Utils.java`
#### Snippet
```java

        if (segmentInfo == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Utils.java`
#### Snippet
```java

        if (timestampString == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Utils.java`
#### Snippet
```java
            timestamp = Long.parseLong(timestampString);
        } catch (NumberFormatException e) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/RecoverJournal.java`
#### Snippet
```java
            return backup;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
        Buffer buffer = archive.getGraph();
        if (buffer == null) {
            return null;
        } else {
            return GraphLoader.parseGraph(buffer);
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
        if (afterCount == 0) {
            log.debug("None of the entries of {} are referenceable.", name);
            return null;
        }
        if (afterSize >= beforeSize * 3 / 4 && hasGraph()) {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/Messages.java`
#### Snippet
```java
            return payload.substring(i + 1);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/Messages.java`
#### Snippet
```java
            return payload.substring(0, i);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
    public ByteBuf readChunk(ByteBufAllocator allocator) throws Exception {
        if (isEndOfInput()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/FileStoreUtil.java`
#### Snippet
```java
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/FileStoreUtil.java`
#### Snippet
```java
            }
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/DefaultStandbyHeadReader.java`
#### Snippet
```java
    public String readHeadRecordId() {
        RecordId persistedHead = readPersistedHeadWithRetry(store, timeout);
        return persistedHead != null ? persistedHead.toString() : null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/DefaultStandbySegmentReader.java`
#### Snippet
```java
            } catch (IOException e) {
                log.warn("Error while reading segment content", e);
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/DefaultStandbySegmentReader.java`
#### Snippet
```java
        }
        
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/DefaultStandbyReferencesReader.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyDiff.java`
#### Snippet
```java
                return (SegmentNodeState) after;
            } else {
                return null;
            }
        } else {
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyDiff.java`
#### Snippet
```java
            }
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/DefaultStandbyBlobReader.java`
#### Snippet
```java
    public InputStream readBlob(String blobId) {
        if (store == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/DefaultStandbyBlobReader.java`
#### Snippet
```java
        }

        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClient.java`
#### Snippet
```java

        if (response == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
    private static Revision newRevisionOrNull(JournalEntry entry) {
        if (entry == null) {
            return null;
        }
        return new Revision(entry.getRevision(), entry.getTimestamp());
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
            return descendant;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
            }

            return null;
        } catch (RuntimeException | IOException e) {
            onCheckNodeError(path, e);
```

### ReturnNull
Return of `null`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
            }

            return null;
        } catch (RuntimeException e) {
            onCheckTreeError(path, e);
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
    public static Session openSession(NodeStore nodeStore, String workspaceName, String user, String password) throws RepositoryException {
        if (nodeStore == null) {
            return null;
        }
        StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
            String line = reader.readLine();
            if (line == null) {
                return null;
            } else if (line.trim().startsWith("//")) {
                continue;
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
    public static Session openSession(NodeStore nodeStore, String user, String password) throws RepositoryException {
        if (nodeStore == null) {
            return null;
        }
        StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
    private static Object getValue(String jsonValue) {
        if (jsonValue == null) {
            return null;
        }
        JsopTokenizer t = new JsopTokenizer(jsonValue);
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
        JsopTokenizer t = new JsopTokenizer(jsonValue);
        if (t.matches(JsopReader.NULL)) {
            return null;
        } else if (t.matches(JsopReader.NUMBER)) {
            String n = t.getToken();
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerLucene.java`
#### Snippet
```java
        } catch (IOException e) {
            log.error("Exception while initializing IndexEditorProvider", e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
            ScoreDoc[] scoreDocs = topDocs.scoreDocs;
            if (scoreDocs.length != 1) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
            if (ftVals.length != 1) {
                // being conservative... expecting only one stored fulltext field
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    public T peek() {
        if (empty()) {
            return null;
        }
        return this.cache;
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/CheckpointsHelper.java`
#### Snippet
```java
    public static Revision min(Set<String> revs) {
        if (revs == null || revs.isEmpty()) {
            return null;
        }
        Revision r = null;
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Result.java`
#### Snippet
```java
public interface Result {

    Result END = () -> null;

    String toJson();
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/OrphanedNodeCheck.java`
#### Snippet
```java
        private Path assertAncestorsExist(Path path) {
            if (path == null) {
                return null;
            }
            NodeState state = ns.getRoot();
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/OrphanedNodeCheck.java`
#### Snippet
```java
                }
            }
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java

        if (recordId == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java

        if (recordId == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java

        if (recordId == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
            }
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/checkpoint/SegmentTarCheckpoints.java`
#### Snippet
```java
            return info;
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
    public Privilege privilegeFromName(String privilegeName) throws AccessControlException, RepositoryException {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Set<Restriction> readRestrictions(@Nullable String oakPath, @NotNull Tree aceTree) {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public RestrictionPattern getPattern(@Nullable String oakPath, @NotNull Set<Restriction> restrictions) {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public RestrictionPattern getPattern(@Nullable String oakPath, @NotNull Tree tree) {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Restriction createRestriction(@Nullable String oakPath, @NotNull String oakName, @NotNull Value value) throws RepositoryException {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Restriction createRestriction(@Nullable String oakPath, @NotNull String oakName, @NotNull Value... values) throws RepositoryException {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Set<RestrictionDefinition> getSupportedRestrictions(@Nullable String oakPath) {
        // EXERCISE
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/ImmutableRoot.java`
#### Snippet
```java
    @Override
    public Blob getBlob(@NotNull String reference) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultRowImpl.java`
#### Snippet
```java
        int index = query.getSelectorIndex(selectorName);
        if (trees == null || index >= trees.length) {
            return null;
        }
        return trees[index];
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultRowImpl.java`
#### Snippet
```java
            final OrderingImpl[] orderings) {
        if (orderings == null) {
            return null;
        }
        return new Comparator<ResultRowImpl>() {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultRowImpl.java`
#### Snippet
```java
            return tree.getPath();
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
        // most frequent case first
        if (REP_EXCERPT_FN.equalsIgnoreCase(column)) {
            return null;
        }
        return column.substring(column.indexOf("(") + 1, column.indexOf(")"));
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
                             Query query, boolean highlight) {
        if (path == null) {
            return null;
        }
        Tree t = query.getTree(path);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
        Tree t = query.getTree(path);
        if (t == null || !t.exists()) {
            return null;
        }
        columnName = extractExcerptProperty(columnName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
                    t = t.getChild(p);
                } else {
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
            c = factory.suggest(selectorName, parseStaticOperand());
        } else {
            return null;
        }
        read(")");
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/ConstraintImpl.java`
#### Snippet
```java
     */
    ConstraintImpl not() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/ConstraintImpl.java`
#### Snippet
```java
     */
    public FullTextExpression getFullTextConstraint(SelectorImpl s) {
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
                    columnName -> {
                        PropertyValue value = lRow.getValue(columnName);
                        return value == null ? null : value.getValue(Type.STRING);
                    },
                    columnName -> {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
                    columnName -> {
                        PropertyValue value = rRow.getValue(columnName);
                        return value == null ? null : value.getValue(Type.STRING);
            });

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
    @Override
    public PropertyExistenceImpl getPropertyExistence() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
        if (!s.equals(selector)) {
            // ordered by a different selector
            return null;
        }
        return new OrderEntry(
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
    public String getFunction(SelectorImpl s) {
        if (!s.equals(selector)) {
            return null;
        }
        return "@" + QueryConstants.RESTRICTION_NAME;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
        case PropertyType.LONG:
        case PropertyType.BOOLEAN:
            return null;
        }
        String name = v.getValue(Type.NAME);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
                    + name + " (relative path with depth > 1 are not names)");
        } else if (name.startsWith("[") && !name.endsWith("]")) {
            return null;
        } else if (!JcrNameParser.validate(name)) {
            return null;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
            return null;
        } else if (!JcrNameParser.validate(name)) {
            return null;
        }
        return name;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeNameImpl.java`
#### Snippet
```java
        String path = selector.currentPath();
        if (path == null) {
            return null;
        }
        String name = PathUtils.getName(path);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/UpperCaseImpl.java`
#### Snippet
```java
        String f = operand.getFunction(s);
        if (f == null) {
            return null;
        }
        return "upper*" + f;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/UpperCaseImpl.java`
#### Snippet
```java
                OrderEntry.Order.DESCENDING : OrderEntry.Order.ASCENDING);
        }
        return null;
    }    

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/UpperCaseImpl.java`
#### Snippet
```java
        PropertyValue p = operand.currentProperty();
        if (p == null) {
            return null;
        }
        // TODO what is the expected result of UPPER(x) for an array property?
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AndImpl.java`
#### Snippet
```java
        switch (list.size()) {
        case 0:
            return null;
        case 1:
            return list.iterator().next();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/OrImpl.java`
#### Snippet
```java
                // the full-text index can not be used for conditions
                // of the form "contains(a, 'x') or b=123"
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchScoreImpl.java`
#### Snippet
```java
    @Override
    public PropertyExistenceImpl getPropertyExistence() {
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchScoreImpl.java`
#### Snippet
```java
    public String getFunction(SelectorImpl s) {
        // optimizations of the type "upper(jcr:score()) = '1'" are not supported
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchScoreImpl.java`
#### Snippet
```java
    @Override
    public OrderEntry getOrderEntry(SelectorImpl s, OrderingImpl o) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchScoreImpl.java`
#### Snippet
```java
    @Override
    public String getOrderEntryPropertyName(SelectorImpl s) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FirstImpl.java`
#### Snippet
```java
        String f = operand.getFunction(s);
        if (f == null) {
            return null;
        }
        return "first*" + f;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FirstImpl.java`
#### Snippet
```java
                OrderEntry.Order.DESCENDING : OrderEntry.Order.ASCENDING);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FirstImpl.java`
#### Snippet
```java
        PropertyValue p = operand.currentProperty();
        if (p == null) {
            return null;
        }
        if (p.isArray()) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FirstImpl.java`
#### Snippet
```java
        if (p.isArray()) {
            if (p.count() == 0) {
                return null;
            }
            return PropertyValues.newString(p.getValue(Type.STRING, 0));
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PathImpl.java`
#### Snippet
```java
        if (!s.equals(selector)) {
            // ordered by a different selector
            return null;
        }
        return new OrderEntry(
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PathImpl.java`
#### Snippet
```java
        String path = selector.currentPath();
        if (path == null) {
            return null;
        }
        return PropertyValues.newString(path);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PathImpl.java`
#### Snippet
```java
    public String getFunction(SelectorImpl s) {
        if (!s.equals(selector)) {
            return null;
        }
        return "@" + QueryConstants.RESTRICTION_PATH;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PathImpl.java`
#### Snippet
```java
    @Override
    public PropertyExistenceImpl getPropertyExistence() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeLocalNameImpl.java`
#### Snippet
```java
        String path = selector.currentPath();
        if (path == null) {
            return null;
        }
        String name = PathUtils.getName(path);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeLocalNameImpl.java`
#### Snippet
```java
    @Override
    public PropertyExistenceImpl getPropertyExistence() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeLocalNameImpl.java`
#### Snippet
```java
        if (!s.equals(selector)) {
            // ordered by a different selector
            return null;
        }
        return new OrderEntry(
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NodeLocalNameImpl.java`
#### Snippet
```java
    public String getFunction(SelectorImpl s) {
        if (!s.equals(selector)) {
            return null;
        }
        return "@" + QueryConstants.RESTRICTION_LOCAL_NAME;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchImpl.java`
#### Snippet
```java
    public FullTextExpression getFullTextConstraint(SelectorImpl s) {
        if (!s.equals(selector)) {
            return null;
        }
        PropertyValue v = fullTextSearchExpression.currentValue();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
    private List<OrderEntry> getSortOrder(FilterImpl filter) {
        if (orderings == null) {
            return null;
        }
        ArrayList<OrderEntry> sortOrder = new ArrayList<OrderEntry>();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        }
        if (sortOrder.size() == 0) {
            return null;
        }
        return sortOrder;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            }
        }
        return buff == null ? null : buff.toString();
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        }
        // no join condition was found
        return null;
    }
 
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
    public String getOakPath(String path) {
        if (path == null) {
            return null;
        }
        if (!JcrPathParser.validate(path)) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        public ResultRowImpl next() {
            if (end) {
                return null;
            }
            if (current == null) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
                LOG.warn("Hidden tree traversed: {}", path);
            }
            return null;
        }
        return context.getRoot().getTree(path);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PropertyValueImpl.java`
#### Snippet
```java
        if (!s.equals(selector)) {
            // ordered by a different selector
            return null;
        }
        String pn = normalizePropertyName(propertyName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PropertyValueImpl.java`
#### Snippet
```java
    public PropertyExistenceImpl getPropertyExistence() {
        if (propertyName.equals("*")) {
            return null;
        }
        return new PropertyExistenceImpl(selector, selectorName, propertyName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PropertyValueImpl.java`
#### Snippet
```java
        if (!s.equals(selector)) {
            // ordered by a different selector
            return null;
        }
        return normalizePropertyName(propertyName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PropertyValueImpl.java`
#### Snippet
```java
    public String getFunction(SelectorImpl s) {
        if (!s.equals(selector)) {
            return null;
        }
        String pn = normalizePropertyName(propertyName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LengthImpl.java`
#### Snippet
```java
                OrderEntry.Order.DESCENDING : OrderEntry.Order.ASCENDING);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LengthImpl.java`
#### Snippet
```java
        String f = operand.getFunction(s);
        if (f == null) {
            return null;
        }
        return "length*" + f;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LengthImpl.java`
#### Snippet
```java
        PropertyValue p = operand.currentProperty();
        if (p == null) {
            return null;
        }
        // TODO namespace remapping?
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/DynamicOperandImpl.java`
#### Snippet
```java
            return  QueryConstants.FUNCTION_RESTRICTION_PREFIX + fn;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/CoalesceImpl.java`
#### Snippet
```java
                OrderEntry.Order.DESCENDING : OrderEntry.Order.ASCENDING);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/CoalesceImpl.java`
#### Snippet
```java
        String f1 = operand1.getFunction(s);
        if (f1 == null) {
            return null;
        }
        String f2 = operand2.getFunction(s);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/CoalesceImpl.java`
#### Snippet
```java
        String f2 = operand2.getFunction(s);
        if (f2 == null) {
            return null;
        }
        return "coalesce*" + f1 + "*" + f2;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LowerCaseImpl.java`
#### Snippet
```java
        String f = operand.getFunction(s);
        if (f == null) {
            return null;
        }
        return "lower*" + f;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LowerCaseImpl.java`
#### Snippet
```java
        PropertyValue p = operand.currentProperty();
        if (p == null) {
            return null;
        }
        // TODO toLowerCase(): document the Turkish locale problem
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LowerCaseImpl.java`
#### Snippet
```java
                OrderEntry.Order.DESCENDING : OrderEntry.Order.ASCENDING);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/AstElement.java`
#### Snippet
```java
        }
        if (propertyName == null) {
            return null;
        }
        int slash = propertyName.indexOf('/');
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/IndexRowImpl.java`
#### Snippet
```java
    @Override
    public PropertyValue getValue(String columnName) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
     */
    public String currentPath() {
        return cursor == null ? null : currentRow.getPath();
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            return this;
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
        PropertyValue result;
        if ((t == null || !t.exists()) && (currentRow == null || !currentRow.isVirtualRow())) {
            return null;
        }
        if (oakPropertyName.equals(QueryConstants.JCR_PATH)) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            if (local == null) {
                // not a local path
                return null;
            }
            result = PropertyValues.newString(local);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
        }
        if (result == null) {
            return null;
        }
        if (propertyType != null && result.getType().tag() != propertyType) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
        }
        if (propertyType != null && result.getType().tag() != propertyType) {
            return null;
        }
        return result;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            readOakProperties(list, t, oakPropertyName, propertyType);
            if (list.size() == 0) {
                return null;
            } else if (list.size() == 1) {
                return list.get(0);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            for (String p : PathUtils.elements(PathUtils.getParentPath(oakPropertyName))) {
                if (t == null) {
                    return null;
                }
                if (p.equals("..")) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java

    QueryIndex getIndex() {
        return plan == null ? null : plan.getIndex();
    }

```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

        if (one.isEmpty() && two.isEmpty()) {
            return null;
        } else {
            one = Strings.nullToEmpty(one).trim();
```

### ReturnNull
Return of `null`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            return doc;
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
        } catch (Exception e) {
            log.debug("Error", e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/index/FilterImpl.java`
#### Snippet
```java
        List<PropertyRestriction> list = propertyRestrictions.get(propertyName);
        if (list.isEmpty()) {
            return null;
        } else if (list.size() == 1) {
            return list.get(0);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
                return l;
            }
            return null;
        }
        
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        String getCommonLeftPart() {
            if (!"=".equals(operator)) {
                return null;
            }
            return left.toString();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
     */
    Expression getLeft() {
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
     */        
    String getCommonLeftPart() {
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        public String getMostSpecificNodeType(String selectorName) {
            if (!"=".equals(operator)) {
                return null;
            }
            if (!(left instanceof Property)) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
            }
            if (!(left instanceof Property)) {
                return null;
            }
            Property p = (Property) left;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
            Property p = (Property) left;
            if (!(right instanceof Literal)) {
                return null;
            }
            Literal l = (Literal) right;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
            Literal l = (Literal) right;
            if (!"jcr:primaryType".equals(p.name)) {
                return null;
            }
            if (selectorName != null && !selectorName.equals(p.selector.name)) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
            }
            if (selectorName != null && !selectorName.equals(p.selector.name)) {
                return null;
            }
            return l.rawText;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
     */
    List<Expression> getRight() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
     */
    public String getMostSpecificNodeType(String selectorName) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/Namespaces.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/Namespaces.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/ImmutableTree.java`
#### Snippet
```java
            @Override
            public ImmutableTree getParent() {
                return null;
            }
        };
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexInfoServiceImpl.java`
#### Snippet
```java
        @Override
        public String getAsyncLaneName() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexInfoServiceImpl.java`
#### Snippet
```java
        String type = idxState.getString(IndexConstants.TYPE_PROPERTY_NAME);
        if (type == null || "disabled".equals(type)){
            return null;
        }
        return type;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexInfoServiceImpl.java`
#### Snippet
```java
        @Override
        public String getIndexDefinitionDiff() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
                    if (x == null) {
                        // not a match
                        return null;
                    }
                    m.appendReplacement(buff, x);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
        String resolved = applyAndResolvePatterns(relativePath, path);
        if (resolved == null) {
            return null;
        }
        if (PathUtils.isAbsolute(resolved)) {
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
            Matcher m = p.matcher(path);
            if (!m.find()) {
                return null;
            }
            return m.group(1);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
            x += p.getValue(Type.LONG);
        }
        return found ? x : null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounter.java`
#### Snippet
```java
            x += p.getValue(Type.LONG);
        }
        return found ? x : null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/ProgressTrackingEditor.java`
#### Snippet
```java
    private ProgressTrackingEditor createChildEditor(Editor editor, String name) {
        if (editor == null) {
            return null;
        } else {
            return new ProgressTrackingEditor(editor, name, traversalCallback, this);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexInfoProvider.java`
#### Snippet
```java
        @Override
        public String getIndexDefinitionDiff() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexInfoProvider.java`
#### Snippet
```java
        @Override
        public String getAsyncLaneName() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
    public static Iterable<String> getStrings(NodeBuilder node, String propertyName) {
        if (!node.hasProperty(propertyName)) {
            return null;
        }
        PropertyState s = node.getProperty(propertyName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
    public static Iterable<String> getStrings(NodeState node, String propertyName) {
        if (!node.hasProperty(propertyName)) {
            return null;
        }
        PropertyState s = node.getProperty(propertyName);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        public String getLastIndexedTime() {
            PropertyState ps = store.getRoot().getChildNode(ASYNC).getProperty(lastIndexedTo);
            return ps != null ? ps.getValue(Type.STRING) : null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                } catch (Exception e) {
                    log.error("[{}] Error retrieving consolidated stats", name, e);
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        public CompositeData getExecutionTime() {
            //Do nothing. Kept for backward compatibility
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndex.java`
#### Snippet
```java
            return Iterables.toArray(ps.getValue(Type.STRINGS), String.class);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndex.java`
#### Snippet
```java
    public String getIndexName(Filter filter, NodeState root) {
        PropertyIndexPlan plan = getPlan(root, filter);
        return plan == null ? null : plan.getName();
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexEditor.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndexPlan.java`
#### Snippet
```java
    @Override
    public List<OrderEntry> getSortOrder() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndexPlan.java`
#### Snippet
```java
    @Override
    public NodeState getDefinition() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndexPlan.java`
#### Snippet
```java
    @Override
    public IndexPlan copy() {
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndexPlan.java`
#### Snippet
```java
    @Override
    public String getPathPrefix() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndex.java`
#### Snippet
```java
            final String path) {
        if (constraint == null) {
            return null;
        }
        final AtomicReference<Cursor> result = new AtomicReference<Cursor>();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
        Clusterable c = clusterSupplier.get();
        if (c == null) {
            return null;
        } else {
            return c.getInstanceId();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/MergingNodeStateDiff.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/StatisticsProviderFactory.java`
#### Snippet
```java
        if (TYPE_NONE.equals(providerType)) {
            log.info("No statistics provider created as {} option is selected", TYPE_NONE);
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeDefinitionImpl.java`
#### Snippet
```java
            return new NodeTypeImpl(type, mapper);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeDefinitionImpl.java`
#### Snippet
```java
            return mapper.getJcrName(oakName);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/AbstractTypeDefinition.java`
#### Snippet
```java
            return property.getValue(type);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/RootNodeDefinition.java`
#### Snippet
```java
            return ntManager.getNodeType(REP_ROOT);
        } catch (RepositoryException e) {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/RootNodeDefinition.java`
#### Snippet
```java
            return ntManager.getNodeType(REP_ROOT);
        } catch (RepositoryException e) {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/PropertyDefinitionImpl.java`
#### Snippet
```java
                definition.getProperty(JcrConstants.JCR_DEFAULTVALUES);
        if (property == null) {
            return null;
        } else if (property.isArray()) {
            List<Value> values = new PartialValueFactory(mapper).createValues(property);
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
            return mapper.getJcrName(oakName);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/ItemDefinitionTemplate.java`
#### Snippet
```java
    @Override
    public NodeType getDeclaringNodeType() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/DecimalConstraint.java`
#### Snippet
```java
    protected BigDecimal getBound(String bound) {
        return bound == null || bound.isEmpty()
            ? null
            : new BigDecimal(bound);
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/DoubleConstraint.java`
#### Snippet
```java
    protected Double getBound(String bound) {
        return  bound == null || bound.isEmpty()
            ? null
            : Double.parseDouble(bound);
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeDefinitionTemplateImpl.java`
#### Snippet
```java
    @Override
    public NodeType getDefaultPrimaryType() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeDefinitionTemplateImpl.java`
#### Snippet
```java
    @Override
    public NodeType[] getRequiredPrimaryTypes() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java
                    EMPTY_NODE_DEFINITION_ARRAY);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java
                    EMPTY_PROPERTY_DEFINITION_ARRAY);
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/LongConstraint.java`
#### Snippet
```java
    protected Long getBound(String bound) {
        return bound == null || bound.isEmpty()
            ? null
            : Long.parseLong(bound);
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/DescendantsIterator.java`
#### Snippet
```java
    protected NodeState getNext() {
        if (!fillStack()) {
            return null;
        }
        return stack.peekFirst().next().getNodeState();
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionableEditor.java`
#### Snippet
```java
            return state.getProperty(name).getValue(type);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/identifier/IdentifierManager.java`
#### Snippet
```java
                                }
                            }
                            return null;
                        }
                    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/GlobbingPathHelper.java`
#### Snippet
```java
    public static String globPathAsRegex(String pathWithGlobs) {
        if (pathWithGlobs == null) {
            return null;
        } else if (!pathWithGlobs.contains("*")) {
            return pathWithGlobs;
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/InheritedMembersIterator.java`
#### Snippet
```java

        // all dynamic members have been processed
        return null;
    }
    
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableIterator.java`
#### Snippet
```java
                log.debug("Failed to access authorizable {}", tree.getPath());
            }
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
    private String firstLevelName(String path) {
        if (path.isEmpty() || path.equals("/")) {
            return null;
        }
        int secondSlash = path.indexOf("/", 1);
```

### ReturnNull
Return of `null`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/SpringBootSupport.java`
#### Snippet
```java
                log.warn("Error occurred while fetching jar entry {} from {}", entryName, jarFile, e);
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexMBean.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexMBean.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
            return configurations[0];
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
                    tracker.shutdownRepository();
                }
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
        if(parameters == null || !parameters.containsKey(REPOSITORY_HOME)){
            //Required param missing so repository cannot be created
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
                    .valueBody();
            if (records.isEmpty()) {
                return null;
            }
            // Assuming a single index matches crd.index
```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/util/TermQueryBuilderFactory.java`
#### Snippet
```java
            // This helps with the NOT equal to condition for given property
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    method.name(), key, e.getMessage(), e.getStatusCode(), e.getErrorCode(), e.getErrorType(), e.getRequestId());

            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        if (httpUploadURIExpirySeconds <= 0) {
            // feature disabled
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
    private static String getIdentifierName(String key) {
        if (!key.contains(Utils.DASH)) {
            return null;
        } else if (key.contains(META_KEY_PREFIX)) {
            return key;
```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        if (httpDownloadURIExpirySeconds <= 0) {
            // feature disabled
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    if (!exists(identifier)) {
                        LOG.warn("Cannot create download URI for nonexistent blob {}; returning null", getKeyName(identifier));
                        return null;
                    }
                } catch (DataStoreException e) {
```

### ReturnNull
Return of `null`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                } catch (DataStoreException e) {
                    LOG.warn("Cannot create download URI for blob {} (caught DataStoreException); returning null", getKeyName(identifier), e);
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticResponseHandler.java`
#### Snippet
```java
        if (transformedPath == null) {
            LOG.trace("Ignoring path {} : Transformation returned null", path);
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticResponseHandler.java`
#### Snippet
```java
        if (!seenPaths.add(transformedPath)) {
            LOG.trace("Ignoring path {} : Duplicate post transformation", path);
            return null;
        }
        return transformedPath;
```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticInsecureFacetAsyncProvider.java`
#### Snippet
```java
                    .map(term -> new FulltextIndex.Facet(term.key().stringValue(), (int) term.docCount()))
                    .collect(Collectors.toList());
        } else return null;
    }

```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticSecureFacetAsyncProvider.java`
#### Snippet
```java
        }
        LOG.trace("Reading facets for {} from {}", columnName, facets);
        return facets != null ? facets.get(FulltextIndex.parseFacetField(columnName)) : null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/ElasticResultRowAsyncIterator.java`
#### Snippet
```java
        if (nextRow == null) { // next is called without hasNext
            if (!hasNext()) {
                return null;
            }
        }
```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java

        if (excerpts.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
                ? ElasticFacetProvider.getProvider(planResult.indexDefinition.getSecureFacetConfiguration(), this,
                        responseHandler, filter::isAccessible)
                : null;
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/FieldFactory.java`
#### Snippet
```java
    public static Long dateToLong(String date){
        if( date == null){
            return null;
        }
        //TODO OAK-2204 - Should we change the precision to lower resolution
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexLookupUtil.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java

    private static IndexReader getPrimaryReader(List<LuceneIndexReader> indexReaders) {
        return indexReaders.isEmpty() ? null : indexReaders.get(0).getReader();
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
            return ((DirectoryReader) reader).directory();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
            return new LuceneIndexNodeManager(PathUtils.getName(indexPath), definition, readers, nrtIndex);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                        // avoid duplicate entries
                        if (seenPaths.contains(path)) {
                            return null;
                        }
                        seenPaths.add(path);
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                    return new LuceneResultRow(path, doc.score, excerpt);
                }
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
    static Query tokenToQuery(String text, String fieldName, Analyzer analyzer, IndexReader reader) {
        if (analyzer == null) {
            return null;
        }
        List<String> tokens = tokenize(text, analyzer);
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
        } catch (IOException e) {
            LOG.error("Building fulltext query failed", e.getMessage());
            return null;
        } finally {
            try {
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/FacetHelper.java`
#### Snippet
```java
        @Override
        public List<FacetResult> getAllDims(int topN) {
            return null;
        }
    };
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/FacetHelper.java`
#### Snippet
```java
        @Override
        public Number getSpecificValue(String dim, String... path) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/FacetHelper.java`
#### Snippet
```java
        @Override
        public FacetResult getTopChildren(int topN, String dim, String... path) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SecureSortedSetDocValuesFacetCounts.java`
#### Snippet
```java

        if (topChildren == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
                return new SuggestQuery(text);
            } else {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java

        if (topChildren == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/spi/FulltextQueryTermsProvider.java`
#### Snippet
```java
        @Override
        public Query getQueryTerm(String text, Analyzer analyzer, NodeState indexDefinition) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                }
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                }
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndexFactory.java`
#### Snippet
```java
        List<NRTIndex> existing = indexes.get(indexPath);
        if (existing.isEmpty()){
            return null;
        }
        checkArgument(existing.size() <= MAX_INDEX_COUNT, "Found [%s] more than 3 index", existing.size());
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
        @Override
        public AnalyzingInfixSuggester getLookup() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
        @Override
        public Directory getSuggestDirectory() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
        }
        if (segmentSize == 0) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
            log.debug("mitigation due to {} > {} docs/sec and segments {} < {})", commitRate, maxCommitRateDocs,
                    segmentSize, maxNoOfSegsForMitigation);
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
                log.debug("mitigation due to {} > {} MB/sec and segments {} < {})", mbRate, maxCommitRateMB,
                        segmentSize, maxNoOfSegsForMitigation);
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java

        if (eligible.size() == 0) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java

        if (eligible.size() == 0) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
                message("already merged");
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                        if (path == null) {
                            LOG.trace("Ignoring path {} : Transformation returned null", originalPath);
                            return null;
                        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                        if (seenPaths.contains(path)) {
                            LOG.trace("Ignoring path {} : Duplicate post transformation", originalPath);
                            return null;
                        }
                        seenPaths.add(path);
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    return shouldIncludeForHierarchy ? new FulltextResultRow(path, doc.score, excerpts,
                            facetProvider, explanation)
                            : null;
                }
                return null;
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                            : null;
                }
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            }

            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    static Query tokenToQuery(String text, String fieldName, Analyzer analyzer) {
        if (analyzer == null) {
            return null;
        }
        StandardQueryParser parserHelper = new StandardQueryParser(analyzer);
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    }
                }
                return null;
            } finally {
                indexNode.release();
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        List<OrderEntry> sortOrder = plan.getSortOrder();
        if (sortOrder == null || sortOrder.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java

        if (fieldsList.isEmpty()) {
            return null;
        } else {
            return new Sort(fieldsList.toArray(new SortField[0]));
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
            return StringUtils.convertHexToBytes(key);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LocalIndexFile.java`
#### Snippet
```java
        }

        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
            return StringUtils.convertHexToBytes(key);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/PropertyDefinition.java`
#### Snippet
```java
    private String determineNonRelativeName() {
        if (isRegexp) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexTracker.java`
#### Snippet
```java

        if (badIndexTracker.isIgnoredBadIndex(path)){
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexTracker.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/DataConversionUtil.java`
#### Snippet
```java
    public static Long dateToLong(String date){
        if( date == null){
            return null;
        }
        //TODO OAK-2204 - Should we change the precision to lower resolution
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
        public List<Facet> getFacets(int numberOfFacets, String columnName) throws IOException {
            if (facetProvider == null) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        if (definition == null) {
            log.debug("Index {} not loaded", indexPath);
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
            if (builder == null) {
                if (notSupportedFeature()) {
                    return null;
                }
                String msg = String.format("No plan found for filter [%s] " +
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        }

        return builder != null ? builder.build() : null;
    }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java

        if (wrongIndex()) {
            return null;
        }
        if (filter.getQueryLimits().getStrictPathRestriction().equals(StrictPathRestriction.ENABLE.name()) && !isPlanWithValidPathFilter()) {
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        }
        if (filter.getQueryLimits().getStrictPathRestriction().equals(StrictPathRestriction.ENABLE.name()) && !isPlanWithValidPathFilter()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        if (!definition.getVersion().isAtLeast(IndexFormatVersion.V2)){
            log.trace("Index is old format. Not supported");
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        //Query Fulltext and Index does not support fulltext
        if (ft != null && !definition.isFullTextEnabled()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        IndexDefinition.IndexingRule indexingRule = getApplicableRule();
        if (indexingRule == null){
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        //Query Fulltext and indexing rule does not support fulltext
        if (ft != null && !indexingRule.isFulltextEnabled()){
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
            log.trace("Opting out due mismatch between path restriction {} and query paths {}",
                    filter.getPath(), definition.getQueryPaths());
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
                    if (facetPropDef == null || !facetPropDef.facet) {
                        log.debug("{} not backed by index. Opting out", value);
                        return null;
                    }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java

        if (ft != null && !canEvalAlFullText){
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java

            if (plan == null) {
                return null;
            }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        //TODO Support for property existence queries

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java

        if (!canHandleNativeFunction) {
            return null;
        }
        IndexPlan.Builder b = defaultPlan();
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        IndexPlan.Builder b = defaultPlan();
        if (b == null) {
            return null;
        }
        // If native function can be handled by this index, then ensure
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                }
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                }
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextIndexEditor.java`
#### Snippet
```java
  private D makeDocument(String path, NodeState state, boolean isUpdate) throws IOException {
    if (!isIndexable()) {
      return null;
    }
    return context.newDocumentMaker(indexingRule, path).makeDocument(state, isUpdate, propertiesModified);
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
    public static String convertToPolishNotation(String function) {
        if (function == null) {
            return null;
        }
        FunctionIndexProcessor p = new FunctionIndexProcessor(function);
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
            } else {
                LOG.debug("Unknown function {}", functionName);
                return null;
            }
            values.add(x);
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
                state = state.getChildNode(n);
                if (!state.exists()) {
                    return null;
                }
            }
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
        }
        if (ps == null || ps.count() == 0) {
            return null;
        }
        return ps;
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
    public static String[] getFunctionCode(String functionDescription) {
        if (functionDescription == null) {
            return null;
        }
        return functionDescription.split("\\*");
```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java

        PropertyState ret = stack.pop();
        return ret == EMPTY_PROPERTY_STATE ? null : ret;
    }

```

### ReturnNull
Return of `null`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractSharedBackend.java`
#### Snippet
```java
            LOG.error("Failed to hash identifier using MAC (Message Authentication Code) algorithm.", e);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/osgi/FileBlobStoreService.java`
#### Snippet
```java
            return context.getProperties().get(property).toString();
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/osgi/SplitBlobStoreService.java`
#### Snippet
```java
            return context.getProperties().get(property).toString();
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
            propDefNode = propNode.getChildNode(propName);
        }
        return propDefNode.exists() ? propDefNode : null;
    }

```

### ReturnNull
Return of `null`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
                            session.logout();
                        }
                        return null;
                    }

```

### ReturnNull
Return of `null`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
     */
    protected T prepareThreadExecutionContext() throws Exception{
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/ACE.java`
#### Snippet
```java
            }
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/RemoteUtilities.java`
#### Snippet
```java
        Matcher m = PATTERN.matcher(segmentFileName);
        if (!m.matches()) {
            return null;
        }
        return UUID.fromString(m.group(2));
```

### ReturnNull
Return of `null`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
        }

        return null;
    }
}
```

### ReturnNull
Return of `null`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java
        }

        return null;
    }

```

### ReturnNull
Return of `null`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
        }

        return null;
    }

```

## RuleId[id=AssignmentToLambdaParameter]
### AssignmentToLambdaParameter
Assignment to lambda parameter `v`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/QueryIndex.java`
#### Snippet
```java
                this.additionalMessages.compute(level, (k,v) -> {
                    if (v == null) {
                        v = new ArrayList<>();
                    }
                    v.add(s);
```

## RuleId[id=UnnecessaryLocalVariable]
### UnnecessaryLocalVariable
Local variable `statisticsProvider` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
        this.cache = cache;

        StatisticsProvider statisticsProvider = provider;

        // Configure cache name
```

### UnnecessaryLocalVariable
Local variable `snapshotMarker` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

    private File getSnapshotMarkerFile() {
        File snapshotMarker = new File(rootDir, prefix + snapshotMarkerSuffix);
        return snapshotMarker;
    }
```

### UnnecessaryLocalVariable
Local variable `copiedRecsFile` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                    @Override
                    public File retrieve(String path) {
                        File copiedRecsFile = new File(path);
                        return copiedRecsFile;
                    }
```

### UnnecessaryLocalVariable
Local variable `editorProvider` is redundant
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
        ElasticIndexTracker indexTracker = new ElasticIndexTracker(connection,
                new ElasticMetricHandler(StatisticsProvider.NOOP));
        ElasticIndexEditorProvider editorProvider = new ElasticIndexEditorProvider(indexTracker, connection,
                new ExtractedTextCache(10 * FileUtils.ONE_MB, 100));
        return editorProvider;
```

### UnnecessaryLocalVariable
Local variable `e` is redundant
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextParser.java`
#### Snippet
```java
        p.propertyName = propertyName;
        p.text = text;
        FullTextExpression e = p.parseOr();
        return e;
    }
```

### UnnecessaryLocalVariable
Local variable `jsonFacetString` is redundant
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/query/facet/FacetResult.java`
#### Snippet
```java
                String value = row.getValue(column);
                if (value != null) {
                    String jsonFacetString = value;
                    parseJson(dimension, jsonFacetString);
                }
```

### UnnecessaryLocalVariable
Local variable `prefilter` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        }

        final ChangeSetFilter prefilter = fp;
        if (prefilter.excludes(changeSet)) {
            return FilterResult.EXCLUDE;
```

### UnnecessaryLocalVariable
Local variable `dstStore` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    protected NodeStore createTarget(Closer closer, BlobStore srcBlobStore) throws IOException {
        BlobStore dstBlobStore = datastores.getDstBlobStore(srcBlobStore).create(closer);
        NodeStore dstStore = stores.getDstStore().create(dstBlobStore, closer);
        return dstStore;
    }
```

### UnnecessaryLocalVariable
Local variable `persistence` is redundant
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentStoreService.java`
#### Snippet
```java
    private static SegmentNodeStorePersistence createAwsPersistence(Configuration configuration) throws IOException {
        AwsContext awsContext = AwsContext.create(configuration);
        AwsPersistence persistence = new AwsPersistence(awsContext);
        return persistence;
    }
```

### UnnecessaryLocalVariable
Local variable `before` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
        //It would only traverse the diff i.e. those index definitions paths
        //whose lane has been changed
        NodeState before = baseState;
        NodeState after = copyOnWriteStore.getRoot();

```

### UnnecessaryLocalVariable
Local variable `presFreeMemory` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        Runtime r = Runtime.getRuntime();
        long allocatedMemory = r.totalMemory() - r.freeMemory();
        long presFreeMemory = r.maxMemory() - allocatedMemory;
        return presFreeMemory;
    }
```

### UnnecessaryLocalVariable
Local variable `output` is redundant
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                throw new RuntimeException(e);
            }
            String output = new String(out.toByteArray(), "UTF-8");
            return output;
        } catch (Exception e) {
```

### UnnecessaryLocalVariable
Local variable `file` is redundant
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                    continue;
                }
                String file = arg;
                Reader reader;
                LineNumberReader r;
```

### UnnecessaryLocalVariable
Local variable `stats` is redundant
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            evictionCount += s.evictionCount.longValue();
        }
        CacheStats stats = new CacheStats(hitCount, missCount, loadSuccessCount,
                loadExceptionCount, totalLoadTime, evictionCount);
        return stats;
```

### UnnecessaryLocalVariable
Local variable `storageOptions` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDBConfig.java`
#### Snippet
```java
            root.getChildren().put(STORAGE_ENGINE, configString);

            Bson storageOptions = BsonDocument.parse(root.toString());
            return storageOptions;
        } else {
```

### UnnecessaryLocalVariable
Local variable `encryptedBytes` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/UDPBroadcaster.java`
#### Snippet
```java
            cipherOutputStream.flush();
            cipherOutputStream.close();
            byte[] encryptedBytes = outputStream.toByteArray();
            return encryptedBytes;
        } catch (IOException e) {
```

### UnnecessaryLocalVariable
Local variable `w` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            readStore = writeStore;
            readGeneration = writeGeneration;
            MapFactory w = createMapFactory(writeGeneration + 1, false);
            writeStore = w;
            writeGeneration++;
```

### UnnecessaryLocalVariable
Local variable `diff` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            // * positive when local instance is ahead
            // * and negative when the local instance is behind
            final long diff = midPoint - serverLocalTimeMillis;

            return diff;
```

### UnnecessaryLocalVariable
Local variable `targetValue` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/index/IndexV2.java`
#### Snippet
```java
        float lowValue = Long.MIN_VALUE;
        float highValue = Long.MAX_VALUE;
        float targetValue = msb;

        while (lowIndex <= highIndex) {
```

### UnnecessaryLocalVariable
Local variable `targetValue` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/index/IndexV1.java`
#### Snippet
```java
        float lowValue = Long.MIN_VALUE;
        float highValue = Long.MAX_VALUE;
        float targetValue = msb;

        while (lowIndex <= highIndex) {
```

### UnnecessaryLocalVariable
Local variable `uuid` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            }

            String uuid = propValue;
            String referrerPath = n.getPath();
            String referrerProperty = p.getName();
```

### UnnecessaryLocalVariable
Local variable `propPath` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        private void binaryProperties(NodeState state, String path, ReferenceCollector collector) {
            for (PropertyState p : state.getProperties()) {
                String propPath = path;//PathUtils.concat(path, p.getName());
                if (p.getType() == Type.BINARY) {
                    String blobId = p.getValue(Type.BINARY).getContentIdentity();
```

### UnnecessaryLocalVariable
Local variable `rowcounter` is redundant
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                bfbs.add(bfb);
            }
            int rowcounter = merge(fbw, cmp, distinct, bfbs, typeToString);
            return rowcounter;
        } finally {
```

### UnnecessaryLocalVariable
Local variable `c` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
            if (readIf("IN")) {
                DynamicOperandImpl right = parseDynamicOperand();
                ConstraintImpl c = factory.comparison(right, Operator.EQUAL, left);
                return c;
            } else {
```

### UnnecessaryLocalVariable
Local variable `literal` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
            return var;
        } else if (readIf("TRUE")) {
            LiteralImpl literal = getUncastLiteral(PropertyValues.newBoolean(true));
            return literal;
        } else if (readIf("FALSE")) {
```

### UnnecessaryLocalVariable
Local variable `literal` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
            return literal;
        } else if (readIf("FALSE")) {
            LiteralImpl literal = getUncastLiteral(PropertyValues.newBoolean(false));
            return literal;
        } else if (readIf("CAST")) {
```

### UnnecessaryLocalVariable
Local variable `selector1` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
            return c;
        } else {
            String selector1 = name;
            read(".");
            String property1 = readName();
```

### UnnecessaryLocalVariable
Local variable `join` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            // but couldn't be evaluated before
            if (!j.canEvaluate(oldSelectors) && j.canEvaluate(newSelectors)) {
                JoinImpl join = new JoinImpl(result, last, JoinType.INNER, j);
                return join;
            }
```

### UnnecessaryLocalVariable
Local variable `tname` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                // skip indices on tables in other schemas in case we have that information
                if (rmetSchemaName.isEmpty() || inSchema.isEmpty() || rmetSchemaName.equals(inSchema)) {
                    String tname = asQualifiedDbName(inSchema, rs.getString("TABLE_NAME"));
                    info.tname = tname;
                    String cname = rs.getString("COLUMN_NAME");
```

### UnnecessaryLocalVariable
Local variable `newQuery` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
                }
            }
            String newQuery = query.substring(0, pathIndex) + "/jcr:root/" + path + query.substring(end, query.length());
            query = newQuery;
        }
```

### UnnecessaryLocalVariable
Local variable `l1` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
                if (left instanceof OrCondition) {
                    OrCondition orLeft = (OrCondition) left;
                    Expression l1 = orLeft.left;
                    Expression l2 = orLeft.right;
                    OrCondition orRight = new OrCondition(l2, right);
```

### UnnecessaryLocalVariable
Local variable `in` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
            list.addAll(left.getRight());
            list.addAll(right.getRight());
            InCondition in = new InCondition(le, list);
            return in;
        }
```

### UnnecessaryLocalVariable
Local variable `lastParseIndex` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
        converter.initialize(partList);
        converter.read();
        int lastParseIndex = converter.parseIndex;
        int lastOrIndex = lastParseIndex;
        converter.read("(");
```

### UnnecessaryLocalVariable
Local variable `union` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                result = stat;
            } else {
                UnionStatement union = new UnionStatement(result, stat);
                result = union;
            }
```

### UnnecessaryLocalVariable
Local variable `f` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            Expression right = parseExpression();
            read(")");
            Expression.Contains f = new Expression.Contains(left, right);
            return f;
        } else if ("jcr:score".equals(functionName)) {
```

### UnnecessaryLocalVariable
Local variable `f` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            Expression expr = parseExpression();
            read(")");
            Expression.NativeFunction f = new Expression.NativeFunction(selectorName, language, expr);
            return f;
        } else if ("rep:similar".equals(functionName)) {
```

### UnnecessaryLocalVariable
Local variable `f` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            Expression path = parseExpression();
            read(")");
            Expression.Similar f = new Expression.Similar(property, path);
            return f;
        } else if ("rep:spellcheck".equals(functionName)) {
```

### UnnecessaryLocalVariable
Local variable `k0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/SipHash.java`
#### Snippet
```java

    public SipHash(long seed) {
        long k0 = seed;
        long k1 = Long.rotateLeft(seed, 32);
        v0 = k0 ^ 0x736f6d6570736575L;
```

### UnnecessaryLocalVariable
Local variable `before` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java
                    indexInfos, checkpoint, laneName);

            NodeState before = indexedState;

            NodeBuilder builder = nodeStore.getRoot().builder();
```

### UnnecessaryLocalVariable
Local variable `result` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/GlobbingPathFilter.java`
#### Snippet
```java
            }
            boolean headMatches = wildcardMatch(name, head);
            boolean result = pattern.size() == 1
                ? headMatches
                : headMatches && STAR_STAR.equals(pattern.get(1));
```

### UnnecessaryLocalVariable
Local variable `tokenName` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenProviderImpl.java`
#### Snippet
```java
                TokenInfo tokenInfo;
                try {
                    String tokenName = uuid;
                    tokenInfo = createTokenNode(tokenParent, tokenName, expTime, uuid, id, attributes);
                    root.commit(CommitMarker.asCommitAttributes());
```

### UnnecessaryLocalVariable
Local variable `p` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java

            private void visitTerm(String propertyName) {
                String p = propertyName;
                String propertyPath = null;
                String nodePath = null;
```

### UnnecessaryLocalVariable
Local variable `comma` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
            String prop = remaining;
            int paren = remaining.indexOf(')');
            int comma = remaining.indexOf(',');
            int end = comma;
            if (paren >=0) {
```

## RuleId[id=UseCompareMethod]
### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
     */
    int compareRevisionTimeThenClusterId(Revision other) {
        int comp = timestamp < other.timestamp ? -1 : timestamp > other.timestamp ? 1 : 0;
        if (comp == 0) {
            comp = counter < other.counter ? -1 : counter > other.counter ? 1 : 0;
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
        int comp = timestamp < other.timestamp ? -1 : timestamp > other.timestamp ? 1 : 0;
        if (comp == 0) {
            comp = counter < other.counter ? -1 : counter > other.counter ? 1 : 0;
        }
        if (comp == 0) {
```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
                            this + " and " + other);
        }
        int comp = timestamp < other.timestamp ? -1 : timestamp > other.timestamp ? 1 : 0;
        if (comp == 0) {
            comp = counter < other.counter ? -1 : counter > other.counter ? 1 : 0;
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
        int comp = timestamp < other.timestamp ? -1 : timestamp > other.timestamp ? 1 : 0;
        if (comp == 0) {
            comp = counter < other.counter ? -1 : counter > other.counter ? 1 : 0;
        }
        return comp;
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
     */
    int compareClusterId(Revision other) {
        return clusterId < other.clusterId ? -1 : clusterId > other.clusterId ? 1 : 0;
    }

```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java

            long iH = segment.readInt(getRecordNumber(), 4 + i * 4) & HASH_MASK;
            int diff = Long.valueOf(iH).compareTo(h);
            if (diff == 0) {
                RecordId keyId = segment.readRecordId(getRecordNumber(), 4 + size * 4, i * 2);
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                && afterIndex < afterProperties.length) {
            int d = Integer.valueOf(afterProperties[afterIndex].hashCode())
                    .compareTo(beforeProperties[beforeIndex].hashCode());
            if (d == 0) {
                d = afterProperties[afterIndex].getName().compareTo(
```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentId.java`
#### Snippet
```java
    @Override
    public int compareTo(@NotNull SegmentId that) {
        int d = Long.valueOf(this.msb).compareTo(that.msb);
        if (d == 0) {
            d = Long.valueOf(this.lsb).compareTo(that.lsb);
```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentId.java`
#### Snippet
```java
        int d = Long.valueOf(this.msb).compareTo(that.msb);
        if (d == 0) {
            d = Long.valueOf(this.lsb).compareTo(that.lsb);
        }
        return d;
```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/index/IndexWriter.java`
#### Snippet
```java
                return 1;
            }
            if (a.lsb < b.lsb) {
                return -1;
            }
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/index/IndexEntry.java`
#### Snippet
```java
        @Override
        public int compare(IndexEntry a, IndexEntry b) {
            if (a.getPosition() > b.getPosition()) {
                return 1;
            } else if (a.getPosition() < b.getPosition()) {
```

## RuleId[id=BusyWait]
### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/InitialContentMigrator.java`
#### Snippet
```java
        do {
            try {
                Thread.sleep(100);
            } catch (InterruptedException e) {
                throw new IOException(e);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java
                try {
                    while (store.getStats().get(1).getElementCount() > 0) {
                        Thread.sleep(100);
                    }
                } catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java
                try {
                    while (store.getStats().get(1).getElementCount() > 0) {
                        Thread.sleep(100);
                    }
                } catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureRepositoryLock.java`
#### Snippet
```java
                if ((System.currentTimeMillis() - start) / 1000 < timeoutSec) {
                    try {
                        Thread.sleep(1000);
                    } catch (InterruptedException e1) {
                        throw new IOException(e1);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureRepositoryLock.java`
#### Snippet
```java
            }
            try {
                Thread.sleep(100);
            } catch (InterruptedException e) {
                log.error("Interrupted the lease renewal loop", e);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
                    try {
                        log.info("Waiting for {} millis before retrying", backOffTimeInMillis);
                        Thread.sleep(backOffTimeInMillis);
                        backOffTimeInMillis *= 2;
                    } catch (InterruptedException ie) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java
                log.info("{} Could not register to memory manager. Sleeping {} ms before retrying", taskID, sleepDuration);
                try {
                    Thread.sleep(sleepDuration);
                } catch (InterruptedException e) {
                    log.warn(taskID + " Interrupted while sleeping while trying to register to memory manager", e);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java
                    LOG.debug("vgc: " + stats);
                    // org.apache.jackrabbit.oak.plugins.document.NodeDocument.MODIFIED_IN_SECS_RESOLUTION
                    Thread.sleep(5 * 1000);
                }
                catch (Throwable ex) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
                    logger.error("doRun: got an exception: " + e, e);
                    try {
                        Thread.sleep(5000);
                    } catch (Exception e2) {
                        logger.error("doRun: got an exception while sleeping due to another exception: " + e2, e2);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
                while (runningJob) {
                    System.out.println("Job is running... Traversed " + count + " nodes. Found " + emptyNodesCount + " empty and " + wrongNodesCount + " wrong nodes.");
                    Thread.sleep(PROGRESS_WAITING_TIME_MILLIS);
                }
            } catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Downloader.java`
#### Snippet
```java
                                callable, waitTime, retried, e);
                        try {
                            Thread.sleep(waitTime);
                        } catch (InterruptedException ignore) {}
                    }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/ClusterNodeStoreLock.java`
#### Snippet
```java
                log.info("Wait " + sleep + " ms");
                try {
                    Thread.sleep(sleep);
                } catch (InterruptedException e1) {
                    // ignore
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/AbortingIndexerLock.java`
#### Snippet
```java
                log.info("Async indexer for lane [{}] found to be running. Would wait for {} seconds " +
                        "more for it to stop", mbean.getName(), delta);
                Thread.sleep(intervalBetweenTriesMsec);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
                        LOG.debug("Waiting for async indexing to finish");
                    }
                    Thread.sleep(5000);
                } catch (InterruptedException e) {
                    LOG.error("Error waiting for async index to finish", e);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                System.out.println("Reader: Closer than 100, waiting...level1="+level1+", level2="+level2);
                                try {
                                    Thread.sleep(1000);
                                } catch (InterruptedException e) {
                                    e.printStackTrace();
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            if (!level1Node.hasNode(level2)) {
                                System.err.println("Reader: NOT FOUND: level1="+level1+", level2="+level2);
                                Thread.sleep(500);
                                session.refresh(false);
                                System.err.println("Reader: Reverifying once...");
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            System.out.println("Got an UncheckedException from the google cache probably: "+e);
                            try {
                                Thread.sleep(500);
                            } catch (InterruptedException e2) {
                                e.printStackTrace();
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                        System.out.println("Got an UncheckedException (levels: "+level1Pointer+"/"+level2Pointer+") from the google cache probably: "+e);
                        try {
                            Thread.sleep(500);
                        } catch (InterruptedException e2) {
                            e.printStackTrace();
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java

        for (;;) {
            Thread.sleep(TimeUnit.SECONDS.toMillis(10));
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
            while (!isDone(createNodes) || (eventCount.get() / LISTENER_COUNT < nodeCount.get() * EVENTS_PER_NODE)) {
                long t0 = System.currentTimeMillis();
                Thread.sleep(OUTPUT_RESOLUTION);
                t += System.currentTimeMillis() - t0;

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
            long runtimeEnd = System.currentTimeMillis() + RUNTIME;
            while (System.currentTimeMillis() < runtimeEnd) {
                Thread.sleep(runtimeEnd - System.currentTimeMillis());
            }

```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/queue/SegmentWriteQueue.java`
#### Snippet
```java
                    log.error("Can't persist the segment {}", segmentToRetry.getUuid(), e.getCause());
                    try {
                        Thread.sleep(1000);
                    } catch (InterruptedException e1) {
                        log.warn("Interrupted", e);
```

## RuleId[id=RedundantFileCreation]
### RedundantFileCreation
`new File` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java
    public S3DataStoreFactory(String configuration, String directory, boolean ignoreMissingBlobs) throws IOException {
        this.props = new Properties();
        FileReader reader = new FileReader(new File(configuration));
        try {
            props.load(reader);
```

### RedundantFileCreation
`new File` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java
    public AzureDataStoreFactory(String configuration, String directory, boolean ignoreMissingBlobs) throws IOException {
        this.props = new Properties();
        FileReader reader = new FileReader(new File(configuration));
        try {
            props.load(reader);
```

## RuleId[id=PointlessBooleanExpression]
### PointlessBooleanExpression
`earlyShutdown == false` can be simplified to '!earlyShutdown'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java

    private boolean overrideEarlyShutdown() {
        if (earlyShutdown == false) {
            return false;
        }
```

### PointlessBooleanExpression
`NOAPPEND == false` can be simplified to '!NOAPPEND'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private static boolean isAppendableUpdate(UpdateOp update) {
        return NOAPPEND == false;
    }

```

## RuleId[id=UseBulkOperation]
### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/NamespacePrefixNodestoreChecker.java`
#### Snippet
```java
        public Context(String[] prefixes) {
            for (String prefix : prefixes ) {
                validPrefixes.add(prefix);
            }
        }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                        if (!suggestions.isEmpty()) {
                            for (SimpleOrderedMap<Object> suggestion : suggestions) {
                                retrievedSuggestions.add(suggestion);
                            }
                        }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
            if (!toBeInserted.isEmpty()) {
                for (String id : insert(connection, tmd, toBeInserted)) {
                    successfulUpdates.add(id);
                }
            }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
                Set<String> set1 = new HashSet<String>();
                for (String aVca1 : vca1) {
                    set1.add(aVca1);
                }
                String[] vca2 = getNewDef().getValueConstraints();
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
                Set<String> set2 = new HashSet<String>();
                for (String aVca2 : vca2) {
                    set2.add(aVca2);
                }

```

### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
    private static AuthInfo getAuthInfo(@NotNull TokenInfo tokenInfo, @NotNull Iterable<? extends Principal> principals) {
        Map<String, Object> attributes = new HashMap<>();
        tokenInfo.getPublicAttributes().forEach((key, value) -> attributes.put(key, value));
        return new AuthInfoImpl(tokenInfo.getUserId(), attributes, principals);
    }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java

        for (Map.Entry<String, String> e : simpleConfig.entrySet()) {
            current.put(e.getKey(), e.getValue());
        }
    }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
                    spec.add(merge);
                    for (SegmentCommitInfo info : merge.segments) {
                        toBeMerged.add(info);
                    }
                    if (verbose()) {
```

## RuleId[id=UnstableApiUsage]
### UnstableApiUsage
'AbstractListeningExecutorService()' is declared in unstable class 'com.google.common.util.concurrent.AbstractListeningExecutorService' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/SameThreadExecutorService.java`
#### Snippet
```java
 * TODO: Remove this class once the whole Oak is migrated to use Guava 26.
 */
class SameThreadExecutorService extends AbstractListeningExecutorService {
    /**
     * Lock used whenever accessing the state variables
```

### UnstableApiUsage
'com.google.common.util.concurrent.AbstractListeningExecutorService' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/SameThreadExecutorService.java`
#### Snippet
```java
 * TODO: Remove this class once the whole Oak is migrated to use Guava 26.
 */
class SameThreadExecutorService extends AbstractListeningExecutorService {
    /**
     * Lock used whenever accessing the state variables
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CachingBlobStore.java`
#### Snippet
```java
    protected final long blobCacheSize;

    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CachingBlobStore.java`
#### Snippet
```java
    protected final long blobCacheSize;

    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CachingBlobStore.java`
#### Snippet
```java
    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
            long weight = (long)StringUtils.estimateMemoryUsage(key) + value.length;
            if (weight > Integer.MAX_VALUE) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java

        Iterator<File> iterator =
            Files.fileTreeTraverser().postOrderTraversal(path)
                .filter(new Predicate<File>() {
                    @Override public boolean apply(File input) {
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java

        Iterator<File> iterator =
            Files.fileTreeTraverser().postOrderTraversal(path)
                .filter(new Predicate<File>() {
                    @Override public boolean apply(File input) {
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java

        Iterator<File> iterator =
            Files.fileTreeTraverser().postOrderTraversal(path)
                .filter(new Predicate<File>() {
                    @Override public boolean apply(File input) {
```

### UnstableApiUsage
'com.google.common.cache.AbstractCache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CompositeDataStoreCache.java`
#### Snippet
```java
/**
 */
public class CompositeDataStoreCache extends AbstractCache<String, File> implements Closeable {
    /**
     * Logger instance.
```

### UnstableApiUsage
Overridden method 'invalidate(java.lang.Object)' is declared in unstable class 'com.google.common.cache.AbstractCache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CompositeDataStoreCache.java`
#### Snippet
```java

    @Override
    public void invalidate(Object key) {
        stagingCache.invalidate((String) key);
        downloadCache.invalidate(key);
```

### UnstableApiUsage
Overridden method 'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/CompositeDataStoreCache.java`
#### Snippet
```java
    @Nullable
    @Override
    public File getIfPresent(Object key) {
        return getIfPresent((String) key);
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
    public DataRecord addRecord(InputStream inputStream, BlobOptions blobOptions)
        throws DataStoreException {
        Stopwatch watch = Stopwatch.createStarted();
        try {
            TransientFileFactory fileFactory = TransientFileFactory.getInstance();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
    public DataRecord addRecord(InputStream inputStream, BlobOptions blobOptions)
        throws DataStoreException {
        Stopwatch watch = Stopwatch.createStarted();
        try {
            TransientFileFactory fileFactory = TransientFileFactory.getInstance();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
    public DataRecord addRecord(InputStream inputStream, BlobOptions blobOptions)
        throws DataStoreException {
        Stopwatch watch = Stopwatch.createStarted();
        try {
            TransientFileFactory fileFactory = TransientFileFactory.getInstance();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
            DataIdentifier identifier = new DataIdentifier(encodeHexString(digest.digest()));
            LOG.debug("SHA-256 of [{}], length =[{}] took [{}] ms ", identifier, length,
                watch.elapsed(TimeUnit.MILLISECONDS));

            // asynchronously stage for upload if the size limit of staging cache permits
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
                        return new LazyFileInputStream(tmpFile);
                    } finally {
                        Closeables.close(in, false);
                    }
                } else {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
                        return new LazyFileInputStream(tmpFile);
                    } finally {
                        Closeables.close(in, false);
                    }
                } else {
```

### UnstableApiUsage
'buildView(java.lang.Class)' is unstable because its signature references unstable interface 'org.jclouds.View' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
                    ContextBuilder.newBuilder(cloudProvider)
                            .credentials(accessKey, secretKey)
                            .buildView(BlobStoreContext.class);
            context.getBlobStore().createContainerInLocation(null, cloudContainer);

```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
            Payload payload = cloudBlob.getPayload();
            try {
                data = ByteStreams.toByteArray(payload.getInput());
                cache.put(id, data);        
            } finally {
```

### UnstableApiUsage
'toByteArray(java.io.InputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
            Payload payload = cloudBlob.getPayload();
            try {
                data = ByteStreams.toByteArray(payload.getInput());
                cache.put(id, data);        
            } finally {
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
                IOUtils.copyLarge(input, os);
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
                IOUtils.copyLarge(input, os);
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
        } catch (IOException e) {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
        } catch (IOException e) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
        final String path = normalizeNoEndSeparator(new File(getPath()).getAbsolutePath());
        final OakFileDataStore store = this;
        return Files.fileTreeTraverser().postOrderTraversal(new File(path))
            .filter(new Predicate<File>() {
                @Override
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
        final String path = normalizeNoEndSeparator(new File(getPath()).getAbsolutePath());
        final OakFileDataStore store = this;
        return Files.fileTreeTraverser().postOrderTraversal(new File(path))
            .filter(new Predicate<File>() {
                @Override
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
        final String path = normalizeNoEndSeparator(new File(getPath()).getAbsolutePath());
        final OakFileDataStore store = this;
        return Files.fileTreeTraverser().postOrderTraversal(new File(path))
            .filter(new Predicate<File>() {
                @Override
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
     */
    public void setReferenceKeyEncoded(String encodedKey) {
        this.referenceKey = BaseEncoding.base64().decode(encodedKey);
    }

```

### UnstableApiUsage
'base64()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
     */
    public void setReferenceKeyEncoded(String encodedKey) {
        this.referenceKey = BaseEncoding.base64().decode(encodedKey);
    }

```

### UnstableApiUsage
'decode(java.lang.CharSequence)' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
     */
    public void setReferenceKeyEncoded(String encodedKey) {
        this.referenceKey = BaseEncoding.base64().decode(encodedKey);
    }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
    public Iterator<DataIdentifier> getAllIdentifiers() {
        final String path = normalizeNoEndSeparator(new File(getPath()).getAbsolutePath());
        return Files.fileTreeTraverser().postOrderTraversal(new File(path))
                .filter(new Predicate<File>() {
                    @Override
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
    public Iterator<DataIdentifier> getAllIdentifiers() {
        final String path = normalizeNoEndSeparator(new File(getPath()).getAbsolutePath());
        return Files.fileTreeTraverser().postOrderTraversal(new File(path))
                .filter(new Predicate<File>() {
                    @Override
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
    public Iterator<DataIdentifier> getAllIdentifiers() {
        final String path = normalizeNoEndSeparator(new File(getPath()).getAbsolutePath());
        return Files.fileTreeTraverser().postOrderTraversal(new File(path))
                .filter(new Predicate<File>() {
                    @Override
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java

        public String getIdFromName(String name) {
            return Splitter.on("_").limit(2).splitToList(
                Splitter.on(DELIM).limit(2).splitToList(name).get(1)).get(0);
        }
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
        public String getIdFromName(String name) {
            return Splitter.on("_").limit(2).splitToList(
                Splitter.on(DELIM).limit(2).splitToList(name).get(1)).get(0);
        }

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java

    //Rough estimate of the in-memory key, value pair
    private final Weigher<String, File> memWeigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            return (StringUtils.estimateMemoryUsage(key) +
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
        // Update stats for removal
        cacheStats.decrementSize(length);
        cacheStats.decrementMemSize(memWeigher.weigh(key, toBeDeleted));
        cacheStats.decrementCount();
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java

            // Add a callback to the returned Future object for handling success and error
            Futures.addCallback(future, new FutureCallback<Integer>() {
                @Override public void onSuccess(@Nullable Integer r) {
                    LOG.info("Successfully added [{}], [{}]", id, upload);
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java

            // Add a callback to the returned Future object for handling success and error
            Futures.addCallback(future, new FutureCallback<Integer>() {
                @Override public void onSuccess(@Nullable Integer r) {
                    LOG.info("Successfully added [{}], [{}]", id, upload);
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
    //Rough estimate of the in-memory key, value pair
    private final Weigher<String, File> memWeigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            return (StringUtils.estimateMemoryUsage(key) +
                StringUtils.estimateMemoryUsage(value.getAbsolutePath()) + 48);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
                        if (downloadCache != null) {
                            // Touch the file to update timestamp and record length
                            Files.touch(upload);
                            downloadCache.put(id, upload);

```

### UnstableApiUsage
'touch(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
                        if (downloadCache != null) {
                            // Touch the file to update timestamp and record length
                            Files.touch(upload);
                            downloadCache.put(id, upload);

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java

    //Rough estimate of the in-memory key, value pair
    private final Weigher<String, File> memWeigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            return (StringUtils.estimateMemoryUsage(key) +
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
                cacheStats.incrementCount();
                cacheStats.incrementSize(length);
                cacheStats.incrementMemSize(memWeigher.weigh(id, uploadFile));

                return Optional.of(stage(id, uploadFile));
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

    //Rough estimate of the in-memory key, value pair
    private static final Weigher<String, File> memWeigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            return (StringUtils.estimateMemoryUsage(key) +
```

### UnstableApiUsage
'AbstractCache()' is declared in unstable class 'com.google.common.cache.AbstractCache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        }};

    private FileCache(long maxSize /* bytes */, File root,
        final CacheLoader<String, InputStream> loader, @Nullable final ExecutorService executor) {

```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        }
        long size = 0;
        for (Map.Entry<?, ?> e : cache.asMap().entrySet()) {
            Object k = e.getKey();
            Object v = e.getValue();
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
            Object k = e.getKey();
            Object v = e.getValue();
            size += memWeigher.weigh(k, v);
        }
        return size;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     * Convert the size calculation to KB to support max file size of 2 TB
     */
    private static final Weigher<String, File> weigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            // convert to number of 4 KB blocks
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     * @param maxWeight the maximum weight
     */
    public FileCacheStats(Cache<?, ?> cache, Weigher<?, ?> weigher, Weigher<?, ?> memWeigher,
        long maxWeight) {
        super(cache, "DataStore-DownloadCache", weigher, maxWeight);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     * @param maxWeight the maximum weight
     */
    public FileCacheStats(Cache<?, ?> cache, Weigher<?, ?> weigher, Weigher<?, ?> memWeigher,
        long maxWeight) {
        super(cache, "DataStore-DownloadCache", weigher, maxWeight);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     * @param maxWeight the maximum weight
     */
    public FileCacheStats(Cache<?, ?> cache, Weigher<?, ?> weigher, Weigher<?, ?> memWeigher,
        long maxWeight) {
        super(cache, "DataStore-DownloadCache", weigher, maxWeight);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        long maxWeight) {
        super(cache, "DataStore-DownloadCache", weigher, maxWeight);
        this.memWeigher = (Weigher<Object, Object>) memWeigher;
        this.weigher = (Weigher<Object, Object>) weigher;
        this.cache = (Cache<Object, Object>) cache;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        super(cache, "DataStore-DownloadCache", weigher, maxWeight);
        this.memWeigher = (Weigher<Object, Object>) memWeigher;
        this.weigher = (Weigher<Object, Object>) weigher;
        this.cache = (Cache<Object, Object>) cache;
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        this.memWeigher = (Weigher<Object, Object>) memWeigher;
        this.weigher = (Weigher<Object, Object>) weigher;
        this.cache = (Cache<Object, Object>) cache;
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        @Override
        public Integer call() {
            Stopwatch watch = Stopwatch.createStarted();
            int count = build();
            LOG.info("Cache built with [{}] files from file system in [{}] seconds",
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        @Override
        public Integer call() {
            Stopwatch watch = Stopwatch.createStarted();
            int count = build();
            LOG.info("Cache built with [{}] files from file system in [{}] seconds",
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        @Override
        public Integer call() {
            Stopwatch watch = Stopwatch.createStarted();
            int count = build();
            LOG.info("Cache built with [{}] files from file system in [{}] seconds",
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
            int count = build();
            LOG.info("Cache built with [{}] files from file system in [{}] seconds",
                count, watch.elapsed(TimeUnit.SECONDS));
            return count;
        }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
    private static final long KB = 4 * 1024;
    private final Weigher<Object, Object> memWeigher;
    private final Weigher<Object, Object> weigher;
    private final Cache<Object, Object> cache;

```

### UnstableApiUsage
Overridden method 'put(K, V)' is declared in unstable class 'com.google.common.cache.AbstractCache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     */
    @Override
    public void put(String key, File file) {
        put(key, file, true);
    }
```

### UnstableApiUsage
Overridden method 'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     */
    @Override
    public void put(String key, File file) {
        put(key, file, true);
    }
```

### UnstableApiUsage
'AbstractCache()' is declared in unstable class 'com.google.common.cache.AbstractCache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
    }

    private FileCache() {
    }

```

### UnstableApiUsage
'com.google.common.cache.AbstractCache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
/**
 */
public class FileCache extends AbstractCache<String, File> implements Closeable {
    /**
     * Logger instance.
```

### UnstableApiUsage
Overridden method 'invalidate(java.lang.Object)' is declared in unstable class 'com.google.common.cache.AbstractCache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

    @Override
    public void invalidate(Object key) {
        cache.invalidate(key);
    }
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     */
    private static final Weigher<String, File> weigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            // convert to number of 4 KB blocks
            return Math.round(value.length() / (4 * 1024));
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
    //Rough estimate of the in-memory key, value pair
    private static final Weigher<String, File> memWeigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            return (StringUtils.estimateMemoryUsage(key) +
                StringUtils.estimateMemoryUsage(value.getAbsolutePath()) + 48);
```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        }
        long size = 0;
        for (Map.Entry<?, ?> e : cache.asMap().entrySet()) {
            Object k = e.getKey();
            Object v = e.getValue();
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
            Object k = e.getKey();
            Object v = e.getValue();
            size += weigher.weigh(k, v) * KB;
        }
        return size;
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                        throw e;
                    } finally {
                        Closeables.close(is, threw);
                    }
                    return cachedFile;
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                        throw e;
                    } finally {
                        Closeables.close(is, threw);
                    }
                    return cachedFile;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

    //Rough estimate of the in-memory key, value pair
    private static final Weigher<String, File> memWeigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            return (StringUtils.estimateMemoryUsage(key) +
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
     * Convert the size calculation to KB to support max file size of 2 TB
     */
    private static final Weigher<String, File> weigher = new Weigher<String, File>() {
        @Override public int weigh(String key, File value) {
            // convert to number of 4 KB blocks
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
    private final Weigher<Object, Object> memWeigher;
    private final Weigher<Object, Object> weigher;
    private final Cache<Object, Object> cache;

    /**
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
class FileCacheStats extends CacheStats implements DataStoreCacheStatsMBean {
    private static final long KB = 4 * 1024;
    private final Weigher<Object, Object> memWeigher;
    private final Weigher<Object, Object> weigher;
    private final Cache<Object, Object> cache;
```

### UnstableApiUsage
Overridden method 'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
    @Nullable
    @Override
    public File getIfPresent(Object key) {
        return getIfPresent((String) key);
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        return new FileCache() {

            private final Cache<?,?> cache = new CacheLIRS<>(0);

            @Override public void put(String key, File file) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

        // Iterate over all files in the cache folder
        Iterator<File> iter = Files.fileTreeTraverser().postOrderTraversal(cacheRoot)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

        // Iterate over all files in the cache folder
        Iterator<File> iter = Files.fileTreeTraverser().postOrderTraversal(cacheRoot)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

        // Iterate over all files in the cache folder
        Iterator<File> iter = Files.fileTreeTraverser().postOrderTraversal(cacheRoot)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                @Override
                public void evicted(@NotNull String key, @Nullable File cachedFile,
                    @NotNull RemovalCause cause) {
                    try {
                        if (cachedFile != null && cachedFile.exists()
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                    try {
                        if (cachedFile != null && cachedFile.exists()
                            && cause != RemovalCause.REPLACED) {
                            DataStoreCacheUtils.recursiveDelete(cachedFile, cacheRoot);
                            LOG.info("File [{}] evicted with reason [{}]", cachedFile, cause
```

### UnstableApiUsage
'REPLACED' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                    try {
                        if (cachedFile != null && cachedFile.exists()
                            && cause != RemovalCause.REPLACED) {
                            DataStoreCacheUtils.recursiveDelete(cachedFile, cacheRoot);
                            LOG.info("File [{}] evicted with reason [{}]", cachedFile, cause
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    @Override
    public Iterator<DataIdentifier> getAllIdentifiers() throws DataStoreException {
        return Files.fileTreeTraverser().postOrderTraversal(fsPathDir)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    @Override
    public Iterator<DataIdentifier> getAllIdentifiers() throws DataStoreException {
        return Files.fileTreeTraverser().postOrderTraversal(fsPathDir)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    @Override
    public Iterator<DataIdentifier> getAllIdentifiers() throws DataStoreException {
        return Files.fileTreeTraverser().postOrderTraversal(fsPathDir)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    public Iterator<DataRecord> getAllRecords() {
        final AbstractSharedBackend backend = this;
        return Files.fileTreeTraverser().postOrderTraversal(fsPathDir)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    public Iterator<DataRecord> getAllRecords() {
        final AbstractSharedBackend backend = this;
        return Files.fileTreeTraverser().postOrderTraversal(fsPathDir)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    public Iterator<DataRecord> getAllRecords() {
        final AbstractSharedBackend backend = this;
        return Files.fileTreeTraverser().postOrderTraversal(fsPathDir)
            .filter(new Predicate<File>() {
                @Override public boolean apply(File input) {
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
                IOUtils.copyLarge(input, os);
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
                IOUtils.copyLarge(input, os);
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
        } catch (IOException e) {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
            } finally {
                Closeables.close(os, true);
                Closeables.close(input, true);
            }
        } catch (IOException e) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticOutOfBandIndexer.java`
#### Snippet
```java
            connection = buildStep.build();
        }
        closer.register(connection);
        ElasticIndexTracker indexTracker = new ElasticIndexTracker(connection,
                new ElasticMetricHandler(StatisticsProvider.NOOP));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticDocumentStoreIndexer.java`
#### Snippet
```java
        );

        providers.forEach(closer::register);
        return providers;
    }
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticDocumentStoreIndexer.java`
#### Snippet
```java
            coordinate = buildStep.build();
        }
        closer.register(coordinate);
        return new ElasticIndexerProvider(indexHelper, coordinate);
    }
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            // Retrieve the process file if it exists
            processFile =
                fileTreeTraverser().breadthFirstTraversal(rootDir).firstMatch(IN_PROCESS.filter())
                    .orNull();

```

### UnstableApiUsage
'breadthFirstTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            // Retrieve the process file if it exists
            processFile =
                fileTreeTraverser().breadthFirstTraversal(rootDir).firstMatch(IN_PROCESS.filter())
                    .orNull();

```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            // Get the List of all generations available.
            generations = synchronizedList(newArrayList(
                fileTreeTraverser().breadthFirstTraversal(rootDir).filter(GENERATION.filter())));

            // Close/rename any existing in process
```

### UnstableApiUsage
'breadthFirstTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            // Get the List of all generations available.
            generations = synchronizedList(newArrayList(
                fileTreeTraverser().breadthFirstTraversal(rootDir).filter(GENERATION.filter())));

            // Close/rename any existing in process
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
    private void globalMerge() throws IOException {
        try {
            Stopwatch watch = Stopwatch.createStarted();
            LOG.trace("Retrieving all blob id files available form the DataStore");
            // Download all the blob reference records from the data store
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
    private void globalMerge() throws IOException {
        try {
            Stopwatch watch = Stopwatch.createStarted();
            LOG.trace("Retrieving all blob id files available form the DataStore");
            // Download all the blob reference records from the data store
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
    private void globalMerge() throws IOException {
        try {
            Stopwatch watch = Stopwatch.createStarted();
            LOG.trace("Retrieving all blob id files available form the DataStore");
            // Download all the blob reference records from the data store
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                }
            }));
            LOG.info("Retrieved all blob id files in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));

            // Merge all the downloaded files in to the local store
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

            // Merge all the downloaded files in to the local store
            watch = Stopwatch.createStarted();
            store.merge(refFiles, true);
            LOG.info("Merged all retrieved blob id files in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

            // Merge all the downloaded files in to the local store
            watch = Stopwatch.createStarted();
            store.merge(refFiles, true);
            LOG.info("Merged all retrieved blob id files in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            watch = Stopwatch.createStarted();
            store.merge(refFiles, true);
            LOG.info("Merged all retrieved blob id files in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));

            // Remove all the data store records as they have been merged
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

            // Remove all the data store records as they have been merged
            watch = Stopwatch.createStarted();
            for (DataRecord rec : refRecords) {
                datastore.deleteMetadataRecord(rec.getIdentifier().toString());
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

            // Remove all the data store records as they have been merged
            watch = Stopwatch.createStarted();
            for (DataRecord rec : refRecords) {
                datastore.deleteMetadataRecord(rec.getIdentifier().toString());
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                LOG.debug("Deleted metadata record {}", rec.getIdentifier().toString());
            }
            LOG.info("Deleted all blob id metadata files in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));
        } catch (IOException e) {
            LOG.error("Error in merging blob records iterator from the data store", e);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                    try {
                        if (renamed.createNewFile()) {
                            Files.copy(processFile, renamed);
                            generations.add(renamed);
                            LOG.info("{} File copied to {}", processFile.getAbsolutePath(),
```

### UnstableApiUsage
'copy(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                    try {
                        if (renamed.createNewFile()) {
                            Files.copy(processFile, renamed);
                            generations.add(renamed);
                            LOG.info("{} File copied to {}", processFile.getAbsolutePath(),
```

### UnstableApiUsage
'move(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                }

                move(removed, delFile);
                LOG.trace("removed active delete records");
            } finally {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
    private void snapshot(boolean skipStoreSnapshot) throws IOException {
        try {
            Stopwatch watch = Stopwatch.createStarted();

            if (!skipStoreSnapshot) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
    private void snapshot(boolean skipStoreSnapshot) throws IOException {
        try {
            Stopwatch watch = Stopwatch.createStarted();

            if (!skipStoreSnapshot) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
    private void snapshot(boolean skipStoreSnapshot) throws IOException {
        try {
            Stopwatch watch = Stopwatch.createStarted();

            if (!skipStoreSnapshot) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            if (!skipStoreSnapshot) {
                store.snapshot();
                LOG.debug("Completed snapshot in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));
            }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            }

            watch = Stopwatch.createStarted();
            File recs = store.getBlobRecordsFile();
            datastore.addMetadataRecord(recs, (prefix + instanceId + System.currentTimeMillis() + mergedFileSuffix));
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            }

            watch = Stopwatch.createStarted();
            File recs = store.getBlobRecordsFile();
            datastore.addMetadataRecord(recs, (prefix + instanceId + System.currentTimeMillis() + mergedFileSuffix));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
            File recs = store.getBlobRecordsFile();
            datastore.addMetadataRecord(recs, (prefix + instanceId + System.currentTimeMillis() + mergedFileSuffix));
            LOG.info("Added blob id metadata record in DataStore in [{}]", watch.elapsed(TimeUnit.MILLISECONDS));

            try {
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

            processFile = new File(rootDir, prefix + IN_PROCESS.getFileNameSuffix());
            writer = newWriter(processFile, UTF_8);
            LOG.info("Created new process file and writer over {} ", processFile.getAbsolutePath());
        }
```

### UnstableApiUsage
'move(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

                File blobRecs = getBlobRecordsFile();
                move(temp, blobRecs);
                LOG.trace("removed records");
            } finally {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
    private final String apiKeyId;
    private final String apiSecretId;
    protected final Closer closer = Closer.create();

    public ElasticIndexImporterSupport(IndexHelper indexHelper ,String indexPrefix, String scheme,
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
    private final String apiKeyId;
    private final String apiSecretId;
    protected final Closer closer = Closer.create();

    public ElasticIndexImporterSupport(IndexHelper indexHelper ,String indexPrefix, String scheme,
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
    private final String apiKeyId;
    private final String apiSecretId;
    protected final Closer closer = Closer.create();

    public ElasticIndexImporterSupport(IndexHelper indexHelper ,String indexPrefix, String scheme,
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }
}
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexImporterSupport.java`
#### Snippet
```java
            connection = buildStep.build();
        }
        closer.register(connection);
        ElasticIndexTracker indexTracker = new ElasticIndexTracker(connection,
                new ElasticMetricHandler(StatisticsProvider.NOOP));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerElastic.java`
#### Snippet
```java
            connection = buildStep.build();
        }
        closer.register(connection);

        ElasticIndexTracker indexTracker = new ElasticIndexTracker(connection, new ElasticMetricHandler(StatisticsProvider.NOOP));
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerElastic.java`
#### Snippet
```java

    private final ElasticIndexOptions indexOpts;
    public AsyncIndexerElastic(IndexHelper indexHelper, Closer closer, List<String> names,
                               long delay, ElasticIndexOptions indexOpts) {
        super(indexHelper, closer, names, delay);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/indexversion/ElasticPurgeOldIndexVersion.java`
#### Snippet
```java
        }

        closer.register(coordinate);

        String remoteIndexName = ElasticIndexNameHelper.getRemoteIndexName(indexPrefix, idxPath, SEED_VALUE);
```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public static final Logger LOG = LoggerFactory.getLogger(MarkSweepGarbageCollector.class);

    public static final String TEMP_DIR = StandardSystemProperty.JAVA_IO_TMPDIR.value();

    public static final int DEFAULT_BATCH_COUNT = 1024;
```

### UnstableApiUsage
'JAVA_IO_TMPDIR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public static final Logger LOG = LoggerFactory.getLogger(MarkSweepGarbageCollector.class);

    public static final String TEMP_DIR = StandardSystemProperty.JAVA_IO_TMPDIR.value();

    public static final int DEFAULT_BATCH_COUNT = 1024;
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public static final Logger LOG = LoggerFactory.getLogger(MarkSweepGarbageCollector.class);

    public static final String TEMP_DIR = StandardSystemProperty.JAVA_IO_TMPDIR.value();

    public static final int DEFAULT_BATCH_COUNT = 1024;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            GarbageCollectionOperationStats stats) throws IOException {
            stats.getCollector().start();
            Stopwatch sw = Stopwatch.createStarted();

            try {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            GarbageCollectionOperationStats stats) throws IOException {
            stats.getCollector().start();
            Stopwatch sw = Stopwatch.createStarted();

            try {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            GarbageCollectionOperationStats stats) throws IOException {
            stats.getCollector().start();
            Stopwatch sw = Stopwatch.createStarted();

            try {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                getBlobReferencesSize(fs, stats);
            } finally {
                sw.stop();
                stats.getCollector().updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
            }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            } finally {
                sw.stop();
                stats.getCollector().updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
            }
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        boolean threw = true;
        GarbageCollectorFileState fs = new GarbageCollectorFileState(root);
        Stopwatch sw = Stopwatch.createStarted();

        try {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        boolean threw = true;
        GarbageCollectorFileState fs = new GarbageCollectorFileState(root);
        Stopwatch sw = Stopwatch.createStarted();

        try {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        boolean threw = true;
        GarbageCollectorFileState fs = new GarbageCollectorFileState(root);
        Stopwatch sw = Stopwatch.createStarted();

        try {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                mark(fs);
            } finally {
                markFinish = sw.elapsed(TimeUnit.MILLISECONDS);
                statsCollector.updateMarkDuration(markFinish, TimeUnit.MILLISECONDS);
                LOG.info("Blob garbage collection Mark completed in {} ({} ms).",
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                statsCollector.updateMarkDuration(markFinish, TimeUnit.MILLISECONDS);
                LOG.info("Blob garbage collection Mark completed in {} ({} ms).",
                    sw.toString(), sw.elapsed(TimeUnit.MILLISECONDS));
            }

```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                statsCollector.updateMarkDuration(markFinish, TimeUnit.MILLISECONDS);
                LOG.info("Blob garbage collection Mark completed in {} ({} ms).",
                    sw.toString(), sw.elapsed(TimeUnit.MILLISECONDS));
            }

```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    long maxTime = getMaxModifiedTime(markStart) > 0 ? getMaxModifiedTime(markStart) : markStart;
                    LOG.info("Blob garbage collection completed in {} ({} ms). Number of blobs deleted [{}] with max modification time of [{}]",
                        sw.toString(), sw.elapsed(TimeUnit.MILLISECONDS), deleteCount, timestampToString(maxTime));

                    threw = false;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    long maxTime = getMaxModifiedTime(markStart) > 0 ? getMaxModifiedTime(markStart) : markStart;
                    LOG.info("Blob garbage collection completed in {} ({} ms). Number of blobs deleted [{}] with max modification time of [{}]",
                        sw.toString(), sw.elapsed(TimeUnit.MILLISECONDS), deleteCount, timestampToString(maxTime));

                    threw = false;
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    statsCollector.finishFailure();
                } finally {
                    sw.stop();
                    statsCollector.updateSweepDuration(sw.elapsed(TimeUnit.MILLISECONDS) - markFinish, TimeUnit.MILLISECONDS);
                }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                } finally {
                    sw.stop();
                    statsCollector.updateSweepDuration(sw.elapsed(TimeUnit.MILLISECONDS) - markFinish, TimeUnit.MILLISECONDS);
                }
            }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            throw e;
        } finally {
            statsCollector.updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
            if (!LOG.isTraceEnabled() && !traceOutput) {
                Closeables.close(fs, threw);
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            statsCollector.updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
            if (!LOG.isTraceEnabled() && !traceOutput) {
                Closeables.close(fs, threw);
            }
        }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            statsCollector.updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
            if (!LOG.isTraceEnabled() && !traceOutput) {
                Closeables.close(fs, threw);
            }
        }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                if (idsIter instanceof Closeable) {
                    try {
                        Closeables.close((Closeable) idsIter, false);
                    } catch (Exception e) {
                        LOG.debug("Error closing iterator");
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                if (idsIter instanceof Closeable) {
                    try {
                        Closeables.close((Closeable) idsIter, false);
                    } catch (Exception e) {
                        LOG.debug("Error closing iterator");
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public long checkConsistency() throws Exception {
        consistencyStatsCollector.start();
        Stopwatch sw = Stopwatch.createStarted();

        boolean threw = true;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public long checkConsistency() throws Exception {
        consistencyStatsCollector.start();
        Stopwatch sw = Stopwatch.createStarted();

        boolean threw = true;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public long checkConsistency() throws Exception {
        consistencyStatsCollector.start();
        Stopwatch sw = Stopwatch.createStarted();

        boolean threw = true;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            String uniqueSuffix = UUID.randomUUID().toString();
            GarbageCollectionType.get(blobStore).addMarked(blobStore, fs, repoId, uniqueSuffix);
            consistencyStatsCollector.updateMarkDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);

            try {
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        } finally {
            if (!traceOutput && (!LOG.isTraceEnabled() && candidates == 0)) {
                Closeables.close(fs, threw);
            }
            sw.stop();
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        } finally {
            if (!traceOutput && (!LOG.isTraceEnabled() && candidates == 0)) {
                Closeables.close(fs, threw);
            }
            sw.stop();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                Closeables.close(fs, threw);
            }
            sw.stop();
            consistencyStatsCollector.updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
        }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            }
            sw.stop();
            consistencyStatsCollector.updateDuration(sw.elapsed(TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS);
        }
        return candidates;
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                            stat.setNumLines(reader.getLineNumber());
                        } finally {
                            Closeables.close(reader, true);
                        }
                    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                            stat.setNumLines(reader.getLineNumber());
                        } finally {
                            Closeables.close(reader, true);
                        }
                    }
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        int numDeletedSizeAvailable = 0;
        try {
            removesWriter = Files.newWriter(fs.getGarbage(), Charsets.UTF_8);
            ArrayDeque<String> removesQueue = new ArrayDeque<String>();
            iterator =
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
        int numDeletedSizeAvailable = 0;
        try {
            removesWriter = Files.newWriter(fs.getGarbage(), Charsets.UTF_8);
            ArrayDeque<String> removesQueue = new ArrayDeque<String>();
            iterator =
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
     */
    protected void iterateNodeTree(GarbageCollectorFileState fs, final boolean logPath) throws IOException {
        final BufferedWriter writer = Files.newWriter(fs.getMarkedRefs(), Charsets.UTF_8);
        final AtomicInteger count = new AtomicInteger();
        try {
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
     */
    protected void iterateNodeTree(GarbageCollectorFileState fs, final boolean logPath) throws IOException {
        final BufferedWriter writer = Files.newWriter(fs.getMarkedRefs(), Charsets.UTF_8);
        final AtomicInteger count = new AtomicInteger();
        try {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        Preconditions.checkNotNull(checkpoint, "Checkpoint value is required for reindexing done in read only mode");

        Stopwatch w = Stopwatch.createStarted();
        IndexerSupport indexerSupport = createIndexerSupport(indexHelper, checkpoint);
        log.info("Proceeding to index {} upto checkpoint {} {}", indexHelper.getIndexPaths(), checkpoint,
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        Preconditions.checkNotNull(checkpoint, "Checkpoint value is required for reindexing done in read only mode");

        Stopwatch w = Stopwatch.createStarted();
        IndexerSupport indexerSupport = createIndexerSupport(indexHelper, checkpoint);
        log.info("Proceeding to index {} upto checkpoint {} {}", indexHelper.getIndexPaths(), checkpoint,
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        Preconditions.checkNotNull(checkpoint, "Checkpoint value is required for reindexing done in read only mode");

        Stopwatch w = Stopwatch.createStarted();
        IndexerSupport indexerSupport = createIndexerSupport(indexHelper, checkpoint);
        log.info("Proceeding to index {} upto checkpoint {} {}", indexHelper.getIndexPaths(), checkpoint,
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        File destDir = indexerSupport.copyIndexFilesToOutput();
        log.info("Indexing completed for indexes {} in {} ({} ms) and index metadata files are copied to {}",
                indexHelper.getIndexPaths(), w, w.elapsed(TimeUnit.MILLISECONDS), ElasticIndexCommand.getPath(destDir));
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java

    private IndexHelper createIndexHelper(NodeStoreFixture fixture,
                                          ElasticIndexOptions indexOpts, Closer closer) throws IOException {
        IndexHelper indexHelper = new IndexHelper(fixture.getStore(), fixture.getBlobStore(), fixture.getWhiteboard(),
                indexOpts.getOutDir(), indexOpts.getWorkDir(), computeIndexPaths(indexOpts));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        //configurePreExtractionSupport(indexOpts, indexHelper);

        closer.register(indexHelper);
        return indexHelper;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        try {
            if (indexOpts.isAsyncIndex()) {
                Closer closer = Closer.create();
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                IndexHelper indexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        try {
            if (indexOpts.isAsyncIndex()) {
                Closer closer = Closer.create();
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                IndexHelper indexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
        try {
            if (indexOpts.isAsyncIndex()) {
                Closer closer = Closer.create();
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                IndexHelper indexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                AsyncIndexerElastic asyncIndexerService = new AsyncIndexerElastic(indexHelper, closer,
                        indexOpts.getAsyncLanes(), indexOpts.aysncDelay(), indexOpts);
                closer.register(asyncIndexerService);
                closer.register(fixture);
                asyncIndexerService.execute();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                        indexOpts.getAsyncLanes(), indexOpts.aysncDelay(), indexOpts);
                closer.register(asyncIndexerService);
                closer.register(fixture);
                asyncIndexerService.execute();
            } else {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                asyncIndexerService.execute();
            } else {
                try (Closer closer = Closer.create()) {
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                    closer.register(fixture);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                asyncIndexerService.execute();
            } else {
                try (Closer closer = Closer.create()) {
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                    closer.register(fixture);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                asyncIndexerService.execute();
            } else {
                try (Closer closer = Closer.create()) {
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                    closer.register(fixture);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                try (Closer closer = Closer.create()) {
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                    closer.register(fixture);
                    execute(fixture, indexOpts, closer);
                }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
    }

    private void execute(NodeStoreFixture fixture, ElasticIndexOptions indexOpts, Closer closer)
            throws IOException, CommitFailedException {
        IndexHelper indexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
        }
        delegate.close();
        cache.invalidateAll();
        closeQuietly(tracker);
    }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    private int maxCachedBinarySize = 1024 * 1024;

    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
        boolean threw = true;
        try {
            ByteStreams.skipFully(stream, pos);
            int readCount = stream.read(buff, off, length);
            threw = false;
```

### UnstableApiUsage
'skipFully(java.io.InputStream, long)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
        boolean threw = true;
        try {
            ByteStreams.skipFully(stream, pos);
            int readCount = stream.read(buff, off, length);
            threw = false;
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            return readCount;
        } finally {
            Closeables.close(stream, threw);
        }
    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            return readCount;
        } finally {
            Closeables.close(stream, threw);
        }
    }
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    private final boolean encodeLengthInId;

    protected final LoadingCache<String, byte[]> cache;

    public static final int DEFAULT_CACHE_SIZE = 16;
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
                && blobId.length <= maxCachedBinarySize) {
            try {
                byte[] content = cache.get(blobId.blobId, new Callable<byte[]>() {
                    @Override
                    public byte[] call() throws Exception {
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
            long weight = (long)StringUtils.estimateMemoryUsage(key) + value.length;
            if (weight > Integer.MAX_VALUE) {
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            //DataStore does not closes the stream internally
            //So close the stream explicitly
            Closeables.close(stream, threw);
        }
    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            //DataStore does not closes the stream internally
            //So close the stream explicitly
            Closeables.close(stream, threw);
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
                            return result;
                        } finally {
                            Closeables.close(stream, threw);
                        }
                    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
                            return result;
                        } finally {
                            Closeables.close(stream, threw);
                        }
                    }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    private int maxCachedBinarySize = 1024 * 1024;

    private final Weigher<String, byte[]> weigher = new Weigher<String, byte[]>() {
        @Override
        public int weigh(@NotNull String key, @NotNull byte[] value) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
                          Class<T> iface, T bean, String type, String name) {
        Registration reg = WhiteboardUtils.registerMBean(whiteboard, iface, bean, type, name);
        mbeanRegistrations.register(reg::unregister);
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
        Whiteboard whiteboard = new OsgiWhiteboard(context.getBundleContext());

        mbeanRegistrations = Closer.create();
        registerMBean(whiteboard,
                CheckpointMBean.class,
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
        Whiteboard whiteboard = new OsgiWhiteboard(context.getBundleContext());

        mbeanRegistrations = Closer.create();
        registerMBean(whiteboard,
                CheckpointMBean.class,
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
    private ServiceRegistration nsReg;

    private Closer mbeanRegistrations;

    private ObserverTracker observerTracker;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
        }
        if (mbeanRegistrations != null) {
            mbeanRegistrations.close();
            mbeanRegistrations = null;
        }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    private boolean enableSecondaryLocation = AzureConstants.AZURE_BLOB_ENABLE_SECONDARY_LOCATION_DEFAULT;

    private Cache<String, URI> httpDownloadURICache;

    private byte[] secret;
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                    .maximumSize(maxSize)
                    .expireAfterWrite(httpDownloadURIExpirySeconds / 2, TimeUnit.SECONDS)
                    .build();
        } else {
            LOG.info("presigned GET URI cache disabled");
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                    + nullToEmpty(downloadOptions.getContentDispositionHeader());
            if (null != httpDownloadURICache) {
                uri = httpDownloadURICache.getIfPresent(cacheKey);
            }
            if (null == uri) {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
                        domain);
                if (uri != null && httpDownloadURICache != null) {
                    httpDownloadURICache.put(cacheKey, uri);
                }
            }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor.Guard' is marked unstable with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
    }

    private static class RunningGuard extends Guard {
        private boolean stopped;

```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
    }

    private final Monitor runningMonitor = new Monitor();
    private final RunningGuard running = new RunningGuard(runningMonitor);

```

### UnstableApiUsage
'Monitor()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
    }

    private final Monitor runningMonitor = new Monitor();
    private final RunningGuard running = new RunningGuard(runningMonitor);

```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
    }

    private final Monitor runningMonitor = new Monitor();
    private final RunningGuard running = new RunningGuard(runningMonitor);

```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        private boolean stopped;

        public RunningGuard(Monitor monitor) {
            super(monitor);
        }
```

### UnstableApiUsage
'Guard(com.google.common.util.concurrent.Monitor)' is declared in unstable class 'com.google.common.util.concurrent.Monitor.Guard' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java

        public RunningGuard(Monitor monitor) {
            super(monitor);
        }

```

### UnstableApiUsage
'enterIf(com.google.common.util.concurrent.Monitor.Guard)' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
                boolean hasEvents = events.hasNext();
                tracker.recordProducerTime(System.nanoTime() - time, TimeUnit.NANOSECONDS);
                if (hasEvents && runningMonitor.enterIf(running)) {
                    if (commitRateLimiter != null) {
                        commitRateLimiter.beforeNonBlocking();
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
                            commitRateLimiter.afterNonBlocking();
                        }
                        runningMonitor.leave();
                    }
                }
```

### UnstableApiUsage
'enter(long, java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        checkState(registration != null, "Change processor not started");
        if (running.stop()) {
            if (runningMonitor.enter(timeOut, unit)) {
                registration.unregister();
                runningMonitor.leave();
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
            if (runningMonitor.enter(timeOut, unit)) {
                registration.unregister();
                runningMonitor.leave();
                return true;
            } else {
```

### UnstableApiUsage
Overridden method 'isSatisfied()' is declared in unstable class 'com.google.common.util.concurrent.Monitor.Guard' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java

        @Override
        public boolean isSatisfied() {
            return !stopped;
        }
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
        if (running.stop()) {
            registration.unregister();
            runningMonitor.leave();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    protected final Closer closer;

    public MigrationFactory(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores, Closer closer) {
        this.options = options;
        this.stores = stores;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    protected final DatastoreArguments datastores;

    protected final Closer closer;

    public MigrationFactory(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores, Closer closer) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/MigrationFactory.java`
#### Snippet
```java
    }

    protected NodeStore createTarget(Closer closer, BlobStore srcBlobStore) throws IOException {
        BlobStore dstBlobStore = datastores.getDstBlobStore(srcBlobStore).create(closer);
        NodeStore dstStore = stores.getDstStore().create(dstBlobStore, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/ConstantBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) throws IOException {
        return blobStore;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java

    public static void migrate(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores) throws IOException, CliArgumentException {
        Closer closer = Closer.create();
        CliUtils.handleSigInt(closer);
        MigrationFactory factory = new MigrationFactory(options, stores, datastores, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java

    public static void migrate(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores) throws IOException, CliArgumentException {
        Closer closer = Closer.create();
        CliUtils.handleSigInt(closer);
        MigrationFactory factory = new MigrationFactory(options, stores, datastores, closer);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java

    public static void migrate(MigrationOptions options, StoreArguments stores, DatastoreArguments datastores) throws IOException, CliArgumentException {
        Closer closer = Closer.create();
        CliUtils.handleSigInt(closer);
        MigrationFactory factory = new MigrationFactory(options, stores, datastores, closer);
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java
            }
        } catch (Throwable t) {
            throw closer.rethrow(t);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java
            throw closer.rethrow(t);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java
    }

    public static void handleSigInt(final Closer closer) {
        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java
            public void run() {
                try {
                    closer.close();
                } catch (IOException e) {
                    log.error("Can't close", e);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/BlobStoreFactory.java`
#### Snippet
```java

public interface BlobStoreFactory {
    BlobStore create(Closer closer) throws IOException;
}

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/FileBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        return new FileBlobStore(directory);
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) throws IOException {
        S3DataStore delegate = createDS(directory, props);
        // Initialize a default stats provider
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java
            throw new IOException(e);
        }
        closer.register(asCloseable(delegate));
        closer.register(new Closeable() {
            @Override
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java
        }
        closer.register(asCloseable(delegate));
        closer.register(new Closeable() {
            @Override
            public void close() throws IOException {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java

        this.directory = directory;
        this.tempHomeDir = Files.createTempDir();
        this.ignoreMissingBlobs = ignoreMissingBlobs;
    }
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java

        this.directory = directory;
        this.tempHomeDir = Files.createTempDir();
        this.ignoreMissingBlobs = ignoreMissingBlobs;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/DummyBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        return null;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/LoopbackBlobStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        checkNotNull(closer, "Closer object cannot be null");
        return new LoopbackBlobStore();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/FileDataStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) {
        OakFileDataStore delegate = new OakFileDataStore();
        delegate.setPath(directory);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/FileDataStoreFactory.java`
#### Snippet
```java
        delegate.setPath(directory);
        delegate.init(null);
        closer.register(asCloseable(delegate));

        if (ignoreMissingBlobs) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/StoreFactory.java`
#### Snippet
```java
    }

    public RepositoryContext create(Closer closer) throws IOException, RepositoryException {
        if (jcr2Factory == null) {
            throw new UnsupportedOperationException();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/StoreFactory.java`
#### Snippet
```java
    }

    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        if (nodeStoreFactory == null) {
            throw new UnsupportedOperationException();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        System.setProperty(DocumentNodeStore.SYS_PROP_DISABLE_JOURNAL, "true");
        RDBDocumentNodeStoreBuilder builder = baseConfiguration(newRDBDocumentNodeStoreBuilder(), cacheSize);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
        documentNodeStore.getBundlingConfigHandler().unregisterObserver();

        closer.register(documentNodeStore::dispose);
        return documentNodeStore;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        Closer closer = Closer.create();
        try {
            DataSource ds = getDataSource(closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        Closer closer = Closer.create();
        try {
            DataSource ds = getDataSource(closer);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        Closer closer = Closer.create();
        try {
            DataSource ds = getDataSource(closer);
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
            return !blobStore.getAllChunkIds(0).hasNext();
        } catch(Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
    }

    private DataSource getDataSource(Closer closer) {
        DataSource ds = RDBDataSourceFactory.forJdbcUrl(jdbcUri, user, password);
        if (ds instanceof Closeable) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
        DataSource ds = RDBDataSourceFactory.forJdbcUrl(jdbcUri, user, password);
        if (ds instanceof Closeable) {
            closer.register((Closeable)ds);
        }
        return ds;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java

    @Override
    public BlobStore create(Closer closer) throws IOException {
        AzureDataStore delegate = createDS(directory, props);
        // Initialize a default stats provider
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java
            throw new IOException(e);
        }
        closer.register(asCloseable(delegate));
        closer.register(new Closeable() {
            @Override
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java
        }
        closer.register(asCloseable(delegate));
        closer.register(new Closeable() {
            @Override
            public void close() throws IOException {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java

        this.directory = directory;
        this.tempHomeDir = Files.createTempDir();
        this.ignoreMissingBlobs = ignoreMissingBlobs;
    }
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java

        this.directory = directory;
        this.tempHomeDir = Files.createTempDir();
        this.ignoreMissingBlobs = ignoreMissingBlobs;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/Jackrabbit2Factory.java`
#### Snippet
```java
    }

    public RepositoryContext create(Closer closer) throws RepositoryException {
        RepositoryContext source = RepositoryContext.create(RepositoryConfig.create(repositoryFile, repositoryDir));
        closer.register(asCloseable(source));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/Jackrabbit2Factory.java`
#### Snippet
```java
    public RepositoryContext create(Closer closer) throws RepositoryException {
        RepositoryContext source = RepositoryContext.create(RepositoryConfig.create(repositoryFile, repositoryDir));
        closer.register(asCloseable(source));
        return source;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    }

    private MongoClient createClient(Closer closer) {
        MongoClient client = new MongoClient(uri);
        closer.register(client::close);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    private MongoClient createClient(Closer closer) {
        MongoClient client = new MongoClient(uri);
        closer.register(client::close);
        return client;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        System.setProperty(DocumentNodeStore.SYS_PROP_DISABLE_JOURNAL, "true");
        MongoDocumentNodeStoreBuilder builder = baseConfiguration(newMongoDocumentNodeStoreBuilder(), cacheSize);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
        documentNodeStore.getBundlingConfigHandler().unregisterObserver();

        closer.register(documentNodeStore::dispose);
        return documentNodeStore;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        Closer closer = Closer.create();
        try {
            MongoBlobStore mongoBlobStore = new MongoBlobStore(createClient(closer).getDatabase(getDBName()));
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        Closer closer = Closer.create();
        try {
            MongoBlobStore mongoBlobStore = new MongoBlobStore(createClient(closer).getDatabase(getDBName()));
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    @Override
    public boolean hasExternalBlobReferences() throws IOException {
        Closer closer = Closer.create();
        try {
            MongoBlobStore mongoBlobStore = new MongoBlobStore(createClient(closer).getDatabase(getDBName()));
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
            return !mongoBlobStore.getAllChunkIds(0).hasNext();
        } catch(Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentTarFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        final FileStoreBuilder builder = fileStoreBuilder(new File(dir, "segmentstore"));
        if (blobStore != null) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentTarFactory.java`
#### Snippet
```java
                builder.withSegmentCacheSize(segmentCacheSize > 0 ? segmentCacheSize : DEFAULT_SEGMENT_CACHE_MB);
                fs = builder.buildReadOnly();
                closer.register(asCloseable(fs));
                return SegmentNodeStoreBuilders.builder(fs).build();
            } else {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentTarFactory.java`
#### Snippet
```java
                final FileStore fs;
                fs = builder.build();
                closer.register(asCloseable(fs));
                return new NodeStoreWithFileStore(SegmentNodeStoreBuilders.builder(fs).build(), fs);
            }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/NodeStoreFactory.java`
#### Snippet
```java
public interface NodeStoreFactory {

    NodeStore create(BlobStore blobStore, Closer closer) throws IOException;

    boolean hasExternalBlobReferences() throws IOException;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
        }

        File tmpDir = Files.createTempDir();
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
                .withCustomPersistence(azPersistence).withMemoryMapping(false);
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
        }

        File tmpDir = Files.createTempDir();
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
                .withCustomPersistence(azPersistence).withMemoryMapping(false);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        AzurePersistence azPersistence = null;
        try {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
        }

        File tmpDir = Files.createTempDir();
        closer.register(() -> tmpDir.delete());
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
        }

        File tmpDir = Files.createTempDir();
        closer.register(() -> tmpDir.delete());
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java

        File tmpDir = Files.createTempDir();
        closer.register(() -> tmpDir.delete());
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
                .withCustomPersistence(azPersistence).withMemoryMapping(false);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
                builder.withSegmentCacheSize(segmentCacheSize > 0 ? segmentCacheSize : DEFAULT_SEGMENT_CACHE_MB);
                fs = builder.buildReadOnly();
                closer.register(asCloseable(fs));
                return SegmentNodeStoreBuilders.builder(fs).build();
            } else {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java
                final FileStore fs;
                fs = builder.build();
                closer.register(asCloseable(fs));
                return new NodeStoreWithFileStore(SegmentNodeStoreBuilders.builder(fs).build(), fs);
            }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentFactory.java`
#### Snippet
```java

    @Override
    public NodeStore create(BlobStore blobStore, Closer closer) throws IOException {
        Builder builder = FileStore.builder(new File(dir, "segmentstore"));
        if (blobStore != null) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentFactory.java`
#### Snippet
```java
            throw new IllegalStateException(e);
        }
        closer.register(asCloseable(fs));

        return SegmentNodeStore.builder(fs).build();
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/blob/LengthCachingDataStore.java`
#### Snippet
```java
            try {
                Properties props = new Properties();
                is = Files.asByteSource(configFile).openStream();
                props.load(is);
                PropertiesUtil.populate(delegate, propsToMap(props), false);
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/blob/LengthCachingDataStore.java`
#### Snippet
```java
            try {
                Properties props = new Properties();
                is = Files.asByteSource(configFile).openStream();
                props.load(is);
                PropertiesUtil.populate(delegate, propsToMap(props), false);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/blob/LengthCachingDataStore.java`
#### Snippet
```java
        Map<String, Long> mapping = new HashMap<String, Long>();
        log.info("Reading mapping data from {}", mappingFile.getAbsolutePath());
        LineIterator itr = new LineIterator(Files.newReader(mappingFile, Charsets.UTF_8));
        try {
            while (itr.hasNext()) {
```

### UnstableApiUsage
'newReader(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/blob/LengthCachingDataStore.java`
#### Snippet
```java
        Map<String, Long> mapping = new HashMap<String, Long>();
        log.info("Reading mapping data from {}", mappingFile.getAbsolutePath());
        LineIterator itr = new LineIterator(Files.newReader(mappingFile, Charsets.UTF_8));
        try {
            while (itr.hasNext()) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
        public NodeState processCommit(NodeState before, NodeState after, CommitInfo info) throws CommitFailedException {
            NodeState newState = after;
            Stopwatch watch = Stopwatch.createStarted();
            if (earlyShutdown && source != null && !started) {
                logger.info("Shutting down source repository.");
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
        public NodeState processCommit(NodeState before, NodeState after, CommitInfo info) throws CommitFailedException {
            NodeState newState = after;
            Stopwatch watch = Stopwatch.createStarted();
            if (earlyShutdown && source != null && !started) {
                logger.info("Shutting down source repository.");
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
        public NodeState processCommit(NodeState before, NodeState after, CommitInfo info) throws CommitFailedException {
            NodeState newState = after;
            Stopwatch watch = Stopwatch.createStarted();
            if (earlyShutdown && source != null && !started) {
                logger.info("Shutting down source repository.");
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                newState = hook.processCommit(before, newState, info);
                logger.info("Commit hook {} processed commit in {}", hook, watch);
                watch.reset().start();
            }
            return newState;
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                newState = hook.processCommit(before, newState, info);
                logger.info("Commit hook {} processed commit in {}", hook, watch);
                watch.reset().start();
            }
            return newState;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            }

            final Stopwatch watch = Stopwatch.createStarted();

            logger.info("Copying workspace content");
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            }

            final Stopwatch watch = Stopwatch.createStarted();

            logger.info("Copying workspace content");
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            }

            final Stopwatch watch = Stopwatch.createStarted();

            logger.info("Copying workspace content");
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            copyWorkspace(sourceRoot, targetBuilder, workspaceName);
            targetBuilder.getNodeState(); // on TarMK this does call triggers the actual copy
            logger.info("Upgrading workspace content completed in {}s ({})", watch.elapsed(TimeUnit.SECONDS), watch);

            if (!versionCopyConfiguration.skipOrphanedVersionsCopy()) {
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            if (!versionCopyConfiguration.skipOrphanedVersionsCopy()) {
                logger.info("Copying version storage");
                watch.reset().start();
                copyVersionStorage(targetBuilder, getVersionStorage(sourceRoot), getVersionStorage(targetBuilder), versionCopyConfiguration);
                targetBuilder.getNodeState(); // on TarMK this does call triggers the actual copy
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            if (!versionCopyConfiguration.skipOrphanedVersionsCopy()) {
                logger.info("Copying version storage");
                watch.reset().start();
                copyVersionStorage(targetBuilder, getVersionStorage(sourceRoot), getVersionStorage(targetBuilder), versionCopyConfiguration);
                targetBuilder.getNodeState(); // on TarMK this does call triggers the actual copy
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                copyVersionStorage(targetBuilder, getVersionStorage(sourceRoot), getVersionStorage(targetBuilder), versionCopyConfiguration);
                targetBuilder.getNodeState(); // on TarMK this does call triggers the actual copy
                logger.info("Version storage copied in {}s ({})", watch.elapsed(TimeUnit.SECONDS), watch);
            } else {
                logger.info("Skipping the version storage as the copyOrphanedVersions is set to false");
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            }

            watch.reset().start();
            logger.info("Applying default commit hooks");
            // TODO: default hooks?
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
            }

            watch.reset().start();
            logger.info("Applying default commit hooks");
            // TODO: default hooks?
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java

            target.merge(targetBuilder, new LoggingCompositeHook(hooks, source, overrideEarlyShutdown()), CommitInfo.EMPTY);
            logger.info("Processing commit hooks completed in {}s ({})", watch.elapsed(TimeUnit.SECONDS), watch);

            removeVersions();
```

### UnstableApiUsage
'com.google.common.base.CharMatcher' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
            //In case the primaryType was encoded then it would be like nam:oak:Unstructured
            //So check if there is only one occurrence of ';'
            return CharMatcher.is(':').countIn(jsonString) == 1;
        }
    }
```

### UnstableApiUsage
'is(char)' is declared in unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
            //In case the primaryType was encoded then it would be like nam:oak:Unstructured
            //So check if there is only one occurrence of ';'
            return CharMatcher.is(':').countIn(jsonString) == 1;
        }
    }
```

### UnstableApiUsage
'countIn(java.lang.CharSequence)' is declared in unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
            //In case the primaryType was encoded then it would be like nam:oak:Unstructured
            //So check if there is only one occurrence of ';'
            return CharMatcher.is(':').countIn(jsonString) == 1;
        }
    }
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/Conversions.java`
#### Snippet
```java
                    InputStream in = value.getNewStream();
                    try {
                        return new String(ByteStreams.toByteArray(in), Charsets.UTF_8);
                    }
                    finally {
```

### UnstableApiUsage
'toByteArray(java.io.InputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/Conversions.java`
#### Snippet
```java
                    InputStream in = value.getNewStream();
                    try {
                        return new String(ByteStreams.toByteArray(in), Charsets.UTF_8);
                    }
                    finally {
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
    public Blob createBlob(InputStream stream) throws IOException {
        try {
            return new ArrayBasedBlob(ByteStreams.toByteArray(stream));
        } finally {
            stream.close();
```

### UnstableApiUsage
'toByteArray(java.io.InputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
    public Blob createBlob(InputStream stream) throws IOException {
        try {
            return new ArrayBasedBlob(ByteStreams.toByteArray(stream));
        } finally {
            stream.close();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeStore.java`
#### Snippet
```java
    public ArrayBasedBlob createBlob(InputStream inputStream) throws IOException {
        try {
            return new ArrayBasedBlob(ByteStreams.toByteArray(inputStream));
        }
        finally {
```

### UnstableApiUsage
'toByteArray(java.io.InputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeStore.java`
#### Snippet
```java
    public ArrayBasedBlob createBlob(InputStream inputStream) throws IOException {
        try {
            return new ArrayBasedBlob(ByteStreams.toByteArray(inputStream));
        }
        finally {
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
     */
    protected byte[] sha256() {
        return getSha256().asBytes();
    }

```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    }

    public static HashCode calculateSha256(final Blob blob) {
        AbstractBlob ab;
        if (blob instanceof AbstractBlob) {
```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    }

    private synchronized HashCode getSha256() {
        // Blobs are immutable so we can safely cache the hash
        if (hashCode == null) {
```

### UnstableApiUsage
'hash(com.google.common.hash.HashFunction)' is unstable because its signature references unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
        if (hashCode == null) {
            try {
                hashCode = supplier(this).hash(Hashing.sha256());
            } catch (IOException e) {
                throw new IllegalStateException("Hash calculation failed", e);
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
        if (hashCode == null) {
            try {
                hashCode = supplier(this).hash(Hashing.sha256());
            } catch (IOException e) {
                throw new IllegalStateException("Hash calculation failed", e);
```

### UnstableApiUsage
'sha256()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
        if (hashCode == null) {
            try {
                hashCode = supplier(this).hash(Hashing.sha256());
            } catch (IOException e) {
                throw new IllegalStateException("Hash calculation failed", e);
```

### UnstableApiUsage
'equals(java.lang.Object)' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
                    synchronized (that) {
                        if (that.hashCode != null) {
                            return hashCode.equals(that.hashCode);
                        }
                    }
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    @Override
    public String toString() {
        return getSha256().toString();
    }

```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    private HashCode hashCode; // synchronized access

    protected AbstractBlob(HashCode hashCode) {
        this.hashCode = hashCode;
    }
```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
    }

    private HashCode hashCode; // synchronized access

    protected AbstractBlob(HashCode hashCode) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentArchiveWriter.java`
#### Snippet
```java
        String fullName = directory.getPath() + segmentName;
        ioMonitor.beforeSegmentWrite(new File(fullName), msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        directory.writeObject(segmentName, data);
        ioMonitor.afterSegmentWrite(new File(fullName), msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentArchiveWriter.java`
#### Snippet
```java
        String fullName = directory.getPath() + segmentName;
        ioMonitor.beforeSegmentWrite(new File(fullName), msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        directory.writeObject(segmentName, data);
        ioMonitor.afterSegmentWrite(new File(fullName), msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentArchiveWriter.java`
#### Snippet
```java
        String fullName = directory.getPath() + segmentName;
        ioMonitor.beforeSegmentWrite(new File(fullName), msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        directory.writeObject(segmentName, data);
        ioMonitor.afterSegmentWrite(new File(fullName), msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentArchiveWriter.java`
#### Snippet
```java
        Stopwatch stopwatch = Stopwatch.createStarted();
        directory.writeObject(segmentName, data);
        ioMonitor.afterSegmentWrite(new File(fullName), msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java
    }

    public static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsToolUtils.java`
#### Snippet
```java

    public static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

    public int run() throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentNodeStorePersistence persistence = newSegmentNodeStorePersistence(SegmentStoreType.AWS, path);
        SegmentArchiveManager archiveManager = persistence.createArchiveManager(false, false, new IOMonitorAdapter(),
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

    public int run() throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentNodeStorePersistence persistence = newSegmentNodeStorePersistence(SegmentStoreType.AWS, path);
        SegmentArchiveManager archiveManager = persistence.createArchiveManager(false, false, new IOMonitorAdapter(),
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

    public int run() throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentNodeStorePersistence persistence = newSegmentNodeStorePersistence(SegmentStoreType.AWS, path);
        SegmentArchiveManager archiveManager = persistence.createArchiveManager(false, false, new IOMonitorAdapter(),
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(persistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
                gcLogInterval)) {
            if (!store.compactFull()) {
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(persistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
                gcLogInterval)) {
            if (!store.compactFull()) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            }
        } catch (Exception e) {
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
        }

        watch.stop();
        System.out.printf("    after\n");
        List<String> afterArchives = Collections.emptyList();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentCopy.java`
#### Snippet
```java

    public int run() {
        Stopwatch watch = Stopwatch.createStarted();

        SegmentStoreType srcType = storeTypeFromPathOrUri(source);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentCopy.java`
#### Snippet
```java

    public int run() {
        Stopwatch watch = Stopwatch.createStarted();

        SegmentStoreType srcType = storeTypeFromPathOrUri(source);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentCopy.java`
#### Snippet
```java

    public int run() {
        Stopwatch watch = Stopwatch.createStarted();

        SegmentStoreType srcType = storeTypeFromPathOrUri(source);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentCopy.java`
#### Snippet
```java
            migrator.migrate();
        } catch (Exception e) {
            watch.stop();
            printMessage(errWriter, "A problem occured while copying archives from {0} to {1} ", source, destination);
            e.printStackTrace(errWriter);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentCopy.java`
#### Snippet
```java
        }

        watch.stop();
        printMessage(outWriter, "Segment-copy succeeded in {0}", printableStopwatch(watch));

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveWriter.java`
#### Snippet
```java
        CloudBlockBlob blob = getBlob(segmentName);
        ioMonitor.beforeSegmentWrite(new File(blob.getName()), msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            blob.setMetadata(AzureBlobMetadata.toSegmentMetadata(indexEntry));
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveWriter.java`
#### Snippet
```java
        CloudBlockBlob blob = getBlob(segmentName);
        ioMonitor.beforeSegmentWrite(new File(blob.getName()), msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            blob.setMetadata(AzureBlobMetadata.toSegmentMetadata(indexEntry));
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveWriter.java`
#### Snippet
```java
        CloudBlockBlob blob = getBlob(segmentName);
        ioMonitor.beforeSegmentWrite(new File(blob.getName()), msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            blob.setMetadata(AzureBlobMetadata.toSegmentMetadata(indexEntry));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveWriter.java`
#### Snippet
```java
            throw new IOException(e);
        }
        ioMonitor.afterSegmentWrite(new File(blob.getName()), msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

    public int run() {
        Stopwatch watch = Stopwatch.createStarted();

        SegmentStoreType srcType = storeTypeFromPathOrUri(source);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

    public int run() {
        Stopwatch watch = Stopwatch.createStarted();

        SegmentStoreType srcType = storeTypeFromPathOrUri(source);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

    public int run() {
        Stopwatch watch = Stopwatch.createStarted();

        SegmentStoreType srcType = storeTypeFromPathOrUri(source);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java
                }
            } catch (IOException | InterruptedException | ExecutionException e) {
                watch.stop();
                printMessage(errWriter, "A problem occured while copying archives from {0} to {1} ", source,
                        destination);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

            } catch (Exception e) {
                watch.stop();
                printMessage(errWriter, "A problem occured while copying archives from {0} to {1} ", source,
                        destination);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java
        }

        watch.stop();
        printMessage(outWriter, "Segment-copy succeeded in {0}", printableStopwatch(watch));

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/ToolUtils.java`
#### Snippet
```java
    }

    public static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/ToolUtils.java`
#### Snippet
```java

    public static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

    public int run() throws IOException, StorageException, URISyntaxException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentNodeStorePersistence roPersistence = newSegmentNodeStorePersistence(SegmentStoreType.AZURE, path, persistentCachePath, persistentCacheSizeGb);
        SegmentNodeStorePersistence rwPersistence = newSegmentNodeStorePersistence(SegmentStoreType.AZURE, targetPath);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

    public int run() throws IOException, StorageException, URISyntaxException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentNodeStorePersistence roPersistence = newSegmentNodeStorePersistence(SegmentStoreType.AZURE, path, persistentCachePath, persistentCacheSizeGb);
        SegmentNodeStorePersistence rwPersistence = newSegmentNodeStorePersistence(SegmentStoreType.AZURE, targetPath);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

    public int run() throws IOException, StorageException, URISyntaxException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentNodeStorePersistence roPersistence = newSegmentNodeStorePersistence(SegmentStoreType.AZURE, path, persistentCachePath, persistentCacheSizeGb);
        SegmentNodeStorePersistence rwPersistence = newSegmentNodeStorePersistence(SegmentStoreType.AZURE, targetPath);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(splitPersistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
                gcLogInterval, compactorType)) {
            if (!store.compactFull()) {
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(splitPersistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
                gcLogInterval, compactorType)) {
            if (!store.compactFull()) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            System.out.printf("    -> [skipping] cleaning up\n");
        } catch (Exception e) {
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        }

        watch.stop();
        System.out.printf("    after\n");
        List<String> afterArchives = Collections.emptyList();
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/EmpiricalWeigher.java`
#### Snippet
```java

    @Override
    public int weigh(CacheValue key, CacheValue value) {
        long size = 168;                // overhead for each cache entry
        size += key.getMemory();        // key
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/EmpiricalWeigher.java`
#### Snippet
```java
 * are based on empirical data and not exact
 */
public class EmpiricalWeigher implements Weigher<CacheValue, CacheValue> {

    static final Logger LOG = LoggerFactory.getLogger(EmpiricalWeigher.class);
```

### UnstableApiUsage
'size()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
    @Override
    public long getElementCount() {
        return cache.size();
    }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    public CacheStats(
            @NotNull Cache<?, ?> cache,
            @NotNull String name,
            @Nullable Weigher<?, ?> weigher,
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
            @NotNull Cache<?, ?> cache,
            @NotNull String name,
            @Nullable Weigher<?, ?> weigher,
            long maxWeight) {
        super(name);
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
            long maxWeight) {
        super(name);
        this.cache = (Cache<Object, Object>) checkNotNull(cache);
        this.weigher = (Weigher<Object, Object>) weigher;
        this.maxWeight = maxWeight;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
        super(name);
        this.cache = (Cache<Object, Object>) checkNotNull(cache);
        this.weigher = (Weigher<Object, Object>) weigher;
        this.maxWeight = maxWeight;
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
 */
public class CacheStats extends AbstractCacheStats {
    private final Cache<Object, Object> cache;
    private final Weigher<Object, Object> weigher;
    private final long maxWeight;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java

    @Override
    protected com.google.common.cache.CacheStats getCurrentStats() {
        return cache.stats();
    }
```

### UnstableApiUsage
'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
    @Override
    protected com.google.common.cache.CacheStats getCurrentStats() {
        return cache.stats();
    }

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
public class CacheStats extends AbstractCacheStats {
    private final Cache<Object, Object> cache;
    private final Weigher<Object, Object> weigher;
    private final long maxWeight;

```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
        }
        long size = 0;
        for (Map.Entry<?, ?> e : cache.asMap().entrySet()) {
            Object k = e.getKey();
            Object v = e.getValue();
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheStats.java`
#### Snippet
```java
            Object k = e.getKey();
            Object v = e.getValue();
            size += weigher.weigh(k, v);
        }
        return size;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    private final String name;

    private CacheStats lastSnapshot =
            new CacheStats(0, 0, 0, 0, 0, 0);

```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java

    private CacheStats lastSnapshot =
            new CacheStats(0, 0, 0, 0, 0, 0);

    /**
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java

    private CacheStats lastSnapshot =
            new CacheStats(0, 0, 0, 0, 0, 0);

    /**
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
     * underlying cache.
     */
    protected abstract CacheStats getCurrentStats();

    private CacheStats stats() {
```

### UnstableApiUsage
'loadCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getLoadCount() {
        return stats().loadCount();
    }

```

### UnstableApiUsage
'requestCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getRequestCount() {
        return stats().requestCount();
    }

```

### UnstableApiUsage
'averageLoadPenalty()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public double getAverageLoadPenalty() {
        return stats().averageLoadPenalty();
    }

```

### UnstableApiUsage
'loadExceptionCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getLoadExceptionCount() {
        return stats().loadExceptionCount();
    }

```

### UnstableApiUsage
'totalLoadTime()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getTotalLoadTime() {
        return stats().totalLoadTime();
    }

```

### UnstableApiUsage
'loadSuccessCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getLoadSuccessCount() {
        return stats().loadSuccessCount();
    }

```

### UnstableApiUsage
'missRate()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public double getMissRate() {
        return stats().missRate();
    }

```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    protected abstract CacheStats getCurrentStats();

    private CacheStats stats() {
        return getCurrentStats().minus(lastSnapshot);
    }
```

### UnstableApiUsage
'minus(com.google.common.cache.CacheStats)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java

    private CacheStats stats() {
        return getCurrentStats().minus(lastSnapshot);
    }

```

### UnstableApiUsage
'missCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getMissCount() {
        return stats().missCount();
    }

```

### UnstableApiUsage
'loadExceptionRate()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public double getLoadExceptionRate() {
        return stats().loadExceptionRate();
    }

```

### UnstableApiUsage
'hitCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getHitCount() {
        return stats().hitCount();
    }

```

### UnstableApiUsage
'hitRate()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public double getHitRate() {
        return stats().hitRate();
    }

```

### UnstableApiUsage
'evictionCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/AbstractCacheStats.java`
#### Snippet
```java
    @Override
    public long getEvictionCount() {
        return stats().evictionCount();
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentTarFixtureProvider.java`
#### Snippet
```java
class SegmentTarFixtureProvider {

    static NodeStore configureSegment(Options options, BlobStore blobStore, Whiteboard wb, Closer closer, boolean readOnly)
            throws IOException, InvalidFileStoreVersionException {
        StatisticsProvider statisticsProvider = checkNotNull(getService(wb, StatisticsProvider.class));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentTarFixtureProvider.java`
#### Snippet
```java
                ToolUtils.newSegmentNodeStorePersistence(segmentStoreType, pathOrUri);
            File tempDir = Files.createTempDirectory("azure-segment-store").toFile();
            closer.register(() -> FileUtils.deleteQuietly(tempDir));
            builder = fileStoreBuilder(tempDir).withCustomPersistence(segmentNodeStorePersistence);
        } else {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentTarFixtureProvider.java`
#### Snippet
```java
                    .withStatisticsProvider(statisticsProvider)
                    .buildReadOnly();
            closer.register(fileStore);
            nodeStore = SegmentNodeStoreBuilders.builder(fileStore).build();
            wb.register(ReadOnlyFileStore.class, fileStore, emptyMap());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentTarFixtureProvider.java`
#### Snippet
```java
                    .withStatisticsProvider(statisticsProvider)
                    .build();
            closer.register(fileStore);
            nodeStore = SegmentNodeStoreBuilders.builder(fileStore).build();
            wb.register(FileStore.class, fileStore, emptyMap());
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentFixtureProvider.java`
#### Snippet
```java
class SegmentFixtureProvider {

    static NodeStore create(Options options, BlobStore blobStore, Whiteboard wb, Closer closer, boolean readOnly)
            throws IOException, InvalidFileStoreVersionException {
        StatisticsProvider statisticsProvider = checkNotNull(getService(wb, StatisticsProvider.class));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentFixtureProvider.java`
#### Snippet
```java
                    .withStatisticsProvider(statisticsProvider)
                    .buildReadOnly();
            closer.register(fileStore);
            nodeStore = SegmentNodeStore.builder(fileStore).build();
            wb.register(FileStore.ReadOnlyStore.class, fileStore, emptyMap());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentFixtureProvider.java`
#### Snippet
```java
                    .withStatisticsProvider(statisticsProvider)
                    .build();
            closer.register(fileStore);
            nodeStore = SegmentNodeStore.builder(fileStore).build();
            wb.register(FileStore.class, fileStore, emptyMap());
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
                                         BlobStore blobStore,
                                         Whiteboard wb,
                                         Closer closer,
                                         boolean readOnly) throws IOException {
        CommonOptions commonOpts = options.getOptionBean(CommonOptions.class);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
            MongoConnection mongo = new MongoConnection(uri.getURI());
            wb.register(MongoConnection.class, mongo, emptyMap());
            closer.register(mongo::close);
            ((MongoDocumentNodeStoreBuilder) builder).setMongoDB(mongo.getMongoClient(), mongo.getDBName());
            dns = builder.build();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
        }

        closer.register(dns::dispose);

        return dns;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java

        private SimpleNodeStoreFixture(NodeStore nodeStore, BlobStore blobStore,
                                       Whiteboard whiteboard, Closer closer) {
            this.blobStore = blobStore;
            this.whiteboard = whiteboard;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
    private static class ClosingWhiteboard implements Whiteboard {
        private final Whiteboard delegate;
        private final Closer closer;

        public ClosingWhiteboard(Whiteboard delegate, Closer closer) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
    }

    private static StatisticsProvider createStatsProvider(Options options, Whiteboard wb, Closer closer) {
        if (options.getCommonOpts().isMetricsEnabled()) {
            ScheduledExecutorService executorService =
```

### UnstableApiUsage
'getExitingScheduledExecutorService(java.util.concurrent.ScheduledThreadPoolExecutor)' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
        if (options.getCommonOpts().isMetricsEnabled()) {
            ScheduledExecutorService executorService =
                    MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));
            MetricStatisticsProvider statsProvider = new MetricStatisticsProvider(getPlatformMBeanServer(), executorService);
            closer.register(statsProvider);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
                    MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));
            MetricStatisticsProvider statsProvider = new MetricStatisticsProvider(getPlatformMBeanServer(), executorService);
            closer.register(statsProvider);
            closer.register(() -> reportMetrics(statsProvider));
            wb.register(MetricRegistry.class, statsProvider.getRegistry(), emptyMap());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
            MetricStatisticsProvider statsProvider = new MetricStatisticsProvider(getPlatformMBeanServer(), executorService);
            closer.register(statsProvider);
            closer.register(() -> reportMetrics(statsProvider));
            wb.register(MetricRegistry.class, statsProvider.getRegistry(), emptyMap());
            return statsProvider;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
        public <T> Registration register(Class<T> type, T service, Map<?, ?> properties) {
            Registration reg = delegate.register(type, service, properties);
            closer.register(reg::unregister);
            return reg;
        }
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
        @Override
        public void close() throws IOException {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java

    private static class SimpleNodeStoreFixture implements NodeStoreFixture {
        private final Closer closer;
        private final NodeStore nodeStore;
        private final BlobStore blobStore;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
    public static NodeStoreFixture create(Options options, boolean readOnly) throws Exception {
        CommonOptions commonOpts = options.getOptionBean(CommonOptions.class);
        Closer closer = Closer.create();
        Whiteboard wb = new ClosingWhiteboard(options.getWhiteboard(), closer);
        BlobStoreFixture blobFixture = BlobStoreFixtureProvider.create(options);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
    public static NodeStoreFixture create(Options options, boolean readOnly) throws Exception {
        CommonOptions commonOpts = options.getOptionBean(CommonOptions.class);
        Closer closer = Closer.create();
        Whiteboard wb = new ClosingWhiteboard(options.getWhiteboard(), closer);
        BlobStoreFixture blobFixture = BlobStoreFixtureProvider.create(options);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
    public static NodeStoreFixture create(Options options, boolean readOnly) throws Exception {
        CommonOptions commonOpts = options.getOptionBean(CommonOptions.class);
        Closer closer = Closer.create();
        Whiteboard wb = new ClosingWhiteboard(options.getWhiteboard(), closer);
        BlobStoreFixture blobFixture = BlobStoreFixtureProvider.create(options);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
        if (blobFixture != null) {
            blobStore = blobFixture.getBlobStore();
            closer.register(blobFixture);
        }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
        private final Closer closer;

        public ClosingWhiteboard(Whiteboard delegate, Closer closer) {
            this.delegate = delegate;
            this.closer = closer;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
    private static class DataStoreFixture implements BlobStoreFixture {
        private final DataStoreBlobStore blobStore;
        private final Closer closer;
        private final boolean readOnly;
        private final BlobStore readOnlyBlobStore;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            return null;
        }
        Closer closer = Closer.create();
        DataStore delegate;
        if (bsType == Type.S3){
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            return null;
        }
        Closer closer = Closer.create();
        DataStore delegate;
        if (bsType == Type.S3){
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            return null;
        }
        Closer closer = Closer.create();
        DataStore delegate;
        if (bsType == Type.S3){
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            Properties props = loadConfig(bsopts.getS3ConfigPath());
            s3ds.setProperties(props);
            File homeDir =  Files.createTempDir();
            closer.register(asCloseable(homeDir));
            populate(s3ds, asMap(props), false);
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            Properties props = loadConfig(bsopts.getS3ConfigPath());
            s3ds.setProperties(props);
            File homeDir =  Files.createTempDir();
            closer.register(asCloseable(homeDir));
            populate(s3ds, asMap(props), false);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            s3ds.setProperties(props);
            File homeDir =  Files.createTempDir();
            closer.register(asCloseable(homeDir));
            populate(s3ds, asMap(props), false);
            s3ds.init(homeDir.getAbsolutePath());
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            Properties props = loadConfig(cfgPath);
            azureds.setProperties(props);
            File homeDir =  Files.createTempDir();
            populate(azureds, asMap(props), false);
            azureds.init(homeDir.getAbsolutePath());
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            Properties props = loadConfig(cfgPath);
            azureds.setProperties(props);
            File homeDir =  Files.createTempDir();
            populate(azureds, asMap(props), false);
            azureds.init(homeDir.getAbsolutePath());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
            populate(azureds, asMap(props), false);
            azureds.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
            delegate = azureds;
        } else if (bsType == Type.FAKE) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
        private final BlobStore readOnlyBlobStore;

        private DataStoreFixture(DataStoreBlobStore blobStore, Closer closer, boolean readOnly) {
            this.blobStore = blobStore;
            this.closer = closer;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
        @Override
        public void close() throws IOException {
            closer.close();
            try {
                blobStore.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
public abstract class OutOfBandIndexerBase implements Closeable, IndexUpdateCallback, NodeTraversalCallback{

    protected final Closer closer = Closer.create();
    private final IndexHelper indexHelper;
    private NodeStore copyOnWriteStore;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
public abstract class OutOfBandIndexerBase implements Closeable, IndexUpdateCallback, NodeTraversalCallback{

    protected final Closer closer = Closer.create();
    private final IndexHelper indexHelper;
    private NodeStore copyOnWriteStore;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexerBase.java`
#### Snippet
```java
public abstract class OutOfBandIndexerBase implements Closeable, IndexUpdateCallback, NodeTraversalCallback{

    protected final Closer closer = Closer.create();
    private final IndexHelper indexHelper;
    private NodeStore copyOnWriteStore;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexHelper.java`
#### Snippet
```java
        if (executor == null) {
            ExecutorService executorService = createExecutor();
            closer.register(new ExecutorCloser(executorService));
            executor = executorService;
        }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexHelper.java`
#### Snippet
```java
    private final Whiteboard whiteboard;
    private Executor executor;
    protected final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final StatisticsProvider statisticsProvider;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexHelper.java`
#### Snippet
```java
    private final Whiteboard whiteboard;
    private Executor executor;
    protected final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final StatisticsProvider statisticsProvider;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexHelper.java`
#### Snippet
```java
    private final Whiteboard whiteboard;
    private Executor executor;
    protected final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final StatisticsProvider statisticsProvider;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
            public void run() {
                try {
                    closer.close();
                } catch (IOException e) {
                    log.error("Exception during cleanup ", e);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(AsyncIndexerBase.class);
    private final IndexHelper indexHelper;
    protected final Closer closer;
    private final List<String> names;
    private static final long INIT_DELAY = 0;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
        if (editorProvider == null) {
            log.error("EditorProvider is null, can't proceed further. Exiting");
            closer.close();
        }
        // Register async tasks for all lanes to the ScheduledThreadPoolExecutor
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
            AsyncIndexUpdate task = new AsyncIndexUpdate(name, indexHelper.getNodeStore(),
                    editorProvider, StatisticsProvider.NOOP, false);
            closer.register(task);

            pool.scheduleWithFixedDelay(task, INIT_DELAY, delay, TimeUnit.SECONDS);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
    private final CountDownLatch latch;

    public AsyncIndexerBase(IndexHelper indexHelper, Closer closer, List<String> names, long delay) {
        this.indexHelper = indexHelper;
        this.closer = closer;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexHelper.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java

public class NodeStateEntryTraverser implements Iterable<NodeStateEntry>, Closeable {
    private final Closer closer = Closer.create();
    private final RevisionVector rootRevision;
    private final DocumentNodeStore documentNodeStore;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java

public class NodeStateEntryTraverser implements Iterable<NodeStateEntry>, Closeable {
    private final Closer closer = Closer.create();
    private final RevisionVector rootRevision;
    private final DocumentNodeStore documentNodeStore;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java

public class NodeStateEntryTraverser implements Iterable<NodeStateEntry>, Closeable {
    private final Closer closer = Closer.create();
    private final RevisionVector rootRevision;
    private final DocumentNodeStore documentNodeStore;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java
    private Iterable<NodeDocument> getDocsFilteredByPath() {
        CloseableIterable<NodeDocument> docs = findAllDocuments();
        closer.register(docs);
        return docs;
    }
```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java

        StringBuilder builder = new StringBuilder();
        builder.append(new MainSectionFormatter().format(options)).append(LINE_SEPARATOR.value());

        for (OptionCategory c : optionCategories){
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java

        StringBuilder builder = new StringBuilder();
        builder.append(new MainSectionFormatter().format(options)).append(LINE_SEPARATOR.value());

        for (OptionCategory c : optionCategories){
```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java

        for (OptionCategory c : optionCategories){
            builder.append(c.format()).append(LINE_SEPARATOR.value());
        }

```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java

        for (OptionCategory c : optionCategories){
            builder.append(c.format()).append(LINE_SEPARATOR.value());
        }

```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java
            builder.append(new CategoryFormatter(bean).format(options));
            if (!operations.isEmpty()) {
                builder.append(LINE_SEPARATOR.value());
                builder.append(new OperationsFormatter().format(operations));
            }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java
            builder.append(new CategoryFormatter(bean).format(options));
            if (!operations.isEmpty()) {
                builder.append(LINE_SEPARATOR.value());
                builder.append(new OperationsFormatter().format(operations));
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/StoreAndSortStrategy.java`
#### Snippet
```java
        entryCount = 0;
        File file = new File(dir, fileName);
        Stopwatch sw = Stopwatch.createStarted();
        try (BufferedWriter w = FlatFileStoreUtils.createWriter(file, algorithm)) {
            for (NodeStateEntry e : nodeStates) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/StoreAndSortStrategy.java`
#### Snippet
```java
        entryCount = 0;
        File file = new File(dir, fileName);
        Stopwatch sw = Stopwatch.createStarted();
        try (BufferedWriter w = FlatFileStoreUtils.createWriter(file, algorithm)) {
            for (NodeStateEntry e : nodeStates) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/StoreAndSortStrategy.java`
#### Snippet
```java
        entryCount = 0;
        File file = new File(dir, fileName);
        Stopwatch sw = Stopwatch.createStarted();
        try (BufferedWriter w = FlatFileStoreUtils.createWriter(file, algorithm)) {
            for (NodeStateEntry e : nodeStates) {
```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/StoreAndSortStrategy.java`
#### Snippet
```java
class StoreAndSortStrategy implements SortStrategy {
    private static final String OAK_INDEXER_DELETE_ORIGINAL = "oak.indexer.deleteOriginal";
    private static final int LINE_SEP_LENGTH = LINE_SEPARATOR.value().length();

    private final Logger log = LoggerFactory.getLogger(getClass());
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/StoreAndSortStrategy.java`
#### Snippet
```java
class StoreAndSortStrategy implements SortStrategy {
    private static final String OAK_INDEXER_DELETE_ORIGINAL = "oak.indexer.deleteOriginal";
    private static final int LINE_SEP_LENGTH = LINE_SEPARATOR.value().length();

    private final Logger log = LoggerFactory.getLogger(getClass());
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
        }
        entryBatch.sort(comparator);
        Stopwatch w = Stopwatch.createStarted();
        File newtmpfile = File.createTempFile("sortInBatch", "flatfile", sortWorkDir);
        long textSize = 0;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
        }
        entryBatch.sort(comparator);
        Stopwatch w = Stopwatch.createStarted();
        File newtmpfile = File.createTempFile("sortInBatch", "flatfile", sortWorkDir);
        long textSize = 0;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
        }
        entryBatch.sort(comparator);
        Stopwatch w = Stopwatch.createStarted();
        File newtmpfile = File.createTempFile("sortInBatch", "flatfile", sortWorkDir);
        long textSize = 0;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java

    private void writeToSortedFiles(NodeStateEntryTraverser nodeStates) throws IOException {
        Stopwatch w = Stopwatch.createStarted();
        for (NodeStateEntry e : nodeStates) {
            entryCount++;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java

    private void writeToSortedFiles(NodeStateEntryTraverser nodeStates) throws IOException {
        Stopwatch w = Stopwatch.createStarted();
        for (NodeStateEntry e : nodeStates) {
            entryCount++;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java

    private void writeToSortedFiles(NodeStateEntryTraverser nodeStates) throws IOException {
        Stopwatch w = Stopwatch.createStarted();
        for (NodeStateEntry e : nodeStates) {
            entryCount++;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
    private File sortStoreFile() throws IOException {
        log.info("Proceeding to perform merge of {} sorted files", sortedFiles.size());
        Stopwatch w = Stopwatch.createStarted();
        File sortedFile = new File(storeDir, getSortedStoreFileName(algorithm));
        try(BufferedWriter writer = createWriter(sortedFile, algorithm)) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
    private File sortStoreFile() throws IOException {
        log.info("Proceeding to perform merge of {} sorted files", sortedFiles.size());
        Stopwatch w = Stopwatch.createStarted();
        File sortedFile = new File(storeDir, getSortedStoreFileName(algorithm));
        try(BufferedWriter writer = createWriter(sortedFile, algorithm)) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
    private File sortStoreFile() throws IOException {
        log.info("Proceeding to perform merge of {} sorted files", sortedFiles.size());
        Stopwatch w = Stopwatch.createStarted();
        File sortedFile = new File(storeDir, getSortedStoreFileName(algorithm));
        try(BufferedWriter writer = createWriter(sortedFile, algorithm)) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
                if (indexer != null) {
                    indexers.add(indexer);
                    closer.register(indexer);
                    progressReporter.registerIndex(indexPath, true, -1);
                    indexerPaths.add(indexPath);
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    private final Logger log = LoggerFactory.getLogger(getClass());
    private final Logger traversalLog = LoggerFactory.getLogger(DocumentStoreIndexerBase.class.getName()+".traversal");
    protected final Closer closer = Closer.create();
    protected final IndexHelper indexHelper;
    protected List<NodeStateIndexerProvider> indexerProviders;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    private final Logger log = LoggerFactory.getLogger(getClass());
    private final Logger traversalLog = LoggerFactory.getLogger(DocumentStoreIndexerBase.class.getName()+".traversal");
    protected final Closer closer = Closer.create();
    protected final IndexHelper indexHelper;
    protected List<NodeStateIndexerProvider> indexerProviders;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    private final Logger log = LoggerFactory.getLogger(getClass());
    private final Logger traversalLog = LoggerFactory.getLogger(DocumentStoreIndexerBase.class.getName()+".traversal");
    protected final Closer closer = Closer.create();
    protected final IndexHelper indexHelper;
    protected List<NodeStateIndexerProvider> indexerProviders;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        List<FlatFileStore> storeList = new ArrayList<>();

        Stopwatch flatFileStoreWatch = Stopwatch.createStarted();
        int executionCount = 1;
        CompositeException lastException = null;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        List<FlatFileStore> storeList = new ArrayList<>();

        Stopwatch flatFileStoreWatch = Stopwatch.createStarted();
        int executionCount = 1;
        CompositeException lastException = null;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        List<FlatFileStore> storeList = new ArrayList<>();

        Stopwatch flatFileStoreWatch = Stopwatch.createStarted();
        int executionCount = 1;
        CompositeException lastException = null;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
                }
                for (FlatFileStore item: storeList) {
                    closer.register(item);
                }
            } catch (CompositeException e) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        }

        closer.register(indexer);

        List<FlatFileStore> flatFileStores = buildFlatFileStoreList(checkpointedState, indexer,
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        preIndexOpertaions(indexer.getIndexers());

        Stopwatch indexerWatch = Stopwatch.createStarted();

        if (flatFileStores.size() > 1) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        preIndexOpertaions(indexer.getIndexers());

        Stopwatch indexerWatch = Stopwatch.createStarted();

        if (flatFileStores.size() > 1) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
        preIndexOpertaions(indexer.getIndexers());

        Stopwatch indexerWatch = Stopwatch.createStarted();

        if (flatFileStores.size() > 1) {
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }
}
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java
        String fileName = new File(storeFile.getParent(), storeFile.getName() + ".linkedList").getAbsolutePath();
        FlatFileStoreIterator it = new FlatFileStoreIterator(blobStore, fileName, createBaseIterator(), preferredPathElements);
        closer.register(it::close);
        return it;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java

public class FlatFileStore implements Iterable<NodeStateEntry>, Closeable {
    private final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final File storeFile;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java

public class FlatFileStore implements Iterable<NodeStateEntry>, Closeable {
    private final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final File storeFile;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java

public class FlatFileStore implements Iterable<NodeStateEntry>, Closeable {
    private final Closer closer = Closer.create();
    private final BlobStore blobStore;
    private final File storeFile;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java
    private Iterator<NodeStateEntry> createBaseIterator() {
        LineIterator itr = new LineIterator(createReader(storeFile, algorithm));
        closer.register(itr::close);
        return new AbstractIterator<NodeStateEntry>() {
            @Override
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
        }
        log.debug("Result collection complete. Proceeding to final merge.");
        Stopwatch w = Stopwatch.createStarted();
        sortedFiles.add(MergeRunner.MERGE_POISON_PILL);
        mergePhaser.awaitAdvance(0);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
        }
        log.debug("Result collection complete. Proceeding to final merge.");
        Stopwatch w = Stopwatch.createStarted();
        sortedFiles.add(MergeRunner.MERGE_POISON_PILL);
        mergePhaser.awaitAdvance(0);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
        }
        log.debug("Result collection complete. Proceeding to final merge.");
        Stopwatch w = Stopwatch.createStarted();
        sortedFiles.add(MergeRunner.MERGE_POISON_PILL);
        mergePhaser.awaitAdvance(0);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java

    private void writeToSortedFiles() throws IOException {
        Stopwatch w = Stopwatch.createStarted();
        for (NodeStateEntry e : nodeStates) {
            if (e.getLastModified() >= lastModifiedUpperBound) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java

    private void writeToSortedFiles() throws IOException {
        Stopwatch w = Stopwatch.createStarted();
        for (NodeStateEntry e : nodeStates) {
            if (e.getLastModified() >= lastModifiedUpperBound) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java

    private void writeToSortedFiles() throws IOException {
        Stopwatch w = Stopwatch.createStarted();
        for (NodeStateEntry e : nodeStates) {
            if (e.getLastModified() >= lastModifiedUpperBound) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java
        }
        entryBatch.sort(comparator);
        Stopwatch w = Stopwatch.createStarted();
        File newtmpfile = File.createTempFile("sortInBatch", "flatfile", sortWorkDir);
        long textSize = 0;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java
        }
        entryBatch.sort(comparator);
        Stopwatch w = Stopwatch.createStarted();
        File newtmpfile = File.createTempFile("sortInBatch", "flatfile", sortWorkDir);
        long textSize = 0;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseAndSortTask.java`
#### Snippet
```java
        }
        entryBatch.sort(comparator);
        Stopwatch w = Stopwatch.createStarted();
        File newtmpfile = File.createTempFile("sortInBatch", "flatfile", sortWorkDir);
        long textSize = 0;
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
    }

    public static Cache<PathRev, DocumentNodeState> getNodesCache(DocumentNodeStore dns) {
        return dns.getNodeCache();
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
    public static void garbageReport(DocumentNodeStore dns) {
        System.out.print("Collecting top 100 nodes with most blob garbage ");
        Stopwatch sw = Stopwatch.createStarted();
        Iterable<BlobReferences> refs = scan(dns, new BlobGarbageSizeComparator(), 100);
        for (BlobReferences br : refs) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
    public static void garbageReport(DocumentNodeStore dns) {
        System.out.print("Collecting top 100 nodes with most blob garbage ");
        Stopwatch sw = Stopwatch.createStarted();
        Iterable<BlobReferences> refs = scan(dns, new BlobGarbageSizeComparator(), 100);
        for (BlobReferences br : refs) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
    public static void garbageReport(DocumentNodeStore dns) {
        System.out.print("Collecting top 100 nodes with most blob garbage ");
        Stopwatch sw = Stopwatch.createStarted();
        Iterable<BlobReferences> refs = scan(dns, new BlobGarbageSizeComparator(), 100);
        for (BlobReferences br : refs) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
            System.out.println(br);
        }
        System.out.println("Collected in " + sw.stop());
    }

```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            .withReadTimeoutMs(DEFAULT_TIMEOUT)
            .withAutoClean(false)
            .withSpoolFolder(new File(StandardSystemProperty.JAVA_IO_TMPDIR.value()))
            .build();

```

### UnstableApiUsage
'JAVA_IO_TMPDIR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            .withReadTimeoutMs(DEFAULT_TIMEOUT)
            .withAutoClean(false)
            .withSpoolFolder(new File(StandardSystemProperty.JAVA_IO_TMPDIR.value()))
            .build();

```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/SegmentTarFixture.java`
#### Snippet
```java
            .withReadTimeoutMs(DEFAULT_TIMEOUT)
            .withAutoClean(false)
            .withSpoolFolder(new File(StandardSystemProperty.JAVA_IO_TMPDIR.value()))
            .build();

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        long memory = Math.min(estimatedMemory, maxMemory);
        log.info("Sorting with memory {} (estimated {})", humanReadableByteCount(memory), humanReadableByteCount(estimatedMemory));
        Stopwatch w = Stopwatch.createStarted();

        Comparator<NodeStateHolder> comparator = (e1, e2) -> pathComparator.compare(e1.getPathElements(), e2.getPathElements());
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        long memory = Math.min(estimatedMemory, maxMemory);
        log.info("Sorting with memory {} (estimated {})", humanReadableByteCount(memory), humanReadableByteCount(estimatedMemory));
        Stopwatch w = Stopwatch.createStarted();

        Comparator<NodeStateHolder> comparator = (e1, e2) -> pathComparator.compare(e1.getPathElements(), e2.getPathElements());
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        long memory = Math.min(estimatedMemory, maxMemory);
        log.info("Sorting with memory {} (estimated {})", humanReadableByteCount(memory), humanReadableByteCount(estimatedMemory));
        Stopwatch w = Stopwatch.createStarted();

        Comparator<NodeStateHolder> comparator = (e1, e2) -> pathComparator.compare(e1.getPathElements(), e2.getPathElements());
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        }

        Stopwatch w2 = Stopwatch.createStarted();

        mergeSortedFiles(comparator, func1, func2, sortedFiles);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        }

        Stopwatch w2 = Stopwatch.createStarted();

        mergeSortedFiles(comparator, func1, func2, sortedFiles);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
        }

        Stopwatch w2 = Stopwatch.createStarted();

        mergeSortedFiles(comparator, func1, func2, sortedFiles);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/TimeDurationFormatter.java`
#### Snippet
```java
/**
 * Format a time duration as human-readable string, inspired by
 * {@link Stopwatch#toString()}.
 */
public class TimeDurationFormatter {
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/TimeDurationFormatter.java`
#### Snippet
```java
/**
 * Format a time duration as human-readable string, inspired by
 * {@link Stopwatch#toString()}.
 */
public class TimeDurationFormatter {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(PurgeOldIndexVersion.class);

    protected final Closer closer = Closer.create();

    /**
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(PurgeOldIndexVersion.class);

    protected final Closer closer = Closer.create();

    /**
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(PurgeOldIndexVersion.class);

    protected final Closer closer = Closer.create();

    /**
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
Overridden method 'cleanUp()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public void cleanUp() {
        // nothing to do
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    }

    void evicted(Entry<K, V> entry, RemovalCause cause) {
        if (evicted == null) {
            return;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @return this
         */
        public Builder<K, V> weigher(Weigher<K, V> weigher) {
            this.weigher = weigher;
            return this;
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @param cause the cause of the eviction
         */
        void evicted(@NotNull K key, @Nullable V value, @NotNull RemovalCause cause);
    }
    
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                existed = true;
                old = e.value;
                invalidate(key, hash, RemovalCause.REPLACED);
            }
            e = new Entry<K, V>(key, value, memory);
```

### UnstableApiUsage
'REPLACED' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                existed = true;
                old = e.value;
                invalidate(key, hash, RemovalCause.REPLACED);
            }
            e = new Entry<K, V>(key, value, memory);
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            V old = get(key, hash);
            // even if old is null, there might still be a cold entry
            invalidate(key, hash, RemovalCause.EXPLICIT);
            return old;
        }
```

### UnstableApiUsage
'EXPLICIT' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            V old = get(key, hash);
            // even if old is null, there might still be a cold entry
            invalidate(key, hash, RemovalCause.EXPLICIT);
            return old;
        }
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public CacheStats stats() {
        long hitCount = 0;
        long missCount = 0;
```

### UnstableApiUsage
Overridden method 'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public CacheStats stats() {
        long hitCount = 0;
        long missCount = 0;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            evictionCount += s.evictionCount.longValue();
        }
        CacheStats stats = new CacheStats(hitCount, missCount, loadSuccessCount,
                loadExceptionCount, totalLoadTime, evictionCount);
        return stats;
```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            evictionCount += s.evictionCount.longValue();
        }
        CacheStats stats = new CacheStats(hitCount, missCount, loadSuccessCount,
                loadExceptionCount, totalLoadTime, evictionCount);
        return stats;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            evictionCount += s.evictionCount.longValue();
        }
        CacheStats stats = new CacheStats(hitCount, missCount, loadSuccessCount,
                loadExceptionCount, totalLoadTime, evictionCount);
        return stats;
```

### UnstableApiUsage
Overridden method 'getAllPresent(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public ImmutableMap<K, V> getAllPresent(Iterable<?> keys) {
        throw new UnsupportedOperationException();
    }
```

### UnstableApiUsage
Overridden method 'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public void invalidate(Object key) {
        int hash = getHash(key);
        getSegment(hash).invalidate(key, hash, RemovalCause.EXPLICIT);
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    public void invalidate(Object key) {
        int hash = getHash(key);
        getSegment(hash).invalidate(key, hash, RemovalCause.EXPLICIT);
    }

```

### UnstableApiUsage
'EXPLICIT' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    public void invalidate(Object key) {
        int hash = getHash(key);
        getSegment(hash).invalidate(key, hash, RemovalCause.EXPLICIT);
    }

```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        }

        public void evictedAll(RemovalCause cause) {
            for (Entry<K, V> e = stack.stackNext; e != stack; e = e.stackNext) {
                if (e.value != null) {
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

        private String module;
        private Weigher<K, V> weigher;
        private long maxWeight;
        private int averageWeight = 100;
```

### UnstableApiUsage
Overridden method 'apply(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public V apply(K key) {
        throw new UnsupportedOperationException();        
    }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    private final int stackMoveDistance;

    private final Weigher<K, V> weigher;

    private final CacheLoader<K, V> loader;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    @SuppressWarnings("unchecked")
    CacheLIRS(Weigher<K, V> weigher, long maxMemory, int averageMemory,
            int segmentCount, int stackMoveDistance, final CacheLoader<K, V> loader,
            EvictionCallback<K, V> evicted, String module) {
```

### UnstableApiUsage
Overridden method 'invalidateAll(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    @Override
    public void invalidateAll(Iterable<?> keys) {
        for (K k : (Iterable<K>) keys) {
            invalidate(k);
```

### UnstableApiUsage
Overridden method 'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public void invalidateAll() {
        long max = Math.max(1, maxMemory / segmentCount);
        for (int i = 0; i < segmentCount; i++) {
```

### UnstableApiUsage
Overridden method 'asMap()' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public ConcurrentMap<K, V> asMap() {
        return new ConcurrentMap<K, V>() {

```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            synchronized (s) {
                if (evicted != null) {
                    s.evictedAll(RemovalCause.EXPLICIT);
                }
                s.clear();
```

### UnstableApiUsage
'EXPLICIT' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            synchronized (s) {
                if (evicted != null) {
                    s.evictedAll(RemovalCause.EXPLICIT);
                }
                s.clear();
```

### UnstableApiUsage
Overridden method 'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public void put(K key, V value) {
        put(key, value, sizeOf(key, value));
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        segments[index] = s;
        if (evicted != null && old != null && old != s) {
            old.evictedAll(RemovalCause.EXPLICIT);
        }
    }
```

### UnstableApiUsage
'EXPLICIT' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        segments[index] = s;
        if (evicted != null && old != null && old != s) {
            old.evictedAll(RemovalCause.EXPLICIT);
        }
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            V old = get(key, hash);
            if (old != null && old.equals(value)) {
                invalidate(key, hash, RemovalCause.EXPLICIT);
                return true;
            }
```

### UnstableApiUsage
'EXPLICIT' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            V old = get(key, hash);
            if (old != null && old.equals(value)) {
                invalidate(key, hash, RemovalCause.EXPLICIT);
                return true;
            }
```

### UnstableApiUsage
Overridden method 'putAll(java.util.Map)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public void putAll(Map<? extends K, ? extends V> m) {
        for (Map.Entry<? extends K, ? extends V> e : m.entrySet()) {
            put(e.getKey(), e.getValue());
```

### UnstableApiUsage
Overridden method 'size()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public long size() {
        int x = 0;
        for (Segment<K, V> s : segments) {
```

### UnstableApiUsage
Overridden method 'getAll(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public ImmutableMap<K, V> getAll(Iterable<? extends K> keys)
            throws ExecutionException {
        throw new UnsupportedOperationException();
```

### UnstableApiUsage
Overridden method 'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public V getUnchecked(K key) {
        try {
            return get(key);
```

### UnstableApiUsage
Overridden method 'refresh(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public void refresh(K key) {
        int hash = getHash(key);
        try {
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
         * @param hash the hash
         */
        synchronized void invalidate(Object key, int hash, RemovalCause cause) {
            Entry<K, V>[] array = entries;
            int mask = array.length - 1;
```

### UnstableApiUsage
Overridden method 'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    @Override
    public V get(K key, Callable<? extends V> valueLoader)
            throws ExecutionException {
        int hash = getHash(key);
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
 */
@Internal(since = "1.1.1")
public class CacheLIRS<K, V> implements LoadingCache<K, V> {

    static final Logger LOG = LoggerFactory.getLogger(CacheLIRS.class);
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                evictionCount.increment();
                removeFromQueue(e);
                cache.evicted(e, RemovalCause.SIZE);
                e.value = null;
                e.memory = 0;
```

### UnstableApiUsage
'SIZE' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                evictionCount.increment();
                removeFromQueue(e);
                cache.evicted(e, RemovalCause.SIZE);
                e.value = null;
                e.memory = 0;
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                    e = queue2.queuePrev;
                    int hash = getHash(e.key);
                    invalidate(e.key, hash, RemovalCause.SIZE);
                }
            }
```

### UnstableApiUsage
'SIZE' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
                    e = queue2.queuePrev;
                    int hash = getHash(e.key);
                    invalidate(e.key, hash, RemovalCause.SIZE);
                }
            }
```

### UnstableApiUsage
Overridden method 'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    @Override
    @Nullable
    public V getIfPresent(Object key) {
        int hash = getHash(key);
        return getSegment(hash).get(key, hash);
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
            return averageMemory;
        }
        return weigher.weigh(key, value);
    }

```

### UnstableApiUsage
Overridden method 'get(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
     */
    @Override
    public V get(K key) throws ExecutionException {
        int hash = getHash(key);
        return getSegment(hash).get(key, hash, loader);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/RevisionGCStats.java`
#### Snippet
```java
    @Override
    public void finished(VersionGCStats stats) {
        activeTimer.update(stats.active.elapsed(MICROSECONDS), MICROSECONDS);
        readDocTimer.update(stats.collectDeletedDocsElapsed, MICROSECONDS);
        checkDeletedTimer.update(stats.checkDeletedDocsElapsed, MICROSECONDS);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        checkNotNull(lock);

        Stopwatch sw = Stopwatch.createStarted();
        // get a copy of the map while holding the lock
        lock.lock();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        checkNotNull(lock);

        Stopwatch sw = Stopwatch.createStarted();
        // get a copy of the map while holding the lock
        lock.lock();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        checkNotNull(lock);

        Stopwatch sw = Stopwatch.createStarted();
        // get a copy of the map while holding the lock
        lock.lock();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        // get a copy of the map while holding the lock
        lock.lock();
        stats.lock = sw.elapsed(TimeUnit.MILLISECONDS);
        sw.reset().start();
        Revision sweepRev;
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        lock.lock();
        stats.lock = sw.elapsed(TimeUnit.MILLISECONDS);
        sw.reset().start();
        Revision sweepRev;
        Map<Path, Revision> pending;
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        lock.lock();
        stats.lock = sw.elapsed(TimeUnit.MILLISECONDS);
        sw.reset().start();
        Revision sweepRev;
        Map<Path, Revision> pending;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
        }

        stats.write = sw.elapsed(TimeUnit.MILLISECONDS);
        return stats;
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
            } catch (InterruptedException e) {
                String msg = "Interrupted while waiting for batch commit to finish";
                return Futures.immediateFailedFuture(new DocumentStoreException(msg));
            }
        }
```

### UnstableApiUsage
'immediateFailedFuture(java.lang.Throwable)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
            } catch (InterruptedException e) {
                String msg = "Interrupted while waiting for batch commit to finish";
                return Futures.immediateFailedFuture(new DocumentStoreException(msg));
            }
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
        DocumentStore store = queue.getStore();
        for (UpdateOp op : ops) {
            results.add(Futures.immediateFuture(before));
            NodeDocument after = new NodeDocument(store);
            before.deepCopy(after);
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
        DocumentStore store = queue.getStore();
        for (UpdateOp op : ops) {
            results.add(Futures.immediateFuture(before));
            NodeDocument after = new NodeDocument(store);
            before.deepCopy(after);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java

    private ServiceRegistration nodeStoreReg;
    private Closer closer;
    private WhiteboardExecutor executor;

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
        final GCMonitorTracker gcMonitor = new GCMonitorTracker();
        gcMonitor.start(whiteboard);
        closer.register(asCloseable(gcMonitor));
        Logger vgcLogger = LoggerFactory.getLogger(VersionGarbageCollector.class);
        GCMonitor loggingGCMonitor;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java

    private void addRegistration(@NotNull Registration reg) {
        closer.register(asCloseable(reg));
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
    @Activate
    protected void activate(ComponentContext context, Configuration config) throws Exception {
        closer = Closer.create();
        this.config = DocumentNodeStoreServiceConfiguration.create(context,
                configurationAdmin, preset.configuration, config);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
    @Activate
    protected void activate(ComponentContext context, Configuration config) throws Exception {
        closer = Closer.create();
        this.config = DocumentNodeStoreServiceConfiguration.create(context,
                configurationAdmin, preset.configuration, config);
```

### UnstableApiUsage
'preOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
                return Iterables.transform(() -> root.getBundledChildren(), ce -> (DocumentNodeState)ce.getNodeState());
            }
        }.preOrderTraversal(this)
         .filter(dns -> !dns.getPath().equals(this.getPath()) ); //Exclude this
    }
```

### UnstableApiUsage
Overridden method 'children(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
        return new TreeTraverser<DocumentNodeState>(){
            @Override
            public Iterable<DocumentNodeState> children(DocumentNodeState root) {
                return Iterables.transform(() -> root.getBundledChildren(), ce -> (DocumentNodeState)ce.getNodeState());
            }
```

### UnstableApiUsage
'TreeTraverser()' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java

    public Iterable<DocumentNodeState> getAllBundledNodesStates() {
        return new TreeTraverser<DocumentNodeState>(){
            @Override
            public Iterable<DocumentNodeState> children(DocumentNodeState root) {
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java

    public Iterable<DocumentNodeState> getAllBundledNodesStates() {
        return new TreeTraverser<DocumentNodeState>(){
            @Override
            public Iterable<DocumentNodeState> children(DocumentNodeState root) {
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<CacheValue, NodeDocument> buildDocumentCache(DocumentStore docStore) {
        return buildCache(CacheType.DOCUMENT, getDocumentCacheSize(), null, docStore);
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                    evictionCallback(new CacheLIRS.EvictionCallback<K, V>() {
                        @Override
                        public void evicted(K key, V value, RemovalCause cause) {
                            for (EvictionListener<K, V> l : listeners) {
                                l.evicted(key, value, cause);
```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                maximumWeight(maxWeight).
                recordStats().
                removalListener(new RemovalListener<K, V>() {
                    @Override
                    public void onRemoval(RemovalNotification<K, V> notification) {
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<PathRev, DocumentNodeState> buildNodeCache(DocumentNodeStore store) {
        return buildCache(CacheType.NODE, getNodeCacheSize(), store, null);
    }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
            return CacheLIRS.<K, V>newBuilder().
                    module(module).
                    weigher(new Weigher<K, V>() {
                        @Override
                        public int weigh(K key, V value) {
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java

    @SuppressWarnings("unchecked")
    private <K extends CacheValue, V extends CacheValue> Cache<K, V> buildCache(
            CacheType cacheType,
            long maxWeight,
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
            DocumentStore docStore) {
        Set<EvictionListener<K, V>> listeners = new CopyOnWriteArraySet<EvictionListener<K,V>>();
        Cache<K, V> cache = buildCache(cacheType.name(), maxWeight, listeners);
        PersistentCache p = null;
        if (cacheType == CacheType.DIFF || cacheType == CacheType.LOCAL_DIFF) {
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<RevisionsKey, LocalDiffCache.Diff> buildLocalDiffCache() {
        return buildCache(CacheType.LOCAL_DIFF, getLocalDiffCacheSize(), null, null);
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<CacheValue, StringValue> buildMemoryDiffCache() {
        return buildCache(CacheType.DIFF, getMemoryDiffCacheSize(), null, null);
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    private <K extends CacheValue, V extends CacheValue> Cache<K, V> buildCache(
            String module,
            long maxWeight,
```

### UnstableApiUsage
'weigher(com.google.common.cache.Weigher)' is unstable because its signature references unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
        return CacheBuilder.newBuilder().
                concurrencyLevel(cacheSegmentCount).
                weigher(weigher).
                maximumWeight(maxWeight).
                recordStats().
```

### UnstableApiUsage
'removalListener(com.google.common.cache.RemovalListener)' is unstable because its signature references unstable interface 'com.google.common.cache.RemovalListener' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                maximumWeight(maxWeight).
                recordStats().
                removalListener(new RemovalListener<K, V>() {
                    @Override
                    public void onRemoval(RemovalNotification<K, V> notification) {
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                    }
                }).
                build();
    }

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public T withWeigher(Weigher<CacheValue, CacheValue> weigher) {
        this.weigher = weigher;
        return thisBuilder();
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                    weigher(new Weigher<K, V>() {
                        @Override
                        public int weigh(K key, V value) {
                            return weigher.weigh(key, value);
                        }
```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                        @Override
                        public int weigh(K key, V value) {
                            return weigher.weigh(key, value);
                        }
                    }).
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<StringValue, NodeDocument> buildPrevDocumentsCache(DocumentStore docStore) {
        return buildCache(CacheType.PREV_DOCUMENT, getPrevDocumentCacheSize(), null, docStore);
    }
```

### UnstableApiUsage
Overridden method 'onRemoval(com.google.common.cache.RemovalNotification)' is declared in unstable interface 'com.google.common.cache.RemovalListener' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                removalListener(new RemovalListener<K, V>() {
                    @Override
                    public void onRemoval(RemovalNotification<K, V> notification) {
                        for (EvictionListener<K, V> l : listeners) {
                            l.evicted(notification.getKey(), notification.getValue(), notification.getCause());
```

### UnstableApiUsage
'com.google.common.cache.RemovalNotification' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                removalListener(new RemovalListener<K, V>() {
                    @Override
                    public void onRemoval(RemovalNotification<K, V> notification) {
                        for (EvictionListener<K, V> l : listeners) {
                            l.evicted(notification.getKey(), notification.getValue(), notification.getCause());
```

### UnstableApiUsage
'getKey()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                    public void onRemoval(RemovalNotification<K, V> notification) {
                        for (EvictionListener<K, V> l : listeners) {
                            l.evicted(notification.getKey(), notification.getValue(), notification.getCause());
                        }
                    }
```

### UnstableApiUsage
'getValue()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                    public void onRemoval(RemovalNotification<K, V> notification) {
                        for (EvictionListener<K, V> l : listeners) {
                            l.evicted(notification.getKey(), notification.getValue(), notification.getCause());
                        }
                    }
```

### UnstableApiUsage
'getCause()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
                    public void onRemoval(RemovalNotification<K, V> notification) {
                        for (EvictionListener<K, V> l : listeners) {
                            l.evicted(notification.getKey(), notification.getValue(), notification.getCause());
                        }
                    }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    private Feature prefetchFeature;
    private Feature docStoreThrottlingFeature;
    private Weigher<CacheValue, CacheValue> weigher = new EmpiricalWeigher();
    private long memoryCacheSize = DEFAULT_MEMORY_CACHE_SIZE;
    private int nodeCachePercentage = DEFAULT_NODE_CACHE_PERCENTAGE;
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java

    public NodeDocumentCache buildNodeDocumentCache(DocumentStore docStore, NodeDocumentLocks locks) {
        Cache<CacheValue, NodeDocument> nodeDocumentsCache = buildDocumentCache(docStore);
        CacheStats nodeDocumentsCacheStats = new CacheStats(nodeDocumentsCache, "Document-Documents", getWeigher(), getDocumentCacheSize());

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
        CacheStats nodeDocumentsCacheStats = new CacheStats(nodeDocumentsCache, "Document-Documents", getWeigher(), getDocumentCacheSize());

        Cache<StringValue, NodeDocument> prevDocumentsCache = buildPrevDocumentsCache(docStore);
        CacheStats prevDocumentsCacheStats = new CacheStats(prevDocumentsCache, "Document-PrevDocuments", getWeigher(), getPrevDocumentCacheSize());

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Weigher<CacheValue, CacheValue> getWeigher() {
        return weigher;
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    }

    public Cache<NamePathRev, DocumentNodeState.Children> buildChildrenCache(DocumentNodeStore store) {
        return buildCache(CacheType.CHILDREN, getChildrenCacheSize(), store, null);
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalGarbageCollector.java`
#### Snippet
```java
                    MILLISECONDS.toMinutes(maxRevisionAgeMillis));
        }
        Stopwatch sw = Stopwatch.createStarted();

        // update the tail timestamp in the journalGC document
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalGarbageCollector.java`
#### Snippet
```java
                    MILLISECONDS.toMinutes(maxRevisionAgeMillis));
        }
        Stopwatch sw = Stopwatch.createStarted();

        // update the tail timestamp in the journalGC document
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalGarbageCollector.java`
#### Snippet
```java
                    MILLISECONDS.toMinutes(maxRevisionAgeMillis));
        }
        Stopwatch sw = Stopwatch.createStarted();

        // update the tail timestamp in the journalGC document
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalGarbageCollector.java`
#### Snippet
```java
        int numDeleted = ds.remove(Collection.JOURNAL, JournalEntry.MODIFIED, 0, gcOlderThan);

        sw.stop();

        if (numDeleted > 0) {
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java
    private void removeFromDocumentStore(List<String> ids) {
        try {
            stats.deleteSplitDocs.start();
            store.remove(Collection.NODES, ids);
        } finally {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java
            store.remove(Collection.NODES, ids);
        } finally {
            stats.deleteSplitDocs.stop();
        }
    }
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java
    private void removeFromDocumentStore(String id) {
        try {
            stats.deleteSplitDocs.start();
            store.remove(Collection.NODES, id);
        } finally {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java
            store.remove(Collection.NODES, id);
        } finally {
            stats.deleteSplitDocs.stop();
        }
    }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java

    private void logStats() {
        stats.sw.stop();
        long timeInSec = stats.sw.elapsed(TimeUnit.SECONDS);
        if (timeInSec > 60) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
    private void logStats() {
        stats.sw.stop();
        long timeInSec = stats.sw.elapsed(TimeUnit.SECONDS);
        if (timeInSec > 60) {
            LOG.warn(stats.toString());
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
    private static class Stats {

        private final Stopwatch sw = Stopwatch.createStarted();
        private final Path path;
        private final RevisionVector from, to;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
    private static class Stats {

        private final Stopwatch sw = Stopwatch.createStarted();
        private final Path path;
        private final RevisionVector from, to;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
    private static class Stats {

        private final Stopwatch sw = Stopwatch.createStarted();
        private final Path path;
        private final RevisionVector from, to;
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/TieredDiffCache.java`
#### Snippet
```java
            // with the same key
            RevisionsKey k = new RevisionsKey(from, to);
            if (localDiffMisses.getIfPresent(k) == null) {
                // check local without loader and fallback to
                // memory cache when there is a cache miss
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/TieredDiffCache.java`
#### Snippet
```java
                }
                // remember cache miss
                localDiffMisses.put(k, k);
            }
        }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/TieredDiffCache.java`
#### Snippet
```java
     * the same revision vector range.
     */
    private Cache<RevisionsKey, RevisionsKey> localDiffMisses
            = CacheBuilder.newBuilder().maximumSize(128).build();

```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/TieredDiffCache.java`
#### Snippet
```java
     */
    private Cache<RevisionsKey, RevisionsKey> localDiffMisses
            = CacheBuilder.newBuilder().maximumSize(128).build();

    private final int clusterId;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            } else {
                // single run -> read from stop watches
                this.activeElapsed += run.active.elapsed(MICROSECONDS);
                this.collectDeletedDocsElapsed += run.collectDeletedDocs.elapsed(MICROSECONDS);
                this.checkDeletedDocsElapsed += run.checkDeletedDocs.elapsed(MICROSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                // single run -> read from stop watches
                this.activeElapsed += run.active.elapsed(MICROSECONDS);
                this.collectDeletedDocsElapsed += run.collectDeletedDocs.elapsed(MICROSECONDS);
                this.checkDeletedDocsElapsed += run.checkDeletedDocs.elapsed(MICROSECONDS);
                this.deleteDeletedDocsElapsed += run.deleteDeletedDocs.elapsed(MICROSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                this.activeElapsed += run.active.elapsed(MICROSECONDS);
                this.collectDeletedDocsElapsed += run.collectDeletedDocs.elapsed(MICROSECONDS);
                this.checkDeletedDocsElapsed += run.checkDeletedDocs.elapsed(MICROSECONDS);
                this.deleteDeletedDocsElapsed += run.deleteDeletedDocs.elapsed(MICROSECONDS);
                this.collectAndDeleteSplitDocsElapsed += run.collectAndDeleteSplitDocs.elapsed(MICROSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                this.collectDeletedDocsElapsed += run.collectDeletedDocs.elapsed(MICROSECONDS);
                this.checkDeletedDocsElapsed += run.checkDeletedDocs.elapsed(MICROSECONDS);
                this.deleteDeletedDocsElapsed += run.deleteDeletedDocs.elapsed(MICROSECONDS);
                this.collectAndDeleteSplitDocsElapsed += run.collectAndDeleteSplitDocs.elapsed(MICROSECONDS);
                this.deleteSplitDocsElapsed += run.deleteSplitDocs.elapsed(MICROSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                this.checkDeletedDocsElapsed += run.checkDeletedDocs.elapsed(MICROSECONDS);
                this.deleteDeletedDocsElapsed += run.deleteDeletedDocs.elapsed(MICROSECONDS);
                this.collectAndDeleteSplitDocsElapsed += run.collectAndDeleteSplitDocs.elapsed(MICROSECONDS);
                this.deleteSplitDocsElapsed += run.deleteSplitDocs.elapsed(MICROSECONDS);
                this.sortDocIdsElapsed += run.sortDocIds.elapsed(MICROSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                this.deleteDeletedDocsElapsed += run.deleteDeletedDocs.elapsed(MICROSECONDS);
                this.collectAndDeleteSplitDocsElapsed += run.collectAndDeleteSplitDocs.elapsed(MICROSECONDS);
                this.deleteSplitDocsElapsed += run.deleteSplitDocs.elapsed(MICROSECONDS);
                this.sortDocIdsElapsed += run.sortDocIds.elapsed(MICROSECONDS);
                this.updateResurrectedDocumentsElapsed += run.updateResurrectedDocuments.elapsed(MICROSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                this.collectAndDeleteSplitDocsElapsed += run.collectAndDeleteSplitDocs.elapsed(MICROSECONDS);
                this.deleteSplitDocsElapsed += run.deleteSplitDocs.elapsed(MICROSECONDS);
                this.sortDocIdsElapsed += run.sortDocIds.elapsed(MICROSECONDS);
                this.updateResurrectedDocumentsElapsed += run.updateResurrectedDocuments.elapsed(MICROSECONDS);
            }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                this.deleteSplitDocsElapsed += run.deleteSplitDocs.elapsed(MICROSECONDS);
                this.sortDocIdsElapsed += run.sortDocIds.elapsed(MICROSECONDS);
                this.updateResurrectedDocumentsElapsed += run.updateResurrectedDocuments.elapsed(MICROSECONDS);
            }
        }
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java

            int updateCount = 0;
            timer.reset().start();
            try {
                for (String s : resurrectedDocuments) {
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java

            int updateCount = 0;
            timer.reset().start();
            try {
                for (String s : resurrectedDocuments) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            }
            finally {
                delayOnModifications(timer.stop().elapsed(TimeUnit.MILLISECONDS));
            }
            return updateCount;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            }
            finally {
                delayOnModifications(timer.stop().elapsed(TimeUnit.MILLISECONDS));
            }
            return updateCount;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        }

        private void suspend(Stopwatch w) {
            if (w.isRunning()) {
                w.stop();
```

### UnstableApiUsage
'isRunning()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java

        private void suspend(Stopwatch w) {
            if (w.isRunning()) {
                w.stop();
            }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        private void suspend(Stopwatch w) {
            if (w.isRunning()) {
                w.stop();
            }
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        }

        private void resume(Stopwatch w) {
            if (!w.isRunning()) {
                w.start();
```

### UnstableApiUsage
'isRunning()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java

        private void resume(Stopwatch w) {
            if (!w.isRunning()) {
                w.start();
            }
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        private void resume(Stopwatch w) {
            if (!w.isRunning()) {
                w.start();
            }
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final TimeDurationFormatter df = TimeDurationFormatter.forLogging();
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final TimeDurationFormatter df = TimeDurationFormatter.forLogging();
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final TimeDurationFormatter df = TimeDurationFormatter.forLogging();
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            this.headRevision = checkNotNull(headRevision);
            this.cancel = checkNotNull(cancel);
            this.timer = Stopwatch.createUnstarted();
            this.options = options;
            this.monitor = monitor;
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            this.headRevision = checkNotNull(headRevision);
            this.cancel = checkNotNull(cancel);
            this.timer = Stopwatch.createUnstarted();
            this.options = options;
            this.monitor = monitor;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        int updateResurrectedGCCount;
        final TimeDurationFormatter df = TimeDurationFormatter.forLogging();
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        int updateResurrectedGCCount;
        final TimeDurationFormatter df = TimeDurationFormatter.forLogging();
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        int updateResurrectedGCCount;
        final TimeDurationFormatter df = TimeDurationFormatter.forLogging();
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        private VersionGCStats gc(long maxRevisionAgeInMillis) throws IOException {
            VersionGCStats stats = new VersionGCStats();
            stats.active.start();
            VersionGCRecommendations rec = new VersionGCRecommendations(maxRevisionAgeInMillis, nodeStore.getCheckpoints(),
                    nodeStore.getClock(), versionStore, options, gcMonitor);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            rec.evaluate(stats);
            monitor.info("Revision garbage collection finished in {}. {}",
                    TimeDurationFormatter.forLogging().format(phases.elapsed.elapsed(MICROSECONDS), MICROSECONDS), stats);
            stats.active.stop();
            return stats;
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            monitor.info("Revision garbage collection finished in {}. {}",
                    TimeDurationFormatter.forLogging().format(phases.elapsed.elapsed(MICROSECONDS), MICROSECONDS), stats);
            stats.active.stop();
            return stats;
        }
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        if (collector.compareAndSet(null, job)) {
            VersionGCStats overall = new VersionGCStats();
            overall.active.start();
            gcStats.started();
            boolean success = false;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                    }
                    averageDurationMs = ((averageDurationMs * (overall.iterationCount - 1))
                            + stats.active.elapsed(TimeUnit.MILLISECONDS)) / overall.iterationCount;
                }
                success = true;
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                return overall;
            } finally {
                overall.active.stop();
                collector.set(null);
                overall.success = success;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
        long activeElapsed, collectDeletedDocsElapsed, checkDeletedDocsElapsed, deleteDeletedDocsElapsed, collectAndDeleteSplitDocsElapsed,
                deleteSplitDocsElapsed, sortDocIdsElapsed, updateResurrectedDocumentsElapsed;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
        long activeElapsed, collectDeletedDocsElapsed, checkDeletedDocsElapsed, deleteDeletedDocsElapsed, collectAndDeleteSplitDocsElapsed,
                deleteSplitDocsElapsed, sortDocIdsElapsed, updateResurrectedDocumentsElapsed;
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
        long activeElapsed, collectDeletedDocsElapsed, checkDeletedDocsElapsed, deleteDeletedDocsElapsed, collectAndDeleteSplitDocsElapsed,
                deleteSplitDocsElapsed, sortDocIdsElapsed, updateResurrectedDocumentsElapsed;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
        long activeElapsed, collectDeletedDocsElapsed, checkDeletedDocsElapsed, deleteDeletedDocsElapsed, collectAndDeleteSplitDocsElapsed,
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
        long activeElapsed, collectDeletedDocsElapsed, checkDeletedDocsElapsed, deleteDeletedDocsElapsed, collectAndDeleteSplitDocsElapsed,
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
        long activeElapsed, collectDeletedDocsElapsed, checkDeletedDocsElapsed, deleteDeletedDocsElapsed, collectAndDeleteSplitDocsElapsed,
```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                if (log.isDebugEnabled()) {
                    StringBuilder sb = new StringBuilder("Performing batch deletion of previous documents with following ids. \n");
                    Joiner.on(LINE_SEPARATOR.value()).appendTo(sb, deletionBatch);
                    log.debug(sb.toString());
                }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                if (log.isDebugEnabled()) {
                    StringBuilder sb = new StringBuilder("Performing batch deletion of previous documents with following ids. \n");
                    Joiner.on(LINE_SEPARATOR.value()).appendTo(sb, deletionBatch);
                    log.debug(sb.toString());
                }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        private final Set<String> exclude = Sets.newHashSet();
        private boolean sorted = false;
        private final Stopwatch timer;
        private final VersionGCOptions options;
        private final GCMonitor monitor;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch sortDocIds = Stopwatch.createUnstarted();
        final Stopwatch updateResurrectedDocuments = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteSplitDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        private final GCMonitor monitor;
        private final List<GCPhase> phases = Lists.newArrayList();
        private final Map<GCPhase, Stopwatch> watches = Maps.newHashMap();
        private final AtomicBoolean canceled;

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java

        final VersionGCStats stats;
        final Stopwatch elapsed;
        private final GCMonitor monitor;
        private final List<GCPhase> phases = Lists.newArrayList();
```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                if (log.isTraceEnabled()) {
                    StringBuilder sb = new StringBuilder("Performing batch deletion of documents with following ids. \n");
                    Joiner.on(LINE_SEPARATOR.value()).appendTo(sb, deletionBatch.keySet());
                    log.trace(sb.toString());
                }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                if (log.isTraceEnabled()) {
                    StringBuilder sb = new StringBuilder("Performing batch deletion of documents with following ids. \n");
                    Joiner.on(LINE_SEPARATOR.value()).appendTo(sb, deletionBatch.keySet());
                    log.trace(sb.toString());
                }
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                }

                timer.reset().start();
                try {
                    int nRemoved = ds.remove(NODES, deletionBatch);
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                }

                timer.reset().start();
                try {
                    int nRemoved = ds.remove(NODES, deletionBatch);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                    }
                } finally {
                    delayOnModifications(timer.stop().elapsed(TimeUnit.MILLISECONDS));
                }
            }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                    }
                } finally {
                    delayOnModifications(timer.stop().elapsed(TimeUnit.MILLISECONDS));
                }
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        final Stopwatch active = Stopwatch.createUnstarted();
        final Stopwatch collectDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch checkDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch deleteDeletedDocs = Stopwatch.createUnstarted();
        final Stopwatch collectAndDeleteSplitDocs = Stopwatch.createUnstarted();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        }

        private Stopwatch currentWatch() {
            return watches.get(current());
        }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                updateStatus();
            }
            this.elapsed.stop();
        }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            this.stats = stats;
            this.monitor = monitor;
            this.elapsed = Stopwatch.createStarted();
            this.watches.put(GCPhase.NONE, Stopwatch.createStarted());
            this.watches.put(GCPhase.COLLECTING, stats.collectDeletedDocs);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            this.stats = stats;
            this.monitor = monitor;
            this.elapsed = Stopwatch.createStarted();
            this.watches.put(GCPhase.NONE, Stopwatch.createStarted());
            this.watches.put(GCPhase.COLLECTING, stats.collectDeletedDocs);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            this.monitor = monitor;
            this.elapsed = Stopwatch.createStarted();
            this.watches.put(GCPhase.NONE, Stopwatch.createStarted());
            this.watches.put(GCPhase.COLLECTING, stats.collectDeletedDocs);
            this.watches.put(GCPhase.CHECKING, stats.checkDeletedDocs);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            this.monitor = monitor;
            this.elapsed = Stopwatch.createStarted();
            this.watches.put(GCPhase.NONE, Stopwatch.createStarted());
            this.watches.put(GCPhase.COLLECTING, stats.collectDeletedDocs);
            this.watches.put(GCPhase.CHECKING, stats.checkDeletedDocs);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            } else {
                String timeDeletingSplitDocs = "";
                if (deleteSplitDocs.elapsed(MICROSECONDS) > 0) {
                    timeDeletingSplitDocs = String.format(" (of which %s deleting)",
                            df.format(deleteSplitDocs.elapsed(MICROSECONDS), MICROSECONDS));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                if (deleteSplitDocs.elapsed(MICROSECONDS) > 0) {
                    timeDeletingSplitDocs = String.format(" (of which %s deleting)",
                            df.format(deleteSplitDocs.elapsed(MICROSECONDS), MICROSECONDS));
                }
                timings = String.format(fmt, df.format(collectDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                            df.format(deleteSplitDocs.elapsed(MICROSECONDS), MICROSECONDS));
                }
                timings = String.format(fmt, df.format(collectDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(checkDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(sortDocIds.elapsed(MICROSECONDS), MICROSECONDS),
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                }
                timings = String.format(fmt, df.format(collectDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(checkDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(sortDocIds.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(updateResurrectedDocuments.elapsed(MICROSECONDS), MICROSECONDS),
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                timings = String.format(fmt, df.format(collectDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(checkDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(sortDocIds.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(updateResurrectedDocuments.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(deleteDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                        df.format(checkDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(sortDocIds.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(updateResurrectedDocuments.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(deleteDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(collectAndDeleteSplitDocs.elapsed(MICROSECONDS), MICROSECONDS),
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                        df.format(sortDocIds.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(updateResurrectedDocuments.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(deleteDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(collectAndDeleteSplitDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        timeDeletingSplitDocs);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                        df.format(updateResurrectedDocuments.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(deleteDeletedDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        df.format(collectAndDeleteSplitDocs.elapsed(MICROSECONDS), MICROSECONDS),
                        timeDeletingSplitDocs);
            }
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
                          @NotNull NodeDocument doc) {
        // check cache first
        String value = commitValueCache.getIfPresent(changeRevision);
        if (value != null) {
            return value;
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
            // the commit value will change
            try {
                commitValueCache.put(changeRevision, value);
            } catch (RuntimeException re) {
                LoggerFactory.getLogger(getClass()).warn("resolve: RuntimeException with " +
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java

    CachingCommitValueResolver(int cacheSize, Supplier<RevisionVector> sweepRevisions) {
        this.commitValueCache = newBuilder().maximumSize(cacheSize).build();
        this.cacheSize = cacheSize;
        this.sweepRevisions = sweepRevisions;
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
            = of(NodeDocument.COMMIT_ROOT, NodeDocument.REVISIONS);

    private final Cache<Revision, String> commitValueCache;

    private final int cacheSize;
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
                                      @NotNull NodeDocument doc) {
                    // check cache first
                    String value = commitValueCache.getIfPresent(changeRevision);
                    if (value != null) {
                        return value;
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
                    }
                    // check negative cache
                    if (emptyCommitValueCache.getIfPresent(changeRevision) != null) {
                        return null;
                    }
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
                    if (value == null && isOld(changeRevision, clock, maxAgeMillis)) {
                        // remember
                        emptyCommitValueCache.put(changeRevision, "");
                    }
                    return value;
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java
            return new CommitValueResolver() {

                private final Cache<Revision, String> emptyCommitValueCache
                        = newBuilder().maximumSize(cacheSize).build();

```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CachingCommitValueResolver.java`
#### Snippet
```java

                private final Cache<Revision, String> emptyCommitValueCache
                        = newBuilder().maximumSize(cacheSize).build();

                @Override
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
            } else {
                LOG.debug("Adding cache entry for {} from {} to {}", path, from, to);
                diffCache.put(key, new StringValue(changes));
            }
        }
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
                                     @NotNull final String name) {
        Key parentKey = new Key(parent, from, to);
        StringValue parentCachedEntry = diffCache.getIfPresent(parentKey);
        boolean unchanged;
        if (parentCachedEntry == null) {
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
    @Override
    public void invalidateAll() {
        diffCache.invalidateAll();
    }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
     * Key: PathRev, value: StringValue
     */
    protected final Cache<CacheValue, StringValue> diffCache;
    protected final CacheStats diffCacheStats;

```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
        StringValue diff;
        if (loader == null) {
            diff = diffCache.getIfPresent(key);
            if (diff == null && isUnchanged(from, to, path)) {
                diff = new StringValue("");
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
        } else {
            try {
                diff = diffCache.get(key, new Callable<StringValue>() {
                    @Override
                    public StringValue call() throws Exception {
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ValueMap.java`
#### Snippet
```java
                    iterators.add(Iterators.singletonIterator(doc));
                    iterators.add(doc.getPreviousDocs(property, null).iterator());                            
                    docs = Iterators.mergeSorted(iterators, new Comparator<NodeDocument>() {
                                @Override
                                public int compare(NodeDocument o1,
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java`
#### Snippet
```java
    @Override
    public void invalidateAll() {
        diffCache.invalidateAll();
    }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java`
#### Snippet
```java
    private static int MAX_ENTRY_SIZE = 16 * 1024 * 1024;

    private final Cache<RevisionsKey, Diff> diffCache;
    private final CacheStats diffCacheStats;

```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java`
#### Snippet
```java
                             @Nullable Loader loader) {
        RevisionsKey key = new RevisionsKey(from, to);
        Diff diff = diffCache.getIfPresent(key);
        if (diff != null) {
            String result = diff.get(path);
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java`
#### Snippet
```java
                    return false;
                }
                diffCache.put(new RevisionsKey(from, to),
                        new Diff(changesPerPath, size));
                LOG.debug("Adding cache entry from {} to {}", from, to);
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    public String cleanAllCaches() {
        nodeStore.getDiffCache().invalidateAll();
        nodeStore.getNodeCache().invalidateAll();
        nodeStore.getNodeChildrenCache().invalidateAll();
        nodeStore.getDocumentStore().invalidateCache();
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
        nodeStore.getDiffCache().invalidateAll();
        nodeStore.getNodeCache().invalidateAll();
        nodeStore.getNodeChildrenCache().invalidateAll();
        nodeStore.getDocumentStore().invalidateCache();
        return "Caches invalidated.";
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
                return "DiffCache invalidated.";
            case "NODE":
                nodeStore.getNodeCache().invalidateAll();
                return "NodeCache invalidated.";
            case "NODECHILDREN":
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
                return "NodeCache invalidated.";
            case "NODECHILDREN":
                nodeStore.getNodeChildrenCache().invalidateAll();
                return "NodeChildrenCache invalidated.";
            case "DOCUMENT":
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            LOG.debug("Renewing lease for cluster id " + id + " with UpdateOp " + update);
        }
        Stopwatch sw = Stopwatch.createStarted();
        DocumentStoreException dse;
        Object result = null;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            LOG.debug("Renewing lease for cluster id " + id + " with UpdateOp " + update);
        }
        Stopwatch sw = Stopwatch.createStarted();
        DocumentStoreException dse;
        Object result = null;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            LOG.debug("Renewing lease for cluster id " + id + " with UpdateOp " + update);
        }
        Stopwatch sw = Stopwatch.createStarted();
        DocumentStoreException dse;
        Object result = null;
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            result = e.toString();
        } finally {
            sw.stop();
            String msg = "Lease renewal for cluster id {} took {}, resulted in: {}";
            if (sw.elapsed(TimeUnit.SECONDS) > 10) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            sw.stop();
            String msg = "Lease renewal for cluster id {} took {}, resulted in: {}";
            if (sw.elapsed(TimeUnit.SECONDS) > 10) {
                LOG.warn(msg, id, sw, result);
            } else if (sw.elapsed(TimeUnit.SECONDS) > 1) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            if (sw.elapsed(TimeUnit.SECONDS) > 10) {
                LOG.warn(msg, id, sw, result);
            } else if (sw.elapsed(TimeUnit.SECONDS) > 1) {
                LOG.info(msg, id, sw, result);
            } else if (LOG.isDebugEnabled()) {
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
    Iterable<Revision> getAllChanges() {
        RevisionVector empty = new RevisionVector();
        return Iterables.mergeSorted(ImmutableList.of(
                getChanges(REVISIONS, empty),
                getChanges(COMMIT_ROOT, empty)
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            return changes.get(0);
        } else {
            return Iterables.mergeSorted(changes, StableRevisionComparator.REVERSE);
        }
    }
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
        } else if (!revs.isEmpty()) {
            // merge sort them
            changes.add(mergeSorted(revs, ValueComparator.REVERSE));
        }
    }
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            return changes.get(0);
        } else {
            return mergeSorted(changes, ValueComparator.REVERSE);
        }
    }
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
        // if we don't have clusterIds, we can use the local changes only
        boolean fullScan = true;
        Iterable<Revision> changes = Iterables.mergeSorted(
                ImmutableList.of(
                        getLocalRevisions().keySet(),
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            // include previous documents as well (only needed in rare cases)
            fullScan = false;
            changes = Iterables.mergeSorted(
                    ImmutableList.of(
                            changes,
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    }

    public Cache<PathRev, DocumentNodeState> getNodeCache() {
        return nodeCache;
    }
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    String cachedDocStr = docAsString(id, true);
                    String uncachedDocStr = docAsString(id, false);
                    nodeCache.invalidate(new PathRev(p, readRevision));
                    nodeChildrenCache.invalidate(childNodeCacheKey(
                            parent.getPath(), readRevision, name));
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    String uncachedDocStr = docAsString(id, false);
                    nodeCache.invalidate(new PathRev(p, readRevision));
                    nodeChildrenCache.invalidate(childNodeCacheKey(
                            parent.getPath(), readRevision, name));
                    String exceptionMsg = String.format(
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

        NamePathRev key = childNodeCacheKey(parentPath, rev, "");//read first child cache entry
        DocumentNodeState.Children children = nodeChildrenCache.getIfPresent(key);
        String lookupChildName = path.getName();

```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        try {
            NamePathRev key = childNodeCacheKey(path, readRevision, name);
            DocumentNodeState.Children children = nodeChildrenCache.get(key, new Callable<DocumentNodeState.Children>() {
                @Override
                public DocumentNodeState.Children call() throws Exception {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                // the generational persistent cache doesn't support that)
                children = readChildren(parent, name, limit);
                nodeChildrenCache.put(key, children);
            }
            return children;                
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    }

    public Cache<NamePathRev, DocumentNodeState.Children> getNodeChildrenCache() {
        return nodeChildrenCache;
    }
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        try {
            PathRev key = new PathRev(path, rev);
            DocumentNodeState node = nodeCache.get(key, new Callable<DocumentNodeState>() {
                @Override
                public DocumentNodeState call() throws Exception {
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

    void invalidateNodeCache(String path, RevisionVector revision){
        nodeCache.invalidate(new PathRev(Path.fromString(path), revision));
    }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * Key: PathRev, value: DocumentNodeState
     */
    private final Cache<PathRev, DocumentNodeState> nodeCache;
    private final CacheStats nodeCacheStats;

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     */
    boolean renewClusterIdLease() {
        Stopwatch sw = Stopwatch.createStarted();
        boolean renewedOrException = true;
        try {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     */
    boolean renewClusterIdLease() {
        Stopwatch sw = Stopwatch.createStarted();
        boolean renewedOrException = true;
        try {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     */
    boolean renewClusterIdLease() {
        Stopwatch sw = Stopwatch.createStarted();
        boolean renewedOrException = true;
        try {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
            // In case lease is not renewed (can happen if it had not expired), we don't collect the stats
            if (renewedOrException) {
                nodeStoreStatsCollector.doneLeaseUpdate(sw.elapsed(MICROSECONDS));
            }
        }
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    NamePathRev key = childNodeCacheKey(path, afterLastRev, "");
                    LOG.debug("nodeChildrenCache.put({},{})", key, "NO_CHILDREN");
                    nodeChildrenCache.put(key, DocumentNodeState.NO_CHILDREN);
                }
            } else {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                NamePathRev key = childNodeCacheKey(path, afterLastRev, "");
                LOG.debug("nodeChildrenCache.put({},{})", key, c);
                nodeChildrenCache.put(key, c);
            }
        } else {
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                RevisionVector lastRev = beforeState.getLastRevision();
                PathRev key = new PathRev(p, lastRev);
                beforeState = nodeCache.getIfPresent(key);
                if (missing.equals(beforeState)) {
                    // This is unexpected. The before state should exist.
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                            "affected cache entries.", key);
                    store.invalidateCache(NODES, Utils.getIdFromPath(p));
                    nodeCache.invalidate(key);
                    nodeChildrenCache.invalidate(childNodeCacheKey(path, lastRev, ""));
                    beforeState = null;
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    store.invalidateCache(NODES, Utils.getIdFromPath(p));
                    nodeCache.invalidate(key);
                    nodeChildrenCache.invalidate(childNodeCacheKey(path, lastRev, ""));
                    beforeState = null;
                }
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                } else {
                    NamePathRev key = childNodeCacheKey(path, beforeState.getLastRevision(), "");
                    children = nodeChildrenCache.getIfPresent(key);
                }
            }
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    // simply use the same list
                    LOG.debug("nodeChildrenCache.put({},{})", afterKey, children);
                    nodeChildrenCache.put(afterKey, children);
                } else if (!children.hasMore){
                    // list is complete. use before children as basis
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    if (c.children.size() <= DocumentNodeState.MAX_FETCH_SIZE) {
                        LOG.debug("nodeChildrenCache.put({},{})", afterKey, c);
                        nodeChildrenCache.put(afterKey, c);
                    } else {
                        LOG.info("not caching more than {} child names for {}",
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    c.hasMore = true;
                    LOG.debug("nodeChildrenCache.put({},{})", afterKey, c);
                    nodeChildrenCache.put(afterKey, c);
                }
            }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * Key: PathRev, value: Children
     */
    private final Cache<NamePathRev, DocumentNodeState.Children> nodeChildrenCache;
    private final CacheStats nodeChildrenCacheStats;

```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

    void invalidateNodeChildrenCache() {
        nodeChildrenCache.invalidateAll();
    }

```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                                      @NotNull final RevisionVector rev) {
        PathRev key = new PathRev(path, rev);
        DocumentNodeState state = nodeCache.getIfPresent(key);
        if (state == missing) {
            state = DocumentNodeState.newMissingNode(this, path, rev);
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
    public static int writeStrings(Iterator<String> iterator, File f, boolean escape,
        @NotNull Function<String, String> transformer, @Nullable Logger logger, @Nullable String message) throws IOException {
        BufferedWriter writer = newWriter(f, UTF_8);
        boolean threw = true;

```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            threw = false;
        } finally {
            close(writer, threw);
        }
        return count;
```

### UnstableApiUsage
'asByteSink(java.io.File, com.google.common.io.FileWriteMode...)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java

        try {
            appendStream = asByteSink(appendTo, APPEND).openBufferedStream();

            for (File f : files) {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
                }
            }
            close(appendStream, threw);
        }
    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            threw = false;
        } finally {
            close(reader, threw);
        }
        return set;
```

### UnstableApiUsage
'move(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
        File sorted = createTempFile("fleioutilssort", null);
        merge(sortInBatch(file, comparator, true), sorted, comparator);
        move(sorted, file);
    }

```

### UnstableApiUsage
'move(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
        File sorted = createTempFile("fleioutilssort", null);
        merge(sortInBatch(file, lexComparator, true), sorted);
        move(sorted, file);
    }

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterable.java`
#### Snippet
```java
        Iterator<T> it = iterable.iterator();
        if (it instanceof Closeable) {
            closer.register((Closeable) it);
        }
        return it;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterable.java`
#### Snippet
```java
        this.iterable = iterable;
        if (closeable != null) {
            this.closer.register(closeable);
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterable.java`
#### Snippet
```java
public class CloseableIterable<T> implements Iterable<T>, Closeable {
    private final Iterable<T> iterable;
    private final Closer closer = Closer.create();

    public static <T> CloseableIterable<T> wrap(Iterable<T> iterable, Closeable closeable) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterable.java`
#### Snippet
```java
public class CloseableIterable<T> implements Iterable<T>, Closeable {
    private final Iterable<T> iterable;
    private final Closer closer = Closer.create();

    public static <T> CloseableIterable<T> wrap(Iterable<T> iterable, Closeable closeable) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterable.java`
#### Snippet
```java
public class CloseableIterable<T> implements Iterable<T>, Closeable {
    private final Iterable<T> iterable;
    private final Closer closer = Closer.create();

    public static <T> CloseableIterable<T> wrap(Iterable<T> iterable, Closeable closeable) {
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterable.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
Overridden method 'onRemoval(com.google.common.cache.RemovalNotification)' is declared in unstable interface 'com.google.common.cache.RemovalListener' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java

    @Override
    public void onRemoval(RemovalNotification<K, V> notification) {
        if (delegate != null) {
            delegate.onRemoval(notification);
```

### UnstableApiUsage
'com.google.common.cache.RemovalNotification' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java

    @Override
    public void onRemoval(RemovalNotification<K, V> notification) {
        if (delegate != null) {
            delegate.onRemoval(notification);
```

### UnstableApiUsage
'onRemoval(com.google.common.cache.RemovalNotification)' is declared in unstable interface 'com.google.common.cache.RemovalListener' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    public void onRemoval(RemovalNotification<K, V> notification) {
        if (delegate != null) {
            delegate.onRemoval(notification);
        }
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
public class ForwardingListener<K, V>
        implements RemovalListener<K, V> {
    private RemovalListener<K, V> delegate;

    public ForwardingListener() {
```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    }

    public static <K, V> ForwardingListener<K, V> newInstance(RemovalListener<K, V> delegate) {
        return new ForwardingListener<K, V>(delegate);
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    }

    public void setDelegate(RemovalListener<K, V> delegate) {
        this.delegate = delegate;
    }
```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
 */
public class ForwardingListener<K, V>
        implements RemovalListener<K, V> {
    private RemovalListener<K, V> delegate;

```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/ForwardingListener.java`
#### Snippet
```java
    }

    public ForwardingListener(RemovalListener<K, V> delegate) {
        this.delegate = delegate;
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
     * Locks to ensure cache consistency on reads, writes and invalidation.
     */
    private final Striped<Lock> locks = Striped.lock(4096);
    private final Lock rootLock = Striped.lock(1).get(ROOT);

```

### UnstableApiUsage
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
     * Locks to ensure cache consistency on reads, writes and invalidation.
     */
    private final Striped<Lock> locks = Striped.lock(4096);
    private final Lock rootLock = Striped.lock(1).get(ROOT);

```

### UnstableApiUsage
'lock(int)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
     * Locks to ensure cache consistency on reads, writes and invalidation.
     */
    private final Striped<Lock> locks = Striped.lock(4096);
    private final Lock rootLock = Striped.lock(1).get(ROOT);

```

### UnstableApiUsage
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
     */
    private final Striped<Lock> locks = Striped.lock(4096);
    private final Lock rootLock = Striped.lock(1).get(ROOT);

    @Override
```

### UnstableApiUsage
'lock(int)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
     */
    private final Striped<Lock> locks = Striped.lock(4096);
    private final Lock rootLock = Striped.lock(1).get(ROOT);

    @Override
```

### UnstableApiUsage
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
     */
    private final Striped<Lock> locks = Striped.lock(4096);
    private final Lock rootLock = Striped.lock(1).get(ROOT);

    @Override
```

### UnstableApiUsage
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/locks/StripedNodeDocumentLocks.java`
#### Snippet
```java
    @Override
    public Lock acquire(String key) {
        Lock lock = ROOT.equals(key) ? rootLock : locks.get(key);
        lock.lock();
        return lock;
```

### UnstableApiUsage
'put(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java

        public synchronized void put(String entry) {
            getFilter().put(entry);
        }

```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
        private final int entries;

        private volatile BloomFilter<String> filter;

        public LazyBloomFilter(int entries) {
```

### UnstableApiUsage
'expectedFpp()' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
                LOG.debug("Disposing CacheChangesTracker for {}, no filter was needed", keyFilter);
            } else {
                LOG.debug("Disposing CacheChangesTracker for {}, filter fpp was: {}", keyFilter, lazyBloomFilter.filter.expectedFpp());
            }
        }
```

### UnstableApiUsage
'mightContain(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
            } else {
                synchronized (this) {
                    return filter.mightContain(entry);
                }
            }
```

### UnstableApiUsage
'com.google.common.hash.Funnel' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
        private BloomFilter<String> getFilter() {
            if (filter == null) {
                filter = BloomFilter.create(new Funnel<String>() {
                    private static final long serialVersionUID = -7114267990225941161L;

```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
        }

        private BloomFilter<String> getFilter() {
            if (filter == null) {
                filter = BloomFilter.create(new Funnel<String>() {
```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
        private BloomFilter<String> getFilter() {
            if (filter == null) {
                filter = BloomFilter.create(new Funnel<String>() {
                    private static final long serialVersionUID = -7114267990225941161L;

```

### UnstableApiUsage
'create(com.google.common.hash.Funnel, int, double)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
        private BloomFilter<String> getFilter() {
            if (filter == null) {
                filter = BloomFilter.create(new Funnel<String>() {
                    private static final long serialVersionUID = -7114267990225941161L;

```

### UnstableApiUsage
Overridden method 'funnel(T, com.google.common.hash.PrimitiveSink)' is declared in unstable interface 'com.google.common.hash.Funnel' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java

                    @Override
                    public void funnel(String from, PrimitiveSink into) {
                        into.putUnencodedChars(from);
                    }
```

### UnstableApiUsage
'com.google.common.hash.PrimitiveSink' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java

                    @Override
                    public void funnel(String from, PrimitiveSink into) {
                        into.putUnencodedChars(from);
                    }
```

### UnstableApiUsage
'putUnencodedChars(java.lang.CharSequence)' is declared in unstable interface 'com.google.common.hash.PrimitiveSink' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
                    @Override
                    public void funnel(String from, PrimitiveSink into) {
                        into.putUnencodedChars(from);
                    }
                }, entries, FPP);
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    public NodeDocument getIfPresent(@NotNull String key) {
        if (isLeafPreviousDocId(key)) {
            return prevDocumentsCache.getIfPresent(new StringValue(key));
        } else {
            return nodeDocumentsCache.getIfPresent(new StringValue(key));
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
            return prevDocumentsCache.getIfPresent(new StringValue(key));
        } else {
            return nodeDocumentsCache.getIfPresent(new StringValue(key));
        }
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    private final List<CacheChangesTracker> changeTrackers;

    public NodeDocumentCache(@NotNull Cache<CacheValue, NodeDocument> nodeDocumentsCache,
                             @NotNull CacheStats nodeDocumentsCacheStats,
                             @NotNull Cache<StringValue, NodeDocument> prevDocumentsCache,
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    public NodeDocumentCache(@NotNull Cache<CacheValue, NodeDocument> nodeDocumentsCache,
                             @NotNull CacheStats nodeDocumentsCacheStats,
                             @NotNull Cache<StringValue, NodeDocument> prevDocumentsCache,
                             @NotNull CacheStats prevDocumentsCacheStats,
                             @NotNull NodeDocumentLocks locks) {
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     * Key: StringValue, value: NodeDocument
     */
    private final Cache<StringValue, NodeDocument> prevDocumentsCache;
    private final CacheStats prevDocumentsCacheStats;

```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
                    internalMarkChanged(id, tracker);
                    if (isLeafPreviousDocId(id)) {
                        prevDocumentsCache.invalidate(new StringValue(id));
                    } else {
                        nodeDocumentsCache.invalidate(new StringValue(id));
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
                        prevDocumentsCache.invalidate(new StringValue(id));
                    } else {
                        nodeDocumentsCache.invalidate(new StringValue(id));
                    }
                }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     * outside the critical section.
     *
     * @see Cache#get(Object, Callable)
     * @param key document key
     * @param valueLoader object used to retrieve the document
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     * outside the critical section.
     *
     * @see Cache#get(Object, Callable)
     * @param key document key
     * @param valueLoader object used to retrieve the document
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
        try {
            if (isLeafPreviousDocId(key)) {
                return prevDocumentsCache.get(new StringValue(key), wrappedLoader);
            } else {
                return nodeDocumentsCache.get(new StringValue(key), wrappedLoader);
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
                return prevDocumentsCache.get(new StringValue(key), wrappedLoader);
            } else {
                return nodeDocumentsCache.get(new StringValue(key), wrappedLoader);
            }
        } finally {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    protected final void putInternal(@NotNull NodeDocument doc, @Nullable CacheChangesTracker trackerToSkip) {
        if (isLeafPreviousDocId(doc.getId())) {
            prevDocumentsCache.put(new StringValue(doc.getId()), doc);
        } else {
            nodeDocumentsCache.put(new StringValue(doc.getId()), doc);
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
            prevDocumentsCache.put(new StringValue(doc.getId()), doc);
        } else {
            nodeDocumentsCache.put(new StringValue(doc.getId()), doc);
        }
        internalMarkChanged(doc.getId(), trackerToSkip);
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
public class NodeDocumentCache implements Closeable {

    private final Cache<CacheValue, NodeDocument> nodeDocumentsCache;

    private final CacheStats nodeDocumentsCacheStats;
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
        try {
            if (isLeafPreviousDocId(key)) {
                prevDocumentsCache.invalidate(new StringValue(key));
            } else {
                nodeDocumentsCache.invalidate(new StringValue(key));
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
                prevDocumentsCache.invalidate(new StringValue(key));
            } else {
                nodeDocumentsCache.invalidate(new StringValue(key));
            }

```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     */
    public Iterable<CacheValue> keys() {
        return Iterables.concat(nodeDocumentsCache.asMap().keySet(), prevDocumentsCache.asMap().keySet());
    }

```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     */
    public Iterable<CacheValue> keys() {
        return Iterables.concat(nodeDocumentsCache.asMap().keySet(), prevDocumentsCache.asMap().keySet());
    }

```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     */
    public Iterable<NodeDocument> values() {
        return Iterables.concat(nodeDocumentsCache.asMap().values(), prevDocumentsCache.asMap().values());
    }

```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
     */
    public Iterable<NodeDocument> values() {
        return Iterables.concat(nodeDocumentsCache.asMap().values(), prevDocumentsCache.asMap().values());
    }

```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java

        StringBuilder sb = new StringBuilder("Split documents with following ids were deleted as part of GC \n");
        Joiner.on(StandardSystemProperty.LINE_SEPARATOR.value()).appendTo(sb, ids);
        LOG.debug(sb.toString());
    }
```

### UnstableApiUsage
'LINE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java

        StringBuilder sb = new StringBuilder("Split documents with following ids were deleted as part of GC \n");
        Joiner.on(StandardSystemProperty.LINE_SEPARATOR.value()).appendTo(sb, ids);
        LOG.debug(sb.toString());
    }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java

        StringBuilder sb = new StringBuilder("Split documents with following ids were deleted as part of GC \n");
        Joiner.on(StandardSystemProperty.LINE_SEPARATOR.value()).appendTo(sb, ids);
        LOG.debug(sb.toString());
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreObserver.java`
#### Snippet
```java
        }

        Stopwatch w = Stopwatch.createStarted();
        AbstractDocumentNodeState target = (AbstractDocumentNodeState) root;
        NodeState secondaryRoot = nodeStore.getRoot();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreObserver.java`
#### Snippet
```java
        }

        Stopwatch w = Stopwatch.createStarted();
        AbstractDocumentNodeState target = (AbstractDocumentNodeState) root;
        NodeState secondaryRoot = nodeStore.getRoot();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreObserver.java`
#### Snippet
```java
        }

        Stopwatch w = Stopwatch.createStarted();
        AbstractDocumentNodeState target = (AbstractDocumentNodeState) root;
        NodeState secondaryRoot = nodeStore.getRoot();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreObserver.java`
#### Snippet
```java

            TimerStats timer = info.isExternal() ? external : local;
            timer.update(w.elapsed(TimeUnit.NANOSECONDS), TimeUnit.NANOSECONDS);

            if (!firstEventProcessed){
```

### UnstableApiUsage
'add(E)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCache.java`
#### Snippet
```java
        synchronized (queue){
            //TODO Possibly can be improved
            queue.add(root);
            previousRoots = queue.toArray(EMPTY);
        }
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCache.java`
#### Snippet
```java
    private final MeterStats prevRevMatched;
    private final int maxSize = 10000;
    private final EvictingQueue<AbstractDocumentNodeState> queue;
    private volatile AbstractDocumentNodeState[] previousRoots = EMPTY;

```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCache.java`
#### Snippet
```java
        this.headRevMatched = statisticsProvider.getMeter("DOCUMENT_CACHE_SEC_HEAD", StatsOptions.DEFAULT);
        this.prevRevMatched = statisticsProvider.getMeter("DOCUMENT_CACHE_SEC_OLD", StatsOptions.DEFAULT);
        this.queue = EvictingQueue.create(maxSize);
    }

```

### UnstableApiUsage
'create(int)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCache.java`
#### Snippet
```java
        this.headRevMatched = statisticsProvider.getMeter("DOCUMENT_CACHE_SEC_HEAD", StatsOptions.DEFAULT);
        this.prevRevMatched = statisticsProvider.getMeter("DOCUMENT_CACHE_SEC_OLD", StatsOptions.DEFAULT);
        this.queue = EvictingQueue.create(maxSize);
    }

```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/EvictionListener.java`
#### Snippet
```java
public interface EvictionListener<K, V> {

    void evicted(K key, V value, RemovalCause removalCause);

}
```

### UnstableApiUsage
Overridden method 'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    @Override
    public void invalidate(Object key) {
        memCache.invalidate(key);
        memCacheMetadata.remove(key);
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public void invalidate(Object key) {
        memCache.invalidate(key);
        memCacheMetadata.remove(key);
        if (async) {
```

### UnstableApiUsage
Overridden method 'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public V get(K key,
            Callable<? extends V> valueLoader)
            throws ExecutionException {
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
        try {
            memCacheMetadata.increment(key);
            value = memCache.get(key, valueLoader);
            ctx.stop();
            if (!async) {
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    static final Logger LOG = LoggerFactory.getLogger(NodeCache.class);

    private static final Set<RemovalCause> EVICTION_CAUSES = ImmutableSet.of(COLLECTED, EXPIRED, SIZE);

    private final PersistentCache cache;
```

### UnstableApiUsage
'COLLECTED' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    static final Logger LOG = LoggerFactory.getLogger(NodeCache.class);

    private static final Set<RemovalCause> EVICTION_CAUSES = ImmutableSet.of(COLLECTED, EXPIRED, SIZE);

    private final PersistentCache cache;
```

### UnstableApiUsage
'EXPIRED' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    static final Logger LOG = LoggerFactory.getLogger(NodeCache.class);

    private static final Set<RemovalCause> EVICTION_CAUSES = ImmutableSet.of(COLLECTED, EXPIRED, SIZE);

    private final PersistentCache cache;
```

### UnstableApiUsage
'SIZE' is declared in unstable enum 'com.google.common.cache.RemovalCause' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    static final Logger LOG = LoggerFactory.getLogger(NodeCache.class);

    private static final Set<RemovalCause> EVICTION_CAUSES = ImmutableSet.of(COLLECTED, EXPIRED, SIZE);

    private final PersistentCache cache;
```

### UnstableApiUsage
Overridden method 'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public void put(K key, V value) {
        memCacheMetadata.put(key);
        memCache.put(key, value);
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    public void put(K key, V value) {
        memCacheMetadata.put(key);
        memCache.put(key, value);
        if (!async) {
            write((K) key, value);
```

### UnstableApiUsage
Overridden method 'getAllPresent(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public ImmutableMap<K, V> getAllPresent(
            Iterable<?> keys) {
        Iterable<K> typedKeys = (Iterable<K>) keys;
```

### UnstableApiUsage
'getAllPresent(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
        Iterable<K> typedKeys = (Iterable<K>) keys;
        memCacheMetadata.incrementAll(keys);
        ImmutableMap<K, V> result = memCache.getAllPresent(keys);
        memCacheMetadata.removeAll(filter(typedKeys, not(in(result.keySet()))));
        return result;
```

### UnstableApiUsage
Overridden method 'invalidateAll(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public void invalidateAll(Iterable<?> keys) {
        memCache.invalidateAll(keys);
        memCacheMetadata.removeAll(keys);
```

### UnstableApiUsage
'invalidateAll(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public void invalidateAll(Iterable<?> keys) {
        memCache.invalidateAll(keys);
        memCacheMetadata.removeAll(keys);
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    private final PersistentCache cache;
    private final PersistentCacheStats stats;
    private final Cache<K, V> memCache;
    private final MultiGenerationMap<K, V> map;
    private final CacheType type;
```

### UnstableApiUsage
'com.google.common.cache.RemovalCause' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
     */
    @Override
    public void evicted(K key, V value, RemovalCause cause) {
        if (async && EVICTION_CAUSES.contains(cause) && value != null) {
            CacheMetadata.MetadataEntry metadata = memCacheMetadata.remove(key);
```

### UnstableApiUsage
Overridden method 'size()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public long size() {
        return memCache.size();
    }
```

### UnstableApiUsage
'size()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public long size() {
        return memCache.size();
    }

```

### UnstableApiUsage
Overridden method 'putAll(java.util.Map)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public void putAll(Map<? extends K, ? extends V> m) {
        memCacheMetadata.putAll(m.keySet());
        memCache.putAll(m);
```

### UnstableApiUsage
'putAll(java.util.Map)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    public void putAll(Map<? extends K, ? extends V> m) {
        memCacheMetadata.putAll(m.keySet());
        memCache.putAll(m);
    }

```

### UnstableApiUsage
Overridden method 'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public ConcurrentMap<K, V> asMap() {
        return memCache.asMap();
    }
```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public ConcurrentMap<K, V> asMap() {
        return memCache.asMap();
    }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    NodeCache(
            PersistentCache cache,
            Cache<K, V> memCache,
            DocumentNodeStore docNodeStore, 
            DocumentStore docStore,
```

### UnstableApiUsage
Overridden method 'cleanUp()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public void cleanUp() {
        memCache.cleanUp();
        memCacheMetadata.clear();
```

### UnstableApiUsage
'cleanUp()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public void cleanUp() {
        memCache.cleanUp();
        memCacheMetadata.clear();
    }
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
        if (buff.get() == 0) {
            value = null;
            memCache.invalidate(key);
            memCacheMetadata.remove(key);
        } else {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
            value = (V) valueType.read(buff);
            memCacheMetadata.put(key);
            memCache.put(key, value);
        }
        stats.markRecvBroadcast();
```

### UnstableApiUsage
Overridden method 'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    @Nullable
    public V getIfPresent(Object key) {
        memCacheMetadata.increment((K) key);
        V value = memCache.getIfPresent(key);
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    public V getIfPresent(Object key) {
        memCacheMetadata.increment((K) key);
        V value = memCache.getIfPresent(key);
        if (value == null) {
            memCacheMetadata.remove(key);
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
        value = readIfPresent((K) key);
        if (value != null) {
            memCache.put((K) key, value);
            stats.markHit();
        }
```

### UnstableApiUsage
Overridden method 'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public void invalidateAll() {
        memCache.invalidateAll();
        memCacheMetadata.clear();
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public void invalidateAll() {
        memCache.invalidateAll();
        memCacheMetadata.clear();
        map.clear();
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

class NodeCache<K extends CacheValue, V extends  CacheValue>
        implements Cache<K, V>, GenerationCache, EvictionListener<K, V> {

    static final Logger LOG = LoggerFactory.getLogger(NodeCache.class);
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public CacheStats stats() {
        return memCache.stats();
    }
```

### UnstableApiUsage
Overridden method 'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java

    @Override
    public CacheStats stats() {
        return memCache.stats();
    }
```

### UnstableApiUsage
'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
    @Override
    public CacheStats stats() {
        return memCache.stats();
    }

```

### UnstableApiUsage
'withKeyValueSeparator(java.lang.String)' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/memory/MemoryDocumentStore.java`
#### Snippet
```java
        lastReadWriteMode = readWriteMode;
        try {
            Map<String, String> map = Splitter.on(", ").withKeyValueSeparator(":").split(readWriteMode);
            String read = map.get("read");
            if (read != null) {
```

### UnstableApiUsage
'split(java.lang.CharSequence)' is declared in unstable class 'com.google.common.base.Splitter.MapSplitter' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/memory/MemoryDocumentStore.java`
#### Snippet
```java
        lastReadWriteMode = readWriteMode;
        try {
            Map<String, String> map = Splitter.on(", ").withKeyValueSeparator(":").split(readWriteMode);
            String read = map.get("read");
            if (read != null) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
        Root root = getRootOrThrow();
        UserManager userManager = getUsermanagerOrThrow(userMgr);
        Stopwatch watch = Stopwatch.createStarted();
        int numAttempt = 0;
        boolean success = false;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
        Root root = getRootOrThrow();
        UserManager userManager = getUsermanagerOrThrow(userMgr);
        Stopwatch watch = Stopwatch.createStarted();
        int numAttempt = 0;
        boolean success = false;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
        Root root = getRootOrThrow();
        UserManager userManager = getUsermanagerOrThrow(userMgr);
        Stopwatch watch = Stopwatch.createStarted();
        int numAttempt = 0;
        boolean success = false;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
                }
                log.debug("syncUser({}) {}, status: {}", user.getId(), timer, syncResult.getStatus());
                monitor.doneSyncExternalIdentity(watch.elapsed(NANOSECONDS), syncResult, numAttempt-1);
                success = true;
            } catch (CommitFailedException e) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
        SyncContext context = syncHandler.createContext(idp, userManager, new ValueFactoryImpl(root, NamePathMapper.DEFAULT));
        try {
            Stopwatch watch = Stopwatch.createStarted();
            DebugTimer timer = new DebugTimer();
            context = syncHandler.createContext(idp, userManager, new ValueFactoryImpl(root, NamePathMapper.DEFAULT));
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
        SyncContext context = syncHandler.createContext(idp, userManager, new ValueFactoryImpl(root, NamePathMapper.DEFAULT));
        try {
            Stopwatch watch = Stopwatch.createStarted();
            DebugTimer timer = new DebugTimer();
            context = syncHandler.createContext(idp, userManager, new ValueFactoryImpl(root, NamePathMapper.DEFAULT));
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
        SyncContext context = syncHandler.createContext(idp, userManager, new ValueFactoryImpl(root, NamePathMapper.DEFAULT));
        try {
            Stopwatch watch = Stopwatch.createStarted();
            DebugTimer timer = new DebugTimer();
            context = syncHandler.createContext(idp, userManager, new ValueFactoryImpl(root, NamePathMapper.DEFAULT));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
            timer.mark("commit");
            log.debug("validateUser({}) {}", id, timer);
            monitor.doneSyncId(watch.elapsed(NANOSECONDS), syncResult);
        } catch (CommitFailedException e) {
            throw new SyncException("User synchronization failed during commit.", e);
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }

    public synchronized <K extends CacheValue, V extends CacheValue> Cache<K, V> wrap(
            DocumentNodeStore docNodeStore,
            DocumentStore docStore,
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            DocumentNodeStore docNodeStore,
            DocumentStore docStore,
            Cache<K, V> base, CacheType type,
            StatisticsProvider statisticsProvider) {
        boolean wrap;
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }
    
    public synchronized <K extends CacheValue, V extends CacheValue> Cache<K, V> wrap(
            DocumentNodeStore docNodeStore, 
            DocumentStore docStore,
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            DocumentNodeStore docNodeStore, 
            DocumentStore docStore,
            Cache<K, V> base, CacheType type) {
       return wrap(docNodeStore, docStore, base, type, StatisticsProvider.NOOP);
    }
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }
    
    public static PersistentCacheStats getPersistentCacheStats(Cache<?, ?> cache) {
        if (cache instanceof NodeCache) {
            return ((NodeCache<?, ?>) cache).getPersistentCacheStats();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreRestoreImpl.java`
#### Snippet
```java

        ReadOnlyFileStore restore = fileStoreBuilder(source).buildReadOnly();
        Stopwatch watch = Stopwatch.createStarted();

        FileStore store = fileStoreBuilder(destination)
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreRestoreImpl.java`
#### Snippet
```java

        ReadOnlyFileStore restore = fileStoreBuilder(source).buildReadOnly();
        Stopwatch watch = Stopwatch.createStarted();

        FileStore store = fileStoreBuilder(destination)
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreRestoreImpl.java`
#### Snippet
```java

        ReadOnlyFileStore restore = fileStoreBuilder(source).buildReadOnly();
        Stopwatch watch = Stopwatch.createStarted();

        FileStore store = fileStoreBuilder(destination)
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreRestoreImpl.java`
#### Snippet
```java
        }

        watch.stop();
        log.info("Restore finished in {}.", watch);
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreBackupImpl.java`
#### Snippet
```java
    @Override
    public void backup(@NotNull SegmentReader reader, @NotNull Revisions revisions, @NotNull File destination) throws IOException, InvalidFileStoreVersionException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentGCOptions gcOptions = SegmentGCOptions.defaultGCOptions().setOffline();

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreBackupImpl.java`
#### Snippet
```java
    @Override
    public void backup(@NotNull SegmentReader reader, @NotNull Revisions revisions, @NotNull File destination) throws IOException, InvalidFileStoreVersionException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentGCOptions gcOptions = SegmentGCOptions.defaultGCOptions().setOffline();

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreBackupImpl.java`
#### Snippet
```java
    @Override
    public void backup(@NotNull SegmentReader reader, @NotNull Revisions revisions, @NotNull File destination) throws IOException, InvalidFileStoreVersionException {
        Stopwatch watch = Stopwatch.createStarted();
        SegmentGCOptions gcOptions = SegmentGCOptions.defaultGCOptions().setOffline();

```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreBackupImpl.java`
#### Snippet
```java
        }

        watch.stop();
        log.info("Backup finished in {}.", watch);
    }
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCacheStats.java`
#### Snippet
```java
    public RecordCacheStats(
            @NotNull String name,
            @NotNull Supplier<CacheStats> stats,
            @NotNull Supplier<Long> elementCount,
            @NotNull Supplier<Long> weight) {
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCacheStats.java`
#### Snippet
```java

    @Override
    protected CacheStats getCurrentStats() {
        return stats.get();
    }
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCacheStats.java`
#### Snippet
```java

    @NotNull
    private final Supplier<CacheStats> stats;

    @NotNull
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ReaderCache.java`
#### Snippet
```java
     */
    protected ReaderCache(long maxWeight, int averageWeight,
            @NotNull String name, @NotNull Weigher<CacheKey, T> weigher) {
        this.name = checkNotNull(name);
        this.weigher = checkNotNull(weigher);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ReaderCache.java`
#### Snippet
```java

    @NotNull
    private final Weigher<CacheKey, T> weigher;

    @NotNull
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
        Map<String, Object> props = new HashMap<String, Object>();
        props.put(NodeStoreProvider.ROLE, configuration.role());
        registrations.register(asCloseable(whiteboard.register(NodeStoreProvider.class, () -> store, props)));
        log.info("Registered NodeStoreProvider backed by SegmentNodeStore of type '{}'", configuration.role());
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java

            @Override
            public Closer getCloser() {
                return closer;
            }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
        PersistentCache persistentCache,
        StatisticsProvider statisticsProvider,
        Closer closer,
        Whiteboard whiteboard,
        String role,
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;

    private final Closer registrations = Closer.create();

    @Activate
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;

    private final Closer registrations = Closer.create();

    @Activate
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;

    private final Closer registrations = Closer.create();

    @Activate
```

### UnstableApiUsage
Overridden method 'isSatisfied()' is declared in unstable class 'com.google.common.util.concurrent.Monitor.Guard' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java

            @Override
            public boolean isSatisfied() {
                return disposed.containsAll(toReturn);
            }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     * interrupted flag.
     */
    private static boolean safeEnterWhen(Monitor monitor, Guard guard) {
        try {
            monitor.enterWhen(guard);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor.Guard' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     * interrupted flag.
     */
    private static boolean safeEnterWhen(Monitor monitor, Guard guard) {
        try {
            monitor.enterWhen(guard);
```

### UnstableApiUsage
'enterWhen(com.google.common.util.concurrent.Monitor.Guard)' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
    private static boolean safeEnterWhen(Monitor monitor, Guard guard) {
        try {
            monitor.enterWhen(guard);
            return true;
        } catch (InterruptedException ignore) {
```

### UnstableApiUsage
'Guard(com.google.common.util.concurrent.Monitor)' is declared in unstable class 'com.google.common.util.concurrent.Monitor.Guard' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
    @NotNull
    private Guard allReturned(final List<SegmentBufferWriter> toReturn) {
        return new Guard(poolMonitor) {

            @Override
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor.Guard' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
    @NotNull
    private Guard allReturned(final List<SegmentBufferWriter> toReturn) {
        return new Guard(poolMonitor) {

            @Override
```

### UnstableApiUsage
'enter()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     */
    private SegmentBufferWriter borrowWriter(@NotNull Object key, @NotNull GCGeneration gcGeneration) {
        poolMonitor.enter();
        try {
            SegmentBufferWriter writer = writers.remove(key);
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
            return writer;
        } finally {
            poolMonitor.leave();
        }
    }
```

### UnstableApiUsage
'enter()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
        List<SegmentBufferWriter> toReturn = newArrayList();

        poolMonitor.enter();
        try {
            // Collect all writers that are not currently in use and clear
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
            borrowed.clear();
        } finally {
            poolMonitor.leave();
        }

```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
                disposed.removeAll(toReturn);
            } finally {
                poolMonitor.leave();
            }
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     * this monitor.
     */
    private final Monitor poolMonitor = new Monitor(true);

    /**
```

### UnstableApiUsage
'Monitor(boolean)' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     * this monitor.
     */
    private final Monitor poolMonitor = new Monitor(true);

    /**
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     * this monitor.
     */
    private final Monitor poolMonitor = new Monitor(true);

    /**
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor.Guard' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     */
    @NotNull
    private Guard allReturned(final List<SegmentBufferWriter> toReturn) {
        return new Guard(poolMonitor) {

```

### UnstableApiUsage
'enter()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
     */
    private void returnWriter(Object key, SegmentBufferWriter writer) {
        poolMonitor.enter();
        try {
            if (borrowed.remove(writer)) {
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBufferWriterPool.java`
#### Snippet
```java
            }
        } finally {
            poolMonitor.leave();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java
        Whiteboard getWhiteboard();

        Closer getCloser();

        Logger getLogger();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreRegistrar.java`
#### Snippet
```java

    private void registerCloseable(Closeable c) {
        cfg.getCloser().register(c);
    }

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

    public static class SegmentCacheWeigher implements
            Weigher<SegmentId, Segment> {
        @Override
        public int weigh(@NotNull SegmentId id, @NotNull Segment segment) {
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

        @Override
        public int weigh(@NotNull String key, @NotNull RecordId value) {
            int size = PRIORITY_CACHE_OVERHEAD;
            size += estimateMemoryUsage(key);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

    public static class ReaderStringCacheWeigher implements
            Weigher<CacheKey, String> {

        @Override
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

        @Override
        public int weigh(@NotNull Template key, @NotNull RecordId value) {
            int size = RECORD_CACHE_OVERHEAD;
            size += key.estimateMemoryUsage();
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java
    }

    public static class StringCacheWeigher implements Weigher<String, RecordId> {

        @Override
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

    public static class TemplateCacheWeigher implements
            Weigher<Template, RecordId> {

        @Override
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java
            Weigher<SegmentId, Segment> {
        @Override
        public int weigh(@NotNull SegmentId id, @NotNull Segment segment) {
            return segmentWeight(segment);
        }
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

        @Override
        public int weigh(@NotNull CacheKey key, @NotNull String value) {
            int size = LIRS_CACHE_OVERHEAD;
            size += key.estimateMemoryUsage();
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

    @SuppressWarnings("unchecked")
    public static <K, V> Weigher<K, V> noopWeigher() {
        return (Weigher<K, V>) NOOP_WEIGHER;
    }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    public static <K, V> Weigher<K, V> noopWeigher() {
        return (Weigher<K, V>) NOOP_WEIGHER;
    }

```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

        @Override
        public int weigh(@NotNull Object key, @NotNull Object value) {
            return 1;
        }
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

    public static class ReaderTemplateCacheWeigher implements
            Weigher<CacheKey, Template> {

        @Override
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java
    }

    public static class NodeCacheWeigher implements Weigher<String, RecordId> {

        @Override
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

        @Override
        public int weigh(@NotNull CacheKey key, @NotNull Template value) {
            int size = LIRS_CACHE_OVERHEAD;
            size += key.estimateMemoryUsage();
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java

        @Override
        public int weigh(@NotNull String key, @NotNull RecordId value) {
            int size = RECORD_CACHE_OVERHEAD;
            size += estimateMemoryUsage(key);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java
    }

    private static final Weigher<Object, Object> NOOP_WEIGHER = new OneWeigher<>();

    @SuppressWarnings("unchecked")
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheWeights.java`
#### Snippet
```java
    private CacheWeights() {}

    public static class OneWeigher<K, V> implements Weigher<K, V> {

        @Override
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
            try {
                byte[] data = new byte[(int) length];
                ByteStreams.readFully(stream, data);
                return new String(data, Charsets.UTF_8);
            } catch (IOException e) {
```

### UnstableApiUsage
'readFully(java.io.InputStream, byte\[\])' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
            try {
                byte[] data = new byte[(int) length];
                ByteStreams.readFully(stream, data);
                return new String(data, Charsets.UTF_8);
            } catch (IOException e) {
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        @Override
        public void clear() {
            cache.invalidateAll();
        }

```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java

        @Override
        protected CacheStats getCurrentStats() {
            return new CacheStats(
                    hitCount.get(),
```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        @Override
        protected CacheStats getCurrentStats() {
            return new CacheStats(
                    hitCount.get(),
                    missCount.get(),
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        @Override
        protected CacheStats getCurrentStats() {
            return new CacheStats(
                    hitCount.get(),
                    missCount.get(),
```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        public Segment getSegment(@NotNull SegmentId id, @NotNull Callable<Segment> loader) throws ExecutionException {
            if (id.isDataSegmentId()) {
                return cache.get(id, () -> {
                    try {
                        long t0 = System.nanoTime();
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
         */
        @NotNull
        private final Cache<SegmentId, Segment> cache;

        /**
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        /**
         * Statistics of this cache. Do to the special access patter (see class
         * comment), we cannot rely on {@link Cache#stats()}.
         */
        @NotNull
```

### UnstableApiUsage
'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        /**
         * Statistics of this cache. Do to the special access patter (see class
         * comment), we cannot rely on {@link Cache#stats()}.
         */
        @NotNull
```

### UnstableApiUsage
'com.google.common.cache.RemovalNotification' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
         * Removal handler called whenever an item is evicted from the cache.
         */
        private void onRemove(@NotNull RemovalNotification<SegmentId, Segment> notification) {
            stats.evictionCount.incrementAndGet();
            if (notification.getValue() != null) {
```

### UnstableApiUsage
'getValue()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        private void onRemove(@NotNull RemovalNotification<SegmentId, Segment> notification) {
            stats.evictionCount.incrementAndGet();
            if (notification.getValue() != null) {
                stats.currentWeight.addAndGet(-segmentWeight(notification.getValue()));
            }
```

### UnstableApiUsage
'getValue()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
            stats.evictionCount.incrementAndGet();
            if (notification.getValue() != null) {
                stats.currentWeight.addAndGet(-segmentWeight(notification.getValue()));
            }
            if (notification.getKey() != null) {
```

### UnstableApiUsage
'getKey()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                stats.currentWeight.addAndGet(-segmentWeight(notification.getValue()));
            }
            if (notification.getKey() != null) {
                notification.getKey().unloaded();
            }
```

### UnstableApiUsage
'getKey()' is declared in unstable class 'com.google.common.cache.RemovalNotification' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
            }
            if (notification.getKey() != null) {
                notification.getKey().unloaded();
            }
        }
```

### UnstableApiUsage
'weigher(com.google.common.cache.Weigher)' is unstable because its signature references unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                    .concurrencyLevel(16)
                    .maximumWeight(maximumWeight)
                    .weigher(new SegmentCacheWeigher())
                    .removalListener(this::onRemove)
                    .build();
```

### UnstableApiUsage
'removalListener(com.google.common.cache.RemovalListener)' is unstable because its signature references unstable interface 'com.google.common.cache.RemovalListener' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                    .maximumWeight(maximumWeight)
                    .weigher(new SegmentCacheWeigher())
                    .removalListener(this::onRemove)
                    .build();
            this.stats = new Stats(NAME, maximumWeight, cache::size);
```

### UnstableApiUsage
'com.google.common.cache.RemovalListener' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                    .maximumWeight(maximumWeight)
                    .weigher(new SegmentCacheWeigher())
                    .removalListener(this::onRemove)
                    .build();
            this.stats = new Stats(NAME, maximumWeight, cache::size);
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                    .weigher(new SegmentCacheWeigher())
                    .removalListener(this::onRemove)
                    .build();
            this.stats = new Stats(NAME, maximumWeight, cache::size);
        }
```

### UnstableApiUsage
'size()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                    .removalListener(this::onRemove)
                    .build();
            this.stats = new Stats(NAME, maximumWeight, cache::size);
        }

```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
                id.loaded(segment);
                stats.currentWeight.addAndGet(segmentWeight(segment));
                cache.put(id, segment);
            }
        }
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                    	
            byte[] data = new byte[binariesInlineThreshold];
            int n = read(stream, data, 0, data.length);
            
            if (n < binariesInlineThreshold) {
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
            
            data = Arrays.copyOf(data, Segment.MEDIUM_LIMIT);
            n += read(stream, data, n, Segment.MEDIUM_LIMIT - n);
            
            if (n < Segment.MEDIUM_LIMIT) {
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java

            data = Arrays.copyOf(data, Segment.MAX_SEGMENT_SIZE);
            n += read(stream, data, n, Segment.MAX_SEGMENT_SIZE - n);
            long length = n;
            List<RecordId> blockIds =
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                }

                n = read(stream, data, 0, data.length);
                length += n;
            }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                return id;
            } finally {
                Closeables.close(stream, threw);
            }
        }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                return id;
            } finally {
                Closeables.close(stream, threw);
            }
        }
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java

        @NotNull
        private static <T> Supplier<CacheStats> accumulateRecordCacheStats(
                final Iterable<RecordCache<T>> caches) {
            return new Supplier<CacheStats>() {
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
        private static <T> Supplier<CacheStats> accumulateRecordCacheStats(
                final Iterable<RecordCache<T>> caches) {
            return new Supplier<CacheStats>() {
                @Override
                public CacheStats get() {
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
            return new Supplier<CacheStats>() {
                @Override
                public CacheStats get() {
                    CacheStats stats = new CacheStats(0, 0, 0, 0, 0, 0);
                    for (RecordCache<?> cache : caches) {
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
                @Override
                public CacheStats get() {
                    CacheStats stats = new CacheStats(0, 0, 0, 0, 0, 0);
                    for (RecordCache<?> cache : caches) {
                        stats = stats.plus(cache.getStats());
```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
                @Override
                public CacheStats get() {
                    CacheStats stats = new CacheStats(0, 0, 0, 0, 0, 0);
                    for (RecordCache<?> cache : caches) {
                        stats = stats.plus(cache.getStats());
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
                @Override
                public CacheStats get() {
                    CacheStats stats = new CacheStats(0, 0, 0, 0, 0, 0);
                    for (RecordCache<?> cache : caches) {
                        stats = stats.plus(cache.getStats());
```

### UnstableApiUsage
'plus(com.google.common.cache.CacheStats)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
                    CacheStats stats = new CacheStats(0, 0, 0, 0, 0, 0);
                    for (RecordCache<?> cache : caches) {
                        stats = stats.plus(cache.getStats());
                    }
                    return stats;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
                    new Supplier<CacheStats>() {
                        @Override
                        public CacheStats get() {
                            return nodeCache().getStats();
                        }
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
        public CacheStatsMBean getNodeCacheStats() {
            return new RecordCacheStats("Node deduplication cache stats",
                    new Supplier<CacheStats>() {
                        @Override
                        public CacheStats get() {
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
     */
    @NotNull
    public static <T> Supplier<RecordCache<T>> factory(int size, @NotNull Weigher<T, RecordId> weigher) {
        if (size <= 0) {
            return Empty.emptyFactory();
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
        }

        Default(final int size, @NotNull final Weigher<K, RecordId> weigher) {
            this.weigher = checkNotNull(weigher);
            records = new LinkedHashMap<K, RecordId>(size * 4 / 3, 0.75f, true) {
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
        private long weight = 0;

        static final <K> Supplier<RecordCache<K>> defaultFactory(final int size, @NotNull final Weigher<K, RecordId> weigher) {
            return new Supplier<RecordCache<K>>() {
                @Override
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java

        @NotNull
        private final Weigher<K, RecordId> weigher;

        private long weight = 0;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
     */
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, 0, 0, evictionCount);
    }
```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, 0, 0, evictionCount);
    }

```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, 0, 0, evictionCount);
    }

```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
            super.loadCount++;
            records.put(key, value);
            weight += weigher.weigh(key, value);
        }

```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
                    if (remove) {
                        Default.super.evictionCount++;
                        weight -= weigher.weigh(eldest.getKey(),
                                eldest.getValue());
                    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java

            @Override
            public Closer getCloser() {
                return closer;
            }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
        PersistentCache persistentCache,
        StatisticsProvider statisticsProvider,
        Closer closer,
        Whiteboard whiteboard,
        Logger logger
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;

    private final Closer closer = Closer.create();

    @Activate
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;

    private final Closer closer = Closer.create();

    @Activate
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;

    private final Closer closer = Closer.create();

    @Activate
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java
                : loader;

        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            segment = nextLoader.call();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java
                : loader;

        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            segment = nextLoader.call();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java
                : loader;

        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            segment = nextLoader.call();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java

            if (segment != null) {
                recordCacheLoadTimeInternal(stopwatch.elapsed(TimeUnit.NANOSECONDS), true);
                writeSegment(msb, lsb, segment);
            }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java
            return segment;
        } catch (RepositoryNotReachableException e) {
            recordCacheLoadTimeInternal(stopwatch.elapsed(TimeUnit.NANOSECONDS), false);

            // rethrow exception so that this condition can be distinguished from other types of errors (see OAK-9303)
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/AbstractPersistentCache.java`
#### Snippet
```java
        } catch (Exception t) {
            logger.error("Exception while loading segment {} from remote store or linked cache", new UUID(msb, lsb), t);
            recordCacheLoadTimeInternal(stopwatch.elapsed(TimeUnit.NANOSECONDS), false);
        }
        return segment;
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/SegmentCacheStats.java`
#### Snippet
```java

    @Override
    protected CacheStats getCurrentStats() {
        return new CacheStats(
                hitCount.get(),
```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/SegmentCacheStats.java`
#### Snippet
```java
    @Override
    protected CacheStats getCurrentStats() {
        return new CacheStats(
                hitCount.get(),
                missCount.get(),
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/persistentcache/SegmentCacheStats.java`
#### Snippet
```java
    @Override
    protected CacheStats getCurrentStats() {
        return new CacheStats(
                hitCount.get(),
                missCount.get(),
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PrintableStopwatch.java`
#### Snippet
```java
    private final Stopwatch stopwatch;

    private PrintableStopwatch(Stopwatch stopwatch) {
        this.stopwatch = stopwatch;
    }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PrintableStopwatch.java`
#### Snippet
```java
    @Override
    public String toString() {
        return String.format("%s (%d ms)", stopwatch, stopwatch.elapsed(TimeUnit.MILLISECONDS));
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PrintableStopwatch.java`
#### Snippet
```java
     */
    static PrintableStopwatch createStarted() {
        return new PrintableStopwatch(Stopwatch.createStarted());
    }

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PrintableStopwatch.java`
#### Snippet
```java
     */
    static PrintableStopwatch createStarted() {
        return new PrintableStopwatch(Stopwatch.createStarted());
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PrintableStopwatch.java`
#### Snippet
```java
    }

    private final Stopwatch stopwatch;

    private PrintableStopwatch(Stopwatch stopwatch) {
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/JournalReader.java`
#### Snippet
```java
            while ((line = reader.readLine()) != null) {
                if (line.indexOf(' ') != -1) {
                    List<String> splits = Splitter.on(' ').splitToList(line);
                    String revision = splits.get(0);
                    long timestamp = -1L;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/ReadOnlyFileStore.java`
#### Snippet
```java
    @Override
    public void close() {
        Closer closer = Closer.create();
        closer.register(tarFiles);
        closer.register(revisions);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/ReadOnlyFileStore.java`
#### Snippet
```java
    @Override
    public void close() {
        Closer closer = Closer.create();
        closer.register(tarFiles);
        closer.register(revisions);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/ReadOnlyFileStore.java`
#### Snippet
```java
    @Override
    public void close() {
        Closer closer = Closer.create();
        closer.register(tarFiles);
        closer.register(revisions);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/ReadOnlyFileStore.java`
#### Snippet
```java
    public void close() {
        Closer closer = Closer.create();
        closer.register(tarFiles);
        closer.register(revisions);
        closeAndLogOnFail(closer);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/ReadOnlyFileStore.java`
#### Snippet
```java
        Closer closer = Closer.create();
        closer.register(tarFiles);
        closer.register(revisions);
        closeAndLogOnFail(closer);
        System.gc(); // for any memory-mappings that are no longer used
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java
            }

            Closer closer = Closer.create();
            closer.register(repositoryLock::unlock);
            closer.register(tarFiles) ;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java
            }

            Closer closer = Closer.create();
            closer.register(repositoryLock::unlock);
            closer.register(tarFiles) ;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java
            }

            Closer closer = Closer.create();
            closer.register(repositoryLock::unlock);
            closer.register(tarFiles) ;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java

            Closer closer = Closer.create();
            closer.register(repositoryLock::unlock);
            closer.register(tarFiles) ;
            closer.register(revisions);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java
            Closer closer = Closer.create();
            closer.register(repositoryLock::unlock);
            closer.register(tarFiles) ;
            closer.register(revisions);

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStore.java`
#### Snippet
```java
            closer.register(repositoryLock::unlock);
            closer.register(tarFiles) ;
            closer.register(revisions);

            closeAndLogOnFail(closer);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        IndexEntry indexEntry = index.entry(i);
        ioMonitor.beforeSegmentRead(file, msb, lsb, indexEntry.getLength());
        Stopwatch stopwatch = Stopwatch.createStarted();
        Buffer buffer = access.read(indexEntry.getPosition(), indexEntry.getLength());
        long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        IndexEntry indexEntry = index.entry(i);
        ioMonitor.beforeSegmentRead(file, msb, lsb, indexEntry.getLength());
        Stopwatch stopwatch = Stopwatch.createStarted();
        Buffer buffer = access.read(indexEntry.getPosition(), indexEntry.getLength());
        long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        IndexEntry indexEntry = index.entry(i);
        ioMonitor.beforeSegmentRead(file, msb, lsb, indexEntry.getLength());
        Stopwatch stopwatch = Stopwatch.createStarted();
        Buffer buffer = access.read(indexEntry.getPosition(), indexEntry.getLength());
        long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarReader.java`
#### Snippet
```java
        Stopwatch stopwatch = Stopwatch.createStarted();
        Buffer buffer = access.read(indexEntry.getPosition(), indexEntry.getLength());
        long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
        ioMonitor.afterSegmentRead(file, msb, lsb, indexEntry.getLength(), elapsed);
        return buffer;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        log("remove", key);
        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        Stopwatch watch = startWatch();
        try {
            execute(session -> {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        } finally {
            invalidateCache(collection, key);
            stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, 1);
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        }
        try {
            Closeables.close(throttlingMetricsUpdater, false);
        } catch (IOException e) {
            LOG.warn("Error occurred while closing throttlingMetricsUpdater", e);
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        }
        try {
            Closeables.close(throttlingMetricsUpdater, false);
        } catch (IOException e) {
            LOG.warn("Error occurred while closing throttlingMetricsUpdater", e);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        String parentId = Utils.getParentIdFromLowerLimit(fromKey);
        long lockTime = -1;
        final Stopwatch watch = startWatch();

        boolean isSlaveOk = false;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                cacheChangesTracker.close();
            }
            stats.doneQuery(watch.elapsed(TimeUnit.NANOSECONDS), collection, fromKey, toKey,
                    indexedProperty != null , resultSize, lockTime, isSlaveOk);
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            lock = nodeLocks.acquire(updateOp.getId());
        }
        final Stopwatch watch = startWatch();
        boolean newEntry = false;
        try {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                lock.unlock();
            }
            stats.doneFindAndModify(watch.elapsed(TimeUnit.NANOSECONDS), collection, updateOp.getId(),
                    newEntry, true, 0);
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
    protected <T extends Document> T findUncached(Collection<T> collection, String key, DocumentReadPreference docReadPref) {
        log("findUncached", key, docReadPref);
        final Stopwatch watch = startWatch();
        boolean isSlaveOk = false;
        boolean docFound = true;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            return doc;
        } finally {
            stats.doneFindUncached(watch.elapsed(TimeUnit.NANOSECONDS), collection, key, docFound, isSlaveOk);
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        int num = 0;
        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        Stopwatch watch = startWatch();
        try {
            Bson query = Filters.and(
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }
        } finally {
            stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, num);
        }
        return num;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        int num = 0;
        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        Stopwatch watch = startWatch();
        try {
            List<String> batchIds = Lists.newArrayList();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }
        } finally {
            stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, num);
        }
        return num;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        log("remove", keys);
        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        Stopwatch watch = startWatch();
        try {
            for(List<String> keyBatch : Lists.partition(keys, IN_CLAUSE_BATCH_SIZE)){
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }
        } finally {
            stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, keys.size());
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
    }

    private Stopwatch startWatch() {
        return Stopwatch.createStarted();
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    private Stopwatch startWatch() {
        return Stopwatch.createStarted();
    }

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    private Stopwatch startWatch() {
        return Stopwatch.createStarted();
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        }

        final Stopwatch watch = startWatch();
        List<String> resultKeys = new ArrayList<>(keys.size());
        CacheChangesTracker tracker = null;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                tracker.close();
            }
            stats.donePrefetch(watch.elapsed(TimeUnit.NANOSECONDS), collection, resultKeys);
        }
        throw handleException(t, collection, keysToPrefetch);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        final Stopwatch watch = startWatch();
        boolean insertSuccess = false;
        try {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }
        } finally {
            stats.doneCreate(watch.elapsed(TimeUnit.NANOSECONDS), collection, ids, insertSuccess);
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        Map<UpdateOp, T> results = new LinkedHashMap<UpdateOp, T>();

        final Stopwatch watch = startWatch();
        try {
            for (UpdateOp updateOp : updateOps) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }));
        } finally {
            stats.doneCreateOrUpdate(watch.elapsed(TimeUnit.NANOSECONDS),
                    collection, Lists.transform(updateOps, new Function<UpdateOp, String>() {
                @Override
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java

        ioMonitor.beforeSegmentWrite(file, msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        access.write(data, offset, size);
        ioMonitor.afterSegmentWrite(file, msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java

        ioMonitor.beforeSegmentWrite(file, msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        access.write(data, offset, size);
        ioMonitor.afterSegmentWrite(file, msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java

        ioMonitor.beforeSegmentWrite(file, msb, lsb, size);
        Stopwatch stopwatch = Stopwatch.createStarted();
        access.write(data, offset, size);
        ioMonitor.afterSegmentWrite(file, msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java
        Stopwatch stopwatch = Stopwatch.createStarted();
        access.write(data, offset, size);
        ioMonitor.afterSegmentWrite(file, msb, lsb, size, stopwatch.elapsed(TimeUnit.NANOSECONDS));

        if (padding > 0) {
```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     */
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, loadExceptionCount, 0, evictionCount);
    }
```

### UnstableApiUsage
'CacheStats(long, long, long, long, long, long)' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, loadExceptionCount, 0, evictionCount);
    }

```

### UnstableApiUsage
'com.google.common.cache.CacheStats' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    @NotNull
    public CacheStats getStats() {
        return new CacheStats(hitCount, missCount, loadCount, loadExceptionCount, 0, evictionCount);
    }

```

### UnstableApiUsage
'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    private int weighEntry(Entry<?, ?> entry) {
        return weigher.weigh((K) entry.key, (V) entry.value);
    }

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @return  a new {@code PriorityCache} instance of the given {@code size}.
     */
    public static <K, V> Supplier<PriorityCache<K, V>> factory(final int size, @NotNull final Weigher<K, V> weigher) {
        checkArgument(bitCount(size) == 1);
        checkNotNull(weigher);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java

    @NotNull
    private final Weigher<K, V> weigher;
    private long weight = 0;

```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @param weigher   Needed to provide an estimation of the cache weight in memory
     */
    public PriorityCache(int size, int rehash, @NotNull Weigher<K, V> weigher) {
        checkArgument(bitCount(size) == 1);
        checkArgument(rehash >= 0);
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @param size      Size of the cache. Must be a power of {@code 2}.
     */
    public PriorityCache(int size, @NotNull Weigher<K, V> weigher) {
        this(size, 31 - numberOfTrailingZeros(size), weigher);
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        Stopwatch watch = Stopwatch.createStarted();

        try (FileStore store = newFileStore()) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        Stopwatch watch = Stopwatch.createStarted();

        try (FileStore store = newFileStore()) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        System.out.printf("    -> compacting\n");

        Stopwatch watch = Stopwatch.createStarted();

        try (FileStore store = newFileStore()) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
            }
        } catch (Exception e) {
            watch.stop();
            e.printStackTrace(System.err);
            System.out.printf("Compaction failed after %s.\n", printableStopwatch(watch));
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        }

        watch.stop();
        System.out.printf("    after\n");
        Set<File> afterFiles = listFiles(path);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
    }

    private static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java

    private static String printableStopwatch(Stopwatch s) {
        return String.format("%s (%ds)", s, s.elapsed(TimeUnit.SECONDS));
    }

```

### UnstableApiUsage
'com.google.common.escape.Escapers' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
        }

        String escaped = Escapers.builder()
                .setSafeRange(' ', '~')
                .addEscape('"', "\\\"")
```

### UnstableApiUsage
'builder()' is declared in unstable class 'com.google.common.escape.Escapers' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
        }

        String escaped = Escapers.builder()
                .setSafeRange(' ', '~')
                .addEscape('"', "\\\"")
```

### UnstableApiUsage
'setSafeRange(char, char)' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java

        String escaped = Escapers.builder()
                .setSafeRange(' ', '~')
                .addEscape('"', "\\\"")
                .addEscape('\\', "\\\\")
```

### UnstableApiUsage
'addEscape(char, java.lang.String)' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
        String escaped = Escapers.builder()
                .setSafeRange(' ', '~')
                .addEscape('"', "\\\"")
                .addEscape('\\', "\\\\")
                .build()
```

### UnstableApiUsage
'addEscape(char, java.lang.String)' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
                .setSafeRange(' ', '~')
                .addEscape('"', "\\\"")
                .addEscape('\\', "\\\\")
                .build()
                .escape(value);
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
                .addEscape('"', "\\\"")
                .addEscape('\\', "\\\\")
                .build()
                .escape(value);

```

### UnstableApiUsage
'escape(java.lang.String)' is declared in unstable class 'com.google.common.escape.Escaper' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
                .addEscape('\\', "\\\\")
                .build()
                .escape(value);

        return '"' + escaped + '"';
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java
        UUID id = UUID.fromString(segmentId);

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java
        UUID id = UUID.fromString(segmentId);

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'murmur3_32()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java
        UUID id = UUID.fromString(segmentId);

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java
        UUID id = UUID.fromString(segmentId);

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

        int len = data.length + EXTRA_HEADERS_WO_SIZE;
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

        int len = data.length + EXTRA_HEADERS_WO_SIZE;
```

### UnstableApiUsage
'padToLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/GetSegmentResponseEncoder.java`
#### Snippet
```java

        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putBytes(data).hash().padToLong();

        int len = data.length + EXTRA_HEADERS_WO_SIZE;
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java

        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java

        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'murmur3_32()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java

        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java

        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

```

### UnstableApiUsage
'putByte(byte)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

        byte[] blobIdBytes = blobId.getBytes();
```

### UnstableApiUsage
'putLong(long)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

        byte[] blobIdBytes = blobId.getBytes();
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

        byte[] blobIdBytes = blobId.getBytes();
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

        byte[] blobIdBytes = blobId.getBytes();
```

### UnstableApiUsage
'padToLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ChunkedBlobStream.java`
#### Snippet
```java
        byte mask = createMask(data.length);
        Hasher hasher = Hashing.murmur3_32().newHasher();
        long hash = hasher.putByte(mask).putLong(length).putBytes(data).hash().padToLong();

        byte[] blobIdBytes = blobId.getBytes();
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'murmur3_32()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'putByte(byte)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'putLong(long)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'padToLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte mask, long blobLength, byte[] data) {
        return Hashing.murmur3_32().newHasher().putByte(mask).putLong(blobLength).putBytes(data).hash().padToLong();
    }
    
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte[] data) {
        return Hashing.murmur3_32().newHasher().putBytes(data).hash().padToLong();
    }

```

### UnstableApiUsage
'murmur3_32()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte[] data) {
        return Hashing.murmur3_32().newHasher().putBytes(data).hash().padToLong();
    }

```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte[] data) {
        return Hashing.murmur3_32().newHasher().putBytes(data).hash().padToLong();
    }

```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte[] data) {
        return Hashing.murmur3_32().newHasher().putBytes(data).hash().padToLong();
    }

```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte[] data) {
        return Hashing.murmur3_32().newHasher().putBytes(data).hash().padToLong();
    }

```

### UnstableApiUsage
'padToLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/codec/ResponseDecoder.java`
#### Snippet
```java

    private static long hash(byte[] data) {
        return Hashing.murmur3_32().newHasher().putBytes(data).hash().padToLong();
    }

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
        StandbyServerSync standbyServerSync = builder.build();

        closer.register(standbyServerSync);
        standbyServerSync.start();

```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
            .withReadTimeoutMs(config.standby_readtimeout())
            .withAutoClean(config.standby_autoclean())
            .withSpoolFolder(new File(StandardSystemProperty.JAVA_IO_TMPDIR.value()))
            .withSecureConnection(config.secure())
            .withSSLKeyFile(config.sslKeyFile())
```

### UnstableApiUsage
'JAVA_IO_TMPDIR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
            .withReadTimeoutMs(config.standby_readtimeout())
            .withAutoClean(config.standby_autoclean())
            .withSpoolFolder(new File(StandardSystemProperty.JAVA_IO_TMPDIR.value()))
            .withSecureConnection(config.secure())
            .withSSLKeyFile(config.sslKeyFile())
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
            .withReadTimeoutMs(config.standby_readtimeout())
            .withAutoClean(config.standby_autoclean())
            .withSpoolFolder(new File(StandardSystemProperty.JAVA_IO_TMPDIR.value()))
            .withSecureConnection(config.secure())
            .withSSLKeyFile(config.sslKeyFile())
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java

        StandbyClientSync standbyClientSync = builder.build();
        closer.register(standbyClientSync);

        Dictionary<Object, Object> dictionary = new Hashtable<Object, Object>();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
        dictionary.put("scheduler.concurrent", false);
        ServiceRegistration registration = context.getBundleContext().registerService(Runnable.class.getName(), standbyClientSync, dictionary);
        closer.register(registration::unregister);

        log.info("Started standby on port {} with {}s sync frequency", config.port(), config.interval());
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
    private SegmentStoreProvider storeProvider = null;

    private final Closer closer = Closer.create();

    @Activate
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
    private SegmentStoreProvider storeProvider = null;

    private final Closer closer = Closer.create();

    @Activate
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
    private SegmentStoreProvider storeProvider = null;

    private final Closer closer = Closer.create();

    @Activate
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
    @Deactivate
    public void deactivate() throws Exception {
        closer.close();
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClientSyncExecution.java`
#### Snippet
```java
        }

        Stopwatch stopwatch = Stopwatch.createStarted();
        SegmentNodeState before = store.getHead();
        SegmentNodeBuilder builder = before.builder();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClientSyncExecution.java`
#### Snippet
```java
        }

        Stopwatch stopwatch = Stopwatch.createStarted();
        SegmentNodeState before = store.getHead();
        SegmentNodeBuilder builder = before.builder();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClientSyncExecution.java`
#### Snippet
```java
        }

        Stopwatch stopwatch = Stopwatch.createStarted();
        SegmentNodeState before = store.getHead();
        SegmentNodeBuilder builder = before.builder();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RepairCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Utils.createCloserWithShutdownHook();
        String h = "repair mongodb://host:port/database path";
        try {
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RepairCommand.java`
#### Snippet
```java
            MongoDocumentStoreHelper.repair(docStore, path);
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RepairCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java

    private void generateReport(String adminUser, String adminPwd, String...args) throws IOException {
        Closer closer = Utils.createCloserWithShutdownHook();
        String h = "mongodb://host:port/database|jdbc:...";

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java

            dns = builder.setClusterInvisible(true).setReadOnlyMode().build();
            closer.register(Utils.asCloseable(dns));

            Oak.OakDefaultComponents defs = new Oak.OakDefaultComponents();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            e.printStackTrace();
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    }

    public static NodeStore bootstrapNodeStore(NodeStoreOptions options, Closer closer) throws IOException, InvalidFileStoreVersionException {
        return bootstrapNodeStore(options, closer, false);
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    @Nullable
    static DocumentNodeStoreBuilder<?> createDocumentMKBuilder(String[] args, Closer closer, String h) throws IOException {
        return createDocumentMKBuilder(new NodeStoreOptions(h).parse(args), closer);
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    @Nullable
    static DocumentNodeStoreBuilder<?> createDocumentMKBuilder(NodeStoreOptions options,
                                                               Closer closer)
            throws IOException {
        String src = options.getStoreArg();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            }
            MongoConnection mongo = new MongoConnection(uri.getURI());
            closer.register(asCloseable(mongo));
            builder = newMongoDocumentNodeStoreBuilder().setMongoDB(
                    mongo.getMongoClient(), mongo.getDBName());
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            public void run() {
                try {
                    closer.close();
                } catch (IOException e) {
                    e.printStackTrace(System.err);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    @Nullable
    public static GarbageCollectableBlobStore bootstrapDataStore(String[] args, Closer closer)
        throws IOException, RepositoryException {
        OptionParser parser = new OptionParser();
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            Properties props = loadAndTransformProps(cfgPath);
            s3ds.setProperties(props);
            File homeDir =  Files.createTempDir();
            closer.register(asCloseable(homeDir));
            s3ds.init(homeDir.getAbsolutePath());
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            Properties props = loadAndTransformProps(cfgPath);
            s3ds.setProperties(props);
            File homeDir =  Files.createTempDir();
            closer.register(asCloseable(homeDir));
            s3ds.init(homeDir.getAbsolutePath());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            s3ds.setProperties(props);
            File homeDir =  Files.createTempDir();
            closer.register(asCloseable(homeDir));
            s3ds.init(homeDir.getAbsolutePath());
            delegate = s3ds;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            Properties props = loadAndTransformProps(cfgPath);
            azureds.setProperties(props);
            File homeDir =  Files.createTempDir();
            azureds.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            Properties props = loadAndTransformProps(cfgPath);
            azureds.setProperties(props);
            File homeDir =  Files.createTempDir();
            azureds.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            File homeDir =  Files.createTempDir();
            azureds.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
            delegate = azureds;
        } else if (options.has(nods)){
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        } else if (options.has(nods)){
            delegate = new DummyDataStore();
            File homeDir =  Files.createTempDir();
            delegate.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        } else if (options.has(nods)){
            delegate = new DummyDataStore();
            File homeDir =  Files.createTempDir();
            delegate.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            File homeDir =  Files.createTempDir();
            delegate.init(homeDir.getAbsolutePath());
            closer.register(asCloseable(homeDir));
        }
        else {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        }
        DataStoreBlobStore blobStore = new DataStoreBlobStore(delegate);
        closer.register(Utils.asCloseable(blobStore));

        return blobStore;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    }

    public static NodeStore bootstrapNodeStore(String[] args, Closer closer, String h) throws IOException, InvalidFileStoreVersionException {
        return bootstrapNodeStore(new NodeStoreOptions(h).parse(args), closer);
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    }

    static Closer createCloserWithShutdownHook() {
        Closer closer = Closer.create();
        Runtime.getRuntime().addShutdownHook(new Thread() {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    static Closer createCloserWithShutdownHook() {
        Closer closer = Closer.create();
        Runtime.getRuntime().addShutdownHook(new Thread() {
            public void run() {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    static Closer createCloserWithShutdownHook() {
        Closer closer = Closer.create();
        Runtime.getRuntime().addShutdownHook(new Thread() {
            public void run() {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    static Closer createCloserWithShutdownHook() {
        Closer closer = Closer.create();
        Runtime.getRuntime().addShutdownHook(new Thread() {
            public void run() {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    }

    public static NodeStore bootstrapNodeStore(NodeStoreOptions options, Closer closer, boolean readOnlyMode) throws IOException, InvalidFileStoreVersionException {
        String src = options.getStoreArg();
        if (src == null || src.length() == 0) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
                } // otherwise default is read-write
                DocumentNodeStore store = builder.build();
                closer.register(asCloseable(store));
                return store;
            }
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
                .withStrictVersionCheck(true)
                .buildReadOnly();
            closer.register(fileStore);
            return SegmentNodeStoreBuilders.builder(fileStore).build();
        }
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
            .withStrictVersionCheck(true)
            .build();
        closer.register(fileStore);
        return SegmentNodeStoreBuilders.builder(fileStore).build();
    }
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        OptionSpec<String> outDirOpt = parser.accepts("out-dir",
                        "Path where to store the blobs. Otherwise, blobs will be stored in the current directory.")
                .withRequiredArg().ofType(String.class).defaultsTo(System.getProperty("user.dir") + FILE_SEPARATOR.value() + "blobs");
        OptionSpec<Integer> concurrencyOpt = parser.accepts("concurrency",
                        "Max number of concurrent requests that can occur (the default value is equal to 16 multiplied by the number of cores)")
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        OptionSpec<String> outDirOpt = parser.accepts("out-dir",
                        "Path where to store the blobs. Otherwise, blobs will be stored in the current directory.")
                .withRequiredArg().ofType(String.class).defaultsTo(System.getProperty("user.dir") + FILE_SEPARATOR.value() + "blobs");
        OptionSpec<Integer> concurrencyOpt = parser.accepts("concurrency",
                        "Max number of concurrent requests that can occur (the default value is equal to 16 multiplied by the number of cores)")
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        if (id.length() < 6) {
            LOG.warn("Blob with name {} is less than 6 chars. Cannot create data folder structure. Storing in the root folder", blobName);
            return outDir + FILE_SEPARATOR.value() + blobName;
        } else {
            return outDir + FILE_SEPARATOR.value()
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        if (id.length() < 6) {
            LOG.warn("Blob with name {} is less than 6 chars. Cannot create data folder structure. Storing in the root folder", blobName);
            return outDir + FILE_SEPARATOR.value() + blobName;
        } else {
            return outDir + FILE_SEPARATOR.value()
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
            return outDir + FILE_SEPARATOR.value() + blobName;
        } else {
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
            return outDir + FILE_SEPARATOR.value() + blobName;
        } else {
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        } else {
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
        }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        } else {
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
        }
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        } else {
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
        }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
        } else {
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
        }
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
        }
    }
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCopyCommand.java`
#### Snippet
```java
            return outDir + FILE_SEPARATOR.value()
                    + blobName.substring(0, 2) + FILE_SEPARATOR.value() + blobName.substring(2, 4) + FILE_SEPARATOR.value()
                    + blobName.substring(4, 6) + FILE_SEPARATOR.value() + blobName;
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java

    private VersionGarbageCollector bootstrapVGC(RevisionsOptions options,
                                                 Closer closer)
            throws IOException {
        DocumentNodeStoreBuilder<?> builder = createDocumentMKBuilder(options, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    }

    private void reset(RevisionsOptions options, Closer closer)
            throws IOException {
        VersionGarbageCollector gc = bootstrapVGC(options, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    }

    private void info(RevisionsOptions options, Closer closer)
            throws IOException {
        VersionGarbageCollector gc = bootstrapVGC(options, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    }

    private void collect(final RevisionsOptions options, Closer closer)
            throws IOException {
        VersionGarbageCollector gc = bootstrapVGC(options, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    }

    private void sweep(RevisionsOptions options, Closer closer)
            throws IOException {
        int clusterId = options.getClusterId();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        useMemoryBlobStore(builder);
        DocumentNodeStore ns = builder.build();
        closer.register(asCloseable(ns));
        MissingLastRevSeeker seeker = builder.createMissingLastRevSeeker();
        SweepHelper.sweep(store, new RevisionContextWrapper(ns, clusterId), seeker);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Closer.create();
        try {
            RevisionsOptions options = new RevisionsOptions(USAGE).parse(args);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Closer.create();
        try {
            RevisionsOptions options = new RevisionsOptions(USAGE).parse(args);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Closer.create();
        try {
            RevisionsOptions options = new RevisionsOptions(USAGE).parse(args);
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        } catch (Throwable e) {
            LOG.error("Command failed", e);
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DocumentStoreCheckCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Utils.createCloserWithShutdownHook();

        String h = NAME + " mongodb://host:port/database|jdbc:... ";
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DocumentStoreCheckCommand.java`
#### Snippet
```java

            DocumentNodeStore dns = builder.build();
            closer.register(Utils.asCloseable(dns));

            new DocumentStoreCheck.Builder(dns, builder.getDocumentStore(), closer)
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DocumentStoreCheckCommand.java`
#### Snippet
```java

        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DocumentStoreCheckCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/MetricsExporterFixtureProvider.java`
#### Snippet
```java

        ExportMetricsArgs(String args) {
            List<String> split = Splitter.on(";").limit(3).omitEmptyStrings().trimResults().splitToList(args);
            this.exporterType = ExporterType.valueOf(split.get(0));

```

### UnstableApiUsage
'withKeyValueSeparator(java.lang.String)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/MetricsExporterFixtureProvider.java`
#### Snippet
```java

            if (split.size() > 2) {
                this.pushMap = Splitter.on(",").omitEmptyStrings().trimResults().withKeyValueSeparator("=").split(split.get(2));
            } else {
                this.pushMap = emptyMap();
```

### UnstableApiUsage
'split(java.lang.CharSequence)' is declared in unstable class 'com.google.common.base.Splitter.MapSplitter' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/MetricsExporterFixtureProvider.java`
#### Snippet
```java

            if (split.size() > 2) {
                this.pushMap = Splitter.on(",").omitEmptyStrings().trimResults().withKeyValueSeparator("=").split(split.get(2));
            } else {
                this.pushMap = emptyMap();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Utils.createCloserWithShutdownHook();
        try {
            String h = "clusternodes mongodb://host:port/database|jdbc:...";
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
            }
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
     */
    private static int countNtFrozenNodeReferences(NodeStoreOptions nopts) throws IOException {
        Closer closer = Utils.createCloserWithShutdownHook();
        try {
            // explicitly set readOnly mode
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
            return count;
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'getExitingScheduledExecutorService(java.util.concurrent.ScheduledThreadPoolExecutor)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        LuceneIndexEditorProvider ep = new LuceneIndexEditorProvider();
        ScheduledExecutorService executorService = MoreExecutors
                .getExitingScheduledExecutorService((ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(5));
        StatisticsProvider statsProvider = StatisticsProvider.NOOP;
        int queueSize = Integer.getInteger("queueSize", 1000);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
        String password = passwordOption.value(options);

        Closer closer = Utils.createCloserWithShutdownHook();
        closer.register(nodeStoreFixture);

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java

        Closer closer = Utils.createCloserWithShutdownHook();
        closer.register(nodeStoreFixture);

        int count = 0;
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            return count;
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
        Utils.NodeStoreOptions opts = new Utils.NodeStoreOptions(help).parse(args);

        Closer closer = Utils.createCloserWithShutdownHook();
        try {
            NodeStore store = Utils.bootstrapNodeStore(opts, closer);
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
            deleteClusterId(store);
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GarbageCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Utils.createCloserWithShutdownHook();
        String h = "garbage mongodb://host:port/database | jdbc:...";
        try {
```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GarbageCommand.java`
#### Snippet
```java
            DocumentNodeStoreHelper.garbageReport(dns);
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GarbageCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
        boolean success = false;
        Checkpoints cps;
        Closer closer = Utils.createCloserWithShutdownHook();
        try {
            String op = "list"; //default operation
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                builder.setClusterInvisible(true);
                DocumentNodeStore nodeStore = builder.build();
                closer.register(Utils.asCloseable(nodeStore));
                cps = Checkpoints.onDocumentMK(nodeStore);
            } else {
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
            System.err.println(t.getMessage());
        } finally {
            closer.close();
        }
        if (!success) {
```

### UnstableApiUsage
'getExitingScheduledExecutorService(java.util.concurrent.ScheduledThreadPoolExecutor)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
    private static LuceneIndexEditorProvider createLuceneIndexEditorProvider() {
        LuceneIndexEditorProvider ep = new LuceneIndexEditorProvider();
        ScheduledExecutorService executorService = MoreExecutors.getExitingScheduledExecutorService(
                (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(5));
        StatisticsProvider statsProvider = StatisticsProvider.NOOP;
```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
                    .withForce(isTrue(forceArg.value(options)))
                    .withMmap(mmapArg.value(options))
                    .withOs(StandardSystemProperty.OS_NAME.value())
                    .withSegmentCacheSize(Integer.getInteger("cache", 256))
                    .withGCLogInterval(Long.getLong("compaction-progress-log", 150000));
```

### UnstableApiUsage
'OS_NAME' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
                    .withForce(isTrue(forceArg.value(options)))
                    .withMmap(mmapArg.value(options))
                    .withOs(StandardSystemProperty.OS_NAME.value())
                    .withSegmentCacheSize(Integer.getInteger("cache", 256))
                    .withGCLogInterval(Long.getLong("compaction-progress-log", 150000));
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
                    .withForce(isTrue(forceArg.value(options)))
                    .withMmap(mmapArg.value(options))
                    .withOs(StandardSystemProperty.OS_NAME.value())
                    .withSegmentCacheSize(Integer.getInteger("cache", 256))
                    .withGCLogInterval(Long.getLong("compaction-progress-log", 150000));
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Closer closer = Utils.createCloserWithShutdownHook();
        MapDBMapFactory mdbmf = new MapDBMapFactory();
        closer.register(mdbmf);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
        Closer closer = Utils.createCloserWithShutdownHook();
        MapDBMapFactory mdbmf = new MapDBMapFactory();
        closer.register(mdbmf);
        MapFactory.setInstance(mdbmf);
        String h = "recovery mongodb://host:port/database|jdbc:... { dryRun }";
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java

            DocumentNodeStore dns = builder.build();
            closer.register(Utils.asCloseable(dns));

            DocumentStore ds = builder.getDocumentStore();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/OutOfBandIndexer.java`
#### Snippet
```java
                new SegmentPropertyIndexEditorProvider(new File(getLocalIndexDir(), "propertyIndexStore"));
        provider.with(extendedIndexHelper.getMountInfoProvider());
        closer.register(provider);
        return provider;
    }
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
            Iterable<NodeDocument> docs = seeker.getCandidates(0);
            if (docs instanceof Closeable) {
                closer.register((Closeable) docs);
            }

```

### UnstableApiUsage
'rethrow(java.lang.Throwable)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
            agent.recover(docs, builder.getClusterId(), dryRun);
        } catch (Throwable e) {
            throw closer.rethrow(e);
        } finally {
            closer.close();
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
            throw closer.rethrow(e);
        } finally {
            closer.close();
            MapFactory.setInstance(oldf);
        }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerLucene.java`
#### Snippet
```java
    private final ExtendedIndexHelper extendedIndexHelper;
    private final boolean enableCowCor;
    public AsyncIndexerLucene(ExtendedIndexHelper extendedIndexHelper, boolean enableCowCor, Closer close, List<String> names, long delay) {
        super(extendedIndexHelper, close, names, delay);
        this.extendedIndexHelper = extendedIndexHelper;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/ExtendedIndexHelper.java`
#### Snippet
```java
        if (luceneIndexHelper == null) {
            luceneIndexHelper = new LuceneIndexHelper(this);
            closer.register(luceneIndexHelper);
        }
        return luceneIndexHelper;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
    }

    private static void verboseIds(Closer closer, final String dsType, File readFile, File writeFile) throws IOException {
        LineIterator idIterator = FileUtils.lineIterator(readFile, Charsets.UTF_8.name());
        try {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            // Create a temp file to write real ids and register with closer
            File longIdTemp = createTempFile("longids", null);
            closer.register(new Closeable() {
                @Override public void close() throws IOException {
                    forceDelete(longIdTemp);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    "[--verbose] [--verboseRootPath <verbose_root_path>]";

        try (Closer closer = Utils.createCloserWithShutdownHook()) {
            // Options for operations requested
            OptionSpecBuilder idOp = parser.accepts("id", "Get ids");
```

### UnstableApiUsage
'JAVA_IO_TMPDIR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            }

            String dumpPath = JAVA_IO_TMPDIR.value();
            if (options.has(dump)) {
                dumpPath = options.valueOf(dump);
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            }

            String dumpPath = JAVA_IO_TMPDIR.value();
            if (options.has(dump)) {
                dumpPath = options.valueOf(dump);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    DocumentNodeStore docNodeStore =
                        newMongoDocumentNodeStoreBuilder().setMongoDB(client, uri.getDatabase()).build();
                    closer.register(Utils.asCloseable(docNodeStore));
                    blobStore = (GarbageCollectableBlobStore) docNodeStore.getBlobStore();
                    marker = new DocumentBlobReferenceRetriever(docNodeStore);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    FileStore fileStore = fileStoreBuilder(new File(source)).withStrictVersionCheck(true).build();
                    marker = new SegmentBlobReferenceRetriever(fileStore);
                    closer.register(fileStore);
                    nodeStore =
                        SegmentNodeStoreBuilders.builder(fileStore).build();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            FileRegister register = new FileRegister(options);
            closer.register(register);

            if (options.has(idOp) || options.has(consistencyOp)) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            if (options.has(idOp) || options.has(consistencyOp)) {
                File idTemp = createTempFile("ids", null);
                closer.register(new Closeable() {
                    @Override public void close() throws IOException {
                        forceDelete(idTemp);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                        options.has(verboseRootPath)) {
                    NodeTraverser traverser = new NodeTraverser(nodeStore, dsType);
                    closer.register(traverser);

                    List<String> rootPathList = options.valuesOf(verboseRootPath);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        System.out.println("Starting dump of blob ids");
        Stopwatch watch = createStarted();

        Iterator<String> blobIter = blobStore.getAllChunkIds(0);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        System.out.println("Starting dump of blob ids");
        Stopwatch watch = createStarted();

        Iterator<String> blobIter = blobStore.getAllChunkIds(0);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        sort(blob);
        System.out.println(count + " blob ids found");
        System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
    }

```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

    static String encodeId(String id, String dsType) {
        List<String> idLengthSepList = Splitter.on(HASH).trimResults().omitEmptyStrings().splitToList(id);
        String blobId = idLengthSepList.get(0);

```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        if (dsType.equals(FDS)) {
            return (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value() + blobId
                .substring(4, 6) + FILE_SEPARATOR.value() + blobId);
        } else if (dsType.equals(S3DS) || dsType.equals(AZUREDS)) {
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        if (dsType.equals(FDS)) {
            return (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value() + blobId
                .substring(4, 6) + FILE_SEPARATOR.value() + blobId);
        } else if (dsType.equals(S3DS) || dsType.equals(AZUREDS)) {
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        if (dsType.equals(FDS)) {
            return (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value() + blobId
                .substring(4, 6) + FILE_SEPARATOR.value() + blobId);
        } else if (dsType.equals(S3DS) || dsType.equals(AZUREDS)) {
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

        if (dsType.equals(FDS)) {
            return (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value() + blobId
                .substring(4, 6) + FILE_SEPARATOR.value() + blobId);
        } else if (dsType.equals(S3DS) || dsType.equals(AZUREDS)) {
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        if (dsType.equals(FDS)) {
            return (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value() + blobId
                .substring(4, 6) + FILE_SEPARATOR.value() + blobId);
        } else if (dsType.equals(S3DS) || dsType.equals(AZUREDS)) {
            return (blobId.substring(0, 4) + DASH + blobId.substring(4));
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        if (dsType.equals(FDS)) {
            return (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value() + blobId
                .substring(4, 6) + FILE_SEPARATOR.value() + blobId);
        } else if (dsType.equals(S3DS) || dsType.equals(AZUREDS)) {
            return (blobId.substring(0, 4) + DASH + blobId.substring(4));
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        throws IOException {
        System.out.println("Starting consistency check");
        Stopwatch watch = createStarted();

        FileLineDifferenceIterator iter = new FileLineDifferenceIterator(ids, refs, new java.util.function.Function<String, String>() {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        throws IOException {
        System.out.println("Starting consistency check");
        Stopwatch watch = createStarted();

        FileLineDifferenceIterator iter = new FileLineDifferenceIterator(ids, refs, new java.util.function.Function<String, String>() {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            System.out.println("Consistency check failure for the data store");
        }
        System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
    }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
    private static void retrieveBlobReferences(GarbageCollectableBlobStore blobStore, BlobReferenceRetriever marker,
        File marked, String dsType, boolean isVerbose) throws IOException {
        final BufferedWriter writer = Files.newWriter(marked, Charsets.UTF_8);
        final AtomicInteger count = new AtomicInteger();
        boolean threw = true;
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
    private static void retrieveBlobReferences(GarbageCollectableBlobStore blobStore, BlobReferenceRetriever marker,
        File marked, String dsType, boolean isVerbose) throws IOException {
        final BufferedWriter writer = Files.newWriter(marked, Charsets.UTF_8);
        final AtomicInteger count = new AtomicInteger();
        boolean threw = true;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            System.out.println("Starting dump of blob references");
            Stopwatch watch = createStarted();

            marker.collectReferences(
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            System.out.println("Starting dump of blob references");
            Stopwatch watch = createStarted();

            marker.collectReferences(
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            System.out.println(count.get() + " blob references found");
            System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
            threw = false;
        } finally {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            threw = false;
        } finally {
            close(writer, threw);
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            boolean threw = true;
            System.out.println("Starting dump of blob references by traversing");
            Stopwatch watch = createStarted();

            try {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
            boolean threw = true;
            System.out.println("Starting dump of blob references by traversing");
            Stopwatch watch = createStarted();

            try {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            try {
                writer = Files.newWriter(references, Charsets.UTF_8);
                if (paths.length == 0) {
                    traverseChildren(nodeStore.getRoot(), "/", writer, count);
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

            try {
                writer = Files.newWriter(references, Charsets.UTF_8);
                if (paths.length == 0) {
                    traverseChildren(nodeStore.getRoot(), "/", writer, count);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

                System.out.println(count.get() + " blob references found");
                System.out.println("Finished in " + watch.elapsed(TimeUnit.SECONDS) + " seconds");
                threw = false;
            } finally {
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                threw = false;
            } finally {
                Closeables.close(writer, threw);
            }
        }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                threw = false;
            } finally {
                Closeables.close(writer, threw);
            }
        }
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

    private static String decodeId(String id) {
        List<String> list = Splitter.on(FILE_SEPARATOR.value()).trimResults().omitEmptyStrings().splitToList(id);
        String pathStrippedId = list.get(list.size() -1);
        return Joiner.on("").join(Splitter.on(DASH).omitEmptyStrings().trimResults().splitToList(pathStrippedId));
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

    private static String decodeId(String id) {
        List<String> list = Splitter.on(FILE_SEPARATOR.value()).trimResults().omitEmptyStrings().splitToList(id);
        String pathStrippedId = list.get(list.size() -1);
        return Joiner.on("").join(Splitter.on(DASH).omitEmptyStrings().trimResults().splitToList(pathStrippedId));
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java

    private static String decodeId(String id) {
        List<String> list = Splitter.on(FILE_SEPARATOR.value()).trimResults().omitEmptyStrings().splitToList(id);
        String pathStrippedId = list.get(list.size() -1);
        return Joiner.on("").join(Splitter.on(DASH).omitEmptyStrings().trimResults().splitToList(pathStrippedId));
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        List<String> list = Splitter.on(FILE_SEPARATOR.value()).trimResults().omitEmptyStrings().splitToList(id);
        String pathStrippedId = list.get(list.size() -1);
        return Joiner.on("").join(Splitter.on(DASH).omitEmptyStrings().trimResults().splitToList(pathStrippedId));
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexConsistencyCheckPrinter.java`
#### Snippet
```java
    @Override
    public void print(PrintWriter pw, Format format, boolean isZip) {
        Stopwatch watch = Stopwatch.createStarted();
        NodeState root = indexHelper.getNodeStore().getRoot();

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexConsistencyCheckPrinter.java`
#### Snippet
```java
    @Override
    public void print(PrintWriter pw, Format format, boolean isZip) {
        Stopwatch watch = Stopwatch.createStarted();
        NodeState root = indexHelper.getNodeStore().getRoot();

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexConsistencyCheckPrinter.java`
#### Snippet
```java
    @Override
    public void print(PrintWriter pw, Format format, boolean isZip) {
        Stopwatch watch = Stopwatch.createStarted();
        NodeState root = indexHelper.getNodeStore().getRoot();

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private void connectInReadWriteModeAndImportIndex(IndexOptions indexOpts, File indexDir) throws Exception {
        try (Closer closer = Closer.create()) {
            configureCustomizer(opts, closer, false);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private void connectInReadWriteModeAndImportIndex(IndexOptions indexOpts, File indexDir) throws Exception {
        try (Closer closer = Closer.create()) {
            configureCustomizer(opts, closer, false);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private void connectInReadWriteModeAndImportIndex(IndexOptions indexOpts, File indexDir) throws Exception {
        try (Closer closer = Closer.create()) {
            configureCustomizer(opts, closer, false);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
            configureCustomizer(opts, closer, false);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
            closer.register(fixture);
            ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
            importIndex(extendedIndexHelper, indexDir);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private ExtendedIndexHelper createIndexHelper(NodeStoreFixture fixture,
                                          IndexOptions indexOpts, Closer closer) throws IOException {
        ExtendedIndexHelper extendedIndexHelper = new ExtendedIndexHelper(fixture.getStore(), fixture.getBlobStore(), fixture.getWhiteboard(),
                indexOpts.getOutDir(),  indexOpts.getWorkDir(), computeIndexPaths(indexOpts));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        configurePreExtractionSupport(indexOpts, extendedIndexHelper);

        closer.register(extendedIndexHelper);
        return extendedIndexHelper;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private File performReindexInReadOnlyMode(IndexOptions indexOpts, String checkpoint) throws Exception {
        try (Closer closer = Closer.create()) {
            configureCustomizer(opts, closer, true);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts, true);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private File performReindexInReadOnlyMode(IndexOptions indexOpts, String checkpoint) throws Exception {
        try (Closer closer = Closer.create()) {
            configureCustomizer(opts, closer, true);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts, true);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private File performReindexInReadOnlyMode(IndexOptions indexOpts, String checkpoint) throws Exception {
        try (Closer closer = Closer.create()) {
            configureCustomizer(opts, closer, true);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts, true);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
            configureCustomizer(opts, closer, true);
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts, true);
            closer.register(fixture);
            ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
            reindex(indexOpts, extendedIndexHelper, checkpoint);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                performReindexInReadWriteMode(indexOpts);
            } else if (indexOpts.isAsyncIndex()) {
                Closer closer = Closer.create();
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                performReindexInReadWriteMode(indexOpts);
            } else if (indexOpts.isAsyncIndex()) {
                Closer closer = Closer.create();
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                performReindexInReadWriteMode(indexOpts);
            } else if (indexOpts.isAsyncIndex()) {
                Closer closer = Closer.create();
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                AsyncIndexerLucene asyncIndexerService = new AsyncIndexerLucene(extendedIndexHelper, indexOpts.isCowCorEnabled(), closer,
                        indexOpts.getAsyncLanes(), indexOpts.aysncDelay());
                closer.register(asyncIndexerService);
                closer.register(fixture);
                asyncIndexerService.execute();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                        indexOpts.getAsyncLanes(), indexOpts.aysncDelay());
                closer.register(asyncIndexerService);
                closer.register(fixture);
                asyncIndexerService.execute();
            } else {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                asyncIndexerService.execute();
            } else {
                try (Closer closer = Closer.create()) {
                    configureCustomizer(opts, closer, true);
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                asyncIndexerService.execute();
            } else {
                try (Closer closer = Closer.create()) {
                    configureCustomizer(opts, closer, true);
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                asyncIndexerService.execute();
            } else {
                try (Closer closer = Closer.create()) {
                    configureCustomizer(opts, closer, true);
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                    configureCustomizer(opts, closer, true);
                    NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                    closer.register(fixture);
                    execute(fixture, indexOpts, closer);
                    tellReportPaths();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
    }

    private static void configureCustomizer(Options opts, Closer closer, boolean readOnlyAccess) {
        if (opts.getCommonOpts().isDocument()){
            IndexOptions indexOpts = opts.getOptionBean(IndexOptions.class);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                IndexDocumentBuilderCustomizer customizer = new IndexDocumentBuilderCustomizer(opts, readOnlyAccess);
                Registration reg = opts.getWhiteboard().register(DocumentBuilderCustomizer.class, customizer, emptyMap());
                closer.register(reg::unregister);
            }
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        checkNotNull(checkpoint, "Checkpoint value is required for reindexing done in read only mode");

        Stopwatch w = Stopwatch.createStarted();
        IndexerSupport indexerSupport = createIndexerSupport(extendedIndexHelper, checkpoint);
        log.info("Proceeding to index {} upto checkpoint {} {}", extendedIndexHelper.getIndexPaths(), checkpoint,
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        checkNotNull(checkpoint, "Checkpoint value is required for reindexing done in read only mode");

        Stopwatch w = Stopwatch.createStarted();
        IndexerSupport indexerSupport = createIndexerSupport(extendedIndexHelper, checkpoint);
        log.info("Proceeding to index {} upto checkpoint {} {}", extendedIndexHelper.getIndexPaths(), checkpoint,
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        checkNotNull(checkpoint, "Checkpoint value is required for reindexing done in read only mode");

        Stopwatch w = Stopwatch.createStarted();
        IndexerSupport indexerSupport = createIndexerSupport(extendedIndexHelper, checkpoint);
        log.info("Proceeding to index {} upto checkpoint {} {}", extendedIndexHelper.getIndexPaths(), checkpoint,
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        File destDir = indexerSupport.copyIndexFilesToOutput();
        log.info("Indexing completed for indexes {} in {} ({} ms) and index files are copied to {}",
                extendedIndexHelper.getIndexPaths(), w, w.elapsed(TimeUnit.MILLISECONDS), IndexCommand.getPath(destDir));
        return destDir;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
    }

    private void execute(NodeStoreFixture fixture,  IndexOptions indexOpts, Closer closer)
            throws IOException, CommitFailedException {
        ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private void performReindexInReadWriteMode(IndexOptions indexOpts) throws Exception {
        Stopwatch w = Stopwatch.createStarted();
        //TODO To support restart we need to store this checkpoint somewhere
        String checkpoint = connectInReadWriteModeAndCreateCheckPoint(indexOpts);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private void performReindexInReadWriteMode(IndexOptions indexOpts) throws Exception {
        Stopwatch w = Stopwatch.createStarted();
        //TODO To support restart we need to store this checkpoint somewhere
        String checkpoint = connectInReadWriteModeAndCreateCheckPoint(indexOpts);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java

    private void performReindexInReadWriteMode(IndexOptions indexOpts) throws Exception {
        Stopwatch w = Stopwatch.createStarted();
        //TODO To support restart we need to store this checkpoint somewhere
        String checkpoint = connectInReadWriteModeAndCreateCheckPoint(indexOpts);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        File indexDir = performReindexInReadOnlyMode(indexOpts, checkpoint);

        Stopwatch importWatch = Stopwatch.createStarted();
        log.info("Proceeding to import index data from [{}] by connecting to NodeStore in read-write mode", getPath(indexDir));
        connectInReadWriteModeAndImportIndex(indexOpts, indexDir);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        File indexDir = performReindexInReadOnlyMode(indexOpts, checkpoint);

        Stopwatch importWatch = Stopwatch.createStarted();
        log.info("Proceeding to import index data from [{}] by connecting to NodeStore in read-write mode", getPath(indexDir));
        connectInReadWriteModeAndImportIndex(indexOpts, indexDir);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        File indexDir = performReindexInReadOnlyMode(indexOpts, checkpoint);

        Stopwatch importWatch = Stopwatch.createStarted();
        log.info("Proceeding to import index data from [{}] by connecting to NodeStore in read-write mode", getPath(indexDir));
        connectInReadWriteModeAndImportIndex(indexOpts, indexDir);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        log.info("Proceeding to import index data from [{}] by connecting to NodeStore in read-write mode", getPath(indexDir));
        connectInReadWriteModeAndImportIndex(indexOpts, indexDir);
        log.info("Indexes imported successfully in {} ({} ms)", importWatch, importWatch.elapsed(TimeUnit.MILLISECONDS));

        log.info("Indexing completed and imported successfully in {} ({} ms)", w, w.elapsed(TimeUnit.MILLISECONDS));
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
        log.info("Indexes imported successfully in {} ({} ms)", importWatch, importWatch.elapsed(TimeUnit.MILLISECONDS));

        log.info("Indexing completed and imported successfully in {} ({} ms)", w, w.elapsed(TimeUnit.MILLISECONDS));
    }

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexer.java`
#### Snippet
```java
        );

        providers.forEach(closer::register);
        return providers;
    }
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            // In case of dumping ids, there would not be any paths associated and there the line would simply be
            // b47b58169f121822cd4a0a0a153ba5910e581ad2bc450b6af7e51e6214c2b173#123311
            List<String> list = delimSplitter.splitToList(line);

            String id = list.get(0);
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            String id = list.get(0);
            // Split b47b58169f121822cd4a0a0a153ba5910e581ad2bc450b6af7e51e6214c2b173#123311 on # to get the id
            List<String> idLengthSepList = Splitter.on(HASH).trimResults().omitEmptyStrings().splitToList(id);
            String blobId = idLengthSepList.get(0);

```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                // 0102030405... => 01/02/03/0102030405...
                blobId =
                    (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value()
                        + blobId.substring(4, 6) + FILE_SEPARATOR.value() + blobId);
            } else if (dsType == S3 || dsType == AZURE) {
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                // 0102030405... => 01/02/03/0102030405...
                blobId =
                    (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value()
                        + blobId.substring(4, 6) + FILE_SEPARATOR.value() + blobId);
            } else if (dsType == S3 || dsType == AZURE) {
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                // 0102030405... => 01/02/03/0102030405...
                blobId =
                    (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value()
                        + blobId.substring(4, 6) + FILE_SEPARATOR.value() + blobId);
            } else if (dsType == S3 || dsType == AZURE) {
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                // 0102030405... => 01/02/03/0102030405...
                blobId =
                    (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value()
                        + blobId.substring(4, 6) + FILE_SEPARATOR.value() + blobId);
            } else if (dsType == S3 || dsType == AZURE) {
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                blobId =
                    (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value()
                        + blobId.substring(4, 6) + FILE_SEPARATOR.value() + blobId);
            } else if (dsType == S3 || dsType == AZURE) {
                //b47b58169f121822cd4a0... => b47b-58169f121822cd4a0...
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                blobId =
                    (blobId.substring(0, 2) + FILE_SEPARATOR.value() + blobId.substring(2, 4) + FILE_SEPARATOR.value()
                        + blobId.substring(4, 6) + FILE_SEPARATOR.value() + blobId);
            } else if (dsType == S3 || dsType == AZURE) {
                //b47b58169f121822cd4a0... => b47b-58169f121822cd4a0...
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
    }

    private void execute(NodeStoreFixture fixture, DataStoreOptions dataStoreOpts, Options opts, Closer closer)
        throws Exception {

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        final BlobStoreOptions optionBean = opts.getOptionBean(BlobStoreOptions.class);
        try (Closer metricsCloser = Utils.createCloserWithShutdownHook()) {
            MetricsExporterFixture metricsExporterFixture =
                MetricsExporterFixtureProvider.create(dataStoreOpts, fixture.getWhiteboard());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            MetricsExporterFixture metricsExporterFixture =
                MetricsExporterFixtureProvider.create(dataStoreOpts, fixture.getWhiteboard());
            metricsCloser.register(metricsExporterFixture);

            if (dataStoreOpts.dumpRefs()) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                log.info("Initiating dump of data store references");
                final File referencesTemp = File.createTempFile("traverseref", null, new File(opts.getTempDirectory()));
                final BufferedWriter writer = Files.newWriter(referencesTemp, UTF_8);

                boolean threw = true;
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                log.info("Initiating dump of data store references");
                final File referencesTemp = File.createTempFile("traverseref", null, new File(opts.getTempDirectory()));
                final BufferedWriter writer = Files.newWriter(referencesTemp, UTF_8);

                boolean threw = true;
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                    FileUtils.copyFile(referencesTemp, references);
                } finally {
                    Closeables.close(writer, threw);
                }
            } else if (dataStoreOpts.dumpIds()) {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                    FileUtils.copyFile(referencesTemp, references);
                } finally {
                    Closeables.close(writer, threw);
                }
            } else if (dataStoreOpts.dumpIds()) {
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            Map<NodeState, String> inclusionNodeStates) {
            Splitter delimSplitter = Splitter.on("/").trimResults().omitEmptyStrings();
            List<String> pathElementList = delimSplitter.splitToList(inclusionRegex);

            Joiner delimJoiner = Joiner.on("/").skipNulls();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        System.out.println("Starting dump of blob ids");
        Stopwatch watch = createStarted();

        Iterator<String> blobIter = blobStore.getAllChunkIds(0);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        System.out.println("Starting dump of blob ids");
        Stopwatch watch = createStarted();

        Iterator<String> blobIter = blobStore.getAllChunkIds(0);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        sort(blob);
        System.out.println(count + " blob ids found");
        System.out.println("Finished in " + watch.elapsed(SECONDS) + " seconds");
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

    private static MarkSweepGarbageCollector getCollector(NodeStoreFixture fixture, DataStoreOptions dataStoreOpts,
        Options opts, Closer closer) throws IOException {

        BlobReferenceRetriever retriever = getRetriever(fixture, dataStoreOpts, opts);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        ExecutorService service = Executors.newSingleThreadExecutor();
        closer.register(new ExecutorCloser(service));

        String repositoryId = ClusterRepositoryInfo.getId(fixture.getStore());
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        boolean success = false;
        try (Closer closer = Utils.createCloserWithShutdownHook()) {
            opts.setTempDirectory(dataStoreOpts.getWorkDir().getAbsolutePath());

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
            log.info("Registering Node Store fixture");
            closer.register(fixture);
            log.info("Node Store fixture created and registered");

```

### UnstableApiUsage
'TreeTraverser()' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/NodeStoreBinaryResourceProvider.java`
#### Snippet
```java
    }

    private static class OakTreeTraverser extends TreeTraverser<Tree> {
        @Override
        public Iterable<Tree> children(Tree root) {
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/NodeStoreBinaryResourceProvider.java`
#### Snippet
```java
    }

    private static class OakTreeTraverser extends TreeTraverser<Tree> {
        @Override
        public Iterable<Tree> children(Tree root) {
```

### UnstableApiUsage
Overridden method 'children(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/NodeStoreBinaryResourceProvider.java`
#### Snippet
```java
    private static class OakTreeTraverser extends TreeTraverser<Tree> {
        @Override
        public Iterable<Tree> children(Tree root) {
            return root.getChildren();
        }
```

### UnstableApiUsage
'preOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/NodeStoreBinaryResourceProvider.java`
#### Snippet
```java
    public FluentIterable<BinaryResource> getBinaries(String path) {
        return new OakTreeTraverser()
                .preOrderTraversal(createReadOnlyTree(getNode(nodeStore.getRoot(), path)))
                .transform(new TreeToBinarySource())
                .filter(notNull());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
    public FluentIterable<BinaryResource> getBinaries(final String path) throws IOException {
        CSVParser parser = CSVParser.parse(dataFile, Charsets.UTF_8, FORMAT);
        closer.register(parser);
        return FluentIterable.from(parser)
                .transform(new RecordTransformer())
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
            String blobId = input.get(BLOB_ID);
            String length = input.get(LENGTH);
            Long len = length != null ? Longs.tryParse(length) : null;
            if (path == null || blobId == null || mimeType == null) {
                log.warn("Ignoring invalid record {}. Either of mimeType, blobId or path is null", input);
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
    private final File dataFile;
    private final BlobStore blobStore;
    private final Closer closer = Closer.create();

    public CSVFileBinaryResourceProvider(File dataFile, @Nullable BlobStore blobStore) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
    private final File dataFile;
    private final BlobStore blobStore;
    private final Closer closer = Closer.create();

    public CSVFileBinaryResourceProvider(File dataFile, @Nullable BlobStore blobStore) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
    private final File dataFile;
    private final BlobStore blobStore;
    private final Closer closer = Closer.create();

    public CSVFileBinaryResourceProvider(File dataFile, @Nullable BlobStore blobStore) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
        }

        try (Closer closer = Closer.create()) {
            boolean report = tikaOpts.report();
            boolean extract = tikaOpts.extract();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
        }

        try (Closer closer = Closer.create()) {
            boolean report = tikaOpts.report();
            boolean extract = tikaOpts.extract();
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
        }

        try (Closer closer = Closer.create()) {
            boolean report = tikaOpts.report();
            boolean extract = tikaOpts.extract();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
                //For report and extract case we do not need NodeStore access so create BlobStore directly
                BlobStoreFixture blobStoreFixture = BlobStoreFixtureProvider.create(opts);
                closer.register(blobStoreFixture);
                blobStore = checkNotNull(blobStoreFixture).getBlobStore();
            } else if (generate) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
            } else if (generate) {
                NodeStoreFixture nodeStoreFixture = NodeStoreFixtureProvider.create(opts);
                closer.register(nodeStoreFixture);
                blobStore = nodeStoreFixture.getBlobStore();
                nodeStore = nodeStoreFixture.getStore();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
                        "must be specified via %s", tikaOpts.getStoreDirSpecOpt());

                DataStoreTextWriter writer = closer.register(new DataStoreTextWriter(storeDir, false));

                TextPopulator textPopulator = new TextPopulator(writer);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java

                CSVFileBinaryResourceProvider csvProvider = new CSVFileBinaryResourceProvider(dataFile, blobStore);
                closer.register(csvProvider);
                binaryResourceProvider = csvProvider;

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
                }

                closer.register(writer);
                closer.register(extractor);

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java

                closer.register(writer);
                closer.register(extractor);

                extractor.setStats(stats);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java

    void populate(File dataFile, File indexDir) throws IOException {
        try (Closer closer = Closer.create()) {
            Iterable<CSVRecord> csvRecords = closer.register(CSVParser.parse(dataFile, UTF_8, FORMAT));

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java

    void populate(File dataFile, File indexDir) throws IOException {
        try (Closer closer = Closer.create()) {
            Iterable<CSVRecord> csvRecords = closer.register(CSVParser.parse(dataFile, UTF_8, FORMAT));

```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java

    void populate(File dataFile, File indexDir) throws IOException {
        try (Closer closer = Closer.create()) {
            Iterable<CSVRecord> csvRecords = closer.register(CSVParser.parse(dataFile, UTF_8, FORMAT));

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
    void populate(File dataFile, File indexDir) throws IOException {
        try (Closer closer = Closer.create()) {
            Iterable<CSVRecord> csvRecords = closer.register(CSVParser.parse(dataFile, UTF_8, FORMAT));

            final FSDirectory dir = closer.register(FSDirectory.open(indexDir));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
            Iterable<CSVRecord> csvRecords = closer.register(CSVParser.parse(dataFile, UTF_8, FORMAT));

            final FSDirectory dir = closer.register(FSDirectory.open(indexDir));
            final DirectoryReader reader = closer.register(DirectoryReader.open(dir));
            final IndexSearcher searcher = new IndexSearcher(reader);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java

            final FSDirectory dir = closer.register(FSDirectory.open(indexDir));
            final DirectoryReader reader = closer.register(DirectoryReader.open(dir));
            final IndexSearcher searcher = new IndexSearcher(reader);

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int empty = 0;

        Stopwatch w = Stopwatch.createStarted();

        void readAndDumpStatsIfRequired(String path) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int empty = 0;

        Stopwatch w = Stopwatch.createStarted();

        void readAndDumpStatsIfRequired(String path) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int empty = 0;

        Stopwatch w = Stopwatch.createStarted();

        void readAndDumpStatsIfRequired(String path) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java

    public void generate(FluentIterable<BinaryResource> binaries) throws IOException {
        Closer closer = Closer.create();
        int count = 0;
        try{
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java

    public void generate(FluentIterable<BinaryResource> binaries) throws IOException {
        Closer closer = Closer.create();
        int count = 0;
        try{
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java

    public void generate(FluentIterable<BinaryResource> binaries) throws IOException {
        Closer closer = Closer.create();
        int count = 0;
        try{
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
        int count = 0;
        try{
            CSVPrinter printer = new CSVPrinter(Files.newWriter(outFile, Charsets.UTF_8),
                    CSVFileBinaryResourceProvider.FORMAT);
            closer.register(printer);
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
        int count = 0;
        try{
            CSVPrinter printer = new CSVPrinter(Files.newWriter(outFile, Charsets.UTF_8),
                    CSVFileBinaryResourceProvider.FORMAT);
            closer.register(printer);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
            CSVPrinter printer = new CSVPrinter(Files.newWriter(outFile, Charsets.UTF_8),
                    CSVFileBinaryResourceProvider.FORMAT);
            closer.register(printer);
            for (BinaryResource br : binaries){
                count++;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
            log.info("Generated csv output at {} with {} entries", outFile.getAbsolutePath(), count);
        }finally {
            closer.close();
        }
    }
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
                }
            };
            CountingInputStream stream = new CountingInputStream(new LazyInputStream(inputStreamSupplier));
            try {
                tika.getParser().parse(stream, handler, metadata, new ParseContext());
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
                }
            };
            CountingInputStream stream = new CountingInputStream(new LazyInputStream(inputStreamSupplier));
            try {
                tika.getParser().parse(stream, handler, metadata, new ParseContext());
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
                }
            };
            CountingInputStream stream = new CountingInputStream(new LazyInputStream(inputStreamSupplier));
            try {
                tika.getParser().parse(stream, handler, metadata, new ParseContext());
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
                tika.getParser().parse(stream, handler, metadata, new ParseContext());
            } finally {
                size = stream.getCount();
                stream.close();
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Summary.java`
#### Snippet
```java
    private int numDocuments = 0;

    private final Stopwatch sw = Stopwatch.createStarted();

    public Summary(int numThreads) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Summary.java`
#### Snippet
```java
    private int numDocuments = 0;

    private final Stopwatch sw = Stopwatch.createStarted();

    public Summary(int numThreads) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Summary.java`
#### Snippet
```java
    private int numDocuments = 0;

    private final Stopwatch sw = Stopwatch.createStarted();

    public Summary(int numThreads) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ETA.java`
#### Snippet
```java
    public ETA(long total) {
        this.total = total;
        this.sw = Stopwatch.createStarted();
    }

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ETA.java`
#### Snippet
```java
    public ETA(long total) {
        this.total = total;
        this.sw = Stopwatch.createStarted();
    }

```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ETA.java`
#### Snippet
```java
    public long estimateArrival(long current) {
        long remaining = total - current;
        long timeTook = sw.elapsed(TimeUnit.MILLISECONDS);
        long timeRemaining = timeTook * remaining / current;
        return System.currentTimeMillis() + timeRemaining;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ETA.java`
#### Snippet
```java
    private final long total;

    private final Stopwatch sw;

    public ETA(long total) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AzureSegmentStoreExplorerBackend.java`
#### Snippet
```java

        try {
            this.store = fileStoreBuilder(Files.createTempDir())
                    .withCustomPersistence(persistence)
                    .buildReadOnly();
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AzureSegmentStoreExplorerBackend.java`
#### Snippet
```java

        try {
            this.store = fileStoreBuilder(Files.createTempDir())
                    .withCustomPersistence(persistence)
                    .buildReadOnly();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
        public Builder(DocumentNodeStore ns,
                       DocumentStore store,
                       Closer closer) {
            this.ns = ns;
            this.store = store;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
    private DocumentStoreCheck(DocumentNodeStore ns,
                               DocumentStore store,
                               Closer closer,
                               boolean progress,
                               boolean silent,
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
                new ThreadPoolExecutor.CallerRunsPolicy()
        );
        this.closer.register(new ExecutorCloser(executorService, 5, TimeUnit.MINUTES));
        this.output = output;
        this.orphan = orphan;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
        private final DocumentStore store;

        private final Closer closer;

        private boolean progress;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
    private final DocumentStore store;

    private final Closer closer;

    private final boolean progress;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
            OutputStream os = Files.newOutputStream(Paths.get(output));
            PrintWriter pw = new PrintWriter(new OutputStreamWriter(os, UTF_8));
            closer.register(pw);
            out = log.andThen(pw::println);
        }
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/DocumentStoreCheck.java`
#### Snippet
```java
        }
        ExecutorService writerService = Executors.newSingleThreadExecutor();
        closer.register(new ExecutorCloser(writerService));
        writerService.submit(new ResultWriter(results, out));
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateExportCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Stopwatch w = Stopwatch.createStarted();
        OptionParser parser = new OptionParser();

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateExportCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Stopwatch w = Stopwatch.createStarted();
        OptionParser parser = new OptionParser();

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateExportCommand.java`
#### Snippet
```java
    @Override
    public void execute(String... args) throws Exception {
        Stopwatch w = Stopwatch.createStarted();
        OptionParser parser = new OptionParser();

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateSerializer.java`
#### Snippet
```java

    private String getFilter() throws IOException {
        return filterFile != null ? Files.toString(filterFile, UTF_8) : filter;
    }

```

### UnstableApiUsage
'toString(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateSerializer.java`
#### Snippet
```java

    private String getFilter() throws IOException {
        return filterFile != null ? Files.toString(filterFile, UTF_8) : filter;
    }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateSerializer.java`
#### Snippet
```java
        }
        File file = new File(dir, getFileName());
        try (Writer writer = Files.newWriter(file, UTF_8)){
            serialize(writer, createBlobSerializer(dir));
        }
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateSerializer.java`
#### Snippet
```java
        }
        File file = new File(dir, getFileName());
        try (Writer writer = Files.newWriter(file, UTF_8)){
            serialize(writer, createBlobSerializer(dir));
        }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/checkpoint/SegmentTarCheckpoints.java`
#### Snippet
```java
    }

    static Checkpoints create(File path, Closer closer) throws IOException {
        try {
            return new SegmentTarCheckpoints(closer.register(newFileStore(path)));
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/checkpoint/SegmentTarCheckpoints.java`
#### Snippet
```java
    static Checkpoints create(File path, Closer closer) throws IOException {
        try {
            return new SegmentTarCheckpoints(closer.register(newFileStore(path)));
        } catch (InvalidFileStoreVersionException e) {
            throw new IllegalStateException(e);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/checkpoint/Checkpoints.java`
#### Snippet
```java
public abstract class Checkpoints {

    public static Checkpoints onSegmentTar(File path, Closer closer) throws IOException {
        return SegmentTarCheckpoints.create(path, closer);
    }
```

### UnstableApiUsage
'builder()' is declared in unstable class 'com.google.common.escape.Escapers' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
                    + value.length() + " chars)";
        }
        String escaped = builder().setSafeRange(' ', '~')
                .addEscape('"', "\\\"").addEscape('\\', "\\\\").build()
                .escape(value);
```

### UnstableApiUsage
'setSafeRange(char, char)' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
                    + value.length() + " chars)";
        }
        String escaped = builder().setSafeRange(' ', '~')
                .addEscape('"', "\\\"").addEscape('\\', "\\\\").build()
                .escape(value);
```

### UnstableApiUsage
'addEscape(char, java.lang.String)' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
        }
        String escaped = builder().setSafeRange(' ', '~')
                .addEscape('"', "\\\"").addEscape('\\', "\\\\").build()
                .escape(value);
        return '"' + escaped + '"';
```

### UnstableApiUsage
'addEscape(char, java.lang.String)' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
        }
        String escaped = builder().setSafeRange(' ', '~')
                .addEscape('"', "\\\"").addEscape('\\', "\\\\").build()
                .escape(value);
        return '"' + escaped + '"';
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.escape.Escapers.Builder' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
        }
        String escaped = builder().setSafeRange(' ', '~')
                .addEscape('"', "\\\"").addEscape('\\', "\\\\").build()
                .escape(value);
        return '"' + escaped + '"';
```

### UnstableApiUsage
'escape(java.lang.String)' is declared in unstable class 'com.google.common.escape.Escaper' marked with @Beta
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
        String escaped = builder().setSafeRange(' ', '~')
                .addEscape('"', "\\\"").addEscape('\\', "\\\\").build()
                .escape(value);
        return '"' + escaped + '"';
    }
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
        Splitter listSplitter = Splitter.on(',').trimResults().omitEmptyStrings();
        StringBuilder excerpt = new StringBuilder(EXCERPT_BEGIN);
        for (String v : listSplitter.splitToList(value.toString())) {
            excerpt.append(v);
        }
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
            ExecutorService executorService = defaultExecutorService();
            executor = executorService;
            closer.register(new ExecutorCloser(executorService));
        }
        return executor;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
            Feature prefetchFeature = Feature.newFeature(QueryEngineSettings.FT_NAME_PREFETCH_FOR_QUERIES, whiteboard);
            LOG.info("Registered Prefetch feature: " + QueryEngineSettings.FT_NAME_PREFETCH_FOR_QUERIES);
            closer.register(prefetchFeature);
            queryEngineSettings.setPrefetchFeature(prefetchFeature);
        }
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                    }
                    try {
                        observerSubscription.close();
                    } catch (IOException e) {
                        LOG.warn("Unexpected IOException while unsubscribing observer", e);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                    super.register(type, service, properties);

            final Closer observerSubscription = Closer.create();
            Future<?> future = null;
            if (type == Runnable.class) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                    super.register(type, service, properties);

            final Closer observerSubscription = Closer.create();
            Future<?> future = null;
            if (type == Runnable.class) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                    super.register(type, service, properties);

            final Closer observerSubscription = Closer.create();
            Future<?> future = null;
            if (type == Runnable.class) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                }
            } else if (type == Observer.class && store instanceof Observable) {
                observerSubscription.register(((Observable) store).addObserver((Observer) service));
            }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    private Executor executor;

    private final Closer closer = Closer.create();

    private ContentRepository contentRepository;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    private Executor executor;

    private final Closer closer = Closer.create();

    private ContentRepository contentRepository;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    private Executor executor;

    private final Closer closer = Closer.create();

    private ContentRepository contentRepository;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java

        final RepoStateCheckHook repoStateCheckHook = new RepoStateCheckHook();
        closer.register(repoStateCheckHook);
        final List<Registration> regs = Lists.newArrayList();
        closer.register( () -> new CompositeRegistration(regs).unregister() );
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
        closer.register(repoStateCheckHook);
        final List<Registration> regs = Lists.newArrayList();
        closer.register( () -> new CompositeRegistration(regs).unregister() );
        regs.add(whiteboard.register(Executor.class, getExecutor(), Collections.emptyMap()));

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                        indexEditors);
                indexRegistration.registerAsyncIndexer(task, t.getValue());
                closer.register(task);
            }

```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
            public void close() throws IOException {
                super.close();
                closer.close();
            }
        };
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
        if (scheduledExecutor == null) {
            scheduledExecutor = defaultScheduledExecutor();
            closer.register(new ExecutorCloser(scheduledExecutor));
        }
        return scheduledExecutor;
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
            // This would suggest either the sub queries are sorted by index or explicitly by QueryImpl (in case of traversing index)
            // So use mergeSorted here.
            it = Iterators.mergeSorted(ImmutableList.of(leftIter, rightIter), orderBy);
        }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        int numDeleted = 0;
        RDBTableMetaData tmd = getTable(collection);
        Stopwatch watch = startWatch();
        Connection connection = null;
        try {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } finally {
            this.ch.closeConnection(connection);
            stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, numDeleted);
        }
        return numDeleted;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                Connection connection = null;
                int num = 0;
                Stopwatch watch = startWatch();
                try {
                    connection = this.ch.getRWConnection();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                } finally {
                    this.ch.closeConnection(connection);
                    stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, num);
                }
                subMap.clear();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private <T extends Document> List<T> internalCreateOrUpdate(Collection<T> collection, List<UpdateOp> updateOps) {
        final Stopwatch watch = startWatch();
        Map<UpdateOp, T> results = new LinkedHashMap<UpdateOp, T>();
        Map<String, UpdateOp> operationsToCover = new LinkedHashMap<String, UpdateOp>();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            }
        }
        stats.doneCreateOrUpdate(watch.elapsed(TimeUnit.NANOSECONDS),
                collection, Lists.transform(updateOps, new Function<UpdateOp, String>() {
                    @Override
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        Connection connection = null;
        RDBTableMetaData tmd = getTable(collection);
        Stopwatch watch = startWatch();
        try {
            connection = this.ch.getRWConnection();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } finally {
            this.ch.closeConnection(connection);
            stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, 1);
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        Connection connection = null;
        RDBTableMetaData tmd = getTable(collection);
        final Stopwatch watch = startWatch();
        boolean docFound = true;
        try {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } finally {
            this.ch.closeConnection(connection);
            stats.doneFindUncached(watch.elapsed(TimeUnit.NANOSECONDS), collection, id, docFound, false);
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        for (List<String> sublist : Lists.partition(ids, 64)) {
            Connection connection = null;
            Stopwatch watch = startWatch();
            try {
                connection = this.ch.getRWConnection();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            } finally {
                this.ch.closeConnection(connection);
                stats.doneRemove(watch.elapsed(TimeUnit.NANOSECONDS), collection, ids.size());
            }
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        }

        final Stopwatch watch = startWatch();
        int resultSize = 0;

```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } finally {
            this.ch.closeConnection(connection);
            stats.doneQuery(watch.elapsed(TimeUnit.NANOSECONDS), collection, fromKey, toKey,
                    !conditions.isEmpty(), resultSize, -1, false);
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    @Nullable
    private <T extends Document> boolean internalCreate(Collection<T> collection, List<UpdateOp> updates) {
        final Stopwatch watch = startWatch();
        List<String> ids = new ArrayList<String>(updates.size());
        boolean success = true;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            return false;
        } finally {
            stats.doneCreate(watch.elapsed(TimeUnit.NANOSECONDS), collection, ids, success);
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            addUpdateCounters(update);
            T doc = createNewDocument(collection, oldDoc, update);
            final Stopwatch watch = startWatch();
            boolean success = false;
            int retries = maxRetries;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            } finally {
                int numOfAttempts = maxRetries - retries - 1;
                stats.doneFindAndModify(watch.elapsed(TimeUnit.NANOSECONDS), collection,
                        update.getId(), false, success, numOfAttempts);
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            UpdateUtils.applyChanges(doc, update);
            try {
                Stopwatch watch = startWatch();
                if (!insertDocuments(collection, Collections.singletonList(doc))) {
                    throw new DocumentStoreException("Can't insert the document: " + doc.getId());
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                    nodesCache.putIfAbsent((NodeDocument) doc);
                }
                stats.doneFindAndModify(watch.elapsed(TimeUnit.NANOSECONDS), collection, update.getId(), true, true, 0);
                return oldDoc;
            } catch (DocumentStoreException ex) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private Stopwatch startWatch() {
        return Stopwatch.createStarted();
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private Stopwatch startWatch() {
        return Stopwatch.createStarted();
    }

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private Stopwatch startWatch() {
        return Stopwatch.createStarted();
    }

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java

            indexRegistration.registerAsyncIndexer(task, c.timeIntervalInSecs);
            closer.register(task);
        }
        registerAsyncReindexSupport(whiteboard);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java
    private IndexMBeanRegistration indexRegistration;

    private final Closer closer = Closer.create();

    private WhiteboardExecutor executor;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java
    private IndexMBeanRegistration indexRegistration;

    private final Closer closer = Closer.create();

    private WhiteboardExecutor executor;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java
    private IndexMBeanRegistration indexRegistration;

    private final Closer closer = Closer.create();

    private WhiteboardExecutor executor;
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java

        //Close the task *after* unregistering the jobs
        closer.close();
    }

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java
                        PropertyIndexAsyncReindexMBean.TYPE, "async"),
                registerMBean(whiteboard, IndexStatsMBean.class, task.getIndexStats(), IndexStatsMBean.TYPE, name));
        closer.register(new Closeable() {
            @Override
            public void close() throws IOException {
```

### UnstableApiUsage
'Ticker()' is declared in unstable class 'com.google.common.base.Ticker' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
        private final Clock clock;

        public ClockTicker(Clock clock) {
            this.clock = clock;
        }
```

### UnstableApiUsage
'com.google.common.base.Ticker' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
    }

    private static class ClockTicker extends Ticker {
        private final Clock clock;

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
        private final String path;
        private final long lastIndexerCycleCount = indexerCycleCount;
        private final Stopwatch watch = Stopwatch.createStarted(new ClockTicker(clock));
        private String exception = "";
        private int failureCount;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
        private final String path;
        private final long lastIndexerCycleCount = indexerCycleCount;
        private final Stopwatch watch = Stopwatch.createStarted(new ClockTicker(clock));
        private String exception = "";
        private int failureCount;
```

### UnstableApiUsage
'createStarted(com.google.common.base.Ticker)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
        private final String path;
        private final long lastIndexerCycleCount = indexerCycleCount;
        private final Stopwatch watch = Stopwatch.createStarted(new ClockTicker(clock));
        private String exception = "";
        private int failureCount;
```

### UnstableApiUsage
Overridden method 'read()' is declared in unstable class 'com.google.common.base.Ticker' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java

        @Override
        public long read() {
            return TimeUnit.MILLISECONDS.toNanos(clock.getTime());
        }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
            skippedCount++;
            this.corruptSince = corruptSince.getTimeInMillis();
            if (watch.elapsed(TimeUnit.MILLISECONDS) > errorWarnIntervalMillis) {
                watch.reset().start();
                return true;
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
            this.corruptSince = corruptSince.getTimeInMillis();
            if (watch.elapsed(TimeUnit.MILLISECONDS) > errorWarnIntervalMillis) {
                watch.reset().start();
                return true;
            }
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/TrackingCorruptIndexHandler.java`
#### Snippet
```java
            this.corruptSince = corruptSince.getTimeInMillis();
            if (watch.elapsed(TimeUnit.MILLISECONDS) > errorWarnIntervalMillis) {
                watch.reset().start();
                return true;
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/SimpleRateEstimator.java`
#### Snippet
```java

public class SimpleRateEstimator implements TraversalRateEstimator {
    private final Stopwatch w = Stopwatch.createStarted();
    private long count;

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/SimpleRateEstimator.java`
#### Snippet
```java

public class SimpleRateEstimator implements TraversalRateEstimator {
    private final Stopwatch w = Stopwatch.createStarted();
    private long count;

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/SimpleRateEstimator.java`
#### Snippet
```java

public class SimpleRateEstimator implements TraversalRateEstimator {
    private final Stopwatch w = Stopwatch.createStarted();
    private long count;

```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/SimpleRateEstimator.java`
#### Snippet
```java
    @Override
    public double getNodesTraversedPerSecond() {
        return (double) count / w.elapsed(TimeUnit.SECONDS);
    }
}
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java

    public void reset(){
        watch = Stopwatch.createStarted();
        traversalCount = 0;
        messagePrefix = INDEX_MSG;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java

    public void reset(){
        watch = Stopwatch.createStarted();
        traversalCount = 0;
        messagePrefix = INDEX_MSG;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
        final boolean reindex;
        final long estimatedCount;
        final Stopwatch watch = Stopwatch.createStarted();
        AtomicLong updateCount = new AtomicLong(0);

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
        final boolean reindex;
        final long estimatedCount;
        final Stopwatch watch = Stopwatch.createStarted();
        AtomicLong updateCount = new AtomicLong(0);

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
        final boolean reindex;
        final long estimatedCount;
        final Stopwatch watch = Stopwatch.createStarted();
        AtomicLong updateCount = new AtomicLong(0);

```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
                synchronized (this) {
                    log.info("{} => Indexed {} nodes in {} ...", indexPath, count, watch);
                    watch.reset().start();
                }
            }
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
                synchronized (this) {
                    log.info("{} => Indexed {} nodes in {} ...", indexPath, count, watch);
                    watch.reset().start();
                }
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java

    private final Logger log = LoggerFactory.getLogger(IndexUpdate.class);
    private Stopwatch watch = Stopwatch.createStarted();
    private final IndexUpdateCallback updateCallback;
    private final NodeTraversalCallback traversalCallback;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java

    private final Logger log = LoggerFactory.getLogger(IndexUpdate.class);
    private Stopwatch watch = Stopwatch.createStarted();
    private final IndexUpdateCallback updateCallback;
    private final NodeTraversalCallback traversalCallback;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java

    private final Logger log = LoggerFactory.getLogger(IndexUpdate.class);
    private Stopwatch watch = Stopwatch.createStarted();
    private final IndexUpdateCallback updateCallback;
    private final NodeTraversalCallback traversalCallback;
```

### UnstableApiUsage
'isRunning()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
            done = "";

            if (watch.isRunning()) {
                watch.reset();
            }
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java

            if (watch.isRunning()) {
                watch.reset();
            }
            watch.start();
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                watch.reset();
            }
            watch.start();
        }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        private volatile long updates;
        private volatile long nodesRead;
        private final Stopwatch watch = Stopwatch.createUnstarted();
        private final ExecutionStats execStats;

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        private volatile long updates;
        private volatile long nodesRead;
        private final Stopwatch watch = Stopwatch.createUnstarted();
        private final ExecutionStats execStats;

```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        private volatile long updates;
        private volatile long nodesRead;
        private final Stopwatch watch = Stopwatch.createUnstarted();
        private final ExecutionStats execStats;

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                                  AsyncUpdateCallback callback,
                                  AtomicReference<String> checkpointToReleaseRef) throws CommitFailedException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean updatePostRunStatus = true;
        boolean progressLogged = false;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                                  AsyncUpdateCallback callback,
                                  AtomicReference<String> checkpointToReleaseRef) throws CommitFailedException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean updatePostRunStatus = true;
        boolean progressLogged = false;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                                  AsyncUpdateCallback callback,
                                  AtomicReference<String> checkpointToReleaseRef) throws CommitFailedException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean updatePostRunStatus = true;
        boolean progressLogged = false;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                log.info("[{}] Reindexing completed for indexes: {} in {} ({} ms)",
                        name, indexUpdate.getReindexStats(),
                        watch, watch.elapsed(TimeUnit.MILLISECONDS));
                progressLogged = true;
            }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
            String msg = "[{}] AsyncIndex update run completed in {}. Indexed {} nodes, {}";
            //Log at info level if time taken is more than 5 min
            if (watch.elapsed(TimeUnit.MINUTES) >= 5) {
                log.info(msg, name, watch, indexStats.getUpdates(), indexUpdate.getIndexingStats());
            } else {
```

### UnstableApiUsage
'isRunning()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
            }
            done = now;
            if (watch.isRunning()) {
                watch.stop();
            }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
            done = now;
            if (watch.isRunning()) {
                watch.stop();
            }
            execStats.doneOneCycle(watch.elapsed(TimeUnit.MILLISECONDS), updates);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                watch.stop();
            }
            execStats.doneOneCycle(watch.elapsed(TimeUnit.MILLISECONDS), updates);
            watch.reset();
        }
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
            }
            execStats.doneOneCycle(watch.elapsed(TimeUnit.MILLISECONDS), updates);
            watch.reset();
        }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java
        builder = root.builder();
        NodeState node = NodeStateUtils.getNode(root, path);
        Stopwatch w = Stopwatch.createStarted();

        int currentSize = delete(node, path);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java
        builder = root.builder();
        NodeState node = NodeStateUtils.getNode(root, path);
        Stopwatch w = Stopwatch.createStarted();

        int currentSize = delete(node, path);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java
        builder = root.builder();
        NodeState node = NodeStateUtils.getNode(root, path);
        Stopwatch w = Stopwatch.createStarted();

        int currentSize = delete(node, path);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java

    public void run(Iterable<String> paths) throws CommitFailedException {
        Stopwatch w = Stopwatch.createStarted();
        NodeState root = nodeStore.getRoot();
        builder = root.builder();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java

    public void run(Iterable<String> paths) throws CommitFailedException {
        Stopwatch w = Stopwatch.createStarted();
        NodeState root = nodeStore.getRoot();
        builder = root.builder();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/RecursiveDelete.java`
#### Snippet
```java

    public void run(Iterable<String> paths) throws CommitFailedException {
        Stopwatch w = Stopwatch.createStarted();
        NodeState root = nodeStore.getRoot();
        builder = root.builder();
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
        for (ChildNodeEntry cne : values) {
            Tree t = TreeFactory.createReadOnlyTree(cne.getNodeState());
            TreeTraverser<Tree> traverser = new TreeTraverser<Tree>() {
                @Override
                public Iterable<Tree> children(@NotNull  Tree root) {
```

### UnstableApiUsage
'breadthFirstTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
                }
            };
            for (Tree node : traverser.breadthFirstTraversal(t)) {
                PropertyState matchState = node.getProperty("match");
                boolean match = matchState == null ? false : matchState.getValue(Type.BOOLEAN);
```

### UnstableApiUsage
'TreeTraverser()' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
        for (ChildNodeEntry cne : values) {
            Tree t = TreeFactory.createReadOnlyTree(cne.getNodeState());
            TreeTraverser<Tree> traverser = new TreeTraverser<Tree>() {
                @Override
                public Iterable<Tree> children(@NotNull  Tree root) {
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
        for (ChildNodeEntry cne : values) {
            Tree t = TreeFactory.createReadOnlyTree(cne.getNodeState());
            TreeTraverser<Tree> traverser = new TreeTraverser<Tree>() {
                @Override
                public Iterable<Tree> children(@NotNull  Tree root) {
```

### UnstableApiUsage
Overridden method 'children(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
            TreeTraverser<Tree> traverser = new TreeTraverser<Tree>() {
                @Override
                public Iterable<Tree> children(@NotNull  Tree root) {
                    //Break at maxLevel
                    if (PathUtils.getDepth(root.getPath()) >= maxDepth) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        Set<String> result = Sets.newHashSet();
        if (file.exists()) {
            result.addAll(Files.readLines(file, Charsets.UTF_8));
        }
        return result;
```

### UnstableApiUsage
'readLines(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        Set<String> result = Sets.newHashSet();
        if (file.exists()) {
            result.addAll(Files.readLines(file, Charsets.UTF_8));
        }
        return result;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        }
        File file = new File(directory, fileName);
        BufferedWriter bw = Files.newWriter(file, Charsets.UTF_8);
        for (String id : blobIds) {
            bw.write(id);
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        }
        File file = new File(directory, fileName);
        BufferedWriter bw = Files.newWriter(file, Charsets.UTF_8);
        for (String id : blobIds) {
            bw.write(id);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        ensureParentExists(textFile);
        //TODO should we compress
        Files.write(text, textFile, Charsets.UTF_8);
    }

```

### UnstableApiUsage
'write(java.lang.CharSequence, java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        ensureParentExists(textFile);
        //TODO should we compress
        Files.write(text, textFile, Charsets.UTF_8);
    }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
            File textFile = getFile(blobId);
            if (textFile.exists()) {
                String text = Files.toString(textFile, Charsets.UTF_8);
                result = new ExtractedText(ExtractionResult.SUCCESS, text);
            }
```

### UnstableApiUsage
'toString(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
            File textFile = getFile(blobId);
            if (textFile.exists()) {
                String text = Files.toString(textFile, Charsets.UTF_8);
                result = new ExtractedText(ExtractionResult.SUCCESS, text);
            }
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/report/LoggingReporter.java`
#### Snippet
```java
    private final String verb;

    private final EvictingQueue lastPaths = EvictingQueue.create(100);

    /**
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/report/LoggingReporter.java`
#### Snippet
```java
    private final String verb;

    private final EvictingQueue lastPaths = EvictingQueue.create(100);

    /**
```

### UnstableApiUsage
'create(int)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/report/LoggingReporter.java`
#### Snippet
```java
    private final String verb;

    private final EvictingQueue lastPaths = EvictingQueue.create(100);

    /**
```

### UnstableApiUsage
'contains(java.lang.Object)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/report/LoggingReporter.java`
#### Snippet
```java
    protected boolean skipNodeState(@NotNull final ReportingNodeState nodeState) {
        String path = nodeState.getPath();
        if (lastPaths.contains(path)) {
            return true;
        } else {
```

### UnstableApiUsage
'add(E)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/report/LoggingReporter.java`
#### Snippet
```java
            return true;
        } else {
            lastPaths.add(path);
            return false;
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
    @NotNull
    private Iterator<Group> memberOfMonitored(boolean includeInherited) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Group> groups = getMembership(includeInherited);
        getMonitor().doneMemberOf(watch.elapsed(NANOSECONDS), !includeInherited);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
    @NotNull
    private Iterator<Group> memberOfMonitored(boolean includeInherited) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Group> groups = getMembership(includeInherited);
        getMonitor().doneMemberOf(watch.elapsed(NANOSECONDS), !includeInherited);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
    @NotNull
    private Iterator<Group> memberOfMonitored(boolean includeInherited) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Group> groups = getMembership(includeInherited);
        getMonitor().doneMemberOf(watch.elapsed(NANOSECONDS), !includeInherited);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Group> groups = getMembership(includeInherited);
        getMonitor().doneMemberOf(watch.elapsed(NANOSECONDS), !includeInherited);
        return groups;
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
            // handling non-existing members in case of best-effort
            if (!nonExisting.isEmpty()) {
                Stopwatch watch = Stopwatch.createStarted();
                log.debug("ImportBehavior.BESTEFFORT: Found {} entries of rep:members pointing to non-existing authorizables. Adding to rep:members.", nonExisting.size());
                Tree groupTree = Utils.getTree(gr, root);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
            // handling non-existing members in case of best-effort
            if (!nonExisting.isEmpty()) {
                Stopwatch watch = Stopwatch.createStarted();
                log.debug("ImportBehavior.BESTEFFORT: Found {} entries of rep:members pointing to non-existing authorizables. Adding to rep:members.", nonExisting.size());
                Tree groupTree = Utils.getTree(gr, root);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
            // handling non-existing members in case of best-effort
            if (!nonExisting.isEmpty()) {
                Stopwatch watch = Stopwatch.createStarted();
                log.debug("ImportBehavior.BESTEFFORT: Found {} entries of rep:members pointing to non-existing authorizables. Adding to rep:members.", nonExisting.size());
                Tree groupTree = Utils.getTree(gr, root);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java

                userManager.onGroupUpdate(gr, false, true, memberContentIds, failedContentIds);
                userMonitor.doneUpdateMembers(watch.elapsed(NANOSECONDS), totalSize, failedContentIds.size(), false);
            }
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @NotNull
    private Set<String> updateMembersMonitored(boolean isRemove, @NotNull String... memberIds) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Set<String> failed = updateMembers(isRemove, memberIds);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), memberIds.length, failed.size(), isRemove);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @NotNull
    private Set<String> updateMembersMonitored(boolean isRemove, @NotNull String... memberIds) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Set<String> failed = updateMembers(isRemove, memberIds);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), memberIds.length, failed.size(), isRemove);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @NotNull
    private Set<String> updateMembersMonitored(boolean isRemove, @NotNull String... memberIds) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Set<String> failed = updateMembers(isRemove, memberIds);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), memberIds.length, failed.size(), isRemove);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
        Stopwatch watch = Stopwatch.createStarted();
        Set<String> failed = updateMembers(isRemove, memberIds);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), memberIds.length, failed.size(), isRemove);
        return failed;
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @NotNull
    private Iterator<Authorizable> getMembersMonitored(boolean includeInherited) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Authorizable> members = getMembers(includeInherited);
        getMonitor().doneGetMembers(watch.elapsed(NANOSECONDS), !includeInherited);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @NotNull
    private Iterator<Authorizable> getMembersMonitored(boolean includeInherited) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Authorizable> members = getMembers(includeInherited);
        getMonitor().doneGetMembers(watch.elapsed(NANOSECONDS), !includeInherited);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @NotNull
    private Iterator<Authorizable> getMembersMonitored(boolean includeInherited) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Authorizable> members = getMembers(includeInherited);
        getMonitor().doneGetMembers(watch.elapsed(NANOSECONDS), !includeInherited);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
        Stopwatch watch = Stopwatch.createStarted();
        Iterator<Authorizable> members = getMembers(includeInherited);
        getMonitor().doneGetMembers(watch.elapsed(NANOSECONDS), !includeInherited);
        return members;
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @Override
    public boolean removeMember(@NotNull Authorizable authorizable) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalRemoveMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, true);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @Override
    public boolean removeMember(@NotNull Authorizable authorizable) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalRemoveMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, true);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @Override
    public boolean removeMember(@NotNull Authorizable authorizable) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalRemoveMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, true);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalRemoveMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, true);
        return success;
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @Override
    public boolean addMember(@NotNull Authorizable authorizable) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalAddMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, false);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @Override
    public boolean addMember(@NotNull Authorizable authorizable) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalAddMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, false);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
    @Override
    public boolean addMember(@NotNull Authorizable authorizable) throws RepositoryException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalAddMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, false);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
        Stopwatch watch = Stopwatch.createStarted();
        boolean success = internalAddMember(authorizable);
        getMonitor().doneUpdateMembers(watch.elapsed(NANOSECONDS), 1, (success) ? 0 : 1, false);
        return success;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        }

        closer = Closer.create();
        Iterable<Iterable<Monitor<?>>> monitors = Iterables.transform(securityProvider.getConfigurations(), sc -> sc.getMonitors(statisticsProvider));
        for (Monitor monitor : Iterables.concat(monitors)) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        }

        closer = Closer.create();
        Iterable<Iterable<Monitor<?>>> monitors = Iterables.transform(securityProvider.getConfigurations(), sc -> sc.getMonitors(statisticsProvider));
        for (Monitor monitor : Iterables.concat(monitors)) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        for (Monitor monitor : Iterables.concat(monitors)) {
            Registration reg = whiteboard.register(monitor.getMonitorClass(), monitor, monitor.getMonitorProperties());
            closer.register(reg::unregister);

            if (monitor instanceof LoginModuleMBean) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
            if (monitor instanceof LoginModuleMBean) {
                Registration mbean = registerMBean(whiteboard, LoginModuleMBean.class, (LoginModuleMBean) monitor, LoginModuleMBean.TYPE, LoginModuleMBean.NAME);
                closer.register(mbean::unregister);
            }
        }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
    @Reference
    private StatisticsProvider statisticsProvider = StatisticsProvider.NOOP;
    private Closer closer;

    //----------------------------------------------------< SCR integration >---
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
                    String parentDir = getParentSuffix(levels);

                    Stopwatch watch = Stopwatch.createStarted();

                    Node file = putFile(fileNamePrefix, parentDir);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
                    String parentDir = getParentSuffix(levels);

                    Stopwatch watch = Stopwatch.createStarted();

                    Node file = putFile(fileNamePrefix, parentDir);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
                    String parentDir = getParentSuffix(levels);

                    Stopwatch watch = Stopwatch.createStarted();

                    Node file = putFile(fileNamePrefix, parentDir);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java

                    if (stats != null) {
                        stats.addValue(watch.elapsed(TimeUnit.MILLISECONDS));
                    }

```

### UnstableApiUsage
'getExitingExecutorService(java.util.concurrent.ThreadPoolExecutor)' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    private final StatisticsProvider statsProvider;
    private final Logger log = LoggerFactory.getLogger(getClass());
    private final ExecutorService executorService = MoreExecutors.getExitingExecutorService(
            (ThreadPoolExecutor) Executors.newFixedThreadPool(5));
    private final List<Registration> regs = new ArrayList<>();
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
     */
    protected static final List<String> NODE_LEVELS = Splitter.on(",").trimResults()
            .omitEmptyStrings().splitToList(System.getProperty("nodeLevels", "10,5,2"));

    /**
```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndex", ASYNC_INDEX,
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndex", ASYNC_INDEX,
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndex", ASYNC_INDEX,
```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
```

### UnstableApiUsage
'isRunning()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java

        public void start() {
            if (watch.isRunning()) {
                watch.stop();
                watch.reset();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
        public void start() {
            if (watch.isRunning()) {
                watch.stop();
                watch.reset();
            }
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            if (watch.isRunning()) {
                watch.stop();
                watch.reset();
            }
            watch.start();
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
                watch.reset();
            }
            watch.start();
        }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java

        public Timer(SynchronizedDescriptiveStatistics stats) {
            watch = Stopwatch.createUnstarted();
            this.stats = stats;
        }
```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java

        public Timer(SynchronizedDescriptiveStatistics stats) {
            watch = Stopwatch.createUnstarted();
            this.stats = stats;
        }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java

        public void stop() {
            watch.stop();
            stats.addValue(watch.elapsed(TimeUnit.MILLISECONDS));
            watch.reset();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
        public void stop() {
            watch.stop();
            stats.addValue(watch.elapsed(TimeUnit.MILLISECONDS));
            watch.reset();
        }
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
            watch.stop();
            stats.addValue(watch.elapsed(TimeUnit.MILLISECONDS));
            watch.reset();
        }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java

    static class Timer {
        private final Stopwatch watch;
        private final SynchronizedDescriptiveStatistics stats;

```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigTracker.java`
#### Snippet
```java
        }

        List<String> files = Splitter.on(',').trimResults().omitEmptyStrings().splitToList(jsonFilePath);
        for (String filePath : files) {
            File jsonFile = new File(filePath);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigTracker.java`
#### Snippet
```java
            }

            String content = Files.toString(jsonFile, Charsets.UTF_8);
            JSONObject json = (JSONObject) JSONValue.parse(content);
            configs.putAll(json);
```

### UnstableApiUsage
'toString(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigTracker.java`
#### Snippet
```java
            }

            String content = Files.toString(jsonFile, Charsets.UTF_8);
            JSONObject json = (JSONObject) JSONValue.parse(content);
            configs.putAll(json);
```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndexActivity", ASYNC_INDEX,
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndexActivity", ASYNC_INDEX,
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
                OakLuceneIndexUtils.luceneIndexDefinition(session, "customIndexActivity", ASYNC_INDEX,
```

### UnstableApiUsage
'com.google.common.base.StandardSystemProperty' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
```

### UnstableApiUsage
'FILE_SEPARATOR' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
```

### UnstableApiUsage
'value()' is declared in unstable enum 'com.google.common.base.StandardSystemProperty' marked with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
            case LUCENE_FILE_DOC:
                persistencePath =
                    "target" + StandardSystemProperty.FILE_SEPARATOR.value() + "lucene" + String
                        .valueOf(System.currentTimeMillis());
            case LUCENE_DOC:
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java

    protected static final List<String> NODE_LEVELS = Splitter.on(",").trimResults()
        .omitEmptyStrings().splitToList(System.getProperty("nodeLevels", "10,5,2,1"));

    protected static final List<String> NODE_LEVELS_DEFAULT = ImmutableList.of("10","5","2","1");
```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    @Override
    public int numDocs() {
        return countCache.getUnchecked(new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias()));
    }

```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
     */
    public int luceneNumDeletedDocs() {
        return STATS_CACHE.getUnchecked(
                new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias())
        ).luceneDocsDeleted;
```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
     */
    public long creationDate() {
        return STATS_CACHE.getUnchecked(
                new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias())
        ).creationDate;
```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
     */
    public long storeSize() {
        return STATS_CACHE.getUnchecked(
                new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias())
        ).storeSize;
```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
     */
    public int luceneNumDocs() {
        return STATS_CACHE.getUnchecked(
                new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias())
        ).luceneDocsCount;
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    }

    static <K, V> LoadingCache<K, V> setupCache(long maxSize, long expireSeconds, long refreshSeconds,
                                                @NotNull CacheLoader<K, V> cacheLoader, @Nullable Ticker ticker) {
        CacheBuilder<Object, Object> cacheBuilder = CacheBuilder.newBuilder()
```

### UnstableApiUsage
'com.google.common.base.Ticker' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java

    static <K, V> LoadingCache<K, V> setupCache(long maxSize, long expireSeconds, long refreshSeconds,
                                                @NotNull CacheLoader<K, V> cacheLoader, @Nullable Ticker ticker) {
        CacheBuilder<Object, Object> cacheBuilder = CacheBuilder.newBuilder()
                .maximumSize(maxSize)
```

### UnstableApiUsage
'refreshAfterWrite(long, java.util.concurrent.TimeUnit)' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
                .expireAfterWrite(expireSeconds, TimeUnit.SECONDS)
                // https://github.com/google/guava/wiki/CachesExplained#refresh
                .refreshAfterWrite(refreshSeconds, TimeUnit.SECONDS);
        if (ticker != null) {
            cacheBuilder.ticker(ticker);
```

### UnstableApiUsage
'ticker(com.google.common.base.Ticker)' is unstable because its signature references unstable class 'com.google.common.base.Ticker' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
                .refreshAfterWrite(refreshSeconds, TimeUnit.SECONDS);
        if (ticker != null) {
            cacheBuilder.ticker(ticker);
        }
        return cacheBuilder.build(cacheLoader);
```

### UnstableApiUsage
'build(com.google.common.cache.CacheLoader)' is unstable because its signature references unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
            cacheBuilder.ticker(ticker);
        }
        return cacheBuilder.build(cacheLoader);
    }

```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    private final ElasticConnection elasticConnection;
    private final ElasticIndexDefinition indexDefinition;
    private final LoadingCache<StatsRequestDescriptor, Integer> countCache;

    ElasticIndexStatistics(@NotNull ElasticConnection elasticConnection,
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    }

    static LoadingCache<StatsRequestDescriptor, Integer> setupCountCache(long maxSize, long expireSeconds, long refreshSeconds, @Nullable Ticker ticker) {
        return setupCache(maxSize, expireSeconds, refreshSeconds, new CountCacheLoader(), ticker);
    }
```

### UnstableApiUsage
'com.google.common.base.Ticker' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    }

    static LoadingCache<StatsRequestDescriptor, Integer> setupCountCache(long maxSize, long expireSeconds, long refreshSeconds, @Nullable Ticker ticker) {
        return setupCache(maxSize, expireSeconds, refreshSeconds, new CountCacheLoader(), ticker);
    }
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    private static final Long REFRESH_SECONDS = Long.getLong("oak.elastic.statsRefreshSeconds", 60);

    private static final LoadingCache<StatsRequestDescriptor, Integer> DEFAULT_COUNT_CACHE =
            setupCountCache(MAX_SIZE, EXPIRE_SECONDS, REFRESH_SECONDS, null);

```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
            setupCountCache(MAX_SIZE, EXPIRE_SECONDS, REFRESH_SECONDS, null);

    private static final LoadingCache<StatsRequestDescriptor, StatsResponse> STATS_CACHE =
            setupCache(MAX_SIZE, EXPIRE_SECONDS, REFRESH_SECONDS, new StatsCacheLoader(), null);

```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
     */
    public long primaryStoreSize() {
        return STATS_CACHE.getUnchecked(
                new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias())
        ).primaryStoreSize;
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    ElasticIndexStatistics(@NotNull ElasticConnection elasticConnection,
                           @NotNull ElasticIndexDefinition indexDefinition,
                           @NotNull LoadingCache<StatsRequestDescriptor, Integer> countCache) {
        this.elasticConnection = elasticConnection;
        this.indexDefinition = indexDefinition;
```

### UnstableApiUsage
'getUnchecked(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    @Override
    public int getDocCountFor(String field) {
        return countCache.getUnchecked(
                new StatsRequestDescriptor(elasticConnection, indexDefinition.getIndexAlias(), field)
        );
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    // cache for half the expiry time of the URIs before giving out new ones
                    .expireAfterWrite(httpDownloadURIExpirySeconds / 2, TimeUnit.SECONDS)
                    .build();
        } else {
            LOG.info("presigned GET URI cache disabled");
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
    private S3RequestDecorator s3ReqDecorator;

    private Cache<DataIdentifier, URI> httpDownloadURICache;

    // 0 = off by default
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        // if cache is enabled, check the cache
        if (httpDownloadURICache != null) {
            uri = httpDownloadURICache.getIfPresent(identifier);
        }
        if (null == uri) {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    requestParams);
            if (uri != null && httpDownloadURICache != null) {
                httpDownloadURICache.put(identifier, uri);
            }
        }
```

### UnstableApiUsage
'asMap(java.util.Set, com.google.common.base.Function)' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/ActiveDeletedBlobCollectorMBeanImpl.java`
#### Snippet
```java
     */
    private boolean waitForRunningIndexCycles() {
        Map<IndexStatsMBean, Long> origIndexLaneToExecutinoCountMap = Maps.asMap(
                Sets.newHashSet(StreamSupport.stream(asyncIndexInfoService.getAsyncLanes().spliterator(), false)
                        .map(lane -> asyncIndexInfoService.getInfo(lane).getStatsMBean())
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        topLevel:
        for (LuceneDoc doc : docs){
            TreeTraverser<LuceneDoc> traverser = new TreeTraverser<LuceneDoc>() {
                @Override
                public Iterable<LuceneDoc> children(@NotNull LuceneDoc root) {
```

### UnstableApiUsage
'breadthFirstTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
            };

            for (LuceneDoc node : traverser.breadthFirstTraversal(doc)) {
                if (paths.size() < maxPathCount) {
                    paths.add(node.path);
```

### UnstableApiUsage
'TreeTraverser()' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        topLevel:
        for (LuceneDoc doc : docs){
            TreeTraverser<LuceneDoc> traverser = new TreeTraverser<LuceneDoc>() {
                @Override
                public Iterable<LuceneDoc> children(@NotNull LuceneDoc root) {
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
        topLevel:
        for (LuceneDoc doc : docs){
            TreeTraverser<LuceneDoc> traverser = new TreeTraverser<LuceneDoc>() {
                @Override
                public Iterable<LuceneDoc> children(@NotNull LuceneDoc root) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    @Override
    public boolean checkConsistencyOfAllIndexes(boolean fullCheck) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        NodeState root = nodeStore.getRoot();
        boolean clean = true;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    @Override
    public boolean checkConsistencyOfAllIndexes(boolean fullCheck) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        NodeState root = nodeStore.getRoot();
        boolean clean = true;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    @Override
    public boolean checkConsistencyOfAllIndexes(boolean fullCheck) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        NodeState root = nodeStore.getRoot();
        boolean clean = true;
```

### UnstableApiUsage
Overridden method 'children(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
            TreeTraverser<LuceneDoc> traverser = new TreeTraverser<LuceneDoc>() {
                @Override
                public Iterable<LuceneDoc> children(@NotNull LuceneDoc root) {
                    //Break at maxLevel
                    if (root.depth >= maxLevel) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] checkAndReportConsistencyOfAllIndexes(boolean fullCheck) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        List<String> results = new ArrayList<>();
        NodeState root = nodeStore.getRoot();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] checkAndReportConsistencyOfAllIndexes(boolean fullCheck) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        List<String> results = new ArrayList<>();
        NodeState root = nodeStore.getRoot();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] checkAndReportConsistencyOfAllIndexes(boolean fullCheck) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        List<String> results = new ArrayList<>();
        NodeState root = nodeStore.getRoot();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
     */
    public void waitForCopyCompletion(LocalIndexFile file, long timeoutMillis) {
        final Monitor.Guard notCopyingGuard = new Monitor.Guard(copyCompletionMonitor) {
            @Override
            public boolean isSatisfied() {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor.Guard' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
     */
    public void waitForCopyCompletion(LocalIndexFile file, long timeoutMillis) {
        final Monitor.Guard notCopyingGuard = new Monitor.Guard(copyCompletionMonitor) {
            @Override
            public boolean isSatisfied() {
```

### UnstableApiUsage
'enterWhen(com.google.common.util.concurrent.Monitor.Guard, long, java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
                    log.debug("Checking for copy completion of {} - {}", file.getKey(), file.copyLog());
                }
                notCopying = copyCompletionMonitor.enterWhen(notCopyingGuard, timeoutMillis, TimeUnit.MILLISECONDS);
                if (notCopying) {
                    copyCompletionMonitor.leave();
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
                notCopying = copyCompletionMonitor.enterWhen(notCopyingGuard, timeoutMillis, TimeUnit.MILLISECONDS);
                if (notCopying) {
                    copyCompletionMonitor.leave();
                }
            } catch (InterruptedException e) {
```

### UnstableApiUsage
Overridden method 'isSatisfied()' is declared in unstable class 'com.google.common.util.concurrent.Monitor.Guard' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
        final Monitor.Guard notCopyingGuard = new Monitor.Guard(copyCompletionMonitor) {
            @Override
            public boolean isSatisfied() {
                return !isCopyInProgress(file);
            }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    private final AtomicLong uploadTime = new AtomicLong();

    private final Monitor copyCompletionMonitor = new Monitor();

    private final Map<String, String> indexPathVersionMapping = newConcurrentMap();
```

### UnstableApiUsage
'Monitor()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    private final AtomicLong uploadTime = new AtomicLong();

    private final Monitor copyCompletionMonitor = new Monitor();

    private final Map<String, String> indexPathVersionMapping = newConcurrentMap();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    private final AtomicLong uploadTime = new AtomicLong();

    private final Monitor copyCompletionMonitor = new Monitor();

    private final Map<String, String> indexPathVersionMapping = newConcurrentMap();
```

### UnstableApiUsage
'enter()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java

    public void doneCopy(LocalIndexFile file, long start) {
        copyCompletionMonitor.enter();
        try {
            copyInProgressFiles.remove(file);
```

### UnstableApiUsage
'leave()' is declared in unstable class 'com.google.common.util.concurrent.Monitor' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
            copyInProgressFiles.remove(file);
        } finally {
            copyCompletionMonitor.leave();
        }
        copyInProgressCount.decrementAndGet();
```

### UnstableApiUsage
'Guard(com.google.common.util.concurrent.Monitor)' is declared in unstable class 'com.google.common.util.concurrent.Monitor.Guard' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
     */
    public void waitForCopyCompletion(LocalIndexFile file, long timeoutMillis) {
        final Monitor.Guard notCopyingGuard = new Monitor.Guard(copyCompletionMonitor) {
            @Override
            public boolean isSatisfied() {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
     */
    public void waitForCopyCompletion(LocalIndexFile file, long timeoutMillis) {
        final Monitor.Guard notCopyingGuard = new Monitor.Guard(copyCompletionMonitor) {
            @Override
            public boolean isSatisfied() {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Monitor.Guard' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
     */
    public void waitForCopyCompletion(LocalIndexFile file, long timeoutMillis) {
        final Monitor.Guard notCopyingGuard = new Monitor.Guard(copyCompletionMonitor) {
            @Override
            public boolean isSatisfied() {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
    };

    public static void updateSuggester(Directory directory, Analyzer analyzer, IndexReader reader, final Closer closer)
            throws IOException {
        File tempDir = null;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
            //our internal suggestion OakDirectory. After build is done, we'd delete the temp directory
            //thereby removing any temp stuff that suggester created in the interim.
            tempDir = Files.createTempDir();
            File tempSubChild = new File(tempDir, "non-existing-sub-child");

```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
            //our internal suggestion OakDirectory. After build is done, we'd delete the temp directory
            //thereby removing any temp stuff that suggester created in the interim.
            tempDir = Files.createTempDir();
            File tempSubChild = new File(tempDir, "non-existing-sub-child");

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
            if (reader.getDocCount(FieldNames.SUGGEST) > 0) {
                Dictionary dictionary = new LuceneDictionary(reader, FieldNames.SUGGEST);
                AnalyzingInfixSuggester suggester = closer.register(getLookup(directory, analyzer, tempSubChild));
                shouldCloseDirectory = false;
                suggester.build(dictionary);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
        } finally {
            if (shouldCloseDirectory) {
                closer.register(directory);
            }
            //cleanup temp dir
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
        LOG.debug("Sampling facet dim {}; hitCount: {}, sampleSize: {}, seed: {}", dim, hitCount, sampleSize, randomSeed);

        Stopwatch w = Stopwatch.createStarted();
        Iterator<Integer> docIterator = getMatchingDocIterator(matchingDocsList);
        Iterator<Integer> sampleIterator = docIterator;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
        LOG.debug("Sampling facet dim {}; hitCount: {}, sampleSize: {}, seed: {}", dim, hitCount, sampleSize, randomSeed);

        Stopwatch w = Stopwatch.createStarted();
        Iterator<Integer> docIterator = getMatchingDocIterator(matchingDocsList);
        Iterator<Integer> sampleIterator = docIterator;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
        LOG.debug("Sampling facet dim {}; hitCount: {}, sampleSize: {}, seed: {}", dim, hitCount, sampleSize, randomSeed);

        Stopwatch w = Stopwatch.createStarted();
        Iterator<Integer> docIterator = getMatchingDocIterator(matchingDocsList);
        Iterator<Integer> sampleIterator = docIterator;
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
        }
        int accessibleSampleCount = getAccessibleSampleCount(dim, sampleIterator);
        w.stop();

        LOG.debug("Evaluated accessible samples {} in {}", accessibleSampleCount, w);
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        closer.close();
    }
}
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java

public class DefaultIndexReader implements LuceneIndexReader {
    private final Closer closer;
    private final Directory directory;
    private final Directory suggestDirectory;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java

    public DefaultIndexReader(Directory directory, @Nullable Directory suggestDirectory, Analyzer analyzer) throws IOException {
        this.closer = Closer.create();
        this.directory = directory;
        closer.register(this.directory);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java

    public DefaultIndexReader(Directory directory, @Nullable Directory suggestDirectory, Analyzer analyzer) throws IOException {
        this.closer = Closer.create();
        this.directory = directory;
        closer.register(this.directory);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java
        this.closer = Closer.create();
        this.directory = directory;
        closer.register(this.directory);
        this.reader = DirectoryReader.open(directory);
        closer.register(this.reader);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java
        closer.register(this.directory);
        this.reader = DirectoryReader.open(directory);
        closer.register(this.reader);
        this.suggestDirectory = suggestDirectory;
        if (suggestDirectory != null) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/reader/DefaultIndexReader.java`
#### Snippet
```java
            //Directory is closed by AnalyzingInfixSuggester close call
            this.lookup = SuggestHelper.getLookup(suggestDirectory, analyzer);
            closer.register(this.lookup);
        } else {
            this.lookup = null;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/DocumentQueue.java`
#### Snippet
```java
    private final MeterStats added;
    private final MeterStats dropped;
    private final Striped<Lock> locks = Striped.lock(64);
    private UncaughtExceptionHandler delegate = (t, e) -> {};

```

### UnstableApiUsage
'com.google.common.util.concurrent.Striped' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/DocumentQueue.java`
#### Snippet
```java
    private final MeterStats added;
    private final MeterStats dropped;
    private final Striped<Lock> locks = Striped.lock(64);
    private UncaughtExceptionHandler delegate = (t, e) -> {};

```

### UnstableApiUsage
'lock(int)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/DocumentQueue.java`
#### Snippet
```java
    private final MeterStats added;
    private final MeterStats dropped;
    private final Striped<Lock> locks = Striped.lock(64);
    private UncaughtExceptionHandler delegate = (t, e) -> {};

```

### UnstableApiUsage
'get(java.lang.Object)' is declared in unstable class 'com.google.common.util.concurrent.Striped' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/DocumentQueue.java`
#### Snippet
```java
            //to queue would get processed before observer is invoked
            String indexPath = e.getKey();
            Lock indexingLock = locks.get(indexPath);
            indexingLock.lock();
            try {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
    private boolean updateSuggester(Analyzer analyzer, Calendar currentTime) throws IOException {
        synchronized (this) {
            final Closer closer = Closer.create();

            NodeBuilder suggesterStatus = definitionBuilder.child(suggestDirName);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
    private boolean updateSuggester(Analyzer analyzer, Calendar currentTime) throws IOException {
        synchronized (this) {
            final Closer closer = Closer.create();

            NodeBuilder suggesterStatus = definitionBuilder.child(suggestDirName);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
    private boolean updateSuggester(Analyzer analyzer, Calendar currentTime) throws IOException {
        synchronized (this) {
            final Closer closer = Closer.create();

            NodeBuilder suggesterStatus = definitionBuilder.child(suggestDirName);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java

            NodeBuilder suggesterStatus = definitionBuilder.child(suggestDirName);
            DirectoryReader reader = closer.register(DirectoryReader.open(writer, false));
            final Directory suggestDirectory = directoryFactory.newInstance(definition, definitionBuilder, suggestDirName, false);
            // updateSuggester would close the directory (directly or via lookup)
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
                log.warn("could not update suggester", e);
            } finally {
                closer.close();
            }
            return updated;
```

### UnstableApiUsage
Overridden method 'children(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexInfo.java`
#### Snippet
```java
        TreeTraverser<NodeState> t = new TreeTraverser<NodeState>() {
            @Override
            public Iterable<NodeState> children(NodeState root) {
                return Iterables.transform(root.getChildNodeEntries(), ChildNodeEntry::getNodeState);
            }
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexInfo.java`
#### Snippet
```java

    private void collectCounts(NodeState bucket) {
        TreeTraverser<NodeState> t = new TreeTraverser<NodeState>() {
            @Override
            public Iterable<NodeState> children(NodeState root) {
```

### UnstableApiUsage
'preOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexInfo.java`
#### Snippet
```java
        };
        AtomicInteger matches = new AtomicInteger();
        int totalCount = t.preOrderTraversal(bucket)
                .transform((st) -> {
                    if (st.getBoolean("match")) {
```

### UnstableApiUsage
'TreeTraverser()' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexInfo.java`
#### Snippet
```java

    private void collectCounts(NodeState bucket) {
        TreeTraverser<NodeState> t = new TreeTraverser<NodeState>() {
            @Override
            public Iterable<NodeState> children(NodeState root) {
```

### UnstableApiUsage
'com.google.common.collect.TreeTraverser' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexInfo.java`
#### Snippet
```java

    private void collectCounts(NodeState bucket) {
        TreeTraverser<NodeState> t = new TreeTraverser<NodeState>() {
            @Override
            public Iterable<NodeState> children(NodeState root) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java

    public void dump() throws IOException {
        try (Closer closer = Closer.create()) {
            NodeState idx = NodeStateUtils.getNode(rootState, indexPath);
            LuceneIndexDefinition defn = LuceneIndexDefinition.newBuilder(rootState, idx, indexPath).build();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java

    public void dump() throws IOException {
        try (Closer closer = Closer.create()) {
            NodeState idx = NodeStateUtils.getNode(rootState, indexPath);
            LuceneIndexDefinition defn = LuceneIndexDefinition.newBuilder(rootState, idx, indexPath).build();
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java

    public void dump() throws IOException {
        try (Closer closer = Closer.create()) {
            NodeState idx = NodeStateUtils.getNode(rootState, indexPath);
            LuceneIndexDefinition defn = LuceneIndexDefinition.newBuilder(rootState, idx, indexPath).build();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java
    }

    private void copyContent(NodeState idx, LuceneIndexDefinition defn, IndexMeta meta, File dir, String dirName, Closer closer) throws IOException {
        File idxDir = DirectoryUtils.createSubDir(dir, dirName);

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java
        Directory targetDir = FSDirectory.open(idxDir);

        closer.register(sourceDir);
        closer.register(targetDir);

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java

        closer.register(sourceDir);
        closer.register(targetDir);

        for (String file : sourceDir.listAll()) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexImporter.java`
#### Snippet
```java
    private void copyDirectory(LuceneIndexDefinition definition, NodeBuilder definitionBuilder, String jcrName, File dir)
            throws IOException {
        try (Closer closer = Closer.create()) {
            Directory sourceDir = FSDirectory.open(dir);
            closer.register(sourceDir);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexImporter.java`
#### Snippet
```java
    private void copyDirectory(LuceneIndexDefinition definition, NodeBuilder definitionBuilder, String jcrName, File dir)
            throws IOException {
        try (Closer closer = Closer.create()) {
            Directory sourceDir = FSDirectory.open(dir);
            closer.register(sourceDir);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexImporter.java`
#### Snippet
```java
    private void copyDirectory(LuceneIndexDefinition definition, NodeBuilder definitionBuilder, String jcrName, File dir)
            throws IOException {
        try (Closer closer = Closer.create()) {
            Directory sourceDir = FSDirectory.open(dir);
            closer.register(sourceDir);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexImporter.java`
#### Snippet
```java
        try (Closer closer = Closer.create()) {
            Directory sourceDir = FSDirectory.open(dir);
            closer.register(sourceDir);

            //Remove any existing directory as in import case
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexImporter.java`
#### Snippet
```java

            Directory targetDir = new OakDirectory(definitionBuilder, jcrName, definition, false, blobStore);
            closer.register(targetDir);

            for (String file : sourceDir.listAll()) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
    public CleanupStats performCleanup(boolean forceCleanup) throws CommitFailedException {
        CleanupStats stats = new CleanupStats();
        Stopwatch w = Stopwatch.createStarted();
        Map<String, Long> asyncInfo = asyncIndexInfoService.getIndexedUptoPerLane();
        if (lastAsyncInfo.equals(asyncInfo) && !forceCleanup) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
    public CleanupStats performCleanup(boolean forceCleanup) throws CommitFailedException {
        CleanupStats stats = new CleanupStats();
        Stopwatch w = Stopwatch.createStarted();
        Map<String, Long> asyncInfo = asyncIndexInfoService.getIndexedUptoPerLane();
        if (lastAsyncInfo.equals(asyncInfo) && !forceCleanup) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
    public CleanupStats performCleanup(boolean forceCleanup) throws CommitFailedException {
        CleanupStats stats = new CleanupStats();
        Stopwatch w = Stopwatch.createStarted();
        Map<String, Long> asyncInfo = asyncIndexInfoService.getIndexedUptoPerLane();
        if (lastAsyncInfo.equals(asyncInfo) && !forceCleanup) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
        lastAsyncInfo = asyncInfo;

        if (w.elapsed(TimeUnit.MINUTES) > 5) {
            log.info("Property index cleanup done in {}. {}", w, stats);
        } else {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
        }

        cleanupTime.update(w.elapsed(TimeUnit.NANOSECONDS), TimeUnit.NANOSECONDS);

        return stats;
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
            InputStream stream = data.get(i).getNewStream();
            try {
                ByteStreams.readFully(stream, blob, 0, n);
            } finally {
                stream.close();
```

### UnstableApiUsage
'readFully(java.io.InputStream, byte\[\], int, int)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
            InputStream stream = data.get(i).getNewStream();
            try {
                ByteStreams.readFully(stream, blob, 0, n);
            } finally {
                stream.close();
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java

    static String getPathHash(String indexPath) {
        return Hashing.sha256().hashString(indexPath, Charsets.UTF_8).toString();
    }

```

### UnstableApiUsage
'sha256()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java

    static String getPathHash(String indexPath) {
        return Hashing.sha256().hashString(indexPath, Charsets.UTF_8).toString();
    }

```

### UnstableApiUsage
'hashString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java

    static String getPathHash(String indexPath) {
        return Hashing.sha256().hashString(indexPath, Charsets.UTF_8).toString();
    }

```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java

    static String getPathHash(String indexPath) {
        return Hashing.sha256().hashString(indexPath, Charsets.UTF_8).toString();
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
        public List<DirectoryStatus> dirStatus = new ArrayList<>();

        private Stopwatch watch;

        public void dump(PrintWriter pw){
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    public Result check(Level level, boolean cleanWorkDir) throws IOException {
        try (Closer closer = Closer.create()) {
            return check(level, cleanWorkDir, closer);
        }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    public Result check(Level level, boolean cleanWorkDir) throws IOException {
        try (Closer closer = Closer.create()) {
            return check(level, cleanWorkDir, closer);
        }
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    public Result check(Level level, boolean cleanWorkDir) throws IOException {
        try (Closer closer = Closer.create()) {
            return check(level, cleanWorkDir, closer);
        }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
    }

    private void checkIndex(Result result, Closer closer) throws IOException {
        NodeState idx = NodeStateUtils.getNode(rootState, indexPath);
        LuceneIndexDefinition defn = LuceneIndexDefinition.newBuilder(rootState, idx, indexPath).build();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
    }

    private Result check(Level level, boolean cleanWorkDir, Closer closer) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        Result result = new Result();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    private Result check(Level level, boolean cleanWorkDir, Closer closer) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        Result result = new Result();
        result.indexPath = indexPath;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    private Result check(Level level, boolean cleanWorkDir, Closer closer) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        Result result = new Result();
        result.indexPath = indexPath;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    private Result check(Level level, boolean cleanWorkDir, Closer closer) throws IOException {
        Stopwatch watch = Stopwatch.createStarted();
        Result result = new Result();
        result.indexPath = indexPath;
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
        }

        watch.stop();
        return result;
    }
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

    private void checkIndexDirectory(DirectoryStatus dirStatus, NodeState idx, LuceneIndexDefinition defn,
                                     File workDir, String dirName, Closer closer) throws IOException {
        File idxDir = createWorkDir(workDir, dirName);
        Directory sourceDir = new OakDirectory(new ReadOnlyBuilder(idx), dirName, defn, true);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
        Directory targetDir = FSDirectory.open(idxDir);

        closer.register(sourceDir);
        closer.register(targetDir);

```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

        closer.register(sourceDir);
        closer.register(targetDir);

        boolean clean = true;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
            dirStatus.numDocs = dirReader.numDocs();
            log.debug("[{}][{}] DirectoryReader can be opened", indexPath, dirName);
            closer.register(dirReader);
        }
    }
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

        public LoggingPrintStream(Logger log) {
            super(ByteStreams.nullOutputStream());
            this.log = log;
        }
```

### UnstableApiUsage
'nullOutputStream()' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java

        public LoggingPrintStream(Logger log) {
            super(ByteStreams.nullOutputStream());
            this.log = log;
        }
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
        try{
            InputStream is = blob.getNewStream();
            CountingInputStream cis = new CountingInputStream(is);
            IOUtils.copyLarge(cis, ByteStreams.nullOutputStream());

```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
        try{
            InputStream is = blob.getNewStream();
            CountingInputStream cis = new CountingInputStream(is);
            IOUtils.copyLarge(cis, ByteStreams.nullOutputStream());

```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
        try{
            InputStream is = blob.getNewStream();
            CountingInputStream cis = new CountingInputStream(is);
            IOUtils.copyLarge(cis, ByteStreams.nullOutputStream());

```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
            InputStream is = blob.getNewStream();
            CountingInputStream cis = new CountingInputStream(is);
            IOUtils.copyLarge(cis, ByteStreams.nullOutputStream());

            if (cis.getCount() != blob.length()){
```

### UnstableApiUsage
'nullOutputStream()' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
            InputStream is = blob.getNewStream();
            CountingInputStream cis = new CountingInputStream(is);
            IOUtils.copyLarge(cis, ByteStreams.nullOutputStream());

            if (cis.getCount() != blob.length()){
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
            IOUtils.copyLarge(cis, ByteStreams.nullOutputStream());

            if (cis.getCount() != blob.length()){
                String msg = String.format("Invalid blob %s. Length mismatch - expected ${%d} -> found ${%d}",
                        blobPath, blob.length(), cis.getCount());
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
            if (cis.getCount() != blob.length()){
                String msg = String.format("Invalid blob %s. Length mismatch - expected ${%d} -> found ${%d}",
                        blobPath, blob.length(), cis.getCount());
                result.invalidBlobIds.add(new FileSizeStatus(blobPath, cis.getCount(), blob.length()));
                log.warn("[{}] {}", indexPath, msg);
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
                String msg = String.format("Invalid blob %s. Length mismatch - expected ${%d} -> found ${%d}",
                        blobPath, blob.length(), cis.getCount());
                result.invalidBlobIds.add(new FileSizeStatus(blobPath, cis.getCount(), blob.length()));
                log.warn("[{}] {}", indexPath, msg);
                result.clean = false;
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
                result.blobSizeMismatch = true;
            }
            result.binaryPropSize += cis.getCount();
        } catch (Exception e) {
            log.warn("[{}] Error occurred reading blob at {}", indexPath, blobPath, e);
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java

        setupInputStream();
        int readCnt = ByteStreams.read(blobInputStream, b, offset, len);
        if (readCnt < len) {
            String msg = String.format("Couldn't read byte range request for [%s][%s], " +
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java

        setupInputStream();
        int readCnt = ByteStreams.read(blobInputStream, b, offset, len);
        if (readCnt < len) {
            String msg = String.format("Couldn't read byte range request for [%s][%s], " +
```

### UnstableApiUsage
'com.google.common.base.Ticker' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
    private final Map<String, BadIndexInfo> badPersistedIndexes = Maps.newConcurrentMap();
    private final long recheckIntervalMillis;
    private Ticker ticker = Ticker.systemTicker();
    private int indexerCycleCount;

```

### UnstableApiUsage
'com.google.common.base.Ticker' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
    private final Map<String, BadIndexInfo> badPersistedIndexes = Maps.newConcurrentMap();
    private final long recheckIntervalMillis;
    private Ticker ticker = Ticker.systemTicker();
    private int indexerCycleCount;

```

### UnstableApiUsage
'systemTicker()' is declared in unstable class 'com.google.common.base.Ticker' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
    private final Map<String, BadIndexInfo> badPersistedIndexes = Maps.newConcurrentMap();
    private final long recheckIntervalMillis;
    private Ticker ticker = Ticker.systemTicker();
    private int indexerCycleCount;

```

### UnstableApiUsage
'com.google.common.base.Ticker' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
    }

    public void setTicker(Ticker ticker) {
        this.ticker = ticker;
    }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
            accessCount++;

            if (watch.elapsed(TimeUnit.MILLISECONDS) > recheckIntervalMillis) {
                watch.reset().start();
                return true;
```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java

            if (watch.elapsed(TimeUnit.MILLISECONDS) > recheckIntervalMillis) {
                watch.reset().start();
                return true;
            }
```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java

            if (watch.elapsed(TimeUnit.MILLISECONDS) > recheckIntervalMillis) {
                watch.reset().start();
                return true;
            }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
        private final Stopwatch watch = Stopwatch.createStarted(ticker);
        private String exception;
        private int accessCount;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
        private final Stopwatch watch = Stopwatch.createStarted(ticker);
        private String exception;
        private int accessCount;
```

### UnstableApiUsage
'createStarted(com.google.common.base.Ticker)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
        private final Stopwatch watch = Stopwatch.createStarted(ticker);
        private String exception;
        private int accessCount;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        private final long createdTime = TimeUnit.NANOSECONDS.toMillis(ticker.read());
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
        private final Stopwatch watch = Stopwatch.createStarted(ticker);
        private String exception;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        private final long createdTime = TimeUnit.NANOSECONDS.toMillis(ticker.read());
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
        private final Stopwatch watch = Stopwatch.createStarted(ticker);
        private String exception;
```

### UnstableApiUsage
'createStarted(com.google.common.base.Ticker)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        private final long createdTime = TimeUnit.NANOSECONDS.toMillis(ticker.read());
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
        private final Stopwatch watch = Stopwatch.createStarted(ticker);
        private String exception;
```

### UnstableApiUsage
'read()' is declared in unstable class 'com.google.common.base.Ticker' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/BadIndexTracker.java`
#### Snippet
```java
        public final String path;
        final int lastIndexerCycleCount = indexerCycleCount;
        private final long createdTime = TimeUnit.NANOSECONDS.toMillis(ticker.read());
        private final boolean persistedIndex;
        private final Stopwatch created = Stopwatch.createStarted(ticker);
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
        String id = blob.getContentIdentity();
        if (cache != null && id != null && result == null) {
            result = cache.getIfPresent(id);
        }
        if (result == null && id != null) {
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
    public void resetCache(){
        if (cache != null){
            cache.invalidateAll();
        }
    }
```

### UnstableApiUsage
Overridden method 'weigh(K, V)' is declared in unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java

        @Override
        public int weigh(String key, String value) {
            long size = 168;               // overhead for each cache entry
            size += getMemory(key);        // key
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java

    // the actual cache. key: content id, value: extracted text
    private final Cache<String, String> cache;

    private final ConcurrentHashMap<String, String> timeoutMap;
```

### UnstableApiUsage
'com.google.common.cache.Weigher' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java

    //Taken from DocumentNodeStore and cache packages as they are private
    private static class EmpiricalWeigher implements Weigher<String, String> {
        public static final EmpiricalWeigher INSTANCE = new EmpiricalWeigher();

```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
            if (extractedText.getExtractionResult() == ExtractionResult.SUCCESS
                    || !CACHE_ONLY_SUCCESS) {
                cache.put(id, getText(extractedText));
            }
        }
```

### UnstableApiUsage
'weigher(com.google.common.cache.Weigher)' is unstable because its signature references unstable interface 'com.google.common.cache.Weigher' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
        if (maxWeight > 0) {
            cache = CacheBuilder.newBuilder()
                    .weigher(EmpiricalWeigher.INSTANCE)
                    .maximumWeight(maxWeight)
                    .expireAfterAccess(expiryTimeInSecs, TimeUnit.SECONDS)
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
                    .expireAfterAccess(expiryTimeInSecs, TimeUnit.SECONDS)
                    .recordStats()
                    .build();
            cacheStats = new CacheStats(cache, "ExtractedTextCache",
                    EmpiricalWeigher.INSTANCE, maxWeight);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
                try {
                    idTempDeleteFile = File.createTempFile("idTempDelete", null, rootDirectory);
                    idTempDeleteWriter = Files.newWriter(idTempDeleteFile, Charsets.UTF_8);
                } catch (Exception e) {
                    LOG.warn("Unable to open a writer to a temp file, will ignore tracker sync");
```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
                try {
                    idTempDeleteFile = File.createTempFile("idTempDelete", null, rootDirectory);
                    idTempDeleteWriter = Files.newWriter(idTempDeleteFile, Charsets.UTF_8);
                } catch (Exception e) {
                    LOG.warn("Unable to open a writer to a temp file, will ignore tracker sync");
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
            // Synchronize deleted blob ids with the blob id tracker
            try {
                Closeables.close(idTempDeleteWriter, true);

                if (blobIdsTracked && numBlobsDeleted > 0) {
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
            // Synchronize deleted blob ids with the blob id tracker
            try {
                Closeables.close(idTempDeleteWriter, true);

                if (blobIdsTracked && numBlobsDeleted > 0) {
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
    }
    try {
      CountingInputStream stream = new CountingInputStream(new LazyInputStream(() -> v.getNewStream()));
      try {
        if (length > SMALL_BINARY) {
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
    }
    try {
      CountingInputStream stream = new CountingInputStream(new LazyInputStream(() -> v.getNewStream()));
      try {
        if (length > SMALL_BINARY) {
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
    }
    try {
      CountingInputStream stream = new CountingInputStream(new LazyInputStream(() -> v.getNewStream()));
      try {
        if (length > SMALL_BINARY) {
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
        }
      } finally {
        bytesRead = stream.getCount();
        stream.close();
      }
```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    BlobIdSet(String repositoryDir, String filename) {
        store = new File(new File(repositoryDir), filename);
        bloomFilter = BloomFilter.create(Funnels.stringFunnel(Charsets.UTF_8), 9000000); // about 8MB
        cache = CacheBuilder.newBuilder().maximumSize(1000).build();
        fillBloomFilter();
```

### UnstableApiUsage
'create(com.google.common.hash.Funnel, int)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    BlobIdSet(String repositoryDir, String filename) {
        store = new File(new File(repositoryDir), filename);
        bloomFilter = BloomFilter.create(Funnels.stringFunnel(Charsets.UTF_8), 9000000); // about 8MB
        cache = CacheBuilder.newBuilder().maximumSize(1000).build();
        fillBloomFilter();
```

### UnstableApiUsage
'com.google.common.hash.Funnels' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    BlobIdSet(String repositoryDir, String filename) {
        store = new File(new File(repositoryDir), filename);
        bloomFilter = BloomFilter.create(Funnels.stringFunnel(Charsets.UTF_8), 9000000); // about 8MB
        cache = CacheBuilder.newBuilder().maximumSize(1000).build();
        fillBloomFilter();
```

### UnstableApiUsage
'stringFunnel(java.nio.charset.Charset)' is declared in unstable class 'com.google.common.hash.Funnels' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    BlobIdSet(String repositoryDir, String filename) {
        store = new File(new File(repositoryDir), filename);
        bloomFilter = BloomFilter.create(Funnels.stringFunnel(Charsets.UTF_8), 9000000); // about 8MB
        cache = CacheBuilder.newBuilder().maximumSize(1000).build();
        fillBloomFilter();
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
        store = new File(new File(repositoryDir), filename);
        bloomFilter = BloomFilter.create(Funnels.stringFunnel(Charsets.UTF_8), 9000000); // about 8MB
        cache = CacheBuilder.newBuilder().maximumSize(1000).build();
        fillBloomFilter();
    }
```

### UnstableApiUsage
'apply(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java

    synchronized boolean contains(String blobId) throws IOException {
        if (!bloomFilter.apply(blobId)) {
            return false;
        }
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
            return false;
        }
        Boolean cached = cache.getIfPresent(blobId);
        if (cached != null) {
            return cached;
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java

        if (isPresentInStore(blobId)) {
            cache.put(blobId, Boolean.TRUE);
            bloomFilter.put(blobId);
            return true;
```

### UnstableApiUsage
'put(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
        if (isPresentInStore(blobId)) {
            cache.put(blobId, Boolean.TRUE);
            bloomFilter.put(blobId);
            return true;
        } else {
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
            return true;
        } else {
            cache.put(blobId, Boolean.FALSE);
            return false;
        }
```

### UnstableApiUsage
'put(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
            String line;
            while ((line = reader.readLine()) != null) {
                bloomFilter.put(line);
            }
        } catch (IOException e) {
```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    private final File store;

    private final BloomFilter<CharSequence> bloomFilter;

    private final Cache<String, Boolean> cache;
```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    private final BloomFilter<CharSequence> bloomFilter;

    private final Cache<String, Boolean> cache;

    BlobIdSet(String repositoryDir, String filename) {
```

### UnstableApiUsage
'put(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
    synchronized void add(String blobId) throws IOException {
        addToStore(blobId);
        bloomFilter.put(blobId);
        cache.put(blobId, Boolean.TRUE);
    }
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/split/BlobIdSet.java`
#### Snippet
```java
        addToStore(blobId);
        bloomFilter.put(blobId);
        cache.put(blobId, Boolean.TRUE);
    }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
    @Override
    public Iterator<String> getAllChunkIds(final long maxLastModifiedTime) throws Exception {
        FluentIterable<File> iterable = Files.fileTreeTraverser().postOrderTraversal(baseDir);
        final Iterator<File> iter =
                iterable.filter(new Predicate<File>() {
```

### UnstableApiUsage
'fileTreeTraverser()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
    @Override
    public Iterator<String> getAllChunkIds(final long maxLastModifiedTime) throws Exception {
        FluentIterable<File> iterable = Files.fileTreeTraverser().postOrderTraversal(baseDir);
        final Iterator<File> iter =
                iterable.filter(new Predicate<File>() {
```

### UnstableApiUsage
'postOrderTraversal(T)' is declared in unstable class 'com.google.common.collect.TreeTraverser' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
    @Override
    public Iterator<String> getAllChunkIds(final long maxLastModifiedTime) throws Exception {
        FluentIterable<File> iterable = Files.fileTreeTraverser().postOrderTraversal(baseDir);
        final Iterator<File> iter =
                iterable.filter(new Predicate<File>() {
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/StatsCollectingStreams.java`
#### Snippet
```java

    public static InputStream wrap(@NotNull final BlobStatsCollector collector, final String blobId, InputStream in, long startTime) {
        final CountingInputStream cin = new CountingInputStream(in);
        return new FilterInputStream(cin) {
            @Override
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/StatsCollectingStreams.java`
#### Snippet
```java

    public static InputStream wrap(@NotNull final BlobStatsCollector collector, final String blobId, InputStream in, long startTime) {
        final CountingInputStream cin = new CountingInputStream(in);
        return new FilterInputStream(cin) {
            @Override
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/StatsCollectingStreams.java`
#### Snippet
```java

    public static InputStream wrap(@NotNull final BlobStatsCollector collector, final String blobId, InputStream in, long startTime) {
        final CountingInputStream cin = new CountingInputStream(in);
        return new FilterInputStream(cin) {
            @Override
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/StatsCollectingStreams.java`
#### Snippet
```java
                //overhead would add to the download time

                collector.downloaded(blobId, System.nanoTime() - startTime, TimeUnit.NANOSECONDS, cin.getCount());
                collector.downloadCompleted(blobId);
            }
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
            mac.init(new SecretKeySpec(getReferenceKey(), ALGORITHM));
            byte[] hash = mac.doFinal(blobId.getBytes("UTF-8"));
            return blobId + ':' + BaseEncoding.base32Hex().encode(hash);
        } catch (NoSuchAlgorithmException e) {
            throw new IllegalStateException(e);
```

### UnstableApiUsage
'base32Hex()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
            mac.init(new SecretKeySpec(getReferenceKey(), ALGORITHM));
            byte[] hash = mac.doFinal(blobId.getBytes("UTF-8"));
            return blobId + ':' + BaseEncoding.base32Hex().encode(hash);
        } catch (NoSuchAlgorithmException e) {
            throw new IllegalStateException(e);
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
            mac.init(new SecretKeySpec(getReferenceKey(), ALGORITHM));
            byte[] hash = mac.doFinal(blobId.getBytes("UTF-8"));
            return blobId + ':' + BaseEncoding.base32Hex().encode(hash);
        } catch (NoSuchAlgorithmException e) {
            throw new IllegalStateException(e);
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
     */
    public void setReferenceKeyEncoded(String encodedKey) {
        setReferenceKey(BaseEncoding.base64().decode(encodedKey));
    }

```

### UnstableApiUsage
'base64()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
     */
    public void setReferenceKeyEncoded(String encodedKey) {
        setReferenceKey(BaseEncoding.base64().decode(encodedKey));
    }

```

### UnstableApiUsage
'decode(java.lang.CharSequence)' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
     */
    public void setReferenceKeyEncoded(String encodedKey) {
        setReferenceKey(BaseEncoding.base64().decode(encodedKey));
    }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/PersistentCacheTest.java`
#### Snippet
```java
    private final StatisticsProvider statsProvider;

    private Cache<PathRev, DocumentNodeState> nodesCache;

    private DocumentNodeStore dns;
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/PersistentCacheTest.java`
#### Snippet
```java
            Revision r = new Revision(timestamp.getAndIncrement(), 0, 0);
            PathRev key = new PathRev(p, new RevisionVector(r));
            nodesCache.put(key, dns.getRoot());
            nodesCache.getIfPresent(key); // read, so the entry is marked as used
        }
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/PersistentCacheTest.java`
#### Snippet
```java
            PathRev key = new PathRev(p, new RevisionVector(r));
            nodesCache.put(key, dns.getRoot());
            nodesCache.getIfPresent(key); // read, so the entry is marked as used
        }
    }
```

### UnstableApiUsage
'add(E)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java

        public void addAssetPath(String path) {
            buffer.add(path);
            if (++assetCount % assetSampleSize == 0){
                assets = new ArrayList<>(buffer);
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
        final Queue<String> paths = new LinkedBlockingDeque<>();
        final int assetSampleSize = 50;
        final EvictingQueue<String> buffer = EvictingQueue.create(assetSampleSize);
        private List<String> assets;
        private int assetCount = 0;
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
        final Queue<String> paths = new LinkedBlockingDeque<>();
        final int assetSampleSize = 50;
        final EvictingQueue<String> buffer = EvictingQueue.create(assetSampleSize);
        private List<String> assets;
        private int assetCount = 0;
```

### UnstableApiUsage
'create(int)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
        final Queue<String> paths = new LinkedBlockingDeque<>();
        final int assetSampleSize = 50;
        final EvictingQueue<String> buffer = EvictingQueue.create(assetSampleSize);
        private List<String> assets;
        private int assetCount = 0;
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            System.out.println();
            System.out.println("Running RevisionGC");
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            System.out.println();
            System.out.println("Running RevisionGC");
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            System.out.println();
            System.out.println("Running RevisionGC");
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
            System.out.println(result);
            System.out.println("Performed RevisionGC in " + sw);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
        for (;;) {
            Thread.sleep(TimeUnit.SECONDS.toMillis(10));
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
        for (;;) {
            Thread.sleep(TimeUnit.SECONDS.toMillis(10));
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
        for (;;) {
            Thread.sleep(TimeUnit.SECONDS.toMillis(10));
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
            Stopwatch sw = Stopwatch.createStarted();
            String result = revisionGC(nodeStore);
            sw.stop();
            System.out.println("\nPerformed RevisionGC in " + sw + " (" + result + ")");
        }
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SmallFileReadTest.java`
#### Snippet
```java
            InputStream stream = content.getProperty("jcr:data").getStream();
            try {
                ByteStreams.copy(stream, ByteStreams.nullOutputStream());
            } finally {
                stream.close();
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SmallFileReadTest.java`
#### Snippet
```java
            InputStream stream = content.getProperty("jcr:data").getStream();
            try {
                ByteStreams.copy(stream, ByteStreams.nullOutputStream());
            } finally {
                stream.close();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SmallFileReadTest.java`
#### Snippet
```java
            InputStream stream = content.getProperty("jcr:data").getStream();
            try {
                ByteStreams.copy(stream, ByteStreams.nullOutputStream());
            } finally {
                stream.close();
```

### UnstableApiUsage
'nullOutputStream()' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SmallFileReadTest.java`
#### Snippet
```java
            InputStream stream = content.getProperty("jcr:data").getStream();
            try {
                ByteStreams.copy(stream, ByteStreams.nullOutputStream());
            } finally {
                stream.close();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadManyTest.java`
#### Snippet
```java
                InputStream stream = binary.getStream();
                try {
                    ByteStreams.copy(stream, ByteStreams.nullOutputStream());
                } finally {
                    stream.close();
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadManyTest.java`
#### Snippet
```java
                InputStream stream = binary.getStream();
                try {
                    ByteStreams.copy(stream, ByteStreams.nullOutputStream());
                } finally {
                    stream.close();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadManyTest.java`
#### Snippet
```java
                InputStream stream = binary.getStream();
                try {
                    ByteStreams.copy(stream, ByteStreams.nullOutputStream());
                } finally {
                    stream.close();
```

### UnstableApiUsage
'nullOutputStream()' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadManyTest.java`
#### Snippet
```java
                InputStream stream = binary.getStream();
                try {
                    ByteStreams.copy(stream, ByteStreams.nullOutputStream());
                } finally {
                    stream.close();
```

### UnstableApiUsage
'getExitingScheduledExecutorService(java.util.concurrent.ScheduledThreadPoolExecutor)' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadPropertyTest.java`
#### Snippet
```java
                        MBeanServer server = ManagementFactory.getPlatformMBeanServer();
                        ScheduledExecutorService executor =
                                MoreExecutors.getExitingScheduledExecutorService(new ScheduledThreadPoolExecutor(1));
                        MetricStatisticsProvider statsProvider = new MetricStatisticsProvider(server, executor);
                        oak.getWhiteboard().register(StatisticsProvider.class,
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
        // Split the args to get suites and benchmarks (i.e. suite:benchmark1,benchmark2)
        for(String arg : argset) {
            List<String> tokens = Splitter.on(":").limit(2).splitToList(arg);
            if (tokens.size() > 1) {
                argmap.put(tokens.get(0), Splitter.on(",").trimResults().splitToList(tokens.get(1)));
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
            List<String> tokens = Splitter.on(":").limit(2).splitToList(arg);
            if (tokens.size() > 1) {
                argmap.put(tokens.get(0), Splitter.on(",").trimResults().splitToList(tokens.get(1)));
            } else {
                argmap.put(tokens.get(0), null);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/segment/standby/StandbyBulkTransferBenchmark.java`
#### Snippet
```java
        ObjectName serverStatus = new ObjectName(serverSyncs[0].getMBeanName());

        Stopwatch stopwatch = Stopwatch.createStarted();
        clientSyncs[0].run();
        stopwatch.stop();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/segment/standby/StandbyBulkTransferBenchmark.java`
#### Snippet
```java
        ObjectName serverStatus = new ObjectName(serverSyncs[0].getMBeanName());

        Stopwatch stopwatch = Stopwatch.createStarted();
        clientSyncs[0].run();
        stopwatch.stop();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/segment/standby/StandbyBulkTransferBenchmark.java`
#### Snippet
```java
        ObjectName serverStatus = new ObjectName(serverSyncs[0].getMBeanName());

        Stopwatch stopwatch = Stopwatch.createStarted();
        clientSyncs[0].run();
        stopwatch.stop();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/segment/standby/StandbyBulkTransferBenchmark.java`
#### Snippet
```java
        Stopwatch stopwatch = Stopwatch.createStarted();
        clientSyncs[0].run();
        stopwatch.stop();

        Set<ObjectName> instances = jmxServer.queryNames(status, null);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
            }

            Stopwatch watch = Stopwatch.createStarted();

            executeBenchmark(benchmark, context);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
            }

            Stopwatch watch = Stopwatch.createStarted();

            executeBenchmark(benchmark, context);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
            }

            Stopwatch watch = Stopwatch.createStarted();

            executeBenchmark(benchmark, context);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
            executeBenchmark(benchmark, context);

            watch.stop();
            result.getBenchmarkStatistics(benchmark).addValue(watch.elapsed(TimeUnit.MILLISECONDS));

```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java

            watch.stop();
            result.getBenchmarkStatistics(benchmark).addValue(watch.elapsed(TimeUnit.MILLISECONDS));

            if (LOG.isDebugEnabled()) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
            if (LOG.isDebugEnabled()) {
                LOG.debug("Execution time for " + benchmark + "-"
                                            + watch.elapsed(TimeUnit.MILLISECONDS));
            }
        }
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
     */
    protected static final List<String> INCREMENTS = Splitter.on(",").trimResults()
                    .omitEmptyStrings().splitToList(System.getProperty("increments", "1,2,5"));

    protected static final Credentials CREDENTIALS = new SimpleCredentials("admin", "admin"
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/principal/CompositePrincipalProvider.java`
#### Snippet
```java
        List<Iterator<? extends Principal>> all = providers.stream()
                .map((p) -> p.findPrincipals(nameHint, fullText, searchType, 0, limit + offset)).collect(Collectors.toList());
        Iterator<? extends Principal> principals = Iterators.mergeSorted(all, Comparator.comparing(Principal::getName));

        Spliterator<? extends Principal> spliterator = Spliterators.spliteratorUnknownSize(principals, 0);
```

### UnstableApiUsage
'getExitingScheduledExecutorService(java.util.concurrent.ScheduledThreadPoolExecutor)' is marked unstable with @Beta
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
    protected static StatisticsProvider getStatsProvider() {
        if (statsProvider == null) {
            ScheduledExecutorService executorService = MoreExecutors.getExitingScheduledExecutorService(
                    (ScheduledThreadPoolExecutor) Executors.newScheduledThreadPool(1));

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            return Collections.emptySet();
        } else {
            Stopwatch watch = Stopwatch.createStarted();
            Set<Principal> principals = new HashSet<>();
            principals.add(userPrincipal);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            return Collections.emptySet();
        } else {
            Stopwatch watch = Stopwatch.createStarted();
            Set<Principal> principals = new HashSet<>();
            principals.add(userPrincipal);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            return Collections.emptySet();
        } else {
            Stopwatch watch = Stopwatch.createStarted();
            Set<Principal> principals = new HashSet<>();
            principals.add(userPrincipal);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            principals.add(userPrincipal);
            principals.addAll(principalProvider.getMembershipPrincipals(userPrincipal));
            getLoginModuleMonitor().principalsCollected(watch.elapsed(NANOSECONDS), principals.size());
            return principals;
        }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            return Collections.emptySet();
        } else {
            Stopwatch watch = Stopwatch.createStarted();
            Set<? extends Principal> principals = principalProvider.getPrincipals(userId);
            getLoginModuleMonitor().principalsCollected(watch.elapsed(NANOSECONDS), principals.size());
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            return Collections.emptySet();
        } else {
            Stopwatch watch = Stopwatch.createStarted();
            Set<? extends Principal> principals = principalProvider.getPrincipals(userId);
            getLoginModuleMonitor().principalsCollected(watch.elapsed(NANOSECONDS), principals.size());
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            return Collections.emptySet();
        } else {
            Stopwatch watch = Stopwatch.createStarted();
            Set<? extends Principal> principals = principalProvider.getPrincipals(userId);
            getLoginModuleMonitor().principalsCollected(watch.elapsed(NANOSECONDS), principals.size());
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AbstractLoginModule.java`
#### Snippet
```java
            Stopwatch watch = Stopwatch.createStarted();
            Set<? extends Principal> principals = principalProvider.getPrincipals(userId);
            getLoginModuleMonitor().principalsCollected(watch.elapsed(NANOSECONDS), principals.size());
            return principals;
        }
```

### UnstableApiUsage
'asMap(java.util.Set, com.google.common.base.Function)' is marked unstable with @Beta
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/SimpleCredentialsSupport.java`
#### Snippet
```java
        if (credentials instanceof SimpleCredentials) {
            final SimpleCredentials sc = (SimpleCredentials) credentials;
            return Maps.asMap(ImmutableSet.copyOf(sc.getAttributeNames()), new Function<String, Object>() {
                @Nullable
                @Override
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveReader.java`
#### Snippet
```java
        }
        ioMonitor.beforeSegmentRead(archivePathAsFile(), msb, lsb, indexEntry.getLength());
        Stopwatch stopwatch = Stopwatch.createStarted();
        String segmentFileName = getSegmentFileName(indexEntry);
        doReadSegmentToBuffer(segmentFileName, buffer);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveReader.java`
#### Snippet
```java
        }
        ioMonitor.beforeSegmentRead(archivePathAsFile(), msb, lsb, indexEntry.getLength());
        Stopwatch stopwatch = Stopwatch.createStarted();
        String segmentFileName = getSegmentFileName(indexEntry);
        doReadSegmentToBuffer(segmentFileName, buffer);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveReader.java`
#### Snippet
```java
        }
        ioMonitor.beforeSegmentRead(archivePathAsFile(), msb, lsb, indexEntry.getLength());
        Stopwatch stopwatch = Stopwatch.createStarted();
        String segmentFileName = getSegmentFileName(indexEntry);
        doReadSegmentToBuffer(segmentFileName, buffer);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveReader.java`
#### Snippet
```java
        String segmentFileName = getSegmentFileName(indexEntry);
        doReadSegmentToBuffer(segmentFileName, buffer);
        long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
        ioMonitor.afterSegmentRead(archivePathAsFile(), msb, lsb, indexEntry.getLength(), elapsed);
        return buffer;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
    }

    private PersistentCache createPersistentCache(Configuration configuration, Closer closer) {

        RoleStatisticsProvider roleStatisticsProvider = new RoleStatisticsProvider(statisticsProvider, "remote_persistence");
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
        if (configuration.diskCacheEnabled()) {
            PersistentDiskCache persistentDiskCache = new PersistentDiskCache(new File(configuration.diskCacheDirectory()), configuration.diskCacheMaxSizeMB(), diskCacheIOMonitor);
            closer.register(persistentDiskCache);

            CacheStatsMBean diskCacheStatsMBean = persistentDiskCache.getCacheStats();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
                        configuration.redisMinConnections(), configuration.redisMaxConnections(), configuration.redisMaxTotalConnections(), configuration.redisDBIndex(), redisCacheIOMonitor);
                persistentDiskCache.linkWith(redisCache);
                closer.register(redisCache);

                CacheStatsMBean redisCacheStatsMBean = redisCache.getCacheStats();
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
            PersistentRedisCache redisCache = new PersistentRedisCache(configuration.redisCacheHost(), configuration.redisCachePort(), configuration.redisCacheExpireSeconds(), configuration.redisSocketTimeout(), configuration.redisConnectionTimeout(),
                    configuration.redisMinConnections(), configuration.redisMaxConnections(), configuration.redisMaxTotalConnections(), configuration.redisDBIndex(), redisCacheIOMonitor);
            closer.register(redisCache);

            CacheStatsMBean redisCacheStatsMBean = redisCache.getCacheStats();
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
    private PersistentCache persistentCache;

    private final Closer closer = Closer.create();

    private OsgiWhiteboard osgiWhiteboard;
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
    private PersistentCache persistentCache;

    private final Closer closer = Closer.create();

    private OsgiWhiteboard osgiWhiteboard;
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java
    private PersistentCache persistentCache;

    private final Closer closer = Closer.create();

    private OsgiWhiteboard osgiWhiteboard;
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/RemotePersistentCacheService.java`
#### Snippet
```java

    protected void registerCloseable(final Registration registration) {
        closer.register(registration::unregister);
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java
        String segmentId = new UUID(msb, lsb).toString();

        Stopwatch stopwatch = Stopwatch.createStarted();
        try(Jedis redis = redisPool.getResource()) {
            redisCacheIOMonitor.beforeSegmentRead(null, msb, lsb, 0);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java
        String segmentId = new UUID(msb, lsb).toString();

        Stopwatch stopwatch = Stopwatch.createStarted();
        try(Jedis redis = redisPool.getResource()) {
            redisCacheIOMonitor.beforeSegmentRead(null, msb, lsb, 0);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java
        String segmentId = new UUID(msb, lsb).toString();

        Stopwatch stopwatch = Stopwatch.createStarted();
        try(Jedis redis = redisPool.getResource()) {
            redisCacheIOMonitor.beforeSegmentRead(null, msb, lsb, 0);
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java
            final byte[] bytes = redis.get((REDIS_PREFIX + ":" + segmentId).getBytes());
            if (bytes != null) {
                long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
                redisCacheIOMonitor.afterSegmentRead(null, msb, lsb, bytes.length, elapsed);

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
            File segmentFile = new File(directory, segmentId);

            Stopwatch stopwatch = Stopwatch.createStarted();
            if (segmentFile.exists()) {
                diskCacheIOMonitor.beforeSegmentRead(segmentFile, msb, lsb, (int) segmentFile.length());
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
            File segmentFile = new File(directory, segmentId);

            Stopwatch stopwatch = Stopwatch.createStarted();
            if (segmentFile.exists()) {
                diskCacheIOMonitor.beforeSegmentRead(segmentFile, msb, lsb, (int) segmentFile.length());
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
            File segmentFile = new File(directory, segmentId);

            Stopwatch stopwatch = Stopwatch.createStarted();
            if (segmentFile.exists()) {
                diskCacheIOMonitor.beforeSegmentRead(segmentFile, msb, lsb, (int) segmentFile.length());
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
                    }

                    long elapsed = stopwatch.elapsed(TimeUnit.NANOSECONDS);
                    diskCacheIOMonitor.afterSegmentRead(segmentFile, msb, lsb, (int) segmentFile.length(), elapsed);

```

## RuleId[id=OverwrittenKey]
### OverwrittenKey
Duplicate Map key
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java

        String bundleDir = FilenameUtils.concat(home, "bundles");
        config.put(Constants.FRAMEWORK_STORAGE, bundleDir);

        //FIXME Pojo SR currently reads this from system property instead of Framework Property
```

### OverwrittenKey
Duplicate Map key
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java

        //FIXME Pojo SR currently reads this from system property instead of Framework Property
        config.put(Constants.FRAMEWORK_STORAGE, bundleDir);

        //Directory used by Felix File Install to watch for configs
```

## RuleId[id=EnumSwitchStatementWhichMissesCases]
### EnumSwitchStatementWhichMissesCases
`switch (joinType) { case INNER: set.add(joinCondition); set.addAll(l...` statement on enum type 'org.apache.jackrabbit.oak.query.ast.JoinType' misses cases: 'LEFT_OUTER', and 'RIGHT_OUTER'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/JoinImpl.java`
#### Snippet
```java
    public List<JoinConditionImpl> getInnerJoinConditions() {
        ArrayList<JoinConditionImpl> set = new ArrayList<JoinConditionImpl>();
        switch (joinType) {
        case INNER:
            set.add(joinCondition);
            set.addAll(left.getInnerJoinConditions());
            set.addAll(right.getInnerJoinConditions());
            break;
        }
        return set;
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (ct) { case DELETE_CHANGED_PROPERTY: ours...` statement on enum type 'org.apache.jackrabbit.oak.spi.state.ConflictType' misses cases: 'DELETE_CHANGED_NODE', ...
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/ConflictValidator.java`
#### Snippet
```java
                for (PropertyState ps : node.getProperties()) {
                    PropertyState ours = null, theirs = null;
                    switch (ct) {
                        case DELETE_CHANGED_PROPERTY:
                            ours = null;
                            theirs = ps;
                            break;
                        case ADD_EXISTING_PROPERTY:
                        case CHANGE_CHANGED_PROPERTY:
                            ours = ps;
                            theirs = after.getProperty(ps.getName());
                            break;
                        case CHANGE_DELETED_PROPERTY:
                            ours = ps;
                            theirs = null;
                            break;
                    }

                    sb.append(ps.getName())
```

### EnumSwitchStatementWhichMissesCases
`switch (getDataEncryption()) { case SSE_KMS: String keyId = getSSEParams().g...` statement on enum type 'org.apache.jackrabbit.oak.blob.cloud.s3.S3RequestDecorator.DataEncryption' misses cases: 'SSE_S3', and 'NONE'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3RequestDecorator.java`
#### Snippet
```java

    public GeneratePresignedUrlRequest decorate(GeneratePresignedUrlRequest request) {
        switch (getDataEncryption()) {
          case SSE_KMS:
              String keyId = getSSEParams().getAwsKmsKeyId();
              request = request.withSSEAlgorithm(SSEAlgorithm.KMS.getAlgorithm());
              if (keyId != null) {
                  request = request.withKmsCmkId(keyId);
              }
        }
        return request;
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (pathRestriction) { case EXACT: include = path.equals(docPath); ...` statement on enum type 'org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction' misses cases: 'NO_RESTRICTION', and 'PARENT'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticIndex.java`
#### Snippet
```java
    private static boolean shouldInclude(String path, Filter.PathRestriction pathRestriction, String docPath) {
        boolean include = true;
        switch (pathRestriction) {
            case EXACT:
                include = path.equals(docPath);
                break;
            case DIRECT_CHILDREN:
                include = PathUtils.getParentPath(docPath).equals(path);
                break;
            case ALL_CHILDREN:
                include = PathUtils.isAncestor(path, docPath);
                break;
        }

        return include;
```

### EnumSwitchStatementWhichMissesCases
`switch (filter.getPathRestriction()) { case EXACT: include = path.equals...` statement on enum type 'org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction' misses cases: 'NO_RESTRICTION', and 'PARENT'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java

        Filter filter = plan.getFilter();
        switch (filter.getPathRestriction()) {
            case EXACT:
                include = path.equals(docPath);
                break;
            case DIRECT_CHILDREN:
                include = PathUtils.getParentPath(docPath).equals(path);
                break;
            case ALL_CHILDREN:
                include = PathUtils.isAncestor(path, docPath);
                break;
        }

        return include;
```

## RuleId[id=StringEquality]
### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeState.java`
#### Snippet
```java
        for (String name : nodeNames) {
            totalCount++;
            if (name == STOP_COUNTING_CHILDREN || totalCount >= max) {
                return MAX_VALUE;
            }
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionNamespaces.java`
#### Snippet
```java
            prefix = base + i;
        }
        if (base != prefix) {
            local.put(prefix, uri);
        }
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                                 PropertyTemplate propertyTemplate) {
        int ids = 2;
        if (template.getChildName() != Template.ZERO_CHILD_NODES) {
            ids++;
        }
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        readStats.mark();
        String childName = getTemplate().getChildName();
        if (childName == Template.ZERO_CHILD_NODES) {
            return Collections.emptyList();
        } else if (childName == Template.MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        if (childName == Template.ZERO_CHILD_NODES) {
            return Collections.emptyList();
        } else if (childName == Template.MANY_CHILD_NODES) {
            return getChildNodeMap().getEntries();
        } else {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        readStats.mark();
        String childName = getTemplate().getChildName();
        if (childName == Template.MANY_CHILD_NODES) {
            MapEntry child = getChildNodeMap().getEntry(name);
            if (child != null) {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                return child.getNodeState();
            }
        } else if (childName != Template.ZERO_CHILD_NODES
                && childName.equals(name)) {
            RecordId childNodeId = getSegment().readRecordId(getRecordNumber(), 0, 2);
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        readStats.mark();
        String childName = getTemplate().getChildName();
        if (childName == Template.ZERO_CHILD_NODES) {
            return false;
        } else if (childName == Template.MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        if (childName == Template.ZERO_CHILD_NODES) {
            return false;
        } else if (childName == Template.MANY_CHILD_NODES) {
            return getChildNodeMap().getEntry(name) != null;
        } else {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        readStats.mark();
        String childName = getTemplate().getChildName();
        if (childName == Template.ZERO_CHILD_NODES) {
            return Collections.emptyList();
        } else if (childName == Template.MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        if (childName == Template.ZERO_CHILD_NODES) {
            return Collections.emptyList();
        } else if (childName == Template.MANY_CHILD_NODES) {
            return getChildNodeMap().getKeys();
        } else {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        readStats.mark();
        String childName = getTemplate().getChildName();
        if (childName == Template.ZERO_CHILD_NODES) {
            return 0;
        } else if (childName == Template.MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        if (childName == Template.ZERO_CHILD_NODES) {
            return 0;
        } else if (childName == Template.MANY_CHILD_NODES) {
            return getChildNodeMap().size();
        } else {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        String beforeChildName = beforeTemplate.getChildName();
        String afterChildName = afterTemplate.getChildName();
        if (afterChildName == Template.ZERO_CHILD_NODES) {
            if (beforeChildName != Template.ZERO_CHILD_NODES) {
                for (ChildNodeEntry entry
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        String afterChildName = afterTemplate.getChildName();
        if (afterChildName == Template.ZERO_CHILD_NODES) {
            if (beforeChildName != Template.ZERO_CHILD_NODES) {
                for (ChildNodeEntry entry
                        : beforeTemplate.getChildNodeEntries(beforeId)) {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                }
            }
        } else if (afterChildName != Template.MANY_CHILD_NODES) {
            NodeState afterNode =
                    afterTemplate.getChildNode(afterChildName, afterId);
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                }
            }
            if (beforeChildName == Template.MANY_CHILD_NODES
                    || (beforeChildName != Template.ZERO_CHILD_NODES
                        && !beforeNode.exists())) {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
            }
            if (beforeChildName == Template.MANY_CHILD_NODES
                    || (beforeChildName != Template.ZERO_CHILD_NODES
                        && !beforeNode.exists())) {
                for (ChildNodeEntry entry
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                }
            }
        } else if (beforeChildName == Template.ZERO_CHILD_NODES) {
            for (ChildNodeEntry entry
                    : afterTemplate.getChildNodeEntries(afterId)) {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
                }
            }
        } else if (beforeChildName != Template.MANY_CHILD_NODES) {
            boolean beforeChildRemoved = true;
            NodeState beforeChild =
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
        Segment segment = getSegment();
        int ids = 2;
        if (template.getChildName() != Template.ZERO_CHILD_NODES) {
            ids++;
        }
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentParser.java`
#### Snippet
```java

        // Recurses into child nodes in this segment
        if (template.getChildName() == MANY_CHILD_NODES) {
            RecordId childMapId = segment.readRecordId(nodeId.getRecordNumber(), 0, 2);
            MapRecord childMap = reader.readMap(childMapId);
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentParser.java`
#### Snippet
```java
                }
            }
        } else if (template.getChildName() != ZERO_CHILD_NODES) {
            RecordId childId = segment.readRecordId(nodeId.getRecordNumber(), 0, 2);
            onNode(nodeId, childId);
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentParser.java`
#### Snippet
```java
        }

        int ids = template.getChildName() == ZERO_CHILD_NODES ? 1 : 2;
        size += ids * RECORD_ID_BYTES;

```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java

            String childName = template.getChildName();
            if (childName == Template.MANY_CHILD_NODES) {
                ids.add(writeChildNodes(before, state));
            } else if (childName != Template.ZERO_CHILD_NODES) {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
            if (childName == Template.MANY_CHILD_NODES) {
                ids.add(writeChildNodes(before, state));
            } else if (childName != Template.ZERO_CHILD_NODES) {
                ids.add(writeNode(state.getChildNode(template.getChildName()), null));
            }
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
            RecordId childNameId = null;
            String childName = template.getChildName();
            if (childName == Template.ZERO_CHILD_NODES) {
                head |= 1 << 29;
            } else if (childName == Template.MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
            if (childName == Template.ZERO_CHILD_NODES) {
                head |= 1 << 29;
            } else if (childName == Template.MANY_CHILD_NODES) {
                head |= 1 << 28;
            } else {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java

        // Compare child nodes
        if (childName == ZERO_CHILD_NODES) {
            return true;
        } else if (childName != MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        if (childName == ZERO_CHILD_NODES) {
            return true;
        } else if (childName != MANY_CHILD_NODES) {
            NodeState thisChild = getChildNode(childName, thisId);
            NodeState thatChild = getChildNode(childName, thatId);
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java

        int offset = 2 * RECORD_ID_BYTES;
        if (childName != ZERO_CHILD_NODES) {
            offset += RECORD_ID_BYTES;
        }
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java

    MapRecord getChildNodeMap(RecordId recordId) {
        checkState(childName != ZERO_CHILD_NODES);
        Segment segment = recordId.getSegment();
        RecordId childNodesId = segment.readRecordId(recordId.getRecordNumber(), 2 * RECORD_ID_BYTES);
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java

    Iterable<? extends ChildNodeEntry> getChildNodeEntries(RecordId recordId) {
        if (childName == ZERO_CHILD_NODES) {
            return Collections.emptyList();
        } else if (childName == MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        if (childName == ZERO_CHILD_NODES) {
            return Collections.emptyList();
        } else if (childName == MANY_CHILD_NODES) {
            MapRecord map = getChildNodeMap(recordId);
            return map.getEntries();
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java

    short getTemplateType() {
        if (childName == ZERO_CHILD_NODES) {
            return ZERO_CHILD_NODES_TYPE;
        } else if (childName == MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        if (childName == ZERO_CHILD_NODES) {
            return ZERO_CHILD_NODES_TYPE;
        } else if (childName == MANY_CHILD_NODES) {
            return MANY_CHILD_NODES_TYPE;
        } else {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java

    public NodeState getChildNode(String name, RecordId recordId) {
        if (childName == ZERO_CHILD_NODES) {
            return MISSING_NODE;
        } else if (childName == MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        if (childName == ZERO_CHILD_NODES) {
            return MISSING_NODE;
        } else if (childName == MANY_CHILD_NODES) {
            MapRecord map = getChildNodeMap(recordId);
            MapEntry child = map.getEntry(name);
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
            builder.append(" = ?, ");
        }
        if (childName == ZERO_CHILD_NODES) {
            builder.append("<no children>");
        } else if (childName == MANY_CHILD_NODES) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
        if (childName == ZERO_CHILD_NODES) {
            builder.append("<no children>");
        } else if (childName == MANY_CHILD_NODES) {
            builder.append("<many children>");
        } else {
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
                if (reader != null) {
                    for (String other : archives) {
                        if (other != name) {
                            log.info("Removing unused tar file {}", other);
                            archiveManager.delete(other);
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PropertyExistenceImpl.java`
#### Snippet
```java
    
    private static boolean equalsStrings(String a, String b) {
        return a == null || b == null ? a == b : a.equals(b);
    }

```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/PropertyInexistenceImpl.java`
#### Snippet
```java
    
    private static boolean equalsStrings(String a, String b) {
        return a == null || b == null ? a == b : a.equals(b);
    }

```

### StringEquality
String values are compared using `==`, not 'equals()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java

    public boolean isFinished() {
        return indexStats.getStatus() == STATUS_DONE;
    }

```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/LocalNameMapper.java`
#### Snippet
```java
        if (jcrName.startsWith("{")) {
            String oakName = getOakNameFromExpanded(jcrName);
            if (oakName != jcrName) {
                return oakName;
            } // else not an expanded name, so fall through to local mapping
```

## RuleId[id=ConditionalBreakInInfiniteLoop]
### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
        switch (ch) {
            case '\"': {
                while (true) {
                    ch = jsop.charAt(pos++);
                    if (ch == '\"') {
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
                }
                pos++;
                while (true) {
                    ch = jsop.charAt(pos++);
                    if (ch == '*' && jsop.charAt(pos) == '/') {
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
                } else if ("children".equals(k)) {
                    json.read('[');
                    while (true) {
                        if (json.matches(']')) {
                            break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
        case '{':
            TreeMap<Revision, Object> map = new TreeMap<Revision, Object>(REVERSE);
            while (true) {
                if (json.matches('}')) {
                    break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJSONSupport.java`
#### Snippet
```java
                if (useRevisionMaps) {
                    Map<Revision, Object> map = new TreeMap<Revision, Object>(StableRevisionComparator.REVERSE);
                    while (true) {
                        if (json.matches('}')) {
                            break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJSONSupport.java`
#### Snippet
```java
                } else {
                    Map<String, Object> map = new HashMap<String, Object>();
                    while (true) {
                        if (json.matches('}')) {
                            break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJSONSupport.java`
#### Snippet
```java
            case '[':
                List<Object> list = new ArrayList<Object>();
                while (true) {
                    if (json.matches(']')) {
                        break;
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
        ClusterNodeInfoDocument infoDoc = nodeInfo;
        int clusterId = infoDoc.getClusterId();
        for (;;) {
            if (missingLastRevUtil.acquireRecoveryLock(
                    clusterId, revisionContext.getClusterId())) {
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                char c = line.charAt(i);
                if (c == '\"') {
                    while (true) {
                        c = line.charAt(++i);
                        if (c == '\"') {
```

### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
        }
        Query q = parseSelect();
        while (true) {
            if (!readIf("UNION")) {
                break;
```

## RuleId[id=LoopStatementsThatDontLoop]
### LoopStatementsThatDontLoop
`while` statement does not loop
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
            @Override
            protected LuceneResultRow computeNext() {
                while (!queue.isEmpty() || loadDocs()) {
                    return queue.remove();
                }
```

### LoopStatementsThatDontLoop
`while` statement does not loop
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            @Override
            protected FulltextResultRow computeNext() {
                while (!queue.isEmpty() || loadDocs()) {
                    return queue.remove();
                }
```

## RuleId[id=StaticCallOnSubclass]
### StaticCallOnSubclass
Static method `createCollection()` declared in class 'org.apache.solr.client.solrj.request.CollectionAdminRequest' but referenced via subclass 'org.apache.solr.client.solrj.request.CollectionAdminRequest.Create'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/RemoteSolrServerProvider.java`
#### Snippet
```java
                log.debug("creating collection {}", solrCollection);

                CollectionAdminRequest.Create req = CollectionAdminRequest.Create.createCollection(solrCollection,
                        remoteSolrServerConfiguration.getSolrShardsNo(),remoteSolrServerConfiguration.getSolrReplicationFactor());
                CollectionAdminResponse response = req.process(cloudSolrServer);
```

### StaticCallOnSubclass
Static method `toSegmentMetadata()` declared in class 'org.apache.jackrabbit.oak.segment.remote.RemoteBlobMetadata' but referenced via subclass 'org.apache.jackrabbit.oak.segment.azure.AzureBlobMetadata'
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveWriter.java`
#### Snippet
```java
        Stopwatch stopwatch = Stopwatch.createStarted();
        try {
            blob.setMetadata(AzureBlobMetadata.toSegmentMetadata(indexEntry));
            blob.uploadFromByteArray(data, offset, size);
            blob.uploadMetadata();
```

### StaticCallOnSubclass
Static method `newInstance()` declared in class 'javax.xml.transform.TransformerFactory' but referenced via subclass 'javax.xml.transform.sax.SAXTransformerFactory'
in `oak-http/src/main/java/org/apache/jackrabbit/oak/http/HtmlRepresentation.java`
#### Snippet
```java

            SAXTransformerFactory factory =
                    (SAXTransformerFactory) SAXTransformerFactory.newInstance();
            TransformerHandler handler = factory.newTransformerHandler();
            Transformer transformer = handler.getTransformer();
```

### StaticCallOnSubclass
Static method `equals()` declared in class 'org.apache.jackrabbit.oak.spi.state.AbstractNodeState' but referenced via subclass 'org.apache.jackrabbit.oak.plugins.migration.AbstractDecoratedNodeState'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
        }

        return AbstractDecoratedNodeState.equals(this, (NodeState) other);
    }

```

## RuleId[id=RedundantClassCall]
### RedundantClassCall
Redundant call to `isInstance()`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
            @Override
            public boolean isInstance(Stats metric) {
                return CounterStats.class.isInstance(metric);
            }

```

### RedundantClassCall
Redundant call to `isInstance()`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
            @Override
            public boolean isInstance(Stats metric) {
                return MeterStats.class.isInstance(metric);
            }

```

### RedundantClassCall
Redundant call to `isInstance()`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
            @Override
            public boolean isInstance(Stats metric) {
                return TimerStats.class.isInstance(metric);
            }

```

### RedundantClassCall
Redundant call to `isInstance()`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
            @Override
            public boolean isInstance(Stats metric) {
                return HistogramStats.class.isInstance(metric);
            }

```

## RuleId[id=UnnecessaryStringEscape]
### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                    StaticOperandImpl esc = parseStaticOperand();
                    if (!(esc instanceof LiteralImpl)) {
                        throw getSyntaxError("only ESCAPE '\' is supported");
                    }
                    PropertyValue v = ((LiteralImpl) esc).getLiteralValue();
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                    PropertyValue v = ((LiteralImpl) esc).getLiteralValue();
                    if (!v.getValue(Type.STRING).equals("\\")) {
                        throw getSyntaxError("only ESCAPE '\' is supported");
                    }
                }
```

## RuleId[id=ManualArrayCopy]
### ManualArrayCopy
Manual array copy
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/queue/SegmentWriteAction.java`
#### Snippet
```java

        this.buffer = new byte[length];
        for (int i = 0; i < length; i++) {
            this.buffer[i] = buffer[i + offset];
        }
```

## RuleId[id=AssertWithSideEffects]
### AssertWithSideEffects
`assert` has side effects: call to 'remove()' mutates 'facetField.getValues()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
                    }
                    for (FacetField.Count f : toRemove) {
                        assert facetField.getValues().remove(f);
                    }
                }
```

## RuleId[id=ObsoleteCollection]
### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AbstractAzureDataStoreService.java`
#### Snippet
```java
        dataStore.setProperties(properties);

        Dictionary<String, Object> props = new Hashtable<String, Object>();
        props.put(Constants.SERVICE_PID, dataStore.getClass().getName());
        props.put(DESCRIPTION, getDescription());
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FileDataStoreService.java`
#### Snippet
```java
            PropertiesUtil.toInteger(props.get("stagingSplitPercentage"), 0));
        dataStore.setProperties(props);
        Dictionary<String, Object> config = new Hashtable<String, Object>();
        config.put(Constants.SERVICE_PID, dataStore.getClass().getName());
        config.put(DESCRIPTION, getDescription());
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/AbstractDataStoreService.java`
#### Snippet
```java
        PropertiesUtil.populate(dataStore, config, false);

        Dictionary<String, Object> props = new Hashtable<String, Object>();
        props.put(Constants.SERVICE_PID, ds.getClass().getName());
        props.put(DESCRIPTION, getDescription());
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java
        builder.with(nodeStateStats, nodeBuilderStats);

        Dictionary<String, Object> props = new Hashtable<>();
        props.put(Constants.SERVICE_PID, CompositeNodeStore.class.getName());
        props.put("oak.nodestore.description", new String[] { "nodeStoreType=compositeStore" } );
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/SysViewImportHandler.java`
#### Snippet
```java
     * when the corresponding sv:node element is encountered.
     */
    private final Stack<ImportState> stack = new Stack<ImportState>();
    private final ArrayList<BufferedStringValue> currentPropValues = new ArrayList<BufferedStringValue>();

```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/SysViewImportHandler.java`
#### Snippet
```java
     * when the corresponding sv:node element is encountered.
     */
    private final Stack<ImportState> stack = new Stack<ImportState>();
    private final ArrayList<BufferedStringValue> currentPropValues = new ArrayList<BufferedStringValue>();

```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
        refTracker = new ReferenceChangeTracker();

        parents = new Stack<Tree>();
        parents.push(importTargetTree);

```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
    private final IdResolver idLookup;

    private final Stack<Tree> parents;

    /**
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/DocViewImportHandler.java`
#### Snippet
```java
     * endElement method.
     */
    private final Stack<NodeInfo> stack = new Stack<NodeInfo>();
    // buffer used to merge adjacent character data
    private BufferedStringValue textHandler;
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/DocViewImportHandler.java`
#### Snippet
```java
     * endElement method.
     */
    private final Stack<NodeInfo> stack = new Stack<NodeInfo>();
    // buffer used to merge adjacent character data
    private BufferedStringValue textHandler;
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/JmxUtil.java`
#### Snippet
```java
    public static Map<String, ObjectName> createObjectNameMap(@NotNull String type, @NotNull String name,
                                                              @NotNull Map<String, String> properties) throws MalformedObjectNameException {
        Hashtable<String, String> table = new Hashtable<>();
        table.put("type", quoteValueIfRequired(type));
        table.put("name", quoteValueIfRequired(name));
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/JmxUtil.java`
#### Snippet
```java
    public static Map<String, ObjectName> createObjectNameMap(@NotNull String type, @NotNull String name,
                                                              @NotNull Map<String, String> properties) throws MalformedObjectNameException {
        Hashtable<String, String> table = new Hashtable<>();
        table.put("type", quoteValueIfRequired(type));
        table.put("name", quoteValueIfRequired(name));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiWhiteboard.java`
#### Snippet
```java
        checkArgument(type.isInstance(service));

        Dictionary<Object, Object> dictionary = new Hashtable<Object, Object>();
        for (Map.Entry<?, ?> entry : properties.entrySet()) {
            dictionary.put(entry.getKey(), entry.getValue());
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
        try {

            Hashtable<String, String> table = new Hashtable<String, String>(attrs);
            table.put("type", JmxUtil.quoteValueIfRequired(type));
            table.put("name", JmxUtil.quoteValueIfRequired(name));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
        try {

            Hashtable<String, String> table = new Hashtable<String, String>(attrs);
            table.put("type", JmxUtil.quoteValueIfRequired(type));
            table.put("name", JmxUtil.quoteValueIfRequired(name));
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
    }

    private static void updateNodeTypeStack(Stack<String> parentNodeTypeNames, String line,
        NodeStateEntryReader entryReader) {
        NodeStateHolder ns = new SimpleNodeStateHolder(line);
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
    }

    private static boolean canSplit(Set<String> nodeTypes, Stack<String> nodeTypeNameStack) {
        if (nodeTypeNameStack.contains("")) {
            return false;
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
            String line;
            int lineCount = 0;
            Stack<String> nodeTypeNameStack = new Stack<>();
            while ((line = reader.readLine()) != null) {
                updateNodeTypeStack(nodeTypeNameStack, line, entryReader);
```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
            String line;
            int lineCount = 0;
            Stack<String> nodeTypeNameStack = new Stack<>();
            while ((line = reader.readLine()) != null) {
                updateNodeTypeStack(nodeTypeNameStack, line, entryReader);
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java

    private void registerNodeStoreProvider(final NodeStore ns) {
        Dictionary<String, Object> props = new Hashtable<>();
        props.put(NodeStoreProvider.ROLE, config.role());
        nodeStoreReg = context.getBundleContext().registerService(
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
        }

        Dictionary<String, Object> props = new Hashtable<String, Object>();
        props.put(Constants.SERVICE_PID, DocumentNodeStore.class.getName());
        props.put(DESCRIPTION, getMetadata(ds));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCacheService.java`
#### Snippet
```java

        //Ensure that our observer comes first in processing
        Hashtable<String, Object> props = new Hashtable<>();
        props.put(Constants.SERVICE_RANKING, 10000);
        regs.add(bundleContext.registerService(Observer.class.getName(), observer, props));
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCacheService.java`
#### Snippet
```java

        //Ensure that our observer comes first in processing
        Hashtable<String, Object> props = new Hashtable<>();
        props.put(Constants.SERVICE_RANKING, 10000);
        regs.add(bundleContext.registerService(Observer.class.getName(), observer, props));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAuthorizationConfiguration.java`
#### Snippet
```java
    private void registerAggregationFilter(@NotNull BundleContext context) {
        if (aggregationFilterRegistration == null) {
            aggregationFilterRegistration = context.registerService(AggregationFilter.class.getName(), new AggregationFilterImpl(), new Hashtable());
        }
    }
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java
        closer.register(standbyClientSync);

        Dictionary<Object, Object> dictionary = new Hashtable<Object, Object>();
        dictionary.put("scheduler.period", config.interval());
        dictionary.put("scheduler.concurrent", false);
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/COWNodeStoreService.java`
#### Snippet
```java
                "Copy-on-write: " + nodeStoreDescription);

        Dictionary<String, Object> props = new Hashtable<String, Object>();
        props.put(Constants.SERVICE_PID, COWNodeStore.class.getName());
        props.put("oak.nodestore.description", new String[]{"nodeStoreType=cowStore"});
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/StatisticsProviderFactory.java`
#### Snippet
```java
        org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProvider metricProvider =
         new org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProvider(server, executor);
        Dictionary<Object, Object> dictionary = new Hashtable<Object, Object>();
        dictionary.put("name", "oak");
        regs.add(bundleContext.registerService("com.codahale.metrics.MetricRegistry",
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
        @Override
        public ObjectName createName(String type, String domain, String name) {
            Hashtable<String, String> table = new Hashtable<String, String>();
            table.put("type", JMX_TYPE_METRICS);
            table.put("name", JmxUtil.quoteValueIfRequired(name));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/MetricStatisticsProvider.java`
#### Snippet
```java
        @Override
        public ObjectName createName(String type, String domain, String name) {
            Hashtable<String, String> table = new Hashtable<String, String>();
            table.put("type", JMX_TYPE_METRICS);
            table.put("name", JmxUtil.quoteValueIfRequired(name));
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java
        // Register the SecurityProvider.

        Dictionary<String, Object> properties = new Hashtable<>();

        properties.put("type", "default");
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/AbstractS3DataStoreService.java`
#### Snippet
```java
        dataStore.setProperties(properties);

        Dictionary<String, Object> props = new Hashtable<String, Object>();
        props.put(Constants.SERVICE_PID, dataStore.getClass().getName());
        props.put(DESCRIPTION, getDescription());
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
            final String pidString = pidEntry.getKey();

            final Hashtable<String, Object> current = new Hashtable<String, Object>();
            current.putAll(pidEntry.getValue());
            performSubstitution(current);
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
            final String pidString = pidEntry.getKey();

            final Hashtable<String, Object> current = new Hashtable<String, Object>();
            current.putAll(pidEntry.getValue());
            performSubstitution(current);
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java

            @SuppressWarnings("unchecked") Dictionary<String, Object> props = config.getProperties();
            Hashtable<String, Object> old = props != null ?
                    new Hashtable<String, Object>(new DictionaryAsMap<String, Object>(props)) : null;
            if (old != null) {
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
            @SuppressWarnings("unchecked") Dictionary<String, Object> props = config.getProperties();
            Hashtable<String, Object> old = props != null ?
                    new Hashtable<String, Object>(new DictionaryAsMap<String, Object>(props)) : null;
            if (old != null) {
                old.remove(MARKER_NAME);
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
    }

    private void performSubstitution(Hashtable<String, Object> current) {
        Map<String, String> simpleConfig = Maps.newHashMap();

```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
    private static void registerMBeanServer(PojoServiceRegistry registry) {
        MBeanServer platformMBeanServer = ManagementFactory.getPlatformMBeanServer();
        Hashtable<String, Object> mbeanProps = new Hashtable<String, Object>();
        try {
            ObjectName beanName = ObjectName.getInstance("JMImplementation:type=MBeanServerDelegate");
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
    private static void registerMBeanServer(PojoServiceRegistry registry) {
        MBeanServer platformMBeanServer = ManagementFactory.getPlatformMBeanServer();
        Hashtable<String, Object> mbeanProps = new Hashtable<String, Object>();
        try {
            ObjectName beanName = ObjectName.getInstance("JMImplementation:type=MBeanServerDelegate");
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexProviderService.java`
#### Snippet
```java
        ElasticIndexProvider indexProvider = new ElasticIndexProvider(indexTracker);

        Dictionary<String, Object> props = new Hashtable<>();
        props.put("type", ElasticIndexDefinition.TYPE_ELASTICSEARCH);
        regs.add(bundleContext.registerService(QueryIndexProvider.class.getName(), indexProvider, props));
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexProviderService.java`
#### Snippet
```java
        ElasticIndexEditorProvider editorProvider = new ElasticIndexEditorProvider(indexTracker, elasticConnection, extractedTextCache);

        Dictionary<String, Object> props = new Hashtable<>();
        props.put("type", ElasticIndexDefinition.TYPE_ELASTICSEARCH);
        regs.add(bundleContext.registerService(IndexEditorProvider.class.getName(), editorProvider, props));
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexProviderService.java`
#### Snippet
```java
        }

        Dictionary<String, Object> props = new Hashtable<>();
        props.put("type", TYPE_LUCENE);
        regs.add(bundleContext.registerService(IndexEditorProvider.class.getName(), editorProvider, props));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/osgi/FileBlobStoreService.java`
#### Snippet
```java
        BlobStore blobStore = new FileBlobStore(FilenameUtils.concat(homeDir,"datastore"));
        PropertiesUtil.populate(blobStore, config, false);
        Dictionary<String, Object> props = new Hashtable<String, Object>();
        if (context.getProperties().get(PROP_SPLIT_BLOBSTORE) != null) {
            props.put(PROP_SPLIT_BLOBSTORE, context.getProperties().get(PROP_SPLIT_BLOBSTORE));
```

### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/osgi/SplitBlobStoreService.java`
#### Snippet
```java
            throw new IllegalStateException("Illegal blob store type value: " + oldBlobStoreType);
        }
        Dictionary<String, Object> props = new Hashtable<String, Object>();
        props.put("service.pid", "org.apache.jackrabbit.oak.spi.blob.split.SplitBlobStore");
        reg = ctx.registerService(new String[] { BlobStore.class.getName() }, blobStore, props);
```

## RuleId[id=RefusedBequest]
### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java

    @Override
    public OakIndexFile clone() {
        return new OakBufferedIndexFile(this);
    }
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java

    @Override
    public OakIndexFile clone() {
        return new OakStreamingIndexFile(this);
    }
```

## RuleId[id=StaticPseudoFunctionalStyleMethod]
### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java

            // Download all the corresponding files for the records
            List<File> refFiles = newArrayList(transform(refRecords, new Function<DataRecord, File>() {
                @Override public File apply(DataRecord input) {
                    InputStream inputStream = null;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                                Iterator<List<String>> partitions = Iterators.partition(idIter, getBatchCount());
                                while (partitions.hasNext()) {
                                    List<String> idBatch = Lists.transform(partitions.next(), new Function<String,
                                        String>() {
                                        @Nullable @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
            nodeStates.put(nodeStore, nodeState);
        }
        if (any(nodeStates.values(), isNull())) {
            LOG.warn("Checkpoint {} doesn't exist. Debug info:\n{}", checkpoint, checkpointDebugInfo(), new Exception());
            return null;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
    public Iterable<String> checkpoints() {
        final NodeStore globalNodeStore = ctx.getGlobalStore().getNodeStore();
        return filter(globalNodeStore.checkpoints(), new Predicate<String>() {
            @Override
            public boolean apply(String checkpoint) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java

    private static boolean checkpointExists(NodeStore nodeStore, String checkpoint) {
        return Iterables.any(nodeStore.checkpoints(), Predicates.equalTo(checkpoint));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java

    private Iterable<ProtectedPropertyImporter> getPropertyImporters() {
        return Iterables.filter(Iterables.transform(pItemImporters, new Function<ProtectedItemImporter, ProtectedPropertyImporter>() {
            @Nullable
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java

    private Iterable<ProtectedPropertyImporter> getPropertyImporters() {
        return Iterables.filter(Iterables.transform(pItemImporters, new Function<ProtectedItemImporter, ProtectedPropertyImporter>() {
            @Nullable
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java

    private Iterable<ProtectedNodeImporter> getNodeImporters() {
        return Iterables.filter(Iterables.transform(pItemImporters, new Function<ProtectedItemImporter, ProtectedNodeImporter>() {
            @Nullable
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java

    private Iterable<ProtectedNodeImporter> getNodeImporters() {
        return Iterables.filter(Iterables.transform(pItemImporters, new Function<ProtectedItemImporter, ProtectedNodeImporter>() {
            @Nullable
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

                Iterable<String> propertyOakPaths = idManager.getReferences(weak, node.getTree(), name); // TODO: oak name?
                Iterable<Property> properties = Iterables.transform(
                        propertyOakPaths,
                        new Function<String, Property>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
     */
    private static Iterable<String> filterChildren(NodeState parent, final Predicate<NodeState> predicate) {
        return transform(filter(parent.getChildNodeEntries(), new Predicate<ChildNodeEntry>() {
            @Override
            public boolean apply(ChildNodeEntry input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
     */
    private static Iterable<String> filterChildren(NodeState parent, final Predicate<NodeState> predicate) {
        return transform(filter(parent.getChildNodeEntries(), new Predicate<ChildNodeEntry>() {
            @Override
            public boolean apply(ChildNodeEntry input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/checkpoint/CheckpointRetriever.java`
#### Snippet
```java

    private static List<Checkpoint> getCheckpoints(NodeState checkpointRoot) {
        return Lists.newArrayList(Iterables.transform(checkpointRoot.getChildNodeEntries(), new Function<ChildNodeEntry, Checkpoint>() {
            @Nullable
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                Privilege aggrPriv = it.next();

                List<String> aggrNames = Lists.transform(
                        ImmutableList.copyOf(aggrPriv.getDeclaredAggregatePrivileges()),
                        new Function<Privilege, String>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
            @Override
            public int getLocalEventCount() {
                return size(filter(queue, new Predicate<ContentChange>() {
                    @Override
                    public boolean apply(ContentChange input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
            @Override
            public int getExternalEventCount() {
                return size(filter(queue, new Predicate<ContentChange>() {
                    @Override
                    public boolean apply(ContentChange input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java
    @Override
    public Iterable<String> getChildNodeNames() {
        return Iterables.transform(
                getChildNodeEntries(),
                new Function<ChildNodeEntry, String>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryChildNodeEntry.java`
#### Snippet
```java
    public static <E extends Entry<String, ? extends NodeState>> Iterable<ChildNodeEntry> iterable(
            Iterable<E> set) {
        return Iterables.transform(
                set,
                new Function<Entry<String, ? extends NodeState>, ChildNodeEntry>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
                    not(in(properties.keySet())), GET_NAME);
            return concat(
                    filter(base.getProperties(), predicate),
                    filter(properties.values(), notNull()));
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
            return concat(
                    filter(base.getProperties(), predicate),
                    filter(properties.values(), notNull()));
        }
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
            }
            return concat(
                    filter(base.getChildNodeNames(), not(in(nodes.keySet()))),
                    filterValues(nodes, NodeState.EXISTS).keySet());
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
                    not(in(nodes.keySet())), ChildNodeEntry.GET_NAME);
            return concat(
                    filter(base.getChildNodeEntries(), predicate),
                    iterable(filterValues(nodes, NodeState.EXISTS).entrySet()));
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
        switch (type.tag()) {
            case PropertyType.STRING:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.BINARY:
                return (S) Iterables.transform(values, new Function<T, Blob>() {
                    @Override
                    public Blob apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.LONG:
                return (S) Iterables.transform(values, new Function<T, Long>() {
                    @Override
                    public Long apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.DOUBLE:
                return (S) Iterables.transform(values, new Function<T, Double>() {
                    @Override
                    public Double apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.DATE:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.BOOLEAN:
                return (S) Iterables.transform(values, new Function<T, Boolean>() {
                    @Override
                    public Boolean apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.NAME:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.PATH:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.REFERENCE:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.WEAKREFERENCE:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.URI:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.DECIMAL:
                return (S) Iterables.transform(values, new Function<T, BigDecimal>() {
                    @Override
                    public BigDecimal apply(T value) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
    private static TreeSet<String> cleanCopy(Collection<String> includedPaths) {
        // ensure that paths don't have trailing slashes - this triggers an assertion in PathUtils isAncestor
        return newTreeSet(transform(includedPaths, SANITIZE_PATH));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
                return tracker.getServices();
            } else {
                return ImmutableList.copyOf(Iterables.filter(tracker.getServices(), (input) -> predicate.test(input)));
            }
        } finally {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
            Bson query = Filters.eq(NodeDocument.HAS_BINARY_FLAG, NodeDocument.HAS_BINARY_VAL);
            FindIterable<BasicDBObject> cursor = dbCol.find(query);
            return Iterables.transform(cursor, new Function<DBObject, NodeDocument>() {
                @Nullable
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/PropertyHistory.java`
#### Snippet
```java
    @Override
    public Iterator<NodeDocument> iterator() {
        return ensureOrder(filter(transform(doc.getPreviousRanges().entrySet(),
                new Function<Map.Entry<Revision, Range>, Map.Entry<Revision, NodeDocument>>() {
            @Nullable
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/PropertyHistory.java`
#### Snippet
```java
    @Override
    public Iterator<NodeDocument> iterator() {
        return ensureOrder(filter(transform(doc.getPreviousRanges().entrySet(),
                new Function<Map.Entry<Revision, Range>, Map.Entry<Revision, NodeDocument>>() {
            @Nullable
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
            return Collections.emptyList();
        } else {
            return Iterables.transform(Iterables.filter(map.entrySet(),
                    new Predicate<Map.Entry<Path, Revision>>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
            return Collections.emptyList();
        } else {
            return Iterables.transform(Iterables.filter(map.entrySet(),
                    new Predicate<Map.Entry<Path, Revision>>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocumentSweeper.java`
#### Snippet
```java
    private Iterable<Map.Entry<Path, UpdateOp>> sweepOperations(
            final Iterable<NodeDocument> docs) {
        return filter(transform(docs,
                new Function<NodeDocument, Map.Entry<Path, UpdateOp>>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocumentSweeper.java`
#### Snippet
```java
    private Iterable<Map.Entry<Path, UpdateOp>> sweepOperations(
            final Iterable<NodeDocument> docs) {
        return filter(transform(docs,
                new Function<NodeDocument, Map.Entry<Path, UpdateOp>>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocumentSweeper.java`
#### Snippet
```java
        // - COMMITROOT : for new child (parent)
        // - REVISIONS : for commit roots (root for branch commits)
        for (String property : filter(doc.keySet(), SWEEP_ONE_PREDICATE)) {
            Map<Revision, String> valueMap = doc.getLocalMap(property);
            for (Map.Entry<Revision, String> entry : valueMap.entrySet()) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingLastRevSeeker.java`
#### Snippet
```java
        Iterable<NodeDocument> nodes = getSelectedDocuments(store,
                MODIFIED_IN_SECS, getModifiedInSecs(startTime));
        return Iterables.filter(nodes, new Predicate<NodeDocument>() {
            @Override
            public boolean apply(NodeDocument input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
                                                         int limit) {
        Iterable<? extends AbstractDocumentNodeState> children = store.getChildNodes(this, name, limit);
        return Iterables.transform(children, new Function<AbstractDocumentNodeState, ChildNodeEntry>() {
            @Override
            public ChildNodeEntry apply(final AbstractDocumentNodeState input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
        //generic listing of props
        if (bundlingContext.isBundled()){
            return Iterables.filter(properties.values(), BundlorUtils.NOT_BUNDLOR_PROPS);
        }
        return properties.values();
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGCSupport.java`
#### Snippet
```java
                                                     final RevisionVector sweepRevs,
                                                     final long oldestRevTimeStamp) {
        return filter(getAllDocuments(store), new Predicate<NodeDocument>() {
            @Override
            public boolean apply(NodeDocument doc) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGCSupport.java`
#### Snippet
```java
    public Iterable<NodeDocument> getPossiblyDeletedDocs(final long fromModified,
                                                         final long toModified) {
        return filter(getSelectedDocuments(store, NodeDocument.DELETED_ONCE, 1), new Predicate<NodeDocument>() {
            @Override
            public boolean apply(NodeDocument input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java`
#### Snippet
```java
            return Collections.emptyList();
        }
        Iterable<Iterable<Path>> paths = transform(filter(commits.entrySet(),
                new Predicate<Map.Entry<Revision, BranchCommit>>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java`
#### Snippet
```java
            return Collections.emptyList();
        }
        Iterable<Iterable<Path>> paths = transform(filter(commits.entrySet(),
                new Predicate<Map.Entry<Revision, BranchCommit>>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java`
#### Snippet
```java
        @Override
        Iterable<Path> getModifiedPaths() {
            Iterable<Iterable<Path>> paths = transform(previous.values(),
                    new Function<BranchCommit, Iterable<Path>>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
            if (prevRanges.isEmpty()) {
                return Collections.emptyIterator();
            } else if (all(prevRanges.values(), FIRST_LEVEL)) {
                // all previous document ids can be constructed from the
                // previous ranges map. this works for first level previous
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Commit.java`
#### Snippet
```java

    private static boolean hasContentChanges(UpdateOp op) {
        return filter(transform(op.getChanges().keySet(),
                KEY_TO_NAME), Utils.PROPERTY_OR_DELETED).iterator().hasNext();
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Commit.java`
#### Snippet
```java

    private static boolean hasContentChanges(UpdateOp op) {
        return filter(transform(op.getChanges().keySet(),
                KEY_TO_NAME), Utils.PROPERTY_OR_DELETED).iterator().hasNext();
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBranch.java`
#### Snippet
```java
            NodeDocument doc = Utils.getRootDocument(store.getDocumentStore());
            Set<Revision> collisions = Sets.newHashSet(doc.getLocalMap(COLLISIONS).keySet());
            Set<Revision> commits = Sets.newHashSet(Iterables.transform(b.getCommits(),
                    new Function<Revision, Revision>() {
                        @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] getLastKnownRevisions() {
        return toArray(transform(filter(nodeStore.getHeadRevision(),
                new Predicate<Revision>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] getLastKnownRevisions() {
        return toArray(transform(filter(nodeStore.getHeadRevision(),
                new Predicate<Revision>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] getActiveClusterNodes() {
        return toArray(transform(filter(clusterNodes,
                new Predicate<ClusterNodeInfoDocument>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] getActiveClusterNodes() {
        return toArray(transform(filter(clusterNodes,
                new Predicate<ClusterNodeInfoDocument>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] getInactiveClusterNodes() {
        return toArray(transform(filter(clusterNodes,
                new Predicate<ClusterNodeInfoDocument>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    @Override
    public String[] getInactiveClusterNodes() {
        return toArray(transform(filter(clusterNodes,
                new Predicate<ClusterNodeInfoDocument>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            };
        } else {
            changes = Iterables.concat(transform(copyOf(ranges), rangeToChanges));
        }
        return filter(changes, new Predicate<Entry<Revision, String>>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            changes = Iterables.concat(transform(copyOf(ranges), rangeToChanges));
        }
        return filter(changes, new Predicate<Entry<Revision, String>>() {
            @Override
            public boolean apply(Entry<Revision, String> input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java

            // didn't find entry -> scan through remaining head ranges
            return filter(transform(getPreviousRanges().headMap(revision).entrySet(),
                    new Function<Map.Entry<Revision, Range>, NodeDocument>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java

            // didn't find entry -> scan through remaining head ranges
            return filter(transform(getPreviousRanges().headMap(revision).entrySet(),
                    new Function<Map.Entry<Revision, Range>, NodeDocument>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
        Map<Revision, String> localChanges = getLocalMap(property);
        if (!localChanges.isEmpty()) {
            changes.add(filter(localChanges.entrySet(), p));
        }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
    @NotNull
    RevisionVector getSweepRevisions() {
        return new RevisionVector(transform(getLocalMap(SWEEP_REV).values(),
                new Function<String, Revision>() {
                    @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java

    private boolean hasBinaryPropertyForSplit(Iterable<String> values) {
        return doc.hasBinary() && any(transform(values, binarySize), BINARY_FOR_SPLIT_THRESHOLD);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java

    private boolean hasBinaryPropertyForSplit(Iterable<String> values) {
        return doc.hasBinary() && any(transform(values, binarySize), BINARY_FOR_SPLIT_THRESHOLD);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java
    private Iterable<Map.Entry<Path, UpdateOp>> sweepOperations(
            final Iterable<NodeDocument> docs) {
        return filter(transform(docs,
                new Function<NodeDocument, Map.Entry<Path, UpdateOp>>() {

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java
    private Iterable<Map.Entry<Path, UpdateOp>> sweepOperations(
            final Iterable<NodeDocument> docs) {
        return filter(transform(docs,
                new Function<NodeDocument, Map.Entry<Path, UpdateOp>>() {

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java
        // - COMMITROOT : for new child (parent)
        // - REVISIONS : for commit roots (root for branch commits)
        for (String property : filter(doc.keySet(), COMMITROOT_OR_REVISIONS)) {
            Map<Revision, String> valueMap = doc.getLocalMap(property);
            for (Map.Entry<Revision, String> entry : valueMap.entrySet()) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBVersionGCSupport.java`
#### Snippet
```java
    private Iterable<NodeDocument> identifyGarbageMode1(final Set<SplitDocType> gcTypes, final RevisionVector sweepRevs,
            final long oldestRevTimeStamp) {
        return filter(getSplitDocuments(), getGarbageCheckPredicate(gcTypes, sweepRevs, oldestRevTimeStamp));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
     */
    public Iterable<Integer> getRecoveryCandidateNodes() {
        return Iterables.transform(filter(missingLastRevUtil.getAllClusters(),
                new Predicate<ClusterNodeInfoDocument>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

        final RevisionVector readRevision = parent.getLastRevision();
        return transform(getChildren(parent, name, limit).children, new Function<String, DocumentNodeState>() {
            @Override
            public DocumentNodeState apply(String input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        checkOpen();
        final long now = clock.getTime();
        return Iterables.transform(Iterables.filter(checkpoints.getCheckpoints().entrySet(),
                new Predicate<Map.Entry<Revision,Checkpoints.Info>>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        checkOpen();
        final long now = clock.getTime();
        return Iterables.transform(Iterables.filter(checkpoints.getCheckpoints().entrySet(),
                new Predicate<Map.Entry<Revision,Checkpoints.Info>>() {
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
     */
    public static Iterable<String> pathToId(@NotNull Iterable<String> paths) {
        return transform(paths, input -> getIdFromPath(input));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    public static Iterable<StringValue> asStringValueIterable(
            @NotNull Iterable<String> values) {
        return transform(values, new Function<String, StringValue>() {
            @Override
            public StringValue apply(String input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

    private static <T extends Document> void assertNoDuplicatedIds(List<T> documents) {
        if (newHashSet(transform(documents, idExtractor)).size() < documents.size()) {
            throw new IllegalArgumentException("There are duplicated ids in the document list");
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoMissingLastRevSeeker.java`
#### Snippet
```java
        FindIterable<BasicDBObject> cursor = getNodeCollection()
                .find(query).sort(sortFields);
        return CloseableIterable.wrap(transform(cursor,
                input -> store.convertFromDBObject(NODES, input)));
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java
            // makes any future similar problem more visible than long running
            // queries alone (15min is still long).
            Iterable<NodeDocument> iterable = filter(transform(getNodeCollection().find(query)
                    .maxTime(15, TimeUnit.MINUTES).hint(hint),
                    new Function<BasicDBObject, NodeDocument>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java
            // makes any future similar problem more visible than long running
            // queries alone (15min is still long).
            Iterable<NodeDocument> iterable = filter(transform(getNodeCollection().find(query)
                    .maxTime(15, TimeUnit.MINUTES).hint(hint),
                    new Function<BasicDBObject, NodeDocument>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java
                .find(query).batchSize(batchSize);

        return CloseableIterable.wrap(transform(cursor,
                input -> store.convertFromDBObject(NODES, input)));
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/DelegatingDocumentNodeState.java`
#### Snippet
```java
    @Override
    public Iterable<? extends ChildNodeEntry> getChildNodeEntries() {
        return Iterables.transform(delegate.getChildNodeEntries(), new Function<ChildNodeEntry, ChildNodeEntry>() {
            @Nullable
            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/DelegatingDocumentNodeState.java`
#### Snippet
```java
    @Override
    public Iterable<? extends PropertyState> getProperties() {
        return Iterables.filter(delegate.getProperties(), NOT_META_PROPS);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
        memCacheMetadata.incrementAll(keys);
        ImmutableMap<K, V> result = memCache.getAllPresent(keys);
        memCacheMetadata.removeAll(filter(typedKeys, not(in(result.keySet()))));
        return result;
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncHandlerMappingTracker.java`
#### Snippet
```java

    Iterable<String> getIdpNames(@NotNull final String syncHandlerName) {
        return Iterables.filter(Iterables.transform(referenceMap.values(), mapping -> {
            if (syncHandlerName.equals(mapping.syncHandlerName)) {
                return mapping.idpName;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncHandlerMappingTracker.java`
#### Snippet
```java

    Iterable<String> getIdpNames(@NotNull final String syncHandlerName) {
        return Iterables.filter(Iterables.transform(referenceMap.values(), mapping -> {
            if (syncHandlerName.equals(mapping.syncHandlerName)) {
                return mapping.idpName;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAuthorizationConfiguration.java`
#### Snippet
```java
            return EmptyPermissionProvider.getInstance();
        } else {
            Iterable<String> principalPaths = Iterables.transform(principals, f::getOakPath);
            return new PrincipalBasedPermissionProvider(root, workspaceName, principalPaths, this);
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
                }
            }
            Iterable<PrincipalAccessControlList> acls = Iterables.transform(m.entrySet(), entry -> new ImmutablePrincipalPolicy(entry.getKey(), filter.getOakPath(entry.getKey()), entry.getValue(), mgrProvider.getRestrictionProvider(), getNamePathMapper()));

            if (ReadPolicy.hasEffectiveReadPolicy(readPaths, oakPath)) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

            int invalidated = nodesCache.invalidateOutdated(modStamps);
            for (String id : filter(ids, not(in(modStamps.keySet())))) {
                nodesCache.invalidate(id);
                invalidated++;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            }
        } catch (MongoException e) {
            throw handleException(e, collection, Iterables.transform(updateOps,
                    new Function<UpdateOp, String>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        } finally {
            stats.doneCreateOrUpdate(watch.elapsed(TimeUnit.NANOSECONDS),
                    collection, Lists.transform(updateOps, new Function<UpdateOp, String>() {
                @Override
                public String apply(UpdateOp input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/PrintingDiff.java`
#### Snippet
```java
            val.append(" = {").append(v).append("}");
        } else if (ps.getType() == BINARIES) {
            String v = transform(ps.getValue(BINARIES), BLOB_LENGTH).toString();
            val.append("[").append(ps.count()).append("] = ").append(v);
        } else if (ps.isArray()) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PrintingDiff.java`
#### Snippet
```java
            val.append(" = {").append(v).append("}");
        } else if (ps.getType() == BINARIES) {
            String v = transform(ps.getValue(BINARIES), BLOB_LENGTH).toString();
            val.append("[").append(ps.count()).append("] = ").append(v);
        } else if (ps.isArray()) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreCheckHelper.java`
#### Snippet
```java

    public static Iterable<NodeDocument> getAllNodeDocuments(MongoDocumentStore store) {
        return transform(store.getDBCollection(Collection.NODES)
                        .find(DBObject.class)
                        .sort(new BsonDocument("$natural", new BsonInt32(1))),
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authentication/external/CustomExternalIdentityProvider.java`
#### Snippet
```java
                        return ImmutableSet.of();
                    } else {
                        return Iterables.transform(groupIds, new Function<String, ExternalIdentityRef>() {
                            @Nullable
                            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
    @Override
    public Iterable<String> getChildNodeNames() {
        return filter(
                builder.getChildNodeNames(),
                input -> input != null && getChildNode(input).exists());
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
        // FIXME: OAK-810 move to proper workspace initialization
        // initialize default workspace
        Iterable<WorkspaceInitializer> workspaceInitializers = Iterables.transform(securityProvider.getConfigurations(),
                new Function<SecurityConfiguration, WorkspaceInitializer>() {
                    @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LowerCaseImpl.java`
#### Snippet
```java
        // TODO toLowerCase(): document the Turkish locale problem
        if (p.getType().isArray()) {
            Iterable<String> lowerCase = transform(p.getValue(STRINGS),
                    new Function<String, String>() {
                        @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        }
        stats.doneCreateOrUpdate(watch.elapsed(TimeUnit.NANOSECONDS),
                collection, Lists.transform(updateOps, new Function<UpdateOp, String>() {
                    @Override
                    public String apply(UpdateOp input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        if (!queryOptions.prefetch.isEmpty()) {
            String list = String.join(", ",
                    Lists.transform(queryOptions.prefetch,
                            SQL2Parser::escapeStringLiteral));
            optionValues.add("prefetch (" + list + ")");
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/AbstractTree.java`
#### Snippet
```java
    @NotNull
    public Iterable<? extends PropertyState> getProperties() {
        return filter(getNodeBuilder().getProperties(),
            new Predicate<PropertyState>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/AbstractTree.java`
#### Snippet
```java
    @NotNull
    public Iterable<Tree> getChildren() {
        Iterable<Tree> children = transform(getChildNames(),
            new Function<String, Tree>() {
                @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/AbstractTree.java`
#### Snippet
```java
                }
            });
        return filter(children, notNull());
    }
}
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexInfoServiceImpl.java`
#### Snippet
```java
    @Override
    public Iterable<IndexInfo> getAllIndexInfo() {
        return Iterables.filter(Iterables.transform(indexPathService.getIndexPaths(), new Function<String, IndexInfo>() {
            @Override
            public IndexInfo apply(String indexPath) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexInfoServiceImpl.java`
#### Snippet
```java
    @Override
    public Iterable<IndexInfo> getAllIndexInfo() {
        return Iterables.filter(Iterables.transform(indexPathService.getIndexPaths(), new Function<String, IndexInfo>() {
            @Override
            public IndexInfo apply(String indexPath) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexPathServiceImpl.java`
#### Snippet
```java
                    "not be listed", INDEX_DEFINITIONS_NODE_TYPE);
            NodeState oakIndex = nodeStore.getRoot().getChildNode("oak:index");
            return transform(filter(oakIndex.getChildNodeEntries(),
                    cne -> INDEX_DEFINITIONS_NODE_TYPE.equals(cne.getNodeState().getName(JCR_PRIMARYTYPE))),
                    cne -> PathUtils.concat("/oak:index", cne.getName()));
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexPathServiceImpl.java`
#### Snippet
```java
                    "not be listed", INDEX_DEFINITIONS_NODE_TYPE);
            NodeState oakIndex = nodeStore.getRoot().getChildNode("oak:index");
            return transform(filter(oakIndex.getChildNodeEntries(),
                    cne -> INDEX_DEFINITIONS_NODE_TYPE.equals(cne.getNodeState().getName(JCR_PRIMARYTYPE))),
                    cne -> PathUtils.concat("/oak:index", cne.getName()));
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexPlan.java`
#### Snippet
```java
        this.deprecated = definition.getBoolean(IndexConstants.INDEX_DEPRECATED);
        this.matchesNodeTypes =
                matchesAllTypes || any(types, in(filter.getSupertypes()));

        ValuePattern valuePattern = new ValuePattern(definition);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceIndex.java`
#### Snippet
```java

        if (!"*".equals(name)) {
            paths = filter(paths, new Predicate<String>() {
                @Override
                public boolean apply(String path) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceIndex.java`
#### Snippet
```java
            });
        }
        paths = transform(paths, new Function<String, String>() {
            @Override
            public String apply(String path) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndex.java`
#### Snippet
```java
            public boolean visit(FullTextOr or) {
                final int[] index = new int[1];
                List<Cursor> cursors = Lists.transform(or.list,
                        new Function<FullTextExpression, Cursor>() {
                            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<NodeDefinition> getAutoCreateNodeDefinitions() {
        return Iterables.filter(getNodeDefinitions(), new Predicate<NodeDefinition>() {
            @Override
            public boolean apply(NodeDefinition nodeDefinition) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<NodeDefinition> getMandatoryNodeDefinitions() {
        return Iterables.filter(getNodeDefinitions(), new Predicate<NodeDefinition>() {
            @Override
            public boolean apply(NodeDefinition nodeDefinition) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<PropertyDefinition> getMandatoryPropertyDefinitions() {
        return Iterables.filter(getPropertyDefinitions(), new Predicate<PropertyDefinition>() {
            @Override
            public boolean apply(PropertyDefinition propertyDefinition) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<NodeDefinition> getNamedNodeDefinitions(@NotNull final String oakName) {
        return Iterables.concat(Iterables.transform(
                nodeTypes.values(),
                new Function<NodeTypeImpl, Iterable<NodeDefinition>>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<PropertyDefinition> getAutoCreatePropertyDefinitions() {
        return Iterables.filter(getPropertyDefinitions(), new Predicate<PropertyDefinition>() {
            @Override
            public boolean apply(PropertyDefinition propertyDefinition) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypePredicate.java`
#### Snippet
```java
            }
            if (mixinTypes != null
                    && any(input.getNames(JCR_MIXINTYPES), in(mixinTypes))) {
                return true;
            }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypePredicate.java`
#### Snippet
```java
            return true;
        }
        if (mixinTypes != null && any(mixins, in(mixinTypes))) {
            return true;
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypePredicate.java`
#### Snippet
```java
            }
            if (mixinTypes != null
                    && any(TreeUtil.getNames(input, JCR_MIXINTYPES), in(mixinTypes))) {
                return true;
            }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeEditor.java`
#### Snippet
```java
                typesToCheck == null
                || typesToCheck.contains(primary)
                || any(mixins, in(typesToCheck));
        this.parent = checkNotNull(parent);
        this.nodeName = checkNotNull(name);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeEditor.java`
#### Snippet
```java
                typesToCheck == null
                || typesToCheck.contains(primary)
                || any(mixins, in(typesToCheck));
        this.parent = null;
        this.nodeName = null;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
    @NotNull
    public Iterable<? extends ChildNodeEntry> getChildNodeEntries() {
        final Iterable<ChildNodeEntry> transformed = Iterables.transform(
                delegate.getChildNodeEntries(),
                new Function<ChildNodeEntry, ChildNodeEntry>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
                }
        );
        return Iterables.filter(transformed, notNull());
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
            final Collection<String> childNodeNames = new ArrayList<String>();
            Iterables.addAll(childNodeNames, nodeState.getChildNodeNames());
            final Iterable<String> values = Iterables.filter(
                    propertyState.getValue(Type.NAMES), Predicates.in(childNodeNames));
            return PropertyStates.createProperty(OAK_CHILD_ORDER, values, Type.NAMES);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
    @NotNull
    public Iterable<? extends PropertyState> getProperties() {
        final Iterable<PropertyState> propertyStates = Iterables.transform(
                delegate.getProperties(),
                new Function<PropertyState, PropertyState>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/AbstractDecoratedNodeState.java`
#### Snippet
```java
                }
        );
        return Iterables.filter(Iterables.concat(propertyStates, getNewPropertyStates()), notNull());
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/identifier/IdentifierManager.java`
#### Snippet
```java
                    Query.JCR_SQL2, bindings, NO_MAPPINGS);

            Iterable<Tree> resultTrees = Iterables.transform(result.getRows(), (Function<ResultRow, Tree>) row -> row.getTree(null));
            return Iterables.filter(resultTrees, tree1 -> !tree1.getPath().startsWith(VersionConstants.VERSION_STORE_PATH)
            );
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/identifier/IdentifierManager.java`
#### Snippet
```java

            Iterable<Tree> resultTrees = Iterables.transform(result.getRows(), (Function<ResultRow, Tree>) row -> row.getTree(null));
            return Iterables.filter(resultTrees, tree1 -> !tree1.getPath().startsWith(VersionConstants.VERSION_STORE_PATH)
            );
        } catch (ParseException e) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java

            cache.setProperty(CacheConstants.REP_EXPIRATION, LongUtils.calculateExpirationTime(expiration));
            String value = (groupPrincipals.isEmpty()) ? "" : Joiner.on(",").join(Iterables.transform(groupPrincipals, input -> Text.escape(input.getName())));
            cache.setProperty(CacheConstants.REP_GROUP_PRINCIPAL_NAMES, value);

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserManagerImpl.java`
#### Snippet
```java
    @NotNull
    private Iterable<GroupAction> filterGroupActions() {
        return Iterables.filter(actionProvider.getAuthorizableActions(securityProvider), GroupAction.class);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserManagerImpl.java`
#### Snippet
```java
    @NotNull
    private Iterable<UserAction> filterUserActions() {
        return Iterables.filter(actionProvider.getAuthorizableActions(securityProvider), UserAction.class);
    }
}
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAuthorizationConfiguration.java`
#### Snippet
```java
            case 1: return configurations.get(0).getAccessControlManager(root, namePathMapper);
            default:
                List<AccessControlManager> mgrs = Lists.transform(configurations, authorizationConfiguration -> authorizationConfiguration.getAccessControlManager(root, namePathMapper));
                return new CompositeAccessControlManager(root, namePathMapper, getSecurityProvider(), mgrs, aggregationFilter);
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACL.java`
#### Snippet
```java
        final String principalName = entry.getPrincipal().getName();
        final Set<Restriction> restrictions = entry.getRestrictions();
        List<ACE> subList = Lists.newArrayList(Iterables.filter(entries, ace ->
                principalName.equals(checkNotNull(ace).getPrincipal().getName()) && restrictions.equals(ace.getRestrictions())));

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACL.java`
#### Snippet
```java
    @NotNull
    private Set<Restriction> validateRestrictions(@NotNull Map<String, Value> restrictions, @NotNull Map<String, Value[]> mvRestrictions) throws RepositoryException {
        Iterable<RestrictionDefinition> mandatoryDefs = Iterables.filter(getRestrictionProvider().getSupportedRestrictions(getOakPath()), RestrictionDefinition::isMandatory);
        for (RestrictionDefinition def : mandatoryDefs) {
            String jcrName = getNamePathMapper().getJcrName(def.getName());
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/SecurityProviderRegistration.java`
#### Snippet
```java

        closer = Closer.create();
        Iterable<Iterable<Monitor<?>>> monitors = Iterables.transform(securityProvider.getConfigurations(), sc -> sc.getMonitors(statisticsProvider));
        for (Monitor monitor : Iterables.concat(monitors)) {
            Registration reg = whiteboard.register(monitor.getMonitorClass(), monitor, monitor.getMonitorProperties());
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java

                List<S3ObjectSummary> listing = Lists.newArrayList(
                    filter(prevObjectListing.getObjectSummaries(),
                        new Predicate<S3ObjectSummary>() {
                            @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    @Override
    public String[] getGarbageDetails() {
        return toArray(transform(failedToDeleteFiles.values(),
                new Function<LocalIndexFile, String>() {
                    @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    @Override
    public String[] getCopyInProgressDetails() {
        return toArray(transform(copyInProgressFiles,
                new Function<LocalIndexFile, String>() {
                    @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/LuceneDocumentHolder.java`
#### Snippet
```java

    private static Iterable<? extends LuceneDocInfo> asLuceneDocInfo(ListMultimap<String, String> docs) {
        return Iterables.transform(docs.entries(), new Function<Map.Entry<String, String>, LuceneDocInfo>() {
            @Override
            public LuceneDocInfo apply(final Map.Entry<String, String> input) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/BucketSwitcher.java`
#### Snippet
```java
        String head = builder.getString(PROP_HEAD_BUCKET);
        String previous = builder.getString(PROP_PREVIOUS_BUCKET);
        return Iterables.filter(builder.getChildNodeNames(),
                name -> !Objects.equals(name, head) && !Objects.equals(name, previous)
        );
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexLookup.java`
#### Snippet
```java
        }

        Iterable<String> paths = transform(result, path -> isAbsolute(path) ? path : "/" + path);

        if (log.isTraceEnabled()) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexLookup.java`
#### Snippet
```java

        if (log.isTraceEnabled()) {
            paths = transform(paths, path -> {
                log.trace("[{}] {} = {} -> {}", indexPath, propertyName, encodedValues, path);
                return path;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public List<? extends ValidatorProvider> getValidators(@NotNull final String workspaceName, @NotNull final Set<Principal> principals, @NotNull final MoveTracker moveTracker) {
        Iterable<ValidatorProvider> t = Iterables.concat(Lists.transform(getConfigurations(), securityConfiguration -> securityConfiguration.getValidators(workspaceName, principals, moveTracker)));
        return ImmutableList.copyOf(t);
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    public Iterable<Monitor<?>> getMonitors(@NotNull StatisticsProvider statisticsProvider) {
        return Iterables.concat(
                Iterables.transform(getConfigurations(), securityConfiguration -> securityConfiguration.getMonitors(statisticsProvider)));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public List<ProtectedItemImporter> getProtectedItemImporters() {
        Iterable<ProtectedItemImporter> t = Iterables.concat(Lists.transform(getConfigurations(), new Function<T, List<? extends ProtectedItemImporter>>() {
            @Override
            public List<? extends ProtectedItemImporter> apply(T securityConfiguration) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public List<ThreeWayConflictHandler> getConflictHandlers() {
        return ImmutableList.copyOf(Iterables.concat(Lists.transform(getConfigurations(), securityConfiguration -> securityConfiguration.getConflictHandlers())));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public RepositoryInitializer getRepositoryInitializer() {
        return new CompositeInitializer(Lists.transform(getConfigurations(), new Function<T, RepositoryInitializer>() {
            @Override
            public RepositoryInitializer apply(T securityConfiguration) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public WorkspaceInitializer getWorkspaceInitializer() {
        return new CompositeWorkspaceInitializer(Lists.transform(getConfigurations(), new Function<T, WorkspaceInitializer>() {
            @Override
            public WorkspaceInitializer apply(T securityConfiguration) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public List<? extends CommitHook> getCommitHooks(@NotNull final String workspaceName) {
        Iterable<CommitHook> t = Iterables.concat(Lists.transform(getConfigurations(), new Function<T, List<? extends CommitHook>>() {
            @Override
            public List<? extends CommitHook> apply(T securityConfiguration) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBitsProvider.java`
#### Snippet
```java
    @NotNull
    public PrivilegeBits getBits(@NotNull Privilege[] privileges, @NotNull final NameMapper nameMapper) {
        return getBits(Iterables.filter(Iterables.transform(Arrays.asList(privileges), privilege -> nameMapper.getOakNameOrNull(privilege.getName())), Predicates.notNull()));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBitsProvider.java`
#### Snippet
```java
    @NotNull
    public PrivilegeBits getBits(@NotNull Privilege[] privileges, @NotNull final NameMapper nameMapper) {
        return getBits(Iterables.filter(Iterables.transform(Arrays.asList(privileges), privilege -> nameMapper.getOakNameOrNull(privilege.getName())), Predicates.notNull()));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/token/CompositeTokenConfiguration.java`
#### Snippet
```java
    @Override
    public TokenProvider getTokenProvider(@NotNull final Root root) {
        List<TokenProvider> providers = Lists.transform(getConfigurations(), new Function<TokenConfiguration, TokenProvider>() {
            @Override
            public TokenProvider apply(TokenConfiguration tokenConfiguration) {
```

## RuleId[id=RedundantArrayCreation]
### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
        } catch (IOException e) {
            LOG.error("Exception while adding metadata record with name {}, {}",
                    new Object[] {name, e});
            throw new DataStoreException("Could not add root record", e);
        }
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
            if (!file.isDirectory()) { // skip directories which are actual data store files
                if (!file.delete()) {
                    LOG.warn("Failed to delete root record {} ", new Object[] {file
                            .getAbsolutePath()});
                }
            }
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
        } catch (IOException e) {
            LOG.error("Exception while adding metadata record file {} with name {}, {}",
                new Object[] {input, name, e});
            throw new DataStoreException("Could not add root record", e);
        }
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
            if (!file.isDirectory()) { // skip directories which are actual data store files
                if (!file.delete()) {
                    LOG.warn("Failed to delete root record {} ", new Object[] {file
                            .getAbsolutePath()});
                } else {
                    return true;
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/OakFileDataStore.java`
#### Snippet
```java
                if (!file.exists()) {
                    LOG.debug("File does not exist {} ",
                        new Object[] {file.getAbsolutePath()});
                } else {
                    return true;
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
                if (!file.delete()) {
                    LOG.warn("Failed to delete root record {} ",
                        new Object[] {file.getAbsolutePath()});
                }
            }
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
                if (!file.delete()) {
                    LOG.warn("Failed to delete root record {} ",
                        new Object[] {file.getAbsolutePath()});
                } else {
                    return true;
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
                if (!file.exists()) {
                    LOG.debug("File does not exist {} ",
                        new Object[] {file.getAbsolutePath()});
                } else {
                    return true;
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
        } catch (IOException e) {
            LOG.error("Exception while adding metadata record with name {}, {}",
                new Object[] {name, e});
            throw new DataStoreException("Could not add root record", e);
        }
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
    // log message
    private static final Set<String> IGNOREDCLASSES = new HashSet<String>(Arrays.asList(
            new String[] { Thread.class.getName(), java.lang.reflect.Method.class.getName(), LockDeprecation.class.getName(),
                    LockManagerImpl.class.getName(), NodeImpl.class.getName(), SessionImpl.class.getName() }));

    // classes for which we tolerate locking related calls for now (only TRACE
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
    // level, no WARNING)
    private static final Set<String> ACCEPTEDCLASSES = new HashSet<String>(
            Arrays.asList(new String[] { ImporterImpl.class.getName() }));

    public static void handleCall(String operation) throws UnsupportedRepositoryOperationException {
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/StopwatchLogger.java`
#### Snippet
```java
                l.debug(
                    "{} - {} {}ms",
                    new Object[] { checkNotNull(swl.clazz), message == null ? "" : message,
                                  c.getTimeMonotonic() - swl.start});
            }
        }
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    // see OAK-8702
    private static final List<String> ALLOWED_USERS = Collections.unmodifiableList(
            Arrays.asList(new String[] { "org.apache.jackrabbit.oak.plugins.blob.", "org.apache.jackrabbit.oak.plugins.document.",
                    "org.apache.jackrabbit.oak.segment.", "org.apache.jackrabbit.oak.plugins.segment." }));

    /**
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java

        List<String> header = new ArrayList<>();
        header.addAll(Arrays.asList(new String[] { sId, sState, sStarted, sLeaseEnd, sLeft, sRecoveryBy }));
        if (verbose) {
            header.add(sLastRootRev);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    // set of optional table columns
    private static final Set<String> OPTIONALCOLUMNS = Collections
            .unmodifiableSet(new HashSet<String>(Arrays.asList(new String[] { "version", "sdtype", "sdmaxrevtime" })));

    // set of properties not serialized to JSON
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    // set of required table columns
    private static final Set<String> REQUIREDCOLUMNS = Collections.unmodifiableSet(new HashSet<String>(Arrays.asList(
            new String[] { "id", "dsize", "deletedonce", "bdata", "data", "cmodcount", "modcount", "hasbinary", "modified" })));

    // set of optional table columns
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    // set of properties not serialized to JSON, schema version 2
    private static final Set<String> COLUMNPROPERTIES2 = new HashSet<String>(Arrays.asList(
            new String[] { ID, NodeDocument.HAS_BINARY_FLAG, NodeDocument.DELETED_ONCE, COLLISIONSMODCOUNT, MODIFIED, MODCOUNT,
                    NodeDocument.SD_TYPE, NodeDocument.SD_MAX_REV_TIME_IN_SECS, VERSIONPROP }));

    private final RDBDocumentSerializer ser = new RDBDocumentSerializer(this);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    // set of properties not serialized to JSON
    private static final Set<String> COLUMNPROPERTIES = new HashSet<String>(Arrays.asList(
            new String[] { ID, NodeDocument.HAS_BINARY_FLAG, NodeDocument.DELETED_ONCE, COLLISIONSMODCOUNT, MODIFIED, MODCOUNT }));
    // set of properties not serialized to JSON, schema version 2
    private static final Set<String> COLUMNPROPERTIES2 = new HashSet<String>(Arrays.asList(
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    // set of supported indexed properties
    private static final Set<String> INDEXEDPROPERTIES = new HashSet<String>(Arrays.asList(new String[] { MODIFIED,
            NodeDocument.HAS_BINARY_FLAG, NodeDocument.DELETED_ONCE, NodeDocument.SD_TYPE, NodeDocument.SD_MAX_REV_TIME_IN_SECS, VERSIONPROP }));

    // set of required table columns
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditor.java`
#### Snippet
```java
                LOG.trace(
                    "Executing synchronously. instanceId: {}, store: {}, executor: {}, board: {}",
                    new Object[] { instanceId, store, executor, board });
                consolidateCount(builder);
            } else {                
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                getClass().getClassLoader());
            s3service.deleteObject(bucket, key);
            LOG.debug("Identifier [{}] deleted. It took [{}]ms.", new Object[] {
                identifier, (System.currentTimeMillis() - start) });
        } catch (AmazonServiceException e) {
            throw new DataStoreException(
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
            upload.waitForUploadResult();
        } catch (InterruptedException e) {
            LOG.error("Exception in uploading metadata file {}", new Object[] {input, e});
            throw new DataStoreException("Error in uploading metadata file", e);
        } finally {
```

## RuleId[id=DuplicateBranchesInSwitch]
### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/LiteralImpl.java`
#### Snippet
```java
                return cast("REFERENCE");
            case PropertyType.STRING:
                return escape(value.getString());
            case PropertyType.URI:
                return cast("URI");
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/util/SolrUtils.java`
#### Snippet
```java
                return propertyName + "_double_sort";
            case PropertyType.DECIMAL:
                return propertyName + "_double_sort";
            default:
                return propertyName + "_string_sort";
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
                        }
                        case NO_RESTRICTION:
                            break;
                        default:
                            break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/DefaultSolrConfiguration.java`
#### Snippet
```java
            }
            case NO_RESTRICTION:
                break;
            default:
                break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java
            }
            case NO_RESTRICTION:
                break;
            default:
                break;
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/SinglePropertyState.java`
#### Snippet
```java
            case PropertyType.DATE: return (S) getConverter().toDate();
            case PropertyType.BOOLEAN: return (S) (Boolean) getConverter().toBoolean();
            case PropertyType.NAME: return (S) getConverter().toString();
            case PropertyType.PATH: return (S) getConverter().toString();
            case PropertyType.REFERENCE: return (S) getConverter().toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/SinglePropertyState.java`
#### Snippet
```java
            case PropertyType.BOOLEAN: return (S) (Boolean) getConverter().toBoolean();
            case PropertyType.NAME: return (S) getConverter().toString();
            case PropertyType.PATH: return (S) getConverter().toString();
            case PropertyType.REFERENCE: return (S) getConverter().toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter().toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/SinglePropertyState.java`
#### Snippet
```java
            case PropertyType.NAME: return (S) getConverter().toString();
            case PropertyType.PATH: return (S) getConverter().toString();
            case PropertyType.REFERENCE: return (S) getConverter().toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter().toString();
            case PropertyType.URI: return (S) getConverter().toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/SinglePropertyState.java`
#### Snippet
```java
            case PropertyType.PATH: return (S) getConverter().toString();
            case PropertyType.REFERENCE: return (S) getConverter().toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter().toString();
            case PropertyType.URI: return (S) getConverter().toString();
            case PropertyType.DECIMAL: return (S) getConverter().toDecimal();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/SinglePropertyState.java`
#### Snippet
```java
            case PropertyType.REFERENCE: return (S) getConverter().toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter().toString();
            case PropertyType.URI: return (S) getConverter().toString();
            case PropertyType.DECIMAL: return (S) getConverter().toDecimal();
            default: throw new IllegalArgumentException("Unknown type:" + type);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
            case PropertyType.LONG: return (S) (Long) getConverter(values.get(index)).toLong();
            case PropertyType.DOUBLE: return (S) (Double) getConverter(values.get(index)).toDouble();
            case PropertyType.DATE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.BOOLEAN: return (S) (Boolean) getConverter(values.get(index)).toBoolean();
            case PropertyType.NAME: return (S) getConverter(values.get(index)).toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
            case PropertyType.DATE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.BOOLEAN: return (S) (Boolean) getConverter(values.get(index)).toBoolean();
            case PropertyType.NAME: return (S) getConverter(values.get(index)).toString();
            case PropertyType.PATH: return (S) getConverter(values.get(index)).toString();
            case PropertyType.REFERENCE: return (S) getConverter(values.get(index)).toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
            case PropertyType.BOOLEAN: return (S) (Boolean) getConverter(values.get(index)).toBoolean();
            case PropertyType.NAME: return (S) getConverter(values.get(index)).toString();
            case PropertyType.PATH: return (S) getConverter(values.get(index)).toString();
            case PropertyType.REFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter(values.get(index)).toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
            case PropertyType.NAME: return (S) getConverter(values.get(index)).toString();
            case PropertyType.PATH: return (S) getConverter(values.get(index)).toString();
            case PropertyType.REFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.URI: return (S) getConverter(values.get(index)).toString();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
            case PropertyType.PATH: return (S) getConverter(values.get(index)).toString();
            case PropertyType.REFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.URI: return (S) getConverter(values.get(index)).toString();
            case PropertyType.DECIMAL: return (S) getConverter(values.get(index)).toDecimal();
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
            case PropertyType.REFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.WEAKREFERENCE: return (S) getConverter(values.get(index)).toString();
            case PropertyType.URI: return (S) getConverter(values.get(index)).toString();
            case PropertyType.DECIMAL: return (S) getConverter(values.get(index)).toDecimal();
            default: throw new IllegalArgumentException("Unknown type:" + type);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.NAME:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
                        return getConverter(value).toString();
                    }
                });
            case PropertyType.PATH:
                return (S) Iterables.transform(values, new Function<T, String>() {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.PATH:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
                        return getConverter(value).toString();
                    }
                });
            case PropertyType.REFERENCE:
                return (S) Iterables.transform(values, new Function<T, String>() {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.REFERENCE:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
                        return getConverter(value).toString();
                    }
                });
            case PropertyType.WEAKREFERENCE:
                return (S) Iterables.transform(values, new Function<T, String>() {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.WEAKREFERENCE:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
                        return getConverter(value).toString();
                    }
                });
            case PropertyType.URI:
                return (S) Iterables.transform(values, new Function<T, String>() {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MultiPropertyState.java`
#### Snippet
```java
                });
            case PropertyType.URI:
                return (S) Iterables.transform(values, new Function<T, String>() {
                    @Override
                    public String apply(T value) {
                        return getConverter(value).toString();
                    }
                });
            case PropertyType.DECIMAL:
                return (S) Iterables.transform(values, new Function<T, BigDecimal>() {
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/FragmentMatcher.java`
#### Snippet
```java
                        break;
                    case '$':
                        i++;
                        break;
                    default:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ValueConverter.java`
#### Snippet
```java
                    case PropertyType.PATH:
                        // prefix name with "./" (JCR 2.0 spec 3.6.4.9)
                        return PropertyValues.newUri("./" + v);
                }
        }
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/Constraints.java`
#### Snippet
```java
                return new ReferenceConstraint(constraint);
            case PropertyType.WEAKREFERENCE:
                return new ReferenceConstraint(constraint);
            case PropertyType.URI:
                return new StringConstraint(constraint);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/Constraints.java`
#### Snippet
```java
                return new ReferenceConstraint(constraint);
            case PropertyType.URI:
                return new StringConstraint(constraint);
            case PropertyType.DECIMAL:
                return new DecimalConstraint(constraint);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissionImpl.java`
#### Snippet
```java
                }
            case INTERNAL:
                return PrivilegeBits.EMPTY;
            default:
                return getPrivilegeBits(tree);
```

## RuleId[id=OctalLiteral]
### OctalLiteral
Octal integer `0400`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java
        // File mode
        System.arraycopy(
                String.format("%07o", 0400).getBytes(UTF_8), 0,
                header, 100, 7);

```

## RuleId[id=RegExpSimplifiable]
### RegExpSimplifiable
`\\p{Space}` can be simplified to '\\s'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/DocViewImportHandler.java`
#### Snippet
```java
     */
    private Iterable<String> parseNames(String value) throws SAXException {
        String[] names = value.split("\\p{Space}+");
        List<String> qnames = Lists.newArrayListWithCapacity(names.length);
        for (String name : names) {
```

### RegExpSimplifiable
`[=]` can be simplified to '='
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
        return s.replaceAll("[(]", "\\\\(").
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
                replaceAll("[\\*]", "\\\\*");
    }
```

### RegExpSimplifiable
`[\\*]` can be simplified to '\\\*'
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/ConfigInstaller.java`
#### Snippet
```java
                replaceAll("[)]", "\\\\)").
                replaceAll("[=]", "\\\\=").
                replaceAll("[\\*]", "\\\\*");
    }

```

## RuleId[id=DuplicateExpressions]
### DuplicateExpressions
Multiple occurrences of `Paths.get(comparePath)`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                    return;
                }
                if (Files.isRegularFile(Paths.get(comparePath))) {
                    System.out.println("Comparing indexes " + index1 + " and " + index2 +
                            " in file \"" +
```

### DuplicateExpressions
Multiple occurrences of `Paths.get(comparePath)`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiffCommand.java`
#### Snippet
```java
                            " in file \"" +
                            comparePath + "\"");
                    System.out.println(IndexDiff.compareIndexesInFile(Paths.get(comparePath), index1, index2));
                } else {
                    System.out.println("Comparing indexes " + index1 + " and " + index2 +
```

## RuleId[id=StringBufferReplaceableByString]
### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeBuilder.java`
#### Snippet
```java
            return parentPath + name;
        } else {
            return new StringBuilder(parentPath.length() + name.length() + 1)
                    .append(parentPath)
                    .append('/')
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
        this.childrenDefsWithoutSns = parent.childrenDefsWithoutSns;
        this.builder = builder;
        this.path = new StringBuilder(parent.path).append('/').append(name).toString();
    }

```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/NodeStateUtils.java`
#### Snippet
```java
            return "[null]";
        }
        StringBuilder sb = new StringBuilder();
        sb.append(toString(node, 1, "  ", "/"));
        return sb.toString();
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("LdapProviderConfig{");
        sb.append("name='").append(name).append('\'');
        sb.append(", hostname='").append(hostname).append('\'');
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
        @Override
        public String toString() {
            final StringBuilder sb = new StringBuilder("Identity{");
            sb.append("baseDN='").append(baseDN).append('\'');
            sb.append(", objectClasses=").append(Arrays.toString(objectClasses));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
        @Override
        public String toString() {
            final StringBuilder sb = new StringBuilder("PoolConfig{");
            sb.append("maxActiveSize=").append(maxActiveSize);
            sb.append(", lookupOnValidate=").append(lookupOnValidate);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntryWriter.java`
#### Snippet
```java

    public String toString(String path, String nodeStateAsJson) {
        StringBuilder sb = new StringBuilder(nodeStateAsJson.length() + path.length() + 1);
        sb.append(path)
                .append(DELIMITER)
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopBuilder.java`
#### Snippet
```java
            }
        }
        StringBuilder buff = new StringBuilder(length + 2);
        return buff.append('\"').append(s).append('\"').toString();
    }
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder buff = new StringBuilder();
        buff.append("{ path: '").append(path).append("', ");
        buff.append("rootRevision: '").append(rootRevision).append("', ");
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/async/PutToCacheAction.java`
#### Snippet
```java
    @Override
    public String toString() {
        return new StringBuilder("PutToCacheAction[").append(key).append(']').toString();
    }
}
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/async/InvalidateCacheAction.java`
#### Snippet
```java
    @Override
    public String toString() {
        return new StringBuilder("InvalidateCacheAction").append(Iterables.toString(keys)).toString();
    }
}
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/basic/DefaultSyncedIdentity.java`
#### Snippet
```java
    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("DefaultSyncedIdentity{");
        sb.append("id='").append(id).append('\'');
        sb.append(", ref=").append(ref);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
            }
        } catch (Exception e) {
            StringBuilder sb = new StringBuilder();
            sb.append("Unable to switch head revision to ");
            sb.append(revision);
```

### StringBufferReplaceableByString
`StringBuilder excerpt` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SimpleExcerptProvider.java`
#### Snippet
```java
            text.append(" ...");
        }
        StringBuilder excerpt = new StringBuilder("<div><span>");
        excerpt.append(encodeIllegalXMLCharacters(text.toString()));
        excerpt.append("</span></div>");
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
    @Override
    public String getIndexCostInfo() {
        StringBuilder buff = new StringBuilder();
        buff.append("{ ");
        buff.append(left.getIndexCostInfo());
```

### StringBufferReplaceableByString
`StringBuilder builder` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NativeFunctionImpl.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder builder = new StringBuilder();
        builder.append("native(");
        builder.append(quote(selectorName));
```

### StringBufferReplaceableByString
`StringBuilder builder` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SpellcheckImpl.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder builder = new StringBuilder();
        builder.append("spellcheck(");
        builder.append(quote(selectorName));
```

### StringBufferReplaceableByString
`StringBuilder builder` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SuggestImpl.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder builder = new StringBuilder();
        builder.append("suggest(");
        builder.append(quote(selectorName));
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/JoinImpl.java`
#### Snippet
```java
    @Override
    public String getPlan(NodeState rootState) {
        StringBuilder buff = new StringBuilder();
        buff.append(left.getPlan(rootState)).
            append(' ').
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/JoinImpl.java`
#### Snippet
```java
    @Override
    public String getIndexCostInfo(NodeState rootState) {
        StringBuilder buff = new StringBuilder();
        buff.append(toString());
        buff.append("{ ");
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
        }
        if (statement.length() > MAX_QUERY_SIZE) {
            statement = new StringBuilder().append("Truncated query: ")
                    .append(statement.substring(0, MAX_QUERY_SIZE >> 1))
                    .append(" ...... ")
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        @Override
        public String toString() {
            StringBuilder buff = new StringBuilder("native(");
            buff.append(selector);
            buff.append(", ").append(language).append(", ").append(expression).append(')');
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        @Override
        public String toString() {
            StringBuilder buff = new StringBuilder("cast(");
            buff.append(expr.toString());
            buff.append(" as ").append(type).append(')');
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        @Override
        public String toString() {
            StringBuilder buff = new StringBuilder("similar(");
            buff.append(property);
            buff.append(", ").append(path).append(')');
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        @Override
        public String toString() {
            StringBuilder buff = new StringBuilder("spellcheck(");
            buff.append(term);
            buff.append(')');
```

### StringBufferReplaceableByString
`StringBuilder buff` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Expression.java`
#### Snippet
```java
        @Override
        public String toString() {
            StringBuilder buff = new StringBuilder("suggest(");
            buff.append(term);
            buff.append(')');
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
    public String toString() {
        String typeStr = (isGroup()) ? "Group '" : "User '";
        return new StringBuilder().append(typeStr).append(id).append('\'').toString();
    }
    
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
    public int hashCode() {
        if (hashCode == 0) {
            StringBuilder sb = new StringBuilder();
            sb.append(isGroup() ? "group:" : "user:");
            sb.append(':');
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
                                   @Nullable String intermediatePath) throws RepositoryException {
        String authRoot = (isGroup) ? groupPath : userPath;
        String folderPath = new StringBuilder()
                .append(authRoot)
                .append(getFolderPath(nodeName, intermediatePath, authRoot)).toString();
```

### StringBufferReplaceableByString
`StringBuilder stmt` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
        // index as well.
        try {
            StringBuilder stmt = new StringBuilder();
            stmt.append("SELECT * FROM [").append(UserConstants.NT_REP_AUTHORIZABLE).append(']');
            stmt.append(" WHERE [").append(UserConstants.REP_PRINCIPAL_NAME).append("] = $principalName");
```

### StringBufferReplaceableByString
`StringBuilder statement` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
            }
            AuthorizableType type = AuthorizableType.getType(searchType);
            StringBuilder statement = new StringBuilder()
                    .append(QueryUtil.getSearchRoot(type, config.getParameters()))
                    .append("//element(*,").append(QueryUtil.getNodeTypeName(type)).append(')')
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java

    private static String buildSearchPatternContains(@NotNull String nameHint) {
        StringBuilder sb = new StringBuilder();
        sb.append('%');
        sb.append(nameHint.replace("%", "\\%").replace("_", "\\_"));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImpl.java`
#### Snippet
```java
            return "%";
        } else {
            StringBuilder sb = new StringBuilder();
            sb.append('%');
            sb.append(nameHint.replace("%", "\\%").replace("_", "\\_"));
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder sb = new StringBuilder("[" + getClass().getSimpleName() + ": ");
        sb.append("maxMergeAtOnce=").append(maxMergeAtOnce).append(", ");
        sb.append("maxMergeAtOnceExplicit=").append(maxMergeAtOnceExplicit).append(", ");
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/principal/PrincipalImpl.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append(getClass().getName()).append(':').append(name);
        return sb.toString();
```

## RuleId[id=UnnecessaryReturn]
### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/SplitSegmentArchiveManager.java`
#### Snippet
```java
        if (roArchiveList.contains(archiveName)) {
            // archive is in read only part
            return;
        } else {
            rwArchiveManager.backup(archiveName, backupArchiveName, recoveredEntries);
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NotImpl.java`
#### Snippet
```java
            // "b.y is null", because that would alter the
            // result
            return;
        }
        // ignore
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
        public void beforeTest() {
            if (!doReport) {
                return;
            }
        }
```

## RuleId[id=NonShortCircuitBoolean]
### NonShortCircuitBoolean
Non-short-circuit boolean expression `nodeHasBinaryProperties |= (propertyState.getType() == Type.BINARY || propertyState.getType() == Typ...`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/ConsolidatedDataStoreCacheStats.java`
#### Snippet
```java
        boolean nodeHasBinaryProperties = false;
        for (final PropertyState propertyState : leafNode.getProperties()) {
            nodeHasBinaryProperties |= (propertyState.getType() == Type.BINARY || propertyState.getType() == Type.BINARIES);
            try {
                if (propertyState.getType() == Type.BINARY) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `whitelistThisCall |= ACCEPTEDCLASSES.contains(cn)`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
            if (depth < LOGDEPTH) {
                String cn = e.getClassName();
                whitelistThisCall |= ACCEPTEDCLASSES.contains(cn);
                if (!IGNOREDCLASSES.contains(cn) && !cn.startsWith("sun.reflect")) {
                    b.append(" ").append(e.toString());
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `result &= parentType.test(parent)`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
        public boolean applies(NodeState parent, String childName) {
            boolean result = true;
            result &= parentType.test(parent);
            result &= childNameConstraint == null || childName.startsWith(this.childNameConstraint + '[');
            result &= childType.test(parent.getChildNode(childName));
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `result &= childNameConstraint == null || childName.startsWith(this.childNameConstraint + '[')`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
            boolean result = true;
            result &= parentType.test(parent);
            result &= childNameConstraint == null || childName.startsWith(this.childNameConstraint + '[');
            result &= childType.test(parent.getChildNode(childName));
            return result;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `result &= childType.test(parent.getChildNode(childName))`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
            result &= parentType.test(parent);
            result &= childNameConstraint == null || childName.startsWith(this.childNameConstraint + '[');
            result &= childType.test(parent.getChildNode(childName));
            return result;
        }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `result |= indexer.index(entry)`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/CompositeIndexer.java`
#### Snippet
```java
        boolean result = false;
        for (NodeStateIndexer indexer : indexers) {
            result |= indexer.index(entry);
        }
        return result;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `(a ^ b) < 0 | (a ^ result) >= 0`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/LongUtils.java`
#### Snippet
```java
    public static long safeAdd(long a, long b) {
        long result = a + b;
        if ((a ^ b) < 0 | (a ^ result) >= 0) {
            return result;
        } else {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `hasBinaryToSplit |= hasBinaryPropertyForSplit(splitMap.values()) && nodeExis...`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
                splitMap.remove(r);
                splitRevs.addAll(splitMap.keySet());
                hasBinaryToSplit |= hasBinaryPropertyForSplit(splitMap.values())
                        && nodeExistsAtHeadRevision.get();
                mostRecentRevs.add(r);
            }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `hasChanged |= clusterNodes.keySet().retainAll(clusterIds)`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
            }
        }
        hasChanged |= clusterNodes.keySet().retainAll(clusterIds);
        return hasChanged;
    }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `checked | traverse(blob, checkBinaries)`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
                } else if (type == BINARIES) {
                    for (Blob blob : propertyState.getValue(BINARIES)) {
                        checked = checked | traverse(blob, checkBinaries);
                    }
                } else {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dbWasChanged |= upgradeTable(con, tableName, 1)`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            else {
                if (!hasVersionColumn && upgradeToSchema >= 1) {
                    dbWasChanged |= upgradeTable(con, tableName, 1);
                }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dbWasChanged |= upgradeTable(con, tableName, 2)`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

                if (!hasSDTypeColumn && upgradeToSchema >= 2) {
                    dbWasChanged |= upgradeTable(con, tableName, 2);
                }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dbWasChanged |= addModifiedIndex(con, tableName)`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

                if (!indexOn.contains("MODIFIED") && col == Collection.NODES) {
                    dbWasChanged |= addModifiedIndex(con, tableName);
                }
            }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `respectParent &= rp`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/EntryPredicate.java`
#### Snippet
```java
            @Override
            public boolean apply(@NotNull PermissionEntry entry, boolean respectParent) {
                respectParent &= rp;
                return entry.matches(path) || (respectParent && entry.matches(parentPath, false));
            }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `respectParent &= rp`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/EntryPredicate.java`
#### Snippet
```java
            @Override
            public boolean apply(@NotNull PermissionEntry entry, boolean respectParent) {
                respectParent &= rp;
                return entry.matches(path, isProperty) || (respectParent && entry.matches(parentPath, false));
            }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `respectParent &= rp`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/EntryPredicate.java`
#### Snippet
```java
            @Override
            public boolean apply(@NotNull PermissionEntry entry, boolean respectParent) {
                respectParent &= rp;
                return entry.matches(tree, property) || (respectParent && entry.matches(parent, null));
            }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `(propEndPoint != null) & !"".equals(propEndPoint)`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        String endpoint = null;
        String propEndPoint = prop.getProperty(S3Constants.S3_END_POINT);
        if ((propEndPoint != null) & !"".equals(propEndPoint)) {
            endpoint = propEndPoint;
        } else {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `indexUpdated |= w.close(timestamp)`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/MultiplexingIndexWriter.java`
#### Snippet
```java
        boolean indexUpdated = false;
        for (LuceneIndexWriter w : writers.values()) {
            indexUpdated |= w.close(timestamp);
        }
        return indexUpdated;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `indexUpdated |= updateSuggester(writer.getAnalyzer(), currentTime)`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java

            if (updateSuggestions) {
                indexUpdated |= updateSuggester(writer.getAnalyzer(), currentTime);
                PERF_LOGGER.end(start, -1, "Completed suggester for directory {}", definition);
            }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `modified |= bs.switchBucket(lastIndexedTo)`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexCleaner.java`
#### Snippet
```java
                    BucketSwitcher bs = new BucketSwitcher(propIdx);

                    modified |= bs.switchBucket(lastIndexedTo);

                    for (String bucketName : bs.getOldBuckets()) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= addTypedOrderedFields(document, result.propertyState, result.pr...`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
                boolean dirty = false;
                if (result.pd.ordered) {
                    dirty |= addTypedOrderedFields(document, result.propertyState,
                            result.propertyPath, result.pd);
                }
                dirty |= indexProperty(path, document, state, result.propertyState,
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexProperty(path, document, state, result.propertyState, result.p...`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
                            result.propertyPath, result.pd);
                }
                dirty |= indexProperty(path, document, state, result.propertyState,
                        result.propertyPath, result.pd);

                if (result.pd.facet) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= addTypedOrderedFields(document, property, pname, pd)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java

            if (pd.ordered) {
                dirty |= addTypedOrderedFields(document, property, pname, pd);
            }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexProperty(path, document, state, property, pname, pd)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            }

            dirty |= indexProperty(path, document, state, property, pname, pd);

            facet |= pd.facet;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `facet |= pd.facet`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            dirty |= indexProperty(path, document, state, property, pname, pd);

            facet |= pd.facet;
        }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= dirties[0]`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java

        boolean[] dirties = indexAggregates(path, document, state);
        dirty |= dirties[0]; // any (aggregate) indexing happened
        facet |= dirties[1]; // facet indexing during (index-time) aggregation
        dirty |= indexNullCheckEnabledProps(path, document, state);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `facet |= dirties[1]`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        boolean[] dirties = indexAggregates(path, document, state);
        dirty |= dirties[0]; // any (aggregate) indexing happened
        facet |= dirties[1]; // facet indexing during (index-time) aggregation
        dirty |= indexNullCheckEnabledProps(path, document, state);
        dirty |= indexFunctionRestrictions(path, document, state);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexNullCheckEnabledProps(path, document, state)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        dirty |= dirties[0]; // any (aggregate) indexing happened
        facet |= dirties[1]; // facet indexing during (index-time) aggregation
        dirty |= indexNullCheckEnabledProps(path, document, state);
        dirty |= indexFunctionRestrictions(path, document, state);
        dirty |= indexNotNullCheckEnabledProps(path, document, state);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexFunctionRestrictions(path, document, state)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        facet |= dirties[1]; // facet indexing during (index-time) aggregation
        dirty |= indexNullCheckEnabledProps(path, document, state);
        dirty |= indexFunctionRestrictions(path, document, state);
        dirty |= indexNotNullCheckEnabledProps(path, document, state);

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexNotNullCheckEnabledProps(path, document, state)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        dirty |= indexNullCheckEnabledProps(path, document, state);
        dirty |= indexFunctionRestrictions(path, document, state);
        dirty |= indexNotNullCheckEnabledProps(path, document, state);

        dirty |= augmentCustomFields(path, document, state);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= augmentCustomFields(path, document, state)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        dirty |= indexNotNullCheckEnabledProps(path, document, state);

        dirty |= augmentCustomFields(path, document, state);

        // Check if a node having a single property was modified/deleted
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= addTypedFields(doc, property, pname, pd)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        } else {
            if (pd.propertyIndex && pd.includePropertyType(property.getType().tag())) {
                dirty |= addTypedFields(doc, property, pname, pd);
            }
            if (!definition.isDynamicBoostLiteEnabled() && pd.dynamicBoost) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexDynamicBoost(doc, pname, pd.nodeName, state)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            if (!definition.isDynamicBoostLiteEnabled() && pd.dynamicBoost) {
                try {
                    dirty |= indexDynamicBoost(doc, pname, pd.nodeName, state);
                } catch (Exception e) {
                    log.error("Could not index dynamic boost for property {} and definition {}", property, pd, e);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexFacets(doc, property, pname, pd)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            }
            if (pd.facet && isFacetingEnabled()) {
                dirty |= indexFacets(doc, property, pname, pd);
            }
            if (pd.similarityTags) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `dirty |= indexSimilarityTag(doc, property)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            }
            if (pd.similarityTags) {
                dirty |= indexSimilarityTag(doc, property);
            }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `fieldAdded |= addTypedOrderedFields(fields, functionValue, pd.function, pd)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            if (functionValue != null) {
                if (pd.ordered) {
                    fieldAdded |= addTypedOrderedFields(fields, functionValue, pd.function, pd);
                }
                fieldAdded |= addTypedFields(fields, functionValue, pd.function, pd);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `fieldAdded |= addTypedFields(fields, functionValue, pd.function, pd)`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
                    fieldAdded |= addTypedOrderedFields(fields, functionValue, pd.function, pd);
                }
                fieldAdded |= addTypedFields(fields, functionValue, pd.function, pd);
            }
        }
```

## RuleId[id=ManualMinMaxCalculation]
### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
              sweepIfRefsPastRetention);
        LOG.debug("Earliest reference available for timestamp [{}]", earliestRefAvailTime);
        earliestRefAvailTime = (earliestRefAvailTime < markStart ? earliestRefAvailTime : markStart);

        // Find all blob references after iterating over the whole repository
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    LOG.trace("Earliest ref timestamp {}", earliestRef);

                    return (earliestMarker < earliestRef ? earliestMarker : earliestRef);
                } else {
                    LOG.error("Not all repositories have marked references available : {} or older than retention time: {}",
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
        result.remove(MERGE_POISON_PILL);
        result.sort(fileSizeComparator);
        int endIdx = size > result.size() ? result.size() : size;
        return result.subList(0, endIdx);
    }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/TimeInterval.java`
#### Snippet
```java
    public TimeInterval notEarlierThan(long timestampMs) {
        if (fromMs < timestampMs) {
            return new TimeInterval(timestampMs, (timestampMs > toMs) ? timestampMs : toMs);
        } else {
            return this;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/TimeInterval.java`
#### Snippet
```java
    public TimeInterval notLaterThan(long timestampMs) {
        if (timestampMs < toMs) {
            return new TimeInterval((timestampMs < fromMs) ? timestampMs : fromMs, timestampMs);
        } else {
            return this;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
            });
            // select the most compatible ones
            final int size = defs1.size() > defs2.size() ? defs1.size() : defs2.size();
            AtomicInteger allowedNewNull = new AtomicInteger(defs1.size() - defs2.size());
            AtomicInteger allowedOldNull = new AtomicInteger(defs2.size() - defs1.size());
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    bucket);
                int batchSize = 500, startIndex = 0, size = deleteList.size();
                int endIndex = batchSize < size ? batchSize : size;
                while (endIndex <= size) {
                    delObjsReq.setKeys(Collections.unmodifiableList(deleteList.subList(
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    } else {
                        startIndex = endIndex;
                        endIndex = (startIndex + batchSize) < size
                                ? (startIndex + batchSize)
                                : size;
                    }
                }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityStandbySuite.java`
#### Snippet
```java
        for (int j = 0; j <= nodeCount / 1000; j++) {
            Node folder = parent.addNode("Folder#" + j, "nt:folder");
            for (int i = 0; i < (nodeCount < 1000 ? nodeCount : 1000); i++) {
                Node file = folder.addNode("server" + i, "nt:file");

```

## RuleId[id=ConstantMathCall]
### ConstantMathCall
Constant call to `floor()` can be simplified
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    static final long MAX_MULTIPART_UPLOAD_PART_SIZE = 1024 * 1024 * 100; // 100MB
    static final long MAX_SINGLE_PUT_UPLOAD_SIZE = 1024 * 1024 * 256; // 256MB, Azure limit
    static final long MAX_BINARY_UPLOAD_SIZE = (long) Math.floor(1024L * 1024L * 1024L * 1024L * 4.75); // 4.75TB, Azure limit
    private static final int MAX_ALLOWABLE_UPLOAD_URIS = 50000; // Azure limit
    private static final int MAX_UNIQUE_RECORD_TRIES = 10;
```

## RuleId[id=AbstractClassNeverImplemented]
### AbstractClassNeverImplemented
Abstract class `QueryConstants` has no concrete subclass
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/QueryConstants.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.spi.query;

public abstract class QueryConstants {

    /**
```

### AbstractClassNeverImplemented
Abstract class `EscapeUtils` has no concrete subclass
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
 * then such data interferes with the processing of such utilities
 */
public abstract class EscapeUtils {

    public static String escapeLineBreak(@Nullable String line) {
```

### AbstractClassNeverImplemented
Abstract class `CheckpointsHelper` has no concrete subclass
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/CheckpointsHelper.java`
#### Snippet
```java
 * Helper class to access package private functionality.
 */
public abstract class CheckpointsHelper {

    public static SortedMap<Revision, Long> getCheckpoints(
```

### AbstractClassNeverImplemented
Abstract class `NodeStateHelper` has no concrete subclass
in `oak-run/src/main/java/org/apache/jackrabbit/oak/nodestate/NodeStateHelper.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeState;

public abstract class NodeStateHelper {

    private static final int CHILDREN_CAP = getInteger("oak.children.cap", 100);
```

### AbstractClassNeverImplemented
Abstract class `RegistrationConstants` has no concrete subclass
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/RegistrationConstants.java`
#### Snippet
```java
 *
 */
public abstract class RegistrationConstants {

    /**
```

## RuleId[id=BoundedWildcard]
### BoundedWildcard
Can generalize to `? extends DataRecord`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
     * @return the sets the sets whose references not available
     */
    public static Set<String> refsNotOld(List<DataRecord> repos,
        List<DataRecord> refs, long referenceTime) {

```

### BoundedWildcard
Can generalize to `? extends DataRecord`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
     */
    public static Set<String> refsNotOld(List<DataRecord> repos,
        List<DataRecord> refs, long referenceTime) {

        // Filter records older than the retention time and group by the repository id
```

### BoundedWildcard
Can generalize to `? extends DataRecord`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
     * @return the earliest record
     */
    public static DataRecord getEarliestRecord(List<DataRecord> recs) {
        return Ordering.natural().onResultOf(
                new Function<DataRecord, Long>() {
```

### BoundedWildcard
Can generalize to `? extends DataRecord`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
     * @return the sets the sets whose references not available
     */
    public static Set<String> refsNotAvailableFromRepos(List<DataRecord> repos,
            List<DataRecord> refs) {
        return Sets.difference(FluentIterable.from(repos).uniqueIndex(
```

### BoundedWildcard
Can generalize to `? extends DataRecord`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
     */
    public static Set<String> refsNotAvailableFromRepos(List<DataRecord> repos,
            List<DataRecord> refs) {
        return Sets.difference(FluentIterable.from(repos).uniqueIndex(
                new Function<DataRecord, String>() {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FileDataStoreService.java`
#### Snippet
```java

    @Override
    protected DataStore createDataStore(ComponentContext context, Map<String, Object> config) {

        long cacheSize = PropertiesUtil.toLong(config.get(CACHE_SIZE), 0L);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

    private FileCache(long maxSize /* bytes */, File root,
        final CacheLoader<String, InputStream> loader, @Nullable final ExecutorService executor) {

        this.parent = root;
```

### BoundedWildcard
Can generalize to `? extends InputStream`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java

    private FileCache(long maxSize /* bytes */, File root,
        final CacheLoader<String, InputStream> loader, @Nullable final ExecutorService executor) {

        this.parent = root;
```

### BoundedWildcard
Can generalize to `? extends NodeStateIndexer`
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticDocumentStoreIndexer.java`
#### Snippet
```java
     */
    @Override
    protected void preIndexOpertaions(List<NodeStateIndexer> indexers) {
        // For all the available indexers check if it's an ElasticIndexer
        // and then provision the index
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/indexversion/ElasticIndexVersionOperation.java`
#### Snippet
```java

    @Override
    protected IndexName getActiveIndex(List<IndexName> reverseSortedIndexNameList, String parentPath, NodeState rootNode) {
        // ES doesn't have a concept of active/inactive index as of now (no hidden oak mount to detect this)
        // So here we simply return the highest versioned index
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
         */
        long sweepInternal(GarbageCollectableBlobStore blobStore, List<String> ids,
            ArrayDeque<String> exceptionQueue, long maxModified) {
            long totalDeleted = 0;
            LOG.trace("Blob ids to be deleted {}", ids);
```

### BoundedWildcard
Can generalize to `? super ElasticDocument`
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/ElasticIndexer.java`
#### Snippet
```java
    public ElasticIndexer(IndexDefinition definition, FulltextBinaryTextExtractor binaryTextExtractor,
                          NodeBuilder definitionBuilder, IndexingProgressReporter progressReporter,
                          FulltextIndexWriter<ElasticDocument> indexWriter, ElasticIndexEditorProvider elasticIndexEditorProvider, IndexHelper indexHelper) {
        this.definition = definition;
        this.binaryTextExtractor = binaryTextExtractor;
```

### BoundedWildcard
Can generalize to `? super MountedNodeStore`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositionContext.java`
#### Snippet
```java
    }

    private boolean hasChildrenContainingPathFragmentName(MountedNodeStore mns, String parentPath, Function<MountedNodeStore, Iterable<String>> childrenProvider) {
        final Mount mount = mns.getMount();
        if (!mount.isSupportFragment(parentPath)) {
```

### BoundedWildcard
Can generalize to `? extends Iterable`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositionContext.java`
#### Snippet
```java
    }

    private boolean hasChildrenContainingPathFragmentName(MountedNodeStore mns, String parentPath, Function<MountedNodeStore, Iterable<String>> childrenProvider) {
        final Mount mount = mns.getMount();
        if (!mount.isSupportFragment(parentPath)) {
```

### BoundedWildcard
Can generalize to `? extends NodeBuilder`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositionContext.java`
#### Snippet
```java
    }

    List<MountedNodeStore> getContributingStoresForBuilders(String path, final NodeMap<NodeBuilder> nodeBuilders) {
        return getContributingStores(path, mns -> nodeBuilders.get(mns).getChildNodeNames());
    }
```

### BoundedWildcard
Can generalize to `? extends NodeState`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositionContext.java`
#### Snippet
```java
    }

    List<MountedNodeStore> getContributingStoresForNodes(String path, final NodeMap<NodeState> nodeStates) {
        return getContributingStores(path, mns -> nodeStates.get(mns).getChildNodeNames());
    }
```

### BoundedWildcard
Can generalize to `? extends QueryIndexProvider`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/CompositeQueryIndexProvider.java`
#### Snippet
```java
    @NotNull
    public static QueryIndexProvider compose(
            @NotNull Collection<QueryIndexProvider> providers) {
        if (providers.isEmpty()) {
            return new QueryIndexProvider() {
```

### BoundedWildcard
Can generalize to `? extends QueryIndexProvider`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/CompositeQueryIndexProvider.java`
#### Snippet
```java
    private final List<QueryIndexProvider> providers;

    private CompositeQueryIndexProvider(List<QueryIndexProvider> providers) {
        this.providers = providers;
    }
```

### BoundedWildcard
Can generalize to `? super AzureBlobInfo`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        final Queue<AzureBlobInfo> items = Lists.newLinkedList();

        public RecordsIterator (Function<AzureBlobInfo, T> transformer) {
            this.transformer = transformer;
        }
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        final Queue<AzureBlobInfo> items = Lists.newLinkedList();

        public RecordsIterator (Function<AzureBlobInfo, T> transformer) {
            this.transformer = transformer;
        }
```

### BoundedWildcard
Can generalize to `? extends FullTextExpression`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextOr.java`
#### Snippet
```java
    
    static Set<FullTextExpression> getUniqueSet(
            List<FullTextExpression> list) {
        // remove duplicates, but keep order
        LinkedHashSet<FullTextExpression> set = new LinkedHashSet<FullTextExpression>(list.size());
```

### BoundedWildcard
Can generalize to `? extends Mount`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/UniqueIndexNodeStoreChecker.java`
#### Snippet
```java
        }

        private StrategyWrapper getWrapper(Entry<Mount, NodeState> indexEntry, String indexName, Context ctx) {

            NodeState indexNode = indexEntry.getValue();
```

### BoundedWildcard
Can generalize to `? extends NodeState`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/UniqueIndexNodeStoreChecker.java`
#### Snippet
```java
        }

        private StrategyWrapper getWrapper(Entry<Mount, NodeState> indexEntry, String indexName, Context ctx) {

            NodeState indexNode = indexEntry.getValue();
```

### BoundedWildcard
Can generalize to `? extends MountedNodeStore`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    }

    public static <T> NodeMap<T> create(Map<MountedNodeStore, T> nodes) {
        ImmutableMap.Builder<MountedNodeStore, CacheableSupplier<T>> suppliers = ImmutableMap.builder();
        nodes.forEach((mns, node) -> suppliers.put(mns, new CacheableSupplier<T>(node)));
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    }

    public static <T> NodeMap<T> create(Map<MountedNodeStore, T> nodes) {
        ImmutableMap.Builder<MountedNodeStore, CacheableSupplier<T>> suppliers = ImmutableMap.builder();
        nodes.forEach((mns, node) -> suppliers.put(mns, new CacheableSupplier<T>(node)));
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
        private volatile T value;

        private CacheableSupplier(Supplier<T> supplier) {
            this.supplier = supplier;
        }
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
        }

        public <R> CacheableSupplier<R> lazyApply(Function<T, R> function) {
            return new CacheableSupplier<>(() -> function.apply(get()));
        }
```

### BoundedWildcard
Can generalize to `? extends R`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
        }

        public <R> CacheableSupplier<R> lazyApply(Function<T, R> function) {
            return new CacheableSupplier<>(() -> function.apply(get()));
        }
```

### BoundedWildcard
Can generalize to `? super MountedNodeStore`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    }

    public <R> NodeMap<R> getAndApply(BiFunction<MountedNodeStore, T, R> function) {
        ImmutableMap.Builder<MountedNodeStore, CacheableSupplier<R>> newSuppliers = ImmutableMap.builder();
        suppliers.forEach((mns, node) -> newSuppliers.put(mns, node.getAndApply(curry(function, mns))));
```

### BoundedWildcard
Can generalize to `? extends MountedNodeStore`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    private final Map<MountedNodeStore, CacheableSupplier<T>> suppliers;

    private NodeMap(Map<MountedNodeStore, CacheableSupplier<T>> suppliers) {
        this.suppliers = suppliers;
    }
```

### BoundedWildcard
Can generalize to `? extends CacheableSupplier`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    private final Map<MountedNodeStore, CacheableSupplier<T>> suppliers;

    private NodeMap(Map<MountedNodeStore, CacheableSupplier<T>> suppliers) {
        this.suppliers = suppliers;
    }
```

### BoundedWildcard
Can generalize to `? super U`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    }

    private static <T, U, R> Function<U, R> curry(BiFunction<T, U, R> function, T value) {
        return u -> function.apply(value, u);
    }
```

### BoundedWildcard
Can generalize to `? extends R`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    }

    private static <T, U, R> Function<U, R> curry(BiFunction<T, U, R> function, T value) {
        return u -> function.apply(value, u);
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
        }

        public <R> CacheableSupplier<R> getAndApply(Function<T, R> function) {
            return new CacheableSupplier<>(function.apply(get()));
        }
```

### BoundedWildcard
Can generalize to `? extends R`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
        }

        public <R> CacheableSupplier<R> getAndApply(Function<T, R> function) {
            return new CacheableSupplier<>(function.apply(get()));
        }
```

### BoundedWildcard
Can generalize to `? super MountedNodeStore`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/NodeMap.java`
#### Snippet
```java
    }

    public <R> NodeMap<R> lazyApply(BiFunction<MountedNodeStore, T, R> function) {
        ImmutableMap.Builder<MountedNodeStore, CacheableSupplier<R>> newSuppliers = ImmutableMap.builder();
        suppliers.forEach((mns, node) -> newSuppliers.put(mns, node.lazyApply(curry(function, mns))));
```

### BoundedWildcard
Can generalize to `? extends MountedNodeStore`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
    }

    private static void assertPartialMountsAreReadOnly(List<MountedNodeStore> nonDefaultStores) {
        List<String> readWriteMountNames = nonDefaultStores
                .stream()
```

### BoundedWildcard
Can generalize to `? extends PropInfo`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java

    private void importProperties(@NotNull Tree tree,
                                  @NotNull List<PropInfo> propInfos,
                                  boolean ignoreRegular) throws RepositoryException {
        // process properties
```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/PrefetchIterator.java`
#### Snippet
```java
     * @param options the prefetch options to use
     */
    PrefetchIterator(Iterator<K> it, PrefetchOptions options) {
        this.it = it;
        this.minPrefetch = options.min;
```

### BoundedWildcard
Can generalize to `? extends NodeDelegate`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
     * @throws RepositoryException if the operation fails.
     */
    private void removeExistingNodes(List<NodeDelegate> existing)
            throws RepositoryException {
        for (NodeDelegate nd : existing) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/WorkspaceDelegate.java`
#### Snippet
```java
        }

        private void translateId(@NotNull String id, @NotNull List<String> ids) {
            String newId = translated.get(id);
            if (newId != null) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
        private final WarningLock lock;

        SynchronizedIterator(Iterator<T> iterator, WarningLock lock) {
            this.iterator = iterator;
            this.lock = lock;
```

### BoundedWildcard
Can generalize to `? extends PropertyDelegate`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
    }

    private Iterator<Property> propertyIterator(Iterator<PropertyDelegate> properties) {
        return sessionDelegate.sync(transform(
                properties,
```

### BoundedWildcard
Can generalize to `? super PropertyDelegate`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
        private final Predicate<PropertyDelegate> predicate;

        PropertyIteratorDelegate(NodeDelegate node, Predicate<PropertyDelegate> predicate) {
            this.node = node;
            this.predicate = predicate;
```

### BoundedWildcard
Can generalize to `? extends NodeDelegate`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
    }

    private Iterator<Node> nodeIterator(Iterator<NodeDelegate> childNodes) {
        return sessionDelegate.sync(transform(
                childNodes,
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
    }
    
    private void explodeSubtypes(String nodeType, Set<String> set) throws RepositoryException {
        set.add(nodeType);
        NodeTypeIterator it = ntMgr.getNodeType(nodeType).getSubtypes();
```

### BoundedWildcard
Can generalize to `? extends Tree`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
    }

    private Tree findMatchingResidualPropertyDefinition(Tree fuzzyMatch, List<Tree> types, boolean isMultiValue, String definedType, String undefinedType, boolean exactTypeMatch) {
        for (Tree type : types) {
            Tree definitions = type.getChild(REP_RESIDUAL_PROPERTY_DEFINITIONS);
```

### BoundedWildcard
Can generalize to `? extends Tree`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java

    private Tree findMatchingChildNodeDefinition(
            List<Tree> types, String childNodeName, Set<String> typeNames) {
        // First look for a matching named property definition
        for (Tree type : types) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
     * @param globPath the input path that may contain globs
     */
    static void addAncestorPaths(Set<String> ancestorPaths, String globPath) {
        if (globPath == null || !globPath.contains("/")) {
            return;
```

### BoundedWildcard
Can generalize to `? extends ChildNodeEntry`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
        }

        private String asPath(List<ChildNodeEntry> children) {
            if (children.isEmpty()) {
                return "";
```

### BoundedWildcard
Can generalize to `? super NodeState`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
     * @return a list of names of children accepting the predicate
     */
    private static Iterable<String> filterChildren(NodeState parent, final Predicate<NodeState> predicate) {
        return transform(filter(parent.getChildNodeEntries(), new Predicate<ChildNodeEntry>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends StoreDescriptor`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/StoreArguments.java`
#### Snippet
```java
    }

    private static void validateDescriptors(List<StoreDescriptor> descriptors, MigrationOptions options) throws CliArgumentException {
        if (descriptors.size() < 2) {
            throw new CliArgumentException("Not enough node store arguments: " + descriptors.toString(), 1);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrIndexLookup.java`
#### Snippet
```java
    }

    private static void collectIndexNodePaths(NodeState nodeState, String parentPath, Collection<String> paths) {
        NodeState state = nodeState.getChildNode(INDEX_DEFINITIONS_NAME);
        for (ChildNodeEntry entry : state.getChildNodeEntries()) {
```

### BoundedWildcard
Can generalize to `? extends CommitHook`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
        private final RepositoryContext source;

        public LoggingCompositeHook(Collection<CommitHook> hooks,
                  RepositoryContext source, boolean earlyShutdown) {
            this.hooks = hooks;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private void copyNamespaces(
            NodeBuilder targetRoot,
            Map<String, String> uriToPrefix)
            throws RepositoryException {
        NodeBuilder system = targetRoot.child(JCR_SYSTEM);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private void copyNamespaces(
            NodeBuilder targetRoot,
            Map<String, String> uriToPrefix)
            throws RepositoryException {
        NodeBuilder system = targetRoot.child(JCR_SYSTEM);
```

### BoundedWildcard
Can generalize to `? extends CommitHook`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/CompositeHook.java`
#### Snippet
```java
    private final Collection<CommitHook> hooks;

    private CompositeHook(@NotNull Collection<CommitHook> hooks) {
        this.hooks = hooks;
    }
```

### BoundedWildcard
Can generalize to `? extends RepositoryInitializer`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/lifecycle/CompositeInitializer.java`
#### Snippet
```java
    private final Collection<RepositoryInitializer> initializers;

    public CompositeInitializer(Collection<RepositoryInitializer> trackers) {
        this.initializers = trackers;
    }
```

### BoundedWildcard
Can generalize to `? extends WorkspaceInitializer`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/lifecycle/CompositeWorkspaceInitializer.java`
#### Snippet
```java
    private final Collection<WorkspaceInitializer> initializers;

    public CompositeWorkspaceInitializer(@NotNull Collection<WorkspaceInitializer> trackers) {
        this.initializers = trackers;
    }
```

### BoundedWildcard
Can generalize to `? super Pattern`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonSerializer.java`
#### Snippet
```java
        }

        private static void readPatterns(JsopTokenizer tokenizer, List<Pattern> includes,
                List<Pattern> excludes) {
            tokenizer.read('[');
```

### BoundedWildcard
Can generalize to `? super Pattern`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonSerializer.java`
#### Snippet
```java

        private static void readPatterns(JsopTokenizer tokenizer, List<Pattern> includes,
                List<Pattern> excludes) {
            tokenizer.read('[');
            for (boolean first = true; !tokenizer.matches(']'); first = false) {
```

### BoundedWildcard
Can generalize to `? super SolrResultRow`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java

    private void putSpellChecks(SpellCheckResponse spellCheckResponse,
                                final Deque<SolrResultRow> queue,
                                Filter filter, OakSolrConfiguration configuration, SolrClient solrServer) throws IOException, SolrServerException {
        List<SpellCheckResponse.Suggestion> suggestions = spellCheckResponse.getSuggestions();
```

### BoundedWildcard
Can generalize to `? extends OrderEntry`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java

    private IndexPlan getIndexPlan(Filter filter, OakSolrConfiguration configuration, LMSEstimator estimator,
                                   List<OrderEntry> sortOrder, String path) {
        if (getMatchingFilterRestrictions(filter, configuration) > 0) {

```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
    }

    private void putSuggestions(Set<Map.Entry<String, Object>> suggestEntries, final Deque<SolrResultRow> queue,
                                Filter filter, OakSolrConfiguration configuration, SolrClient solrServer) throws IOException, SolrServerException {
        Collection<SimpleOrderedMap<Object>> retrievedSuggestions = new HashSet<SimpleOrderedMap<Object>>();
```

### BoundedWildcard
Can generalize to `? super SolrResultRow`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
    }

    private void putSuggestions(Set<Map.Entry<String, Object>> suggestEntries, final Deque<SolrResultRow> queue,
                                Filter filter, OakSolrConfiguration configuration, SolrClient solrServer) throws IOException, SolrServerException {
        Collection<SimpleOrderedMap<Object>> retrievedSuggestions = new HashSet<SimpleOrderedMap<Object>>();
```

### BoundedWildcard
Can generalize to `? extends Filter.PropertyRestriction`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
    }

    private static boolean hasIgnoredProperties(Collection<Filter.PropertyRestriction> propertyRestrictions, OakSolrConfiguration configuration) {
        for (Filter.PropertyRestriction pr : propertyRestrictions) {
            if (isIgnoredProperty(pr, configuration)) {
```

### BoundedWildcard
Can generalize to `? extends Value`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/PropertyStates.java`
#### Snippet
```java

    public static PropertyState createProperty(
            String name, Iterable<Value> values, int type)
            throws RepositoryException {
        switch (type) {
```

### BoundedWildcard
Can generalize to `? extends PropertyState`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeState.java`
#### Snippet
```java
     */
    public MemoryNodeState(
            Map<String, PropertyState> properties,
            Map<String, NodeState> nodes) {
        this.properties = properties;
```

### BoundedWildcard
Can generalize to `? extends NodeState`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeState.java`
#### Snippet
```java
    public MemoryNodeState(
            Map<String, PropertyState> properties,
            Map<String, NodeState> nodes) {
        this.properties = properties;
        this.nodes = nodes;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/PropertyBuilder.java`
#### Snippet
```java

    @NotNull
    public PropertyBuilder<T> addValues(Iterable<T> values) {
        Iterables.addAll(this.values, values);
        return this;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/PropertyBuilder.java`
#### Snippet
```java

    @NotNull
    public PropertyBuilder<T> setValues(Iterable<T> values) {
        this.values = Lists.newArrayList(values);
        return this;
```

### BoundedWildcard
Can generalize to `? extends PropertyState`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java

    static Iterable<? extends PropertyState> getProperties(
            NodeState base, Map<String, PropertyState> properties,
            boolean copy) {
        if (!base.exists()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
    static NodeState unwrap(
            @NotNull NodeState base,
            @NotNull Map<String, PropertyState> properties,
            @NotNull Map<String, MutableNodeState> nodes) {
        properties.clear();
```

### BoundedWildcard
Can generalize to `? super PropertyState`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java
    static NodeState unwrap(
            @NotNull NodeState base,
            @NotNull Map<String, PropertyState> properties,
            @NotNull Map<String, MutableNodeState> nodes) {
        properties.clear();
```

### BoundedWildcard
Can generalize to `? extends PropertyState`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/ModifiedNodeState.java`
#### Snippet
```java

    static PropertyState getProperty(
            NodeState base, Map<String, PropertyState> properties,
            String name) {
        PropertyState property = properties.get(name);
```

### BoundedWildcard
Can generalize to `? super ListObjectsV2Result`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/S3Directory.java`
#### Snippet
```java
    }

    private <T> List<T> listObjectsInternal(String prefix, Function<ListObjectsV2Result, List<T>> callback)
            throws IOException {
        List<T> objects = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends List`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/S3Directory.java`
#### Snippet
```java
    }

    private <T> List<T> listObjectsInternal(String prefix, Function<ListObjectsV2Result, List<T>> callback)
            throws IOException {
        List<T> objects = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsArchiveManager.java`
#### Snippet
```java

    @Override
    public void recoverEntries(String archiveName, LinkedHashMap<UUID, byte[]> entries) throws IOException {
        Pattern pattern = Pattern.compile(SEGMENT_FILE_NAME_PATTERN);
        List<RecoveredEntry> entryList = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureArchiveManager.java`
#### Snippet
```java

    @Override
    public void recoverEntries(String archiveName, LinkedHashMap<UUID, byte[]> entries) throws IOException {
        Pattern pattern = Pattern.compile(RemoteUtilities.SEGMENT_FILE_NAME_PATTERN);
        List<RecoveredEntry> entryList = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Mount`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/SimpleMountInfoProvider.java`
#### Snippet
```java
    //~----------------------------------------< private >

    private static Map<String, Mount> getMounts(List<Mount> mountInfos) {
        Map<String, Mount> mounts = Maps.newHashMap();
        for (Mount mi : mountInfos) {
```

### BoundedWildcard
Can generalize to `? extends Registration`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/CompositeRegistration.java`
#### Snippet
```java
    }

    public CompositeRegistration(List<Registration> registrations) {
        this.registrations = registrations;
    }
```

### BoundedWildcard
Can generalize to `? extends Mount`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/Mounts.java`
#### Snippet
```java
        }

        DefaultMount(Collection<Mount> mounts) {
            this.mounts = mounts;
        }
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/observation/ChangeSetBuilder.java`
#### Snippet
```java
     * @return true if dataSet size is at maxSize i.e. overflow condition reached
     */
    private static boolean addAndCheckOverflow(Set<String> dataSet, String data, int maxSize, boolean overflow) {
        if (overflow) {
            return true;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapIdentityProvider.java`
#### Snippet
```java
    }

    private static void applyAttributes(Map<String, Object> props, Entry entry) throws LdapInvalidAttributeValueException {
        for (Attribute attr: entry.getAttributes()) {
            if (attr.isHumanReadable()) {
```

### BoundedWildcard
Can generalize to `? extends ServiceReference`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiWhiteboard.java`
#### Snippet
```java
     */
    private static <T> List<T> getServiceList(
            Map<ServiceReference, T> services) {
        switch (services.size()) {
        case 0:
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/osgi/OsgiWhiteboard.java`
#### Snippet
```java
     */
    private static <T> List<T> getServiceList(
            Map<ServiceReference, T> services) {
        switch (services.size()) {
        case 0:
```

### BoundedWildcard
Can generalize to `? extends OptionSpec`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/IndexOptions.java`
#### Snippet
```java
    }

    private static Set<String> collectionOperationNames(Set<OptionSpec> actionOpts){
        Set<String> result = new HashSet<>();
        for (OptionSpec spec : actionOpts){
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java
    }

    public NodeStateEntryTraverser withProgressCallback(Consumer<String> progressReporter) {
        this.progressReporter = progressReporter;
        return this;
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStoreUtils.java`
#### Snippet
```java
    }

    public static long sizeOf(List<File> sortedFiles) {
        return sortedFiles.stream().mapToLong(File::length).sum();
    }
```

### BoundedWildcard
Can generalize to `? extends OptionDescriptor`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/OakHelpFormatter.java`
#### Snippet
```java

        public OptionCategory(OptionsBean bean, Map<String, ? extends OptionDescriptor> options,
                              Map<String, OptionDescriptor> operations) {
            this.bean = bean;
            this.options = options;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/StoreAndSortStrategy.java`
#### Snippet
```java

    public StoreAndSortStrategy(NodeStateEntryTraverserFactory nodeStatesFactory, PathElementComparator comparator,
                                NodeStateEntryWriter entryWriter, File storeDir, Compression algorithm, Predicate<String> pathPredicate) {
        this.nodeStatesFactory = nodeStatesFactory;
        this.comparator = comparator;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java

    TraverseWithSortStrategy(NodeStateEntryTraverserFactory nodeStatesFactory, PathElementComparator pathComparator,
                             NodeStateEntryWriter entryWriter, File storeDir, Compression algorithm, Predicate<String> pathPredicate) {
        this.nodeStatesFactory = nodeStatesFactory;
        this.entryWriter = entryWriter;
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
     */
    @Nullable
    public static <T> T getService(@NotNull Whiteboard wb, @NotNull Class<T> type, @Nullable Predicate<T> predicate) {
        Tracker<T> tracker = wb.track(type);
        try {
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    public static <T> T getService(@NotNull Whiteboard wb, @NotNull Class<T> type,
            @Nullable com.google.common.base.Predicate<T> predicate) {
        GuavaDeprecation.handleCall("OAK-8685");
        return getService(wb, type, (Predicate<T>) (input) -> predicate.apply(input));
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    public static <T> List<T> getServices(@NotNull Whiteboard wb, @NotNull Class<T> type,
            @Nullable com.google.common.base.Predicate<T> predicate) {
        GuavaDeprecation.handleCall("OAK-8685");
        return getServices(wb, type, (java.util.function.Predicate<T>) (input) -> predicate.apply(input));
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
     */
    @NotNull
    public static <T> List<T> getServices(@NotNull Whiteboard wb, @NotNull Class<T> type, @Nullable Predicate<T> predicate) {
        Tracker<T> tracker = wb.track(type);
        try {
```

### BoundedWildcard
Can generalize to `? extends NodeStateEntry`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/ChildNodeStateProvider.java`
#### Snippet
```java
    private final Set<String> preferredPathElements;

    public ChildNodeStateProvider(Iterable<NodeStateEntry> entries, String path, Set<String> preferredPathElements) {
        this.entries = entries;
        this.path = path;
```

### BoundedWildcard
Can generalize to `? extends NodeStateEntry`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStoreIterator.java`
#### Snippet
```java
    }

    public FlatFileStoreIterator(BlobStore blobStore, String fileName, Iterator<NodeStateEntry> baseItr, Set<String> preferredPathElements, int memLimitConfig) {
        this.baseItr = baseItr;
        this.preferredPathElements = preferredPathElements;
```

### BoundedWildcard
Can generalize to `? extends FlatFileStore`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
    }

    private void indexParallel(List<FlatFileStore> storeList, CompositeIndexer indexer, IndexingProgressReporter progressReporter)
        throws IOException {
        ExecutorService service = Executors.newFixedThreadPool(IndexerConfiguration.indexThreadPoolSize());
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java

    void createInitialTasks(NodeStateEntryTraverserFactory nodeStateEntryTraverserFactory,
                            List<Long> lastModifiedBreakPoints, BlobStore blobStore, List<File> existingDataDumpDirs)
            throws IOException {
        ConcurrentLinkedQueue<String> completedTasks = new ConcurrentLinkedQueue<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
    }

    private static void updateNodeTypeStack(Stack<String> parentNodeTypeNames, String line,
        NodeStateEntryReader entryReader) {
        NodeStateHolder ns = new SimpleNodeStateHolder(line);
```

### BoundedWildcard
Can generalize to `? extends IndexDefinition`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileSplitter.java`
#### Snippet
```java
    
    public FlatFileSplitter(File flatFile, File workdir, NodeTypeInfoProvider infoProvider, NodeStateEntryReader entryReader,
            Set<IndexDefinition> indexDefinitions) {
        this.flatFile = flatFile;
        this.indexDefinitions = indexDefinitions;
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
     * @param algorithm string representation of the compression algorithm, use "none" for disable compression.
     */
    MergeRunner(File sortedFile, BlockingQueue<File> sortedFiles, File mergeDir, Comparator<NodeStateHolder> comparator,
                Phaser phaser, int batchMergeSize, int threadPoolSize, Compression algorithm) {
        this.mergeDir = mergeDir;
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
    }

    private void markAsMerged(List<File> target) {
        mergedFiles.addAll(target);
        unmergedFiles.removeAll(target);
```

### BoundedWildcard
Can generalize to `? extends Blob`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java


    private static long size(Iterable<Blob> blobs) {
        long size = 0;
        for (Blob b : blobs) {
```

### BoundedWildcard
Can generalize to `? super Blob`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
    }

    private static void loadValue(String v, java.util.Collection<Blob> blobs,
                                  DocumentNodeStore nodeStore) {
        JsopReader reader = new JsopTokenizer(v);
```

### BoundedWildcard
Can generalize to `? super BlobReferences`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java

    private static Iterable<BlobReferences> scan(DocumentNodeStore store,
                                                 Comparator<BlobReferences> comparator,
                                                 int num) {
        long totalGarbage = 0;
```

### BoundedWildcard
Can generalize to `? super Iterable`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
    }

    public NodeStateEntrySorter(Comparator<Iterable<String>> pathComparator, File nodeStateFile, File workDir, File sortedFile) {
        this.nodeStateFile = nodeStateFile;
        this.workDir = workDir;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentTraverser.java`
#### Snippet
```java
    }

    public <T extends Document> CloseableIterable<T> getAllDocuments(Collection<T> collection, TraversingRange traversingRange,
                                                                     Predicate<String> filter) {
        if (!disableReadOnlyCheck) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentTraverser.java`
#### Snippet
```java

    public <T extends Document> CloseableIterable<T> getAllDocuments(Collection<T> collection, TraversingRange traversingRange,
                                                                     Predicate<String> filter) {
        if (!disableReadOnlyCheck) {
            checkState(mongoStore.isReadOnly(), "Traverser can only be used with readOnly store");
```

### BoundedWildcard
Can generalize to `? extends StructuredTranslation`
in `oak-search-mt/src/main/java/org/apache/jackrabbit/oak/plugins/index/mt/MTFulltextQueryTermsProvider.java`
#### Snippet
```java
    }

    private void addTranslations(BooleanQuery query, List<StructuredTranslation> structuredTranslations) {
        for (StructuredTranslation st : structuredTranslations) {
            String translationString = st.getTranslationString();
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java
        returns IndexNameObjects in descending order of version i.e from newest version to oldest
    */
    private static List<IndexName> getReverseSortedIndexNameList(List<IndexName> indexNameObjectList) {
        List<IndexName> reverseSortedIndexNameObjectList = new ArrayList<>(indexNameObjectList);
        Collections.sort(reverseSortedIndexNameObjectList, Collections.reverseOrder());
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java

    private static List<IndexName> removeDisabledCustomIndexesFromList(NodeState indexDefParentNode,
                                                            List<IndexName> indexNameObjectList) {
        List<IndexName> disableIndexNameObjectList = new ArrayList<>();
        for (int i = 0; i < indexNameObjectList.size(); i++) {
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java
    }

    private static boolean isSameProductVersionBaseIndexPresent(List<IndexName> reverseSortedIndexNameList, IndexName activeIndexNameObject) {
        return reverseSortedIndexNameList.stream().filter(n -> (n.getBaseName().equals(activeIndexNameObject.getBaseName())
                && n.getProductVersion() == activeIndexNameObject.getProductVersion()
```

### BoundedWildcard
Can generalize to `? extends IndexVersionOperation`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
    }

    private void purgeOldIndexVersion(NodeStore store, List<IndexVersionOperation> toDeleteIndexNameObjectList) throws
            CommitFailedException {
        for (IndexVersionOperation toDeleteIndexNameObject : toDeleteIndexNameObjectList) {
```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    }

    void evicted(Entry<K, V> entry, RemovalCause cause) {
        if (evicted == null) {
            return;
```

### BoundedWildcard
Can generalize to `? extends V`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    }

    void evicted(Entry<K, V> entry, RemovalCause cause) {
        if (evicted == null) {
            return;
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        }

        synchronized void refresh(K key, int hash, CacheLoader<K, V> loader) throws ExecutionException {
            if (loader == null) {
                // no loader - no refresh
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        }

        V get(K key, int hash, CacheLoader<K, V> loader) throws ExecutionException {
            // avoid synchronization if it's in the cache
            V value = get(key, hash);
```

### BoundedWildcard
Can generalize to `? extends V`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
        }

        V get(K key, int hash, CacheLoader<K, V> loader) throws ExecutionException {
            // avoid synchronization if it's in the cache
            V value = get(key, hash);
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    @SuppressWarnings("unchecked")
    CacheLIRS(Weigher<K, V> weigher, long maxMemory, int averageMemory,
            int segmentCount, int stackMoveDistance, final CacheLoader<K, V> loader,
            EvictionCallback<K, V> evicted, String module) {
```

### BoundedWildcard
Can generalize to `? super V`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    @SuppressWarnings("unchecked")
    CacheLIRS(Weigher<K, V> weigher, long maxMemory, int averageMemory,
            int segmentCount, int stackMoveDistance, final CacheLoader<K, V> loader,
            EvictionCallback<K, V> evicted, String module) {
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    CacheLIRS(Weigher<K, V> weigher, long maxMemory, int averageMemory,
            int segmentCount, int stackMoveDistance, final CacheLoader<K, V> loader,
            EvictionCallback<K, V> evicted, String module) {
        GuavaDeprecation.handleCall("OAK-8702", CacheLIRS.class.getName(), ALLOWED_USERS);
        LOG.debug("Init #{}, module={}, maxMemory={}, segmentCount={}, stackMoveDistance={}",
```

### BoundedWildcard
Can generalize to `? super V`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    CacheLIRS(Weigher<K, V> weigher, long maxMemory, int averageMemory,
            int segmentCount, int stackMoveDistance, final CacheLoader<K, V> loader,
            EvictionCallback<K, V> evicted, String module) {
        GuavaDeprecation.handleCall("OAK-8702", CacheLIRS.class.getName(), ALLOWED_USERS);
        LOG.debug("Init #{}, module={}, maxMemory={}, segmentCount={}, stackMoveDistance={}",
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/BurnOnCloseFileIterator.java`
#### Snippet
```java
        private final File backingFile;

        public Impl(Iterator<String> iterator, File backingFile, Function<String, T> transformer) {
            this.iterator = iterator;
            this.transformer = transformer;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/BurnOnCloseFileIterator.java`
#### Snippet
```java
        private final File backingFile;

        public Impl(Iterator<String> iterator, File backingFile, Function<String, T> transformer) {
            this.iterator = iterator;
            this.transformer = transformer;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/FileLineDifferenceIterator.java`
#### Snippet
```java
        };

        public Impl(LineIterator marked, LineIterator available, @Nullable Function<String, String> transformer)
                throws IOException {
            this.marked = marked;
```

### BoundedWildcard
Can generalize to `? extends Closeable`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/StringSort.java`
#### Snippet
```java
        // inspired by Guava Closer, see
        // https://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Closer.html
        private static void closeAll(List<Closeable> closer) throws IOException {
            IOException ioex = null;
            for (Closeable c : closer) {
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/cache/Cache.java`
#### Snippet
```java
    };

    private Cache(Backend<K, V> backend, int maxMemoryBytes) {
        this.backend = backend;
        this.maxMemoryBytes = maxMemoryBytes;
```

### BoundedWildcard
Can generalize to `? extends V`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/cache/Cache.java`
#### Snippet
```java
    };

    private Cache(Backend<K, V> backend, int maxMemoryBytes) {
        this.backend = backend;
        this.maxMemoryBytes = maxMemoryBytes;
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/PropertyHistory.java`
#### Snippet
```java
     * @return the docs in the correct order.
     */
    private Iterator<NodeDocument> ensureOrder(final Iterable<Map.Entry<Revision, NodeDocument>> docs) {
        return new AbstractIterator<NodeDocument>() {
            PeekingIterator<Map.Entry<Revision, NodeDocument>> input
```

### BoundedWildcard
Can generalize to `? super ReferencedBlob`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BlobCollector.java`
#### Snippet
```java
    }

    private void loadValue(String v, Collection<ReferencedBlob> blobs, String nodeId) {
        JsopReader reader = new JsopTokenizer(v);
        PropertyState p;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
     */
    @Deprecated
    public T setNodeCachePredicate(Predicate<String> p){
        this.nodeCachePredicate = input -> input != null && p.apply(input.toString());
        return thisBuilder();
```

### BoundedWildcard
Can generalize to `? extends EvictionListener`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
            String module,
            long maxWeight,
            final Set<EvictionListener<K, V>> listeners) {
        // do not use LIRS cache when maxWeight is zero (OAK-6953)
        if (LIRS_CACHE && maxWeight > 0) {
```

### BoundedWildcard
Can generalize to `? extends JournalPropertyService`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalPropertyHandler.java`
#### Snippet
```java
    private final Map<String, JournalPropertyBuilder<JournalProperty>> builders = Maps.newHashMap();

    public JournalPropertyHandler(List<JournalPropertyService> services) {
        for (JournalPropertyService srv : services){
            String name = srv.getName();
```

### BoundedWildcard
Can generalize to `? extends ClusterNodeInfoDocument`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    DocumentNodeStoreMBeanImpl(DocumentNodeStore nodeStore,
                               RepositoryStatistics repoStats,
                               Iterable<ClusterNodeInfoDocument> clusterNodes,
                               long revisionGCMaxAgeMillis) {
        super(DocumentNodeStoreMBean.class);
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
    @Nullable
    private Value getLatestValue(@NotNull RevisionContext context,
                                 @NotNull Iterable<Map.Entry<Revision, String>> valueMap,
                                 @NotNull RevisionVector readRevision,
                                 @NotNull Map<Revision, String> validRevisions,
```

### BoundedWildcard
Can generalize to `? super Iterable`>
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
    private void collectVisiblePreviousChanges(@NotNull final String property,
                                               @NotNull final Revision readRevision,
                                               @NotNull final List<Iterable<Entry<Revision, String>>> changes) {
        List<Iterable<Map.Entry<Revision, String>>> revs = Lists.newArrayList();

```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
     */
    int purgeCollisionMarkers(final int clusterId, final int batchSize,
                              final java.util.function.Predicate<Revision> olderThanLastWrittenRootRevPredicate) {
        Map<Revision, String> valueMap = getLocalMap(COLLISIONS);
        UpdateOp op = new UpdateOp(requireNonNull(getId()), false);
```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
                                    @Nullable String commitValue,
                                    @NotNull RevisionVector readRevision,
                                    @NotNull Map<Revision, String> validRevisions) {
        if (validRevisions.containsKey(rev)) {
            return true;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
                                    @Nullable String commitValue,
                                    @NotNull RevisionVector readRevision,
                                    @NotNull Map<Revision, String> validRevisions) {
        if (validRevisions.containsKey(rev)) {
            return true;
```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
                               final Revision changeRev,
                               final Branch branch,
                               final Set<Revision> collisions) {
        checkArgument(!baseRev.isBranch() || branch != null,
                "Branch must be non-null if baseRev is a branch revision");
```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java

    int purgeUncommittedRevisions(final int clusterId, final int batchSize,
                                  final java.util.function.Predicate<Revision> olderThanLastWrittenRootRevPredicate) {
        // only look at revisions in this document.
        // uncommitted revisions are not split off
```

### BoundedWildcard
Can generalize to `? super JournalEntry`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
                                             @Nullable JournalPropertyHandler journalPropertyHandler,
                                             @NotNull JournalEntry d,
                                             @NotNull Consumer<JournalEntry> journalEntryConsumer)
            throws IOException {
        d.addTo(externalChanges, path);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
     */
    private void collectLocalChanges(
            Map<String, NavigableMap<Revision, String>> committedLocally,
            Set<Revision> changes) {
        for (String property : filter(doc.keySet(), PROPERTY_OR_DELETED)) {
```

### BoundedWildcard
Can generalize to `? super NavigableMap`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
     */
    private void collectLocalChanges(
            Map<String, NavigableMap<Revision, String>> committedLocally,
            Set<Revision> changes) {
        for (String property : filter(doc.keySet(), PROPERTY_OR_DELETED)) {
```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
    private void collectLocalChanges(
            Map<String, NavigableMap<Revision, String>> committedLocally,
            Set<Revision> changes) {
        for (String property : filter(doc.keySet(), PROPERTY_OR_DELETED)) {
            NavigableMap<Revision, String> splitMap
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBVersionGCSupport.java`
#### Snippet
```java
        private int count, matches;

        public CountingPredicate(String name, Predicate<T> predicate) {
            this.name = name;
            this.predicate = predicate;
```

### BoundedWildcard
Can generalize to `? super Path`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
    @Nullable
    private NodeDocument findNearestAncestorOrSelf(@NotNull Path path,
                                                   @NotNull List<Path> missingDocuments) {
        NodeDocument ancestor;
        for (;;) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
                                RevisionContext revisionContext,
                                MissingLastRevSeeker seeker,
                                Consumer<Integer> afterRecovery) {
        this.store = store;
        this.revisionContext = revisionContext;
```

### BoundedWildcard
Can generalize to `? super Path`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

    private static void addPathsForDiff(Path path,
                                        Set<Path> paths,
                                        Iterable<Path> modified) {
        for (Path p : modified) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java

        public BurnOnCloseFileIterator(LineIterator iterator, File backingFile,
                com.google.common.base.Function<String, T> transformer) {
            GuavaDeprecation.handleCall("OAK-8666");
            this.iterator = iterator;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java

        public BurnOnCloseFileIterator(LineIterator iterator, File backingFile,
                com.google.common.base.Function<String, T> transformer) {
            GuavaDeprecation.handleCall("OAK-8666");
            this.iterator = iterator;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
         */
        @Deprecated(since = "1.50.0", forRemoval = true)
        public TransformingComparator(Comparator<String> delegate, final com.google.common.base.Function<String, String> func) {
            GuavaDeprecation.handleCall("OAK-10109");
            this.delegate = delegate;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    public static int writeStrings(Iterator<String> iterator, File f, boolean escape,
            @NotNull com.google.common.base.Function<String, String> transformer, @Nullable Logger logger, @Nullable String message) throws IOException {
        GuavaDeprecation.handleCall("OAK-8677");
        Function<String, String> tr2 = (s) -> transformer.apply(s);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
        }

        public TransformingComparator(Comparator<String> delegate, Function<String, String> func) {
            this.delegate = delegate;
            this.func = func;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
        }

        public TransformingComparator(Comparator<String> delegate, Function<String, String> func) {
            this.delegate = delegate;
            this.func = func;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
     */
    public static int writeStrings(Iterator<String> iterator, File f, boolean escape,
        @NotNull Function<String, String> transformer, @Nullable Logger logger, @Nullable String message) throws IOException {
        BufferedWriter writer = newWriter(f, UTF_8);
        boolean threw = true;
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
     * @throws IOException
     */
    public static void append(List<File> files, File appendTo, boolean delete) throws IOException {
        OutputStream appendStream = null;
        boolean threw = true;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java

        public FileLineDifferenceIterator(LineIterator marked, LineIterator available,
            @Nullable com.google.common.base.Function<String, String> transformer) throws IOException {
            GuavaDeprecation.handleCall("OAK-8676");
            this.marked = marked;
```

### BoundedWildcard
Can generalize to `? extends InputStream`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/LazyInputStream.java`
#### Snippet
```java
    private boolean opened;

    public LazyInputStream(Supplier<InputStream> inputStreamSupplier) {
        super(null);
        this.byteSource = null;
```

### BoundedWildcard
Can generalize to `? super Collection`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CreateMetricUpdater.java`
#### Snippet
```java
    public void update(final Collection<? extends Document> collection, final long timeTakenNanos,
                       final List<String> ids, final boolean insertSuccess,
                       final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final TriStatsConsumer triStatsConsumer,
                       final Predicate<Collection<? extends Document>> isJournalCollection,
```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CreateMetricUpdater.java`
#### Snippet
```java
    public void update(final Collection<? extends Document> collection, final long timeTakenNanos,
                       final List<String> ids, final boolean insertSuccess,
                       final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final TriStatsConsumer triStatsConsumer,
                       final Predicate<Collection<? extends Document>> isJournalCollection,
```

### BoundedWildcard
Can generalize to `? super Collection`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CreateMetricUpdater.java`
#### Snippet
```java
                       final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final TriStatsConsumer triStatsConsumer,
                       final Predicate<Collection<? extends Document>> isJournalCollection,
                       final BiStatsConsumer journalBiStatsConsumer) {

```

### BoundedWildcard
Can generalize to `? extends ClusterNodeInfoDocument`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
     */
    @NotNull
    public static RevisionVector getStartRevisions(@NotNull Iterable<ClusterNodeInfoDocument> clusterNodes) {
        List<Revision> revs = new ArrayList<>();
        for (ClusterNodeInfoDocument doc : clusterNodes) {
```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    public static Revision max(@Nullable Revision a,
                               @Nullable Revision b,
                               @NotNull Comparator<Revision> c) {
        if (a == null) {
            return b;
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
     * @param <K> the type of the map key
     */
    public static <K> void deepCopyMap(Map<K, Object> source, Map<K, Object> target) {
        for (Entry<K, Object> e : source.entrySet()) {
            Object value = e.getValue();
```

### BoundedWildcard
Can generalize to `? super Revision`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    public static Revision min(@Nullable Revision a,
                               @Nullable Revision b,
                               @NotNull Comparator<Revision> c) {
        if (a == null) {
            return b;
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
     */
    public static <T> CloseableIterable<T> abortingIterable(Iterable<T> iterable,
                                                            Predicate<T> p) {
        checkNotNull(iterable);
        checkNotNull(p);
```

### BoundedWildcard
Can generalize to `? super Collection`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ModifyMetricUpdater.java`
#### Snippet
```java
    public void update(final Collection<? extends Document> collection, final int retryCount,
                       final long timeTakenNanos, final boolean isSuccess, final boolean  newEntry,
                       final Predicate<Collection<? extends Document>> isNodesCollection,
                       final BiStatsConsumer createBiStatsConsumer,
                       final BiStatsConsumer updateBiStatsConsumer,
```

### BoundedWildcard
Can generalize to `? super MeterStats`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ModifyMetricUpdater.java`
#### Snippet
```java
                       final BiStatsConsumer createBiStatsConsumer,
                       final BiStatsConsumer updateBiStatsConsumer,
                       final ObjIntConsumer<MeterStats> retryNodesConsumer,
                       final Consumer<MeterStats> failureNodesConsumer) {

```

### BoundedWildcard
Can generalize to `? super MeterStats`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ModifyMetricUpdater.java`
#### Snippet
```java
                       final BiStatsConsumer updateBiStatsConsumer,
                       final ObjIntConsumer<MeterStats> retryNodesConsumer,
                       final Consumer<MeterStats> failureNodesConsumer) {

        requireNonNull(isNodesCollection);
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/MergeSortedIterators.java`
#### Snippet
```java
    private T lastPeek;

    public MergeSortedIterators(final Comparator<T> comparator) {
        this.comparator = comparator;
        fetchNextIterator();
```

### BoundedWildcard
Can generalize to `? super Collection`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/UpsertMetricUpdater.java`
#### Snippet
```java

    public void update(final Collection<? extends Document> collection, final long timeTakenNanos,
                       final List<String> ids, final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final TriStatsConsumer upsertStatsConsumer) {

```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/UpsertMetricUpdater.java`
#### Snippet
```java

    public void update(final Collection<? extends Document> collection, final long timeTakenNanos,
                       final List<String> ids, final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final TriStatsConsumer upsertStatsConsumer) {

```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CloseableIterator.java`
#### Snippet
```java
    }

    public CloseableIterator(Iterator<T> iterable, Closeable closeable) {
        this.iterator = iterable;
        this.closeable = closeable;
```

### BoundedWildcard
Can generalize to `? super Collection`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/RemoveMetricUpdater.java`
#### Snippet
```java

    public void update(final Collection<? extends Document> collection, final int removeCount, final long timeTakenNanos,
                       final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final BiStatsConsumer removeBiStatsConsumer) {

```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/RemoveMetricUpdater.java`
#### Snippet
```java

    public void update(final Collection<? extends Document> collection, final int removeCount, final long timeTakenNanos,
                       final BiPredicate<Collection<? extends Document>, Integer> isNodesCollectionUpdated,
                       final BiStatsConsumer removeBiStatsConsumer) {

```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/CacheChangesTracker.java`
#### Snippet
```java
    private final LazyBloomFilter lazyBloomFilter;

    CacheChangesTracker(Predicate<String> keyFilter, List<CacheChangesTracker> changeTrackers, int bloomFilterSize) {
        this.changeTrackers = changeTrackers;
        this.keyFilter = keyFilter;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDBConfig.java`
#### Snippet
```java

    private static String getCompressionConfig(
            Map<String, String> storageOptions) {
        return "\"block_compressor=" + storageOptions.getOrDefault(
                COLLECTION_COMPRESSION_TYPE, "snappy") + "\"";
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    }

    private static <T extends Document> List<T> sortDocuments(Collection<T> documents) {
        List<T> result = new ArrayList<T>(documents);
        Collections.sort(result, new Comparator<T>() {
```

### BoundedWildcard
Can generalize to `? extends QueryCondition`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    }

    private static String buildWhereClause(String minId, String maxId, List<String> excludeKeyPatterns, List<QueryCondition> conditions) {
        StringBuilder result = new StringBuilder();

```

### BoundedWildcard
Can generalize to `? extends Matcher`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/CompositeMatcher.java`
#### Snippet
```java
     * matchers are matching
     */
    private CompositeMatcher(List<Matcher> matchers) {
        for (Matcher m : matchers){
            checkArgument(m.isMatch(), "Non matching matcher found in [%s]", matchers);
```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/async/InvalidateCacheAction.java`
#### Snippet
```java
    private int memory = 0;

    InvalidateCacheAction(Iterable<K> keys, CacheWriteQueue<K, V> queue) {
        this.keys = keys;
        this.cache = queue.getCache();
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/memory/MemoryDocumentStore.java`
#### Snippet
```java

    @Override
    public <T extends Document> List<T> createOrUpdate(Collection<T> collection, List<UpdateOp> updateOps) {
        List<T> result = new ArrayList<T>(updateOps.size());
        for (UpdateOp update : updateOps) {
```

### BoundedWildcard
Can generalize to `? extends SyncResult`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/jmx/ResultMessages.java`
#### Snippet
```java
    }

    void append(@NotNull List<SyncResult> results, @NotNull Exception e) {
        for (SyncResult result : results) {
            if (result instanceof ErrorSyncResult) {
```

### BoundedWildcard
Can generalize to `? extends SyncResult`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/jmx/ResultMessages.java`
#### Snippet
```java
    }

    void append(@NotNull List<SyncResult> results) {
        for (SyncResult result : results) {
            append(result);
```

### BoundedWildcard
Can generalize to `? super WriteBuffer`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    }

    void broadcast(CacheType type, Function<WriteBuffer, Void> writer) {
        Broadcaster b = broadcaster;
        if (b == null) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncConfigTracker.java`
#### Snippet
```java
    }

    private void populateMap(@NotNull String syncHandlerName, @NotNull String[] autoMembershipParam, @NotNull Map<String, String[]> autoMembership) {
        for (String idpName : mappingTracker.getIdpNames(syncHandlerName)) {
            String[] previous = autoMembership.put(idpName, autoMembershipParam);
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SystemPrincipalConfig.java`
#### Snippet
```java
    }
    
    boolean containsSystemPrincipal(@NotNull Set<Principal> principals) {
        if (principals.contains(SystemPrincipal.INSTANCE)) {
            return true;
```

### BoundedWildcard
Can generalize to `? super Principal`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/AutoMembershipPrincipals.java`
#### Snippet
```java

    private static void collectInheritedPrincipals(@NotNull Group group,
                                                   @NotNull Map<Principal, Group> map) {
        try {
            Iterator<Group> groups = group.memberOf();
```

### BoundedWildcard
Can generalize to `? super Group`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/AutoMembershipPrincipals.java`
#### Snippet
```java

    private static void collectInheritedPrincipals(@NotNull Group group,
                                                   @NotNull Map<Principal, Group> map) {
        try {
            Iterator<Group> groups = group.memberOf();
```

### BoundedWildcard
Can generalize to `? extends AutoMembershipConfig`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/AutoMembershipPrincipals.java`
#### Snippet
```java
    AutoMembershipPrincipals(@NotNull UserManager userManager,
                             @NotNull Map<String, String[]> autoMembershipMapping,
                             @NotNull Map<String, AutoMembershipConfig> autoMembershipConfigMap) {
        this.userManager = userManager;
        this.autoMembershipMapping = autoMembershipMapping;
```

### BoundedWildcard
Can generalize to `? extends Group`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/InheritedMembershipIterator.java`
#### Snippet
```java
    private Iterator<Group> inheritedIterator = null;

    InheritedMembershipIterator(@NotNull Iterator<Group> groupIterator) {
        this.groupIterator = groupIterator;
    }
```

### BoundedWildcard
Can generalize to `? super Iterator`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/AutoMembershipProvider.java`
#### Snippet
```java
    }

    private void searchGlobalMembers(@NotNull Group group, @NotNull List<Iterator<Authorizable>> results) throws RepositoryException {
        Principal p = getPrincipalOrNull(group);
        if (p == null) {
```

### BoundedWildcard
Can generalize to `? extends SyncEntry`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DynamicSyncContext.java`
#### Snippet
```java
    }

    private void createDynamicGroups(@NotNull Iterable<SyncEntry> syncEntries) throws RepositoryException {
        for (SyncEntry syncEntry : syncEntries) {
            // since 'shortcut' is omitted if dynamic groups are enabled, there is no need to test if 'external-group' is 
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DynamicSyncContext.java`
#### Snippet
```java
    }
    
    private void clearGroupMembership(@NotNull Authorizable authorizable, @NotNull Set<String> groupPrincipalNames, @NotNull Set<Group> toRemove) throws RepositoryException {
        Iterator<Group> grpIter = authorizable.declaredMemberOf();
        Set<String> autoMembership = ((authorizable.isGroup()) ? config.group() : config.user()).getAutoMembership(authorizable);
```

### BoundedWildcard
Can generalize to `? super Group`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DynamicSyncContext.java`
#### Snippet
```java
    }
    
    private void clearGroupMembership(@NotNull Authorizable authorizable, @NotNull Set<String> groupPrincipalNames, @NotNull Set<Group> toRemove) throws RepositoryException {
        Iterator<Group> grpIter = authorizable.declaredMemberOf();
        Set<String> autoMembership = ((authorizable.isGroup()) ? config.group() : config.user()).getAutoMembership(authorizable);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalAuthorizableActionProvider.java`
#### Snippet
```java
        }
        
        private static void updateAutoMembershipMap(@NotNull Map<String, Set<String>> map, @NotNull String syncHandlerName, 
                                                    @NotNull String idpName, @NotNull String[] membership) {
            Set<String> userMembership = ImmutableSet.copyOf(membership);
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalGroupPrincipalProvider.java`
#### Snippet
```java
     * @return set of inherited group principals 
     */
    private Set<Principal> getInheritedPrincipals(@NotNull Set<Principal> externalGroupPrincipals, @NotNull String idpName) {
        if (idpNamesWithDynamicGroups.contains(idpName)) {
            Set<Principal> inherited = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? super PermissionEntry`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/EntryIterator.java`
#### Snippet
```java
    private String nextPath;

    EntryIterator(@NotNull String path, @NotNull Predicate<PermissionEntry> predicate, @NotNull EntryCache entryCache) {
        this.nextPath = path;
        this.predicate = predicate;
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/FilterProviderImpl.java`
#### Snippet
```java

        @Override
        public boolean canHandle(@NotNull Set<Principal> principals) {
            if (principals.isEmpty()) {
                return false;
```

### BoundedWildcard
Can generalize to `? extends PropInfo`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalPolicyImporter.java`
#### Snippet
```java
        }

        private void addRestrictions(@NotNull List<PropInfo> propInfos) throws RepositoryException {
            checkState(restrictions.isEmpty() && mvRestrictions.isEmpty(), "Multiple restriction nodes.");
            for (PropInfo prop : propInfos) {
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
    }

    boolean canHandle(@NotNull Set<Principal> principals) throws AccessControlException {
        for (Principal principal : principals) {
            if (!canHandle(principal)) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-examples/standalone/src/main/java/org/apache/jackrabbit/oak/standalone/RepositoryInitializer.java`
#### Snippet
```java
    }

    private void configureActivator(Map<String, Object> config) {
        config.put(BundleActivator.class.getName(), new BundleActivator() {
            @Override
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/CacheAccessTracker.java`
#### Snippet
```java
            @NotNull String name,
            @NotNull StatisticsProvider statisticsProvider,
            @NotNull Cache<K, V> delegate) {
        this.delegate = delegate;
        this.accessCount = statisticsProvider.getCounterStats(
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
    }

    private void configureActivator(Map<String, Object> config) {
        try{
            config.put(BundleActivator.class.getName(), new BundleActivator() {
```

### BoundedWildcard
Can generalize to `? super PermissionEntry`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedPermissionProvider.java`
#### Snippet
```java
    }

    private boolean isGranted(@NotNull String path, @NotNull Predicate<PermissionEntry> predicate,
                              @NotNull Predicate<PermissionEntry> parentPredicate, long permissions) {
        long allows = Permissions.NO_PERMISSION;
```

### BoundedWildcard
Can generalize to `? super PermissionEntry`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedPermissionProvider.java`
#### Snippet
```java

    private boolean isGranted(@NotNull String path, @NotNull Predicate<PermissionEntry> predicate,
                              @NotNull Predicate<PermissionEntry> parentPredicate, long permissions) {
        long allows = Permissions.NO_PERMISSION;
        if (readablePaths.isReadable(path)) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ReaderCache.java`
#### Snippet
```java
     */
    @NotNull
    public T get(long msb, long lsb, int offset, Function<Integer, T> loader) {
        int hash = getEntryHash(msb, lsb, offset);
        if (fastCache == null) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/ReaderCache.java`
#### Snippet
```java
     */
    @NotNull
    public T get(long msb, long lsb, int offset, Function<Integer, T> loader) {
        int hash = getEntryHash(msb, lsb, offset);
        if (fastCache == null) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/LoggingHook.java`
#### Snippet
```java
    private final Consumer<String> writer;

    private LoggingHook(final Consumer<String> writer) {
        this.writer = writer;
    }
```

### BoundedWildcard
Can generalize to `? super SegmentId`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentIdTable.java`
#### Snippet
```java
     * @param ids referenced segment identifiers
     */
    void collectReferencedIds(Collection<SegmentId> ids) {
        ids.addAll(refresh());
    }
```

### BoundedWildcard
Can generalize to `? extends MapEntry`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MapRecord.java`
#### Snippet
```java
    }

    private static MapEntry nextOrNull(Iterator<MapEntry> iterator) {
        if (iterator.hasNext()) {
            return iterator.next();
```

### BoundedWildcard
Can generalize to `? extends Segment`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        @Override
        @NotNull
        public Segment getSegment(@NotNull SegmentId id, @NotNull Callable<Segment> loader) throws ExecutionException {
            if (id.isDataSegmentId()) {
                return cache.get(id, () -> {
```

### BoundedWildcard
Can generalize to `? extends Segment`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
        @NotNull
        @Override
        public Segment getSegment(@NotNull SegmentId id, @NotNull Callable<Segment> loader)
        throws ExecutionException {
            long t0 = System.nanoTime();
```

### BoundedWildcard
Can generalize to `? extends SegmentId`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
         * Removal handler called whenever an item is evicted from the cache.
         */
        private void onRemove(@NotNull RemovalNotification<SegmentId, Segment> notification) {
            stats.evictionCount.incrementAndGet();
            if (notification.getValue() != null) {
```

### BoundedWildcard
Can generalize to `? extends Segment`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentCache.java`
#### Snippet
```java
         * Removal handler called whenever an item is evicted from the cache.
         */
        private void onRemove(@NotNull RemovalNotification<SegmentId, Segment> notification) {
            stats.evictionCount.incrementAndGet();
            if (notification.getValue() != null) {
```

### BoundedWildcard
Can generalize to `? extends MapEntry`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
        }

        private List<List<MapEntry>> splitToBuckets(Collection<MapEntry> entries, int level) {
            int mask = (1 << MapRecord.BITS_PER_LEVEL) - 1;
            int shift = 32 - (level + 1) * MapRecord.BITS_PER_LEVEL;
```

### BoundedWildcard
Can generalize to `? extends RecordCache`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
        @NotNull
        private static <T> Supplier<CacheStats> accumulateRecordCacheStats(
                final Iterable<RecordCache<T>> caches) {
            return new Supplier<CacheStats>() {
                @Override
```

### BoundedWildcard
Can generalize to `? extends RecordCache`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
        @NotNull
        public static <T> Supplier<Long> accumulateRecordCacheSizes(
                final Iterable<RecordCache<T>> caches) {
            return new Supplier<Long>() {
                @Override
```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
            }

            void evictGenerations(@NotNull Predicate<Integer> evict) {
                Iterator<Integer> it = generations.keySet().iterator();
                while (it.hasNext()) {
```

### BoundedWildcard
Can generalize to `? extends RecordCache`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
        @NotNull
        public static <T> Supplier<Long> accumulateRecordCacheWeights(
                final Iterable<RecordCache<T>> caches) {
            return new Supplier<Long>() {
                @Override
```

### BoundedWildcard
Can generalize to `? super OutputStream`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentDump.java`
#### Snippet
```java
    }

    static String dumpSegment(SegmentId id, int length, String segmentInfo, GCGeneration generation, SegmentReferences segmentReferences, RecordNumbers recordNumbers, Consumer<OutputStream> dumper) {
        StringWriter string = new StringWriter();
        try (PrintWriter writer = new PrintWriter(string)) {
```

### BoundedWildcard
Can generalize to `? super RecordId`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/TarRevisions.java`
#### Snippet
```java
    @Override
    public RecordId setHead(
            @NotNull Function<RecordId, RecordId> newHead,
            @NotNull Option... options)
    throws InterruptedException {
```

### BoundedWildcard
Can generalize to `? extends Value`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalPolicyImpl.java`
#### Snippet
```java

    @Nullable
    private static String extractPathFromRestrictions(@Nullable Map<String, Value> restrictions, @NotNull String jcrName) throws RepositoryException {
        if (restrictions == null || !restrictions.containsKey(jcrName)) {
            throw new AccessControlException("Entries in principal based access control need to have a path specified. Add rep:nodePath restriction or use PrincipalAccessControlList.addEntry(String, Privilege[], Map, Map) instead.");
```

### BoundedWildcard
Can generalize to `? extends MapEntry`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordWriters.java`
#### Snippet
```java
        }

        private static List<RecordId> extractIds(Collection<MapEntry> entries) {
            List<RecordId> ids = newArrayListWithCapacity(2 * entries.size());
            for (MapEntry entry : entries) {
```

### BoundedWildcard
Can generalize to `? super GCGeneration`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/DefaultCleanupStrategy.java`
#### Snippet
```java
    }

    private static CleanupContext newCleanupContext(Context context, Predicate<GCGeneration> old) {
        return new CleanupContext() {

```

### BoundedWildcard
Can generalize to `? extends Revisions`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/GarbageCollector.java`
#### Snippet
```java
        SegmentTracker tracker,
        SegmentReader segmentReader,
        Supplier<Revisions> revisionsSupplier,
        BlobStore blobStore,
        SegmentCache segmentCache,
```

### BoundedWildcard
Can generalize to `? super GCGeneration`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/CleanupFirstCompactionStrategy.java`
#### Snippet
```java
    }

    private static CleanupContext newCleanupContext(Context context, Predicate<GCGeneration> old) {
        return new CleanupContext() {

```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    @NotNull
    protected <T extends Document> List<T> queryInternal(Collection<T> collection,
                                                         String fromKey,
                                                         String toKey,
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    private <T extends Document> BulkUpdateResult sendBulkUpdate(Collection<T> collection,
            java.util.Collection<UpdateOp> updateOps, Map<String, T> oldDocs) {
        MongoCollection<BasicDBObject> dbCollection = getDBCollection(collection);
        List<WriteModel<BasicDBObject>> writes = new ArrayList<>(updateOps.size());
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
    }

    private <T extends Document> Map<String, T> findDocuments(Collection<T> collection, Set<String> keys) {
        Map<String, T> docs = new HashMap<String, T>();
        if (!keys.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
    }

    private static void toMapBuilder(ImmutableMap.Builder<String, String> builder,
                                     BasicDBObject stats,
                                     String prefix) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
    }

    private static void toMapBuilder(ImmutableMap.Builder<String, String> builder,
                                     BasicDBObject stats,
                                     String prefix) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    @NotNull
    private <T extends Document> T applyChanges(Collection<T> collection, T oldDoc, UpdateOp update) {
        T doc = collection.newDocument(this);
        oldDoc.deepCopy(doc);
```

### BoundedWildcard
Can generalize to `? super Integer`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
     * @param purge
     */
    public synchronized void purgeGenerations(@NotNull Predicate<Integer> purge) {
        for (int i = 0; i < entries.length; i++) {
            Entry<?, ?> entry = entries[i];
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarManager.java`
#### Snippet
```java
     *                order they appear in the TAR file.
     */
    private static void recoverEntries(File file, RandomAccessFile access, LinkedHashMap<UUID, byte[]> entries) throws IOException {
        byte[] header = new byte[BLOCK_SIZE];
        while (access.getFilePointer() + BLOCK_SIZE <= access.length()) {
```

### BoundedWildcard
Can generalize to `? extends Generation`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndex.java`
#### Snippet
```java
    private final Map<Generation, Map<UUID, Set<String>>> references;

    BinaryReferencesIndex(Map<Generation, Map<UUID, Set<String>>> references) {
        this.references = references;
    }
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndex.java`
#### Snippet
```java
    private final Map<Generation, Map<UUID, Set<String>>> references;

    BinaryReferencesIndex(Map<Generation, Map<UUID, Set<String>>> references) {
        this.references = references;
    }
```

### BoundedWildcard
Can generalize to `? extends Record`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/proc/RecordsNode.java`
#### Snippet
```java
    }

    private Iterable<ChildNodeEntry> toChildNodeEntries(Iterable<Record> records) {
        return StreamSupport.stream(records.spliterator(), false)
            .map(r -> new MemoryChildNodeEntry(Integer.toString(r.getNumber()), new RecordNode(r)))
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
    }

    private static Set<String> fileNames(Set<File> files) {
        Set<String> names = newHashSet();
        for (File f : files) {
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
    }

    private static void printFiles(PrintStream s, Set<File> files) {
        for (File f : files) {
            s.printf("        %s, %s\n", getLastModified(f), f.getName());
```

### BoundedWildcard
Can generalize to `? super Entry`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/RecoverJournal.java`
#### Snippet
```java
    }

    private void recoverEntries(ReadOnlyFileStore fileStore, long timestamp, RecordId recordId, List<Entry> entries) {
        SegmentNodeState nodeState = fileStore.getReader().readNode(recordId);

```

### BoundedWildcard
Can generalize to `? super String`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugTars.java`
#### Snippet
```java
    }

    private void filterNodeStates(Set<UUID> uuids, List<String> paths, SegmentNodeState state, String path) {
        Set<String> localPaths = newTreeSet();
        for (PropertyState ps : state.getProperties()) {
```

### BoundedWildcard
Can generalize to `? super List`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/iotrace/DepthFirstTrace.java`
#### Snippet
```java

    private static void updateContext(
            @NotNull Consumer<List<String>> context, int depth, int count, @NotNull String path) {
        context.accept(ImmutableList.of(valueOf(depth), valueOf(count), path));
    }
```

### BoundedWildcard
Can generalize to `? extends List`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
     */
    @NotNull
    private static List<UUID> getReferences(UUID id, Map<UUID, List<UUID>> graph) {
        List<UUID> references = graph.get(id);

```

### BoundedWildcard
Can generalize to `? super String`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
     * @param skipGeneration An instance of {@link Predicate}.
     */
    void collectBlobReferences(@NotNull Consumer<String> collector, Predicate<GCGeneration> skipGeneration) {
        BinaryReferencesIndex references = getBinaryReferences();

```

### BoundedWildcard
Can generalize to `? super GCGeneration`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
     * @param skipGeneration An instance of {@link Predicate}.
     */
    void collectBlobReferences(@NotNull Consumer<String> collector, Predicate<GCGeneration> skipGeneration) {
        BinaryReferencesIndex references = getBinaryReferences();

```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
     * TarReader}, or {@code null}.
     */
    TarReader sweep(@NotNull Set<UUID> reclaim, @NotNull Set<UUID> reclaimed) throws IOException {
        String name = archive.getName();
        log.debug("Cleaning up {}", name);
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
     * @param context     An instance of {@link CleanupContext}.
     */
    void mark(Set<UUID> references, Set<UUID> reclaimable, CleanupContext context) throws IOException {
        Map<UUID, List<UUID>> graph = getGraph();
        SegmentArchiveEntry[] entries = getEntries();
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
     * @param context     An instance of {@link CleanupContext}.
     */
    void mark(Set<UUID> references, Set<UUID> reclaimable, CleanupContext context) throws IOException {
        Map<UUID, List<UUID>> graph = getGraph();
        SegmentArchiveEntry[] entries = getEntries();
```

### BoundedWildcard
Can generalize to `? extends NodeState`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/iotrace/BreadthFirstTrace.java`
#### Snippet
```java
    }

    private void traverse(@NotNull Queue<NodeState> nodes, int depth) {
        if (!nodes.isEmpty()) {
            Queue<NodeState> children = newLinkedList();
```

### BoundedWildcard
Can generalize to `? super List`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/iotrace/BreadthFirstTrace.java`
#### Snippet
```java
    }

    private static void updateContext(@NotNull Consumer<List<String>> context, int depth, int count) {
        context.accept(ImmutableList.of(valueOf(depth), valueOf(count)));
    }
```

### BoundedWildcard
Can generalize to `? super List`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/iotrace/RandomAccessTrace.java`
#### Snippet
```java
     * @param context   consumer to pass the additional context to
     */
    public RandomAccessTrace(@NotNull List<String> paths, long seed, int count, @NotNull Consumer<List<String>> context) {
        this.rnd = new Random(seed);
        this.count = count;
```

### BoundedWildcard
Can generalize to `? super GetBlobResponse`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/GetBlobResponseHandler.java`
#### Snippet
```java
    private final BlockingQueue<GetBlobResponse> queue;

    GetBlobResponseHandler(BlockingQueue<GetBlobResponse> queue) {
        this.queue = queue;
    }
```

### BoundedWildcard
Can generalize to `? super GetSegmentResponse`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/GetSegmentResponseHandler.java`
#### Snippet
```java
    private final BlockingQueue<GetSegmentResponse> queue;

    GetSegmentResponseHandler(BlockingQueue<GetSegmentResponse> queue) {
        this.queue = queue;
    }
```

### BoundedWildcard
Can generalize to `? super GetHeadResponse`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/GetHeadResponseHandler.java`
#### Snippet
```java
    private final BlockingQueue<GetHeadResponse> queue;

    GetHeadResponseHandler(BlockingQueue<GetHeadResponse> queue) {
        this.queue = queue;
    }
```

### BoundedWildcard
Can generalize to `? extends CommunicationPartnerMBean`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/CommunicationObserver.java`
#### Snippet
```java
    }

    private static String oldest(Map<String, CommunicationPartnerMBean> beans) {
        CommunicationPartnerMBean oldest = null;

```

### BoundedWildcard
Can generalize to `? super CommunicationPartnerMBean`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/CommunicationObserver.java`
#### Snippet
```java
    }

    private void updateClientMBean(String id, Consumer<CommunicationPartnerMBean> update) {
        CommunicationPartnerMBean c;

```

### BoundedWildcard
Can generalize to `? super CommunicationPartnerMBean`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/CommunicationObserver.java`
#### Snippet
```java
    }

    private void createOrUpdateClientMBean(String clientName, String remoteAddress, int remotePort, Consumer<CommunicationPartnerMBean> update) throws MalformedObjectNameException {
        List<CommunicationPartnerMBean> unregister = null;
        boolean register = false;
```

### BoundedWildcard
Can generalize to `? super GetReferencesResponse`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/GetReferencesResponseHandler.java`
#### Snippet
```java
    private final Queue<GetReferencesResponse> queue;

    GetReferencesResponseHandler(Queue<GetReferencesResponse> queue) {
        this.queue = queue;
    }
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClientSyncExecution.java`
#### Snippet
```java
    }

    private void deriveTopologicalOrder(StandbyClient client, UUID id, Set<UUID> visited, List<UUID> data, List<UUID> bulk) throws Exception {
        if (visited.contains(id) || isLocal(id)) {
            return;
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClientSyncExecution.java`
#### Snippet
```java
    }

    private void deriveTopologicalOrder(StandbyClient client, UUID id, Set<UUID> visited, List<UUID> data, List<UUID> bulk) throws Exception {
        if (visited.contains(id) || isLocal(id)) {
            return;
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClientSyncExecution.java`
#### Snippet
```java
    }

    private void deriveTopologicalOrder(StandbyClient client, UUID id, Set<UUID> visited, List<UUID> data, List<UUID> bulk) throws Exception {
        if (visited.contains(id) || isLocal(id)) {
            return;
```

### BoundedWildcard
Can generalize to `? super Tree`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
    }

    private void iterateAndFindEmptyAndWrongVersionNodes(Tree root, int level, ReadOnlyVersionManager readOnlyVersionManager, HashSet<Tree> emptyNodes, HashMap<String, String> wrongNodes) {
        for (Tree treeNode : root.getChildren()) {
            count++;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
    }

    private void iterateAndFindEmptyAndWrongVersionNodes(Tree root, int level, ReadOnlyVersionManager readOnlyVersionManager, HashSet<Tree> emptyNodes, HashMap<String, String> wrongNodes) {
        for (Tree treeNode : root.getChildren()) {
            count++;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
    }

    private void iterateAndFindEmptyAndWrongVersionNodes(Tree root, int level, ReadOnlyVersionManager readOnlyVersionManager, HashSet<Tree> emptyNodes, HashMap<String, String> wrongNodes) {
        for (Tree treeNode : root.getChildren()) {
            count++;
```

### BoundedWildcard
Can generalize to `? extends PathToCheck`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
    }

    private boolean checkAllPathsConsistency(NodeState root, List<PathToCheck> paths, JournalEntry entry, boolean binaries, boolean head) {
        boolean result = true;

```

### BoundedWildcard
Can generalize to `? extends JournalEntry`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
    public final ConsistencyCheckResult checkConsistency(
        ReadOnlyFileStore store,
        Iterator<JournalEntry> journal,
        boolean head,
        Set<String> checkpoints,
```

### BoundedWildcard
Can generalize to `? extends List`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
    }

    private boolean shouldCheckCheckpointsConsistency(Map<String, List<PathToCheck>> paths) {
        return paths
            .values()
```

### BoundedWildcard
Can generalize to `? extends PathToCheck`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/ConsistencyChecker.java`
#### Snippet
```java
    }

    private boolean allPathsConsistent(List<PathToCheck> headPaths, Map<String, List<PathToCheck>> checkpointPaths) {
        for (PathToCheck path : headPaths) {
            if (path.journalEntry == null) {
```

### BoundedWildcard
Can generalize to `? extends ClusterNodeInfoDocument`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
    }

    private static void print(List<ClusterNodeInfoDocument> docs, boolean verbose) {

        String sId = "Id";
```

### BoundedWildcard
Can generalize to `? extends ClusterNodeInfoDocument`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
    }

    private static void printRaw(Iterable<ClusterNodeInfoDocument> docs) {
        Map<Object, Object> rawEntries = new HashMap<>();
        for (ClusterNodeInfoDocument c : docs) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
     *            value
     */
    private static void list(PrintStream out, List<String> header, List<Map<String, String>> body) {
        // find column widths
        Map<String, Integer> widths = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
    }

    private static void scanReferrerPaths(List<String> paths, String parentPath, NodeState referenceChildNodeState) {
        for (ChildNodeEntry e : referenceChildNodeState.getChildNodeEntries()) {
            String childName = e.getName();
```

### BoundedWildcard
Can generalize to `? extends OptionSpec`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreOptions.java`
#### Snippet
```java
    }

    private static Set<String> collectionOperationNames(Set<OptionSpec> actionOpts) {
        Set<String> result = new HashSet<>();
        for (OptionSpec spec : actionOpts){
```

### BoundedWildcard
Can generalize to `? extends V`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Downloader.java`
#### Snippet
```java
        private final Callable<V> callable;

        public RetryingCallable(Callable<V> callable) {
            this.callable = callable;
        }
```

### BoundedWildcard
Can generalize to `? super NodeState`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        private void getInclusionListFromRegex(NodeState rootState, String rootPath, String inclusionRegex,
            Map<NodeState, String> inclusionNodeStates) {
            Splitter delimSplitter = Splitter.on("/").trimResults().omitEmptyStrings();
            List<String> pathElementList = delimSplitter.splitToList(inclusionRegex);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java

        private void getInclusionListFromRegex(NodeState rootState, String rootPath, String inclusionRegex,
            Map<NodeState, String> inclusionNodeStates) {
            Splitter delimSplitter = Splitter.on("/").trimResults().omitEmptyStrings();
            List<String> pathElementList = delimSplitter.splitToList(inclusionRegex);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                                              Charset cs, File tmpdirectory,
                                              boolean distinct, int numHeader, Compression algorithm,
                                              Function<T, String> typeToString, Function<String, T> stringToType)
            throws IOException {
        List<File> files = new ArrayList<File>();
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                                              Charset cs, File tmpdirectory,
                                              boolean distinct, int numHeader, Compression algorithm,
                                              Function<T, String> typeToString, Function<String, T> stringToType)
            throws IOException {
        List<File> files = new ArrayList<File>();
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
     *
     */
    public static <T> int merge(BufferedWriter fbw, final Comparator<T> cmp, boolean distinct,
                                List<BinaryFileBuffer<T>> buffers, Function<T, String> typeToString)
            throws IOException {
```

### BoundedWildcard
Can generalize to `? extends BinaryFileBuffer`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
     */
    public static <T> int merge(BufferedWriter fbw, final Comparator<T> cmp, boolean distinct,
                                List<BinaryFileBuffer<T>> buffers, Function<T, String> typeToString)
            throws IOException {
        PriorityQueue<BinaryFileBuffer<T>> pq = new PriorityQueue<>(
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
     */
    public static <T> int merge(BufferedWriter fbw, final Comparator<T> cmp, boolean distinct,
                                List<BinaryFileBuffer<T>> buffers, Function<T, String> typeToString)
            throws IOException {
        PriorityQueue<BinaryFileBuffer<T>> pq = new PriorityQueue<>(
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
     *        purpose of sorting
     */
    public static <T> File sortAndSave(List<T> tmplist,
                                       Comparator<T> cmp, Charset cs, File tmpdirectory,
                                       boolean distinct, Compression algorithm, Function<T, String> typeToString) throws IOException {
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
     */
    public static <T> File sortAndSave(List<T> tmplist,
                                       Comparator<T> cmp, Charset cs, File tmpdirectory,
                                       boolean distinct, Compression algorithm, Function<T, String> typeToString) throws IOException {
        Collections.sort(tmplist, cmp);
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    public static <T> File sortAndSave(List<T> tmplist,
                                       Comparator<T> cmp, Charset cs, File tmpdirectory,
                                       boolean distinct, Compression algorithm, Function<T, String> typeToString) throws IOException {
        Collections.sort(tmplist, cmp);
        File newtmpfile = File.createTempFile("sortInBatch",
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    private boolean empty;

    public BinaryFileBuffer(BufferedReader r, Function<String, T> stringToType)
            throws IOException {
        this.fbr = r;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    private boolean empty;

    public BinaryFileBuffer(BufferedReader r, Function<String, T> stringToType)
            throws IOException {
        this.fbr = r;
```

### BoundedWildcard
Can generalize to `? extends File`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
     * @since v0.1.4
     */
    public static <T> int mergeSortedFiles(List<File> files,
            BufferedWriter fbw, final Comparator<T> cmp, Charset cs, boolean distinct, Compression algorithm,
            Function<T, String> typeToString, Function<String, T> stringToType) throws IOException {
```

### BoundedWildcard
Can generalize to `? extends BinaryResource`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
    }

    public void generate(FluentIterable<BinaryResource> binaries) throws IOException {
        Closer closer = Closer.create();
        int count = 0;
```

### BoundedWildcard
Can generalize to `? extends MimeTypeStats`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/BinaryStats.java`
#### Snippet
```java
    }

    private String getSummary(List<MimeTypeStats> stats) {
        int maxWidth = 0;
        for (MimeTypeStats s : stats) {
```

### BoundedWildcard
Can generalize to `? extends Result`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ResultWriter.java`
#### Snippet
```java
    private final Consumer<String> resultConsumer;

    public ResultWriter(BlockingQueue<Result> results,
                        Consumer<String> resultConsumer) {
        this.results = results;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ResultWriter.java`
#### Snippet
```java

    public ResultWriter(BlockingQueue<Result> results,
                        Consumer<String> resultConsumer) {
        this.results = results;
        this.resultConsumer = resultConsumer;
```

### BoundedWildcard
Can generalize to `? super Result`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Progress.java`
#### Snippet
```java
    @Override
    public void processDocument(@NotNull NodeDocument document,
                                @NotNull BlockingQueue<Result> results)
            throws InterruptedException {
        if (++numDocuments % 10000 == 0) {
```

### BoundedWildcard
Can generalize to `? extends BinaryResource`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
    }

    public void extract(Iterable<BinaryResource> binaries) throws InterruptedException, IOException {
        initialize();
        for (BinaryResource binary : binaries) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
    }

    private static void addAllProperties(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getProperties().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super Boolean`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
    }

    private static void addAllProperties(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getProperties().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
    }

    private static void addAllChildren(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getChildren().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super Result`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/AsyncNodeStateProcessor.java`
#### Snippet
```java

        public NodeStateTask(@NotNull NodeDocument document,
                             @NotNull BlockingQueue<Result> results) {
            this.document = document;
            this.results = results;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/AsyncNodeStateProcessor.java`
#### Snippet
```java
     */
    protected final @Nullable NodeState getNodeByUUID(@NotNull String uuid,
                                                      @NotNull AtomicReference<String> resolvedPath) {
        PropertyState entry = uuidIndex.getChildNode(uuid).getProperty("entry");
        NodeState state = null;
```

### BoundedWildcard
Can generalize to `? super Boolean`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
    }

    private static void addAllChildren(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getChildren().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super Result`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/ReferenceCheck.java`
#### Snippet
```java
    private void checkReference(@NotNull Path path,
                                @NotNull String ref,
                                @NotNull Consumer<Result> resultConsumer) {
        AtomicReference<String> resolvedPath = new AtomicReference<>("");
        NodeState target = getNodeByUUID(ref, resolvedPath);
```

### BoundedWildcard
Can generalize to `? super Result`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/OrphanedNodeCheck.java`
#### Snippet
```java
                      RevisionVector headRevision,
                      NodeDocument doc,
                      BlockingQueue<Result> results) {
            this.ns = ns;
            this.headRevision = headRevision;
```

### BoundedWildcard
Can generalize to `? extends DocumentProcessor`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/CompositeDocumentProcessor.java`
#### Snippet
```java
    private final List<DocumentProcessor> processors;

    private CompositeDocumentProcessor(List<DocumentProcessor> processors) {
        this.processors = processors;
    }
```

### BoundedWildcard
Can generalize to `? extends DocumentProcessor`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/CompositeDocumentProcessor.java`
#### Snippet
```java
    }

    public static DocumentProcessor compose(Iterable<DocumentProcessor> processors) {
        List<DocumentProcessor> processorList = new ArrayList<>();
        processors.forEach(processorList::add);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
    }

    private static void addAllProperties(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getProperties().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super Boolean`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
    }

    private static void addAllProperties(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getProperties().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
    }

    private static void addAllChildren(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getChildren().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super Boolean`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
    }

    private static void addAllChildren(JsonObject source, LinkedHashMap<String, Boolean> target) {
        for(String k : source.getChildren().keySet()) {
            target.put(k,  true);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java

    private static String mergeProperty(String path, String property, JsonObject ancestor, JsonObject custom, JsonObject product,
            ArrayList<String> conflicts) {
        if (USE_PRODUCT_PROPERTY.contains(property)) {
            return product.getProperties().get(property);
```

### BoundedWildcard
Can generalize to `? super UUID`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java

    @Override
    public void getGcRoots(UUID uuidIn, Map<UUID, Set<Map.Entry<UUID, String>>> links) throws IOException {
        Deque<UUID> todos = new ArrayDeque<UUID>();
        todos.add(uuidIn);
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/indexversion/LuceneIndexVersionOperation.java`
#### Snippet
```java

    @Override
    protected IndexName getActiveIndex(List<IndexName> reverseSortedIndexNameList, String parentPath, NodeState rootNode) {
        // iterate all indexes from high version to lower version to find the active index, then remove it from the reverseSortedIndexNameList
        for (int i = 0; i < reverseSortedIndexNameList.size(); i++) {
```

### BoundedWildcard
Can generalize to `? extends WorkspaceInitializer`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/OakInitializer.java`
#### Snippet
```java
    }

    public static void initialize(@NotNull Iterable<WorkspaceInitializer> initializer,
                                  @NotNull NodeStore store,
                                  @NotNull String workspaceName,
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
    }

    private static void filterNodeStates(Set<UUID> uuids, List<String> paths, NodeState state, String path, ExplorerBackend store) {
        Set<String> localPaths = newTreeSet();
        for (PropertyState ps : state.getProperties()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
    }

    private static Long[] exploreSize(NodeState ns, Map<String, Long[]> sizeCache, ExplorerBackend store) {
        String key = store.getRecordId(ns);
        if (sizeCache.containsKey(key)) {
```

### BoundedWildcard
Can generalize to `? extends Set`>
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
    private static final String newline = "\n";

    private static void printGcRoots(StringBuilder sb, Map<UUID, Set<Entry<UUID, String>>> links, UUID uuid, String space, String inc) {
        Set<Entry<UUID, String>> roots = links.remove(uuid);

```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        private boolean init;

        OffsetIterator(Iterator<K> source, long offset) {
            this.source = source;
            this.offset = offset;
```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        private final int max;

        SortIterator(Iterator<K> source, Comparator<K> orderBy, int max, QueryLimits settings) {
            this.source = source;
            this.orderBy = orderBy;
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        private final int max;

        SortIterator(Iterator<K> source, Comparator<K> orderBy, int max, QueryLimits settings) {
            this.source = source;
            this.orderBy = orderBy;
```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        private boolean end;

        DistinctIterator(Iterator<K> source, QueryLimits settings) {
            this.source = source;
            this.settings = settings;
```

### BoundedWildcard
Can generalize to `? extends K`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/FilterIterators.java`
#### Snippet
```java
        private long count;

        LimitIterator(Iterator<K> source, long limit) {
            this.source = source;
            this.limit = limit;
```

### BoundedWildcard
Can generalize to `? super ColumnImpl`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java

    private void addWildcardColumns(
            Collection<ColumnImpl> columns, SelectorImpl selector) {
        String selectorName = selector.getSelectorName();
        for (String propertyName : selector.getWildcardColumns()) {
```

### BoundedWildcard
Can generalize to `? extends ColumnOrWildcard`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
    }

    private ColumnImpl[] resolveColumns(ArrayList<ColumnOrWildcard> list) throws ParseException {
        ArrayList<ColumnImpl> columns = new ArrayList<ColumnImpl>();
        for (ColumnOrWildcard c : list) {
```

### BoundedWildcard
Can generalize to `? extends ResultRowImpl`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/UnionQueryImpl.java`
#### Snippet
```java
        private final Iterator<ResultRowImpl> delegate;

        MappingRowIterator(Map<String, String> columnToFacetMap, Iterator<ResultRowImpl> delegate) {
            super();
            this.columnToFacetMap = columnToFacetMap;
```

### BoundedWildcard
Can generalize to `? extends JoinConditionImpl`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
    }
    
    private static SourceImpl buildJoin(SourceImpl result, SourceImpl last, List<JoinConditionImpl> conditions) {
        if (result == null) {
            return last;
```

### BoundedWildcard
Can generalize to `? super PropertyValue`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
    }
    
    private void readOakProperties(ArrayList<PropertyValue> target, Tree t, String oakPropertyName, Integer propertyType) {
        boolean skipCurrentNode = false;

```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private static String dumpIndexData(DatabaseMetaData met, ResultSetMetaData rmet, String tableName, Set<String> indexedColumns) {

        ResultSet rs = null;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private <T extends Document> Map<String, T> readDocumentsUncached(Collection<T> collection, Set<String> keys) {
        Map<String, T> result = new HashMap<String, T>();

```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    @NotNull
    private <T extends Document> T createNewDocument(Collection<T> collection, T oldDoc, UpdateOp update) {
        T doc = collection.newDocument(this);
        oldDoc.deepCopy(doc);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private <T extends Document> void toMapBuilder(ImmutableMap.Builder<String, String> builder, Collection<T> collection, RDBTableMetaData meta) {
        String prefix = collection.toString();
        builder.put(prefix + ".ns", meta.getCatalog() + "." + meta.getName());
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private <T extends Document> void toMapBuilder(ImmutableMap.Builder<String, String> builder, Collection<T> collection, RDBTableMetaData meta) {
        String prefix = collection.toString();
        builder.put(prefix + ".ns", meta.getCatalog() + "." + meta.getName());
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private <T extends Document> List<T> internalQuery(Collection<T> collection, String fromKey, String toKey,
            List<String> excludeKeyPatterns, List<QueryCondition> conditions, int limit) {
        Connection connection = null;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private void createTableFor(Connection con, Collection<? extends Document> col, RDBTableMetaData tmd, List<String> tablesCreated,
            List<String> tablesPresent, int initialSchema, int upgradeToSchema) throws SQLException {

```

### BoundedWildcard
Can generalize to `? super String`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private void createTableFor(Connection con, Collection<? extends Document> col, RDBTableMetaData tmd, List<String> tablesCreated,
            List<String> tablesPresent, int initialSchema, int upgradeToSchema) throws SQLException {

        String dbname = this.dbInfo.toString();
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    protected <T extends Document> Iterable<T> queryAsIterable(final Collection<T> collection, String fromKey, String toKey,
            final List<String> excludeKeyPatterns, final List<QueryCondition> conditions, final int limit, final String sortBy) {

```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    private <T extends Document> boolean insertDocuments(Collection<T> collection, List<T> documents) {
        Connection connection = null;
        RDBTableMetaData tmd = getTable(collection);
```

### BoundedWildcard
Can generalize to `? extends QueryStatsData`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
    }
    
    private TabularData asTabularData(ArrayList<QueryStatsData> list) {
        TabularDataSupport tds = null;
        try {
```

### BoundedWildcard
Can generalize to `? extends Order`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
     * @param orderList - the list (modified in-place)
     */
    private static void ignoreOrderByScoreDesc(ArrayList<Order> orderList) {
        if (orderList.size() != 1) {
            return;
```

### BoundedWildcard
Can generalize to `? super Expression`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
    }
    
    private static void addToUnionList(Expression condition,  ArrayList<Expression> unionList) {
        if (condition instanceof OrCondition) {
            OrCondition or = (OrCondition) condition;
```

### BoundedWildcard
Can generalize to `? extends Selector`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
    }

    public void setSelectors(ArrayList<Selector> selectors) {
        this.selectors = selectors;
    }
```

### BoundedWildcard
Can generalize to `? extends IndexEditorProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/CompositeIndexEditorProvider.java`
#### Snippet
```java
    private final List<IndexEditorProvider> providers;

    private CompositeIndexEditorProvider(List<IndexEditorProvider> providers) {
        this.providers = providers;
    }
```

### BoundedWildcard
Can generalize to `? extends IndexEditorProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/CompositeIndexEditorProvider.java`
#### Snippet
```java
    @NotNull
    public static IndexEditorProvider compose(
            @NotNull Collection<IndexEditorProvider> providers) {
        if (providers.isEmpty()) {
            return new IndexEditorProvider() {
```

### BoundedWildcard
Can generalize to `? extends Cursor`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/ConcatCursor.java`
#### Snippet
```java
    private IndexRow current;

    ConcatCursor(List<Cursor> cursors, QueryLimits settings) {
        this.cursors = cursors;
        this.settings = settings;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
    }

    private void prefetchRelative(Set<String> target, String p) {
        try {
            for (String r : prefetchRelative) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                                  NodeState after, String afterCheckpoint, String afterTime,
                                  AsyncUpdateCallback callback,
                                  AtomicReference<String> checkpointToReleaseRef) throws CommitFailedException {
        Stopwatch watch = Stopwatch.createStarted();
        boolean updatePostRunStatus = true;
```

### BoundedWildcard
Can generalize to `? extends ValidatorProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    }

    private static void mergeWithConcurrencyCheck(final NodeStore store, List<ValidatorProvider> validatorProviders,
                                                  NodeBuilder builder, final String checkpoint, final Long lease,
                                                  final String name) throws CommitFailedException {
```

### BoundedWildcard
Can generalize to `? extends IndexPlan`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/aggregate/AggregateIndexPlan.java`
#### Snippet
```java
    }
    
    void setPlan(String path, List<IndexPlan> plans) {
        if (plans.size() == 0) {
            // no index
```

### BoundedWildcard
Can generalize to `? extends IndexInfo`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java
    }

    private void revertLaneChange(NodeBuilder builder, List<IndexInfo> indexInfos) {
        for (IndexInfo info : indexInfos) {
            NodeBuilder idxBuilder = NodeStoreUtils.childBuilder(builder, info.indexPath);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/FilteringIndexStoreStrategy.java`
#### Snippet
```java

    public FilteringIndexStoreStrategy(IndexStoreStrategy strategy,
            Predicate<String> filter, boolean readOnly) {
        this.strategy = strategy;
        this.filter = filter;
```

### BoundedWildcard
Can generalize to `? extends Set`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextWriter.java`
#### Snippet
```java
        private int loadCount;

        public SetHolder(Callable<Set<String>> loader, boolean softRef) {
            this.loader = loader;
            if (softRef) {
```

### BoundedWildcard
Can generalize to `? extends Clusterable`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
     * @param whiteboard the underlying board for picking up the registered {@link CommitHook}
     */
    public AtomicCounterEditorProvider(@Nullable Supplier<Clusterable> clusterInfo, 
                                       @Nullable Supplier<ScheduledExecutorService> executor,
                                       @Nullable Supplier<NodeStore> store,
```

### BoundedWildcard
Can generalize to `? extends ScheduledExecutorService`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
     */
    public AtomicCounterEditorProvider(@Nullable Supplier<Clusterable> clusterInfo, 
                                       @Nullable Supplier<ScheduledExecutorService> executor,
                                       @Nullable Supplier<NodeStore> store,
                                       @Nullable Supplier<Whiteboard> whiteboard) {
```

### BoundedWildcard
Can generalize to `? extends NodeStore`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
    public AtomicCounterEditorProvider(@Nullable Supplier<Clusterable> clusterInfo, 
                                       @Nullable Supplier<ScheduledExecutorService> executor,
                                       @Nullable Supplier<NodeStore> store,
                                       @Nullable Supplier<Whiteboard> whiteboard) {
        this.clusterSupplier = clusterInfo;
```

### BoundedWildcard
Can generalize to `? extends Whiteboard`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
                                       @Nullable Supplier<ScheduledExecutorService> executor,
                                       @Nullable Supplier<NodeStore> store,
                                       @Nullable Supplier<Whiteboard> whiteboard) {
        this.clusterSupplier = clusterInfo;
        this.schedulerSupplier = executor;
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceEditor.java`
#### Snippet
```java
    }

    private static void put(Map<String, Set<String>> map,
            Iterable<String> keys, String value) {
        String asRelative = isAbsolute(value) ? value.substring(1) : value;
```

### BoundedWildcard
Can generalize to `? extends IndexStoreStrategy`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceEditor.java`
#### Snippet
```java
    }

    private static void checkReferentialIntegrity(Set<IndexStoreStrategy> refStores,
                                           NodeState root,
                                           NodeState definition,
```

### BoundedWildcard
Can generalize to `? extends IndexStoreStrategy`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceEditor.java`
#### Snippet
```java
    }

    private void update(Set<IndexStoreStrategy> refStores,
            NodeBuilder definition, String name, String key, Set<String> add,
            Set<String> rm) throws CommitFailedException {
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java

    private <T> Iterable<T> query0(Filter filter, String indexName, NodeState indexMeta,
            Iterable<String> values, HitProducer<T> prod) {
        final NodeState index = indexMeta.getChildNode(getIndexNodeName());
        return new Iterable<T>() {
```

### BoundedWildcard
Can generalize to `? super NodeBuilder`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
    }

    public UniqueEntryStoreStrategy(String indexName, @NotNull Consumer<NodeBuilder> insertCallback) {
        this.indexName = indexName;
        this.insertCallback = insertCallback;
```

### BoundedWildcard
Can generalize to `? extends NodeBuilder`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
    
    @Override
    public boolean exists(Supplier<NodeBuilder> index, String key) {
        return index.get().hasChildNode(key);
    }
```

### BoundedWildcard
Can generalize to `? extends NodeBuilder`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
    @Override
    public void update(
            Supplier<NodeBuilder> index, String path,
            @Nullable final String indexName,
            @Nullable final NodeBuilder indexMeta,
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableCollector.java`
#### Snippet
```java
    private final Set<String> existingVersionables;

    VersionableCollector(ReadWriteVersionManager vMgr, Set<String> existingVersionables) {
        this.vMgr = vMgr;
        this.existingVersionables = existingVersionables;
```

### BoundedWildcard
Can generalize to `? extends NodeBuilder`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java`
#### Snippet
```java
    @Override
    public void update(
            Supplier<NodeBuilder> index, String path,
            @Nullable final String indexName,
            @Nullable final NodeBuilder indexMeta,
```

### BoundedWildcard
Can generalize to `? extends NodeBuilder`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java`
#### Snippet
```java
     * @param key the key of the index we're processing
     */
    void prune(final NodeBuilder index, final Deque<NodeBuilder> builders, final String key) {
        for (NodeBuilder node : builders) {
            if (node.getBoolean("match") || node.getChildNodeCount(1) > 0) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java

    private void addSubtypes(
            String typeName, Map<String, NodeType> subtypes,
            Tree root, Map<String, Set<String>> inheritance) {
        Set<String> subnames = inheritance.get(typeName);
```

### BoundedWildcard
Can generalize to `? super NodeType`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java

    private void addSubtypes(
            String typeName, Map<String, NodeType> subtypes,
            Tree root, Map<String, Set<String>> inheritance) {
        Set<String> subnames = inheritance.get(typeName);
```

### BoundedWildcard
Can generalize to `? extends Set`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
    private void addSubtypes(
            String typeName, Map<String, NodeType> subtypes,
            Tree root, Map<String, Set<String>> inheritance) {
        Set<String> subnames = inheritance.get(typeName);
        if (subnames != null) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
    }

    private void addSupertypes(Tree type, Map<String, NodeType> supertypes) {
        PropertyState property = type.getProperty(JCR_SUPERTYPES);
        if (property != null) {
```

### BoundedWildcard
Can generalize to `? super NodeType`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
    }

    private void addSupertypes(Tree type, Map<String, NodeType> supertypes) {
        PropertyState property = type.getProperty(JCR_SUPERTYPES);
        if (property != null) {
```

### BoundedWildcard
Can generalize to `? extends ChildNodeDefDiff`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
        }

        private boolean alreadyMatched(final List<ChildNodeDefDiff> result, final NodeDefinition newDef, final NodeDefinition oldDef, final AtomicInteger allowedNewNull, final AtomicInteger allowedOldNull) {
            boolean containsNewDef = false, containsOldDef = false;
            for (ChildNodeDefDiff d : result) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionHistoryUtil.java`
#### Snippet
```java


    private static void getVersionableNodes(NodeState node, NodeState versionStorage, TypePredicate isVersionable, Calendar olderThan, String path, List<String> paths) {
        if (isVersionable.test(node)) {
            if (olderThan == null) {
```

### BoundedWildcard
Can generalize to `? extends EventFilter`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/Filters.java`
#### Snippet
```java
     */
    @NotNull
    public static EventFilter all(@NotNull final List<EventFilter> filters) {
        if (checkNotNull(filters).isEmpty()) {
            return INCLUDE_ALL;
```

### BoundedWildcard
Can generalize to `? extends EventFilter`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/Filters.java`
#### Snippet
```java
     */
    @NotNull
    public static EventFilter any(@NotNull final List<EventFilter> filters) {
        if (checkNotNull(filters).isEmpty()) {
            return EXCLUDE_ALL;
```

### BoundedWildcard
Can generalize to `? extends Authorizable`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/InheritedMembersIterator.java`
#### Snippet
```java
    private Iterator<Authorizable> dynamicMembers;

    InheritedMembersIterator(@NotNull Iterator<Authorizable> members, @NotNull DynamicMembershipProvider dynamicMembershipProvider) {
        this.members = members;
        this.dynamicMembershipProvider = dynamicMembershipProvider;
```

### BoundedWildcard
Can generalize to `? extends DynamicMembershipService`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/DynamicMembershipTracker.java`
#### Snippet
```java
                                                            @NotNull NamePathMapper namePathMapper, 
                                                            @NotNull DynamicMembershipProvider defaultProvider, 
                                                            @NotNull List<DynamicMembershipService> services) {
        List<DynamicMembershipProvider> providers = new ArrayList<>(1+services.size());
        providers.add(defaultProvider);
```

### BoundedWildcard
Can generalize to `? extends DynamicMembershipProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/DynamicMembershipTracker.java`
#### Snippet
```java
        private final List<DynamicMembershipProvider> providers;
        
        private CompositeProvider(@NotNull List<DynamicMembershipProvider> providers) {
            this.providers = providers;
        }
```

### BoundedWildcard
Can generalize to `? extends Tree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableIterator.java`
#### Snippet
```java

    @NotNull
    static AuthorizableIterator create(@NotNull Iterator<Tree> authorizableTrees,
                                       @NotNull UserManagerImpl userManager,
                                       @NotNull AuthorizableType authorizableType) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
        @NotNull
        Map<String, Authorizable> getAuthorizablesToAdd(@NotNull Group gr, @NotNull Map<String, Authorizable> toRemove,
                                                        @NotNull Map<String, String> nonExisting) throws RepositoryException {
            Map<String, Authorizable> toAdd = Maps.newHashMapWithExpectedSize(members.size());
            for (String contentId : members) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
        @NotNull
        Map<String, Authorizable> getAuthorizablesToAdd(@NotNull Group gr, @NotNull Map<String, Authorizable> toRemove,
                                                        @NotNull Map<String, String> nonExisting) throws RepositoryException {
            Map<String, Authorizable> toAdd = Maps.newHashMapWithExpectedSize(members.size());
            for (String contentId : members) {
```

### BoundedWildcard
Can generalize to `? extends PropInfo`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java

    @Override
    public void startChildInfo(@NotNull NodeInfo childInfo, @NotNull List<PropInfo> propInfos) {
        checkState(currentMembership != null);

```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
        @NotNull
        private List<String> updateImpersonators(@NotNull Authorizable a, @NotNull Impersonation imp,
                                                 @NotNull Map<String, Principal> toRemove, @NotNull List<String> toAdd) throws RepositoryException {
            for (Principal p : toRemove.values()) {
                if (!imp.revokeImpersonation(p)) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/MembershipProvider.java`
#### Snippet
```java
        private Iterator<Tree> parent;

        AbstractMemberIterator(@NotNull Iterator<T> references) {
            this.references = references;
        }
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/MembershipProvider.java`
#### Snippet
```java
                                        @NotNull final String groupContentId,
                                        final boolean includeInherited,
                                        @NotNull final Set<String> processedRefs) {
        MemberReferenceIterator mrit = new MemberReferenceIterator(groupTree) {
            @Override
```

### BoundedWildcard
Can generalize to `? super Principal`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
    }

    private boolean readGroupsFromCache(@NotNull Tree authorizableNode, @NotNull Set<Principal> groups) {
        Tree principalCache = authorizableNode.getChild(CacheConstants.REP_CACHE);
        if (!principalCache.exists()) {
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
    }

    private void cacheGroups(@NotNull Tree authorizableNode, @NotNull Set<Principal> groupPrincipals) {
        try {
            root.refresh();
```

### BoundedWildcard
Can generalize to `? extends Condition`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
        private final Iterable<Condition> conditions;

        public AllCondition(Iterable<Condition> conditions) {
            this.conditions = conditions;
        }
```

### BoundedWildcard
Can generalize to `? extends Condition`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
        private final Iterable<Condition> conditions;

        public AnyCondition(Iterable<Condition> conditions) {
            this.conditions = conditions;
        }
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/ResultIterator.java`
#### Snippet
```java
     * @throws IllegalArgumentException if offset is negative
     */
    private ResultIterator(long offset, long max, Iterator<T> iterator) {
        if (offset < OFFSET_NONE) {
            throw new IllegalArgumentException("Offset must not be negative");
```

### BoundedWildcard
Can generalize to `? extends Group`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/autosave/AuthorizableWrapper.java`
#### Snippet
```java
    }

    static Iterator<Group> createGroupIterator(Iterator<Group> dlgs, AutoSaveEnabledManager mgr) {
        return Iterators.transform(dlgs, new AuthorizableWrapper<>(mgr));
    }
```

### BoundedWildcard
Can generalize to `? extends Authorizable`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/autosave/AuthorizableWrapper.java`
#### Snippet
```java
    }

    static Iterator<Authorizable> createIterator(Iterator<Authorizable> dlgs, AutoSaveEnabledManager mgr) {
        return Iterators.transform(dlgs, new AuthorizableWrapper<>(mgr));
    }
```

### BoundedWildcard
Can generalize to `? extends PrivilegeDefinition`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeDefinitionWriter.java`
#### Snippet
```java
     * @throws RepositoryException If the privilege store is missing or if there is a privilege registered with the same name.
     */
    private void writeDefinitions(@NotNull Iterable<PrivilegeDefinition> definitions) throws RepositoryException {
        try {
            // make sure the privileges path is defined
```

### BoundedWildcard
Can generalize to `? extends PrivilegeDefinition`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeValidator.java`
#### Snippet
```java

    private static boolean isCircularAggregation(@NotNull String privilegeName, @NotNull String aggregateName,
                                                 @NotNull Map<String, PrivilegeDefinition> definitions) {
        if (privilegeName.equals(aggregateName)) {
            return true;
```

### BoundedWildcard
Can generalize to `? extends PrivilegeDefinition`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeValidator.java`
#### Snippet
```java

    @NotNull
    private static Set<String> resolveAggregates(@NotNull Set<String> declared, @NotNull Map<String, PrivilegeDefinition> definitions) throws CommitFailedException {
        Set<String> aggregateNames = new HashSet<>();
        for (String name : declared) {
```

### BoundedWildcard
Can generalize to `? super AggregatedPermissionProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositePermissionProvider.java`
#### Snippet
```java
    }

    private long supportedPermissions(Function<AggregatedPermissionProvider, Long> supported) {
        long coveredPermissions = Permissions.NO_PERMISSION;
        for (AggregatedPermissionProvider aggregatedPermissionProvider : pps) {
```

### BoundedWildcard
Can generalize to `? super PermissionEntry`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionEntryCache.java`
#### Snippet
```java

    void load(@NotNull PermissionStore store,
              @NotNull Collection<PermissionEntry> ret,
              @NotNull String principalName,
              @NotNull String path) {
```

### BoundedWildcard
Can generalize to `? extends Tree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeTreePermission.java`
#### Snippet
```java
    }

    private static TreePermission create(@NotNull Supplier<Tree> lazyTree,
                                         @NotNull String childName, @NotNull NodeState childState,
                                         @NotNull CompositeTreePermission parentPermission,
```

### BoundedWildcard
Can generalize to `? extends AccessControlManager`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
                                         @NotNull NamePathMapper namePathMapper,
                                         @NotNull SecurityProvider securityProvider,
                                         @NotNull List<AccessControlManager> acMgrs,
                                         @NotNull AggregationFilter aggregationFilter) {
        super(root, namePathMapper, securityProvider);
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionCacheBuilder.java`
#### Snippet
```java
        private final Map<String, Collection<PermissionEntry>> pathEntryMap;

        PathEntryMapCache(@NotNull Map<String, Collection<PermissionEntry>> pathEntryMap) {
            this.pathEntryMap = pathEntryMap;
        }
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionUtil.java`
#### Snippet
```java
    }

    public static boolean isAdminOrSystem(@NotNull Set<Principal> principals, @NotNull ConfigurationParameters config) {
        if (principals.contains(SystemPrincipal.INSTANCE)) {
            return true;
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PrincipalPermissionEntries.java`
#### Snippet
```java
    }

    void putAllEntries(@NotNull Map<String, Collection<PermissionEntry>> allEntries) {
        entries.putAll(allEntries);
        setFullyLoaded(true);
```

### BoundedWildcard
Can generalize to `? extends AcEntry`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionStoreEditor.java`
#### Snippet
```java
    }

    private void updateEntries(@NotNull NodeBuilder parent, @NotNull List<AcEntry> list) {
        // remove old entries
        for (String childName : parent.getChildNodeNames()) {
```

### BoundedWildcard
Can generalize to `? extends PermissionStore`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/MountPermissionProvider.java`
#### Snippet
```java
        private final List<PermissionStore> stores;

        MountPermissionStore(List<PermissionStore> stores) {
            this.stores = stores;
        }
```

### BoundedWildcard
Can generalize to `? extends Restriction`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/PrincipalRestrictionProvider.java`
#### Snippet
```java

    @Override
    public void writeRestrictions(@Nullable String oakPath, @NotNull Tree aceTree, @NotNull Set<Restriction> restrictions) throws RepositoryException {
        Set<Restriction> rs = Sets.newHashSet(restrictions);
        rs.removeIf(r -> REP_NODE_PATH.equals(r.getDefinition().getName()));
```

### BoundedWildcard
Can generalize to `? extends Restriction`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/RestrictionProviderImpl.java`
#### Snippet
```java
    @NotNull
    @Override
    public RestrictionPattern getPattern(@Nullable String oakPath, @NotNull Set<Restriction> restrictions) {
        if (oakPath == null || restrictions.isEmpty()) {
            return RestrictionPattern.EMPTY;
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/Util.java`
#### Snippet
```java
    }

    static boolean checkValidPrincipals(@Nullable Set<Principal> principals,
                                        @NotNull PrincipalManager principalManager,
                                        int importBehavior) throws AccessControlException {
```

### BoundedWildcard
Can generalize to `? extends PropInfo`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlImporter.java`
#### Snippet
```java
        }

        private void addRestrictions(List<PropInfo> propInfos) throws RepositoryException {
            for (PropInfo prop : propInfos) {
                addRestriction(prop);
```

### BoundedWildcard
Can generalize to `? extends ACE`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/ACL.java`
#### Snippet
```java
    private final List<ACE> entries = new ArrayList<>();

    ACL(@Nullable String oakPath, @Nullable List<ACE> entries, @NotNull NamePathMapper namePathMapper) {
        super(oakPath, namePathMapper);
        if (entries != null) {
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/CugExclude.java`
#### Snippet
```java

        @Override
        public boolean isExcluded(@NotNull Set<Principal> principals) {
            if (principals.isEmpty()) {
                return true;
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugExcludeImpl.java`
#### Snippet
```java

    @Override
    public boolean isExcluded(@NotNull Set<Principal> principals) {
        if (super.isExcluded(principals)) {
            return true;
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
    @NotNull
    @Override
    public AccessControlPolicy[] getEffectivePolicies(@NotNull Set<Principal> principals) {
        if (!config.getConfigValue(CugConstants.PARAM_CUG_ENABLED, false)) {
            return new AccessControlPolicy[0];
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/management/RepositoryManager.java`
#### Snippet
```java
    }

    private <T> Iterable<Status> executeAll(Class<T> serviceType, Function<T, Status> operation) {
        Tracker<T> tracker = whiteboard.track(serviceType);
        List<Status> statuses = newArrayList();
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/management/RepositoryManager.java`
#### Snippet
```java
    }

    private <T> Status execute(Class<T> serviceType, Function<T, Status> operation, Map<String, String> filter) {
        Tracker<T> tracker;
        if (filter.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
         */
        private void getParentLevels(long assetNum, long maxAssets,
                List<String> levels) {

            int maxAssetsNextLevel =
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java

    @NotNull
    private static Result searchAces(@NotNull Set<Principal> principals, @NotNull Root root) throws RepositoryException {
        StringBuilder stmt = new StringBuilder(QueryConstants.SEARCH_ROOT_PATH);
        stmt.append("//element(*,");
```

### BoundedWildcard
Can generalize to `? super Tree`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
                                                  @NotNull Tree accessControlledTree,
                                                  boolean isEffectivePolicy,
                                                  @NotNull Predicate<Tree> predicate) throws RepositoryException {
        if (!accessControlledTree.exists() || !Util.isAccessControlled(oakPath, accessControlledTree, ntMgr)) {
            return null;
```

### BoundedWildcard
Can generalize to `? extends BundleDescriptor`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/SpringBootSupport.java`
#### Snippet
```java
    public static final String SPRING_BOOT_PACKAGE = "org.springframework.boot.loader.jar";

    public static List<BundleDescriptor> processDescriptors(List<BundleDescriptor> descriptors)
            throws IOException {
        List<BundleDescriptor> processed = Lists.newArrayList();
```

### BoundedWildcard
Can generalize to `? super Repository`
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java

        public RepositoryTracker(PojoServiceRegistry registry, BundleActivator activator,
                                 SettableFuture<Repository> repoFuture, int timeoutInSecs) {
            super(registry.getBundleContext(), Repository.class.getName(), null);
            this.repoFuture = repoFuture;
```

### BoundedWildcard
Can generalize to `? super StatsRequestDescriptor`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java
    ElasticIndexStatistics(@NotNull ElasticConnection elasticConnection,
                           @NotNull ElasticIndexDefinition indexDefinition,
                           @NotNull LoadingCache<StatsRequestDescriptor, Integer> countCache) {
        this.elasticConnection = elasticConnection;
        this.indexDefinition = indexDefinition;
```

### BoundedWildcard
Can generalize to `? super K`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexStatistics.java`
#### Snippet
```java

    static <K, V> LoadingCache<K, V> setupCache(long maxSize, long expireSeconds, long refreshSeconds,
                                                @NotNull CacheLoader<K, V> cacheLoader, @Nullable Ticker ticker) {
        CacheBuilder<Object, Object> cacheBuilder = CacheBuilder.newBuilder()
                .maximumSize(maxSize)
```

### BoundedWildcard
Can generalize to `? super PropertyValue`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/util/TermQueryBuilderFactory.java`
#### Snippet
```java

    public static <R> Query newPropertyRestrictionQuery(String propertyName, Filter.PropertyRestriction pr,
            Function<PropertyValue, R> propToObj) {

        R first = pr.first != null ? propToObj.apply(pr.first) : null;
```

### BoundedWildcard
Can generalize to `? super S3ObjectSummary`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        Function<S3ObjectSummary, T> transformer;

        public RecordsIterator (Function<S3ObjectSummary, T> transformer) {
            queue = Lists.newLinkedList();
            this.transformer = transformer;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        Function<S3ObjectSummary, T> transformer;

        public RecordsIterator (Function<S3ObjectSummary, T> transformer) {
            queue = Lists.newLinkedList();
            this.transformer = transformer;
```

### BoundedWildcard
Can generalize to `? extends PropertyDefinition`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexDefinition.java`
#### Snippet
```java
    }

    public boolean isAnalyzed(List<PropertyDefinition> propertyDefinitions) {
        return propertyDefinitions.stream().anyMatch(pd -> pd.analyzed);
    }
```

### BoundedWildcard
Can generalize to `? extends Aggregate`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticInsecureFacetAsyncProvider.java`
#### Snippet
```java

    @Override
    public void on(Map<String, Aggregate> aggregations) {
        this.aggregations = aggregations;
        this.endData();
```

### BoundedWildcard
Can generalize to `? extends ObjectNode`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticSecureFacetAsyncProvider.java`
#### Snippet
```java

    @Override
    public void on(Hit<ObjectNode> searchHit) {
        final String path = elasticResponseHandler.getPath(searchHit);
        if (path != null && isAccessible.test(path)) {
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/ElasticResultRowAsyncIterator.java`
#### Snippet
```java
                                         @NotNull ElasticResponseHandler elasticResponseHandler,
                                         @NotNull QueryIndex.IndexPlan indexPlan,
                                         Predicate<String> rowInclusionPredicate,
                                         LMSEstimator estimator, ElasticMetricHandler metricHandler) {
        this.indexNode = indexNode;
```

### BoundedWildcard
Can generalize to `? extends Aggregate`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticStatisticalFacetAsyncProvider.java`
#### Snippet
```java

    @Override
    public void on(Map<String, Aggregate> aggregations) {
        for (String field : facetFields) {
            List<StringTermsBucket> buckets = aggregations.get(field).sterms().buckets().array();
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticCustomAnalyzer.java`
#### Snippet
```java

    private static <FD> LinkedHashMap<String, FD> loadFilters(NodeState state,
                                                              Function<String, Class<? extends AbstractAnalysisFactory>> lookup,
                                                              BiFunction<String, JsonData, FD> factory) {
        LinkedHashMap<String, FD> filters = new LinkedHashMap<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticCustomAnalyzer.java`
#### Snippet
```java
    private static <FD> LinkedHashMap<String, FD> loadFilters(NodeState state,
                                                              Function<String, Class<? extends AbstractAnalysisFactory>> lookup,
                                                              BiFunction<String, JsonData, FD> factory) {
        LinkedHashMap<String, FD> filters = new LinkedHashMap<>();
        int i = 0;
```

### BoundedWildcard
Can generalize to `? super JsonData`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticCustomAnalyzer.java`
#### Snippet
```java
    private static <FD> LinkedHashMap<String, FD> loadFilters(NodeState state,
                                                              Function<String, Class<? extends AbstractAnalysisFactory>> lookup,
                                                              BiFunction<String, JsonData, FD> factory) {
        LinkedHashMap<String, FD> filters = new LinkedHashMap<>();
        int i = 0;
```

### BoundedWildcard
Can generalize to `? extends FD`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticCustomAnalyzer.java`
#### Snippet
```java
    private static <FD> LinkedHashMap<String, FD> loadFilters(NodeState state,
                                                              Function<String, Class<? extends AbstractAnalysisFactory>> lookup,
                                                              BiFunction<String, JsonData, FD> factory) {
        LinkedHashMap<String, FD> filters = new LinkedHashMap<>();
        int i = 0;
```

### BoundedWildcard
Can generalize to `? extends PropertyDefinition`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
    }

    private BoolQuery similarityQuery(@NotNull String text, List<PropertyDefinition> sp) {
        BoolQuery.Builder query = new BoolQuery.Builder();
        if (!sp.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends LuceneIndexReader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    }

    private static int getNumDocs(List<LuceneIndexReader> readers) {
        int numDoc = 0;
        for (LuceneIndexReader r : readers){
```

### BoundedWildcard
Can generalize to `? extends LuceneIndexReader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    }

    private static long getIndexSize(List<LuceneIndexReader> readers) throws IOException {
        long totalSize = 0;
        for (LuceneIndexReader r : readers){
```

### BoundedWildcard
Can generalize to `? extends LuceneIndexReader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
    //~---------------------------------------------------------< Internal >

    private static IndexReader getPrimaryReader(List<LuceneIndexReader> indexReaders) {
        return indexReaders.isEmpty() ? null : indexReaders.get(0).getReader();
    }
```

### BoundedWildcard
Can generalize to `? extends Query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
     */
    @NotNull
    private Query prepareAndSelect(@NotNull List<Query> queries) {
        Query result = null;
        
```

### BoundedWildcard
Can generalize to `? extends Query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
    }

    private static long getValue(List<Query> queries, Optional<Long> value, Function<Query, Optional<Long>> getter, Long defaultValue) {
        if (!value.isPresent()) {
            return queries.stream().map(getter::apply).filter(Optional::isPresent).map(Optional::get).findFirst()
```

### BoundedWildcard
Can generalize to `? super Query`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
    }

    private static long getValue(List<Query> queries, Optional<Long> value, Function<Query, Optional<Long>> getter, Long defaultValue) {
        if (!value.isPresent()) {
            return queries.stream().map(getter::apply).filter(Optional::isPresent).map(Optional::get).findFirst()
```

### BoundedWildcard
Can generalize to `? extends LuceneIndexReader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
    }

    private void closeReaders(Iterable<LuceneIndexReader> readers) {
        for (LuceneIndexReader r : readers){
            try {
```

### BoundedWildcard
Can generalize to `? extends LuceneIndexReader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
    }

    private IndexReader createReader(List<LuceneIndexReader> nrtReaders) {
        //Increment count by 1. MultiReader does it for all readers
        //So no need for an explicit increment for MultiReader
```

### BoundedWildcard
Can generalize to `? super Query`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
    }

    private static void addReferenceConstraint(String uuid, List<Query> qs,
            IndexReader reader) {
        if (reader == null) {
```

### BoundedWildcard
Can generalize to `? super Query`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
    }

    private static void addNodeTypeConstraints(List<Query> qs, Filter filter) {
        BooleanQuery bq = new BooleanQuery();
        for (String type : filter.getPrimaryTypes()) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/TapeSampling.java`
#### Snippet
```java
    private final int k;

    public TapeSampling(final Random rGen, final Iterator<T> input, final int N, final int k) {
        this.rGen = rGen;
        this.input = input;
```

### BoundedWildcard
Can generalize to `? extends LuceneIndexReader`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
    }

    private void decrementReaderUseCount(@Nullable List<LuceneIndexReader> readers) {
        if (readers != null) {
            for (LuceneIndexReader r : readers) {
```

### BoundedWildcard
Can generalize to `? extends LuceneDoc`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/DocumentQueue.java`
#### Snippet
```java
    }

    private void processDocs(String indexPath, Iterable<LuceneDoc> docs, boolean docsFromQueue){

        //Drop the write call if stopped
```

### BoundedWildcard
Can generalize to `? extends PropertyDefinition`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
    }

    public static Query getSimilarityQuery(List<PropertyDefinition> sp, IndexReader reader, String queryString) {
        try {
            log.debug("parsing similarity query on {}", queryString);
```

### BoundedWildcard
Can generalize to `? extends PropertyDefinition`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
    }

    public static void bruteForceFVRerank(List<PropertyDefinition> sp, TopDocs docs, IndexSearcher indexSearcher) throws IOException {
        double distSum = 0d;
        double counter = 0d;
```

### BoundedWildcard
Can generalize to `? extends SegmentCommitInfo`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
     * @return a merge score
     **/
    protected MergeScore score(List<SegmentCommitInfo> candidate, boolean hitTooLarge, long mergingBytes) throws IOException {
        long totBeforeMergeBytes = 0;
        long totAfterMergeBytes = 0;
```

### BoundedWildcard
Can generalize to `? extends Query`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
     */
    @NotNull
    public static LuceneRequestFacade<Query> performAdditionalWraps(@NotNull List<Query> qs) {
        if (qs.size() == 1) {
            Query q = qs.get(0);
```

### BoundedWildcard
Can generalize to `? super Query`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    }

    private static void addNodeTypeConstraints(IndexingRule defn, List<Query> qs, Filter filter) {
        BooleanQuery bq = new BooleanQuery();
        PropertyDefinition primaryType = defn.getConfig(JCR_PRIMARYTYPE);
```

### BoundedWildcard
Can generalize to `? super Query`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    }

    private static void addReferenceConstraint(String uuid, List<Query> qs,
                                               IndexReader reader) {
        if (reader == null) {
```

### BoundedWildcard
Can generalize to `? extends FulltextResultRow`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    @SuppressWarnings("Guava")
    private static Iterator<FulltextResultRow> mergePropertyIndexResult(IndexPlan plan, NodeState rootState,
                                                                        Iterator<FulltextResultRow> itr) {
        PlanResult pr = getPlanResult(plan);
        HybridPropertyIndexLookup lookup = new HybridPropertyIndexLookup(pr.indexPath,
```

### BoundedWildcard
Can generalize to `? extends PropertyUpdateCallback`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/CompositePropertyUpdateCallback.java`
#### Snippet
```java
    private final Collection<PropertyUpdateCallback> callbacks;

    public CompositePropertyUpdateCallback(@NotNull Collection<PropertyUpdateCallback> callbacks) {
        this.callbacks = callbacks;
        checkNotNull(callbacks);
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexLookup.java`
#### Snippet
```java
    }

    private void collectIndexNodePaths(NodeState nodeState, String parentPath, Collection<String> paths) {
        NodeState state = nodeState.getChildNode(INDEX_DEFINITIONS_NAME);
        for (ChildNodeEntry entry : state.getChildNodeEntries()) {
```

### BoundedWildcard
Can generalize to `? super NodeState`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexLookup.java`
#### Snippet
```java
    private final Predicate<NodeState> definitionPredicate;

    public IndexLookup(NodeState root, Predicate<NodeState> definitionPredicate) {
        this.root = root;
        this.definitionPredicate = definitionPredicate;
```

### BoundedWildcard
Can generalize to `? extends BlobIdInfoStruct`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
        }

        private void addDeletedBlobs(Collection<BlobIdInfoStruct> deletedBlobs) {
            int addedForFlush = 0;
            for (BlobIdInfoStruct info : deletedBlobs) {
```

### BoundedWildcard
Can generalize to `? super MediaType`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/TikaParserConfig.java`
#### Snippet
```java


    private static void parseMimeTypes(Set<MediaType> result, NodeList mimes) {
        /*
        <parser class="org.apache.tika.parser.EmptyParser">
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/IndexName.java`
#### Snippet
```java
     * @return the lastest customized index, or null if none
     */
    public IndexName getLatestCustomized(List<IndexName> all) {
        IndexName latest = null;
        for (IndexName n : all) {
```

### BoundedWildcard
Can generalize to `? extends IndexName`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/IndexName.java`
#### Snippet
```java
     * @return the latest product index, or null if none
     */
    public IndexName getLatestProduct(List<IndexName> all) {
        IndexName latest = null;
        for (IndexName n : all) {
```

### BoundedWildcard
Can generalize to `? extends Matcher`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/Aggregate.java`
#### Snippet
```java
    }

    private static void matchChildren(List<Matcher> matchers, ResultCollector collector,
                                      Iterable<? extends ChildNodeEntry> children) {
        for (ChildNodeEntry cne : children) {
```

### BoundedWildcard
Can generalize to `? extends Matcher`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/Aggregate.java`
#### Snippet
```java
    }

    private static boolean hasPatternMatcher(List<Matcher> matchers){
        for (Matcher m : matchers){
            if (m.isPatternBased()){
```

### BoundedWildcard
Can generalize to `? extends OrderEntry`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
    }

    private static boolean canSortByProperty(List<OrderEntry> sortOrder) {
        if (sortOrder.isEmpty()) {
            return false;
```

### BoundedWildcard
Can generalize to `? extends T`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/TapeSampling.java`
#### Snippet
```java
    private final int k;

    public TapeSampling(final Random rGen, final Iterator<T> input, final int N, final int k) {
        this.rGen = rGen;
        this.input = input;
```

### BoundedWildcard
Can generalize to `? extends Iterable`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/ConfigUtil.java`
#### Snippet
```java
     * Returns an array of optional values for the a given property if present, otherwise returns the specified default
     */
    public static<T> T[] getOptionalValues(NodeState definition, String propName, Type<Iterable<T>> type, Class<T> typeParam, T[] defaultValues) {
        PropertyState ps = definition.getProperty(propName);
        if (ps != null) {
```

### BoundedWildcard
Can generalize to `? extends PropertyState`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
    }

    private boolean indexIfSinglePropertyRemoved(List<PropertyState> propertiesModified) {
        boolean dirty = false;
        for (PropertyState ps : propertiesModified) {
```

### BoundedWildcard
Can generalize to `? extends PropertyState`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java

    private static PropertyState calculateFunction(String functionName,
                                                   Deque<PropertyState> stack) {
        PropertyState ps = stack.pop();
        if ("coalesce".equals(functionName)) {
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyNodes.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            System.out.println("ManyNodes test: " + fixture);
```

### BoundedWildcard
Can generalize to `? super NamePattern`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java

        private Map<String, PropertyDefinition> collectPropConfigs(NodeState config,
                                                                   List<NamePattern> patterns,
                                                                   List<Aggregate.Include> propAggregate,
                                                                   List<PropertyDefinition> nonExistentProperties,
```

### BoundedWildcard
Can generalize to `? super Aggregate.Include`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
        private Map<String, PropertyDefinition> collectPropConfigs(NodeState config,
                                                                   List<NamePattern> patterns,
                                                                   List<Aggregate.Include> propAggregate,
                                                                   List<PropertyDefinition> nonExistentProperties,
                                                                   List<PropertyDefinition> existentProperties,
```

### BoundedWildcard
Can generalize to `? super PropertyDefinition`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
                                                                   List<NamePattern> patterns,
                                                                   List<Aggregate.Include> propAggregate,
                                                                   List<PropertyDefinition> nonExistentProperties,
                                                                   List<PropertyDefinition> existentProperties,
                                                                   List<PropertyDefinition> nodeScopeAnalyzedProps,
```

### BoundedWildcard
Can generalize to `? super PropertyDefinition`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
                                                                   List<Aggregate.Include> propAggregate,
                                                                   List<PropertyDefinition> nonExistentProperties,
                                                                   List<PropertyDefinition> existentProperties,
                                                                   List<PropertyDefinition> nodeScopeAnalyzedProps,
                                                                   List<PropertyDefinition> functionRestrictions,
```

### BoundedWildcard
Can generalize to `? super PropertyDefinition`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
                                                                   List<PropertyDefinition> nonExistentProperties,
                                                                   List<PropertyDefinition> existentProperties,
                                                                   List<PropertyDefinition> nodeScopeAnalyzedProps,
                                                                   List<PropertyDefinition> functionRestrictions,
                                                                   List<PropertyDefinition> syncProps,
```

### BoundedWildcard
Can generalize to `? super PropertyDefinition`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
                                                                   List<PropertyDefinition> existentProperties,
                                                                   List<PropertyDefinition> nodeScopeAnalyzedProps,
                                                                   List<PropertyDefinition> functionRestrictions,
                                                                   List<PropertyDefinition> syncProps,
                                                                   List<PropertyDefinition> similarityProperties) {
```

### BoundedWildcard
Can generalize to `? super PropertyDefinition`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
                                                                   List<PropertyDefinition> functionRestrictions,
                                                                   List<PropertyDefinition> syncProps,
                                                                   List<PropertyDefinition> similarityProperties) {
            Map<String, PropertyDefinition> propDefns = newHashMap();
            NodeState propNode = config.getChildNode(FulltextIndexConstants.PROP_NODE);
```

### BoundedWildcard
Can generalize to `? super IndexingRule`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java

    private Map<String, List<IndexingRule>> collectIndexRules(NodeState indexRules,
                                                              List<IndexingRule> definedIndexRules){
        //TODO if a rule is defined for nt:base then this map would have entry for each
        //registered nodeType in the system
```

### BoundedWildcard
Can generalize to `? extends IndexingRule`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
    }

    private static boolean hasFulltextEnabledIndexRule(List<IndexingRule> rules) {
        for (IndexingRule rule : rules){
            if (rule.isFulltextEnabled()){
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
         * then ensure that jcr:mixinTypes is also indexed
         */
        private void ensureNodeTypeIndexingIsConsistent(Map<String, PropertyDefinition> propDefns,
                                                        List<PropertyDefinition> syncProps) {
            PropertyDefinition pd_pr = propDefns.get(JcrConstants.JCR_PRIMARYTYPE.toLowerCase(Locale.ENGLISH));
```

### BoundedWildcard
Can generalize to `? super PropertyDefinition`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
         */
        private void ensureNodeTypeIndexingIsConsistent(Map<String, PropertyDefinition> propDefns,
                                                        List<PropertyDefinition> syncProps) {
            PropertyDefinition pd_pr = propDefns.get(JcrConstants.JCR_PRIMARYTYPE.toLowerCase(Locale.ENGLISH));
            PropertyDefinition pd_mixin = propDefns.get(JcrConstants.JCR_MIXINTYPES.toLowerCase(Locale.ENGLISH));
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
```

### BoundedWildcard
Can generalize to `? extends Future`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
    }

    private static void get(Iterable<Future<Object>> futures)
            throws ExecutionException, InterruptedException {
        for (Future f : futures) {
```

### BoundedWildcard
Can generalize to `? super Session`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java

    private void addRootListener(Repository repository,
                                 List<Session> sessions,
                                 List<EventListener> listeners)
            throws RepositoryException {
```

### BoundedWildcard
Can generalize to `? super EventListener`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
    private void addRootListener(Repository repository,
                                 List<Session> sessions,
                                 List<EventListener> listeners)
            throws RepositoryException {
        Session s = createSession(repository);
```

### BoundedWildcard
Can generalize to `? extends Future`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
    }

    private static boolean isDone(Iterable<Future<Object>> futures) {
        for (Future f : futures) {
            if (!f.isDone()) {
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures, List<Integer> concurrencyLevels) {
        System.out.format(
                "# %-26.26s       C     min     10%%     50%%     90%%     max     N       mean%s%n",
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateNodesBenchmark.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            if (fixture.isAvailable(1)) {
```

### BoundedWildcard
Can generalize to `? extends Principal`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/Utils.java`
#### Snippet
```java
    }

    public static void removePrincipals(@NotNull Set<Principal> principalSet, @NotNull Session session) throws RepositoryException {
        UserManager userManager = ((JackrabbitSession) session).getUserManager();
        for (Principal p : principalSet) {
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        if (dump == null) {
            System.out.format("Missing Wikipedia dump, skipping import benchmark.%n");
```

### BoundedWildcard
Can generalize to `? extends ScalabilitySuite`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
    }

    protected static void addToScalabilitySuiteList(List<ScalabilitySuite> suites) {
        allSuites.addAll(suites);
    }
```

### BoundedWildcard
Can generalize to `? extends RepositoryFixture`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java

    @Override
    public void run(Iterable<RepositoryFixture> fixtures) {
        for (RepositoryFixture fixture : fixtures) {
            try {
```

### BoundedWildcard
Can generalize to `? extends RestrictionPattern`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/CompositePattern.java`
#### Snippet
```java
    private final List<RestrictionPattern> patterns;

    public CompositePattern(@NotNull List<RestrictionPattern> patterns) {
        this.patterns = patterns;
    }
```

### BoundedWildcard
Can generalize to `? extends Restriction`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/AbstractRestrictionProvider.java`
#### Snippet
```java

    @Override
    public void writeRestrictions(@Nullable String oakPath, @NotNull Tree aceTree, @NotNull Set<Restriction> restrictions) throws RepositoryException {
        // validation of the restrictions is delegated to the commit hook
        // see #validateRestrictions below
```

### BoundedWildcard
Can generalize to `? extends Benchmark`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
    }

    protected static void addToBenchMarkList(List<Benchmark> benchmarks) {
        allBenchmarks.addAll(benchmarks);
    }
```

### BoundedWildcard
Can generalize to `? super String`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBitsProvider.java`
#### Snippet
```java
        }

        private void fillAggregation(@NotNull Tree privTree, @NotNull ImmutableSet.Builder<String> builder) {
            if (!privTree.exists()) {
                return;
```

### BoundedWildcard
Can generalize to `? extends Restriction`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/CompositeRestrictionProvider.java`
#### Snippet
```java

    @Override
    public void writeRestrictions(@Nullable String oakPath, @NotNull Tree aceTree, @NotNull Set<Restriction> restrictions) throws RepositoryException {
        for (Restriction r : restrictions) {
            RestrictionProvider rp = getProvider(oakPath, getName(r));
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/CompositeCredentialsSupport.java`
#### Snippet
```java
    private final Supplier<Collection<CredentialsSupport>> credentialSupplier;

    private CompositeCredentialsSupport(@NotNull Supplier<Collection<CredentialsSupport>> credentialSupplier) {
        this.credentialSupplier = credentialSupplier;
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
        }

        public static <T> void forEach(Stream<T> stream, BiConsumer<T, Breaker> consumer) {
            Spliterator<T> spliterator = stream.spliterator();
            boolean hadNext = true;
```

### BoundedWildcard
Can generalize to `? super Breaker`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
        }

        public static <T> void forEach(Stream<T> stream, BiConsumer<T, Breaker> consumer) {
            Spliterator<T> spliterator = stream.spliterator();
            boolean hadNext = true;
```

### BoundedWildcard
Can generalize to `? extends Tree`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java

    @Nullable
    public static String getPrimaryTypeName(@NotNull Tree tree, @NotNull LazyValue<Tree> readOnlyTree) {
        String primaryTypeName = null;
        if (tree.hasProperty(JcrConstants.JCR_PRIMARYTYPE)) {
```

### BoundedWildcard
Can generalize to `? extends Tree`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java

    @NotNull
    public static Iterable<String> getMixinTypeNames(@NotNull Tree tree, @NotNull LazyValue<Tree> readOnlyTree) {
        Iterable<String> mixinNames = emptyList();
        if (tree.hasProperty(JcrConstants.JCR_MIXINTYPES)) {
```

## RuleId[id=MissortedModifiers]
### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeBuilder.java`
#### Snippet
```java
class CompositeNodeBuilder implements NodeBuilder {

    private final static Logger LOG = LoggerFactory.getLogger(CompositeNodeBuilder.class);

    private final CompositionContext ctx;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/MountInfoProviderService.java`
#### Snippet
```java
@Designate(ocd = MountInfoProviderService.Props.class)
public class MountInfoProviderService {
    private final static Logger LOG = LoggerFactory.getLogger(MountInfoProviderService.class);

    @ObjectClassDefinition(name = "MountInfoProviderService Properties")
```

### MissortedModifiers
Missorted modifiers `final private`
in `oak-benchmarks-elastic/src/main/java/org/apache/jackrabbit/oak/benchmark/ElasticFacetSearchTest.java`
#### Snippet
```java
public class ElasticFacetSearchTest extends FacetSearchTest {

    final private ElasticConnection connection;
    protected String indexName;

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
    }

    public final static boolean isLockingSupported() {
        return ISLOCKINGSUPPORTED;
    }
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
public class BackgroundObserver implements Observer, Closeable {

    public final static int DEFAULT_QUEUE_SIZE = 10000;

    /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/PurgeOldIndexVersionCommand.java`
#### Snippet
```java
    private List<String> indexPaths;
    private long DEFAULT_PURGE_THRESHOLD = TimeUnit.DAYS.toMillis(5); // 5 days in millis
    private final static String DEFAULT_INDEX_PATH = "/oak:index";
    private boolean shouldPurgeBaseIndex;

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/PersistedLinkedList.java`
#### Snippet
```java
public class PersistedLinkedList implements NodeStateEntryList {

    private final static Logger LOG = LoggerFactory.getLogger(PersistedLinkedList.class);

    private static final String COMPACT_STORE_MILLIS_NAME = "oak.indexer.linkedList.compactMillis";
```

### MissortedModifiers
Missorted modifiers `final public`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Buffer.java`
#### Snippet
```java
 * makes it less likely to develop dangerous code in the future.
 */
final public class Buffer {

    private final ByteBuffer buffer;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java`
#### Snippet
```java
    }

    final static class BranchReference extends WeakReference<Object> {

        private final Branch branch;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/RevisionVector.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(RevisionVector.class);

    private final static RevisionVector EMPTY = new RevisionVector();

    private final Revision[] revisions;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java

    //Extra 2 for those cases where counter or clusterId is 2 digit
    final static int REV_STRING_APPROX_SIZE = Revision.newRevision(0).toString().length() + 2;

    static final int SHALLOW_MEMORY_USAGE = 32;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobReferenceIterator.java`
#### Snippet
```java
    }

    private final static List<QueryCondition> WITH_BINARIES = Collections
            .singletonList(new QueryCondition(NodeDocument.HAS_BINARY_FLAG, "=", NodeDocument.HAS_BINARY_VAL));

```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
    }

    private static abstract class NodeStoreTask implements Runnable {
        final WeakReference<DocumentNodeStore> ref;
        private final AtomicBoolean isDisposed;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
    }

    public final static Comparator<String> lexComparator = new Comparator<String>() {
        @Override public int compare(String s1, String s2) {
            return s1.compareTo(s2);
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
     */
    @Deprecated(since = "1.20.0", forRemoval = true)
    public final static com.google.common.base.Function<String, String> passThruTransformer = new com.google.common.base.Function<String, String>() {
        @Nullable @Override public String apply(@Nullable String input) {
            return input;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    }

    private final static Set<String> SUPPORTED_OPS;
    static {
        Set<String> tmp = new HashSet<String>();
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    }

    private final static Map<String, String> INDEXED_PROP_MAPPING;
    static {
        Map<String, String> tmp = new HashMap<String, String>();
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
     * initial param name for the bootstrap config location
     */
    public final static String INIT_PARAM_BOOTSTRAP_CONFIG = "bootstrap-config";

    /**
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
     * optional class for RMI, will only be used, if RMI client is present
     */
    protected static abstract class ClientFactoryDelegater {

        public abstract Repository getRepository(String uri)
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
     * Context parameter name for 'this' instance.
     */
    private final static String CTX_PARAM_THIS = "repository.access.servlet";

    /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
     * initial param name for the bootstrap config location
     */
    public final static String INIT_PARAM_BOOTSTRAP_CONFIG = "bootstrap-config";

    /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
     * the context attribute name foe 'this' instance.
     */
    private final static String CTX_PARAM_THIS = "repository.startup.servet";

    /**
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
     * optional class for RMI, will only be used, if RMI server is present
     */
    protected static abstract class RemoteFactoryDelegater {

        public abstract Remote createRemoteRepository(Repository repository)
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java

public class ThreadDumpCommand implements Command {
    public final static String THREADDUMP = "threaddump";

    @SuppressWarnings("unchecked")
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java

public class PersistentCacheCommand implements Command {
    public final static String PERSISTENTCACHE = "persistentcache";

    @SuppressWarnings("unchecked")
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexMerge.java`
#### Snippet
```java
public class IndexMerge {

    private final static Logger LOG = LoggerFactory.getLogger(IndexMerge.class);

    public static final String OAK_CHILD_ORDER = ":childOrder";
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
            }
        };
        private final static Joiner delimJoiner = Joiner.on(DELIM).skipNulls();
        private final static Splitter delimSplitter = Splitter.on(DELIM).trimResults().omitEmptyStrings();

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        };
        private final static Joiner delimJoiner = Joiner.on(DELIM).skipNulls();
        private final static Splitter delimSplitter = Splitter.on(DELIM).trimResults().omitEmptyStrings();

        private final BlobStoreOptions optionBean;
```

### MissortedModifiers
Missorted modifiers `abstract protected`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
    }

    abstract protected JournalFile getJournal();

    @Override
```

### MissortedModifiers
Missorted modifiers `synchronized static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/OakVersion.java`
#### Snippet
```java
     */
    @NotNull
    public synchronized static String getVersion() {
        if (version == null) {
            version = org.apache.jackrabbit.oak.commons.OakVersion.getVersion(
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
    private static final long serialVersionUID = 1L;

    private final static int MAX_CHAR_DISPLAY = Integer.getInteger("max.char.display", 60);

    private static final String newline = "\n";
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
    public static final UnsupportedOperationException TOO_MANY_UNION = 
            new UnsupportedOperationException("Too many union queries");
    public final static int MAX_UNION = Integer.getInteger("oak.sql2MaxUnion", 1000);

    private static final Logger LOG = LoggerFactory.getLogger(QueryImpl.class);
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(QueryRecorder.class);
    private static final HashMap<String, Integer> RECORD_QUERIES_MAP = new HashMap<String, Integer>();
    private final static int QUERIES_MAX =  Integer.getInteger("oak.query.record", 5000);
    
    public static void main(String... args) throws IOException {
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java

        @SuppressWarnings("rawtypes")
        private final static OpenType[] types = {SimpleType.LONG,
                    SimpleType.LONG, SimpleType.LONG, SimpleType.LONG,
                    SimpleType.LONG, SimpleType.LONG, SimpleType.LONG, SimpleType.LONG,
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
    private static class QueryStatsCompositeTypeFactory {

        private final static String[] index = { "position" };

        private final static String[] names = { "position", 
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
                "lastThread"};

        private final static String[] descriptions = names;

        @SuppressWarnings("rawtypes")
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
        private final static String[] index = { "position" };

        private final static String[] names = { "position", 
                "maxTimeMillis", "totalTimeMillis", "executeCount", 
                "rowsRead", "rowsScanned", "maxRowsRead", "maxRowsScanned",
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
    private static final UnsupportedOperationException TOO_MANY_UNION = 
            new UnsupportedOperationException("Too many union queries");
    private final static int MAX_UNION = Integer.getInteger("oak.xpathMaxUnion", 1000);
    private final static boolean KEEP_UNION_ORDER = Boolean.getBoolean("oak.xpath.keepUnionOrder");

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
            new UnsupportedOperationException("Too many union queries");
    private final static int MAX_UNION = Integer.getInteger("oak.xpathMaxUnion", 1000);
    private final static boolean KEEP_UNION_ORDER = Boolean.getBoolean("oak.xpath.keepUnionOrder");

    boolean explain;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
     * adding a removing all nodes the count goes back to zero).
     */
    public final static boolean COUNT_HASH =
            Boolean.parseBoolean(System.getProperty("oak.countHashed", "true"));

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounter.java`
#### Snippet
```java
     * adding a removing all nodes the count goes back to zero).
     */
    public final static boolean COUNT_HASH = 
            Boolean.parseBoolean(System.getProperty("oak.countHashed", "true"));
    
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
 */
public class ValuePattern {
    public final static ValuePattern MATCH_ALL = new ValuePattern();

    private final Pattern pattern;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/NodeReferenceConstants.java`
#### Snippet
```java
    public final static String REF_NAME = ":references";

    public final static String WEAK_REF_NAME = ":weakreferences";

    private NodeReferenceConstants() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/NodeReferenceConstants.java`
#### Snippet
```java
    public static final String TYPE = "reference";

    public final static String REF_NAME = ":references";

    public final static String WEAK_REF_NAME = ":weakreferences";
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/inventory/IndexPrinter.java`
#### Snippet
```java
    }

    private static abstract class PrinterOutput {

        abstract String output();
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/FilteringObserver.java`
#### Snippet
```java

    /** package protected CommitInfo used between FilteringObserver and FilteringDispatcher **/
    final static CommitInfo NOOP_CHANGE = new CommitInfo(CommitInfo.OAK_UNKNOWN, CommitInfo.OAK_UNKNOWN);

    private final BackgroundObserver backgroundObserver;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexEditorProvider.java`
#### Snippet
```java
    private final ExtractedTextCache extractedTextCache;

    public final static String OAK_INDEX_ELASTIC_WRITER_DISABLE_KEY = "oak.index.elastic.writer.disable";

    private final boolean OAK_INDEX_ELASTIC_WRITER_DISABLE = Boolean.getBoolean(OAK_INDEX_ELASTIC_WRITER_DISABLE_KEY);
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticSuggestIterator.java`
#### Snippet
```java
    }

    private final static class ElasticSuggestion extends FulltextResultRow {
        private ElasticSuggestion(String suggestion, double score) {
            super(suggestion, score);
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java

    private static final Logger LOG = LoggerFactory.getLogger(ElasticRequestHandler.class);
    private final static String SPELLCHECK_PREFIX = "spellcheck?term=";
    protected final static String SUGGEST_PREFIX = "suggest?term=";
    private static final List<SortOptions> DEFAULT_SORTS = Arrays.asList(
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(ElasticRequestHandler.class);
    private final static String SPELLCHECK_PREFIX = "spellcheck?term=";
    protected final static String SUGGEST_PREFIX = "suggest?term=";
    private static final List<SortOptions> DEFAULT_SORTS = Arrays.asList(
            SortOptions.of(so -> so.field(f -> f.field("_score").order(SortOrder.Desc))),
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/FieldFactory.java`
#### Snippet
```java
    }

    private final static class OakTextField extends Field {

        public OakTextField(String name, String value, boolean stored) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
    private static final PerfLogger PERF_LOGGER =
            new PerfLogger(LoggerFactory.getLogger(LuceneIndexNodeManager.class.getName() + ".perf"));
    public final static String OLD_FACET_PROVIDER_TEST_FAILURE_SLEEP_INSTRUMENT_NAME = "oak.lucene.oldFacetProviderTestFailSleepInstrument";
    private final static int OLD_FACET_PROVIDER_TEST_FAILURE_SLEEP_INSTRUMENT_VALUE = Integer.getInteger(OLD_FACET_PROVIDER_TEST_FAILURE_SLEEP_INSTRUMENT_NAME, 0);

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
            new PerfLogger(LoggerFactory.getLogger(LuceneIndexNodeManager.class.getName() + ".perf"));
    public final static String OLD_FACET_PROVIDER_TEST_FAILURE_SLEEP_INSTRUMENT_NAME = "oak.lucene.oldFacetProviderTestFailSleepInstrument";
    private final static int OLD_FACET_PROVIDER_TEST_FAILURE_SLEEP_INSTRUMENT_VALUE = Integer.getInteger(OLD_FACET_PROVIDER_TEST_FAILURE_SLEEP_INSTRUMENT_NAME, 0);

    static LuceneIndexNodeManager open(String indexPath, NodeState root, NodeState defnNodeState,
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
    }

    static abstract class LuceneResultRowIterator extends AbstractIterator<LuceneResultRow> {
        abstract int rewoundCount();
    }
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/LuceneJournalPropertyBuilder.java`
#### Snippet
```java

class LuceneJournalPropertyBuilder implements JournalPropertyBuilder<LuceneDocumentHolder> {
    private final static Logger log = LoggerFactory.getLogger(LuceneJournalPropertyBuilder.class);
    //Use HashMultimap to ensure that indexPath is not duplicated per node path
    private final Multimap<String, String> indexedNodes = HashMultimap.create();
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/LuceneIndexWriterConfig.java`
#### Snippet
```java
     * IndexWriter.maxBufferedDeleteTerms is used to flush buffered data to lucene index.
     */
    public final static String MAX_BUFFERED_DELETE_TERMS_KEY = "oak.index.lucene.maxBufferedDeleteTerms";

    /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/LuceneIndexWriterConfig.java`
#### Snippet
```java
     * IndexWriter.perThreadHardLimitMB is used to flush buffered data to lucene index.
     */
    public final static String RAM_PER_THREAD_HARD_LIMIT_MB_KEY = "oak.index.lucene.ramPerThreadHardLimitMB";

    private final double ramBufferSizeMB;
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
    /** Holds score and explanation for a single candidate
     *  merge. */
    protected static abstract class MergeScore {
        /** Sole constructor. (For invocation by subclass
         *  constructors, typically implicit.) */
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    private final static long LOAD_DOCS_WARN = Long.getLong("oak.lucene.loadDocsWarn", 30 * 1000L);
    private final static long LOAD_DOCS_STOP = Long.getLong("oak.lucene.loadDocsStop", 3 * 60 * 1000L);
    private final static boolean NON_LAZY = SystemPropertySupplier.create("oak.lucene.nonLazyIndex", true).loggingTo(LOG).get();
    public final static String OLD_FACET_PROVIDER_CONFIG_NAME = "oak.lucene.oldFacetProvider";
    private final static boolean OLD_FACET_PROVIDER = Boolean.getBoolean(OLD_FACET_PROVIDER_CONFIG_NAME);
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    public final static String OLD_FACET_PROVIDER_CONFIG_NAME = "oak.lucene.oldFacetProvider";
    private final static boolean OLD_FACET_PROVIDER = Boolean.getBoolean(OLD_FACET_PROVIDER_CONFIG_NAME);
    public final static String CACHE_FACET_RESULTS_NAME = "oak.lucene.cacheFacetResults";
    private final boolean CACHE_FACET_RESULTS =
            Boolean.parseBoolean(System.getProperty(CACHE_FACET_RESULTS_NAME, "true"));
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    private final static long LOAD_DOCS_STOP = Long.getLong("oak.lucene.loadDocsStop", 3 * 60 * 1000L);
    private final static boolean NON_LAZY = SystemPropertySupplier.create("oak.lucene.nonLazyIndex", true).loggingTo(LOG).get();
    public final static String OLD_FACET_PROVIDER_CONFIG_NAME = "oak.lucene.oldFacetProvider";
    private final static boolean OLD_FACET_PROVIDER = Boolean.getBoolean(OLD_FACET_PROVIDER_CONFIG_NAME);
    public final static String CACHE_FACET_RESULTS_NAME = "oak.lucene.cacheFacetResults";
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    private final static boolean NON_LAZY = SystemPropertySupplier.create("oak.lucene.nonLazyIndex", true).loggingTo(LOG).get();
    public final static String OLD_FACET_PROVIDER_CONFIG_NAME = "oak.lucene.oldFacetProvider";
    private final static boolean OLD_FACET_PROVIDER = Boolean.getBoolean(OLD_FACET_PROVIDER_CONFIG_NAME);
    public final static String CACHE_FACET_RESULTS_NAME = "oak.lucene.cacheFacetResults";
    private final boolean CACHE_FACET_RESULTS =
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java

    private final static long LOAD_DOCS_WARN = Long.getLong("oak.lucene.loadDocsWarn", 30 * 1000L);
    private final static long LOAD_DOCS_STOP = Long.getLong("oak.lucene.loadDocsStop", 3 * 60 * 1000L);
    private final static boolean NON_LAZY = SystemPropertySupplier.create("oak.lucene.nonLazyIndex", true).loggingTo(LOG).get();
    public final static String OLD_FACET_PROVIDER_CONFIG_NAME = "oak.lucene.oldFacetProvider";
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        new PerfLogger(LoggerFactory.getLogger(LucenePropertyIndex.class.getName() + ".perf"));

    private final static long LOAD_DOCS_WARN = Long.getLong("oak.lucene.loadDocsWarn", 30 * 1000L);
    private final static long LOAD_DOCS_STOP = Long.getLong("oak.lucene.loadDocsStop", 3 * 60 * 1000L);
    private final static boolean NON_LAZY = SystemPropertySupplier.create("oak.lucene.nonLazyIndex", true).loggingTo(LOG).get();
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    }

    static abstract class LuceneResultRowIterator extends AbstractIterator<FulltextResultRow> implements IteratorRewoundStateProvider {
    }

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakDirectory.java`
#### Snippet
```java
    static final int UNIQUE_KEY_SIZE = 16;

    private final static SecureRandom secureRandom = new SecureRandom();

    protected final NodeBuilder builder;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/IndexName.java`
#### Snippet
```java
public class IndexName implements Comparable<IndexName> {

    private final static Logger LOG = LoggerFactory.getLogger(IndexName.class);

    // already logged index names
```

### MissortedModifiers
Missorted modifiers `static private`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextIndexEditorContext.java`
#### Snippet
```java
  }

  static private Calendar getCalendar() {
    Calendar ret = Calendar.getInstance();
    ret.setTime(clock.getDate());
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
 */
public class FulltextBinaryTextExtractor {
  private final static String TEXT_EXTRACTION_TIMER_METRIC_NAME = "TEXT_EXTRACTION_TIME";

  private static final Logger log = LoggerFactory.getLogger(FulltextBinaryTextExtractor.class);
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/Aggregate.java`
#### Snippet
```java
    //~-----------------------------------------------------< Includes >

    public static abstract class Include {
        protected final String[] elements;

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextIndexEditor.java`
#### Snippet
```java

  static class MatcherState {
    final static MatcherState NONE = new MatcherState(Collections.<Aggregate.Matcher>emptyList(),
        Collections.<Aggregate.Matcher>emptyList());

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
    class ChunkIterator implements Iterator<String> {
        
        private final static int BATCH = 2048;
        private final ArrayDeque<String> queue;
        private final ArrayDeque<ByteArrayInputStream> streamsStack;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java
    public final static int COUNT = 1000;
    public final static String USER = "user";
    public final static int DEFAULT_ITERATIONS = -1;
    public final static long NO_CACHE = -1;

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java

    public final static int COUNT = 1000;
    public final static String USER = "user";
    public final static int DEFAULT_ITERATIONS = -1;
    public final static long NO_CACHE = -1;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java
abstract class AbstractLoginTest extends AbstractTest {

    public final static int COUNT = 1000;
    public final static String USER = "user";
    public final static int DEFAULT_ITERATIONS = -1;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractLoginTest.java`
#### Snippet
```java
    public final static String USER = "user";
    public final static int DEFAULT_ITERATIONS = -1;
    public final static long NO_CACHE = -1;

    private String runAsUser;
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexHelper.java`
#### Snippet
```java
     * etc)
     */
    private final static Set<String> NOT_TOKENIZED = newHashSet(JCR_UUID);

    static {
```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
     */
    private final static String DYNAMIC_BOOST_LITE_NAME = "oak.search.dynamicBoostLite";
    protected final static List<String> DYNAMIC_BOOST_LITE =
            Arrays.asList(System.getProperty(DYNAMIC_BOOST_LITE_NAME, "").split(","));

```

### MissortedModifiers
Missorted modifiers `final static`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
     * expected results.
     */
    private final static String DYNAMIC_BOOST_LITE_NAME = "oak.search.dynamicBoostLite";
    protected final static List<String> DYNAMIC_BOOST_LITE =
            Arrays.asList(System.getProperty(DYNAMIC_BOOST_LITE_NAME, "").split(","));
```

## RuleId[id=AnonymousHasLambdaAlternative]
### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java

    public static void handleSigInt(final Closer closer) {
        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
            public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
     **/
    private void addShutDownHook() {
        Runtime.getRuntime().addShutdownHook(new Thread() {
            @Override
            public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/UTF8Encoder.java`
#### Snippet
```java
     * internals of {@link String#getBytes(String)}.
     */
    private static ThreadLocal<CharsetEncoder> CSE = new ThreadLocal<CharsetEncoder>() {
        @Override
        protected CharsetEncoder initialValue() {
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/util/CharsetEncodingUtils.java`
#### Snippet
```java
    }

    private static ThreadLocal<CharsetEncoder> CSE = new ThreadLocal<CharsetEncoder>() {
        @Override
        protected CharsetEncoder initialValue() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
    static Closer createCloserWithShutdownHook() {
        Closer closer = Closer.create();
        Runtime.getRuntime().addShutdownHook(new Thread() {
            public void run() {
                try {
```

## RuleId[id=ThrowablePrintedToSystemOut]
### ThrowablePrintedToSystemOut
'Throwable' argument `e` to 'System.err.println()' call
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            beforeArchives = archiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }

```

### ThrowablePrintedToSystemOut
'Throwable' argument `e` to 'System.err.println()' call
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
            afterArchives = archiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }
        printArchives(System.out, afterArchives);
```

### ThrowablePrintedToSystemOut
'Throwable' argument `e` to 'System.err.println()' call
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            beforeArchives = roArchiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }

```

### ThrowablePrintedToSystemOut
'Throwable' argument `e` to 'System.err.println()' call
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            afterArchives = rwArchiveManager.listArchives();
        } catch (IOException e) {
            System.err.println(e);
        }
        printArchives(System.out, afterArchives);
```

### ThrowablePrintedToSystemOut
'Throwable' argument `e` to 'System.err.println()' call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
                options = parser.parse(args);
            } catch (Exception e) {
                System.err.println(e);
                parser.printHelpOn(System.err);
                return;
```

### ThrowablePrintedToSystemOut
'Throwable' argument `e` to 'System.err.println()' call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                options = parser.parse(args);
            } catch (Exception e) {
                System.err.println(e);
                System.err.println(Arrays.toString(args));
                System.err.println();
```

## RuleId[id=IfStatementMissingBreakInLoop]
### IfStatementMissingBreakInLoop
Loop can be terminated after condition is met
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
            boolean includeThis = false;
            for (String aRelativeGlobPath : relativeGlobPaths) {
                if (aRelativeGlobPath.equals("") || aRelativeGlobPath.equals(".") || aRelativeGlobPath.equals("*")
                        || aRelativeGlobPath.equals("**")) {
                    includeThis = true;
```

## RuleId[id=FunctionalExpressionCanBeFolded]
### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    private MongoClient createClient(Closer closer) {
        MongoClient client = new MongoClient(uri);
        closer.register(client::close);
        return client;
    }
```

### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java
        String fileName = new File(storeFile.getParent(), storeFile.getName() + ".linkedList").getAbsolutePath();
        FlatFileStoreIterator it = new FlatFileStoreIterator(blobStore, fileName, createBaseIterator(), preferredPathElements);
        closer.register(it::close);
        return it;
    }
```

### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java
    private Iterator<NodeStateEntry> createBaseIterator() {
        LineIterator itr = new LineIterator(createReader(storeFile, algorithm));
        closer.register(itr::close);
        return new AbstractIterator<NodeStateEntry>() {
            @Override
```

### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
    private static long getValue(List<Query> queries, Optional<Long> value, Function<Query, Optional<Long>> getter, Long defaultValue) {
        if (!value.isPresent()) {
            return queries.stream().map(getter::apply).filter(Optional::isPresent).map(Optional::get).findFirst()
                    .orElse(defaultValue);
        }
```

## RuleId[id=FinalizeNotProtected]
### FinalizeNotProtected
'finalize()' should have protected access, not public
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        @Override
        public void finalize() throws Throwable {
            try {
                if (this.connection != null) {
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    @Override
    public void finalize() throws Throwable {
        super.finalize();
        // TODO should not be needed, but it seems
```

## RuleId[id=MalformedFormatString]
### MalformedFormatString
Too many arguments for format string (found: 2, expected: 0)
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDumper.java`
#### Snippet
```java
                    serializer.setSerializeBlobContent(true);
                    serializer.serialize(indexDir);
                    System.out.printf("    - Dumping raw node content%n", indexPath, FileUtils.sizeOf(indexDir));
                    System.out.printf("    - %s (%s)%n", indexPath, FileUtils.sizeOf(indexDir));
                } catch (Exception e2){
```

## RuleId[id=WhileLoopSpinsOnField]
### WhileLoopSpinsOnField
`while` loop spins on field
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java
        @Override
        public void run() {
            while(!stopped) {
                try {
                    VersionGCStats stats = this.vgc.gc(maxAge, TimeUnit.SECONDS);
```

### WhileLoopSpinsOnField
`while` loop spins on field
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
                T context = prepareThreadExecutionContext();
                try {
                    while (running) {
                        statistics.addValue(execute(context));
                    }
```

### WhileLoopSpinsOnField
`while` loop spins on field
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/ConcurrentReader.java`
#### Snippet
```java
        Thread thread = new Thread(job.id) {
            @Override public void run() {
                while (running) {
                    job.process();
                }
```

## RuleId[id=DefaultAnnotationParam]
### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrIndexEditorProviderService.java`
#### Snippet
```java
 * @see org.apache.jackrabbit.oak.plugins.index.IndexEditorProvider
 */
@Component(metatype = false, immediate = true)
@Service(value = IndexEditorProvider.class)
public class SolrIndexEditorProviderService implements IndexEditorProvider {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
    private static final String IGNORED_PROPERTIES = "ignored.properties";

    @Property(value = {}, label = "used properties", unbounded = PropertyUnbounded.ARRAY)
    private static final String USED_PROPERTIES = "used.properties";

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
            label = "Custom Attributes",
            description = "Attributes retrieved when looking up LDAP entries. Leave empty to retrieve all attributes.",
            value = {},
            cardinality = Integer.MAX_VALUE
    )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
            label = "Enabled Protocols",
            description = "Allows to explicitly set the enabled protocols on the LdapConnectionConfig.",
            value = {},
            cardinality = Integer.MAX_VALUE
    )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DefaultSyncConfigImpl.java`
#### Snippet
```java
            label = "User auto membership",
            description = "List of groups that a synced user is added to automatically",
            value = {},
            cardinality = Integer.MAX_VALUE
    )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DefaultSyncConfigImpl.java`
#### Snippet
```java
            label = "Group auto membership",
            description = "List of groups that a synced group is added to automatically",
            value = {},
            cardinality = Integer.MAX_VALUE
    )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DefaultSyncConfigImpl.java`
#### Snippet
```java
            label = "Group property mapping",
            description = "List mapping definition of local properties from external ones.",
            value = {},
            cardinality = Integer.MAX_VALUE
    )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalPrincipalConfiguration.java`
#### Snippet
```java
                label = "System Principal Names", 
                description = "Names of additional 'SystemUserPrincipal' instances that are excluded from the protection check. Note that this configuration does not grant the required permission to perform the operation.", 
                value = {}, 
                cardinality = 10),
        @Property(name = OAK_SECURITY_NAME,
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-core/src/main/java/org/apache/jackrabbit/oak/cache/impl/ConsolidatedCacheStats.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils.registerMBean;

@Component(service = {})
public class ConsolidatedCacheStats implements ConsolidatedCacheStatsMBean {

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/cow/COWNodeStoreService.java`
#### Snippet
```java
@Component(
        configurationPolicy = ConfigurationPolicy.REQUIRE,
        service = {})
public class COWNodeStoreService {

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java
@Component(
        configurationPolicy = ConfigurationPolicy.REQUIRE,
        service = {})
@Designate(ocd = AsyncIndexerService.Configuration.class)
public class AsyncIndexerService {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexerMBeanImpl.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils.registerMBean;

@Component(service = {})
public class IndexerMBeanImpl extends AnnotatedStandardMBean implements IndexerMBean {
    private final Logger log = LoggerFactory.getLogger(getClass());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils.registerMBean;

@Component(service = {})
public class PropertyIndexStats extends AnnotatedStandardMBean implements PropertyIndexStatsMBean {

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/datastore/DataStoreTextProviderService.java`
#### Snippet
```java
@Component(
        configurationPolicy = ConfigurationPolicy.REQUIRE,
        service = {},
        name = "org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreTextProviderService")
@Designate(ocd = DataStoreTextProviderService.Configuration.class)
```

## RuleId[id=ThrowFromFinallyBlock]
### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/S3DataStoreFactory.java`
#### Snippet
```java
                        store.close();
                    } catch (DataStoreException e) {
                        throw new IOException(e);
                    }
                }
```

### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java
                        store.close();
                    } catch (DataStoreException e) {
                        throw new IOException(e);
                    }
                }
```

### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java
                LOG.warn("Error occurred while releasing indexer lock", e);
                if (success) {
                    throw e;
                }
            }
```

## RuleId[id=IfStatementWithIdenticalBranches]
### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    public byte[] getOrCreateReferenceKey() throws DataStoreException {
        try {
            if (secret != null && secret.length != 0) {
                return secret;
            } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/GuavaDeprecation.java`
#### Snippet
```java

    public static boolean deprecatedCaller(Exception ex, String className, List<String> allowed) {
        if (allowed == null) {
            return true;
        } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/FragmentMatcher.java`
#### Snippet
```java
            }
        }
        if (j == subject.length()) {
            while (i < pattern.length()) {
                patternChar = pattern.charAt(i);
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LogSilencer.java`
#### Snippet
```java
        final Long approxNow = System.currentTimeMillis();
        final Long prevOrNull = silences.putIfAbsent(key, approxNow);
        if (prevOrNull == null) {
            // then we did not have this key in the silences map
            // which means no silence yet
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    private static boolean hasChangesToCollisions(UpdateOp update) {
        if (!USECMODCOUNT) {
            return false;
        } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/Util.java`
#### Snippet
```java
                                       int importBehavior) throws AccessControlException {
        String name = checkValidPrincipal(principal).getName();
        if (importBehavior == ImportBehavior.BESTEFFORT) {
            return true;
        } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
    public byte[] getOrCreateReferenceKey() throws DataStoreException {
        try {
            if (secret != null && secret.length != 0) {
                return secret;
            } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java

    while (hashPosition < hashCount) {
      if (hashPosition == -1) {
        hashPosition++;
      } else {
```

## RuleId[id=SimplifyOptionalCallChains]
### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java

    private static long getValue(List<Query> queries, Optional<Long> value, Function<Query, Optional<Long>> getter, Long defaultValue) {
        if (!value.isPresent()) {
            return queries.stream().map(getter::apply).filter(Optional::isPresent).map(Optional::get).findFirst()
                    .orElse(defaultValue);
```

## RuleId[id=UnnecessarySuperQualifier]
### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/UnboundLdapConnectionPool.java`
#### Snippet
```java
     */
    public LdapConnection getConnection() throws Exception {
        return super.borrowObject();
    }

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/UnboundLdapConnectionPool.java`
#### Snippet
```java
     */
    public void releaseConnection(LdapConnection connection) throws Exception {
        super.returnObject(connection);
    }
}
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
                @Override
                protected boolean removeEldestEntry(Map.Entry<K, RecordId> eldest) {
                    boolean remove = super.size() > size;
                    if (remove) {
                        Default.super.evictionCount++;
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexTracker.java`
#### Snippet
```java

    public ElasticIndexNode acquireIndexNode(String path) {
        return super.acquireIndexNode(path, ElasticIndexDefinition.TYPE_ELASTICSEARCH);
    }

```

## RuleId[id=InfiniteLoopStatement]
### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            pid = Integer.parseInt(args[0]);
            long last = 0;
            while (true) {
                tick();
                long t = System.currentTimeMillis();
```

### InfiniteLoopStatement
`for` statement cannot complete without throwing an exception
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
            try {
                System.out.print("Creating garbage ");
                for (int i = 0; ; i++) {
                    Node n = s.getRootNode().addNode("node-" + i);
                    for (int j = 0; j < 1000; j++) {
```

### InfiniteLoopStatement
`for` statement cannot complete without throwing an exception
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
        t.start();

        for (;;) {
            Thread.sleep(TimeUnit.SECONDS.toMillis(10));
            Stopwatch sw = Stopwatch.createStarted();
```

## RuleId[id=CodeBlock2Expr]
### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/DynamoDBClient.java`
#### Snippet
```java
    public void deleteAllDocuments(String fileName) throws IOException {
        List<PrimaryKey> primaryKeys = getDocumentsStream(fileName).map(item -> {
            return new PrimaryKey(TABLE_ATTR_FILENAME, item.getString(TABLE_ATTR_FILENAME), TABLE_ATTR_TIMESTAMP,
                    item.getNumber(TABLE_ATTR_TIMESTAMP));
        }).collect(Collectors.toList());
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/properties/SystemPropertySupplier.java`
#### Snippet
```java
    private Function<String, String> sysPropReader = System::getProperty;
    private BiFunction<String, T, String> setMessageFormatter = (a, b) -> {
        return String.format("System property %s found to be '%s'", a, b);
    };

```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBMissingLastRevSeeker.java`
#### Snippet
```java
    private static final int MODE = SystemPropertySupplier.create(RDBMissingLastRevSeeker.class.getName() + ".MODE", DEFAULTMODE)
            .loggingTo(LOG).validateWith(value -> (value == 1 || value == 2)).formatSetMessage((name, value) -> {
                return String.format("Strategy for %s set to %s (via system property %s)", RDBMissingLastRevSeeker.class.getName(),
                        name, value);
            }).get();
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreProcBackend.java`
#### Snippet
```java
            List<Record> records = new ArrayList<>();

            segment.forEachRecord((number, type, offset) -> {
                records.add(new Record() {

```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndex.java`
#### Snippet
```java
     */
    public void forEach(EntryConsumer consumer) {
        references.forEach((generation, entries) -> {
            entries.forEach((segment, references) -> {
                references.forEach(reference -> {
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndex.java`
#### Snippet
```java
    public void forEach(EntryConsumer consumer) {
        references.forEach((generation, entries) -> {
            entries.forEach((segment, references) -> {
                references.forEach(reference -> {
                    consumer.consume(
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndex.java`
#### Snippet
```java
        references.forEach((generation, entries) -> {
            entries.forEach((segment, references) -> {
                references.forEach(reference -> {
                    consumer.consume(
                        generation.generation,
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/FileStoreUtil.java`
#### Snippet
```java
    static RecordId readPersistedHeadWithRetry(FileStore store, long timeout) {
        Supplier<RecordId> headSupplier = () -> {
            return store.getRevisions().getPersistedHead();
        };

```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            .create(RDBDocumentStore.class.getName() + ".BATCHUPDATES", Boolean.TRUE).loggingTo(LOG)
            .formatSetMessage((name, value) -> {
                return String.format("Batch updates disabled (system property %s set to '%s')", name, value);
            }).get();

```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
        // rerank scoreDocs
        Arrays.parallelSort(docs.scoreDocs, 0, docs.scoreDocs.length, (o1, o2) -> {
            return -1 * Double.compare(o1.score, o2.score);
        });

```

## RuleId[id=UseOfPropertiesAsHashtable]
### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AbstractAzureDataStoreService.java`
#### Snippet
```java
    protected DataStore createDataStore(ComponentContext context, Map<String, Object> config) {
        Properties properties = new Properties();
        properties.putAll(config);

        AzureDataStore dataStore = new AzureDataStore();
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FileDataStoreService.java`
#### Snippet
```java
            }
            Properties properties = new Properties();
            properties.putAll(config);
            log.info("Initializing with properties " + properties);

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FileDataStoreService.java`
#### Snippet
```java
        CachingFileDataStore dataStore = new CachingFileDataStore();
        dataStore.setStagingSplitPercentage(
            PropertiesUtil.toInteger(props.get("stagingSplitPercentage"), 0));
        dataStore.setProperties(props);
        Dictionary<String, Object> config = new Hashtable<String, Object>();
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
        Map<String, Object> map = Maps.newHashMap();
        for (Object key : props.keySet()) {
            map.put((String)key, props.get(key));
        }
        return map;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/DataStoreUtils.java`
#### Snippet
```java
        log.info("cleaning bucket [" + bucket + "]");
        Properties props = new Properties();
        props.putAll(map);
        AmazonS3Client s3service = Utils.openService(props);
        TransferManager tmx = new TransferManager(s3service);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/DataStoreUtils.java`
#### Snippet
```java
        // Add bucket info
        Properties props = new Properties();
        props.putAll(config);

        log.info("Using bucket [ {} ]", bucket);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/Manifest.java`
#### Snippet
```java

    private int getIntegerProperty(String name, int otherwise) {
        Object value = properties.get(name);

        if (value == null) {
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
        Map<String, Object> map = Maps.newHashMap();
        for (Object key : props.keySet()) {
            map.put((String)key, props.get(key));
        }
        return map;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/AbstractS3DataStoreService.java`
#### Snippet
```java
    protected DataStore createDataStore(ComponentContext context, Map<String, Object> config) {
        Properties properties = new Properties();
        properties.putAll(config);

        S3DataStore dataStore = new S3DataStore();
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        Map<String, Object> map = Maps.newHashMap();
        for (Object key : props.keySet()) {
            map.put((String)key, props.get(key));
        }
        return map;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java

            presignedDownloadURIVerifyExists =
                    PropertiesUtil.toBoolean(properties.get(S3Constants.PRESIGNED_HTTP_DOWNLOAD_URI_VERIFY_EXISTS), true);
            
            // Initialize reference key secret
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/ConfigurationParameters.java`
#### Snippet
```java
        for (Object name : properties.keySet()) {
            final String key = name.toString();
            options.put(key, properties.get(key));
        }
        return new ConfigurationParameters(options);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentRedisCache.java`
#### Snippet
```java
            Properties props = new Properties();
            props.load(new StringReader(redisInfoString));
            return (String) props.get(propertyName);
        }
    }
```

## RuleId[id=EmptyMethod]
### EmptyMethod
All implementations of this method are empty
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/IndexStatsMBean.java`
#### Snippet
```java
     */
    @Deprecated
    void resetConsolidatedExecutionStats();

    /**
```

### EmptyMethod
All implementations of this method are empty
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/SyncContext.java`
#### Snippet
```java
     * application.
     */
    void close();

}
```

### EmptyMethod
The method is empty
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
    }

    protected void afterTest(T executionContext) {

    }
```

### EmptyMethod
The method is empty
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CompositeAuthorizationTest.java`
#### Snippet
```java
        }

        private void performSomeRead(@Nullable Tree tree) {
//            Tree immutableTree = PermissionUtil.getImmutableTree(tree, immutableRoot);
//            if (immutableTree != null) {
```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateManyChildNodesTest.java`
#### Snippet
```java

    @Override
    public void beforeTest() throws RepositoryException {
    }

```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateManyIndexedNodesTest.java`
#### Snippet
```java

    @Override
    public void beforeTest() throws RepositoryException {
        // nothing so far
    }
```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateManyIndexedNodesTest.java`
#### Snippet
```java

    @Override
    public void afterTest() throws RepositoryException {
        // nothing so far
    }
```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java

    @Override
    protected void afterSuite() throws Exception {

    }
```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SetMultiPropertyTest.java`
#### Snippet
```java

    @Override
    public void afterTest() throws RepositoryException {
    }

```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/TransientManyChildNodesTest.java`
#### Snippet
```java

    @Override
    public void beforeTest() throws RepositoryException {
    }

```

### EmptyMethod
Empty method overrides empty method
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/TransientManyChildNodesTest.java`
#### Snippet
```java

    @Override
    public void afterTest() throws RepositoryException {
    }

```

### EmptyMethod
The method is empty
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
     * @throws Exception
     */
    protected void afterSuite() throws Exception {}

    /**
```

### EmptyMethod
The method is empty
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
     * @throws Exception if an error occurs
     */
    protected void afterIteration() throws Exception {}

    /**
```

### EmptyMethod
Empty method overrides empty method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/NameValidator.java`
#### Snippet
```java

    @Override
    public void propertyDeleted(PropertyState before) {
        // do nothing
    }
```

### EmptyMethod
Empty method overrides empty method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlValidator.java`
#### Snippet
```java

    @Override
    public void propertyDeleted(PropertyState before) {
        // nothing to do: mandatory properties will be enforced by node type validator
    }
```

### EmptyMethod
Empty method overrides empty method
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeValidator.java`
#### Snippet
```java
    //----------------------------------------------------------< Validator >---
    @Override
    public void propertyAdded(PropertyState after) {
        // no-op
    }
```

### EmptyMethod
The method is empty
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authentication/CustomLoginModuleFactory.java`
#### Snippet
```java
    @SuppressWarnings("UnusedDeclaration")
    @Deactivate
    private void deactivate() {
        // nop
    }
```

### EmptyMethod
The method is empty
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    @SuppressWarnings("UnusedDeclaration")
    @Activate
    private void activate(Map<String, Object> properties) {
        // EXERCISE
    }
```

### EmptyMethod
The method is empty
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    @SuppressWarnings("UnusedDeclaration")
    @Modified
    private void modified(Map<String, Object> properties) {
        // EXERCISE
    }
```

### EmptyMethod
The method is empty
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    @SuppressWarnings("UnusedDeclaration")
    @Deactivate
    private void deactivate(Map<String, Object> properties) {
        // EXERCISE
    }
```

### EmptyMethod
The method is empty
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
     * @param registry service registry
     */
    protected void preProcessRegistry(PojoServiceRegistry registry) {

    }
```

### EmptyMethod
Method only calls its super
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/QueryIndex.java`
#### Snippet
```java

                    @Override
                    protected Object clone() throws CloneNotSupportedException {
                        return super.clone();
                    }
```

### EmptyMethod
The method is empty
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
    }

    private static void removeUninterestingIndex(JsonObject indexDefinitions) {
    }

```

### EmptyMethod
The method is empty
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/CompositeStoreFixture.java`
#### Snippet
```java
    // this method allows to populate the /apps and /libs subtrees, which becomes
    // immutable after the composite node store is created
    private void populateSeed(Oak oakSeed) {
    }

```

### EmptyMethod
All implementations of this method are empty
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/IndexNodeManager.java`
#### Snippet
```java
    protected abstract ReaderRefreshPolicy getReaderRefreshPolicy();

    protected abstract void refreshReaders();

    protected abstract void releaseResources();
```

### EmptyMethod
All implementations of this method are empty
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/IndexNodeManager.java`
#### Snippet
```java
    protected abstract void refreshReaders();

    protected abstract void releaseResources();

    static boolean hasAsyncIndexerRun(NodeState root, String indexPath, NodeState defnNodeState) {
```

### EmptyMethod
Method only calls its super
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexEditorProvider.java`
#### Snippet
```java

        @Override
        public FulltextIndexEditorContext<D> getContext() {
            return super.getContext();
        }
```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginContext.java`
#### Snippet
```java
     * @see javax.security.auth.login.LoginContext#login()
     */
    void login() throws LoginException;

    /**
```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginContext.java`
#### Snippet
```java
     * @see javax.security.auth.login.LoginContext#logout()
     */
    void logout() throws LoginException;

}
```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/GroupAction.java`
#### Snippet
```java
     * @throws RepositoryException If an error occurs.
     */
    void onMemberRemoved(@NotNull Group group, @NotNull Authorizable member, @NotNull Root root, @NotNull NamePathMapper namePathMapper) throws RepositoryException;

    /**
```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/GroupAction.java`
#### Snippet
```java
     * @throws RepositoryException If an error occurs.
     */
    void onMembersRemoved(@NotNull Group group, @NotNull Iterable<String> memberIds, @NotNull Iterable<String> failedIds, @NotNull Root root, @NotNull NamePathMapper namePathMapper) throws RepositoryException;
}

```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/UserAction.java`
#### Snippet
```java
     * @throws RepositoryException If an error occurs.
     */
    void onGrantImpersonation(@NotNull User user, @NotNull Principal principal, @NotNull Root root, @NotNull NamePathMapper namePathMapper) throws RepositoryException;

    /**
```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/UserAction.java`
#### Snippet
```java
     * @throws RepositoryException If an error occurs.
     */
    void onRevokeImpersonation(@NotNull User user, @NotNull Principal principal, @NotNull Root root, @NotNull NamePathMapper namePathMapper) throws RepositoryException;
}
```

### EmptyMethod
All implementations of this method are empty
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/Importer.java`
#### Snippet
```java
     * @throws RepositoryException on a repository error
     */
    void start() throws RepositoryException;

    /**
```

### EmptyMethod
The method is empty
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/LoggingHook.java`
#### Snippet
```java
    }

    public void enter(NodeState before, NodeState after) {
        // do nothing
    }
```

### EmptyMethod
Empty method overrides empty method
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CrossMountReferenceValidator.java`
#### Snippet
```java

    @Override
    public void enter(NodeState before, NodeState after)
            throws CommitFailedException {
    }
```

### EmptyMethod
All implementations of this method are empty
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/DynamicBroadcastConfig.java`
#### Snippet
```java
     * @param id the unique id
     */
    void disconnect(String id);

}
```

## RuleId[id=GroovyUnusedAssignment]
### GroovyUnusedAssignment
Assignment is not used
in `oak-run/src/main/groovy/org/apache/jackrabbit/oak/console/commands/OakHelpCommand.groovy`
#### Snippet
```java

            if (command.shortcut.size() > maxShortcut) {
                maxShortcut = command.shortcut.size()
            }
        }
```

## RuleId[id=RedundantFieldInitialization]
### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryUploadOptions.java`
#### Snippet
```java
     */
    public static final class BinaryUploadOptionsBuilder {
        private boolean domainOverrideIgnore = false;

        private BinaryUploadOptionsBuilder() { }
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryDownloadOptions.java`
#### Snippet
```java
     */
    public static final class BinaryDownloadOptionsBuilder {
        private String mediaType = null;
        private String characterEncoding = null;
        private String fileName = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryDownloadOptions.java`
#### Snippet
```java
        private String mediaType = null;
        private String characterEncoding = null;
        private String fileName = null;
        private DispositionType dispositionType = DispositionType.INLINE;
        private boolean domainOverrideIgnored = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryDownloadOptions.java`
#### Snippet
```java
    public static final class BinaryDownloadOptionsBuilder {
        private String mediaType = null;
        private String characterEncoding = null;
        private String fileName = null;
        private DispositionType dispositionType = DispositionType.INLINE;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryDownloadOptions.java`
#### Snippet
```java
    private final String fileName;
    private final String dispositionType;
    private boolean downloadDomainIgnored = false;

    private BinaryDownloadOptions(final String mediaType,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/binary/BinaryDownloadOptions.java`
#### Snippet
```java
        private String fileName = null;
        private DispositionType dispositionType = DispositionType.INLINE;
        private boolean domainOverrideIgnored = false;

        private BinaryDownloadOptionsBuilder() { }
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/SameThreadExecutorService.java`
#### Snippet
```java
     */
    private int runningTasks = 0;
    private boolean shutdown = false;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/SameThreadExecutorService.java`
#### Snippet
```java
     *   - Terminated: runningTasks == 0 and shutdown == true
     */
    private int runningTasks = 0;
    private boolean shutdown = false;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordDownloadOptions.java`
#### Snippet
```java
    private boolean domainOverrideIgnored = false;

    private String contentTypeHeader = null;
    private String contentDispositionHeader = null;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordDownloadOptions.java`
#### Snippet
```java
    private final String fileName;
    private final String dispositionType;
    private boolean domainOverrideIgnored = false;

    private String contentTypeHeader = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordDownloadOptions.java`
#### Snippet
```java

    private String contentTypeHeader = null;
    private String contentDispositionHeader = null;

    private DataRecordDownloadOptions(final String mediaType,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/impl/NonDefaultMountWriteReportingObserver.java`
#### Snippet
```java
    
    private ChangeReporter reporter = new ChangeReporter();
    private NodeState oldState = null;

    protected void activate(Config cfg) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    private Integer requestTimeout;
    private int httpDownloadURIExpirySeconds = 0; // disabled by default
    private int httpUploadURIExpirySeconds = 0; // disabled by default
    private String uploadDomainOverride = null;
    private String downloadDomainOverride = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    private int httpUploadURIExpirySeconds = 0; // disabled by default
    private String uploadDomainOverride = null;
    private String downloadDomainOverride = null;
    private boolean createBlobContainer = true;
    private boolean presignedDownloadURIVerifyExists = true;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    private int httpDownloadURIExpirySeconds = 0; // disabled by default
    private int httpUploadURIExpirySeconds = 0; // disabled by default
    private String uploadDomainOverride = null;
    private String downloadDomainOverride = null;
    private boolean createBlobContainer = true;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
    private RetryPolicy retryPolicy;
    private Integer requestTimeout;
    private int httpDownloadURIExpirySeconds = 0; // disabled by default
    private int httpUploadURIExpirySeconds = 0; // disabled by default
    private String uploadDomainOverride = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/QueryIndex.java`
#### Snippet
```java
            protected PropertyRestriction propRestriction;
            protected String pathPrefix = "/";
            protected boolean supportsPathRestriction = false;
            protected Map<String, Object> attributes = Maps.newHashMap();
            protected String planName;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/blob/BlobUploadOptions.java`
#### Snippet
```java
@ProviderType
public class BlobUploadOptions {
    private boolean domainOverrideIgnored = false;

    public static final BlobUploadOptions DEFAULT = new BlobUploadOptions();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/blob/BlobDownloadOptions.java`
#### Snippet
```java
    private final String fileName;
    private final String dispositionType;
    private boolean domainOverrideIgnored = false;

    public static final BlobDownloadOptions DEFAULT = new BlobDownloadOptions();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-benchmarks-elastic/src/main/java/org/apache/jackrabbit/oak/benchmark/util/ElasticGlobalInitializer.java`
#### Snippet
```java
    private final String filePath;

    private String async = null;

    private Boolean storageEnabled;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/FrozenNodeLogger.java`
#### Snippet
```java
    private static final long LOG_INTERVAL = Long.getLong("oak.frozenNodeLogger.minInterval", 1000);

    private static long NO_MESSAGE_UNTIL = 0;

    private final Clock clock;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long saveTime = 0;
        public long readCount = 0;
        public long writeCount = 0;
        public long refreshCount = 0;
        public long saveCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long writeCount = 0;
        public long refreshCount = 0;
        public long saveCount = 0;

        public Counters(Clock clock) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long refreshTime = 0;
        public long saveTime = 0;
        public long readCount = 0;
        public long writeCount = 0;
        public long refreshCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        private final long loginTime;
        public long accessTime;
        public long readTime = 0;
        public long writeTime = 0;
        public long refreshTime = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long accessTime;
        public long readTime = 0;
        public long writeTime = 0;
        public long refreshTime = 0;
        public long saveTime = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long readTime = 0;
        public long writeTime = 0;
        public long refreshTime = 0;
        public long saveTime = 0;
        public long readCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long readCount = 0;
        public long writeCount = 0;
        public long refreshCount = 0;
        public long saveCount = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionStats.java`
#### Snippet
```java
        public long writeTime = 0;
        public long refreshTime = 0;
        public long saveTime = 0;
        public long readCount = 0;
        public long writeCount = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionContext.java`
#### Snippet
```java

    private SessionImpl session = null;
    private WorkspaceImpl workspace = null;

    private AccessControlManager accessControlManager;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionContext.java`
#### Snippet
```java
    private final ValueFactory valueFactory;

    private SessionImpl session = null;
    private WorkspaceImpl workspace = null;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
    private boolean isAlive = true;
    private int sessionOpCount;
    private long updateCount = 0;

    private String userData = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java

    private PermissionProvider permissionProvider;
    private boolean refreshPermissionProvider = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
    private long updateCount = 0;

    private String userData = null;

    private PermissionProvider permissionProvider;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/EventQueue.java`
#### Snippet
```java
    private final LinkedList<Event> queue = newLinkedList();

    private long position = 0;

    public EventQueue(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/PersistingDiff.java`
#### Snippet
```java
    private static class Reporter {

        private long count = 0;

        public void reportNode(Supplier<String> pathSupplier) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
    private Set<String> mergePaths = DEFAULT_MERGE_PATHS;

    private boolean skipCheckpoints = false;

    private boolean forceCheckpoints = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
    private boolean onlyVerify = false;

    private boolean migrateDocumentMetadata = false;

    private List<CommitHook> customCommitHooks = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
    private boolean filterLongNames = true;

    private boolean verify = false;

    private boolean onlyVerify = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
    private boolean migrateDocumentMetadata = false;

    private List<CommitHook> customCommitHooks = null;

    VersionCopyConfiguration versionCopyConfiguration = new VersionCopyConfiguration();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
    private boolean skipCheckpoints = false;

    private boolean forceCheckpoints = false;

    private boolean filterLongNames = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositorySidegrade.java`
#### Snippet
```java
    private boolean verify = false;

    private boolean onlyVerify = false;

    private boolean migrateDocumentMetadata = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/security/RestrictionEditor.java`
#### Snippet
```java
    private final TypePredicate isACE;

    private PropertyState glob = null;

    public RestrictionEditor(NodeBuilder builder, TypePredicate isACE) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/index/SolrIndexEditor.java`
#### Snippet
```java
    private final OakSolrConfiguration configuration;

    private boolean propertiesChanged = false;

    private final IndexUpdateCallback updateCallback;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    static class LoggingCompositeHook implements CommitHook {
        private final Collection<CommitHook> hooks;
        private boolean started = false;
        private final boolean earlyShutdown;
        private final RepositoryContext source;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private boolean skipOnError = false;

    private boolean earlyShutdown = false;

    private List<CommitHook> customCommitHooks = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
     * Whether or not to copy binaries by reference. Defaults to false.
     */
    private boolean copyBinariesByReference = false;

    private boolean skipOnError = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private boolean earlyShutdown = false;

    private List<CommitHook> customCommitHooks = null;

    private boolean checkLongNames = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private boolean copyBinariesByReference = false;

    private boolean skipOnError = false;

    private boolean earlyShutdown = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private List<CommitHook> customCommitHooks = null;

    private boolean checkLongNames = false;

    private boolean filterLongNames = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
    private boolean filterLongNames = true;

    private boolean skipInitialization = false;

    VersionCopyConfiguration versionCopyConfiguration = new VersionCopyConfiguration();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/DiffObserver.java`
#### Snippet
```java
public abstract class DiffObserver implements Observer {

    private NodeState before = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java
    private final BlobAccessProvider blobAccessProvider;

    private InputStream stream = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            private final Set<String> seenPaths = Sets.newHashSet();
            private final Deque<SolrResultRow> queue = Queues.newArrayDeque();
            private int offset = 0;
            private boolean noDocs = false;
            private long numFound = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            private int offset = 0;
            private boolean noDocs = false;
            private long numFound = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            private final Deque<SolrResultRow> queue = Queues.newArrayDeque();
            private int offset = 0;
            private boolean noDocs = false;
            private long numFound = 0;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
    private boolean noCertCheck = PARAM_NO_CERT_CHECK_DEFAULT;
    
    private String[] enabledProtocols = null;

    private String bindDN = PARAM_BIND_DN_DEFAULT;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
            Long.getLong("fast.clock.interval", 10);

    private long monotonic = 0;

    private long increasing = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java
    private long monotonic = 0;

    private long increasing = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/FlatFileBufferLinkedList.java`
#### Snippet
```java

    private int size = 0;
    private long memUsage = 0;
    private final long memLimit;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/FlatFileBufferLinkedList.java`
#### Snippet
```java
    private ListNode tail = head;

    private int size = 0;
    private long memUsage = 0;
    private final long memLimit;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileNodeStoreBuilder.java`
#### Snippet
```java
    private NodeStateEntryWriter entryWriter;
    private NodeStateEntryTraverserFactory nodeStateEntryTraverserFactory;
    private long entryCount = 0;
    private File flatFileStoreDir;
    private final MemoryManager memoryManager;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java
        return new OakFixture(name) {
            private DocumentNodeStore[] nodeStores;
            private VersionGarbageCollectionJob versionGarbageCollectionJob = null;
            private BlobStoreFixture blobStoreFixture;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java

        private static final Logger LOG = LoggerFactory.getLogger(OakFixture.class);
        private boolean stopped = false;
        final VersionGarbageCollector vgc;
        final long maxAge;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
    private ComponentContext context;
    private Whiteboard whiteboard;
    private long deactivationTimestamp = 0;

    @Reference
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    private String loggingPrefix;
    private LeaseCheckMode leaseCheck = ClusterNodeInfo.DEFAULT_LEASE_CHECK_MODE; // OAK-2739 is enabled by default also for non-osgi
    private boolean isReadOnlyMode = false;
    private Feature prefetchFeature;
    private Feature docStoreThrottlingFeature;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
    private int updateLimit = UPDATE_LIMIT;
    private int commitValueCacheSize = 10000;
    private boolean cacheEmptyCommitValue = false;
    private long maxRevisionAgeMillis = DEFAULT_JOURNAL_GC_MAX_AGE_MILLIS;
    private long maxRevisionGCAgeMillis = TimeUnit.SECONDS.toMillis(DEFAULT_VER_GC_MAX_AGE);
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        final Random random = new Random();

        boolean stopped = false;

        private void stop() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
        private final StringSort prevDocIdsToDelete;
        private final Set<String> exclude = Sets.newHashSet();
        private boolean sorted = false;
        private final Stopwatch timer;
        private final VersionGCOptions options;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/RevisionVector.java`
#### Snippet
```java
    public Iterator<Revision> iterator() {
        return new AbstractIterator<Revision>() {
            int i = 0;
            @Override
            protected Revision computeNext() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JsopNodeStateDiffer.java`
#### Snippet
```java

    private final String jsonDiff;
    private boolean withoutPropertyChanges = false;

    JsopNodeStateDiffer(String diff) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
     * from a failed leaseCheck (which is currently to stop oak-store-document bundle)
     */
    private boolean leaseCheckFailed = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
     * Applicable for entries being prepared to be persisted.
     */
    private boolean hasBranchCommits = false;

    private boolean concurrent;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
     * Applicable for entries being prepared to be persisted.
     */
    private volatile int numChangedNodes = 0;
    /**
     * Tracks if this entry has branch commits or not
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
    private final JournalPropertyHandler journalPropertyHandler;

    private volatile TreeNode changes = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
    private Set<Revision> changes;
    private Map<String, Set<Revision>> garbage;
    private int garbageCount = 0;
    private Set<Revision> mostRecentRevs;
    private Set<Revision> splitRevs;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java
                new Function<NodeDocument, Map.Entry<Path, UpdateOp>>() {

            int yieldCnt = 0;
            long lastYield = context.getClock().getTime();

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java
        private static int BATCHSIZE = 1024 * 64;
        private List<String> results = new LinkedList<String>();
        private String lastId = null;
        private String metaTable;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBOptions.java`
#### Snippet
```java
public class RDBOptions {

    private boolean dropTablesOnClose = false;
    private String tablePrefix = "";
    private int initialSchema = Integer.getInteger("org.apache.jackrabbit.oak.plugins.document.rdb.RDBOptions.INITIALSCHEMA", 2);
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java

    private Boolean setReadOnlyThrows = null; // null if we haven't checked yet
    private Boolean setReadWriteThrows = null; // null if we haven't checked yet

    private void setReadOnly(Connection c, boolean ro) throws SQLException {
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java

    private DataSource ds;
    private long closedTime = 0L;

    private static final org.slf4j.Logger LOG = LoggerFactory.getLogger(RDBConnectionHandler.class);
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
    // see https://issues.apache.org/jira/browse/OAK-2918

    private Boolean setReadOnlyThrows = null; // null if we haven't checked yet
    private Boolean setReadWriteThrows = null; // null if we haven't checked yet

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java

        private final long sweep2Lock;
        private int retryCount = 0;

        BackgroundSweep2Operation(DocumentNodeStore nodeStore,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    private static final Logger LOG = LoggerFactory.getLogger(Utils.class);

    private static String MODULE_VERSION = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/CountingDiff.java`
#### Snippet
```java
public class CountingDiff implements NodeStateDiff {

    private int changes = 0;

    public static int countChanges(NodeState before, NodeState after) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentNodeStoreBuilderBase.java`
#### Snippet
```java
    private long maxReplicationLagMillis = TimeUnit.HOURS.toMillis(6);
    private boolean clientSessionDisabled = false;
    private int leaseSocketTimeout = 0;
    private String uri;
    private String name;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentNodeStoreBuilderBase.java`
#### Snippet
```java
    private MongoStatus mongoStatus;
    private long maxReplicationLagMillis = TimeUnit.HOURS.toMillis(6);
    private boolean clientSessionDisabled = false;
    private int leaseSocketTimeout = 0;
    private String uri;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private long elapsed = 0;
        private String message = null;
        private long cnt = 0;
        private long pstart;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private RDBRow next = null;
        private Exception callstack = null;
        private long elapsed = 0;
        private String message = null;
        private long cnt = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private ResultSet rs;
        private RDBRow next = null;
        private Exception callstack = null;
        private long elapsed = 0;
        private String message = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private Exception callstack = null;
        private long elapsed = 0;
        private String message = null;
        private long cnt = 0;
        private long pstart;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        private PreparedStatement stmt;
        private ResultSet rs;
        private RDBRow next = null;
        private Exception callstack = null;
        private long elapsed = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ThrottlingDocumentStoreWrapper.java`
#### Snippet
```java

    private static final Logger LOG = getLogger(ThrottlingDocumentStoreWrapper.class);
    private volatile int lastLogTime = 0;

    @NotNull
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/async/CacheActionDispatcher.java`
#### Snippet
```java
     * The current memory usage of the cache actions in the queue.
     */
    private long memory = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/async/InvalidateCacheAction.java`
#### Snippet
```java
    private final Iterable<K> keys;

    private int memory = 0;

    InvalidateCacheAction(Iterable<K> keys, CacheWriteQueue<K, V> queue) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    private boolean compress = true;
    private boolean asyncCache = true;
    private boolean asyncDiffCache = false;
    private HashMap<CacheType, GenerationCache> caches = 
            new HashMap<CacheType, GenerationCache>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
    private int readGeneration = -1;
    private int writeGeneration;
    private int autoCompact = 0;
    private boolean appendOnly;
    private boolean manualCommit;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalUserValidatorProvider.java`
#### Snippet
```java
        private Tree parentAfter;
        
        boolean isExternalIdentity = false;
        
        private ExternalUserValidator() {}
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/DynamicGroupValidatorProvider.java`
#### Snippet
```java
        private Tree parentAfter;

        boolean isDynamicGroup = false;

        private DynamicGroupValidator() {}
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/InheritedMembershipIterator.java`
#### Snippet
```java
    private final List<Iterator<Group>> inherited = new ArrayList<>();
    private final Set<String> processed = new HashSet<>();
    private Iterator<Group> inheritedIterator = null;

    InheritedMembershipIterator(@NotNull Iterator<Group> groupIterator) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalAuthorizableActionProvider.java`
#### Snippet
```java
    private static final Logger log = LoggerFactory.getLogger(ExternalAuthorizableActionProvider.class);
    
    private boolean failAddMembersForDifferentIdp = false;
    
    private SyncHandlerMappingTracker syncHandlerMappingTracker;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
     * Ugly hack to override the bootstrap file location in the test cases
     */
    static String bootstrapOverride = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
    private InitialContext jndiContext;

    private Registry rmiRegistry = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
     * Ugly hack to override the bootstrap file location in the test cases
     */
    static String bootstrapOverride = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/MutableRecordNumbers.java`
#### Snippet
```java
        return new AbstractIterator<Entry>() {
            final int[] entries = copyOf(recordEntries, size * 2);
            int index = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
    private final MeterStats readStats;

    private volatile RecordId templateId = null;

    private volatile Template template = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeState.java`
#### Snippet
```java
    private volatile RecordId templateId = null;

    private volatile Template template = null;

    SegmentNodeState(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
    private long position = 0;

    private long mark = 0;

    SegmentStream(RecordId recordId, ListRecord blocks, long length) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentStream.java`
#### Snippet
```java
    private final long length;

    private long position = 0;

    private long mark = 0;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriterBuilder.java`
#### Snippet
```java
    private Supplier<GCGeneration> generation = Suppliers.ofInstance(GCGeneration.NULL);

    private boolean pooled = false;

    @NotNull
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
        private final Weigher<K, RecordId> weigher;

        private long weight = 0;

        static final <K> Supplier<RecordCache<K>> defaultFactory(final int size, @NotNull final Weigher<K, RecordId> weigher) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/GCNodeWriteMonitor.java`
#### Snippet
```java
     * Start timestamp of compaction (reset at each {@code init()} call).
     */
    private long start = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/GCNodeWriteMonitor.java`
#### Snippet
```java
    private long binaries;

    private boolean running = false;

    public GCNodeWriteMonitor(long gcProgressLog, @NotNull GCMonitor gcMonitor) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/Scheduler.java`
#### Snippet
```java
 */
public class Scheduler implements Closeable {
    private static int schedulerNumber = 0;
    private static final Logger LOG = LoggerFactory.getLogger(Scheduler.class);

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java
    private RandomAccessFile access = null;

    private FileChannel channel = null;

    private volatile long length;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarWriter.java`
#### Snippet
```java
     * Should only be accessed from synchronized code.
     */
    private RandomAccessFile access = null;

    private FileChannel channel = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
     * Should only be accessed from synchronized code.
     */
    private boolean closed = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/PriorityCache.java`
#### Snippet
```java
    @NotNull
    private final Weigher<K, V> weigher;
    private long weight = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/store/StandbyStoreService.java`
#### Snippet
```java

    @Reference(policy = STATIC, policyOption = GREEDY)
    private SegmentStoreProvider storeProvider = null;

    private final Closer closer = Closer.create();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/compaction/SegmentGCOptions.java`
#### Snippet
```java
    private GCType gcType = GCType.FULL;

    private boolean offline = false;

    private int memoryThreshold = MEMORY_THRESHOLD_DEFAULT;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
    private static int PROGRESS_WAITING_TIME_MILLIS = 20 * 1000;

    private volatile int count = 0;
    private volatile int emptyNodesCount = 0;
    private volatile int wrongNodesCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java

    private volatile int count = 0;
    private volatile int emptyNodesCount = 0;
    private volatile int wrongNodesCount = 0;
    private volatile boolean runningJob = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
    private volatile int emptyNodesCount = 0;
    private volatile int wrongNodesCount = 0;
    private volatile boolean runningJob = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
    private volatile int count = 0;
    private volatile int emptyNodesCount = 0;
    private volatile int wrongNodesCount = 0;
    private volatile boolean runningJob = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
    static class PopulatorStats {
        int read = 0;
        int ignored = 0;
        int processed = 0;
        int parsed = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int processed = 0;
        int parsed = 0;
        int errored = 0;
        int empty = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int ignored = 0;
        int processed = 0;
        int parsed = 0;
        int errored = 0;
        int empty = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java

    static class PopulatorStats {
        int read = 0;
        int ignored = 0;
        int processed = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int parsed = 0;
        int errored = 0;
        int empty = 0;

        Stopwatch w = Stopwatch.createStarted();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java
        int read = 0;
        int ignored = 0;
        int processed = 0;
        int parsed = 0;
        int errored = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Progress.java`
#### Snippet
```java
public class Progress implements DocumentProcessor {

    private long numDocuments = 0;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/check/Summary.java`
#### Snippet
```java
    private final int numThreads;

    private int numDocuments = 0;

    private final Stopwatch sw = Stopwatch.createStarted();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/CNDStreamWriter.java`
#### Snippet
```java
    private final PrintWriter w;
    private State arrayState = State.NONE;
    private int depth = 0;
    private String deferredName;
    private String indent = "  ";
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/OakVersion.java`
#### Snippet
```java
public final class OakVersion {

    private static String version = null;

    private OakVersion() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java`
#### Snippet
```java
     * Whether to pre-populate the version store with intermediate nodes.
     */
    private boolean prePopulateVS = false;

    @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
     * @see #treePermission
     */
    private TreePermission rootPermission = null; // initialized lazily

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
     * changes.
     */
    private TreePermission treePermission = null; // initialized lazily

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
        private final boolean skipSizeCheck;

        private boolean loaded = false;

        private Long[] size = {-1L, -1L};
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        private boolean dataIsNChar = false;
        private boolean hasVersion = false;
        private boolean hasSplitDocs = false;
        private int dataLimitInOctets = 16384;
        private String schemaInfo = "";
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        private boolean idIsBinary = false;
        private boolean dataIsNChar = false;
        private boolean hasVersion = false;
        private boolean hasSplitDocs = false;
        private int dataLimitInOctets = 16384;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        private final String name;
        private boolean idIsBinary = false;
        private boolean dataIsNChar = false;
        private boolean hasVersion = false;
        private boolean hasSplitDocs = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        private final String catalog;
        private final String name;
        private boolean idIsBinary = false;
        private boolean dataIsNChar = false;
        private boolean hasVersion = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/NamespaceEditor.java`
#### Snippet
```java
    private final NodeBuilder builder;

    private boolean modified = false;

    private final NodeState namespaces;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        private Long lease = null;

        private boolean hasLease = false;

        public AsyncUpdateCallback(NodeStore store, String name,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java

        private Set<String> paths = null;
        private String newIndexTaskName = null;
        private String lastReferencedCp;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    class IndexTaskSpliter {

        private Set<String> paths = null;
        private String newIndexTaskName = null;
        private String lastReferencedCp;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java

        /** Flag to avoid repeatedly logging failure warnings */
        private volatile boolean failing = false;
        private long latestErrorWarn = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        private String latestError = null;
        private String latestErrorTime = "";
        private long consecutiveFailures = 0;

        public void start(String now) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java

        private String failingSince = "";
        private String latestError = null;
        private String latestErrorTime = "";
        private long consecutiveFailures = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
         * disabled
         */
        private Long lease = null;

        private boolean hasLease = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
        /** Flag to avoid repeatedly logging failure warnings */
        private volatile boolean failing = false;
        private long latestErrorWarn = 0;

        private String failingSince = "";
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/inventory/IndexPrinter.java`
#### Snippet
```java
        private final StringBuilder sb;

        private int leftPadding = 0;

        public TextPrinterOutput() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionEditor.java`
#### Snippet
```java
    private final NodeBuilder node;
    private final String name;
    private Boolean isVersionable = null;
    private NodeState before;
    private NodeState after;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/ItemDefinitionTemplate.java`
#### Snippet
```java
        implements ItemDefinition {

    private boolean residual = false;

    private boolean isAutoCreated = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/ItemDefinitionTemplate.java`
#### Snippet
```java
    private boolean isProtected = false;

    private boolean isMandatory = false;

    protected ItemDefinitionTemplate(NameMapper mapper) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/ItemDefinitionTemplate.java`
#### Snippet
```java
    private boolean residual = false;

    private boolean isAutoCreated = false;

    private int onParentVersion = OnParentVersionAction.COPY;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/ItemDefinitionTemplate.java`
#### Snippet
```java
    private int onParentVersion = OnParentVersionAction.COPY;

    private boolean isProtected = false;

    private boolean isMandatory = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NamedTemplate.java`
#### Snippet
```java
    private final NameMapper mapper;

    private String oakName = null; // not defined by default

    protected NamedTemplate(@NotNull NameMapper mapper) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/PropertyDefinitionTemplateImpl.java`
#### Snippet
```java
    private String[] valueConstraints = null;

    private Value[] defaultValues = null;

    PropertyDefinitionTemplateImpl(NameMapper mapper) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/PropertyDefinitionTemplateImpl.java`
#### Snippet
```java
    private int requiredType = PropertyType.STRING;

    private boolean isMultiple = false;

    private boolean fullTextSearchable = true;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/PropertyDefinitionTemplateImpl.java`
#### Snippet
```java
    private String[] queryOperators = ALL_OPERATORS;

    private String[] valueConstraints = null;

    private Value[] defaultValues = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeDefinitionTemplateImpl.java`
#### Snippet
```java
    private boolean allowSameNameSiblings = false;

    private String defaultPrimaryTypeOakName = null;

    private String[] requiredPrimaryTypeOakNames = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeDefinitionTemplateImpl.java`
#### Snippet
```java
        implements NodeDefinitionTemplate {

    private boolean allowSameNameSiblings = false;

    private String defaultPrimaryTypeOakName = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeDefinitionTemplateImpl.java`
#### Snippet
```java
    private String defaultPrimaryTypeOakName = null;

    private String[] requiredPrimaryTypeOakNames = null;

    public NodeDefinitionTemplateImpl(NameMapper mapper) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java
    protected boolean queryable;

    private String primaryItemOakName = null; // not defined by default

    @NotNull
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java
    private List<PropertyDefinitionTemplateImpl> propertyDefinitionTemplates = null;

    private List<NodeDefinitionTemplateImpl> nodeDefinitionTemplates = null;

    NodeTypeTemplateImpl(@NotNull NameMapper mapper) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java
    private String[] superTypeOakNames = new String[0];

    private List<PropertyDefinitionTemplateImpl> propertyDefinitionTemplates = null;

    private List<NodeDefinitionTemplateImpl> nodeDefinitionTemplates = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionCopyConfiguration.java`
#### Snippet
```java

    // Provide option to remove the target version history before it is copied from another source.
    private boolean removeTargetVersionHistory = false;

    private Calendar copyVersions;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/EventGenerator.java`
#### Snippet
```java
         * Number of changes seen so far.
         */
        private int counter = 0;

        private Continuation(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
    private IdentifierManager identifierManager;

    private boolean initialized = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/internal/Preconditions.java`
#### Snippet
```java
    private final Set<String> candidates = newHashSet();

    private boolean dirty = false;

    private boolean satisfied = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/principal/EveryoneFilter.java`
#### Snippet
```java
     */
    private static final class EveryonePredicate implements Predicate<Principal> {
        private boolean servedEveryone = false;

        @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionCacheBuilder.java`
#### Snippet
```java
    private boolean usePathEntryMap;

    private boolean initialized = false;

    PermissionCacheBuilder(@NotNull PermissionStore store) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionEntryProviderImpl.java`
#### Snippet
```java
    private boolean noExistingNames;

    private boolean initialized = false;
    private boolean isRefreshed = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionEntryProviderImpl.java`
#### Snippet
```java

    private boolean initialized = false;
    private boolean isRefreshed = false;

    private PermissionCache permissionCache;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlImporter.java`
#### Snippet
```java
    private ReadOnlyNodeTypeManager ntMgr;

    private boolean initialized = false;
    private int childStatus;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    private class Mutator implements Runnable {
        final Session session = loginWriter();
        int mutationCount = 0;
        @Override
        public void run() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    private class Searcher implements Runnable {
        final Session session = loginWriter();
        int resultSize = 0;
        @Override
        public void run() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java

    // 0 = off by default
    private int httpUploadURIExpirySeconds = 0;
    private int httpDownloadURIExpirySeconds = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
    // 0 = off by default
    private int httpUploadURIExpirySeconds = 0;
    private int httpDownloadURIExpirySeconds = 0;

    private boolean presignedDownloadURIVerifyExists = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticSpellcheckIterator.java`
#### Snippet
```java

    private Iterator<FulltextResultRow> internalIterator;
    private boolean loaded = false;

    ElasticSpellcheckIterator(@NotNull ElasticIndexNode indexNode,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexStatistics.java`
#### Snippet
```java
    // that would fail calls to reader on-demand.
    static boolean failReadingFields = false;
    static boolean failReadingSyntheticallyFalliableField = false;

    static final String SYNTHETICALLY_FALLIABLE_FIELD = "synthetically-falliable-field";
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexStatistics.java`
#### Snippet
```java
    // For ease of tests as there didn't seem an easy way to make an IndexReader delegator
    // that would fail calls to reader on-demand.
    static boolean failReadingFields = false;
    static boolean failReadingSyntheticallyFalliableField = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticStatisticalFacetAsyncProvider.java`
#### Snippet
```java
    private int sampled = 0;
    private int seen = 0;
    private long accessibleCount = 0;

    private final Map<String, List<FulltextIndex.Facet>> facetMap = new HashMap<>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticStatisticalFacetAsyncProvider.java`
#### Snippet
```java

    private final Random rGen;
    private int sampled = 0;
    private int seen = 0;
    private long accessibleCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticStatisticalFacetAsyncProvider.java`
#### Snippet
```java
    private final Random rGen;
    private int sampled = 0;
    private int seen = 0;
    private long accessibleCount = 0;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexProvider.java`
#### Snippet
```java
    protected final IndexTracker tracker;

    protected volatile QueryIndex.NodeAggregator aggregator = null;

    IndexAugmentorFactory augmentorFactory;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
    };

    private boolean closed = false;

    LuceneIndexNodeManager(String name, LuceneIndexDefinition definition, List<LuceneIndexReader> readers, @Nullable NRTIndex nrtIndex)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
            private ScoreDoc lastDoc;
            private int nextBatchSize = LUCENE_QUERY_BATCH_SIZE;
            private boolean noDocs = false;
            private long lastSearchIndexerVersion;
            private int reloadCount;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/TapeSampling.java`
#### Snippet
```java
    public Iterator<T> getSamples() {
        return new AbstractIterator<T>() {
            int sampled = 0;
            int seen = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/TapeSampling.java`
#### Snippet
```java
        return new AbstractIterator<T>() {
            int sampled = 0;
            int seen = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SecureSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
    private final IndexReader reader;
    private final SortedSetDocValuesReaderState state;
    private FacetResult facetResult = null;

    SecureSortedSetDocValuesFacetCounts(DefaultSortedSetDocValuesReaderState state, FacetsCollector facetsCollector, Filter filter) throws IOException {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
    private final SecureFacetConfiguration secureFacetConfiguration;
    private final DefaultSortedSetDocValuesReaderState state;
    private FacetResult facetResult = null;

    StatisticalSortedSetDocValuesFacetCounts(DefaultSortedSetDocValuesReaderState state,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java

        return new AbstractIterator<Integer>() {
            MatchingDocs matchingDocs = null;
            DocIdSetIterator docIdSetIterator = null;
            int nextDocId = NO_MORE_DOCS;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
        return new AbstractIterator<Integer>() {
            MatchingDocs matchingDocs = null;
            DocIdSetIterator docIdSetIterator = null;
            int nextDocId = NO_MORE_DOCS;
            @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/FeaturePositionTokenFilter.java`
#### Snippet
```java

    private final CharTermAttribute termAttribute = addAttribute(CharTermAttribute.class);
    private int tokenCount = 0;

    FeaturePositionTokenFilter(TokenStream stream) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/LuceneJournalPropertyBuilder.java`
#### Snippet
```java
    //Use HashMultimap to ensure that indexPath is not duplicated per node path
    private final Multimap<String, String> indexedNodes = HashMultimap.create();
    private boolean limitWarningLogged = false;
    private final int maxSize;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/MinHashFilter.java`
#### Snippet
```java
  private int endOffset;
  
  private boolean exhausted = false;

  private final CharTermAttribute termAttribute = addAttribute(CharTermAttribute.class);
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneInitializerHelper.java`
#### Snippet
```java
    private final String filePath;

    private String async = null;

    private Boolean storageEnabled;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
    private Directory directory;
    private long genAtStart = -1;
    private boolean indexUpdated = false;

    public DefaultIndexWriter(LuceneIndexDefinition definition, NodeBuilder definitionBuilder,
```

### RedundantFieldInitialization
Field initialization to `0d` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
     */
    private double avgCommitRateDocs = 0d;
    private double avgCommitRateMB = 0d;
    private double avgSegs = 0;

```

### RedundantFieldInitialization
Field initialization to `0d` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
     * initial values for time series
     */
    private double avgCommitRateDocs = 0d;
    private double avgCommitRateMB = 0d;
    private double avgSegs = 0;
```

### RedundantFieldInitialization
Field initialization to `0d` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
    private int maxNoOfSegsForMitigation = DEFAULT_MAX_NO_OF_SEGS_FOR_MITIGATION;

    private double docCount = 0d;
    private double mb = 0d;
    private double time = System.currentTimeMillis();
```

### RedundantFieldInitialization
Field initialization to `0d` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java

    private double docCount = 0d;
    private double mb = 0d;
    private double time = System.currentTimeMillis();

```

### RedundantFieldInitialization
Field initialization to `0d` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
     * current step in current time series batch
     */
    private double timeSeriesCount = 0d;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
    private double avgCommitRateDocs = 0d;
    private double avgCommitRateMB = 0d;
    private double avgSegs = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            private int indexNodeId = -1;
            private FacetProvider facetProvider;
            private int rewoundCount = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            private ScoreDoc lastDoc;
            private int nextBatchSize = LUCENE_QUERY_BATCH_SIZE;
            private boolean noDocs = false;
            private IndexSearcher indexSearcher;
            private int indexNodeId = -1;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakIndexInput.java`
#### Snippet
```java

    final OakIndexFile file;
    private boolean isClone = false;
    private final WeakIdentityMap<OakIndexInput, Boolean> clones;
    private final String dirDetails;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
     * flushed.
     */
    private boolean blobModified = false;

    private final String dirDetails;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
     * flush, the metadata, and the list of blobs need to be stored.
     */
    private boolean dataModified = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
     * operations).
     */
    private long position = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
     * The current position within the file (in streaming case, useful only for reading).
     */
    private long position = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
     * flush the metadata and the blob to the store.
     */
    private boolean blobModified = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
            private final AtomicBoolean fileFlushScheduled = new AtomicBoolean(false);

            private volatile String inUseFileName = null;

            private synchronized void flushDeletedBlobs() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java

        private volatile boolean cancelled;
        private volatile boolean activeDeletionUnsafe = false;


```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java

    public static ActiveDeletedBlobCollector NOOP = new ActiveDeletedBlobCollector() {
        private volatile boolean activeDeletionUnsafe = false;

        @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/IndexNodeManager.java`
#### Snippet
```java
    public static final String ASYNC = ":async";

    private boolean closed = false;

    private final ReadWriteLock lock = new ReentrantReadWriteLock();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextIndexEditorContext.java`
#### Snippet
```java
  private final FulltextIndexWriterFactory<D> indexWriterFactory;

  private FulltextIndexWriter<D> writer = null;

  private long indexedNodes;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/TapeSampling.java`
#### Snippet
```java
    public Iterator<T> getSamples() {
        return new AbstractIterator<T>() {
            int sampled = 0;
            int seen = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/TapeSampling.java`
#### Snippet
```java
        return new AbstractIterator<T>() {
            int sampled = 0;
            int seen = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextIndexEditor.java`
#### Snippet
```java
  private String path;

  private boolean propertiesChanged = false;

  private final List<PropertyState> propertiesModified = Lists.newArrayList();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractSharedBackend.java`
#### Snippet
```java
     * {@link #getReferenceKey()} when the key is first accessed.
     */
    private byte[] referenceKey = null;


```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/OrderedIndexInsertOrderedPropertyTest.java`
#### Snippet
```java
 */
public class OrderedIndexInsertOrderedPropertyTest extends OrderedIndexInsertBaseTest {
   private Node index = null;
   
   @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/GetURITest.java`
#### Snippet
```java
     * Iteration counter used to avoid the split document edge case in DocumentMK.
     */
    private int iteration = 0;

    @Override @SuppressWarnings("deprecation")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
        private int nodeCnt = 0;
        private int propertyCnt = 0;
        private int noAccess = 0;
    }
}
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java

    private static final class Cnt {
        private int nodeCnt = 0;
        private int propertyCnt = 0;
        private int noAccess = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReadDeepTreeTest.java`
#### Snippet
```java
    private static final class Cnt {
        private int nodeCnt = 0;
        private int propertyCnt = 0;
        private int noAccess = 0;
    }
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java
        final Session session = loginWriter();
        final String[] words = getRandomWords();
        int hash = 0; // summary variable to prevent JIT compiler tricks
    }

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java
    private final Random random = new Random(42); //fixed seed

    private int count = 0;

    private int maxRowsToFetch = Integer.getInteger("maxRowsToFetch", 100);
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentFileWriteTest.java`
#### Snippet
```java
        private final Node parent;

        private long counter = 0;

        Writer(int id) throws RepositoryException {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/OrderedIndexInsertStandardPropertyTest.java`
#### Snippet
```java
 */
public class OrderedIndexInsertStandardPropertyTest extends OrderedIndexInsertBaseTest {
   private Node index = null;
   
   @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BasicWriteTest.java`
#### Snippet
```java
     * DocumentMK.
     */
    private int iteration = 0;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
    private class Reader implements Runnable {
        final Session session = loginWriter();
        int readCount = 0;
        @Override
        public void run() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
        final EvictingQueue<String> buffer = EvictingQueue.create(assetSampleSize);
        private List<String> assets;
        private int assetCount = 0;


```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
    private class Mutator implements Runnable {
        final Session session = loginWriter();
        int mutationCount = 0;
        @Override
        public void run() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentReadAccessControlledTreeTest.java`
#### Snippet
```java
public class ConcurrentReadAccessControlledTreeTest extends ConcurrentReadDeepTreeTest {

    int counter = 0;

    public ConcurrentReadAccessControlledTreeTest(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsCheckedOutAddMixinSetPropertyTest.java`
#### Snippet
```java
        private int nodeCnt = 0;
        private int propertyCnt = 0;
        private int nodeWrites = 0;
        private int noAccess = 0;
    }
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsCheckedOutAddMixinSetPropertyTest.java`
#### Snippet
```java

    private static final class Cnt {
        private int nodeCnt = 0;
        private int propertyCnt = 0;
        private int nodeWrites = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsCheckedOutAddMixinSetPropertyTest.java`
#### Snippet
```java
        private int propertyCnt = 0;
        private int nodeWrites = 0;
        private int noAccess = 0;
    }
}
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/IsCheckedOutAddMixinSetPropertyTest.java`
#### Snippet
```java
    private static final class Cnt {
        private int nodeCnt = 0;
        private int propertyCnt = 0;
        private int nodeWrites = 0;
        private int noAccess = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentReadAccessControlledTreeTest2.java`
#### Snippet
```java
public class ConcurrentReadAccessControlledTreeTest2 extends ConcurrentReadDeepTreeTest {

    int counter = 0;
    final List<Principal> principals = new ArrayList<Principal>();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SmallFileWriteTest.java`
#### Snippet
```java
     * Iteration counter used to avoid the slit document edge case in DocumentMK.
     */
    private int iteration = 0;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
                createNodes.add(service.submit(new Callable<Object>() {
                    private final Session session = createSession(repository);
                    private int numNodes = 0;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentHasPermissionTest2.java`
#### Snippet
```java
public class ConcurrentHasPermissionTest2 extends ConcurrentHasPermissionTest {

    int counter = 0;
    final List<Principal> principals = new ArrayList<Principal>();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
        private final Session session = loginWriter();
        private final String path;
        private int count = 0;

        private Writer(String path) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
        private final long start = System.currentTimeMillis();
        private int count = 0;
        private int code = 0;

        private int traverse(Session session) throws Exception {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java

        private final long start = System.currentTimeMillis();
        private int count = 0;
        private int code = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityStandbySuite.java`
#### Snippet
```java
     * Iteration counter
     */
    private int iteration = 0;

    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
    protected static ScalabilityOptions scalabilityOptions = null;
    protected static OptionSet options;
    private static boolean initFlag = false;

    public static void main(String[] args) throws Exception {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/ScalabilityRunner.java`
#### Snippet
```java
    protected static List<ScalabilitySuite> allSuites = Lists.newArrayList();
    private static OptionParser parser = new OptionParser();
    protected static ScalabilityOptions scalabilityOptions = null;
    protected static OptionSet options;
    private static boolean initFlag = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
        private Context defaultCtx = DEFAULT;
        @Nullable
        private Context[] delegatees = null;

        private void refresh(@NotNull List<? extends SecurityConfiguration> configurations) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/RestrictionImpl.java`
#### Snippet
```java
    private final PropertyState property;

    private int hashCode = 0;

    public RestrictionImpl(@NotNull PropertyState property, @NotNull RestrictionDefinition def) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/AbstractRestrictionProvider.java`
#### Snippet
```java

    private final Map<String, RestrictionDefinition> supported;
    private CompositeRestrictionProvider composite = null;

    public AbstractRestrictionProvider(@NotNull Map<String, ? extends RestrictionDefinition> definitions) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java

    protected static List<Benchmark> allBenchmarks = Lists.newArrayList();
    protected static StatisticsProvider statsProvider = null;

    private static OptionParser parser = new OptionParser();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java
    protected static BenchmarkOptions benchmarkOptions = null;
    protected static OptionSet options;
    private static boolean initFlag = false;


```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BenchmarkRunner.java`
#### Snippet
```java

    private static OptionParser parser = new OptionParser();
    protected static BenchmarkOptions benchmarkOptions = null;
    protected static OptionSet options;
    private static boolean initFlag = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/AbstractRemoteSegmentArchiveWriter.java`
#### Snippet
```java
    protected long totalLength;

    protected volatile boolean created = false;

    public AbstractRemoteSegmentArchiveWriter(IOMonitor ioMonitor, FileStoreMonitor monitor) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AbstractAccessControlManager.java`
#### Snippet
```java
    private PermissionProvider permissionProvider;
    private PrivilegeBitsProvider privilegeBitsProvider;
    private boolean doRefresh = false;

    protected AbstractAccessControlManager(@NotNull Root root,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java

        public static class Breaker {
            private boolean shouldBreak = false;

            public void stop() {
```

## RuleId[id=RedundantImplements]
### RedundantImplements
Redundant interface declaration `Closeable`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
 *
 */
public class BlobIdTracker implements Closeable, BlobTracker {
    private static final Logger LOG = LoggerFactory.getLogger(BlobIdTracker.class);

```

### RedundantImplements
Redundant interface declaration `BlobStore`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
 */
public class DataStoreBlobStore
    implements DataStore, BlobStore, GarbageCollectableBlobStore, BlobTrackingStore, TypedDataStore,
        BlobAccessProvider {
    private final Logger log = LoggerFactory.getLogger(getClass());
```

### RedundantImplements
Redundant interface declaration `FulltextQueryIndex`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
 * A Solr based {@link QueryIndex}
 */
public class SolrQueryIndex implements FulltextQueryIndex, QueryIndex.AdvanceFulltextQueryIndex {

    public static final String TYPE = "solr";
```

### RedundantImplements
Redundant interface declaration `Iterator`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStoreIterator.java`
#### Snippet
```java
import com.google.common.collect.AbstractIterator;

class FlatFileStoreIterator extends AbstractIterator<NodeStateEntry> implements Iterator<NodeStateEntry>, Closeable {
    private final Logger log = LoggerFactory.getLogger(getClass());
    private final Iterator<NodeStateEntry> baseItr;
```

### RedundantImplements
Redundant interface declaration `Closeable`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/StringSort.java`
#### Snippet
```java
    }

    private static class CloseableIterator extends LineIterator implements Closeable {
        public CloseableIterator(Reader reader) throws IllegalArgumentException {
            super(reader);
```

### RedundantImplements
Redundant interface declaration `PropertyState`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/PropertyStateWrapper.java`
#### Snippet
```java

//TODO Move this to org.apache.jackrabbit.oak.plugins.memory
class PropertyStateWrapper extends AbstractPropertyState implements PropertyState {
    private final PropertyState delegate;

```

### RedundantImplements
Redundant interface declaration `Closeable`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexer.java`
#### Snippet
```java
import java.util.List;

public class DocumentStoreIndexer extends DocumentStoreIndexerBase implements Closeable {

    private final ExtendedIndexHelper extendedIndexHelper;
```

### RedundantImplements
Redundant interface declaration `SecurityConfiguration`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserConfigurationImpl.java`
#### Snippet
```java
@Component(service = {UserConfiguration.class, SecurityConfiguration.class})
@Designate(ocd = UserConfigurationImpl.Configuration.class)
public class UserConfigurationImpl extends ConfigurationBase implements UserConfiguration, SecurityConfiguration {

    @ObjectClassDefinition(name = "Apache Jackrabbit Oak UserConfiguration")
```

### RedundantImplements
Redundant interface declaration `PermissionProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/AllPermissionProviderImpl.java`
#### Snippet
```java
 * permission everywhere.
 */
public final class AllPermissionProviderImpl implements PermissionProvider, AggregatedPermissionProvider {

    private static final Set<String> ALL = Collections.singleton(PrivilegeConstants.JCR_ALL);
```

### RedundantImplements
Redundant interface declaration `PermissionProvider`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionProviderImpl.java`
#### Snippet
```java
import java.util.Set;

public class PermissionProviderImpl implements PermissionProvider, AccessControlConstants, PermissionConstants, AggregatedPermissionProvider {

    private final Root root;
```

### RedundantImplements
Redundant interface declaration `Runnable`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
     * </pre>
     */
    private class BlobWriter extends Writer implements Runnable {
        BlobWriter(String id, int maxAssets, SynchronizedDescriptiveStatistics writeStats)
                throws RepositoryException {
```

### RedundantImplements
Redundant interface declaration `OptionalSteps`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticConnection.java`
#### Snippet
```java
        }

        private static class Steps implements IndexPrefixStep, BasicConnectionStep, OptionalSteps, BuildStep {

            private String indexPrefix;
```

### RedundantImplements
Redundant interface declaration `AdvancedQueryIndex`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
 *
 */
public abstract class FulltextIndex implements AdvancedQueryIndex, QueryIndex, NativeQueryIndex,
        AdvanceFulltextQueryIndex {

```

### RedundantImplements
Redundant interface declaration `QueryIndex`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
 *
 */
public abstract class FulltextIndex implements AdvancedQueryIndex, QueryIndex, NativeQueryIndex,
        AdvanceFulltextQueryIndex {

```

### RedundantImplements
Redundant interface declaration `NativeQueryIndex`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
 *
 */
public abstract class FulltextIndex implements AdvancedQueryIndex, QueryIndex, NativeQueryIndex,
        AdvanceFulltextQueryIndex {

```

### RedundantImplements
Redundant interface declaration `ReaderRefreshPolicy`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/update/RefreshOnWritePolicy.java`
#### Snippet
```java
 * This is the default policy for synchronous indexes.
 */
public class RefreshOnWritePolicy implements ReaderRefreshPolicy, IndexUpdateListener {
    private final AtomicBoolean dirty = new AtomicBoolean();

```

### RedundantImplements
Redundant interface declaration `ReaderRefreshPolicy`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/update/TimedRefreshPolicy.java`
#### Snippet
```java
 * It is the default policy for asynchronous indexes.
 */
public class TimedRefreshPolicy implements ReaderRefreshPolicy, IndexUpdateListener {
    private final AtomicBoolean dirty = new AtomicBoolean();
    private final Clock clock;
```

### RedundantImplements
Redundant interface declaration `ReaderRefreshPolicy`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/update/RefreshOnReadPolicy.java`
#### Snippet
```java
 * *This is an experimental policy. Currently it causes high contention*
 */
public class RefreshOnReadPolicy implements ReaderRefreshPolicy, IndexUpdateListener {
    private final AtomicBoolean dirty = new AtomicBoolean();
    private final Object lock = new Object();
```

## RuleId[id=InstanceofCatchParameter]
### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Commit.java`
#### Snippet
```java
                LOG.error("Exception occurred after commit. Rollback will be suppressed.", e);
            } else {
                if (e instanceof ConflictException) {
                    throw e;
                } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/AbstractCompactionStrategy.java`
#### Snippet
```java
            return compactionAborted(context, nextGeneration);
        } catch (Throwable e) {
            context.getGCListener().error("compaction encountered an error", e instanceof Exception ? (Exception) e : new Exception(e));
            return compactionAborted(context, nextGeneration);
        }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/ClusterNodeStoreLock.java`
#### Snippet
```java
                long time = System.currentTimeMillis() - start;
                if (time > MAX_RETRY_TIME) {
                    if (e instanceof CommitFailedException) {
                        throw (CommitFailedException) e;
                    }
```

## RuleId[id=ExceptionNameDoesntEndWithException]
### ExceptionNameDoesntEndWithException
Exception class name `ExternalBlobFound` does not end with 'Exception'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/FileStoreUtils.java`
#### Snippet
```java
    }

    private static class ExternalBlobFound extends RuntimeException {
        private static final long serialVersionUID = 1L;
    }
```

### ExceptionNameDoesntEndWithException
Exception class name `ExternalBlobFound` does not end with 'Exception'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentFactory.java`
#### Snippet
```java
    }

    private static class ExternalBlobFound extends RuntimeException {
    }
}
```

### ExceptionNameDoesntEndWithException
Exception class name `ServletExceptionWithCause` does not end with 'Exception'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/ServletExceptionWithCause.java`
#### Snippet
```java
 * @see <a href="https://issues.apache.org/jira/browse/JCR-1598">JCR-1598</a>
 */
public class ServletExceptionWithCause extends ServletException {

    /**
```

## RuleId[id=StringBufferReplaceableByStringBuilder]
### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java

        Iterator<String> it = PathUtils.elements(globPath).iterator();
        StringBuffer sb = new StringBuffer();
        while(it.hasNext()) {
            String element = it.next();
```

### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
            return null;
        }
        StringBuffer sb = new StringBuffer();
        for (Integer id : ids) {
            if (sb.length() != 0) {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        }

        StringBuffer sb = new StringBuffer();
        for (Integer a : arr) {
            if (sb.length() != 0) {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer query` may be declared as 'StringBuilder'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java

        private boolean refill() {
            StringBuffer query = new StringBuffer();
            query.append("select ID from " + metaTable);
            if (maxLastModifiedTime > 0) {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer sql` may be declared as 'StringBuilder'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        boolean useCaseStatement = lastmodcount != -1 && lastmodified >= 1;
        StringBuffer sql = new StringBuffer();
        String fields;
        if (tmd.hasSplitDocs()) {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer ret` may be declared as 'StringBuilder'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/AbstractConfig.java`
#### Snippet
```java

    public String toMapName(String name, char delim) {
        StringBuffer ret = new StringBuffer();
        String[] elems = Text.explode(name, delim);
        ret.append(elems[0]);
```

### StringBufferReplaceableByStringBuilder
`StringBuffer buff` may be declared as 'StringBuilder'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/cursor/PrefetchCursor.java`
#### Snippet
```java
        Matcher m = FUNCTION.matcher(relativePath);
        // appendReplacement with StringBuilder is not supported in Java 8
        StringBuffer buff = new StringBuffer();
        // iterate over all the "${...}"
        try {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/GlobbingPathHelper.java`
#### Snippet
```java
        }
        List<String> elements = Lists.newLinkedList(elements(pathWithGlobs));
        StringBuffer sb = new StringBuffer();
        sb.append("\\Q");
        if (pathWithGlobs.startsWith("/")) {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer format` may be declared as 'StringBuilder'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                System.out.format(header.toString(), "Iterations/Load");

                StringBuffer format = new StringBuffer();
                format.append("%-30.30s");
                System.out.format(format.toString(), "\t" + "Time (ms)");
```

## RuleId[id=FuseStreamOperations]
### FuseStreamOperations
Stream may be extended replacing 'sort'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java

        List<IndexName> newNames = newIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());
        Collections.sort(newNames);
        List<IndexName> allNames = allIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
```

### FuseStreamOperations
Stream may be extended replacing 'sort'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
        Collections.sort(newNames);
        List<IndexName> allNames = allIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());
        Collections.sort(allNames);
        HashMap<String, JsonObject> mergedMap = new HashMap<>();
```

### FuseStreamOperations
Stream may be extended replacing TreeSet
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
            Set<String> principals = extractGroupPrincipals(s, id);
            Set<String> expected = new TreeSet<>(StreamSupport.stream(idp.getDeclaredGroupRefs(id).spliterator(), false)
                    .map(ExternalIdentityRef::getId).collect(Collectors.toSet()));
            expected.addAll(auto);
            assertEquals(expected, principals);
```

### FuseStreamOperations
Stream may be extended replacing TreeSet
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
        Set<String> principals = new TreeSet<>(sd.getAuthInfo().getPrincipals().stream()
                .map((p) -> p.getName().startsWith("p_") ? p.getName().substring(2) : p.getName())
                .collect(Collectors.toSet()));
        principals.remove("everyone");
        principals.remove(userId);
```

## RuleId[id=RedundantStringFormatCall]
### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

        System.out.printf("Compacting %s\n", path);
        System.out.printf("    before\n");
        List<String> beforeArchives = Collections.emptyList();
        try {
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

        printArchives(System.out, beforeArchives);
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(persistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java
                return 1;
            }
            System.out.printf("    -> cleaning up\n");
            store.cleanup();
            JournalFile journal = persistence.getJournalFile();
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsCompact.java`
#### Snippet
```java

        watch.stop();
        System.out.printf("    after\n");
        List<String> afterArchives = Collections.emptyList();
        try {
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
        System.out.printf("Compacting %s\n", path);
        System.out.printf(" to %s\n", targetPath);
        System.out.printf("    before\n");
        List<String> beforeArchives = Collections.emptyList();
        try {
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

        printArchives(System.out, beforeArchives);
        System.out.printf("    -> compacting\n");

        try (FileStore store = newFileStore(splitPersistence, Files.createTempDir(), strictVersionCheck, segmentCacheSize,
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java
            }

            System.out.printf("    -> [skipping] cleaning up\n");
        } catch (Exception e) {
            watch.stop();
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/AzureCompact.java`
#### Snippet
```java

        watch.stop();
        System.out.printf("    after\n");
        List<String> afterArchives = Collections.emptyList();
        try {
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
    public int run() {
        System.out.printf("Compacting %s with %s and %s compactor type\n", path, fileAccessMode.description, compactorType.description());
        System.out.printf("    before\n");
        Set<File> beforeFiles = listFiles(path);
        printFiles(System.out, beforeFiles);
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
        printFiles(System.out, beforeFiles);
        System.out.printf("    size %s\n", printableSize(sizeOfDirectory(path)));
        System.out.printf("    -> compacting\n");

        Stopwatch watch = Stopwatch.createStarted();
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java
                return 1;
            }
            System.out.printf("    -> cleaning up\n");
            store.cleanup();
            JournalFile journal = new LocalJournalFile(path, "journal.log");
```

### RedundantStringFormatCall
Redundant call to `printf()`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Compact.java`
#### Snippet
```java

        watch.stop();
        System.out.printf("    after\n");
        Set<File> afterFiles = listFiles(path);
        printFiles(System.out, afterFiles);
```

### RedundantStringFormatCall
Redundant call to `format()`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
        String format = sformat.toString();

        out.println(String.format(format, header.toArray()));
        for (Map<String, String> m : body) {
            List<String> l = new ArrayList<>();
```

### RedundantStringFormatCall
Redundant call to `format()`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
                l.add(m.get(h));
            }
            out.println(String.format(format, l.toArray()));
        }
    }
```

### RedundantStringFormatCall
Redundant call to `format()`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java

            System.out.println(
                    format("tracing %s with %s", segmentStore, trace.getDescription()));
            System.out.println(
                    format("mmap=%b, segment cache=%d", mmap, segmentCache));
```

### RedundantStringFormatCall
Redundant call to `format()`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java
                    format("tracing %s with %s", segmentStore, trace.getDescription()));
            System.out.println(
                    format("mmap=%b, segment cache=%d", mmap, segmentCache));
            System.out.println(
                    format("Writing trace to %s", output));
```

### RedundantStringFormatCall
Redundant call to `format()`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/IOTraceCommand.java`
#### Snippet
```java
                    format("mmap=%b, segment cache=%d", mmap, segmentCache));
            System.out.println(
                    format("Writing trace to %s", output));

            trace.collectIOTrace(segmentStore, mmap, segmentCache, output);
```

## RuleId[id=ZeroLengthArrayInitialization]
### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authentication/token/TokenCredentials.java`
#### Snippet
```java
    public String[] getAttributeNames() {
        synchronized (attributes) {
            return attributes.keySet().toArray(new String[0]);
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlManager.java`
#### Snippet
```java
            privileges.add(privilegeFromName(privilegeName));
        }
        return new PrivilegeCollection.Default(privileges.toArray(new Privilege[0]), this);
    }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitEventFilter.java`
#### Snippet
```java
    private boolean noLocal;
    private String[] absPaths = new String[]{};
    private String[] excludedPaths = new String[]{};
    private boolean noExternal;
    private boolean noInternal;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitEventFilter.java`
#### Snippet
```java
    private String[] nodeTypeNames;
    private boolean noLocal;
    private String[] absPaths = new String[]{};
    private String[] excludedPaths = new String[]{};
    private boolean noExternal;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        int len = (int) (data.length - blockId.getPos());
        if (len < 0) {
            return new byte[0];
        }
        byte[] d2 = new byte[len];
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
    public void setRepositoryId(String repositoryId) throws DataStoreException {
        this.repositoryId = repositoryId;
        addMetadataRecord(new ByteArrayInputStream(new byte[0]),
            SharedDataStoreUtils.SharedStoreRecordType.REPOSITORY.getNameFromId(repositoryId));
        log.info("repositoryId registered in blobstore - [{}]", repositoryId);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/NodeTypeMountedNodeStoreChecker.java`
#### Snippet
```java
        invalidNodeType = checkNotNull(PropertiesUtil.toString(ctx.getProperties().get(INVALID_NODE_TYPE), null), INVALID_NODE_TYPE);
        errorLabel = checkNotNull(PropertiesUtil.toString(ctx.getProperties().get(ERROR_LABEL), null), ERROR_LABEL);
        excludedNodeTypes = ImmutableSet.copyOf(PropertiesUtil.toStringArray(ctx.getProperties().get(EXCLUDED_NODE_TYPES), new String[0]));
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/QueryLimits.java`
#### Snippet
```java
     */
    default @NotNull String[] getIgnoredClassNamesInCallTrace() {
        return new String[] {};
    }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QueryObjectModelImpl.java`
#### Snippet
```java
    @Override
    public Ordering[] getOrderings() {
        return orderings == null ? new Ordering[0] : orderings;
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/query/qom/QueryObjectModelImpl.java`
#### Snippet
```java
    @Override
    public Column[] getColumns() {
        return columns == null ? new Column[0] : columns;
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionImpl.java`
#### Snippet
```java
        } catch (RepositoryException e) {
            log.warn("Unable to retrieve lock tokens from session", e);
            return new String[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java
                    return mixinTypes.toArray(new NodeType[mixinTypes.size()]);
                } else {
                    return new NodeType[0];
                }
            }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/SafeDataStoreBlobStore.java`
#### Snippet
```java
            if (record == null) {
                log.warn("No blob found for id [{}]", blobId);
                return new ByteArrayInputStream(new byte[0]);
            }
            InputStream in = getDataRecord(blobId).getStream();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/JackrabbitNodeState.java`
#### Snippet
```java
                } catch (RepositoryException e) {
                    warn("Unable to access blob contents", e);
                    return new ByteArrayInputStream(new byte[0]);
                }
            }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/RepositoryUpgrade.java`
#### Snippet
```java
                customAggrPrivs.add(privilege);
            } else {
                pMgr.registerPrivilege(privilegeName, privilege.isAbstract(), new String[0]);
                logger.info("- " + privilegeName);
            }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/AwsSegmentArchiveWriter.java`
#### Snippet
```java
    protected void afterQueueClosed() throws IOException {
        writeIndex();
        directory.writeObject("closed", new byte[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureSegmentArchiveWriter.java`
#### Snippet
```java
    protected void afterQueueClosed() throws IOException {
        try {
            getBlob("closed").uploadFromByteArray(new byte[0], 0, 0);
        } catch (StorageException e) {
            throw new IOException(e);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
        private String idAttribute;

        private String[] customAttributes = {};

        private String extraFilter;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
        }

        String[] enabledProtocols = params.getConfigValue(PARAM_ENABLED_PROTOCOLS, new String[0]);
        if (enabledProtocols.length > 0) {
            cfg.setEnabledProtocols(enabledProtocols);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DummyDataStore.java`
#### Snippet
```java

        public InputStream getStream() throws DataStoreException {
            return new ByteArrayInputStream(new byte[0]);
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        if (obj == null || !(obj instanceof String)) {
            logger.trace("<init>: {} : {}", ACTIVE_KEY, obj);
            this.activeIds = new Integer[0];
        } else {
            this.activeIds = csvToIntegerArray((String) obj);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        if (obj2 == null || !(obj2 instanceof String)) {
            logger.trace("<init>: {} : {}", RECOVERING_KEY, obj2);
            this.recoveringIds = new Integer[0];
        } else {
            this.recoveringIds = csvToIntegerArray((String) obj2);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
        if (obj3 == null || !(obj3 instanceof String)) {
            logger.trace("<init>: {} : {}", INACTIVE_KEY, obj3);
            this.inactiveIds = new Integer[0];
        } else {
            this.inactiveIds = csvToIntegerArray((String) obj3);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java
        int len = (int) (data.length - blockId.getPos());
        if (len < 0) {
            return new byte[0];
        }
        byte[] d2 = new byte[len];
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoBlobStore.java`
#### Snippet
```java
        int len = (int) (data.length - blockId.getPos());
        if (len < 0) {
            return new byte[0];
        }
        byte[] d2 = new byte[len];
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        List<String> updatedKeys = new ArrayList<String>();
        List<Long> modCounts = LOG.isTraceEnabled() ? new ArrayList<>() : null;
        int[] batchResults = new int[0];

        PreparedStatement stmt = connection.prepareStatement("update " + tmd.getName()
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/Include.java`
#### Snippet
```java
        }

        this.elements = elementList.toArray(new String[0]);
        this.directive = directive;
        this.pattern = pattern;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/jmx/ResultMessages.java`
#### Snippet
```java

    String[] getMessages() {
        return messages.toArray(new String[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncConfigTracker.java`
#### Snippet
```java
    private ServiceReference[] getReferences() {
        ServiceReference[] refs = getServiceReferences();
        return (refs == null) ? new ServiceReference[0] : refs;
    }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncConfigTracker.java`
#### Snippet
```java
        for (ServiceReference ref : getReferences()) {
            String syncHandlerName = PropertiesUtil.toString(ref.getProperty(DefaultSyncConfigImpl.PARAM_NAME), DefaultSyncConfigImpl.PARAM_NAME_DEFAULT);
            String[] groupAuthMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_GROUP_AUTO_MEMBERSHIP), new String[0]);
            populateMap(syncHandlerName, groupAuthMembership, autoMembership);
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncConfigTracker.java`
#### Snippet
```java
        for (ServiceReference ref : getReferences()) {
            String syncHandlerName = PropertiesUtil.toString(ref.getProperty(DefaultSyncConfigImpl.PARAM_NAME), DefaultSyncConfigImpl.PARAM_NAME_DEFAULT);
            String[] userAuthMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_USER_AUTO_MEMBERSHIP), new String[0]);
            String[] groupAuthMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_GROUP_AUTO_MEMBERSHIP), new String[0]);

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/SyncConfigTracker.java`
#### Snippet
```java
            String syncHandlerName = PropertiesUtil.toString(ref.getProperty(DefaultSyncConfigImpl.PARAM_NAME), DefaultSyncConfigImpl.PARAM_NAME_DEFAULT);
            String[] userAuthMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_USER_AUTO_MEMBERSHIP), new String[0]);
            String[] groupAuthMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_GROUP_AUTO_MEMBERSHIP), new String[0]);

            populateMap(syncHandlerName, ObjectArrays.concat(userAuthMembership, groupAuthMembership, String.class), autoMembership);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/jmx/Delegatee.java`
#### Snippet
```java
        if (!(context instanceof DynamicSyncContext)) {
            log.debug("SyncHandler doesn't have dynamic-membership configured. Ignore request to convert external users.");
            return new String[0];
        }
        
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/AutoMembershipPrincipals.java`
#### Snippet
```java
        Map<Principal,Group> map = collectGlobalAutoMembershipPrincipals(idpName);
        if (includeInherited) {
            for (Group gr : map.values().toArray(new Group[0])) {
                collectInheritedPrincipals(gr, map);
            }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ProtectionConfigImpl.java`
#### Snippet
```java
    @Activate
    protected void activate(Map<String, Object> properties) {
        propertyNames = ImmutableSet.copyOf(PropertiesUtil.toStringArray(properties.get("propertyNames"), new String[0]));
        nodeNames = ImmutableSet.copyOf(PropertiesUtil.toStringArray(properties.get("nodeNames"), new String[0]));
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ProtectionConfigImpl.java`
#### Snippet
```java
    protected void activate(Map<String, Object> properties) {
        propertyNames = ImmutableSet.copyOf(PropertiesUtil.toStringArray(properties.get("propertyNames"), new String[0]));
        nodeNames = ImmutableSet.copyOf(PropertiesUtil.toStringArray(properties.get("nodeNames"), new String[0]));
    }
    
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DynamicSyncContext.java`
#### Snippet
```java
        Value[] vs;
        if (syncEntries.isEmpty()) {
            vs = new Value[0];
        } else {
            Set<String> principalsNames = syncEntries.stream().map(syncEntry -> syncEntry.principalName).collect(Collectors.toSet());
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalAuthorizableActionProvider.java`
#### Snippet
```java
                for (ServiceReference ref : refs) {
                    String syncHandlerName = PropertiesUtil.toString(ref.getProperty(DefaultSyncConfigImpl.PARAM_NAME), DefaultSyncConfigImpl.PARAM_NAME_DEFAULT);
                    String[] userMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_USER_AUTO_MEMBERSHIP), new String[0]);
                    String[] groupMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_GROUP_AUTO_MEMBERSHIP), new String[0]);

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalAuthorizableActionProvider.java`
#### Snippet
```java
                    String syncHandlerName = PropertiesUtil.toString(ref.getProperty(DefaultSyncConfigImpl.PARAM_NAME), DefaultSyncConfigImpl.PARAM_NAME_DEFAULT);
                    String[] userMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_USER_AUTO_MEMBERSHIP), new String[0]);
                    String[] groupMembership = PropertiesUtil.toStringArray(ref.getProperty(DefaultSyncConfigImpl.PARAM_GROUP_AUTO_MEMBERSHIP), new String[0]);

                    for (String idpName : mappingTracker.getIdpNames(syncHandlerName)) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/Utils.java`
#### Snippet
```java
                return null;
            }
        }), Predicates.notNull()).toArray(new Privilege[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalGroupPrincipalProvider.java`
#### Snippet
```java
        groupAutoMembershipPrincipals = (idpNamesWithDynamicGroups.isEmpty()) ? null : 
                new AutoMembershipPrincipals(userManager, 
                Collections.singletonMap(idpName, syncConfig.group().getAutoMembership().toArray(new String[0])),
                Collections.singletonMap(idpName, syncConfig.group().getAutoMembershipConfig()));
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/basic/DefaultSyncContext.java`
#### Snippet
```java
            }
        }
        return values.toArray(new Value[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalPolicyImporter.java`
#### Snippet
```java
                    List<Value> values = prop.getValues(targetType);
                    if (policy.isMultiValueRestriction(restrictionName)) {
                        mvRestrictions.put(restrictionName, values.toArray(new Value[0]));
                    } else {
                        restrictions.put(restrictionName, values.get(0));
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-examples/standalone/src/main/java/org/apache/jackrabbit/oak/standalone/WebConsoleSupport.java`
#### Snippet
```java
        public Object authenticate(String userName, String password) {
            final Credentials creds = new SimpleCredentials(userName,
                    (password == null) ? new char[0] : password.toCharArray());
            Session session = null;
            try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
            }
            // add read-policy if there are configured paths
            if (ReadPolicy.canAccessReadPolicy(getPermissionProvider(), readPaths.toArray(new String[0]))) {
                effective.add(ReadPolicy.INSTANCE);
            }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
                effective.add(ReadPolicy.INSTANCE);
            }
            return effective.toArray(new AccessControlPolicy[0]);
        } else {
            return new JackrabbitAccessControlPolicy[0];
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
            return effective.toArray(new AccessControlPolicy[0]);
        } else {
            return new JackrabbitAccessControlPolicy[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
            policy = createPolicy(principal, false);
        }
        return (policy == null) ? new JackrabbitAccessControlPolicy[0] : new JackrabbitAccessControlPolicy[]{policy};
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java

        log.debug("Editing access control policies by path is not supported. Use JackrabbitAccessControlManager.getPolicies(Principal principal)");
        return new AccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
            }
        }
        return new JackrabbitAccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositorySecurityProvider.java`
#### Snippet
```java
    public Object authenticate(String userName, String password) {
        final Credentials creds = new SimpleCredentials(userName,
                (password == null) ? new char[0] : password.toCharArray());
        Session session = null;
        try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedPermissionProvider.java`
#### Snippet
```java

        private ReadablePaths(@NotNull MgrProvider mgrProvider) {
            paths = mgrProvider.getSecurityProvider().getParameters(AuthorizationConfiguration.NAME).getConfigValue(PermissionConstants.PARAM_READ_PATHS, PermissionConstants.DEFAULT_READ_PATHS).toArray(new String[0]);
            substrPaths = new String[paths.length];
            int i = 0;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordId.java`
#### Snippet
```java
    static final int SERIALIZED_RECORD_ID_BYTES = 20;

    public static RecordId[] EMPTY_ARRAY = new RecordId[0];

    public static RecordId fromString(SegmentIdProvider idProvider, String id) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
            Arrays.sort(this.properties);
        } else {
            this.properties = new PropertyTemplate[0];
        }
        this.childName = childName;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/BasicReadOnlyBlobStore.java`
#### Snippet
```java
    @Override
    public InputStream getInputStream(String blobId) throws IOException {
        return new ByteArrayInputStream(new byte[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
                }
                list.add(file.getAbsolutePath());
                Profiler.main(list.toArray(new String[0]));
            }
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                }
            }
            return list.toArray(new String[0]);
        }
        throw new IllegalArgumentException(jsonValue);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
        }
        data.put("$resultSize", (long) list.size());
        data.put("$result", list.toArray(new String[0]));
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java

    // EXERCISE define sensible properties (e.g. configuration parameters for principal lookup on a third party system)
    private String[] knownPrincipals = new String[0];

    @NotNull
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java
    public void setParameters(@NotNull ConfigurationParameters config) {
        super.setParameters(config);
        knownPrincipals = config.getConfigValue(PARAM_KNOWN_PRINCIPALS, new String[0]);
    }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java
    @Modified
    private void modified(Map<String, Object> properties) {
        knownPrincipals = PropertiesUtil.toStringArray(properties.get(PARAM_KNOWN_PRINCIPALS), new String[0]);
        log.info("CustomPrincipalConfiguration.modified: {}", knownPrincipals);
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java
    @Activate
    private void activate(Map<String, Object> properties) {
        knownPrincipals = PropertiesUtil.toStringArray(properties.get(PARAM_KNOWN_PRINCIPALS), new String[0]);
        log.info("CustomPrincipalConfiguration.activate: {}", knownPrincipals);
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java
    @Deactivate
    private void deactivate(Map<String, Object> properties) {
        knownPrincipals = new String[0];
        log.info("CustomPrincipalConfiguration.deactivate");
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
    public Privilege[] getSupportedPrivileges(String absPath) throws PathNotFoundException, RepositoryException {
        // EXERCISE
        return new Privilege[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
    public AccessControlPolicy[] getPolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
    public AccessControlPolicy[] getEffectivePolicies(String absPath) throws PathNotFoundException, AccessDeniedException, RepositoryException {
        // EXERCISE
        return new AccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
    public Privilege[] getPrivileges(String absPath) throws PathNotFoundException, RepositoryException {
        // EXERCISE
        return new Privilege[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/PredefinedAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public AccessControlPolicy[] getPolicies(String absPath) {
                return new AccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/PredefinedAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public AccessControlPolicy[] getEffectivePolicies(@NotNull Set<Principal> set) {
                return new AccessControlPolicy[0];
            }
        };
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/PredefinedAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public JackrabbitAccessControlPolicy[] getPolicies(@NotNull Principal principal) {
                return new JackrabbitAccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/PredefinedAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public JackrabbitAccessControlPolicy[] getApplicablePolicies(@NotNull Principal principal) {
                return new JackrabbitAccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/PredefinedAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public AccessControlPolicy[] getEffectivePolicies(String absPath) {
                return new AccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public JackrabbitAccessControlPolicy[] getApplicablePolicies(@NotNull Principal principal) {
                return new JackrabbitAccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public AccessControlPolicy[] getPolicies(String absPath) {
                return new AccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
            @Override
            public JackrabbitAccessControlPolicy[] getPolicies(@NotNull Principal principal) {
                return new JackrabbitAccessControlPolicy[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/ContentRepositoryImpl.java`
#### Snippet
```java
                .put(QUERY_FULL_TEXT_SEARCH_SUPPORTED, falseValue, true, true)
                .put(QUERY_JOINS, valueFactory.createValue(QUERY_JOINS_NONE), true, true)
                .put(QUERY_LANGUAGES, new Value[0], false, true)
                .put(QUERY_STORED_QUERIES_SUPPORTED, falseValue, true, true)
                .put(QUERY_XPATH_DOC_ORDER, falseValue, true, true)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineSettings.java`
#### Snippet
```java
    private final QueryValidator queryValidator = new QueryValidator();

    private String[] classNamesIgnoredInCallTrace = new String[] {};


```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            (SourceImpl) copyElementAndCheckReference(this.source),
            this.constraint,
            cols.toArray(new ColumnImpl[0]),
            this.namePathMapper,
            this.settings,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/ImmutableTree.java`
#### Snippet
```java
    @Override
    protected String[] getInternalNodeNames() {
        return new String[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
        //Add placeholder
        result.put("path", path);
        result.put("values", new String[0]);
        result.put("paths", new String[0]);
        result.put("valueCount", -1L);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
        result.put("path", path);
        result.put("values", new String[0]);
        result.put("paths", new String[0]);
        result.put("valueCount", -1L);
        result.put("pathCount", -1);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/RootNodeDefinition.java`
#### Snippet
```java
            return new NodeType[] {ntManager.getNodeType(REP_ROOT)};
        } catch (RepositoryException e) {
            return new NodeType[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/PropertyDefinitionImpl.java`
#### Snippet
```java
            return valConstraints;
        } else {
            return new String[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java

    @NotNull
    private String[] superTypeOakNames = new String[0];

    private List<PropertyDefinitionTemplateImpl> propertyDefinitionTemplates = null;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
            // 2. adjust members of the group
            if (!toRemove.isEmpty()) {
                Set<String> failed = gr.removeMembers(toRemove.keySet().toArray(new String[0]));
                if (!failed.isEmpty()) {
                    handleFailure("Failed removing members " + Iterables.toString(failed) + " to " + gr);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java

            if (!toAdd.isEmpty()) {
                Set<String> failed = gr.addMembers(toAdd.keySet().toArray(new String[0]));
                if (!failed.isEmpty()) {
                    handleFailure("Failed add members " + Iterables.toString(failed) + " to " + gr);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizablePropertiesImpl.java`
#### Snippet
```java
            if (property.isArray()) {
                List<Value> vs = valueFactory.createValues(property);
                values = vs.toArray(new Value[0]);
            } else {
                values = new Value[]{valueFactory.createValue(property)};
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeManagerImpl.java`
#### Snippet
```java
                }
            }
            return declaredAggregates.toArray(new Privilege[0]);
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeManagerImpl.java`
#### Snippet
```java
    private PrivilegeDefinition[] getPrivilegeDefinitions() {
        Map<String, PrivilegeDefinition> definitions = getReader().readDefinitions();
        return definitions.values().toArray(new PrivilegeDefinition[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeManagerImpl.java`
#### Snippet
```java
                }
            }
            return aggr.toArray(new Privilege[0]);
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeManagerImpl.java`
#### Snippet
```java
            privileges.add(getPrivilege(def));
        }
        return privileges.toArray(new Privilege[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositePermissionProviderAnd.java`
#### Snippet
```java
            if (Util.doEvaluate(supported)) {
                Set<String> supportedNames = bitsProvider.getPrivilegeNames(supported);
                hasPrivileges = aggregatedPermissionProvider.hasPrivileges(immutableTree, supportedNames.toArray(new String[0]));
                if (!hasPrivileges) {
                    return false;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeValidator.java`
#### Snippet
```java
        validateAggregation(definition.getName(), declaredNames, new PrivilegeDefinitionReader(rootBefore).readDefinitions());

        PrivilegeBits aggrBits = bitsProvider.getBits(declaredNames.toArray(new String[0]));
        if (!newBits.equals(aggrBits)) {
            throw new CommitFailedException(CONSTRAINT, 53, "Invalid privilege bits for aggregated privilege definition.");
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositePermissionProvider.java`
#### Snippet
```java
                                @NotNull Context acContext, @NotNull RootProvider rootProvider, @NotNull TreeProvider treeProvider) {
        this.root = root;
        this.pps = pps.toArray(new AggregatedPermissionProvider[0]);
        this.ctx = acContext;
        this.rootProvider = rootProvider;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
        }
        List<AccessControlPolicy> l = policies.build();
        return l.toArray(new AccessControlPolicy[0]);
    }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
        }
        Set<Privilege> s = privs.build();
        return s.toArray(new Privilege[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
            }
        }
        return new AccessControlPolicyIteratorAdapter(Iterators.concat(l.toArray(new AccessControlPolicyIterator[0])));
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
        }
        List<AccessControlPolicy> l = policies.build();
        return l.toArray(new AccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
        }
        List<AccessControlPolicy> l = policies.build();
        return l.toArray(new AccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
        }
        List<JackrabbitAccessControlPolicy> l = policies.build();
        return l.toArray(new JackrabbitAccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
        }
        List<JackrabbitAccessControlPolicy> l = policies.build();
        return l.toArray(new JackrabbitAccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/GlobsPattern.java`
#### Snippet
```java
            }
        });
        patterns = l.toArray(new GlobPattern[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/SubtreePattern.java`
#### Snippet
```java
            }
        });
        this.targets = tl.toArray(new String[0]);        
        this.subtrees = sl.toArray(new String[0]);
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/SubtreePattern.java`
#### Snippet
```java
        });
        this.targets = tl.toArray(new String[0]);        
        this.subtrees = sl.toArray(new String[0]);
    }
    
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissionImpl.java`
#### Snippet
```java

        private DefaultReadPolicy(@NotNull Set<String> readPaths) {
            this.readPaths = readPaths.toArray(new String[0]);
            altReadPaths = new String[readPaths.size()];
            int i = 0;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlImporter.java`
#### Snippet
```java
            checkNotNull(acl);
            if (!ignore) {
                acl.addEntry(principal, privileges.toArray(new Privilege[0]), isAllow, restrictions, mvRestrictions);
            } else {
                log.debug("Unknown principal: Ignore ACE based on ImportBehavior.IGNORE configuration.");
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlImporter.java`
#### Snippet
```java
                restrictions.put(propInfo.getName(), values.get(0));
            } else {
                mvRestrictions.put(propInfo.getName(), values.toArray(new Value[0]));
            }
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/TopLevelPaths.java`
#### Snippet
```java
            if (cnt <= MAX_CNT) {
                PropertyState hidden = root.getTree(PathUtils.ROOT_PATH).getProperty(HIDDEN_NESTED_CUGS);
                paths = (hidden == null) ? new String[0] : Iterables.toArray(hidden.getValue(Type.STRINGS), String.class);
            } else {
                paths = new String[0];
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/TopLevelPaths.java`
#### Snippet
```java
                paths = (hidden == null) ? new String[0] : Iterables.toArray(hidden.getValue(Type.STRINGS), String.class);
            } else {
                paths = new String[0];
            }
        } else {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/TopLevelPaths.java`
#### Snippet
```java
    private Boolean hasAny;
    private Long cnt;
    private String[] paths = new String[0];

    TopLevelPaths(Root root) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/SupportedPaths.java`
#### Snippet
```java

    SupportedPaths(@NotNull Set<String> supportedPaths) {
        this.paths = supportedPaths.toArray(new String[0]);
        altPaths = new String[supportedPaths.size()];

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugExcludeImpl.java`
#### Snippet
```java

    private void setPrincipalNames(@NotNull Map<String, Object> properties) {
        this.principalNames = ImmutableSet.copyOf(PropertiesUtil.toStringArray(properties.get("principalNames"), new String[0]));
    }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
            return new Privilege[] {privilegeFromName(PrivilegeConstants.JCR_READ)};
        } else {
            return new Privilege[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
                oakPath = (PathUtils.denotesRoot(oakPath)) ? null : PathUtils.getAncestorPath(oakPath, 1);
            }
            return effective.toArray(new AccessControlPolicy[0]);
        } else {
            return new AccessControlPolicy[0];
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
            return effective.toArray(new AccessControlPolicy[0]);
        } else {
            return new AccessControlPolicy[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
            }
        }
        return new AccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
    public JackrabbitAccessControlPolicy[] getApplicablePolicies(@NotNull Principal principal) {
        // editing by 'principal' is not supported
        return new JackrabbitAccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
    public JackrabbitAccessControlPolicy[] getPolicies(@NotNull Principal principal) {
        // editing by 'principal' is not supported
        return new JackrabbitAccessControlPolicy[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
    public AccessControlPolicy[] getEffectivePolicies(@NotNull Set<Principal> principals) {
        if (!config.getConfigValue(CugConstants.PARAM_CUG_ENABLED, false)) {
            return new AccessControlPolicy[0];
        }
        Root r = getLatestRoot();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
        Set<String> candidates = collectEffectiveCandidates(r, Iterables.transform(principals, Principal::getName));
        if (candidates.isEmpty()) {
            return new AccessControlPolicy[0];
        } else {
            List<AccessControlPolicy> effective = new ArrayList<>();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugAccessControlManager.java`
#### Snippet
```java
                }
            }
            return effective.toArray(new AccessControlPolicy[0]);
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
            OakIndexUtils.propertyIndexDefinition(session, NodeTypeConstants.JCR_MIMETYPE,
                new String[] {NodeTypeConstants.JCR_MIMETYPE}, false,
                (Strings.isNullOrEmpty(indexType) ? new String[0] : new String[] {indexType}));
            OakIndexUtils
                .orderedIndexDefinition(session, NodeTypeConstants.JCR_LASTMODIFIED, ASYNC_INDEX,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityBlobSearchSuite.java`
#### Snippet
```java
                .orderedIndexDefinition(session, NodeTypeConstants.JCR_LASTMODIFIED, ASYNC_INDEX,
                    new String[] {NodeTypeConstants.JCR_LASTMODIFIED}, false,
                    (Strings.isNullOrEmpty(indexType) ? new String[0] : new String[] {indexType}),
                    null);
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
                    new int[] {PropertyType.DATE, PropertyType.BOOLEAN, PropertyType.STRING,
                            PropertyType.STRING},
                    new String[0], new String[] {CUSTOM_DESC_NODE_TYPE}, null, false);
            NodeTypeUtils.createNodeType(session, CUSTOM_ROOT_NODE_TYPE,
                    new String[] {DATE_PROP, SORT_PROP, FILTER_PROP, TITLE_PROP},
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
                    new int[] {PropertyType.DATE, PropertyType.BOOLEAN, PropertyType.STRING,
                            PropertyType.STRING},
                    new String[0], new String[] {CUSTOM_DESC_NODE_TYPE}, null, false);
            nodeTypes.add(CUSTOM_ROOT_NODE_TYPE);
            nodeTypes.add(CUSTOM_DESC_NODE_TYPE);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
                OakIndexUtils.orderedIndexDefinition(session, "customIndexParent", ASYNC_INDEX,
                    new String[] {DATE_PROP}, false,
                    (nodeTypes.isEmpty() ? new String[0] : new String[] {nodeTypes.get(0)}),
                    OrderedIndex.OrderDirection.DESC.getDirection());
                OakIndexUtils.orderedIndexDefinition(session, "customIndexDescendant", ASYNC_INDEX,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeSuite.java`
#### Snippet
```java
                OakIndexUtils.orderedIndexDefinition(session, "customIndexDescendant", ASYNC_INDEX,
                        new String[]{DATE_PROP}, false,
                        (nodeTypes.isEmpty() ? new String[0]: new String[] {nodeTypes.get(1)}),
                        OrderedIndex.OrderDirection.DESC.getDirection());
                break;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
            policies.add(ReadPolicy.INSTANCE);
        }
        return policies.toArray(new AccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
            effective.add(ReadPolicy.INSTANCE);
        }
        return effective.toArray(new AccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
    public JackrabbitAccessControlPolicy[] getPolicies(@NotNull Principal principal) throws RepositoryException {
        if (!Util.checkValidPrincipal(principal, principalManager, Util.getImportBehavior(getConfig()))) {
            return new JackrabbitAccessControlPolicy[0];
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
            return new JackrabbitAccessControlPolicy[]{policy};
        } else {
            return new JackrabbitAccessControlPolicy[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
                }
            }
            return privileges.toArray(new Privilege[0]);
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
    public AccessControlPolicy[] getEffectivePolicies(@NotNull Set<Principal> principals) throws RepositoryException {
        if (!Util.checkValidPrincipals(principals, principalManager, Util.getImportBehavior(getConfig()))) {
            return new JackrabbitAccessControlPolicy[0];
        }
        
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
        }
        // add read-policy if there are readable paths configured where the editing session has READ_ACCESS_CONTROL granted
        if (ReadPolicy.canAccessReadPolicy(getPermissionProvider(), readPaths.toArray(new String[0]))) {
            effective.add(ReadPolicy.INSTANCE);
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
            effective.add(ReadPolicy.INSTANCE);
        }
        return effective.toArray(new AccessControlPolicy[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java
    public JackrabbitAccessControlPolicy[] getApplicablePolicies(@NotNull Principal principal) throws RepositoryException {
        if (!Util.checkValidPrincipal(principal, principalManager, Util.getImportBehavior(getConfig()))) {
            return new JackrabbitAccessControlPolicy[0];
        }
        
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlManagerImpl.java`
#### Snippet
```java

        if (policy != null) {
            return new JackrabbitAccessControlPolicy[0];
        } else {
            return new JackrabbitAccessControlPolicy[]{new PrincipalACL(oakPath, principal)};
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                OakIndexUtils.propertyIndexDefinition(session, "customIndexActivity",
                    new String[] {SOURCE_ID}, false,
                    (!CUSTOM_TYPE ? new String[0] : new String[] {CUSTOM_ACT_NODE_TYPE}));
                OakIndexUtils.propertyIndexDefinition(session, "customIndexRelationship",
                    new String[] {SOURCE_ID}, false,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                OakIndexUtils.propertyIndexDefinition(session, "customIndexRelationship",
                    new String[] {SOURCE_ID}, false,
                    (!CUSTOM_TYPE ? new String[0] : new String[] {CUSTOM_REL_NODE_TYPE}));
                break;
            // define ordered indexes on properties
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                OakIndexUtils.orderedIndexDefinition(session, "customIndexActivity", ASYNC_INDEX,
                    new String[] {CREATED}, false,
                    (!CUSTOM_TYPE ? new String[0] : new String[] {CUSTOM_ACT_NODE_TYPE}),
                    OrderedIndex.OrderDirection.DESC.getDirection());
                OakIndexUtils
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                    .orderedIndexDefinition(session, "customIndexRelationship", ASYNC_INDEX,
                        new String[] {CREATED}, false,
                        (!CUSTOM_TYPE ? new String[0] : new String[] {CUSTOM_REL_NODE_TYPE}),
                        OrderedIndex.OrderDirection.DESC.getDirection());
                break;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                new String[] {TITLE_PROP, CREATED, ACTION, SOURCE_ID},
                new int[] {PropertyType.STRING, PropertyType.DATE, PropertyType.STRING,
                    PropertyType.STRING}, new String[0],
                new String[] {NodeTypeConstants.NT_OAK_UNSTRUCTURED}, null, false);
            NodeTypeUtils.createNodeType(session, CUSTOM_REL_NODE_TYPE,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityNodeRelationshipSuite.java`
#### Snippet
```java
                new String[] {CREATED, SOURCE_ID, TARGET_ID},
                new int[] {PropertyType.DATE, PropertyType.STRING, PropertyType.STRING},
                new String[0], null, null, false);
            nodeTypes.add(CUSTOM_ACT_NODE_TYPE);
            nodeTypes.add(CUSTOM_REL_NODE_TYPE);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
            }
        }
        return list.toArray(new String[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
            }
        }
        return list.toArray(new String[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexMBeanImpl.java`
#### Snippet
```java
            }
        }
        return new String[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/TokenizerChain.java`
#### Snippet
```java
        this.charFilters = charFilters;
        this.tokenizer = tokenizer;
        this.filters = filters == null ? new TokenFilterFactory[0] : filters;
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/MoreLikeThisHelper.java`
#### Snippet
```java
            Map<String, String> paramMap = MoreLikeThisHelperUtil.getParamMapFromMltQuery(mltQueryString);
            String text = null;
            String[] fields = {};
            for (String key : paramMap.keySet()) {
                String value = paramMap.get(key);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
            return null;
        } else {
            return new Sort(fieldsList.toArray(new SortField[0]));
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
            }
        }
        return properties.toArray(new String[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
     */
    protected String[] statsNames(){
        return new String[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
     */
    protected Object[] statsValues(){
        return new Object[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
     */
    protected String[] statsFormats(){
        return new String[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SetMultiPropertyTest.java`
#### Snippet
```java
    @Override
    public void beforeTest() throws RepositoryException {
        node.setProperty("count", new String[0]);
        session.save();
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
        Node ntIndex = session.getNode("/oak:index/nodetype");
        ntIndex.setProperty(IndexConstants.REINDEX_PROPERTY_NAME, true);
        ntIndex.setProperty(IndexConstants.DECLARING_NODE_TYPES, new String[0], PropertyType.NAME);
        session.save();
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/HasPermissionHasItemGetItemTest.java`
#### Snippet
```java
    void additionalOperations(@NotNull String path, @NotNull Session s, @NotNull AccessControlManager acMgr) {
        try {
            String actions = Text.implode((String[]) Utils.getRandom(PERMISSIONS, 3).toArray(new String[0]), ",");
            s.hasPermission(path, actions);
        } catch (RepositoryException e) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/HasPrivilegesHasItemGetItemTest.java`
#### Snippet
```java
    void additionalOperations(@NotNull String path, @NotNull Session s, @NotNull AccessControlManager acMgr) {
        try {
            acMgr.hasPrivileges(getAccessControlledPath(path), (Privilege[]) Utils.getRandom(allPrivileges, 3).toArray(new Privilege[0]));
        } catch (RepositoryException e) {
            if (doReport) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/permission/EagerCacheSizeTest.java`
#### Snippet
```java
    private static Privilege[] getRandomPrivileges(@NotNull List<Privilege> allPrivileges) {
        Collections.shuffle(allPrivileges);
        return allPrivileges.subList(0, 3).toArray(new Privilege[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/AbstractHasItemGetItemTest.java`
#### Snippet
```java
            int targetCnt = (principal.getName().equals(pGrantedRead.getName())) ? numberOfACEs-1 : numberOfACEs;
            while (cnt < targetCnt) {
                if (createEntry(acMgr, principal, getRandom(nodePaths), (Privilege[]) Utils.getRandom(allPrivileges, 3).toArray(new Privilege[0]))) {
                    cnt++;
                }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/principalbased/PrinicipalBasedReadTest.java`
#### Snippet
```java
    private static Privilege[] getRandomPrivileges(@NotNull List<Privilege> allPrivileges) {
        Collections.shuffle(allPrivileges);
        return allPrivileges.subList(0, 3).toArray(new Privilege[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/util/NodeTypeUtils.java`
#### Snippet
```java
        pdt.setDefaultValues(null);
        pdt.setFullTextSearchable(true);
        pdt.setValueConstraints(new String[0]);
        return pdt;
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/ExternalLoginTest.java`
#### Snippet
```java
        Session s = null;
        try {
            s = getRepository().login(new SimpleCredentials(id, new char[0]));
            Set<String> principals = extractGroupPrincipals(s, id);
            Set<String> expected = new TreeSet<>(StreamSupport.stream(idp.getDeclaredGroupRefs(id).spliterator(), false)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AccessControlAction.java`
#### Snippet
```java
            return privilegeNames;
        } else {
            return new String[0];
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AccessControlAction.java`
#### Snippet
```java

    private SecurityProvider securityProvider;
    private String[] groupPrivilegeNames = new String[0];
    private String[] userPrivilegeNames = new String[0];
    private Set<String> administrativePrincipals = Collections.emptySet();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AccessControlAction.java`
#### Snippet
```java
    private SecurityProvider securityProvider;
    private String[] groupPrivilegeNames = new String[0];
    private String[] userPrivilegeNames = new String[0];
    private Set<String> administrativePrincipals = Collections.emptySet();

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
                }
            }
            delegatees = (s.isEmpty()) ? null : s.toArray(new Context[0]);
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/ACE.java`
#### Snippet
```java
            if (jcrName.equals(restrictionName)) {
                List<Value> values = valueFactory.createValues(restriction.getProperty());
                return values.toArray(new Value[0]);
            }
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AbstractAccessControlList.java`
#### Snippet
```java
    public AccessControlEntry[] getAccessControlEntries() {
        List<? extends JackrabbitAccessControlEntry> entries = getEntries();
        return entries.toArray(new JackrabbitAccessControlEntry[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/CompositeRestrictionProvider.java`
#### Snippet
```java

    private CompositeRestrictionProvider(@NotNull Collection<? extends RestrictionProvider> providers) {
        this.providers = providers.toArray(new RestrictionProvider[0]);
        for (RestrictionProvider provider : providers) {
            if (provider instanceof AggregationAware) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/AuthInfoImpl.java`
#### Snippet
```java
    @Override
    public String[] getAttributeNames() {
        return attributes.keySet().toArray(new String[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AbstractAccessControlManager.java`
#### Snippet
```java
            String[] jcrNames = Arrays.stream(privileges).filter(Objects::nonNull).map(Privilege::getName).toArray(String[]::new);
            Set<String> privilegeNames = PrivilegeUtil.getOakNames(jcrNames, namePathMapper);
            return provider.hasPrivileges(tree, privilegeNames.toArray(new String[0]));
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AbstractAccessControlManager.java`
#### Snippet
```java
    private Privilege[] getPrivileges(@NotNull Set<String> privilegeNames) throws RepositoryException {
        if (privilegeNames.isEmpty()) {
            return new Privilege[0];
        } else {
            Set<Privilege> privileges = new HashSet<>(privilegeNames.size());
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AbstractAccessControlManager.java`
#### Snippet
```java
                privileges.add(privilegeManager.getPrivilege(namePathMapper.getJcrName(name)));
            }
            return privileges.toArray(new Privilege[0]);
        }
    }
```

## RuleId[id=RedundantUnmodifiable]
### RedundantUnmodifiable
Redundant usage of the 'unmodifiableSet' wrapper
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java

    public Set<String> getPathsSupportingFragments() {
        return Collections.unmodifiableSet(pathsSupportingFragments);
    }

```

## RuleId[id=NullArgumentToVariableArgMethod]
### NullArgumentToVariableArgMethod
Confusing argument `knownPrincipals`, unclear if a varargs or non-varargs call is desired
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java
    private void modified(Map<String, Object> properties) {
        knownPrincipals = PropertiesUtil.toStringArray(properties.get(PARAM_KNOWN_PRINCIPALS), new String[0]);
        log.info("CustomPrincipalConfiguration.modified: {}", knownPrincipals);
    }

```

### NullArgumentToVariableArgMethod
Confusing argument `knownPrincipals`, unclear if a varargs or non-varargs call is desired
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/principal/CustomPrincipalConfiguration.java`
#### Snippet
```java
    private void activate(Map<String, Object> properties) {
        knownPrincipals = PropertiesUtil.toStringArray(properties.get(PARAM_KNOWN_PRINCIPALS), new String[0]);
        log.info("CustomPrincipalConfiguration.activate: {}", knownPrincipals);
    }

```

## RuleId[id=TypeParameterExtendsObject]
### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                result.append(column).append(" ").append(realOperand);

                List<? extends Object> operands = cond.getOperands();
                if (operands.size() == 1) {
                    result.append(" ?");
```

### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        }

        public List<? extends Object> getOperands() {
            return this.operands;
        }
```

### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

        private final String propertyName, operator;
        private final List<? extends Object> operands;

        public QueryCondition(String propertyName, String operator, long value) {
```

### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        }

        public QueryCondition(String propertyName, String operator, List<? extends Object> values) {
            this.propertyName = propertyName;
            this.operator = operator;
```

## RuleId[id=ConstantValue]
### ConstantValue
Condition `name == null` is always `false`
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authentication/token/TokenCredentials.java`
#### Snippet
```java
    public void setAttribute(@NotNull String name, @Nullable String value) {
        // name cannot be null
        if (name == null) {
            throw new IllegalArgumentException("name cannot be null");
        }
```

### ConstantValue
Condition `token == null` is always `false`
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authentication/token/TokenCredentials.java`
#### Snippet
```java
     */
    public TokenCredentials(@NotNull String token) throws IllegalArgumentException {
        if (token == null || token.length() == 0) {
            throw new IllegalArgumentException("Invalid token '" + token + "'");
        }
```

### ConstantValue
Condition `null == blob` is always `false`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/ConsolidatedDataStoreCacheStats.java`
#### Snippet
```java
                if (propertyState.getType() == Type.BINARY) {
                    final Blob blob = (Blob) propertyState.getValue(propertyState.getType());
                    if (null == blob || !haveRecordForBlob(blob)) {
                        return false;
                    }
```

### ConstantValue
Condition `null == blobs` is always `false`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/ConsolidatedDataStoreCacheStats.java`
#### Snippet
```java
                } else if (propertyState.getType() == Type.BINARIES) {
                    final List<Blob> blobs = (List<Blob>) propertyState.getValue(propertyState.getType());
                    if (null == blobs) {
                        return false;
                    }
```

### ConstantValue
Condition `toBeRemoved != null` is always `true`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
                    }

                    if (toBeRemoved != null) {
                        toBeRemoved.delete();
                    }
```

### ConstantValue
Condition `candTemp != null` is always `true`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    }

                    if (candTemp != null) {
                        candTemp.delete();
                    }
```

### ConstantValue
Value `key` is always 'null'
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
            }
        }
        return key;
    }

```

### ConstantValue
Condition `null == identifier` is always `false`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java

        // When running unit test from Maven, it doesn't always honor the @NotNull decorators
        if (null == identifier) throw new NullPointerException("identifier");
        if (null == downloadOptions) throw new NullPointerException("downloadOptions");

```

### ConstantValue
Condition `null == downloadOptions` is always `false`
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        // When running unit test from Maven, it doesn't always honor the @NotNull decorators
        if (null == identifier) throw new NullPointerException("identifier");
        if (null == downloadOptions) throw new NullPointerException("downloadOptions");

        if (httpDownloadURIExpirySeconds > 0) {
```

### ConstantValue
Condition `dispositionType == null` is always `false`
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/blob/BlobDownloadOptions.java`
#### Snippet
```java
                               @NotNull String dispositionType,
                               boolean domainOverrideIgnored) {
        if (dispositionType == null) {
            throw new NullPointerException("dispositionType must not be null");
        }
```

### ConstantValue
Condition `props == null` is always `false`
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
    private boolean isCompositeCheckpoint(String checkpoint) {
        Map<String, String> props = ctx.getGlobalStore().getNodeStore().checkpointInfo(checkpoint);
        if (props == null) {
            return false;
        }
```

### ConstantValue
Value `s` is always 'null'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/SysViewImportHandler.java`
#### Snippet
```java
                    state.nodeTypeName = new NameInfo(s).getRepoQualifiedName();
                } catch (IOException e) {
                    throw new SAXException(new InvalidSerializedDataException("illegal node type name: " + s, e));
                } catch (RepositoryException e) {
                    throw new SAXException(new InvalidSerializedDataException("illegal node type name: " + s, e));
```

### ConstantValue
Condition `tree == null` is always `false`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
                    // resolve uuid conflict
                    tree = resolveUUIDConflict(parent, conflicting, id, nodeInfo);
                    if (tree == null) {
                        // no new node has been created, so skip this node
                        parents.push(null); // push null onto stack for skipped node
```

### ConstantValue
Condition `value != null` is always `true`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/PropertyImpl.java`
#### Snippet
```java
                ValueFactory factory = getValueFactory();
                for (Value value : values) {
                    if (value != null) {
                        converted.add(ValueHelper.convert(
                                value, type.tag(), factory));
```

### ConstantValue
Condition `result` at the left side of assignment expression is always `true`. Can be simplified
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
        public boolean applies(NodeState parent, String childName) {
            boolean result = true;
            result &= parentType.test(parent);
            result &= childNameConstraint == null || childName.startsWith(this.childNameConstraint + '[');
            result &= childType.test(parent.getChildNode(childName));
```

### ConstantValue
Value `relaxedLocking` is always 'true'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            return emptyMap();
        } else if (refreshInterval == null) {
            return singletonMap(RELAXED_LOCKING, (Object) Boolean.valueOf(relaxedLocking));
        } else if (!relaxedLocking) {
            return singletonMap(REFRESH_INTERVAL, (Object) refreshInterval);
```

### ConstantValue
Value `relaxedLocking` is always 'true'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            return ImmutableMap.of(
                    REFRESH_INTERVAL, (Object) refreshInterval,
                    RELAXED_LOCKING,  (Object) Boolean.valueOf(relaxedLocking));
        }
    }
```

### ConstantValue
Condition `!map.containsKey("path")` is always `true` when reached
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java

        // Default path value as-per OAK-6632
        if(StringUtils.isEmpty(directory) && !map.containsKey("path")) {
        	directory = System.getProperty("java.io.tmpdir");
        }
```

### ConstantValue
Result of `map.containsKey("path")` is always 'false'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/AzureDataStoreFactory.java`
#### Snippet
```java

        // Default path value as-per OAK-6632
        if(StringUtils.isEmpty(directory) && !map.containsKey("path")) {
        	directory = System.getProperty("java.io.tmpdir");
        }
```

### ConstantValue
Condition `copyBinaries` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            }
            // can't copy binaries if they are stored externally and we don't know where
        } else if (!srcDefined && !dstDefined && !srcEmbedded && copyBinaries) {
            return BlobMigrationCase.UNSUPPORTED;
            // can't copy binaries if they are stored externally and we don't know where
```

### ConstantValue
Condition `dstDefined` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            // can't copy binaries if they are stored externally and we don't know where
            // (even if the destination datastore is defined)
        } else if (!srcDefined && !srcEmbedded && dstDefined) {
            return BlobMigrationCase.UNSUPPORTED;
            // source is embedded and no destination given
```

### ConstantValue
Condition `srcEmbedded` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.UNSUPPORTED;
            // source is embedded and no destination given
        } else if (!srcDefined && srcEmbedded && !dstDefined) {
            return BlobMigrationCase.EMBEDDED_TO_EMBEDDED;
            // source is embedded and the destination is given
```

### ConstantValue
Condition `srcEmbedded` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.EMBEDDED_TO_EMBEDDED;
            // source is embedded and the destination is given
        } else if (!srcDefined && srcEmbedded && dstDefined) {
            return BlobMigrationCase.EMBEDDED_TO_EXTERNAL;
            // source is given, no destination, but also no --copy-binaries -> copy references
```

### ConstantValue
Condition `dstDefined` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.EMBEDDED_TO_EMBEDDED;
            // source is embedded and the destination is given
        } else if (!srcDefined && srcEmbedded && dstDefined) {
            return BlobMigrationCase.EMBEDDED_TO_EXTERNAL;
            // source is given, no destination, but also no --copy-binaries -> copy references
```

### ConstantValue
Condition `srcDefined` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.EMBEDDED_TO_EXTERNAL;
            // source is given, no destination, but also no --copy-binaries -> copy references
        } else if (srcDefined && !dstDefined && !copyBinaries) {
            return BlobMigrationCase.COPY_REFERENCES;
            // source is given, no destination, but --copy-binaries -> copy to embedded
```

### ConstantValue
Condition `srcDefined` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.COPY_REFERENCES;
            // source is given, no destination, but --copy-binaries -> copy to embedded
        } else if (srcDefined && !dstDefined && copyBinaries) {
            return BlobMigrationCase.EXTERNAL_TO_EMBEDDED;
            // source and destination is given
```

### ConstantValue
Condition `copyBinaries` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.COPY_REFERENCES;
            // source is given, no destination, but --copy-binaries -> copy to embedded
        } else if (srcDefined && !dstDefined && copyBinaries) {
            return BlobMigrationCase.EXTERNAL_TO_EMBEDDED;
            // source and destination is given
```

### ConstantValue
Condition `srcDefined` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.EXTERNAL_TO_EMBEDDED;
            // source and destination is given
        } else if (srcDefined && dstDefined) {
            return BlobMigrationCase.EXTERNAL_TO_EXTERNAL;
        }
```

### ConstantValue
Condition `srcDefined && dstDefined` is always `true`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.EXTERNAL_TO_EMBEDDED;
            // source and destination is given
        } else if (srcDefined && dstDefined) {
            return BlobMigrationCase.EXTERNAL_TO_EXTERNAL;
        }
```

### ConstantValue
Condition `dstDefined` is always `true` when reached
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/DatastoreArguments.java`
#### Snippet
```java
            return BlobMigrationCase.EXTERNAL_TO_EMBEDDED;
            // source and destination is given
        } else if (srcDefined && dstDefined) {
            return BlobMigrationCase.EXTERNAL_TO_EXTERNAL;
        }
```

### ConstantValue
Value `paths` is always 'null'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/MigrationOptions.java`
#### Snippet
```java
    private static String[] checkPaths(String[] paths) throws CliArgumentException {
        if (paths == null) {
            return paths;
        }
        for (String p : paths) {
```

### ConstantValue
Condition `type != null` is always `true`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
                        if (mapping.length == 2 && mapping[0] != null && mapping[1] != null) {
                            Type<?> type = Type.fromString(mapping[0]);
                            if (type != null && type.tag() == propertyType.tag()) {
                                return mapping[1];
                            }
```

### ConstantValue
Condition `type != null` is always `true`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java
                if (mapping.length == 2 && mapping[0] != null && mapping[1] != null) {
                    Type<?> type = Type.fromString(mapping[0]);
                    if (type != null && type.tag() == propertyType.tag()) {
                        return mapping[1];
                    }
```

### ConstantValue
Condition `pr.last != null` is always `true`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
                                queryBuilder.append('*');
                            }
                        } else if ((pr.first != null && pr.last == null) || (pr.last != null && pr.first == null) || (!pr.first.equals(pr.last))) {
                            // TODO : need to check if this works for all field types (most likely not!)
                            queryBuilder.append(fieldName).append(':');
```

### ConstantValue
Condition `i < pts.length` is always `true` when reached
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
                    ptQueryBuilder.append("(");
                }
                if (i > 0 && i < pts.length) {
                    ptQueryBuilder.append("OR ");
                }
```

### ConstantValue
Condition `binaryReferences != null` is always `true`
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
    private void migrateBinaryRef(SegmentArchiveReader reader, SegmentArchiveWriter writer) throws IOException {
        Buffer binaryReferences = reader.getBinaryReferences();
        if (binaryReferences != null) {
            byte[] array = fetchByteArray(binaryReferences);
            writer.writeBinaryReferences(array);
```

### ConstantValue
Condition `idAttribute == null` is always `false`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapIdentityProvider.java`
#### Snippet
```java
            req.setScope(SearchScope.SUBTREE);
            String idAttribute = config.getGroupConfig().getIdAttribute();
            req.addAttributes(idAttribute == null? SchemaConstants.NO_ATTRIBUTE : idAttribute);
            req.setTimeLimit((int) config.getSearchTimeout());
            req.setBase(new Dn(config.getGroupConfig().getBaseDN()));
```

### ConstantValue
Condition `nameStart == len` is always `false`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/namepath/JcrNameParser.java`
#### Snippet
```java
        }

        if (nameStart == len || state == STATE_NAME_START) {
            listener.error("Local name must not be empty");
            return false;
```

### ConstantValue
Condition `c == EOF` is always `true` when reached
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/namepath/JcrPathParser.java`
#### Snippet
```java
                        state = STATE_PREFIX_START;
                    } else if (state != STATE_URI
                            && !(state == STATE_PREFIX_START && c == EOF)) { // ignore trailing slash
                        listener.error('\'' + jcrPath + "' is not a valid path. '" + c +
                                "' not a valid name character.");
```

### ConstantValue
Condition `item != null` is always `true`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/FlatFileBufferLinkedList.java`
#### Snippet
```java

    public void add(@NotNull NodeStateEntry item) {
        Preconditions.checkArgument(item != null, "Can't add null to the list");
        long incomingSize = item.estimatedMemUsage();
        long memUsage = estimatedMemoryUsage();
```

### ConstantValue
Condition `item != null` is always `true`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/PersistedLinkedList.java`
#### Snippet
```java
    @Override
    public void add(@NotNull NodeStateEntry item) {
        Preconditions.checkArgument(item != null, "Can't add null to the list");
        String s = writer.toString(item);
        long index = tailIndex++;
```

### ConstantValue
Condition `ioex == null` is always `true`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/StringSort.java`
#### Snippet
```java
                    c.close();
                } catch (IOException mostlyIgnored) {
                    if (ioex == null) {
                        ioex = mostlyIgnored;
                    }
```

### ConstantValue
Condition `newView != null` is always `true`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        boolean changed = originalView == null || (newView.getViewSeqNum() != originalView.getViewSeqNum())
                || (newHasInstancesWithBacklog != hasInstancesWithBacklog);
        logger.debug("checkView: viewFine: {}, changed: {}, originalView: {}, newView: {}", newView != null, changed, originalView,
                newView);

```

### ConstantValue
Condition `lastWrittenRootRev == null` is always `false`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
        }
        Revision lastWrittenRootRev = Revision.fromString(lastWrittenRootRevStr);
        if (lastWrittenRootRev == null) {
            logger.warn("hasBacklog: node has no lastWrittenRootRev: " + clusterNode.getClusterId());
            return false;
```

### ConstantValue
Value `newViewOrNull` is always 'null'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            // then there was a concurrent update of the clusterView
            // and we should do some quick backoff sleeping
            logger.debug("doCheckView: newViewOrNull is null: " + newViewOrNull);
            return null;
        } else {
```

### ConstantValue
Condition `defaultDriver != null` is always `true`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDataSourceFactory.java`
#### Snippet
```java
            // try to determine driver from JDBC URL
            String defaultDriver = RDBJDBCTools.driverForDBType(RDBJDBCTools.jdbctype(url));
            if (defaultDriver != null && !defaultDriver.isEmpty()) {
                LOG.info("trying to load {}", defaultDriver);

```

### ConstantValue
Value `v` is always 'null'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                }
                String v = rs.getString(fn);
                data.append(fn).append(": ").append(v == null ? v : v.trim());
            }
        }
```

### ConstantValue
Condition `needComma` is always `true`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
            } else {
                fulljson = asJSON(fieldNames, fulljson);
                if (format == Format.JSONARRAY && needComma && !rs.isLast()) {
                    fulljson.append(",");
                }
```

### ConstantValue
Condition `o != null` is always `true` when reached
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/TimeInterval.java`
#### Snippet
```java
    @Override
    public boolean equals(Object o) {
        if (o instanceof TimeInterval && o != null) {
            return fromMs == ((TimeInterval) o).fromMs && toMs == ((TimeInterval) o).toMs;
        } else {
```

### ConstantValue
Condition `wObj == null` is always `false`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/MongoConnection.java`
#### Snippet
```java
        if (wObj instanceof Number) {
            w = ((Number) wObj).intValue();
        } else if (wObj == null) {
            // default acknowledged
            w = 1;
```

### ConstantValue
Condition `result != null` is always `true`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoBlobStore.java`
#### Snippet
```java
            UpdateOptions options = new UpdateOptions().upsert(true);
            UpdateResult result = getBlobCollection().updateOne(query, upsert, options);
            if (result != null && result.getUpsertedId() == null) {
                LOG.trace("Block with id [{}] updated", id);
            } else {
```

### ConstantValue
Condition `blob != null` is always `true`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoBlobStore.java`
#### Snippet
```java
                if (cur.hasNext()) {
                    MongoBlob blob = cur.next();
                    if (blob != null) {
                        return blob.getId();
                    }
```

### ConstantValue
Condition `value == null` is always `false`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
            long memory = 0L;
            memory += (key == null ? 0L: keyType.getMemory(key));
            memory += (value == null ? 0L: valueType.getMemory(value));
            stats.markBytesWritten(memory);
            stats.markPut();
```

### ConstantValue
Condition `value == null` is always `false`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
                    long memory = 0L;
                    memory += (key == null ? 0L : keyType.getMemory(key));
                    memory += (value == null ? 0L : valueType.getMemory(value));
                    stats.markBytesWritten(memory);
                    stats.markPut();
```

### ConstantValue
Condition `groupName != null` is always `true`
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/basic/DefaultSyncConfig.java`
#### Snippet
```java
            this.autoMembership = new HashSet<>();
            for (String groupName: autoMembership) {
                if (groupName != null && !groupName.trim().isEmpty()) {
                    this.autoMembership.add(groupName.trim());
                }
```

### ConstantValue
Value `initialized` is always 'true'
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalPolicyImporter.java`
#### Snippet
```java

        initialized = true;
        return initialized;
    }

```

### ConstantValue
Condition `in == null` is always `false`
in `oak-examples/standalone/src/main/java/org/apache/jackrabbit/oak/standalone/RepositoryInitializer.java`
#### Snippet
```java
            log.info("Copying default repository config to {}", repoConfig.getAbsolutePath());
            InputStream in = defaultRepoConfig.getInputStream();
            if (in == null){
                throw new RepositoryException("No config file found in classpath " + defaultRepoConfig);
            }
```

### ConstantValue
Value `writerGroups` is always 'null'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreStats.java`
#### Snippet
```java
        this.statisticsProvider = statisticsProvider;
        
        this.commitsTracker = new CommitsTracker(writerGroups, otherWritersLimit);
        this.commitsCount = statisticsProvider.getMeter(COMMITS_COUNT, StatsOptions.DEFAULT);
        this.commitQueueSize = statisticsProvider.getCounterStats(COMMIT_QUEUE_SIZE, StatsOptions.DEFAULT);
```

### ConstantValue
Condition `buffer == null` is always `false`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/spi/persistence/split/UnclosedSegmentArchiveReader.java`
#### Snippet
```java
    public @NotNull Buffer getBinaryReferences() throws IOException {
        Buffer buffer = delegate.getBinaryReferences();
        if (buffer == null) {
            return EMPTY_BINARY_REF;
        } else {
```

### ConstantValue
Condition `remoteStoreMonitor == null` is always `false`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/FileStoreBuilder.java`
#### Snippet
```java

    RemoteStoreMonitor getRemoteStoreMonitor() {
        if (remoteStoreMonitor == null) {
            return new RemoteStoreMonitorAdapter();
        }
```

### ConstantValue
Condition `isMaster == null` is always `false`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        try {
            isMaster = getDatabase().runCommand(new BasicDBObject("isMaster", 1), BasicDBObject.class);
            if (isMaster == null) {
                // OAK-4107 / OAK-4515 : extra safety
                LOG.warn("determineServerTimeDifferenceMillis: db.isMaster returned null - cannot determine time difference - assuming 0ms.");
```

### ConstantValue
Condition `collection == Collection.NODES` is always `true`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                    if (result.getModifiedCount() > 0) {
                        // success, update cached document
                        if (collection == Collection.NODES) {
                            NodeDocument newDoc = (NodeDocument) applyChanges(collection, cachedDoc, updateOp);
                            nodesCache.put(newDoc);
```

### ConstantValue
Condition `"set".equals(op)` is always `true`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CheckpointsCommand.java`
#### Snippet
```java
                    }
                }
            } else if ("set".equals(op)) {
                if (opArg.size() < 3) {
                    failWith("Missing checkpoint id");
```

### ConstantValue
Condition `seeker == null` is always `false` when reached
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RecoveryCommand.java`
#### Snippet
```java
            }

            if (agent == null || seeker == null) {
                System.err.println("Recovery only available for MongoDocumentStore and RDBDocumentStore (this: "
                        + ds.getClass().getName() + ")");
```

### ConstantValue
Condition `nodeStore instanceof SegmentNodeStore` is always `false` when reached
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                // is present (find blob references under a specific root path.)
                if ((options.has(verbose) &&
                    (nodeStore instanceof SegmentNodeStore ||
                        nodeStore instanceof org.apache.jackrabbit.oak.segment.SegmentNodeStore)) ||
                        options.has(verboseRootPath)) {
```

### ConstantValue
Condition `subDirs != null` is always `true`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                outDir.listFiles());

            if (subDirs != null && !subDirs.isEmpty()) {
                File workDir = subDirs.get(0);
                List<File> outFiles =
```

### ConstantValue
Condition `outFiles != null` is always `true`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                    FileFilterUtils.filterList(FileFilterUtils.prefixFileFilter(filePrefix), workDir.listFiles());

                if (outFiles != null && !outFiles.isEmpty()) {
                    return outFiles.get(0);
                }
```

### ConstantValue
Condition `lastLine != null` is always `true` when reached
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                T r = bfb.pop();
                // Skip duplicate lines
                if (!distinct || (lastLine == null || (lastLine != null && cmp.compare(r, lastLine) != 0))) {
                    fbw.write(typeToString.apply(r));
                    fbw.newLine();
```

### ConstantValue
Condition `lastLine != null` is always `true` when reached
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
            for (T r : tmplist) {
                // Skip duplicate lines
                if (!distinct || (lastLine == null || (lastLine != null && cmp.compare(r, lastLine) != 0))) {
                    fbw.write(typeToString.apply(r));
                    fbw.newLine();
```

### ConstantValue
Value `userID` is always 'null'
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authentication/UserIDTestLoginModule.java`
#### Snippet
```java
            // and finally add the one that produces the desired result:
            String userID = null;
            subject.getPublicCredentials().add(new AuthInfoImpl(userID, Collections.<String, Object>emptyMap(), Collections.<Principal>emptySet()));
            return true;
        } else {
```

### ConstantValue
Condition `pattern != null` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryValidator.java`
#### Snippet
```java
            String comment = n.getProperty("comment").getValue(Type.STRING);
            boolean failQuery = n.getProperty("failQuery").getValue(Type.BOOLEAN);
            if (pattern != null && comment != null) {
                setPattern(key, pattern, comment, failQuery);
            }
```

### ConstantValue
Condition `pattern != null && comment != null` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryValidator.java`
#### Snippet
```java
            String comment = n.getProperty("comment").getValue(Type.STRING);
            boolean failQuery = n.getProperty("failQuery").getValue(Type.BOOLEAN);
            if (pattern != null && comment != null) {
                setPattern(key, pattern, comment, failQuery);
            }
```

### ConstantValue
Condition `comment != null` is always `true` when reached
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryValidator.java`
#### Snippet
```java
            String comment = n.getProperty("comment").getValue(Type.STRING);
            boolean failQuery = n.getProperty("failQuery").getValue(Type.BOOLEAN);
            if (pattern != null && comment != null) {
                setPattern(key, pattern, comment, failQuery);
            }
```

### ConstantValue
Condition `list != null` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/InImpl.java`
#### Snippet
```java
            list.add(s.currentValue());
        }
        if (list != null) {
            operand1.restrictList(f, list);
        }
```

### ConstantValue
Condition `indexPlan != null` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
                }

                if (indexPlan != null && indexPlan.getPlanName() != null) {
                    indexName += "[" + indexPlan.getPlanName() + "]";
                }
```

### ConstantValue
Condition `indexPlan != null && indexPlan.getPlanName() != null` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
                }

                if (indexPlan != null && indexPlan.getPlanName() != null) {
                    indexName += "[" + indexPlan.getPlanName() + "]";
                }
```

### ConstantValue
Value `indexPlan` is always 'null'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
                bestCost = cost;
                bestIndex = index;
                bestPlan = indexPlan;
            } else if (cost - bestCost <= 0.1) {
                almostBestCost = cost;
```

### ConstantValue
Condition `bestIndex == null` is always `false` when reached
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        }

        if (potentiallySlowTraversalQuery || bestIndex == null) {
            // Log warning for fulltext queries without index, since these cannot return results
            if(!filter.getFulltextConditions().isEmpty()) { 
```

### ConstantValue
Condition `two == null` is always `false`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } else {
            one = Strings.nullToEmpty(one).trim();
            two = two == null ? "" : two.trim();
            return one.isEmpty() ? two : one + "." + two;
        }
```

### ConstantValue
Condition `dbWasChanged` at the left side of assignment expression is always `false`. Can be simplified
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            else {
                if (!hasVersionColumn && upgradeToSchema >= 1) {
                    dbWasChanged |= upgradeTable(con, tableName, 1);
                }

```

### ConstantValue
Value `oldDoc` is always 'null'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                }
                stats.doneFindAndModify(watch.elapsed(TimeUnit.NANOSECONDS), collection, update.getId(), true, true, 0);
                return oldDoc;
            } catch (DocumentStoreException ex) {
                // may have failed due to a race condition; try update instead
```

### ConstantValue
Value `allowCreate` is always 'true'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            if (allowCreate && result == null) {
                if (retries > 0) {
                    result = internalCreateOrUpdate(collection, update, allowCreate, checkConditions, retries - 1);
                }
                else {
```

### ConstantValue
Condition `ch >= 0` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/Namespaces.java`
#### Snippet
```java
            } else if ("/:[]|*".indexOf(ch) != -1) { // TODO: XMLChar check for unpaired surrogates
                return false; // invalid name character
            } else if (!allowOtherControlChars && ch >= 0 && ch < 32 && (ch != 9 && ch != 0xa && ch != 0xd)) {
                // https://www.w3.org/TR/xml/#NT-Char - disallowed control chars
                return false;
```

### ConstantValue
Condition `composite == null` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/WhiteboardIndexEditorProvider.java`
#### Snippet
```java
        IndexEditorProvider composite = CompositeIndexEditorProvider
                .compose(getServices());
        if (composite == null) {
            return null;
        }
```

### ConstantValue
Condition `currentSelector.isChild` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                        currentSelector.nodeName = name;
                    } else {
                        if (currentSelector.isChild) {
                            currentSelector.isChild = false;
                            currentSelector.isParent = true;
```

### ConstantValue
Condition `joinCondition == null` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            }
        } else {
            if (!force && condition == null && joinCondition == null) {
                // a child node of a given path, such as "/test"
                // use the same selector for now, and extend the path
```

### ConstantValue
Value `rootState.async` is always 'null'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
                            log.warn("Missing provider for nrt/sync index: {} (rootState.async: {}). " +
                                    "Please note, it means that index data should be trusted only after this index " +
                                    "is processed in an async indexing cycle.", definition, rootState.async);
                        }
                    } else {
```

### ConstantValue
Value `unique` is always 'true'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUtils.java`
#### Snippet
```java
                .setProperty(REINDEX_PROPERTY_NAME, reindex);
        if (unique) {
            entry.setProperty(UNIQUE_PROPERTY_NAME, unique);
        }
        entry.setProperty(PropertyStates.createProperty(PROPERTY_NAMES, propertyNames, NAMES));
```

### ConstantValue
Value `unique` is always 'true'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUtils.java`
#### Snippet
```java
            .setProperty(REINDEX_PROPERTY_NAME, false);
        if (unique) {
            entry.setProperty(UNIQUE_PROPERTY_NAME, unique);
        }
        entry.setProperty(PropertyStates.createProperty(PROPERTY_NAMES, propertyNames, NAMES));
```

### ConstantValue
Condition `excludePrefixes != null` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
            return false;
        }
        if (excludePrefixes != null) {
            for(String exc : excludePrefixes) {
                if (prefix.startsWith(exc) || exc.startsWith(prefix)) {
```

### ConstantValue
Value `beforeCheckpoint` is always 'null'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                        name, beforeCheckpoint);
                beforeCheckpoint = null;
                callback.setCheckpoint(beforeCheckpoint);
                before = MISSING_NODE;
            } else if (noVisibleChanges(state, root) && !switchOnSync) {
```

### ConstantValue
Condition `nodeBuilder.getProperty(INDEX_IMPORT_STATE_KEY).getValue(Type.STRING) == null` is always `false` when reached
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java

    private IndexImportState getIndexImportState(NodeBuilder nodeBuilder) {
        if (nodeBuilder.getProperty(INDEX_IMPORT_STATE_KEY) == null || nodeBuilder.getProperty(INDEX_IMPORT_STATE_KEY).getValue(Type.STRING) == null) {
            return IndexImportState.NULL;
        } else {
```

### ConstantValue
Condition `mixins.add(MIX_REP_MERGE_CONFLICT)` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/AnnotatingConflictHandler.java`
#### Snippet
```java
    private static NodeBuilder addConflictMarker(@NotNull NodeBuilder parent) {
        List<String> mixins = newArrayList(parent.getNames(JCR_MIXINTYPES));
        if (mixins.add(MIX_REP_MERGE_CONFLICT)) {
            parent.setProperty(JCR_MIXINTYPES, mixins, NAMES);
        }
```

### ConstantValue
Value `copyVersions` is always 'null'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionCopyConfiguration.java`
#### Snippet
```java
    public Calendar getOrphanedMinDate() {
        if (copyVersions == null) {
            return copyVersions;
        } else if (copyOrphanedVersions != null && copyVersions.after(copyOrphanedVersions)) {
            return copyVersions;
```

### ConstantValue
Condition `i == colon + i` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/NamePathMapperImpl.java`
#### Snippet
```java
                case ':':
                    if (i == slash + 1              // "x/:y"
                            || i == colon + i       // "x::y"
                            || colon > slash        // "x:y:z"
                            || i + 1 == length) {   // "x:"
```

### ConstantValue
Condition `i == colon + i` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/NamePathMapperImpl.java`
#### Snippet
```java
                case '/':
                    if (i == slash + 1              // "x//y"
                            || i == colon + i       // "x:/y"
                            || i + 1 == length) {   // "x/"
                        return true;
```

### ConstantValue
Condition `subject == null` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/ImpersonationImpl.java`
#### Snippet
```java
    @Override
    public boolean allows(@NotNull Subject subject) {
        if (subject == null) {
            return false;
        }
```

### ConstantValue
Value `initialized` is always 'true'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java

        initialized = true;
        return initialized;
    }

```

### ConstantValue
Condition `principal == null` is always `false`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserManagerImpl.java`
#### Snippet
```java
    @Override
    public Authorizable getAuthorizable(@NotNull Principal principal) throws RepositoryException {
        return (principal == null) ? null : getAuthorizable(userProvider.getAuthorizableByPrincipal(principal));
    }

```

### ConstantValue
Value `readable` is always 'false'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeTreePermission.java`
#### Snippet
```java
                }
            }
            return readable;
        }

```

### ConstantValue
Condition `principal != null` is always `true`
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPolicyImpl.java`
#### Snippet
```java
        boolean modified = false;
        for (Principal principal : principals) {
            if (principal != null && this.principals.containsKey(principal.getName())) {
                this.principals.remove(principal.getName());
                modified = true;
```

### ConstantValue
Condition `!orderedProps.isEmpty()` is always `true`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakLuceneIndexUtils.java`
#### Snippet
```java
                orderedProps.add(orderedPropEntry.getKey());
            }
            if (!orderedProps.isEmpty()) {
                indexDef.setProperty(FulltextIndexConstants.ORDERED_PROP_NAMES,
                        orderedProps.toArray(new String[orderedProps.size()]),
```

### ConstantValue
Result of `orderedProps.isEmpty()` is always 'false'
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakLuceneIndexUtils.java`
#### Snippet
```java
                orderedProps.add(orderedPropEntry.getKey());
            }
            if (!orderedProps.isEmpty()) {
                indexDef.setProperty(FulltextIndexConstants.ORDERED_PROP_NAMES,
                        orderedProps.toArray(new String[orderedProps.size()]),
```

### ConstantValue
Condition `null != presignedURL` is always `true`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
            catch (URISyntaxException e) {
                LOG.error("AWS request to create presigned S3 URI failed - could not convert '{}' to URI",
                        (null != presignedURL ? presignedURL.toString() : "")
                );
            }
```

### ConstantValue
Condition `null == identifier` is always `false`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java

        // When running unit test from Maven, it doesn't always honor the @NotNull decorators
        if (null == identifier) throw new NullPointerException("identifier");
        if (null == downloadOptions) throw new NullPointerException("downloadOptions");

```

### ConstantValue
Condition `null == downloadOptions` is always `false`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        // When running unit test from Maven, it doesn't always honor the @NotNull decorators
        if (null == identifier) throw new NullPointerException("identifier");
        if (null == downloadOptions) throw new NullPointerException("downloadOptions");

        URI uri = null;
```

### ConstantValue
Condition `bindings != null` is always `true`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
            q.setLimit(actualLimit);
            q.setOffset(actualOffset);
            if (bindings != null) {
                for (Entry<String, ? extends PropertyValue> e : bindings.entrySet()) {
                    q.bindValue(e.getKey(), e.getValue());
```

### ConstantValue
Condition `name != null` is always `true`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/NodeStateAnalyzerFactory.java`
#### Snippet
```java
            if (ps.getType() != Type.BINARY
                    && !ps.isArray()
                    && !(name != null && NodeStateUtils.isHidden(name))
                    && !IGNORE_PROP_NAMES.contains(name)) {
                result.put(name, ps.getValue(Type.STRING));
```

### ConstantValue
Condition `indexOfWS == len` is always `false`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                int len = first.length();

                if (indexOfWS == len || indexOfWC == len) {
                    // remove trailing "*" for prefix query
                    first = first.substring(0, first.length() - 1);
```

### ConstantValue
Condition `indexOfWS == len || indexOfWC == len` is always `false`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                int len = first.length();

                if (indexOfWS == len || indexOfWC == len) {
                    // remove trailing "*" for prefix query
                    first = first.substring(0, first.length() - 1);
```

### ConstantValue
Condition `indexOfWC == len` is always `false` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                int len = first.length();

                if (indexOfWS == len || indexOfWC == len) {
                    // remove trailing "*" for prefix query
                    first = first.substring(0, first.length() - 1);
```

### ConstantValue
Value `disableStorage` is always 'true'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexProviderService.java`
#### Snippet
```java
            log.info("Feature to ensure that index definition matches the index state is disabled. Change in " +
                    "index definition would now affect query plans and might lead to inconsistent results.");
            IndexDefinition.setDisableStoredIndexDefinition(disableStorage);
        }
    }
```

### ConstantValue
Condition `async != null` is always `true`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/LuceneIndexHelper.java`
#### Snippet
```java
        index.setProperty(createProperty(FulltextIndexConstants.INCLUDE_PROPERTY_NAMES, includes, STRINGS));

        if (async != null) {
            index.setProperty(ASYNC_PROPERTY_NAME, async);
        }
```

### ConstantValue
Value `CACHE_FACET_RESULTS` is always 'false'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        public List<Facet> getFacets(int numberOfFacets, String columnName) throws IOException {
            if (!CACHE_FACET_RESULTS) {
                LOG.trace("{} = {} getting uncached results for columnName = {}", CACHE_FACET_RESULTS_NAME, CACHE_FACET_RESULTS, columnName);
                return getFacetsUncached(numberOfFacets, columnName);
            }
```

### ConstantValue
Condition `indexOfWS == len` is always `false`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        int len = first.length();

        if (indexOfWS == len || indexOfWC == len) {
            // remove trailing "*" for prefix query
            first = first.substring(0, first.length() - 1);
```

### ConstantValue
Condition `indexOfWS == len || indexOfWC == len` is always `false`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        int len = first.length();

        if (indexOfWS == len || indexOfWC == len) {
            // remove trailing "*" for prefix query
            first = first.substring(0, first.length() - 1);
```

### ConstantValue
Condition `indexOfWC == len` is always `false` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
        int len = first.length();

        if (indexOfWS == len || indexOfWC == len) {
            // remove trailing "*" for prefix query
            first = first.substring(0, first.length() - 1);
```

### ConstantValue
Condition `q != null` is always `true`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                if (planResult.evaluateNodeNameRestriction()) {
                    Query q = createNodeNameQuery(pr);
                    if (q != null) {
                        qs.add(q);
                    }
```

### ConstantValue
Condition `pr.last == null` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    return NumericRangeQuery.newLongRange(propertyName, first, last,
                            pr.firstIncluding, pr.lastIncluding);
                } else if (pr.first != null && pr.last == null) {
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
```

### ConstantValue
Condition `!pr.last.equals(pr.first)` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newLongRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Result of `pr.last.equals(pr.first)` is always 'false'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newLongRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Value `pr.first` is always 'null'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newLongRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Condition `pr.last == null` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    return NumericRangeQuery.newDoubleRange(propertyName, first, last,
                            pr.firstIncluding, pr.lastIncluding);
                } else if (pr.first != null && pr.last == null) {
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newDoubleRange(propertyName, first, null, pr.firstIncluding, true);
```

### ConstantValue
Condition `!pr.last.equals(pr.first)` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newDoubleRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newDoubleRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Result of `pr.last.equals(pr.first)` is always 'false'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newDoubleRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newDoubleRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Value `pr.first` is always 'null'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newDoubleRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newDoubleRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Condition `pr.last == null` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    return NumericRangeQuery.newLongRange(propertyName, first, last,
                            pr.firstIncluding, pr.lastIncluding);
                } else if (pr.first != null && pr.last == null) {
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
```

### ConstantValue
Condition `!pr.last.equals(pr.first)` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newLongRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Result of `pr.last.equals(pr.first)` is always 'false'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newLongRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Value `pr.first` is always 'null'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return NumericRangeQuery.newLongRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return NumericRangeQuery.newLongRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Condition `pr.last == null` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    return TermRangeQuery.newStringRange(propertyName, first, last,
                            pr.firstIncluding, pr.lastIncluding);
                } else if (pr.first != null && pr.last == null) {
                    // '>' & '>=' use cases
                    return TermRangeQuery.newStringRange(propertyName, first, null, pr.firstIncluding, true);
```

### ConstantValue
Condition `!pr.last.equals(pr.first)` is always `true` when reached
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return TermRangeQuery.newStringRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return TermRangeQuery.newStringRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Result of `pr.last.equals(pr.first)` is always 'false'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return TermRangeQuery.newStringRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return TermRangeQuery.newStringRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Value `pr.first` is always 'null'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                    // '>' & '>=' use cases
                    return TermRangeQuery.newStringRange(propertyName, first, null, pr.firstIncluding, true);
                } else if (pr.last != null && !pr.last.equals(pr.first)) {
                    // '<' & '<='
                    return TermRangeQuery.newStringRange(propertyName, null, last, true, pr.lastIncluding);
```

### ConstantValue
Condition `Double.isNaN(estimatedEntryCount)` is always `false` when reached
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/LMSEstimator.java`
#### Snippet
```java
            estimatedEntryCount += weights[i] * getInput(filter, i);
        }
        if (Double.isInfinite(estimatedEntryCount) || Double.isNaN(estimatedEntryCount)) {
            // prevent over / under flow
            estimatedEntryCount = 1;
```

### ConstantValue
Condition `failTestOnMissingFunctionIndex` is always `true`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        }
        boolean failTestOnMissingFunctionIndex = true;
        if (failTestOnMissingFunctionIndex) {
            // this means even just function restrictions fail the test
            // (for example "where upper(name) = 'X'",
```

### ConstantValue
Condition `dirty` at the left side of assignment expression is always `false`. Can be simplified
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
                boolean dirty = false;
                if (result.pd.ordered) {
                    dirty |= addTypedOrderedFields(document, result.propertyState,
                            result.propertyPath, result.pd);
                }
```

### ConstantValue
Condition `dirty` at the left side of assignment expression is always `false`. Can be simplified
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
        } else {
            if (pd.propertyIndex && pd.includePropertyType(property.getType().tag())) {
                dirty |= addTypedFields(doc, property, pname, pd);
            }
            if (!definition.isDynamicBoostLiteEnabled() && pd.dynamicBoost) {
```

### ConstantValue
Value `hasNode` is always 'true'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                final boolean hasNode = level1Node.hasNode(level2);
                                if (hasNode) {
                                    System.err.println("Reader: yup, exists: "+hasNode+", level1="+level1+", level2="+level2);
                                } else {
                                    System.err.println("Reader: not found: level1="+level1+", level2="+level2);
```

### ConstantValue
Condition `async != null` is always `true`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexHelper.java`
#### Snippet
```java
        index.setProperty(createProperty(INCLUDE_PROPERTY_NAMES, includes, STRINGS));

        if (async != null) {
            index.setProperty(ASYNC_PROPERTY_NAME, async);
        }
```

### ConstantValue
Value `sync` is always 'true'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
        builder.setProperty(FulltextIndexConstants.PROP_PROPERTY_INDEX, true);
        if (sync) {
            builder.setProperty(FulltextIndexConstants.PROP_SYNC, sync);
        }
        builder.setProperty(FulltextIndexConstants.PROP_NAME, name);
```

### ConstantValue
Condition `async != null` is always `true`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionUtils.java`
#### Snippet
```java
        index.setProperty(createProperty(INCLUDE_PROPERTY_NAMES, includes, STRINGS));

        if (async != null) {
            index.setProperty(ASYNC_PROPERTY_NAME, async);
        }
```

### ConstantValue
Condition `i` is always `false`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateManyIndexedNodesTest.java`
#### Snippet
```java
        session.save();
        
        for(int i=0; i<THREAD_COUNT-1; i++) {
            addBackgroundJob(new Writer());
        }
```

### ConstantValue
Condition `cp != null` is always `true`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/ConfigurationParameters.java`
#### Snippet
```java
        Map<String, Object> m = new HashMap<>();
        for (ConfigurationParameters cp : params) {
            if (cp != null) {
                m.putAll(cp.options);
            }
```

### ConstantValue
Condition `name == null` is always `false`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/AbstractCredentials.java`
#### Snippet
```java
    public void setAttribute(@NotNull String name, @Nullable Object value) {
        // name cannot be null
        if (name == null) {
            throw new IllegalArgumentException("name cannot be null");
        }
```

## RuleId[id=MethodOverridesStaticMethod]
### MethodOverridesStaticMethod
Method `main()` tries to override a static method of a superclass
in `oak-benchmarks-elastic/src/main/java/org/apache/jackrabbit/oak/benchmark/ElasticBenchmarkRunner.java`
#### Snippet
```java
    private static ElasticConnection connection;

    public static void main(String[] args) throws Exception {
        initOptionSet(args);
        statsProvider = options.has(benchmarkOptions.getMetrics()) ? getStatsProvider() : StatisticsProvider.NOOP;
```

### MethodOverridesStaticMethod
Method `toIndexEntry()` tries to override a static method of a superclass
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureBlobMetadata.java`
#### Snippet
```java
public final class AzureBlobMetadata extends RemoteBlobMetadata {

    public static RemoteSegmentArchiveEntry toIndexEntry(Map<String, String> metadata, int length) {
        Map<String, String> caseInsensitiveMetadata = CaseInsensitiveKeysMapAccess.convert(metadata);

```

### MethodOverridesStaticMethod
Method `isSegment()` tries to override a static method of a superclass
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureBlobMetadata.java`
#### Snippet
```java
    }

    public static boolean isSegment(Map<String, String> metadata) {
        Map<String, String> caseInsensitiveMetadata = CaseInsensitiveKeysMapAccess.convert(metadata);

```

### MethodOverridesStaticMethod
Method `main()` tries to override a static method of a superclass
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/LuceneBenchmarkRunner.java`
#### Snippet
```java
public class LuceneBenchmarkRunner extends BenchmarkRunner {

    public static void main(String[] args) throws Exception {
        initOptionSet(args);
        statsProvider = options.has(benchmarkOptions.getMetrics()) ? getStatsProvider() : StatisticsProvider.NOOP;
```

### MethodOverridesStaticMethod
Method `main()` tries to override a static method of a superclass
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/LuceneScalabilityRunner.java`
#### Snippet
```java
public class LuceneScalabilityRunner extends ScalabilityRunner {

    public static void main(String[] args) throws Exception {
        initOptionSet(args);
        ScalabilityRunner.addToScalabilitySuiteList(
```

### MethodOverridesStaticMethod
Method `setClock()` tries to override a static method of a superclass
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexEditorContext.java`
#### Snippet
```java
     * @param c clock
     * */
    public static void setClock(Clock c) {
        FulltextIndexEditorContext.setClock(c);
    }
```

### MethodOverridesStaticMethod
Method `equals()` tries to override a static method of a superclass
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexInfoProvider.java`
#### Snippet
```java
                IndexConstants.REINDEX_PROPERTY_NAME
        );
        public static boolean equals(NodeState before, NodeState after) {
            return before.exists() == after.exists()
                    && after.compareAgainstBaseState(before, new FilteringEqualsDiff());
```

### MethodOverridesStaticMethod
Method `newBuilder()` tries to override a static method of a superclass
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexDefinition.java`
#### Snippet
```java
    }

    public static Builder newBuilder(NodeState root, NodeState defn, String indexPath){
        return (Builder)new Builder()
                .root(root)
```

### MethodOverridesStaticMethod
Method `equals()` tries to override a static method of a superclass
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                FulltextIndexConstants.PROP_FACETS_TOP_CHILDREN);

        public static boolean equals(NodeState before, NodeState after) {
            return before.exists() == after.exists()
                    && after.compareAgainstBaseState(before, new SelectiveEqualsDiff());
```

### MethodOverridesStaticMethod
Method `equals()` tries to override a static method of a superclass
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                FulltextIndexConstants.PROP_FACETS_TOP_CHILDREN);

        public static boolean equals(NodeState before, NodeState after) {
            return before.exists() == after.exists()
                    && after.compareAgainstBaseState(before, new SelectiveEqualsDiff());
```

### MethodOverridesStaticMethod
Method `main()` tries to override a static method of a superclass
in `oak-benchmarks-solr/src/main/java/org/apache/jackrabbit/oak/benchmark/SolrBenchmarkRunner.java`
#### Snippet
```java
public class SolrBenchmarkRunner extends BenchmarkRunner {

    public static void main(String[] args) throws Exception {
        initOptionSet(args);
        statsProvider = options.has(benchmarkOptions.getMetrics()) ? getStatsProvider() : StatisticsProvider.NOOP;
```

## RuleId[id=StringConcatenationInsideStringBufferAppend]
### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
        StackTraceElement elements[] = Thread.currentThread().getStackTrace();
        StringBuilder b = new StringBuilder();
        b.append("operation '" + operation + "' called from:");
        int depth = 0;
        for (StackTraceElement e : elements) {
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java

            if (maj < dbmax || (maj == dbmax && min < dbmin)) {
                result.append(
                        "Unsupported " + dbname + " version: " + maj + "." + min + ", expected at least " + dbmax + "." + dbmin);
            }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
                    result.append(", ");
                }
                result.append("Unsupported " + dbname + " driver version: " + md.getDriverName() + " " + maj + "." + min
                        + ", expected at least " + drmax + "." + drmin);
            }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
                types.put(met.getColumnTypeName(i), met.getColumnType(i));
            }
            sb.append(" /* " + types.toString() + " */");
            return sb.toString();
        } catch (SQLException ex) {
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java
                    // delete if there is NO entry where the last modified of
                    // the meta is YOUNGER than x
                    dataStatement.append(" and not exists(select * from " + this.tnMeta + " where " + this.tnMeta + ".ID = "
                            + this.tnData + ".ID and LASTMOD > ?)");
                }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java
        private boolean refill() {
            StringBuffer query = new StringBuffer();
            query.append("select ID from " + metaTable);
            if (maxLastModifiedTime > 0) {
                query.append(" where LASTMOD <= ?");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        StringBuilder t = new StringBuilder();
        t.append("update " + tmd.getName() + " set ");
        t.append("MODIFIED = ?, HASBINARY = ?, DELETEDONCE = ?, MODCOUNT = ?, CMODCOUNT = ?, DSIZE = ?, DATA = ?, "
                + (tmd.hasVersion() ? (" VERSION = " + SCHEMAVERSION + ", ") : "") + "BDATA = ? ");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        StringBuilder t = new StringBuilder();
        t.append("update " + tmd.getName() + " set ");
        t.append("MODIFIED = ?, HASBINARY = ?, DELETEDONCE = ?, MODCOUNT = ?, CMODCOUNT = ?, DSIZE = ?, DATA = ?, "
                + (tmd.hasVersion() ? (" VERSION = " + SCHEMAVERSION + ", ") : "") + "BDATA = ? ");
        t.append("where ID = ?");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        if (limit != Integer.MAX_VALUE && this.dbInfo.getFetchFirstSyntax() == FETCHFIRSTSYNTAX.TOP) {
            selectClause.append("TOP " + limit + " ");
        }

```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        }

        selectClause.append(columns + " from " + tmd.getName());

        String whereClause = buildWhereClause(minId, maxId, excludeKeyPatterns, conditions);
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
            switch (this.dbInfo.getFetchFirstSyntax()) {
                case LIMIT:
                    query.append(" LIMIT " + limit);
                    break;
                case FETCHFIRST:
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                    break;
                case FETCHFIRST:
                    query.append(" FETCH FIRST " + limit + " ROWS ONLY");
                    break;
                default:
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
            sql.append("DATA, BDATA ");
        }
        sql.append("from " + tmd.getName() + " where ID = ?");
        PreparedStatement stmt = connection.prepareStatement(sql.toString());
        ResultSet rs = null;
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        PreparedStatementComponent stringAppend = this.dbInfo.getConcatQuery(appendDataWithComma, tmd.getDataLimitInOctets());
        StringBuilder t = new StringBuilder();
        t.append("update " + tmd.getName() + " set ");
        t.append(setModifiedConditionally ? "MODIFIED = case when ? > MODIFIED then ? else MODIFIED end, " : "MODIFIED = ?, ");
        t.append("HASBINARY = ?, DELETEDONCE = ?, MODCOUNT = ?, CMODCOUNT = ?, DSIZE = DSIZE + ?, ");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
            t.append("VERSION = " + SCHEMAVERSION + ", ");
        }
        t.append("DATA = " + stringAppend.getStatementComponent() + " ");
        t.append("where ID = ?");
        if (oldmodcount != null) {
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Template.java`
#### Snippet
```java
            builder.append("<many children>");
        } else {
            builder.append(childName + " = <node>");
        }
        builder.append(" }");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
                sformat.append(' ');
            }
            sformat.append("%" + widths.get(h) + "s");
        }
        String format = sformat.toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsData.java`
#### Snippet
```java
                StringBuilder buff = new StringBuilder();
                for(StackTraceElement e : Thread.currentThread().getStackTrace()) {
                    buff.append("\n\tat " + e);
                }
                name = name + buff.toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
                nodeType = "nt:base";
            }
            buff.append('[' + nodeType + ']').append(" as ").append(s.name);
            if (s.joinCondition != null) {
                buff.append(" on ").append(s.joinCondition);
```

## RuleId[id=IOResource]
### IOResource
'ValidatingObjectInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java
            try {
                fis = (new FileInputStream(path));
                ValidatingObjectInputStream input = new ValidatingObjectInputStream(fis);
                input.accept(HashMap.class, Map.class, Number.class, Long.class, String.class);
                asyncUploadMap = (Map<String, Long>) input.readObject();
```

### IOResource
'AsyncIndexerElastic' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                IndexHelper indexHelper = createIndexHelper(fixture, indexOpts, closer);
                AsyncIndexerElastic asyncIndexerService = new AsyncIndexerElastic(indexHelper, closer,
                        indexOpts.getAsyncLanes(), indexOpts.aysncDelay(), indexOpts);
                closer.register(asyncIndexerService);
```

### IOResource
'SequenceInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
        } else {
            // a few bytes are already read, need to re-build the input stream
            in = new SequenceInputStream(new ByteArrayInputStream(buffer, 0, pos), in);
            record = addRecordInternal(in, options);
        }
```

### IOResource
'RDBBlobStore' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/JdbcFactory.java`
#### Snippet
```java
        try {
            DataSource ds = getDataSource(closer);
            RDBBlobStore blobStore = new RDBBlobStore(ds);
            return !blobStore.getAllChunkIds(0).hasNext();
        } catch(Throwable e) {
```

### IOResource
'FileOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

                            try {
                                try (FileChannel channel = new FileOutputStream(tempSegmentFile).getChannel()) {
                                    bufferCopy.write(channel);
                                }
```

### IOResource
'PrintWriter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
    public String toString() {
        StringWriter sw = new StringWriter();
        PrintWriter pw = new PrintWriter(sw);
        String readAttr = readOnly ? "r" : "rw";
        pw.print(name + "(" + readAttr + ")");
```

### IOResource
'NodeStateEntryTraverser' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/DocumentStoreIndexerBase.java`
#### Snippet
```java
            //As first traversal is for dumping change the message prefix
            progressReporterPerTask.setMessagePrefix("Dumping from " + entryTraverserID);
            return new NodeStateEntryTraverser(entryTraverserID, rootRevision,
                            documentNodeStore, documentStore, traversingRange)
                            .withProgressCallback((id) -> {
```

### IOResource
'LineIterator' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStore.java`
#### Snippet
```java

    private Iterator<NodeStateEntry> createBaseIterator() {
        LineIterator itr = new LineIterator(createReader(storeFile, algorithm));
        closer.register(itr::close);
        return new AbstractIterator<NodeStateEntry>() {
```

### IOResource
'BackgroundObserver' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCacheService.java`
#### Snippet
```java
        int  queueSize = config.observerQueueSize();
        if (enableAsyncObserver){
            BackgroundObserver bgObserver = new BackgroundObserver(observer, executor, queueSize);
            oakRegs.add(registerMBean(whiteboard,
                    BackgroundObserverMBean.class,
```

### IOResource
'Socket' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
                return;
            }
            Socket socket = new Socket();
            try {
                socket.connect(new InetSocketAddress(address, port), TIMEOUT);
```

### IOResource
'CipherInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/UDPBroadcaster.java`
#### Snippet
```java
            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
            ByteArrayInputStream inStream = new ByteArrayInputStream(data);
            CipherInputStream cipherInputStream = new CipherInputStream(inStream, decryptCipher);
            byte[] buf = new byte[1024];
            int bytesRead;
```

### IOResource
'Formatter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordUsageAnalyser.java`
#### Snippet
```java
        StringBuilder sb = new StringBuilder();
        @SuppressWarnings("resource")
        Formatter formatter = new Formatter(sb);
        formatter.format(
                "%s in maps (%s leaf and branch records)%n",
```

### IOResource
'RandomAccessFile' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarPersistence.java`
#### Snippet
```java
    @Override
    public RepositoryLock lockRepository() throws IOException {
        RandomAccessFile lockFile = new RandomAccessFile(new File(directory, LOCK_FILE_NAME), "rw");
        try {
            FileLock lock = lockFile.getChannel().lock();
```

### IOResource
'NodeTraverser' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                        nodeStore instanceof org.apache.jackrabbit.oak.segment.SegmentNodeStore)) ||
                        options.has(verboseRootPath)) {
                    NodeTraverser traverser = new NodeTraverser(nodeStore, dsType);
                    closer.register(traverser);

```

### IOResource
'AsyncIndexerLucene' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
                NodeStoreFixture fixture = NodeStoreFixtureProvider.create(opts);
                ExtendedIndexHelper extendedIndexHelper = createIndexHelper(fixture, indexOpts, closer);
                AsyncIndexerLucene asyncIndexerService = new AsyncIndexerLucene(extendedIndexHelper, indexOpts.isCowCorEnabled(), closer,
                        indexOpts.getAsyncLanes(), indexOpts.aysncDelay());
                closer.register(asyncIndexerService);
```

### IOResource
'IO' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run/src/main/java/org/apache/jackrabbit/oak/console/Console.java`
#### Snippet
```java
            List<String> scriptArgs = nonOptions.size() > 1 ?
                    nonOptions.subList(1, nonOptions.size()) : Collections.emptyList();
            IO io = new IO();

            if (options.has(quiet)) {
```

### IOResource
'CSVFileBinaryResourceProvider' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractorMain.java`
#### Snippet
```java
                        "Data file %s does not exist", dataFile.getAbsolutePath());

                CSVFileBinaryResourceProvider csvProvider = new CSVFileBinaryResourceProvider(dataFile, blobStore);
                closer.register(csvProvider);
                binaryResourceProvider = csvProvider;
```

### IOResource
'CSVPrinter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileGenerator.java`
#### Snippet
```java
        int count = 0;
        try{
            CSVPrinter printer = new CSVPrinter(Files.newWriter(outFile, Charsets.UTF_8),
                    CSVFileBinaryResourceProvider.FORMAT);
            closer.register(printer);
```

### IOResource
'PrintWriter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/BinaryStats.java`
#### Snippet
```java

        StringWriter sw = new StringWriter();
        PrintWriter pw = new PrintWriter(sw);
        pw.println("MimeType Stats");
        pw.printf("\tTotal size          : %s%n", humanReadableByteCount(totalSize));
```

### IOResource
'PrintWriter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/progress/IndexingProgressReporter.java`
#### Snippet
```java
    private String getReport() {
        StringWriter sw = new StringWriter();
        PrintWriter pw = new PrintWriter(sw);
        pw.println("Indexing report");
        for (IndexUpdateState st : indexUpdateStates.values()) {
```

### IOResource
'BufferedReader' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeRegistry.java`
#### Snippet
```java
                    .get();
            if (referenceableFrozenNode) {
                BufferedReader bufferedReader = new BufferedReader(reader);
                StringBuilder result = new StringBuilder();
                String line;
```

### IOResource
'RunnableJobTracker' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/OakOSGiRepositoryFactory.java`
#### Snippet
```java
        SettableFuture<Repository> repoFuture = SettableFuture.create();

        new RunnableJobTracker(registry.getBundleContext());

        int timeoutInSecs = PropertiesUtil.toInteger(config.get(REPOSITORY_TIMEOUT_IN_SECS), DEFAULT_TIMEOUT);
```

### IOResource
'OakDirectory' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexDumper.java`
#### Snippet
```java
        meta.addDirectoryMapping(dirName, idxDir.getName());

        Directory sourceDir = new OakDirectory(new ReadOnlyBuilder(idx), dirName, defn, true);
        Directory targetDir = FSDirectory.open(idxDir);

```

### IOResource
'OakDirectory' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexConsistencyChecker.java`
#### Snippet
```java
                                     File workDir, String dirName, Closer closer) throws IOException {
        File idxDir = createWorkDir(workDir, dirName);
        Directory sourceDir = new OakDirectory(new ReadOnlyBuilder(idx), dirName, defn, true);
        Directory targetDir = FSDirectory.open(idxDir);

```

### IOResource
'SequenceInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
    private void pushData(InputStream in) throws IOException {
        if (uniqueKey != null) {
            in = new SequenceInputStream(in,
                    new ByteArrayInputStream(uniqueKey));
        }
```

### IOResource
'FileOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
                try {
                    int fileSize;
                    try (FileChannel channel = new FileOutputStream(tempSegmentFile).getChannel()) {
                        fileSize = bufferCopy.write(channel);
                    }
```

## RuleId[id=RedundantOperationOnEmptyContainer]
### RedundantOperationOnEmptyContainer
Collection `blobs` is always empty
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreHelper.java`
#### Snippet
```java
                System.out.print(".");
            }
            blobs.clear();
            BlobReferences refs = collectReferences(doc, store);
            totalGarbage += refs.garbageSize;
```

## RuleId[id=OptionalIsPresent]
### OptionalIsPresent
Can be replaced with single expression in functional style
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/directaccess/DataRecordUploadToken.java`
#### Snippet
```java
    public String getEncodedToken(@NotNull byte[] secret) {
        String now = Instant.now().toString();
        String toBeEncoded = uploadId.isPresent() ?
                Joiner.on("#").join(blobId, now, uploadId.get()) :
                Joiner.on("#").join(blobId, now);
```

### OptionalIsPresent
Can be replaced with single expression in functional style
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
            optionValues.add("index tag [" + queryOptions.indexTag + "]");
        }
        if (queryOptions.offset.isPresent()) {
            optionValues.add("offset " + queryOptions.offset.get());
        }
```

### OptionalIsPresent
Can be replaced with single expression in functional style
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
            optionValues.add("offset " + queryOptions.offset.get());
        }
        if (queryOptions.limit.isPresent()) {
            optionValues.add("limit " + queryOptions.limit.get());
        }
```

### OptionalIsPresent
Can be replaced with single expression in functional style
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
            optionValues.add("limit " + queryOptions.limit.get());
        }
        if (queryOptions.prefetchCount.isPresent()) {
            optionValues.add("prefetches " + queryOptions.prefetchCount.get());
        }
```

## RuleId[id=FieldMayBeStatic]
### FieldMayBeStatic
Field `summary` may be 'static'
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticPurgeOldIndexVersionCommand.java`
#### Snippet
```java
    private ElasticIndexOptions indexOpts;
    public static final String NAME = "purge-index-versions";
    private final String summary = "Provides elastic purge index related operations";

    @Override
```

### FieldMayBeStatic
Field `summary` may be 'static'
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/ElasticIndexCommand.java`
#### Snippet
```java
    private static final String LOG_SUFFIX = "indexing";

    private final String summary = "Provides elastic index management related operations";
    private static boolean disableExitOnError;

```

### FieldMayBeStatic
Field `charset` may be 'static'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/TraverseWithSortStrategy.java`
#### Snippet
```java
    private final NodeStateEntryWriter entryWriter;
    private final File storeDir;
    private final Charset charset = UTF_8;
    private final Comparator<NodeStateHolder> comparator;
    private NotificationEmitter emitter;
```

### FieldMayBeStatic
Field `mergeDirName` may be 'static'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
    private final File storeDir;
    private final File mergeDir;
    private final String mergeDirName = "merge";

    /**
```

### FieldMayBeStatic
Field `charset` may be 'static'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MergeRunner.java`
#### Snippet
```java
public class MergeRunner implements Runnable {
    private static final Logger log = LoggerFactory.getLogger(MergeRunner.class);
    private final Charset charset = UTF_8;
    private final Compression algorithm;
    private final ArrayList<File> mergedFiles = Lists.newArrayList();
```

### FieldMayBeStatic
Field `charset` may be 'static'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/NodeStateEntrySorter.java`
#### Snippet
```java
    private final File nodeStateFile;
    private final File workDir;
    private final Charset charset = UTF_8;
    private final Comparator<Iterable<String>> pathComparator;
    private File sortedFile;
```

### FieldMayBeStatic
Field `LOGTHRESHOLD` may be 'static'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
    }

    private final int LOGTHRESHOLD = 20;

    private ConcurrentMap<WeakReference<Connection>, ConnectionHolder> connectionMap = new ConcurrentHashMap<>();
```

### FieldMayBeStatic
Field `maxSize` may be 'static'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/SecondaryStoreCache.java`
#### Snippet
```java
    private final MeterStats headRevMatched;
    private final MeterStats prevRevMatched;
    private final int maxSize = 10000;
    private final EvictingQueue<AbstractDocumentNodeState> queue;
    private volatile AbstractDocumentNodeState[] previousRoots = EMPTY;
```

### FieldMayBeStatic
Field `messageLength` may be 'static'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/UDPBroadcaster.java`
#### Snippet
```java
    private final InetAddress sendTo;
    private final Thread thread;
    private final int messageLength = 32 * 1024;
    private final Cipher encryptCipher;
    private final Cipher decryptCipher;
```

### FieldMayBeStatic
Field `configTemplate` may be 'static'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/Installer.java`
#### Snippet
```java
     * todo: to be configured
     */
    private final String configTemplate =
            "/WEB-INF/templates/repository-config.json";

```

### FieldMayBeStatic
Field `bootstrapTemplate` may be 'static'
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/Installer.java`
#### Snippet
```java
     * todo: to be configured
     */
    private final String bootstrapTemplate = "/WEB-INF/templates/bootstrap.properties";

    /**
```

### FieldMayBeStatic
Field `summary` may be 'static'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsByScanningCommand.java`
#### Snippet
```java
    public static final String NAME = "frozennoderefsbyscanning";

    private final String summary = "Scans repository and lists all references to nt:frozenNode";

    @Override
```

### FieldMayBeStatic
Field `summary` may be 'static'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexCommand.java`
#### Snippet
```java
    public static final String INDEX_CONSISTENCY_CHECK_TXT = "index-consistency-check-report.txt";

    private final String summary = "Provides index management related operations";

    private File info;
```

### FieldMayBeStatic
Field `summary` may be 'static'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateExportCommand.java`
#### Snippet
```java
    public static final String NAME = "export";

    private final String summary = "Exports NodeState as json";

    @Override
```

### FieldMayBeStatic
Field `lifetime` may be 'static'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
    private final String lastIndexedTo;

    private final long lifetime = DEFAULT_LIFETIME; // TODO: make configurable

    private final AsyncIndexStats indexStats;
```

### FieldMayBeStatic
Field `metaFormatVersion` may be 'static'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexMeta.java`
#### Snippet
```java
    final String indexPath;
    final long creationTime;
    final int metaFormatVersion = 1;
    private final Map<String, String> properties;

```

### FieldMayBeStatic
Field `assetSampleSize` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/BundlingNodeTest.java`
#### Snippet
```java
        final Session session = loginWriter();
        final Queue<String> paths = new LinkedBlockingDeque<>();
        final int assetSampleSize = 50;
        final EvictingQueue<String> buffer = EvictingQueue.create(assetSampleSize);
        private List<String> assets;
```

### FieldMayBeStatic
Field `cleanupThreshold` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/LoginWithTokensTest.java`
#### Snippet
```java
    private final long tknExpy = TimeUnit.SECONDS.toMillis(15);

    private final long cleanupThreshold = 100;

    public LoginWithTokensTest(int numberOfUsers) {
```

### FieldMayBeStatic
Field `numberOfMembers` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java

    private final int numberOfUsers = 1000;
    private final int numberOfMembers = 10;
    private final boolean randomUser;

```

### FieldMayBeStatic
Field `numberOfUsers` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java
public class ManyUserReadTest extends ReadDeepTreeTest {

    private final int numberOfUsers = 1000;
    private final int numberOfMembers = 10;
    private final boolean randomUser;
```

## RuleId[id=UtilityClassWithoutPrivateConstructor]
### UtilityClassWithoutPrivateConstructor
Class `DataStoreCacheUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUtils.java`
#### Snippet
```java
 * Common utility methods used for DataStore caches.
 */
public class DataStoreCacheUtils {
    private static final Logger LOG = LoggerFactory.getLogger(DataStoreCacheUtils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `DataStoreCacheUpgradeUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUpgradeUtils.java`
#### Snippet
```java
 * {@link org.apache.jackrabbit.core.data.CachingDataStore}.
 */
public class DataStoreCacheUpgradeUtils {
    private static final Logger LOG = LoggerFactory.getLogger(DataStoreCacheUpgradeUtils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `SharedDataStoreUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
 * Utility class for {@link SharedDataStore}.
 */
public class SharedDataStoreUtils {
    /**
     * Checks if the blob store shared.
```

### UtilityClassWithoutPrivateConstructor
Class `AvailableElasticModes` has only 'static' members, and lacks a 'private' constructor
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/run/AvailableElasticModes.java`
#### Snippet
```java
Avaialble modes for elastic. Add new elastic operations/commands to be supported here.
 */
public final class AvailableElasticModes {
    // list of available Modes for the tool
    public static final Modes MODES = new Modes(
```

### UtilityClassWithoutPrivateConstructor
Class `TestHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-benchmarks-elastic/src/main/java/org/apache/jackrabbit/oak/benchmark/util/TestHelper.java`
#### Snippet
```java
import java.util.Map;

public class TestHelper {

    private static final Logger LOG = LoggerFactory.getLogger(TestHelper.class);
```

### UtilityClassWithoutPrivateConstructor
Class `FilterFactory` has only 'static' members, and lacks a 'private' constructor
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/filter/FilterFactory.java`
#### Snippet
```java
 *      JackrabbitEventFilter)
 */
public class FilterFactory {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `DocumentCheckpointRetriever` has only 'static' members, and lacks a 'private' constructor
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentCheckpointRetriever.java`
#### Snippet
```java
import java.util.Map;

public class DocumentCheckpointRetriever {

    public static List<CheckpointRetriever.Checkpoint> getCheckpoints(DocumentNodeStore nodeStore) {
```

### UtilityClassWithoutPrivateConstructor
Class `OakUpgrade` has only 'static' members, and lacks a 'private' constructor
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/OakUpgrade.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.upgrade.cli.parser.StoreArguments;

public class OakUpgrade {

    public static void main(String... args) throws IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `CliUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java
import com.google.common.io.Closer;

public class CliUtils {

    private static final Logger log = LoggerFactory.getLogger(OakUpgrade.class);
```

### UtilityClassWithoutPrivateConstructor
Class `OptionParserFactory` has only 'static' members, and lacks a 'private' constructor
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/OptionParserFactory.java`
#### Snippet
```java
import joptsimple.OptionParser;

public class OptionParserFactory {

    public static final String COPY_BINARIES = "copy-binaries";
```

### UtilityClassWithoutPrivateConstructor
Class `NodeTypeIndexingUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/util/NodeTypeIndexingUtils.java`
#### Snippet
```java
 * Utility class for generating a Solr synonyms file for expanding {@link javax.jcr.nodetype.NodeType}s
 */
public class NodeTypeIndexingUtils {

    public static File createPrimaryTypeSynonymsFile(String path, Session session) throws Exception {
```

### UtilityClassWithoutPrivateConstructor
Class `SolrUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/util/SolrUtils.java`
#### Snippet
```java
 * Solr utility class
 */
public class SolrUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `SolrServerRegistry` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerRegistry.java`
#### Snippet
```java
 * A registry for {@link org.apache.solr.client.solrj.SolrClient}s
 */
public class SolrServerRegistry {

    private static final Map<String, SolrClient> searchingServerRegistry = new HashMap<String, SolrClient>();
```

### UtilityClassWithoutPrivateConstructor
Class `SolrServerConfigurationDefaults` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/SolrServerConfigurationDefaults.java`
#### Snippet
```java
 * Defaults for Solr server configuration options.
 */
public class SolrServerConfigurationDefaults {

    // --> default values for EmbeddedSolrServerConfiguration parameters <--
```

### UtilityClassWithoutPrivateConstructor
Class `OakSolrConfigurationDefaults` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfigurationDefaults.java`
#### Snippet
```java
 * Defaults for search / indexing configurations options.
 */
public class OakSolrConfigurationDefaults {

    public static final String PATH_FIELD_NAME = "path_exact";
```

### UtilityClassWithoutPrivateConstructor
Class `Properties` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java
     * Properties that may be retrieved from the configuration {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
     */
    public final class Properties {
        // --> oak solr config properties <--
        public static final String PATH_FIELD = "pathField";
```

### UtilityClassWithoutPrivateConstructor
Class `Properties` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerConfigurationProvider.java`
#### Snippet
```java
     * Properties that may be retrieved from the configuration {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
     */
    public final class Properties {
        public static final String SERVER_TYPE = "solrServerType";

```

### UtilityClassWithoutPrivateConstructor
Class `FilterQueryParser` has only 'static' members, and lacks a 'private' constructor
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
 * and transform them into {@link org.apache.solr.client.solrj.SolrQuery}s and / or Solr query {@code String}s.
 */
class FilterQueryParser {

    private static final Logger log = LoggerFactory.getLogger(FilterQueryParser.class);
```

### UtilityClassWithoutPrivateConstructor
Class `CaseInsensitiveKeysMapAccess` has only 'static' members, and lacks a 'private' constructor
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/util/CaseInsensitiveKeysMapAccess.java`
#### Snippet
```java
 * the nature of  Hashmaps, the result is not deterministic.
 */
public class CaseInsensitiveKeysMapAccess {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `SegmentTarFixtureProvider` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentTarFixtureProvider.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.stats.StatisticsProvider;

class SegmentTarFixtureProvider {

    static NodeStore configureSegment(Options options, BlobStore blobStore, Whiteboard wb, Closer closer, boolean readOnly)
```

### UtilityClassWithoutPrivateConstructor
Class `SegmentFixtureProvider` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/SegmentFixtureProvider.java`
#### Snippet
```java

@SuppressWarnings("deprecation")
class SegmentFixtureProvider {

    static NodeStore create(Options options, BlobStore blobStore, Whiteboard wb, Closer closer, boolean readOnly)
```

### UtilityClassWithoutPrivateConstructor
Class `DocumentFixtureProvider` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils.getService;

class DocumentFixtureProvider {
    static DocumentNodeStore configureDocumentMk(Options options,
                                         BlobStore blobStore,
```

### UtilityClassWithoutPrivateConstructor
Class `ReadOnlyBlobStoreWrapper` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/ReadOnlyBlobStoreWrapper.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.blob.BlobStore;

class ReadOnlyBlobStoreWrapper {

    public static BlobStore wrap(BlobStore delegate){
```

### UtilityClassWithoutPrivateConstructor
Class `NodeStoreFixtureProvider` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/NodeStoreFixtureProvider.java`
#### Snippet
```java
import static java.util.Collections.emptyMap;

public class NodeStoreFixtureProvider {
    public static NodeStoreFixture create(Options options) throws Exception {
        return create(options, !options.getOptionBean(CommonOptions.class).isReadWrite());
```

### UtilityClassWithoutPrivateConstructor
Class `BlobStoreFixtureProvider` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/BlobStoreFixtureProvider.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.commons.PropertiesUtil.populate;

public class BlobStoreFixtureProvider {

    @Nullable
```

### UtilityClassWithoutPrivateConstructor
Class `IndexerConfiguration` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/IndexerConfiguration.java`
#### Snippet
```java
 * Indexer configuration for parallel indexing
 */
public class IndexerConfiguration {
    public static final String PROP_OAK_INDEXER_THREAD_POOL_SIZE = "oak.indexer.threadPoolSize";
    static final int DEFAULT_OAK_INDEXER_THREAD_POOL_SIZE = 1;
```

### UtilityClassWithoutPrivateConstructor
Class `FlatFileStoreUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/FlatFileStoreUtils.java`
#### Snippet
```java
 * This class provides common utility functions for building FlatFileStore.
 */
class FlatFileStoreUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `WhiteboardUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtils.ScheduleExecutionInstanceTypes.RUN_ON_SINGLE;

public class WhiteboardUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `DirectoryHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java
    }

    static class DirectoryHelper {

        private static final String PREFIX = "sort-work-dir-";
```

### UtilityClassWithoutPrivateConstructor
Class `DataStoreUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/DataStoreUtils.java`
#### Snippet
```java
 * Extension to {@link DataStoreUtils} to enable S3 / AzureBlob extensions for cleaning and initialization.
 */
public class DataStoreUtils {
    private static final Logger log = LoggerFactory.getLogger(DataStoreUtils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `PurgeOldVersionUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldVersionUtils.java`
#### Snippet
```java
import static com.google.common.base.Preconditions.checkNotNull;

public class PurgeOldVersionUtils {

    public static final String OAK_INDEX = "oak:index";
```

### UtilityClassWithoutPrivateConstructor
Class `Sweep2Helper` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2Helper.java`
#### Snippet
```java
 * Kept separate from DocumentNodeStore to limit its size.
 */
public class Sweep2Helper {

    private static final Logger LOG = LoggerFactory.getLogger(Sweep2Helper.class);
```

### UtilityClassWithoutPrivateConstructor
Class `UpdateUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UpdateUtils.java`
#### Snippet
```java
 * {@link Document}s.
 */
public class UpdateUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `ValueMap` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ValueMap.java`
#### Snippet
```java
 * map is the revision when the value was set.
 */
class ValueMap {

    static final SortedMap<Revision, String> EMPTY = Collections.unmodifiableSortedMap(
```

### UtilityClassWithoutPrivateConstructor
Class `RDBCreator` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBCreator.java`
#### Snippet
```java
import java.sql.Statement;

public class RDBCreator {

    public static void main(String[] args) throws ClassNotFoundException, SQLException {
```

### UtilityClassWithoutPrivateConstructor
Class `RDBJDBCTools` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
 * Convenience methods dealing with JDBC specifics.
 */
public class RDBJDBCTools {

    private static final org.slf4j.Logger LOG = LoggerFactory.getLogger(RDBJDBCTools.class);
```

### UtilityClassWithoutPrivateConstructor
Class `RDBDataSourceFactory` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDataSourceFactory.java`
#### Snippet
```java
 * Factory for creating {@link DataSource}s based on a JDBC connection URL.
 */
public class RDBDataSourceFactory {

    private static final org.slf4j.Logger LOG = LoggerFactory.getLogger(RDBDataSourceFactory.class);
```

### UtilityClassWithoutPrivateConstructor
Class `RDBHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBHelper.java`
#### Snippet
```java
 * </pre>
 */
public class RDBHelper {

    private static String[] DATABASES = { "Apache Derby", "DB2", "H2", "Microsoft SQL Server", "MySQL", "Oracle", "PostgreSQL",
```

### UtilityClassWithoutPrivateConstructor
Class `ReadOnlyDocumentStoreWrapperFactory` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/ReadOnlyDocumentStoreWrapperFactory.java`
#### Snippet
```java
import java.util.Arrays;
import java.util.Set;
public class ReadOnlyDocumentStoreWrapperFactory {
    private static final Set<String> unsupportedMethods = Sets.newHashSet(
            "remove", "create", "update", "createOrUpdate", "findAndUpdate");
```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
 * Utility methods.
 */
public class Utils {
    private static final Logger LOG = LoggerFactory.getLogger(Utils.class);

```

### UtilityClassWithoutPrivateConstructor
Class `RDBExport` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
 * Utility for dumping contents from {@link RDBDocumentStore}'s tables.
 */
public class RDBExport {

    private static final Charset UTF8 = Charset.forName("UTF-8");
```

### UtilityClassWithoutPrivateConstructor
Class `MongoUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoUtils.java`
#### Snippet
```java
 * Provides static utility methods for MongoDB.
 */
class MongoUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `MongoDBConfig` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDBConfig.java`
#### Snippet
```java
import java.util.Map;

public class MongoDBConfig {
    static final String COLLECTION_COMPRESSION_TYPE = "collectionCompressionType";
    static final String STORAGE_ENGINE = "wiredTiger";
```

### UtilityClassWithoutPrivateConstructor
Class `BundlorUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundlorUtils.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.plugins.document.bundlor.DocumentBundlor.META_PROP_BUNDLING_PATH;

public final class BundlorUtils {
    public static final Predicate<PropertyState> NOT_BUNDLOR_PROPS = new Predicate<PropertyState>() {
        @Override
```

### UtilityClassWithoutPrivateConstructor
Class `DataTypeUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/DataTypeUtil.java`
#### Snippet
```java
 * Utility class to write various types to a buffer and read it back again.
 */
class DataTypeUtil {

    static void booleanToBuffer(boolean b, WriteBuffer buffer) {
```

### UtilityClassWithoutPrivateConstructor
Class `OakServer` has only 'static' members, and lacks a 'private' constructor
in `oak-examples/standalone/src/main/java/org/apache/jackrabbit/oak/standalone/OakServer.java`
#### Snippet
```java

@SpringBootApplication
public class OakServer {

    public static void main(String[] args) {
```

### UtilityClassWithoutPrivateConstructor
Class `SegmentDump` has only 'static' members, and lacks a 'private' constructor
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentDump.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.segment.file.tar.GCGeneration;

class SegmentDump {

    private static int getAddress(int length, int offset) {
```

### UtilityClassWithoutPrivateConstructor
Class `BinaryReferencesIndexLoaderV1` has only 'static' members, and lacks a 'private' constructor
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndexLoaderV1.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.segment.util.ReaderAtEnd;

class BinaryReferencesIndexLoaderV1 {

    static final int MAGIC = ('\n' << 24) + ('0' << 16) + ('B' << 8) + '\n';
```

### UtilityClassWithoutPrivateConstructor
Class `BinaryReferencesIndexLoaderV2` has only 'static' members, and lacks a 'private' constructor
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/binaries/BinaryReferencesIndexLoaderV2.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.segment.util.ReaderAtEnd;

class BinaryReferencesIndexLoaderV2 {

    static final int MAGIC = ('\n' << 24) + ('1' << 16) + ('B' << 8) + '\n';
```

### UtilityClassWithoutPrivateConstructor
Class `AvailableModes` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/AvailableModes.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.run.commons.Modes;

public final class AvailableModes {
    // list of available Modes for the tool
    public static final Modes MODES = new Modes(
```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java
import joptsimple.OptionSpec;

class Utils {

    private static final long MB = 1024 * 1024;
```

### UtilityClassWithoutPrivateConstructor
Class `MetricsExporterFixtureProvider` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/MetricsExporterFixtureProvider.java`
#### Snippet
```java
 * Initialize different metrics exporter fixture based on parameters used.
 */
public class MetricsExporterFixtureProvider {
    private static final Logger log = LoggerFactory.getLogger(NodeStoreFixtureProvider.class);

```

### UtilityClassWithoutPrivateConstructor
Class `Console` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/console/Console.java`
#### Snippet
```java
 * A command line console.
 */
public class Console {

    public static void main(String[] args) throws Exception {
```

### UtilityClassWithoutPrivateConstructor
Class `ExternalSort` has only 'static' members, and lacks a 'private' constructor
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
 * </pre>
 */
public class ExternalSort {

    /*
```

### UtilityClassWithoutPrivateConstructor
Class `IndexDiff` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
 * The index diff tools allows to compare and merge indexes
 */
public class IndexDiff {

    private static final String OAK_INDEX = "/oak:index/";
```

### UtilityClassWithoutPrivateConstructor
Class `FileStoreHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/segment/FileStoreHelper.java`
#### Snippet
```java
import java.io.File;

public class FileStoreHelper {

    public static File isValidFileStoreOrFail(File store) {
```

### UtilityClassWithoutPrivateConstructor
Class `MongoDocumentStoreCheckHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStoreCheckHelper.java`
#### Snippet
```java
 * <code>MongoDocumentStoreCheckHelper</code>...
 */
public class MongoDocumentStoreCheckHelper {

    public static long getEstimatedDocumentCount(MongoDocumentStore store) {
```

### UtilityClassWithoutPrivateConstructor
Class `IndexDefMergerUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
 * Utility that allows to merge index definitions.
 */
public class IndexDefMergerUtils {

    private static HashSet<String> IGNORE_LEVEL_0 = new HashSet<>(Arrays.asList(
```

### UtilityClassWithoutPrivateConstructor
Class `SweepHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/SweepHelper.java`
#### Snippet
```java
 * Helper class to perform a revision sweep for a given clusterId.
 */
public final class SweepHelper {

    private static final TimeDurationFormatter TDF = TimeDurationFormatter.forLogging();
```

### UtilityClassWithoutPrivateConstructor
Class `ThreadDumpThreadNames` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpThreadNames.java`
#### Snippet
```java
 * date/time and just the thread names.
 */
public class ThreadDumpThreadNames {

    public static File process(File file) throws IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `ThreadDumpConverter` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpConverter.java`
#### Snippet
```java
 * A tool that converts full thread dumps files to the "standard" format.
 */
public class ThreadDumpConverter {
    
    public static void main(String... args) throws IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `ThreadDumpCleaner` has only 'static' members, and lacks a 'private' constructor
in `oak-run/src/main/java/org/apache/jackrabbit/oak/threadDump/ThreadDumpCleaner.java`
#### Snippet
```java
 * A tool that removes uninteresting lines from stack traces.
 */
public class ThreadDumpCleaner {

    private static final String[] PATTERN_ARRAY = {
```

### UtilityClassWithoutPrivateConstructor
Class `QueryRecorder` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryRecorder.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class QueryRecorder {

    private static final Logger LOG = LoggerFactory.getLogger(QueryRecorder.class);
```

### UtilityClassWithoutPrivateConstructor
Class `IndexSelectionPolicy` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexSelectionPolicy.java`
#### Snippet
```java
 * This class defines the index selection policy constants
 */
public final class IndexSelectionPolicy {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `PropUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/PropUtils.java`
#### Snippet
```java
import static com.google.common.base.Preconditions.checkNotNull;

final class PropUtils {

    static Properties loadFromFile(File file) throws IOException {
```

### UtilityClassWithoutPrivateConstructor
Class `AsyncLaneSwitcher` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/AsyncLaneSwitcher.java`
#### Snippet
```java
 * operation would be no op.
 */
public class AsyncLaneSwitcher {
    /**
     * Property name where previous value of 'async' is stored
```

### UtilityClassWithoutPrivateConstructor
Class `NodeStoreUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/NodeStoreUtils.java`
#### Snippet
```java
import static java.util.Collections.singletonList;

final class NodeStoreUtils {

    static void mergeWithConcurrentCheck(NodeStore nodeStore, NodeBuilder builder) throws CommitFailedException {
```

### UtilityClassWithoutPrivateConstructor
Class `ValuePatternUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePatternUtil.java`
#### Snippet
```java
import static com.google.common.collect.Sets.newLinkedHashSet;

public final class ValuePatternUtil {
    /**
     * Get the longest prefix of restrictions on a property.
```

### UtilityClassWithoutPrivateConstructor
Class `PropertyIndexUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexUtil.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.api.PropertyValue;

public class PropertyIndexUtil {
    // TODO the max string length should be removed, or made configurable
    private static final int MAX_STRING_LENGTH = 100;
```

### UtilityClassWithoutPrivateConstructor
Class `VersionHistoryUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionHistoryUtil.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class VersionHistoryUtil {

    private static final Logger LOG = LoggerFactory.getLogger(VersionHistoryUtil.class);
```

### UtilityClassWithoutPrivateConstructor
Class `GlobbingPathHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/GlobbingPathHelper.java`
#### Snippet
```java
import com.google.common.collect.Lists;

public class GlobbingPathHelper {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `OakLuceneIndexUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakLuceneIndexUtils.java`
#### Snippet
```java
import java.util.Map;

public class OakLuceneIndexUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `SpringBootSupport` has only 'static' members, and lacks a 'private' constructor
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/SpringBootSupport.java`
#### Snippet
```java
 * on reflection as the Spring Jar support is not visible to PojoSR classloader
 */
class SpringBootSupport {
    private static Logger log = LoggerFactory.getLogger(SpringBootSupport.class);

```

### UtilityClassWithoutPrivateConstructor
Class `ElasticIndexNameHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexNameHelper.java`
#### Snippet
```java
import java.util.stream.StreamSupport;

public class ElasticIndexNameHelper {

    private static final int MAX_NAME_LENGTH = 255;
```

### UtilityClassWithoutPrivateConstructor
Class `ElasticIndexUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/util/ElasticIndexUtils.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class ElasticIndexUtils {

    private static final Logger LOG = LoggerFactory.getLogger(ElasticIndexUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ElasticIndexHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexHelper.java`
#### Snippet
```java
 * Provides utility functions around Elasticsearch indexing
 */
class ElasticIndexHelper {

    // Unset the refresh interval and disable replicas at index creation to optimize for initial loads
```

### UtilityClassWithoutPrivateConstructor
Class `ElasticCustomAnalyzer` has only 'static' members, and lacks a 'private' constructor
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticCustomAnalyzer.java`
#### Snippet
```java
 * to Elasticsearch configuration options.
 */
public class ElasticCustomAnalyzer {

    private static final Logger LOG = LoggerFactory.getLogger(ElasticCustomAnalyzer.class);
```

### UtilityClassWithoutPrivateConstructor
Class `FacetTestHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/FacetTestHelper.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class FacetTestHelper {
    private static final Logger LOG = LoggerFactory.getLogger(FacetTestHelper.class);

```

### UtilityClassWithoutPrivateConstructor
Class `SpellcheckHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SpellcheckHelper.java`
#### Snippet
```java
 * under the hood.
 */
public class SpellcheckHelper {

    private static final DirectSpellChecker spellChecker = new DirectSpellChecker();
```

### UtilityClassWithoutPrivateConstructor
Class `SuggestHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
 * implementation under the hood.
 */
public class SuggestHelper {

    private static final Logger log = LoggerFactory.getLogger(SuggestHelper.class);
```

### UtilityClassWithoutPrivateConstructor
Class `MoreLikeThisHelper` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/MoreLikeThisHelper.java`
#### Snippet
```java
 * Helper class for generating a {@link org.apache.lucene.queries.mlt.MoreLikeThisQuery} from the native query <code>String</code>
 */
public class MoreLikeThisHelper {

    public static Query getMoreLikeThis(IndexReader reader, Analyzer analyzer, String mltQueryString) {
```

### UtilityClassWithoutPrivateConstructor
Class `SimSearchUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/fv/SimSearchUtils.java`
#### Snippet
```java
 * Utility methods for indexing and searching for similar feature vectors
 */
public class SimSearchUtils {

    private static final Logger log = LoggerFactory.getLogger(SimSearchUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `MultiplexersLucene` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/MultiplexersLucene.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndexConstants.SUGGEST_DATA_CHILD_NAME;

public final class MultiplexersLucene {
    /**
     * Prefix used to decorate mount names to represent index directory
```

### UtilityClassWithoutPrivateConstructor
Class `HybridPropertyIndexUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/HybridPropertyIndexUtil.java`
#### Snippet
```java
import org.apache.jackrabbit.oak.spi.state.NodeState;

class HybridPropertyIndexUtil {
    /**
     * Node name under which all property indexes are created
```

### UtilityClassWithoutPrivateConstructor
Class `IndexWriterUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/IndexWriterUtils.java`
#### Snippet
```java
import org.apache.lucene.index.SerialMergeScheduler;

public class IndexWriterUtils {
    private static final int INDEX_WRITER_MAX_MERGE = Integer.getInteger("oak.indexer.writerMaxMerges", 1);
    private static final int INDEX_WRITER_MAX_THREAD = Integer.getInteger("oak.indexer.writerMaxThreads", 1);
```

### UtilityClassWithoutPrivateConstructor
Class `DirectoryUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/DirectoryUtils.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.plugins.index.lucene.directory.IndexRootDirectory.INDEX_METADATA_FILE_NAME;

public class DirectoryUtils {
    /**
     * Get the file length in best effort basis.
```

### UtilityClassWithoutPrivateConstructor
Class `MoreLikeThisHelperUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/MoreLikeThisHelperUtil.java`
#### Snippet
```java
Helper class to assist with mlt query formation for elastic and lucene
 */
public class MoreLikeThisHelperUtil {

    /*
```

### UtilityClassWithoutPrivateConstructor
Class `ActiveDeletedBlobCollectorFactory` has only 'static' members, and lacks a 'private' constructor
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
import static com.google.common.base.Preconditions.checkArgument;

public class ActiveDeletedBlobCollectorFactory {
    public interface ActiveDeletedBlobCollector {
        /**
```

### UtilityClassWithoutPrivateConstructor
Class `TikaParserConfig` has only 'static' members, and lacks a 'private' constructor
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/TikaParserConfig.java`
#### Snippet
```java
import org.xml.sax.SAXException;

public class TikaParserConfig {

    private static final String EMPTY_PARSER = "org.apache.tika.parser.EmptyParser";
```

### UtilityClassWithoutPrivateConstructor
Class `QueryUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/QueryUtils.java`
#### Snippet
```java
package org.apache.jackrabbit.oak.plugins.index.search.util;

public class QueryUtils {

    public static final char WILDCARD_STRING = '*';
```

### UtilityClassWithoutPrivateConstructor
Class `DataConversionUtil` has only 'static' members, and lacks a 'private' constructor
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/DataConversionUtil.java`
#### Snippet
```java
 * Utility class to convert data from one to another format.
 */
public class DataConversionUtil {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `StatsCollectingStreams` has only 'static' members, and lacks a 'private' constructor
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/StatsCollectingStreams.java`
#### Snippet
```java


public final class StatsCollectingStreams {

    public static InputStream wrap(@NotNull final BlobStatsCollector collector, final String blobId, InputStream in) {
```

### UtilityClassWithoutPrivateConstructor
Class `IndexDefinitionUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionUtils.java`
#### Snippet
```java
 * A second utility to build index definitions.
 */
public class IndexDefinitionUtils {

    public static NodeBuilder newFTIndexDefinition(
```

### UtilityClassWithoutPrivateConstructor
Class `OakIndexUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/OakIndexUtils.java`
#### Snippet
```java
 * A simple utility class for Oak indexes.
 */
public class OakIndexUtils {
    
    /**
```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authorization/Utils.java`
#### Snippet
```java
import java.util.Set;

public class Utils {

    private static final Logger log = LoggerFactory.getLogger(Utils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `NodeTypeUtils` has only 'static' members, and lacks a 'private' constructor
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/util/NodeTypeUtils.java`
#### Snippet
```java
 * Helper class for creating node types.
 */
public class NodeTypeUtils {

    /**
```

## RuleId[id=DataFlowIssue]
### DataFlowIssue
Dereference of `f.list()` may produce `NullPointerException`
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/DataStoreCacheUtils.java`
#### Snippet
```java
            if ((f == null) || f.equals(root)
                || (f.list() == null)
                || (f.list().length > 0)) {
                break;
            }
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/AbstractSharedCachingDataStore.java`
#### Snippet
```java
        return Iterators.concat(Iterators.transform(cache.getStagingCache().getAllIdentifiers(),
            new Function<String, DataIdentifier>() {
                @Nullable @Override public DataIdentifier apply(@Nullable String id) {
                    return new DataIdentifier(id);
                }
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedDataStoreUtils.java`
#### Snippet
```java
                new Function<DataRecord, Long>() {
                    @Override
                    @Nullable
                    public Long apply(@NotNull DataRecord input) {
                        return input.getLastModified();
```

### DataFlowIssue
Method invocation `getContext` may produce `NullPointerException`
in `oak-run-elastic/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/ElasticIndexer.java`
#### Snippet
```java
        FulltextIndexEditor editor = (FulltextIndexEditor) elasticIndexEditorProvider.getIndexEditor(
                TYPE_ELASTICSEARCH, definitionBuilder, indexHelper.getNodeStore().getRoot(), new ReportingCallback(definition.getIndexPath(),false));
        editor.getContext().enableReindexMode();
    }

```

### DataFlowIssue
Argument `mountInfoProvider.getMountByName(seedMount)` might be null
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStoreService.java`
#### Snippet
```java

            if (mountName.equals(seedMount)) {
                new InitialContentMigrator(globalNs.nodeStore.getNodeStore(), ns.getNodeStoreProvider().getNodeStore(), mountInfoProvider.getMountByName(seedMount)).migrate();
            }
        }
```

### DataFlowIssue
Argument `pi.getName()` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
            //TODO find better heuristics?
            EffectiveNodeType ent = effectiveNodeTypeProvider.getEffectiveNodeType(tree);
            PropertyDefinition def = ent.getPropertyDefinition(pi.getName(), pi.getType(), pi.isUnknownMultiple());
            if (def == null) {
                throw new ConstraintViolationException("No matching property definition found for " + pi.getName());
```

### DataFlowIssue
Argument `nodeInfo.getUUID()` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
            // remember uuid mapping
            if (isNodeType(tree, JcrConstants.MIX_REFERENCEABLE)) {
                refTracker.put(nodeInfo.getUUID(), TreeUtil.getString(tree, JcrConstants.JCR_UUID));
            }
        } else if (uuidBehavior == ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW) {
```

### DataFlowIssue
Argument `TreeUtil.getString(tree, JcrConstants.JCR_UUID)` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
            // remember uuid mapping
            if (isNodeType(tree, JcrConstants.MIX_REFERENCEABLE)) {
                refTracker.put(nodeInfo.getUUID(), TreeUtil.getString(tree, JcrConstants.JCR_UUID));
            }
        } else if (uuidBehavior == ImportUUIDBehavior.IMPORT_UUID_COLLISION_THROW) {
```

### DataFlowIssue
Argument `nodeInfo.getUUID()` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
                // remember uuid mapping
                if (isNodeType(tree, JcrConstants.MIX_REFERENCEABLE)) {
                    refTracker.put(nodeInfo.getUUID(), TreeUtil.getString(tree, JcrConstants.JCR_UUID));
                }
            } else {
```

### DataFlowIssue
Argument `TreeUtil.getString(tree, JcrConstants.JCR_UUID)` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
                // remember uuid mapping
                if (isNodeType(tree, JcrConstants.MIX_REFERENCEABLE)) {
                    refTracker.put(nodeInfo.getUUID(), TreeUtil.getString(tree, JcrConstants.JCR_UUID));
                }
            } else {
```

### DataFlowIssue
Method invocation `getTree` may produce `NullPointerException`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/PropertyImpl.java`
#### Snippet
```java
            public PropertyDefinition perform() throws RepositoryException {
                return getNodeTypeManager().getDefinition(
                        property.getParent().getTree(),
                        property.getPropertyState(), true);
            }
```

### DataFlowIssue
Argument `dlg.getParent()` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionImpl.java`
#### Snippet
```java
            public Version performNullable() throws RepositoryException {
                VersionHistoryDelegate vHistory = getVersionManagerDelegate()
                        .createVersionHistory(dlg.getParent());
                Iterator<VersionDelegate> it = vHistory.getAllLinearVersions();
                // search for this version ...
```

### DataFlowIssue
Argument `dlg.getParent()` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionImpl.java`
#### Snippet
```java
                return new VersionHistoryImpl(
                        getVersionManagerDelegate().createVersionHistory(
                                dlg.getParent()), sessionContext);
            }
        });
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java

    public String getVersionableIdentifier() throws InvalidItemStateException {
        return getTree().getProperty(JcrConstants.JCR_VERSIONABLEUUID).getValue(Type.STRING);
    }

```

### DataFlowIssue
Argument `n.getParent()` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/version/VersionManagerImpl.java`
#### Snippet
```java
                    // ready for restore
                    VersionDelegate vd = versionManagerDelegate.getVersionByIdentifier(version.getIdentifier());
                    versionManagerDelegate.restore(n.getParent(), n.getName(), vd);
                    sessionDelegate.commit();
                    success = true;
```

### DataFlowIssue
Method invocation `getIdentifier` may produce `NullPointerException`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionManagerDelegate.java`
#### Snippet
```java
            }
            t.setProperty(JCR_BASEVERSION, vd.getIdentifier(), Type.REFERENCE);
            t.setProperty(JCR_VERSIONHISTORY, vd.getParent().getIdentifier(), Type.REFERENCE);
        } else {
            Tree t = parent.getChild(oakName).getTree();
```

### DataFlowIssue
Method invocation `getTree` may produce `NullPointerException`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionManagerDelegate.java`
#### Snippet
```java
            t.setProperty(JCR_VERSIONHISTORY, vd.getParent().getIdentifier(), Type.REFERENCE);
        } else {
            Tree t = parent.getChild(oakName).getTree();
            t.setProperty(JCR_BASEVERSION, RESTORE_PREFIX + vd.getIdentifier(), Type.REFERENCE);
        }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/WorkspaceDelegate.java`
#### Snippet
```java
                copyInfo.put("copy-source", source.getPath());
                if (TreeUtil.isNodeType(source, JcrConstants.MIX_VERSIONABLE, typeRoot)) {
                    String sourceBaseVersionId = source.getProperty(JcrConstants.JCR_BASEVERSION).getValue(Type.STRING);
                    copyInfo.put(VersionConstants.JCR_COPIED_FROM, sourceBaseVersionId);
                }
```

### DataFlowIssue
Argument `nodeTypeNames[i]` might be null
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
        for (int i = 0; i < nodeTypeNames.length; i++) {
            ntMgr.getNodeType(nodeTypeNames[i]);
            oakNames[i] = namePathMapper.getOakName(nodeTypeNames[i]);
        }
        return oakNames;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/BundleLoader.java`
#### Snippet
```java
                method = null;
            } catch (NoSuchMethodException e) {
                method = null;
            }
        }
```

### DataFlowIssue
Method invocation `getBoolean` may produce `NullPointerException`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
        @Override
        public boolean apply(NodeState input) {
            return !input.getBoolean(JCR_SAMENAMESIBLINGS);
        }
    };
```

### DataFlowIssue
Argument `is` might be null
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/CliUtils.java`
#### Snippet
```java
        InputStream is = CliUtils.class.getClassLoader().getResourceAsStream("upgrade_usage.txt");
        try {
            return IOUtils.toString(is);
        } finally {
            IOUtils.closeQuietly(is);
```

### DataFlowIssue
Method invocation `hasExternalBlobReferences` may produce `NullPointerException`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/StoreFactory.java`
#### Snippet
```java
            return true;
        } else {
            return nodeStoreFactory.hasExternalBlobReferences();
        }
    }
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/checkpoint/CheckpointRetriever.java`
#### Snippet
```java
    private static List<Checkpoint> getCheckpoints(NodeState checkpointRoot) {
        return Lists.newArrayList(Iterables.transform(checkpointRoot.getChildNodeEntries(), new Function<ChildNodeEntry, Checkpoint>() {
            @Nullable
            @Override
            public Checkpoint apply(@Nullable ChildNodeEntry input) {
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/checkpoint/CheckpointRetriever.java`
#### Snippet
```java
            @Override
            public Checkpoint apply(@Nullable ChildNodeEntry input) {
                return Checkpoint.createFromSegmentNode(input.getName(), input.getNodeState());
            }
        }));
```

### DataFlowIssue
Argument `solrServer` might be null
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/OakSolrServer.java`
#### Snippet
```java
                solrServer = solrServerProvider.getSolrServer();
                // the same Solr server has to be used for both
                SolrServerRegistry.register(solrServerConfiguration, solrServer, SolrServerRegistry.Strategy.INDEXING);
                SolrServerRegistry.register(solrServerConfiguration, solrServer, SolrServerRegistry.Strategy.SEARCHING);
            } else {
```

### DataFlowIssue
Argument `solrServer` might be null
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/OakSolrServer.java`
#### Snippet
```java
            } else {
                solrServer = isIndex ? solrServerProvider.getIndexingSolrServer() : solrServerProvider.getSearchingSolrServer();
                SolrServerRegistry.register(solrServerConfiguration, solrServer, strategy);
            }
        }
```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/DefaultSolrServerProvider.java`
#### Snippet
```java
            // do nothing
        } try {
            getSearchingSolrServer().close();
        } catch (Exception e) {
            // do nothing
```

### DataFlowIssue
Method invocation `getPath` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/index/SolrIndexEditor.java`
#### Snippet
```java
    String getPath() {
        if (path == null) { // => parent != null
            path = concat(parent.getPath(), name);
        }
        return path;
```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerProvider.java`
#### Snippet
```java
    public void close() throws IOException {
        try {
            getSolrServer().close();
        } catch (Exception e) {
            // do nothing
```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerProvider.java`
#### Snippet
```java
            // do nothing
        } try {
            getIndexingSolrServer().close();
        } catch (Exception e) {
            // do nothing
```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerProvider.java`
#### Snippet
```java
            // do nothing
        } try {
            getSearchingSolrServer().close();
        } catch (Exception e) {
            // do nothing
```

### DataFlowIssue
Argument `inputStream` might be null
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/RemoteSolrServerProvider.java`
#### Snippet
```java
        assert newFile.createNewFile();
        FileOutputStream outputStream = new FileOutputStream(newFile);
        IOUtils.copy(inputStream, outputStream);
        inputStream.close();
        outputStream.flush();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java
    public OakSolrNodeStateConfiguration(NodeState definition) {
        this.definition = definition;
        if (!definition.hasProperty("type") || !(SolrQueryIndex.TYPE.equals(definition.getProperty("type").getValue(Type.STRING)))) {
            throw new IllegalArgumentException("missing or wrong 'type' property in " + definition);
        }
```

### DataFlowIssue
Argument `p` might be null
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
                    p = configuration.getCatchAllField();
                }
                fullTextString.append(partialEscape(p));
                fullTextString.append(':');
                String termText = term.getText();
```

### DataFlowIssue
Method invocation `getPathPrefix` may produce `NullPointerException`
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
            Filter.PathRestriction pathRestriction = filter.getPathRestriction();
            if (pathRestriction != null) {
                String path = purgePath(filter, plan.getPathPrefix());
                String fieldName = configuration.getFieldForPathRestriction(pathRestriction);
                if (fieldName != null) {
```

### DataFlowIssue
@Nullable method 'getOrCreateId' always returns a non-null value
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/cluster/ClusterRepositoryInfo.java`
#### Snippet
```java
     * @return the persistent clusterId
     */
    @Nullable
    public static String getOrCreateId(@NotNull NodeStore store) {
        checkNotNull(store, "store is null");
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/cluster/ClusterRepositoryInfo.java`
#### Snippet
```java
        if (node.exists() && node.hasProperty(CLUSTER_ID_PROP)) {
            // clusterId is set - this is the normal case
            return node.getProperty(CLUSTER_ID_PROP).getValue(Type.STRING);
        }
        
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/cluster/ClusterRepositoryInfo.java`
#### Snippet
```java
            if (node.exists() && node.hasProperty(CLUSTER_ID_PROP)) {
                // clusterId is set - this is the normal case
                return node.getProperty(CLUSTER_ID_PROP).getValue(Type.STRING);
            }
            
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/cluster/ClusterRepositoryInfo.java`
#### Snippet
```java
        NodeState node = root.getChildNode(CLUSTER_CONFIG_NODE);
        if (node.exists() && node.hasProperty(CLUSTER_ID_PROP)) {
            return node.getProperty(CLUSTER_ID_PROP).getValue(Type.STRING);
        }
        return null;
```

### DataFlowIssue
Argument `number` might be null
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
                try {
                    type = PropertyType.LONG;
                    values.add(Long.parseLong(number));
                } catch (NumberFormatException e) {
                    type = PropertyType.DOUBLE;
```

### DataFlowIssue
Argument `jsonString` might be null
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
                String jsonString = reader.getToken();
                Type inferredType = deserializationSupport.inferPropertyType(name, jsonString);
                int split = TypeCodes.split(jsonString);
                if (split != -1) {
                    type = TypeCodes.decodeType(split, jsonString);
```

### DataFlowIssue
Argument `number` might be null
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
            String number = reader.getToken();
            try {
                return new LongPropertyState(name, Long.parseLong(number));
            } catch (NumberFormatException e) {
                return new DoublePropertyState(name, Double.parseDouble(number));
```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
            String jsonString = reader.getToken();
            Type inferredType = deserializationSupport.inferPropertyType(name, jsonString);
            if (jsonString.startsWith(TypeCodes.EMPTY_ARRAY)) {
                int type = PropertyType.valueFromName(
                        jsonString.substring(TypeCodes.EMPTY_ARRAY.length()));
```

### DataFlowIssue
Argument `key` might be null
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonDeserializer.java`
#### Snippet
```java
                if (reader.matches('{')) {
                    childNames.add(key);
                    readNode(reader, builder.child(key));
                } else if (reader.matches('[')) {
                    builder.setProperty(readArrayProperty(key, reader));
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonSerializer.java`
#### Snippet
```java
                readPatterns(tokenizer, includes, excludes);

                if (key.equals("nodes")) {
                    nodeIncludes.clear();
                    nodeIncludes.addAll(includes);
```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsonSerializer.java`
#### Snippet
```java
                }
                String pattern = tokenizer.readString();
                if (pattern.startsWith("-")) {
                    excludes.add(glob(pattern.substring(1)));
                } else if (pattern.startsWith("\\-")) {
```

### DataFlowIssue
Method invocation `head` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
            if (revision != rootRevision) {
                // root revision changed: recursively re-get state from parent
                NodeState parentState = builder.parent.head().getCurrentNodeState();
                NodeState newState = parentState.getChildNode(builder.name);
                if (newState instanceof MutableNodeState) {
```

### DataFlowIssue
Argument `builder.name` might be null
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
                // root revision changed: recursively re-get state from parent
                NodeState parentState = builder.parent.head().getCurrentNodeState();
                NodeState newState = parentState.getChildNode(builder.name);
                if (newState instanceof MutableNodeState) {
                    // transition state to ConnectedHead
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
            return null;
        } else {
            return head.getValue(Type.STRING);
        }
    }
```

### DataFlowIssue
Method invocation `head` may produce `NullPointerException`
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
            // switch to connected state recursively up to the parent
            MutableNodeState parentState =
                    builder.parent.head().getMutableNodeState();
            MutableNodeState state =
                    parentState.getMutableChildNode(builder.name);
```

### DataFlowIssue
Dereference of `lastException` may produce `NullPointerException`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureUtilities.java`
#### Snippet
```java

        if (result == null) {
            throw lastException;
        } else {
            return result;
```

### DataFlowIssue
Argument `graph` might be null
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
        if (reader.hasGraph()) {
            Buffer graph = reader.getGraph();
            byte[] array = fetchByteArray(graph);
            writer.writeGraph(array);
        }
```

### DataFlowIssue
Argument `reader` might be null
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
                SegmentArchiveWriter writer = targetManager.create(archiveName);
                try {
                    migrateSegments(reader, writer);
                    migrateBinaryRef(reader, writer);
                    migrateGraph(reader, writer);
```

### DataFlowIssue
Method invocation `listSegments` may produce `NullPointerException`
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentCopy.java`
#### Snippet
```java

                    List<Future<Segment>> futures = new ArrayList<>();
                    for (SegmentArchiveEntry entry : reader.listSegments()) {
                        futures.add(executor.submit(() -> runWithRetry(() -> {
                            Segment segment = new Segment(entry);
```

### DataFlowIssue
Argument `reader` might be null
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
                SegmentArchiveWriter writer = targetManager.create(archiveName);
                try {
                    migrateSegments(reader, writer);
                    migrateBinaryRef(reader, writer);
                    migrateGraph(reader, writer);
```

### DataFlowIssue
Method invocation `endsWith` may produce `NullPointerException`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/mount/MountInfo.java`
#### Snippet
```java
        @Override
        public String apply(String input) {
            if (input.endsWith("/") && input.length() > 1) {
                return input.substring(0, input.length() - 1); 
            }
```

### DataFlowIssue
Dereference of `cs.getParentPaths()` may produce `NullPointerException`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/observation/ChangeSetBuilder.java`
#### Snippet
```java
        }

        for (String pathFromChangeSet : cs.getParentPaths()){
            addParentPath(getPathWithMaxDepth(pathFromChangeSet, maxPathDepth));
        }
```

### DataFlowIssue
Dereference of `ConfigurationParameters.Milliseconds.of(PARAM_SEARCH_TIMEOUT_DEFAULT)` may produce `NullPointerException`
in `oak-auth-ldap/src/main/java/org/apache/jackrabbit/oak/security/authentication/ldap/impl/LdapProviderConfig.java`
#### Snippet
```java
    private String bindPassword = PARAM_BIND_PASSWORD_DEFAULT;

    private long searchTimeout = ConfigurationParameters.Milliseconds.of(PARAM_SEARCH_TIMEOUT_DEFAULT).value;

    private String groupMemberAttribute = PARAM_GROUP_MEMBER_ATTRIBUTE;
```

### DataFlowIssue
Method invocation `getPath` may produce `NullPointerException`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/namepath/PathTracker.java`
#### Snippet
```java
    public String getPath() {
        if (path == null) { // implies parent != null
            path = PathUtils.concat(parent.getPath(), name);
        }
        return path;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/namepath/JcrNameParser.java`
#### Snippet
```java
                    // therefore reset the nameStart and change state.
                    state = STATE_NAME;
                    nameStart = 0;
                } else if (state == STATE_NAME_START) {
                    state = STATE_NAME;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/namepath/JcrNameParser.java`
#### Snippet
```java
                        // normal local name.
                        state = STATE_NAME;
                        nameStart = 0;
                    } else {
                        listener.error("The URI prefix of the name " + jcrName + " is " +
```

### DataFlowIssue
Casting `builder` to `MongoDocumentNodeStoreBuilder` may produce `ClassCastException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
            wb.register(MongoConnection.class, mongo, emptyMap());
            closer.register(mongo::close);
            ((MongoDocumentNodeStoreBuilder) builder).setMongoDB(mongo.getMongoClient(), mongo.getDBName());
            dns = builder.build();
            wb.register(MongoDocumentStore.class, (MongoDocumentStore) builder.getDocumentStore(), emptyMap());
```

### DataFlowIssue
Casting `builder` to `RDBDocumentNodeStoreBuilder` may produce `ClassCastException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/cli/DocumentFixtureProvider.java`
#### Snippet
```java
                    rdbOpts.getUser(), rdbOpts.getPassword());
            wb.register(DataSource.class, ds, emptyMap());
            ((RDBDocumentNodeStoreBuilder) builder).setRDBConnection(ds);
            dns = builder.build();
            wb.register(RDBDocumentStore.class, (RDBDocumentStore) builder.getDocumentStore(), emptyMap());
```

### DataFlowIssue
Method invocation `openStream` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/run/commons/LoggingInitializer.java`
#### Snippet
```java
        URL url = getClass().getResource("/" + config);
        File dest = new File(workDir, config);
        try (InputStream is = url.openStream()) {
            FileUtils.copyInputStreamToFile(is, dest);
        }
```

### DataFlowIssue
Argument `editorProvider` might be null
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/async/AsyncIndexerBase.java`
#### Snippet
```java
            log.info("Setting up Async executor for lane - " + name);
            AsyncIndexUpdate task = new AsyncIndexUpdate(name, indexHelper.getNodeStore(),
                    editorProvider, StatisticsProvider.NOOP, false);
            closer.register(task);

```

### DataFlowIssue
Method invocation `apply` may produce `NullPointerException`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
            @Nullable com.google.common.base.Predicate<T> predicate) {
        GuavaDeprecation.handleCall("OAK-8685");
        return getService(wb, type, (Predicate<T>) (input) -> predicate.apply(input));
    }
}
```

### DataFlowIssue
Method invocation `apply` may produce `NullPointerException`
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
            @Nullable com.google.common.base.Predicate<T> predicate) {
        GuavaDeprecation.handleCall("OAK-8685");
        return getServices(wb, type, (java.util.function.Predicate<T>) (input) -> predicate.apply(input));
    }

```

### DataFlowIssue
Argument `sortWorkDir.listFiles()` might be null
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/MultithreadedTraverseWithSortStrategy.java`
#### Snippet
```java

        static Stream<File> getDataFiles(File sortWorkDir) {
            return Arrays.stream(sortWorkDir.listFiles()).filter(f -> !STATUS_FILE_NAME.equals(f.getName()) &&
                    !COMPLETION_MARKER_FILE_NAME.equals(f.getName()) && !LAST_MODIFIED_UPPER_LIMIT.equals(f.getName()));
        }
```

### DataFlowIssue
Method invocation `estimatedMemUsage` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/linkedList/FlatFileBufferLinkedList.java`
#### Snippet
```java
        head.next = head.next.next;
        size--;
        memUsage -= ret.estimatedMemUsage();
        if (size == 0) {
            tail = head;
```

### DataFlowIssue
Argument `MOUNT_INFO_PROVIDER.getMountByName("libs")` might be null
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/CompositeStoreFixture.java`
#### Snippet
```java

        NodeStore global = getNodeStore();
        new InitialContentMigrator(global, seed, MOUNT_INFO_PROVIDER.getMountByName("libs")).migrate();

        List<MountedNodeStoreChecker<?>> checkerList = new ArrayList<>();
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/BlobStoreFixture.java`
#### Snippet
```java
                    configure(dataStore, config);

                    dataStore = configureIfCloudDataStore(className, dataStore, config, unique.toLowerCase(), statisticsProvider);
                    storeDir = new File(basedir, unique);
                    dataStore.init(storeDir.getAbsolutePath());
```

### DataFlowIssue
Argument `nodeDoc` might be null
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentTraverser.java`
#### Snippet
```java
                    if (collection == Collection.NODES) {
                        NodeDocument nodeDoc = (NodeDocument) doc;
                        getNodeDocCache().put(nodeDoc);
                    }
                    return doc;
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java
            NodeState indexNode = indexDefParentNode
                    .getChildNode(PathUtils.getName(indexNameObjectList.get(i).getNodeName()));
            if (indexNode.getProperty(TYPE_PROPERTY_NAME) != null && TYPE_DISABLED.equals(indexNode.getProperty(TYPE_PROPERTY_NAME).getValue(Type.STRING))) {
                disableIndexNameObjectList.add(indexNameObjectList.get(i));
            }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java
                String reindexCompletionTime = activeIndexNode.getChildNode(IndexDefinition.STATUS_NODE)
                        .getProperty(IndexDefinition.REINDEX_COMPLETION_TIMESTAMP)
                        .getValue(Type.DATE);
                long reindexCompletionTimeInMillis = PurgeOldVersionUtils.getMillisFromString(reindexCompletionTime);
                long currentTimeInMillis = System.currentTimeMillis();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
            NodeBuilder nodeBuilder = PurgeOldVersionUtils.getNode(rootBuilder, nodeName);
            if (nodeBuilder.exists()) {
                String type = nodeBuilder.getProperty(TYPE_PROPERTY_NAME).getValue(Type.STRING);
                List<IndexEditorProvider> indexEditorProviders = ImmutableList.of(
                        new ReferenceEditorProvider(), new PropertyIndexEditorProvider(), new NodeCounterEditorProvider());
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
                    NodeBuilder nodeBuilder = PurgeOldVersionUtils.getNode(rootBuilder, repositoryIndexPath);
                    if (nodeBuilder.exists()) {
                        String type = nodeBuilder.getProperty(TYPE_PROPERTY_NAME).getValue(Type.STRING);

                        // Skip if either of the below conditions are satisfied -
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/PurgeOldIndexVersion.java`
#### Snippet
```java
                        if ((TYPE_DISABLED.equals(type)
                                && (nodeBuilder.getProperty(ORIGINAL_TYPE_PROPERTY_NAME) == null
                                || !getIndexType().equals(nodeBuilder.getProperty(ORIGINAL_TYPE_PROPERTY_NAME).getValue(Type.STRING))))
                                || (!TYPE_DISABLED.equals(type) && !getIndexType().equals(type))) {
                            continue;
```

### DataFlowIssue
Method invocation `trim` may produce `NullPointerException`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsonObject.java`
#### Snippet
```java
                    obj.children.put(key, create(t, respectOrder));
                } else {
                    obj.props.put(key, t.readRawValue().trim());
                }
            } while (t.matches(','));
```

### DataFlowIssue
Condition `marked instanceof Closeable` is redundant and can be replaced with a null check
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/FileLineDifferenceIterator.java`
#### Snippet
```java
        @Override
        public void close() {
            if (marked instanceof Closeable) {
                closeQuietly(marked);
            }
```

### DataFlowIssue
Condition `all instanceof Closeable` is redundant and can be replaced with a null check
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/FileLineDifferenceIterator.java`
#### Snippet
```java
                closeQuietly(marked);
            }
            if (all instanceof Closeable) {
                closeQuietly(all);
            }
```

### DataFlowIssue
Dereference of `t` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
        int corrected = off;
        while (corrected > 0) {
            t = t.parent;
            corrected--;
        }
```

### DataFlowIssue
Dereference of `other` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
        }
        while (corrected < 0) {
            other = other.parent;
            corrected++;
        }
```

### DataFlowIssue
Argument `t` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
            corrected++;
        }
        int cp = comparePath(t, other);
        if (cp != 0) {
            return cp;
```

### DataFlowIssue
Argument `other` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
            corrected++;
        }
        int cp = comparePath(t, other);
        if (cp != 0) {
            return cp;
```

### DataFlowIssue
Argument `a.parent` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
    private static int comparePath(Path a, Path b) {
        if (a.parent != b.parent) {
            int cp = comparePath(a.parent, b.parent);
            if (cp != 0) {
                return cp;
```

### DataFlowIssue
Argument `b.parent` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Path.java`
#### Snippet
```java
    private static int comparePath(Path a, Path b) {
        if (a.parent != b.parent) {
            int cp = comparePath(a.parent, b.parent);
            if (cp != 0) {
                return cp;
```

### DataFlowIssue
Argument `doc.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocumentSweeper.java`
#### Snippet
```java

    private static UpdateOp createUpdateOp(NodeDocument doc) {
        return new UpdateOp(doc.getId(), false);
    }

```

### DataFlowIssue
Argument `gc` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
                                                        ClusterRepositoryInfo.getOrCreateId(nodeStore),
                                                        whiteboard, statisticsProvider);
            addRegistration(registerMBean(whiteboard, BlobGCMBean.class, new BlobGC(gc, executor),
                    BlobGCMBean.TYPE, "Document node store blob garbage collection"));
        }
```

### DataFlowIssue
Unboxing of `existingStatusDoc.getModCount()` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2StatusDocument.java`
#### Snippet
```java
            }
            updateOp.equals(MOD_COUNT_PROPERTY, existingStatusDoc.getModCount());
            final long newModCount = existingStatusDoc.getModCount() + 1;
            updateOp.set(MOD_COUNT_PROPERTY, newModCount);
            if (documentStore.findAndUpdate(Collection.SETTINGS, updateOp) == null) {
```

### DataFlowIssue
Unboxing of `doc.getModCount()` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2StatusDocument.java`
#### Snippet
```java

    public long getLockValue() {
        return doc.getModCount();
    }

```

### DataFlowIssue
Unboxing of `existing.getModCount()` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2StatusDocument.java`
#### Snippet
```java
            UpdateOp updateOp = new UpdateOp(SWEEP2_STATUS_ID, false);
            updateOp.set(STATUS_PROPERTY, STATUS_VALUE_SWEPT);
            updateOp.set(MOD_COUNT_PROPERTY, existing.getModCount() + 1);
            updateOp.set(SWEPT_BY_PROPERTY, clusterId);
            if (existing.keySet().contains(LOCK_PROPERTY)) {
```

### DataFlowIssue
Unboxing of `doc.get(VIEW_SEQ_NUM_KEY)` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java
            throw new IllegalArgumentException("doc must not be null");
        }
        this.viewSeqNum = (Long) doc.get(VIEW_SEQ_NUM_KEY);
        this.createdAt = (String) doc.get(CREATED_KEY);
        Object creatorId = doc.get(CREATOR_KEY);
```

### DataFlowIssue
Method invocation `isRebase` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MergeCommit.java`
#### Snippet
```java
    void addBranchCommits(@NotNull Branch branch) {
        for (Revision r : branch.getCommits()) {
            if (!branch.getCommit(r).isRebase()) {
                branchCommits.add(r);
            }
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java
        Path splitDocPath = splitDoc.getPath();
        int height = Integer.parseInt(splitDocPath.getName());
        Revision rev = Revision.fromString(splitDocPath.getParent().getName());
        doc = doc.findPrevReferencingDoc(rev, height);
        if (doc == null) {
```

### DataFlowIssue
Argument `main.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java
                "Illegal type: %s", main.getSplitDocType());

        UpdateOp update = new UpdateOp(main.getId(), false);
        NodeDocument.setStalePrevious(update, rev, height);
        store.findAndUpdate(NODES, update);
```

### DataFlowIssue
Argument `splitDocId` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitDocumentCleanUp.java`
#### Snippet
```java

        String splitDocId = splitDoc.getId();
        UpdateOp update = new UpdateOp(splitDocId, false);
        NodeDocument.removePrevious(update, rev);
        NodeDocument old = store.findAndUpdate(NODES, update);
```

### DataFlowIssue
Method invocation `isRebase` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalDiffLoader.java`
#### Snippet
```java
        for (Revision br : b.getCommits()) {
            Branch.BranchCommit bc = b.getCommit(br);
            if (!bc.isRebase()) {
                JournalEntry entry = store.find(Collection.JOURNAL, asId(br));
                if (entry != null) {
```

### DataFlowIssue
Argument `getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfoDocument.java`
#### Snippet
```java

    public int getClusterId() {
        return Integer.parseInt(getId());
    }

```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Commit.java`
#### Snippet
```java
        @Override
        public String apply(UpdateOp.Key input) {
            return input.getName();
        }
    };
```

### DataFlowIssue
Argument `commitRoot` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Collision.java`
#### Snippet
```java
        NodeDocument commitRoot = store.find(Collection.NODES, op.getId());
        // check commit status of revision
        if (isCommitted(context.getCommitValue(revision, commitRoot))) {
            return false;
        }
```

### DataFlowIssue
Method invocation `getMessage` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBranch.java`
#### Snippet
```java
        time = System.currentTimeMillis() - time;
        store.getStatsCollector().failedMerge(numRetries, time, suspendMillis, exclusive);
        String msg = ex.getMessage() + " (retries " + numRetries + ", " + time + " ms)";
        throw new CommitFailedException(ex.getSource(), ex.getType(),
                ex.getCode(), msg, ex.getCause());
```

### DataFlowIssue
Argument `number` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentPropertyState.java`
#### Snippet
```java
                try {
                    type = PropertyType.LONG;
                    values.add(Long.parseLong(number));
                } catch (NumberFormatException e) {
                    type = PropertyType.DOUBLE;
```

### DataFlowIssue
Argument `jsonString` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentPropertyState.java`
#### Snippet
```java
            } else if (reader.matches(JsopReader.STRING)) {
                String jsonString = reader.getToken();
                int split = TypeCodes.split(jsonString);
                if (split != -1) {
                    type = TypeCodes.decodeType(split, jsonString);
```

### DataFlowIssue
Argument `number` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentPropertyState.java`
#### Snippet
```java
            String number = reader.getToken();
            try {
                return new LongPropertyState(name, Long.parseLong(number));
            } catch (NumberFormatException e) {
                return new DoublePropertyState(name, Double.parseDouble(number));
```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentPropertyState.java`
#### Snippet
```java
        } else if (reader.matches(JsopReader.STRING)) {
            String jsonString = reader.getToken();
            if (jsonString.startsWith(TypeCodes.EMPTY_ARRAY)) {
                int type = PropertyType.valueFromName(jsonString.substring(TypeCodes.EMPTY_ARRAY.length()));
                return PropertyStates.createProperty(name, emptyList(), Type.fromTag(type, true));
```

### DataFlowIssue
Argument `k` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LocalDiffCache.java`
#### Snippet
```java
                reader.read(':');
                String v = reader.readString();
                map.put(Path.fromString(k), v);
                if (reader.matches(JsopReader.END)) {
                    break;
```

### DataFlowIssue
Argument `reader.readString()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Checkpoints.java`
#### Snippet
```java
                }
                reader.read(':');
                expiryTime = Long.parseLong(reader.readString());
                while (reader.matches(',')) {
                    key = reader.readString();
```

### DataFlowIssue
Argument `value` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Checkpoints.java`
#### Snippet
```java
                        // try to read checkpoint
                        try {
                            rv = RevisionVector.fromString(value);
                        } catch (IllegalArgumentException e) {
                            // not a revision vector, read as regular info entry
```

### DataFlowIssue
Argument `json.getToken()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            return false;
        case JsopReader.NUMBER:
            return Long.parseLong(json.getToken());
        case JsopReader.STRING:
            return json.getToken();
```

### DataFlowIssue
Argument `k` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
                String k = json.readString();
                json.read(':');
                map.put(Revision.fromString(k), fromJson(json));
                json.matches(',');
            }
```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
            @Override
            public boolean apply(Map.Entry<Revision, String> input) {
                return !readRevision.isRevisionNewer(input.getKey());
            }
        };
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        JournalEntry lastEntry = null;
        while (true) {
            if (fromId.equals(inclusiveToId)) {
                // avoid query if from and to are off by just 1 counter (which
                // we do due to exclusiveness of query borders) as in this case
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        // were read so far
        if (numEntries == 0
                || (lastEntry != null && !lastEntry.getId().equals(inclusiveToId))) {
            String maxId = asId(new Revision(Long.MAX_VALUE, 0, to.getClusterId()));
            for (JournalEntry d : store.query(JOURNAL, inclusiveToId, maxId, 1)) {
```

### DataFlowIssue
Method invocation `split` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java

    long getRevisionTimestamp() {
        final String[] parts = getId().split("-");
        return Long.parseLong(parts[1], 16);
    }
```

### DataFlowIssue
Argument `reader.readString()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
            if (!reader.matches('}')) {
                do {
                    String name = Utils.unescapePropertyName(reader.readString());
                    reader.read(':');
                    getOrCreate(name).parse(reader);
```

### DataFlowIssue
Argument `intermediate.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
                            getPreviousIdFor(doc.getPath(), r, height), id);
                } else {
                    UpdateOp op = new UpdateOp(intermediate.getId(), false);
                    NodeDocument.removePrevious(op, r);
                    splitOps.add(op);
```

### DataFlowIssue
Argument `doc.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingBcSweeper2.java`
#### Snippet
```java

    private static UpdateOp createUpdateOp(NodeDocument doc) {
        return new UpdateOp(doc.getId(), false);
    }

```

### DataFlowIssue
Variable is already assigned to this value
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
    private RDBDocumentStoreDB(String description) {
        this.description = description;
        this.vendorCode = RDBCommonVendorSpecificCode.DEFAULT;
    }

```

### DataFlowIssue
Argument `t` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJSONSupport.java`
#### Snippet
```java
                String t = json.getToken();
                try {
                    return Long.parseLong(t);
                }
                catch (NumberFormatException ex) {
```

### DataFlowIssue
Method invocation `getClusterId` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
        @Override
        public boolean apply(Revision input) {
            return clusterId == input.getClusterId();
        }
    }
```

### DataFlowIssue
Method invocation `compareRevisionTime` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
            //This check ensures that unnecessary updates are not made
            if (knownLastRev == null
                    || calcLastRev.compareRevisionTime(knownLastRev) > 0) {
                unsaved.put(parentPath, calcLastRev);
            }
```

### DataFlowIssue
Argument `calcLastRev` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
            if (knownLastRev == null
                    || calcLastRev.compareRevisionTime(knownLastRev) > 0) {
                unsaved.put(parentPath, calcLastRev);
            }
        }
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStoreDB.java`
#### Snippet
```java
    private RDBBlobStoreDB(String description) {
        this.description = description;
        this.vendorCode = RDBCommonVendorSpecificCode.DEFAULT;
    }

```

### DataFlowIssue
Method invocation `getTimestamp` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                Branch b = branches.getBranch(r);
                if (b != null) {
                    minTimestamp = Math.min(b.getBase().getRevision(clusterId).getTimestamp(), minTimestamp);
                }
            }
```

### DataFlowIssue
Method invocation `isRebase` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
            NodeDocument.removeBranchCommit(rootOp, previous.asTrunkRevision());
            BranchCommit bc = b.getCommit(previous);
            if (bc.isRebase()) {
                continue;
            }
```

### DataFlowIssue
Argument `doc.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        RevisionVector head = getHeadRevision();
        Map<Revision, String> map = doc.getLocalMap(NodeDocument.COLLISIONS);
        UpdateOp op = new UpdateOp(doc.getId(), false);
        for (Revision r : map.keySet()) {
            if (r.getClusterId() == clusterId) {
```

### DataFlowIssue
Argument `c.getBaseRevision()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
            try {
                c.rollback();
                Branch b = branches.getBranch(c.getBaseRevision());
                if (b != null) {
                    b.removeCommit(c.getRevision().asBranchRevision());
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                c.applyLastRevUpdates(isBranch);
                c.applyToCache(c.getBaseRevision(), isBranch);
                return c.getBaseRevision().update(c.getRevision().asBranchRevision());
            } finally {
                if (isDisableBranches()) {
```

### DataFlowIssue
Method invocation `longValue` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
        }
        if (row.hasBinaryProperties() != null) {
            doc.put(HASBINARY, row.hasBinaryProperties().longValue());
        }
        if (row.deletedOnce() != null) {
```

### DataFlowIssue
Method invocation `booleanValue` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
        }
        if (row.deletedOnce() != null) {
            doc.put(DELETEDONCE, row.deletedOnce().booleanValue());
        }
        if (row.getSchemaVersion() >= 2) {
```

### DataFlowIssue
Argument `input` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
        @Override
        public boolean apply(@Nullable String input) {
            return Utils.isPropertyName(input) || isDeletedEntry(input);
        }
    };
```

### DataFlowIssue
Argument `input` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
        @Override
        public boolean apply(@Nullable String input) {
            return Utils.isPropertyName(input) || isDeletedEntry(input) || isCommitRootEntry(input) || isRevisionsEntry(input);
        }
    };
```

### DataFlowIssue
Method invocation `containsKey` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
            String[] fn = field.split("\\.");
            boolean checkMember = fn.length > 1;
            if (doc.containsKey(fn[0])) {
                Object o = doc.get(fn[0]);
                if (checkMember) {
```

### DataFlowIssue
Method invocation `containsKey` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                delim = ",";
                String[] fn = field.split("\\.");
                if (doc.containsKey(fn[0])) {
                    Object o = doc.get(fn[0]);
                    RDBJSONSupport.appendJsonMember(buf, fn[0], o);
```

### DataFlowIssue
Argument `mongoURI.getDatabase()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/MongoConnection.java`
#### Snippet
```java
     */
    public MongoDatabase getDatabase() {
        return mongo.getDatabase(mongoURI.getDatabase());
    }

```

### DataFlowIssue
Variable is already assigned to this value
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoThrottlerFactory.java`
#### Snippet
```java
                throttleTime = throttleTime * 2;
            } else if (fuzzyCompare(oplogWindow, threshold,0.001) <= 0) {
                throttleTime = throttlingTime;
            } else {
                throttleTime = 0;
```

### DataFlowIssue
Argument `id` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
            Lock lock = locks.acquire(id);
            try {
                NodeDocument cachedDoc = getIfPresent(id);
                if (cachedDoc != null && isNewer(cachedDoc, d)) {
                    // if an old document is present in the cache, we can simply update it
```

### DataFlowIssue
Argument `doc.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    protected final void putInternal(@NotNull NodeDocument doc, @Nullable CacheChangesTracker trackerToSkip) {
        if (isLeafPreviousDocId(doc.getId())) {
            prevDocumentsCache.put(new StringValue(doc.getId()), doc);
        } else {
            nodeDocumentsCache.put(new StringValue(doc.getId()), doc);
```

### DataFlowIssue
Argument `doc.getId()` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
            prevDocumentsCache.put(new StringValue(doc.getId()), doc);
        } else {
            nodeDocumentsCache.put(new StringValue(doc.getId()), doc);
        }
        internalMarkChanged(doc.getId(), trackerToSkip);
```

### DataFlowIssue
Argument `id` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
        Lock lock = locks.acquire(id);
        try {
            NodeDocument cachedDoc = getIfPresent(id);
            if (isNewer(cachedDoc, doc)) {
                newerDoc = doc;
```

### DataFlowIssue
Argument `key` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
        Lock lock = locks.acquire(key);
        try {
            NodeDocument cached = getIfPresent(key);
            if (cached != null) {
                if (Objects.equal(cached.getModCount(), oldDoc.getModCount())) {
```

### DataFlowIssue
Argument `id` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
        try {
            for (;;) {
                NodeDocument cached = get(id, new Callable<NodeDocument>() {
                    @Override
                    public NodeDocument call() {
```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        @Override
        public String apply(Document input) {
            return input.getId();
        }
    };
```

### DataFlowIssue
Unboxing of `modcount` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

                setIdInStatement(tmd, stmt, si++, document.getId());
                stmt.setObject(si++, modcount - 1, Types.BIGINT);
                stmt.addBatch();
                updatedKeys.add(document.getId());
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
                br.append(delim).append(batchResults[i]);
                if (i < updatedKeys.size()) {
                    br.append(String.format(" (for %s (%d))", updatedKeys.get(i), modCounts.get(i) - 1));
                }
                delim = ", ";
```

### DataFlowIssue
Argument `bundlingRoot` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundledDocumentDiffer.java`
#### Snippet
```java
            Path bundlingRootPath = state.getPath().getAncestor(PathUtils.getDepth(bundlingPath));
            DocumentNodeState bundlingRoot = nodeStore.getNode(bundlingRootPath, state.getLastRevision());
            result = (DocumentNodeState) NodeStateUtils.getNode(bundlingRoot, bundlingPath);
        } else {
            result = nodeStore.getNode(state.getPath(), state.getLastRevision());
```

### DataFlowIssue
Argument `bundlingPath` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundledDocumentDiffer.java`
#### Snippet
```java
            Path bundlingRootPath = state.getPath().getAncestor(PathUtils.getDepth(bundlingPath));
            DocumentNodeState bundlingRoot = nodeStore.getNode(bundlingRootPath, state.getLastRevision());
            result = (DocumentNodeState) NodeStateUtils.getNode(bundlingRoot, bundlingPath);
        } else {
            result = nodeStore.getNode(state.getPath(), state.getLastRevision());
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundlorUtils.java`
#### Snippet
```java
        @Override
        public boolean apply(PropertyState input) {
            return !input.getName().startsWith(DocumentBundlor.BUNDLOR_META_PROP_PREFIX);
        }
    };
```

### DataFlowIssue
Unboxing of `doc.getModified()` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java
            public void apply(BasicDBObject document) {
                NodeDocument doc = store.convertFromDBObject(NODES, document);
                long modifiedMs = doc.getModified() * TimeUnit.SECONDS.toMillis(1);
                if (LOG.isDebugEnabled()) {
                    LOG.debug("getOldestDeletedOnceTimestamp() -> {}", Utils.timestampToString(modifiedMs));
```

### DataFlowIssue
Method invocation `getModified` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoVersionGCSupport.java`
#### Snippet
```java
            public void apply(BasicDBObject document) {
                NodeDocument doc = store.convertFromDBObject(NODES, document);
                long modifiedMs = doc.getModified() * TimeUnit.SECONDS.toMillis(1);
                if (LOG.isDebugEnabled()) {
                    LOG.debug("getOldestDeletedOnceTimestamp() -> {}", Utils.timestampToString(modifiedMs));
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/DelegatingDocumentNodeState.java`
#### Snippet
```java
    public Iterable<? extends ChildNodeEntry> getChildNodeEntries() {
        return Iterables.transform(delegate.getChildNodeEntries(), new Function<ChildNodeEntry, ChildNodeEntry>() {
            @Nullable
            @Override
            public ChildNodeEntry apply(ChildNodeEntry input) {
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/secondary/DelegatingDocumentNodeState.java`
#### Snippet
```java
        @Override
        public boolean apply(PropertyState input) {
            return !input.getName().startsWith(":doc-");
        }
    };
```

### DataFlowIssue
Method invocation `incrementCount` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMetadata.java`
#### Snippet
```java
            return;
        }
        getOrCreate(key, true).incrementCount();
    }

```

### DataFlowIssue
Method invocation `incrementCount` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMetadata.java`
#### Snippet
```java
            return;
        }
        getOrCreate(key, false).incrementCount();
    }

```

### DataFlowIssue
Method invocation `incrementCount` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/CacheMetadata.java`
#### Snippet
```java
        }
        for (Object k : keys) {
            getOrCreate((K) k, false).incrementCount();
        }
    }
```

### DataFlowIssue
Method invocation `put` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
                keyType.write(buffer, key);
                if (value == null) {
                    buffer.put((byte) 0);
                } else {
                    buffer.put((byte) 1);
```

### DataFlowIssue
Method invocation `put` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/NodeCache.java`
#### Snippet
```java
                    buffer.put((byte) 0);
                } else {
                    buffer.put((byte) 1);
                    valueType.write(buffer, value);
                }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/memory/MemoryDocumentStore.java`
#### Snippet
```java
                @Override
                public boolean apply(@Nullable T doc) {
                    Long modified = Utils.asLong((Number) doc.get(indexedProperty));
                    return startValue < modified && modified < endValue;
                }
```

### DataFlowIssue
Unboxing of `modified` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/memory/MemoryDocumentStore.java`
#### Snippet
```java
                public boolean apply(@Nullable T doc) {
                    Long modified = Utils.asLong((Number) doc.get(indexedProperty));
                    return startValue < modified && modified < endValue;
                }
            }).clear();
```

### DataFlowIssue
Method invocation `setSoTimeout` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
                throw lastException;
            }
            server.setSoTimeout(TIMEOUT);
            serverSocket = server;
            LOG.info("Listening on port " + server.getLocalPort());
```

### DataFlowIssue
Argument `creds` might be null
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/ExternalLoginModule.java`
#### Snippet
```java
            }
            
            externalUser = getExternalUser(preAuthLogin, creds);
            if (externalUser != null) {
                log.debug("IDP {} returned valid user {}", idp.getName(), externalUser);
```

### DataFlowIssue
Argument `getFileName(gen)` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                        int gen = Integer.parseInt(g);
                        if (gen >= 0) {
                            File f2 = new File(getFileName(gen));
                            if (fn.equals(f2.getName())) {
                                // ignore things like "cache-000.data"
```

### DataFlowIssue
Argument `getFileName(oldest)` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
        while (generations.size() > 2) {
            Integer oldest = generations.first();
            File oldFile = new File(getFileName(oldest));
            if (!oldFile.canWrite()) {
                LOG.info("Ignoring old, read-only generation " + oldFile.getAbsolutePath());
```

### DataFlowIssue
Argument `getFileName(oldReadGeneration)` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            if (oldRead != null) {
                oldRead.closeStore();
                new File(getFileName(oldReadGeneration)).delete();
            }
        }
```

### DataFlowIssue
Argument `fileName` might be null
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                if (compact) {
                    try {
                        MVStoreTool.compact(fileName, true);
                    } catch (Exception e) {
                        exceptionCount++;
```

### DataFlowIssue
Expression `getParameters().getConfigValue(AccessControlConstants.PARAM_RESTRICTION_PROVIDER, RestrictionProvide...` might evaluate to null but is returned by the method declared as @NotNull
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAuthorizationConfiguration.java`
#### Snippet
```java
    @Override
    public RestrictionProvider getRestrictionProvider() {
        return getParameters().getConfigValue(AccessControlConstants.PARAM_RESTRICTION_PROVIDER, RestrictionProvider.EMPTY, RestrictionProvider.class);
    }

```

### DataFlowIssue
Argument `restrictionName` might be null
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalPolicyImporter.java`
#### Snippet
```java
                    effectivePath = extractEffectivePath(prop);
                } else {
                    int targetType = policy.getRestrictionType(restrictionName);
                    List<Value> values = prop.getValues(targetType);
                    if (policy.isMultiValueRestriction(restrictionName)) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/EntryCache.java`
#### Snippet
```java
        private PermissionEntryImpl(@NotNull Tree entryTree) {
            effectivePath = Strings.emptyToNull(TreeUtil.getString(entryTree, REP_EFFECTIVE_PATH));
            privilegeBits = bitsProvider.getBits(entryTree.getProperty(REP_PRIVILEGES).getValue(Type.NAMES));
            if (Utils.hasRestrictions(entryTree)) {
                pattern = restrictionProvider.getPattern(effectivePath, restrictionProvider.readRestrictions(effectivePath, entryTree));
```

### DataFlowIssue
Argument `principalName` might be null
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
    private AbstractEntry createEffectiveEntry(@NotNull Tree entryTree) throws AccessControlException {
        String principalName = TreeUtil.getString(entryTree.getParent(), AccessControlConstants.REP_PRINCIPAL_NAME);
        Principal principal = principalManager.getPrincipal(principalName);
        if (principal == null || !filter.canHandle(Collections.singleton(principal))) {
            return null;
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedAccessControlManager.java`
#### Snippet
```java
        }
        String oakPath = Strings.emptyToNull(TreeUtil.getString(entryTree, REP_EFFECTIVE_PATH));
        PrivilegeBits bits = privilegeBitsProvider.getBits(entryTree.getProperty(Constants.REP_PRIVILEGES).getValue(Type.NAMES));
        
        RestrictionProvider rp = mgrProvider.getRestrictionProvider();
```

### DataFlowIssue
Method invocation `read` may produce `NullPointerException`
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/Installer.java`
#### Snippet
```java
        byte[] buffer = new byte[8192];
        int read;
        while ((read = in.read(buffer)) >= 0) {
            out.write(buffer, 0, read);
        }
```

### DataFlowIssue
Method invocation `getRecordId` may produce `NullPointerException`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreRestoreImpl.java`
#### Snippet
```java
            SegmentNodeState after = compactor.compact(current, head, current, Canceller.newCanceller());
            writer.flush();
            store.getRevisions().setHead(current.getRecordId(), after.getRecordId());
        } finally {
            restore.close();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalBasedPermissionProvider.java`
#### Snippet
```java
            principalEntry = tree.getParent();
        }
        return (principalEntry == null) ? null :  principalEntry.getProperty(REP_EFFECTIVE_PATH).getValue(Type.STRING);
    }

```

### DataFlowIssue
Argument `segmentBlob.getBlobId()` might be null
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/DefaultSegmentWriter.java`
#### Snippet
```java
                }
                if (segmentBlob.isExternal()) {
                    return writeBlobId(segmentBlob.getBlobId());
                }
            }
```

### DataFlowIssue
Argument `getBlobId()` might be null
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentBlob.java`
#### Snippet
```java
    @Override
    public boolean isInlined() {
        return isExternal() && InMemoryDataRecord.isInstance(getBlobId());
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/PrincipalPolicyImpl.java`
#### Snippet
```java
        String oakPath = Strings.emptyToNull(TreeUtil.getString(entryTree, REP_EFFECTIVE_PATH));
        if (Utils.hasValidRestrictions(oakPath, entryTree, restrictionProvider)) {
            PrivilegeBits bits = privilegeBitsProvider.getBits(entryTree.getProperty(Constants.REP_PRIVILEGES).getValue(Type.NAMES));
            Set<Restriction> restrictions = Utils.readRestrictions(restrictionProvider, oakPath, entryTree);
            return addEntry(new EntryImpl(oakPath, bits, restrictions));
```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                for (BasicDBObject doc : cursor) {
                    T foundDoc = convertFromDBObject(collection, doc);
                    docs.put(foundDoc.getId(), foundDoc);
                }
                return null;
```

### DataFlowIssue
Argument `segmentstoreDir.list(new SuffixFileFilter(".tar"))` might be null
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/SegmentTarManager.java`
#### Snippet
```java
    @Override
    public List<String> listArchives() {
        return Arrays.asList(segmentstoreDir.list(new SuffixFileFilter(".tar")));
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarReader.java`
#### Snippet
```java
                GCGeneration gen = GCGeneration.newGCGeneration(entry);
                byte[] data = new byte[size];
                archive.readSegment(msb, lsb).get(data);
                writer.writeEntry(msb, lsb, data, 0, size, gen);
            }
```

### DataFlowIssue
Method invocation `setBlobStore` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
        try {
            DocumentNodeStoreBuilder<?> builder = Utils.createDocumentMKBuilder(args, closer, h);
            builder.setBlobStore(new MemoryBlobStore());

            dns = builder.setClusterInvisible(true).setReadOnlyMode().build();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java

                PropertyState entry = uuidRef.getProperty("entry");
                Iterable<String> uuidRefPaths = entry.getValue(Type.STRINGS);
                for (String uuidRefPath : uuidRefPaths) {
                    if (!FrozenNodeRef.isFrozenNodeReferenceCandidate(uuidRefPath)) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/FrozenNodeRefsUsingIndexCommand.java`
#### Snippet
```java
                    NodeState p = getNodeByPath(root, uuidRefPath);
                    PropertyState primaryType = p.getProperty("jcr:primaryType");
                    boolean isNtFrozenNode = "nt:frozenNode".equals(primaryType.getValue(Type.NAME));
                    if (!isNtFrozenNode) {
                        // this is where we ultimately have to continue out in any case - as only an nt:frozenNode
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
        }
        String oldClusterId = clusterConfigNode.getProperty(ClusterRepositoryInfo.CLUSTER_ID_PROP)
                .getValue(Type.STRING);
        clusterConfigNode.removeProperty(ClusterRepositoryInfo.CLUSTER_ID_PROP);
        try {
```

### DataFlowIssue
Argument `index` might be null
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompositePrepareCommand.java`
#### Snippet
```java
            if (NodeTypeConstants.NT_RESOURCE.equals(type)) {
                String index = builder.getString(JCR_UUID);
                uuidIndexData.getChildNode(index).remove();

                builder.setProperty(NodeTypeConstants.JCR_PRIMARYTYPE, NodeTypeConstants.NT_OAK_RESOURCE, Type.NAME);
```

### DataFlowIssue
Method invocation `indexOf` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
        } else if (t.matches(JsopReader.NUMBER)) {
            String n = t.getToken();
            if (n.indexOf('.') < 0) {
                return Long.parseLong(n);
            }
```

### DataFlowIssue
Function may return null, but it's not allowed here
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDefinitionUpdater.java`
#### Snippet
```java
                .filter(cne -> !cne.getNodeState().hasProperty(REINDEX_PROPERTY_NAME) || cne.getNodeState().getBoolean(REINDEX_PROPERTY_NAME))
                .filter(cne -> cne.getNodeState().hasProperty(TYPE_PROPERTY_NAME))
                .sorted(comparing(cne -> cne.getNodeState().getString(TYPE_PROPERTY_NAME)))
                .map(cne -> "/" + INDEX_DEFINITIONS_NAME + "/" + cne.getName()).collect(Collectors.toList())
                ;
```

### DataFlowIssue
Argument `uri.getDatabase()` might be null
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    MongoClient client = new MongoClient(uri);
                    DocumentNodeStore docNodeStore =
                        newMongoDocumentNodeStoreBuilder().setMongoDB(client, uri.getDatabase()).build();
                    closer.register(Utils.asCloseable(docNodeStore));
                    blobStore = (GarbageCollectableBlobStore) docNodeStore.getBlobStore();
```

### DataFlowIssue
Argument `marker` might be null
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                    FileUtils.copyFile(traverser.references, register.createFile(refOp, dumpPath));
                } else {
                    retrieveBlobReferences(blobStore, marker,
                        register.createFile(refOp, dumpPath), dsType, options.has(verbose));
                }
```

### DataFlowIssue
Argument `jsonString` might be null
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexMerge.java`
#### Snippet
```java
            } else if (tokenizer.matches(JsopReader.STRING)) {
                String jsonString = tokenizer.getToken();
                int split = TypeCodes.split(jsonString);
                if (split != -1) {
                    int type = TypeCodes.decodeType(split, jsonString);
```

### DataFlowIssue
Method invocation `indexOf` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexMerge.java`
#### Snippet
```java
            } else if (tokenizer.matches(JsopReader.NUMBER)) {
                String num = tokenizer.getToken();
                boolean isDouble = num.indexOf('.') >= 0;
                if (isDouble) {
                    double d = Double.parseDouble(num);
```

### DataFlowIssue
Method invocation `contains` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexMerge.java`
#### Snippet
```java
                        if (tokenizer.matches(JsopReader.STRING)) {
                            String s = tokenizer.getToken();
                            if (!s.contains("/@")) {
                                supersededIndexes.add(s);
                            }
```

### DataFlowIssue
Argument `fixture.getBlobStore()` might be null
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                final File blobidsTemp = File.createTempFile("blobidstemp", null, new File(opts.getTempDirectory()));

                retrieveBlobIds((GarbageCollectableBlobStore) fixture.getBlobStore(), blobidsTemp);

                File parent = new File(dataStoreOpts.getOutDir().getAbsolutePath(), "dump");
```

### DataFlowIssue
Method invocation `getAllMetadataRecords` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        // Get all the start markers available
        List<DataRecord>  markerFiles =
            dataStore.getAllMetadataRecords(SharedDataStoreUtils.SharedStoreRecordType.MARKED_START_MARKER.getType());
        Map<String, List<DataRecord>> markers = markerFiles.stream().collect(Collectors.groupingBy(
            input -> SharedDataStoreUtils.SharedStoreRecordType.MARKED_START_MARKER
```

### DataFlowIssue
Method invocation `resolveChunks` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
                            try {
                                Iterator<String> idIter =
                                    ((GarbageCollectableBlobStore) fixture.getBlobStore()).resolveChunks(blobId);

                                while (idIter.hasNext()) {
```

### DataFlowIssue
Method invocation `getProperty` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/NodeStoreBinaryResourceProvider.java`
#### Snippet
```java
        @Override
        public BinaryResource apply(Tree tree) {
            PropertyState data = tree.getProperty(JcrConstants.JCR_DATA);
            if (data == null) {
                return null;
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/CSVFileBinaryResourceProvider.java`
#### Snippet
```java
        @Override
        public BinaryResource apply(CSVRecord input) {
            String path = input.get(JCR_PATH);
            String mimeType = input.get(JCR_MIMETYPE);
            String encoding = input.get(JCR_ENCODING);
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
            if ((this.cache = stringToType.apply(fbr.readLine())) == null) {
                this.empty = true;
                this.cache = null;
            } else {
                this.empty = false;
```

### DataFlowIssue
Dereference of `store.list()` may produce `NullPointerException`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/segment/FileStoreHelper.java`
#### Snippet
```java
        }
        // for now the only check is the existence of the journal file
        for (String f : store.list()) {
            if ("journal.log".equals(f)) {
                return true;
```

### DataFlowIssue
Condition `jsopWriter instanceof Closeable` is redundant and can be replaced with a null check
in `oak-run/src/main/java/org/apache/jackrabbit/oak/exporter/NodeStateSerializer.java`
#### Snippet
```java
        serialize(jsopWriter, blobSerializer);

        if (jsopWriter instanceof Closeable) {
            ((Closeable) jsopWriter).close();
        }
```

### DataFlowIssue
Argument `rootDoc.getId()` might be null
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/document/SweepHelper.java`
#### Snippet
```java
            // perform a conditional update on the last seen lastRev
            // to ensure the cluster node is still inactive
            UpdateOp op = new UpdateOp(rootDoc.getId(), false);
            op.equals("_lastRev",
                    new Revision(0, 0, clusterId),
```

### DataFlowIssue
Argument `absPath` might be null
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAccessControlManager.java`
#### Snippet
```java
    @Override
    public boolean defines(@Nullable String absPath, @NotNull AccessControlPolicy accessControlPolicy) {
        if (Utils.isSupportedPath(supportedPath, absPath)) {
            // EXERCISE
        }
```

### DataFlowIssue
`null` is returned by the method declared as @NotNull
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Set<Restriction> readRestrictions(@Nullable String oakPath, @NotNull Tree aceTree) {
        // EXERCISE
        return null;
    }

```

### DataFlowIssue
`null` is returned by the method declared as @NotNull
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public RestrictionPattern getPattern(@Nullable String oakPath, @NotNull Set<Restriction> restrictions) {
        // EXERCISE
        return null;
    }

```

### DataFlowIssue
`null` is returned by the method declared as @NotNull
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public RestrictionPattern getPattern(@Nullable String oakPath, @NotNull Tree tree) {
        // EXERCISE
        return null;
    }

```

### DataFlowIssue
`null` is returned by the method declared as @NotNull
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Restriction createRestriction(@Nullable String oakPath, @NotNull String oakName, @NotNull Value value) throws RepositoryException {
        // EXERCISE
        return null;
    }

```

### DataFlowIssue
`null` is returned by the method declared as @NotNull
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Restriction createRestriction(@Nullable String oakPath, @NotNull String oakName, @NotNull Value... values) throws RepositoryException {
        // EXERCISE
        return null;
    }

```

### DataFlowIssue
`null` is returned by the method declared as @NotNull
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/restriction/CustomRestrictionProvider.java`
#### Snippet
```java
    public Set<RestrictionDefinition> getSupportedRestrictions(@Nullable String oakPath) {
        // EXERCISE
        return null;
    }

```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/InitialContent.java`
#### Snippet
```java
                NodeTypeRegistry.register(root, stream, "built-in node types");
            } finally {
                stream.close();
            }
        } catch (IOException e) {
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authentication/external/CustomExternalIdentityProvider.java`
#### Snippet
```java
                    } else {
                        return Iterables.transform(groupIds, new Function<String, ExternalIdentityRef>() {
                            @Nullable
                            @Override
                            public ExternalIdentityRef apply(String input) {
```

### DataFlowIssue
Argument `builder.getProperty(name)` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
        return builder.isNew(name)
                || (builder.isReplaced(name)
                        && !getTreePermission().canRead(builder.getProperty(name)));
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
        PropertyState property = getProperty(name);
        if (isType(property, STRING)) {
            return property.getValue(STRING);
        } else {
            return null;
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
    public boolean getBoolean(@NotNull String name) {
        PropertyState property = getProperty(name);
        return isType(property, BOOLEAN)  && property.getValue(BOOLEAN);
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
        PropertyState property = getProperty(name);
        if (isType(property, NAMES)) {
            return property.getValue(NAMES);
        } else {
            return emptyList();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/SecureNodeBuilder.java`
#### Snippet
```java
        PropertyState property = getProperty(name);
        if (isType(property, NAME)) {
            return property.getValue(NAME);
        } else {
            return null;
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryValidator.java`
#### Snippet
```java
                pattern = p.getValue(Type.STRING);
            }
            String comment = n.getProperty("comment").getValue(Type.STRING);
            boolean failQuery = n.getProperty("failQuery").getValue(Type.BOOLEAN);
            if (pattern != null && comment != null) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryValidator.java`
#### Snippet
```java
            }
            String comment = n.getProperty("comment").getValue(Type.STRING);
            boolean failQuery = n.getProperty("failQuery").getValue(Type.BOOLEAN);
            if (pattern != null && comment != null) {
                setPattern(key, pattern, comment, failQuery);
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultRowImpl.java`
#### Snippet
```java
                    if (a == null || b == null) {
                        if (a == b) {
                            comp = 0;
                        } else if (a == null) {
                            // TODO order by: nulls first (it looks like), or
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                    break;
                }
                types[i] = type = CHAR_IGNORE;                
                startLoop = i;
                i += 2;
```

### DataFlowIssue
Dereference of `left` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java

                    // cloning the constraints and assigning to new query
                    left.constraint = (ConstraintImpl) copyElementAndCheckReference(c);
                    // re-composing the statement for better debug messages
                    left.statement = recomposeStatement(left);
```

### DataFlowIssue
Argument `right` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
                }
                
                result = newAlternativeUnionQuery(left, right);
            }
        }
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
            } else {
                // explicitly set in the query
                traversal = queryOptions.traversal;
            }
            String message = "Traversal query (query without index): " + statement + "; consider creating an index";
```

### DataFlowIssue
Method invocation `getMinimumCost` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        @Override
        public int compare(QueryIndex left, QueryIndex right) {
            return Double.compare(left.getMinimumCost(), right.getMinimumCost());
        }
    };
```

### DataFlowIssue
Method invocation `getMinimumCost` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryImpl.java`
#### Snippet
```java
        @Override
        public int compare(QueryIndex left, QueryIndex right) {
            return Double.compare(left.getMinimumCost(), right.getMinimumCost());
        }
    };
```

### DataFlowIssue
Argument `t` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
        Tree t = ct.getTree();
        LazyValue<Tree> readOnly = ct.getReadOnlyTree();
        String primaryTypeName = TreeUtil.getPrimaryTypeName(t, readOnly);
        if (primaryTypeName != null && primaryTypes.contains(primaryTypeName)) {
            return true;
```

### DataFlowIssue
Method invocation `getProperty` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
            result = currentRow.getValue(oakPropertyName);
        } else {
            result = PropertyValues.create(t.getProperty(oakPropertyName));
        }
        if (result == null) {
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                    if (maxCacheAge == 0) {
                        invalidateNodesCache(id, true);
                        doc = null;
                    }
                    final NodeDocument cachedDoc = doc;
```

### DataFlowIssue
Method invocation `mightBeenAffected` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                    if (lastmodified == row.getModified() && lastmodified >= 1) {
                        try (CacheLock lock = acquireLockFor(row.getId())) {
                            if (!tracker.mightBeenAffected(row.getId())) {
                                // otherwise mark it as fresh
                                ((NodeDocument) doc).markUpToDate(now);
```

### DataFlowIssue
Unboxing of `modcount` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

            // every 16th update is a full rewrite
            if (isAppendableUpdate(update) && modcount % 16 != 0) {
                String appendData = ser.asString(update, tmd.getColumnOnlyProperties());
                if (appendData.length() < tmd.getDataLimitInOctets() / CHAR2OCTETRATIO) {
```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                if (cached != null && cached != NodeDocument.NULL) {
                    T doc = castAsT(unwrap(cached));
                    documents.put(doc.getId(), doc);
                }
            }
```

### DataFlowIssue
Dereference of `union` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
            }
        }
        union.orderList = orderList;
        union.xpathQuery = xpathQuery;
        union.measure = measure;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
            if (selectors.size() > 0) {
                // no explicit path restriction - so it's a node name restriction
                currentSelector.isChild = true;
                currentSelector.nodeName = name;
            } else {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
        long count = 0;
        if(definition.hasProperty(REINDEX_COUNT)){
            count = definition.getProperty(REINDEX_COUNT).getValue(Type.LONG);
        }
        definition.setProperty(REINDEX_COUNT, count + 1);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
                String indexPath = getIndexPath(getPath(), name);
                if (definition.hasProperty(IndexConstants.CORRUPT_PROPERTY_NAME) && !shouldReindex){
                    String corruptSince = definition.getProperty(IndexConstants.CORRUPT_PROPERTY_NAME).getValue(Type.DATE);
                    rootState.corruptIndexHandler.skippingCorruptIndex(rootState.async, indexPath, ISO8601.parse(corruptSince));
                    continue;
```

### DataFlowIssue
Expression `compose(children)` might evaluate to null but is returned by the method declared as @NotNull
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
            }
        }
        return compose(children);
    }

```

### DataFlowIssue
Expression `compose(children)` might evaluate to null but is returned by the method declared as @NotNull
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
            }
        }
        return compose(children);
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdate.java`
#### Snippet
```java
        if (definition.hasProperty(ASYNC_PROPERTY_NAME)) {
            PropertyState p = definition.getProperty(ASYNC_PROPERTY_NAME);
            Iterable<String> opt = p.getValue(Type.STRINGS);
            if (asyncRef == null) {
                // sync index job, accept synonyms
```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexDefinitionUpdater.java`
#### Snippet
```java
                String indexPath = reader.readString();

                if (!indexPath.startsWith("/")) {
                    String msg = String.format("Invalid format of index definitions. The key name [%s] should " +
                            "be index path ", indexPath);
```

### DataFlowIssue
Dereference of `rootDir.listFiles(((FileFilter) DirectoryFileFilter.DIRECTORY))` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexerInfo.java`
#### Snippet
```java
    public Map<String, File> getIndexes() throws IOException {
        ImmutableMap.Builder<String, File> indexes = ImmutableMap.builder();
        for (File dir : rootDir.listFiles(((FileFilter) DirectoryFileFilter.DIRECTORY))) {
            File metaFile = new File(dir, INDEX_METADATA_FILE_NAME);
            if (metaFile.exists()) {
```

### DataFlowIssue
Method reference argument might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUtils.java`
#### Snippet
```java
        for (StackTraceElement stackFrame : callStack) {
            final String classAndMethod = stackFrame.getClassName() + "." + stackFrame.getMethodName();
            if (Stream.of(ignoredJavaPackages).noneMatch(classAndMethod::startsWith)) {
                return classAndMethod;
            }
```

### DataFlowIssue
Argument `read(value, pattern)` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePatternUtil.java`
#### Snippet
```java
            Set<String> values = newLinkedHashSet(); // keep order for testing
            for (PropertyValue value : restriction.list) {
                values.addAll(read(value, pattern));
            }
            return values;
```

### DataFlowIssue
Method invocation `isArray` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
        }
        PropertyState s = node.getProperty(propertyName);
        if (s.isArray()) {
            return node.getProperty(propertyName).getValue(Type.STRINGS);
        }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
        PropertyState s = node.getProperty(propertyName);
        if (s.isArray()) {
            return node.getProperty(propertyName).getValue(Type.STRINGS);
        }
        return Collections.singleton(node.getString(propertyName));
```

### DataFlowIssue
Method invocation `isArray` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/ValuePattern.java`
#### Snippet
```java
        }
        PropertyState s = node.getProperty(propertyName);
        if (s.isArray()) {
            return node.getStrings(propertyName);
        }
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                    updatePostRunStatus = false;
                } else {
                    updatePostRunStatus = true;
                }
            } else {
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexUpdate.java`
#### Snippet
```java
                    }
                }
                updatePostRunStatus = true;
            }
            mergeWithConcurrencyCheck(store, validatorProviders, builder, beforeCheckpoint,
```

### DataFlowIssue
Method invocation `count` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexEditor.java`
#### Snippet
```java
        // get property names
        PropertyState names = definition.getProperty(PROPERTY_NAMES);
        if (names.count() == 1) { 
            // OAK-1273: optimize for the common case
            this.propertyNames = singleton(names.getValue(NAME, 0));
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java
        long count = 0;
        if(definition.hasProperty(REINDEX_COUNT)){
            count = definition.getProperty(REINDEX_COUNT).getValue(Type.LONG);
        }
        definition.setProperty(REINDEX_COUNT, count + 1);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java

    private IndexImportState getIndexImportState(NodeBuilder nodeBuilder) {
        if (nodeBuilder.getProperty(INDEX_IMPORT_STATE_KEY) == null || nodeBuilder.getProperty(INDEX_IMPORT_STATE_KEY).getValue(Type.STRING) == null) {
            return IndexImportState.NULL;
        } else {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java
            return IndexImportState.NULL;
        } else {
            return IndexImportState.valueOf(nodeBuilder.getProperty(INDEX_IMPORT_STATE_KEY).getValue(Type.STRING));
        }
    }
```

### DataFlowIssue
Method invocation `getChildNode` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/MergingNodeStateDiff.java`
#### Snippet
```java
        }

        NodeBuilder baseClean = conflictMarker.getChildNode(ConflictAnnotatingRebaseDiff.BASE);
        if (baseClean.exists()) {
            baseClean.getChildNode(name).remove();
```

### DataFlowIssue
Method invocation `getChildNode` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/MergingNodeStateDiff.java`
#### Snippet
```java
            }
        }
        NodeBuilder baseClean = conflictMarker.getChildNode(ConflictAnnotatingRebaseDiff.BASE);
        if (baseClean.exists()) {
            baseClean.removeProperty(name);
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/ConflictValidator.java`
#### Snippet
```java
                    switch (ct) {
                        case DELETE_CHANGED_PROPERTY:
                            ours = null;
                            theirs = ps;
                            break;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/ConflictValidator.java`
#### Snippet
```java
                        case CHANGE_DELETED_PROPERTY:
                            ours = ps;
                            theirs = null;
                            break;
                    }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/DateVersionSelector.java`
#### Snippet
```java
                continue;
            }
            long c = ISO8601.parse(v.getProperty(JcrConstants.JCR_CREATED).getValue(Type.DATE)).getTimeInMillis();
            if (c > latestDate && c <= timestamp) {
                latestDate = c;
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
            public IndexEntry produce(NodeState indexHit, String pathName) {
                PropertyState s = indexHit.getProperty("entry");
                return new IndexEntry(s.getValue(Type.STRING, 0), pathName);
            }
        });
```

### DataFlowIssue
Method invocation `count` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
            public String produce(NodeState indexHit, String pathName) {
                PropertyState s = indexHit.getProperty("entry");
                if (s.count() <= 1) {
                    return s.getValue(Type.STRING, 0);
                } else {
```

### DataFlowIssue
Method invocation `count` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
            // while trying to add a duplicate entry
            PropertyState s = k.getProperty("entry");
            for (int i = 0; i < s.count(); i++) {
                String r = s.getValue(Type.STRING, i);
                if (!list.contains(r)) {
```

### DataFlowIssue
Method invocation `count` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
            NodeState k = index.getChildNode(values.iterator().next());
            if (k.exists()) {
                count = k.getProperty("entry").count();
            } else {
                count = 0;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/UniqueEntryStoreStrategy.java`
#### Snippet
```java
                count = k.getProperty("entry").count();
            } else {
                count = 0;
            }
        } else {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadOnlyVersionManager.java`
#### Snippet
```java
            RepositoryException {
        checkVersionable(versionable);
        String uuid = versionable.getProperty(VersionConstants.JCR_UUID).getValue(Type.STRING);
        return TreeUtil.getTree(getVersionStorage(), getVersionHistoryPath(uuid));
    }
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionHook.java`
#### Snippet
```java

        return compose(transform(providers, new Function<EditorProvider, CommitHook>() {
            @Nullable
            @Override
            public CommitHook apply(@Nullable EditorProvider input) {
```

### DataFlowIssue
Argument `input` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionHook.java`
#### Snippet
```java
            @Override
            public CommitHook apply(@Nullable EditorProvider input) {
                return new EditorHook(input);
            }
        })).processCommit(before, after, info);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
        checkState(versionable.hasProperty(JCR_PREDECESSORS));
        PropertyState state = versionable.getProperty(JCR_PREDECESSORS);
        List<String> predecessors = ImmutableList.copyOf(state.getValue(Type.REFERENCES));
        NodeBuilder version = vHistory.child(calculateVersion(vHistory, versionable));

```

### DataFlowIssue
Method invocation `count` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
            checkState(history.hasChildNode(JCR_ROOTVERSION));
            NodeBuilder v = history.getChildNode(JCR_ROOTVERSION);
            return String.valueOf(v.getProperty(JCR_SUCCESSORS).count() + 1) + ".0";
        }
    }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
        versionable.setProperty(JCR_ISCHECKEDOUT, true, Type.BOOLEAN);
        PropertyState baseVersion = versionable.getProperty(JCR_BASEVERSION);
        List<String> predecessors = Collections.singletonList(baseVersion.getValue(Type.REFERENCE));
        versionable.setProperty(JCR_PREDECESSORS, predecessors, Type.REFERENCES);
    }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
        // (required to identify its version history)
        String versionableUUUID = history.getProperty(
                JCR_VERSIONABLEUUID).getValue(Type.STRING);
        versionable.setProperty(JCR_UUID, versionableUUUID, Type.STRING);
        restore(versionable, uuidFromNode(version), selector);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java

        NodeBuilder versionNode = vh.getChildNode(versionName);
        String versionId = versionNode.getProperty(JCR_UUID).getValue(Type.STRING);
        // unregister from labels
        for (String label : getVersionLabels(historyRelPath, versionId)) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
        PropertyState predecessorIds = versionNode.getProperty(JCR_PREDECESSORS);

        for (String succId :  successorIds.getValue(Type.REFERENCES)) {
            NodeBuilder successor = getVersionById(vh, succId);
            if (successor == null) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java

            pb.removeValue(versionId);
            pb.addValues(predecessorIds.getValue(Type.REFERENCES));

            successor.setProperty(pb.getPropertyState());
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/ReadWriteVersionManager.java`
#### Snippet
```java
        }

        for (String predId :  predecessorIds.getValue(Type.REFERENCES)) {
            NodeBuilder predecessor = getVersionById(vh, predId);
            if (predecessor == null) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java

    private void versionedChild(NodeBuilder src, NodeBuilder dest) {
        String ref = src.getProperty(JCR_VERSIONHISTORY).getValue(Type.REFERENCE);
        dest.setProperty(JCR_PRIMARYTYPE, NT_VERSIONEDCHILD, Type.NAME);
        dest.setProperty(JCR_CHILDVERSIONHISTORY, ref, Type.REFERENCE);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
        try {
            if (selector == null) {
                String created = version.getProperty(JCR_CREATED).getValue(Type.DATE);
                selector = new DateVersionSelector(created);
            }
```

### DataFlowIssue
Argument `frozen.getName(JCR_FROZENPRIMARYTYPE)` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
                                          @NotNull NodeBuilder dest) {
        dest.setProperty(JCR_PRIMARYTYPE,
                frozen.getName(JCR_FROZENPRIMARYTYPE), Type.NAME);
        String id = frozen.getProperty(JCR_FROZENUUID).getValue(Type.STRING);
        if (id.indexOf('/') == -1) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
        dest.setProperty(JCR_PRIMARYTYPE,
                frozen.getName(JCR_FROZENPRIMARYTYPE), Type.NAME);
        String id = frozen.getProperty(JCR_FROZENUUID).getValue(Type.STRING);
        if (id.indexOf('/') == -1) {
            // only restore jcr:uuid if id is in fact a uuid
```

### DataFlowIssue
Argument `child.getName(JCR_FROZENPRIMARYTYPE)` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionableState.java`
#### Snippet
```java
            // need to translate into a regular node to get proper OPV value
            NodeBuilder builder = new MemoryNodeBuilder(EmptyNodeState.EMPTY_NODE);
            builder.setProperty(JCR_PRIMARYTYPE, child.getName(JCR_FROZENPRIMARYTYPE), Type.NAME);
            builder.setProperty(JCR_MIXINTYPES, child.getNames(JCR_MIXINTYPES), Type.NAMES);
            childState = builder.getNodeState();
```

### DataFlowIssue
Argument `oakName` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
        String oakName = mapper.getOakNameOrNull(name);
        // TODO need a better way to handle SNS
        return oakChildName != null && oakChildName.startsWith(oakName);
    }

```

### DataFlowIssue
Argument `oakNames[i]` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NamedTemplate.java`
#### Snippet
```java
            jcrNames = new String[oakNames.length];
            for (int i = 0; i < oakNames.length; i++) {
                jcrNames[i] = mapper.getJcrName(oakNames[i]);
            }
        }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeRegistration.java`
#### Snippet
```java
            if (!isMixin(type)
                    && !contains(getNames(type, REP_SUPERTYPES), NT_BASE)
                    && !NT_BASE.equals(type.getProperty(JCR_NODETYPENAME).getValue(NAME))) {
                if (types.hasChildNode(NT_BASE)) {
                    NodeBuilder supertype = types.child(NT_BASE);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeRegistration.java`
#### Snippet
```java
                newLinkedHashSet(getNames(builder, listName));
        Iterables.addAll(
                nameList, state.getProperty(listName).getValue(NAMES));
        builder.setProperty(listName, nameList, NAMES);
    }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeRegistration.java`
#### Snippet
```java
    private void mergeSupertype(NodeBuilder type, NodeState supertype) {
        String supername =
                supertype.getProperty(JCR_NODETYPENAME).getValue(NAME);
        addNameToList(type, REP_SUPERTYPES, supername);
        mergeNameList(type, supertype, REP_SUPERTYPES);
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/write/NodeTypeTemplateImpl.java`
#### Snippet
```java
        @Override
        public boolean apply(Tree t) {
            String s = t.getName();
            return s.equals(name) || s.startsWith(name + "[");
        }
```

### DataFlowIssue
Method invocation `hasNext` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/DescendantsIterator.java`
#### Snippet
```java

    private boolean fillStack() {
        while (stack.size() < maxLevel || !stack.peekFirst().hasNext()) {
            Iterator<? extends ChildNodeEntry> topIterator = stack.peekFirst();
            if (topIterator.hasNext()) {
```

### DataFlowIssue
Method invocation `hasNext` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/DescendantsIterator.java`
#### Snippet
```java
        while (stack.size() < maxLevel || !stack.peekFirst().hasNext()) {
            Iterator<? extends ChildNodeEntry> topIterator = stack.peekFirst();
            if (topIterator.hasNext()) {
                final NodeState nextNode = topIterator.next().getNodeState();
                stack.push(nextNode.getChildNodeEntries().iterator());
```

### DataFlowIssue
Method invocation `next` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/DescendantsIterator.java`
#### Snippet
```java
            return null;
        }
        return stack.peekFirst().next().getNodeState();
    }

```

### DataFlowIssue
Method invocation `isValidChildNode` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeEditor.java`
#### Snippet
```java
        NodeBuilder childBuilder = builder.getChildNode(name);
        TypeEditor editor = new TypeEditor(this, name, primary, mixins, childBuilder, validate);
        if (checkThisNode && validate && !effective.isValidChildNode(name, editor.getEffective())) {
            constraintViolation(
                    1, "No matching definition found for child node " + name
```

### DataFlowIssue
Argument `versionHistory.getString(JCR_UUID)` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionablePropertiesEditor.java`
#### Snippet
```java
        Set<String> updated = new HashSet<String>();
        if (!node.hasProperty(JCR_VERSIONHISTORY)) {
            node.setProperty(JCR_VERSIONHISTORY, versionHistory.getString(JCR_UUID), REFERENCE);
            updated.add(JCR_VERSIONHISTORY);
        }
```

### DataFlowIssue
Method invocation `count` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionablePropertiesEditor.java`
#### Snippet
```java
                continue;
            }
            if (v.getProperty(JCR_SUCCESSORS).count() == 0) { // no successors
                lastVersion = v;
            }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionablePropertiesEditor.java`
#### Snippet
```java
    private static boolean updateFrozenMixins(NodeBuilder builder) {
        if (builder.hasProperty(JCR_FROZENMIXINTYPES)) {
            final Set<String> mixins = newHashSet(builder.getProperty(JCR_FROZENMIXINTYPES).getValue(NAMES));
            if (mixins.remove(MIX_SIMPLE_VERSIONABLE)) {
                mixins.add(MIX_VERSIONABLE);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionableEditor.java`
#### Snippet
```java
        assert versionable.exists();

        final String versionableUuid = versionable.getProperty(JCR_UUID).getValue(Type.STRING);
        return versionCopier.copyVersionHistory(versionableUuid, provider.config.getVersionsMinDate(),
            provider.config.preserveOnTarget());
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionableEditor.java`
#### Snippet
```java
    private static <T> T getProperty(NodeState state, String name, Type<T> type) {
        if (state.hasProperty(name)) {
            return state.getProperty(name).getValue(type);
        }
        return null;
```

### DataFlowIssue
Method invocation `getChildHandler` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/NodeObserver.java`
#### Snippet
```java
                    before = before.getChildNode(oakName);
                    after = after.getChildNode(oakName);
                    handler = handler.getChildHandler(oakName, before, after);
                }

```

### DataFlowIssue
Argument `handler` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/NodeObserver.java`
#### Snippet
```java
                }

                EventGenerator generator = new EventGenerator(before, after, handler);
                while (!generator.isDone()) {
                    generator.generate();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionHistoryUtil.java`
#### Snippet
```java
    static void addMixin(NodeBuilder builder, String name) {
        if (builder.hasProperty(JCR_MIXINTYPES)) {
            final Set<String> mixins = newHashSet(builder.getProperty(JCR_MIXINTYPES).getValue(Type.NAMES));
            if (mixins.add(name)) {
                builder.setProperty(nameProperty(JCR_MIXINTYPES, mixins));
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionHistoryUtil.java`
#### Snippet
```java
            final NodeState version = entry.getNodeState();
            if (version.hasProperty(JCR_CREATED)) {
                final Calendar created = ISO8601.parse(version.getProperty(JCR_CREATED).getValue(Type.DATE));
                if (created.after(youngest)) {
                    youngest = created;
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/version/VersionHistoryUtil.java`
#### Snippet
```java
    private static void removeMixin(NodeBuilder builder, String name) {
        if (builder.hasProperty(JCR_MIXINTYPES)) {
            final Set<String> mixins = newHashSet(builder.getProperty(JCR_MIXINTYPES).getValue(Type.NAMES));
            if (mixins.remove(name)) {
                if (mixins.isEmpty()) {
```

### DataFlowIssue
Argument `fragmentPaths` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/FilteringNodeState.java`
#### Snippet
```java
        final Set<String> safeExcludedFragments = defaultIfEmpty(excludedFragments, NONE);
        if (!referenceableFrozenNodes || hasHiddenDescendants(path, includes, excludes, safeFragmentPaths, safeExcludedFragments)) {
            return new FilteringNodeState(path, delegate, includes, excludes, fragmentPaths, safeExcludedFragments, referenceableFrozenNodes);
        }
        return delegate;
```

### DataFlowIssue
Argument `whiteboard` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
        if (securityProvider instanceof WhiteboardAware) {
            Whiteboard whiteboard = ((WhiteboardAware) securityProvider).getWhiteboard();
            UserMonitor monitor = WhiteboardUtils.getService(whiteboard, UserMonitor.class);
            if (monitor != null) {
                userMonitor = monitor;
```

### DataFlowIssue
Dereference of `changeSet.getParentPaths()` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
                return false;
            }
            for (String parentPath : changeSet.getParentPaths()) {
                String firstLevelName = firstLevelName(parentPath);
                if (firstLevelName != null && firstLevelIncludeNames.contains(firstLevelName)) {
```

### DataFlowIssue
Argument `changeSet.getParentPaths()` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
            return true;
        }
        final Set<String> parentPaths = new HashSet<String>(changeSet.getParentPaths());

        // first go through the unprecise excludes. if that has any hit,
```

### DataFlowIssue
Argument `changeSet.getPropertyNames()` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java

        if (this.propertyNames != null && this.propertyNames.size() != 0) {
            if (disjoint(changeSet.getPropertyNames(), this.propertyNames)) {
                // if propertyNames are defined then if we can't find any
                // at this stage (if !included) then this equals to filtering out
```

### DataFlowIssue
Argument `changeSet.getParentNodeTypes()` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java

        if (this.parentNodeTypes != null && this.parentNodeTypes.size() != 0) {
            if (disjoint(changeSet.getParentNodeTypes(), this.parentNodeTypes)) {
                // same story here: if nodeTypes is defined and we can't find any
                // match
```

### DataFlowIssue
Argument `changeSet.getParentNodeNames()` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/ChangeSetFilterImpl.java`
#### Snippet
```java
            // and a 3rd time, if we can't find any nodeName match
            // here, then we're filtering out
            if (disjoint(changeSet.getParentNodeNames(), this.parentNodeNames)) {
                return true;
            }
```

### DataFlowIssue
Method invocation `getTree` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        @Override
        public Principal apply(ResultRow resultRow) {
            return createPrincipal(resultRow.getTree(null));
        }
    }
```

### DataFlowIssue
Argument `info` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
            public boolean includeCommit(@NotNull String sessionId, @Nullable CommitInfo info) {
                return (includeSessionLocal || !isLocal(checkNotNull(sessionId), info))
                    && (includeClusterExternal || !isExternal(info))
                    && (includeClusterLocal || isExternal(info));
            }
```

### DataFlowIssue
Argument `info` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterBuilder.java`
#### Snippet
```java
                return (includeSessionLocal || !isLocal(checkNotNull(sessionId), info))
                    && (includeClusterExternal || !isExternal(info))
                    && (includeClusterLocal || isExternal(info));
            }

```

### DataFlowIssue
Argument `ace.getString(REP_PRINCIPAL_NAME)` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/PermissionStoreEditor.java`
#### Snippet
```java
                Set<Restriction> restrictions = restrictionProvider.readRestrictions(Strings.emptyToNull(accessControlledPath), providerCtx.getTreeProvider().createReadOnlyTree(ace));

                String principalName = Text.escapeIllegalJcrChars(ace.getString(REP_PRINCIPAL_NAME));
                AcEntry entry = new AcEntry(principalName, index, isAllow, privilegeBits, restrictions);
                List<AcEntry> list = entries.computeIfAbsent(principalName, k -> new ArrayList<>());
```

### DataFlowIssue
Argument `restrictionName` might be null
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/AccessControlImporter.java`
#### Snippet
```java
        private void addRestriction(PropInfo propInfo) throws RepositoryException {
            String restrictionName = propInfo.getName();
            int targetType = acl.getRestrictionType(restrictionName);
            List<Value> values = propInfo.getValues(targetType);
            if (values.size() == 1) {
```

### DataFlowIssue
Method invocation `getConsolidatedExecutionStats` may produce `NullPointerException`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    private void dumpStats() {
        IndexStatsMBean indexStats = WhiteboardUtils.getService(whiteboard, IndexStatsMBean.class);
        System.out.println(indexStats.getConsolidatedExecutionStats());
        String queueSize = Arrays.toString(statsProvider.getStats().getTimeSeries("HYBRID_QUEUE_SIZE", false)
                .getValuePerSecond());
```

### DataFlowIssue
Method invocation `getMBean` may produce `NullPointerException`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java

        int sleepCount = 0;
        while (backgroundObserver.getMBean().getQueueSize()> 0 && ++sleepCount < 100) {
            TimeUnit.MILLISECONDS.sleep(100);
        }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
                List<String> nodetypes = Lists.newArrayList();
                if (nodetype.hasProperty(DECLARING_NODE_TYPES)){
                    nodetypes = Lists.newArrayList(nodetype.getProperty(DECLARING_NODE_TYPES).getValue(Type.STRINGS));
                }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/util/TermQueryBuilderFactory.java`
#### Snippet
```java
        if (pr.first != null && pr.first.equals(pr.last) && pr.firstIncluding && pr.lastIncluding) {
            // [property]=[value]
            return Query.of(q -> q.term(t -> t.field(propertyName).value(FieldValue.of(first.toString()))));
        } else if (pr.first != null && pr.last != null) {
            return newRangeQuery(propertyName, first, last, pr.firstIncluding, pr.lastIncluding);
```

### DataFlowIssue
Method invocation `getTime` may produce `NullPointerException`
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                        bucket,
                        blobId,
                        lastModified.getTime(),
                        size
                );
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticBulkProcessorHandler.java`
#### Snippet
```java
                // Read the current failed paths (if any) on the :status node into failedDocList
                if (status.hasProperty(IndexDefinition.FAILED_DOC_PATHS)) {
                    for (String str : status.getProperty(IndexDefinition.FAILED_DOC_PATHS).getValue(Type.STRINGS)) {
                        failedDocSet.add(str);
                    }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticResponseHandler.java`
#### Snippet
```java

    public String getPath(Hit<? extends JsonNode> hit) {
        return transformPath(hit.source().get(FieldNames.PATH).asText());
    }

```

### DataFlowIssue
Method invocation `to` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticSuggestIterator.java`
#### Snippet
```java
                .map(hit -> hit.innerHits().get(FieldNames.SUGGEST).hits().hits())
                .flatMap(Collection::stream)
                .map(hit -> new ElasticSuggestion(hit.source().to(ObjectNode.class).get("value").asText(), hit.score()))
                .collect(Collectors.toCollection(() -> new PriorityQueue<>((a, b) -> Double.compare(b.score, a.score))))
                .stream().distinct().iterator();
```

### DataFlowIssue
Unboxing of `hit.score()` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticSuggestIterator.java`
#### Snippet
```java
                .map(hit -> hit.innerHits().get(FieldNames.SUGGEST).hits().hits())
                .flatMap(Collection::stream)
                .map(hit -> new ElasticSuggestion(hit.source().to(ObjectNode.class).get("value").asText(), hit.score()))
                .collect(Collectors.toCollection(() -> new PriorityQueue<>((a, b) -> Double.compare(b.score, a.score))))
                .stream().distinct().iterator();
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/facets/ElasticSecureFacetAsyncProvider.java`
#### Snippet
```java
        if (path != null && isAccessible.test(path)) {
            for (String field: facetFields) {
                JsonNode value = searchHit.source().get(field);
                if (value != null) {
                    facetsMap.compute(field, (column, facetValues) -> {
```

### DataFlowIssue
Method invocation `value` may produce `NullPointerException`
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/ElasticResultRowAsyncIterator.java`
#### Snippet
```java
                    searchTotalTime, searchResponse.timedOut());
            if (hitsSize > 0) {
                long totalHits = searchResponse.hits().total().value();
                LOG.debug("Processing search response that took {} to read {}/{} docs", searchResponse.took(), hitsSize, totalHits);
                lastHitSortValues = searchHits.get(hitsSize - 1).sort();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/ActiveDeletedBlobCollectorMBeanImpl.java`
#### Snippet
```java
    private void markCurrentIndexFilesUnsafeForActiveDeletionFor(NodeBuilder rootBuilder, String indexPath) {
        NodeBuilder indexPathBuilder = getBuilderForPath(rootBuilder, indexPath);
        if (!TYPE_LUCENE.equals(indexPathBuilder.getProperty(TYPE_PROPERTY_NAME).getValue(STRING))) {
            LOG.debug("Ignoring index {} as it's not a lucene index", indexPath);
            return;
```

### DataFlowIssue
Method invocation `getStatsMBean` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/ActiveDeletedBlobCollectorMBeanImpl.java`
#### Snippet
```java
        Map<IndexStatsMBean, Long> origIndexLaneToExecutinoCountMap = Maps.asMap(
                Sets.newHashSet(StreamSupport.stream(asyncIndexInfoService.getAsyncLanes().spliterator(), false)
                        .map(lane -> asyncIndexInfoService.getInfo(lane).getStatsMBean())
                        .filter(bean -> {
                            String beanStatus;
```

### DataFlowIssue
Method invocation `verifyNotPotentiallySlow` may produce `NullPointerException`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryEngineImpl.java`
#### Snippet
```java
            }
            if (isPotentiallySlow) {
                result.verifyNotPotentiallySlow();
            }
        }
```

### DataFlowIssue
Method invocation `getNewStream` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/NodeStateAnalyzerFactory.java`
#### Snippet
```java
        public InputStream openResource(String resource) throws IOException {
            if (state.hasChildNode(resource)){
                return ConfigUtil.getBlob(state.getChildNode(resource), resource).getNewStream();
            }
            return delegate.openResource(resource);
```

### DataFlowIssue
Method invocation `getNewStream` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/NodeStateAnalyzerFactory.java`
#### Snippet
```java
                                                Version matchVersion) throws IOException {
        Blob blob = ConfigUtil.getBlob(file, name);
        Reader stopwords = new InputStreamReader(blob.getNewStream(), IOUtils.CHARSET_UTF_8);
        try {
            return WordlistLoader.getWordSet(stopwords, matchVersion);
```

### DataFlowIssue
Argument `SuggestHelper.getSuggestQuery(suggestQueryString)` might be null
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                String suggestQueryString = query.replace("suggest?", "");
                if (reader != null) {
                    return new LuceneRequestFacade<SuggestHelper.SuggestQuery>(SuggestHelper.getSuggestQuery(suggestQueryString));
                }
            } else {
```

### DataFlowIssue
Argument `currentRow.excerpt` might be null
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                    }
                    if (QueryConstants.REP_EXCERPT.equals(columnName)) {
                        return PropertyValues.newString(currentRow.excerpt);
                    }
                    return pathRow.getValue(columnName);
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
        List<String> tokens = tokenize(text, analyzer);

        if (tokens.isEmpty()) {
            // TODO what should be returned in the case there are no tokens?
            return new BooleanQuery();
```

### DataFlowIssue
Method invocation `replace` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                // The correct logic is in LucenePropertyIndex#createLikeQuery.
                // Leaving the code as it is, because this class is deprecated, as it is just for compatVersion=1
                first = first.replace('%', WildcardQuery.WILDCARD_STRING);
                first = first.replace('_', WildcardQuery.WILDCARD_CHAR);

```

### DataFlowIssue
Dereference of `tokenize(first, analyzer)` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                        addReferenceConstraint(first, qs, reader);
                    } else {
                        for (String t : tokenize(first, analyzer)) {
                            qs.add(new TermQuery(new Term(name, t)));
                        }
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
        if (token != null) {
            List<String> tokens = tokenize(token, analyzer);
            if (!tokens.isEmpty()) {
                token = tokens.get(0);
            }
```

### DataFlowIssue
Method invocation `getFacetsConfig` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java

    private FacetsConfig getFacetsConfig(){
        return facetsConfigProvider.getFacetsConfig();
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/NodeStateFacetsConfig.java`
#### Snippet
```java
        for (String childName : current.getChildNodeNames()) {
            NodeBuilder child = current.child(childName);
            super.setMultiValued(childName, child.getProperty(MULTIVALUED).getValue(Type.BOOLEAN));
            if (prefix.length() > 0) {
                super.setMultiValued(prefix + "/" + childName, child.getProperty(MULTIVALUED).getValue(Type.BOOLEAN));
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/NodeStateFacetsConfig.java`
#### Snippet
```java
            super.setMultiValued(childName, child.getProperty(MULTIVALUED).getValue(Type.BOOLEAN));
            if (prefix.length() > 0) {
                super.setMultiValued(prefix + "/" + childName, child.getProperty(MULTIVALUED).getValue(Type.BOOLEAN));
                readMVFacets(child, childName);
            }
```

### DataFlowIssue
Method invocation `getText` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/SuggestHelper.java`
#### Snippet
```java
        try {
            if (suggester != null && suggester.getCount() > 0) {
                return suggester.lookup(suggestQuery.getText(), 10, true, false);
            } else {
                return Collections.emptyList();
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/StatisticalSortedSetDocValuesFacetCounts.java`
#### Snippet
```java
            sampleIterator = getSampledMatchingDocIterator(docIterator, randomSeed, hitCount, sampleSize);
        } else {
            sampleSize = hitCount;
        }
        int accessibleSampleCount = getAccessibleSampleCount(dim, sampleIterator);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
        private Tree findExisting(String includePath) {
            for (Tree tree : aggregate.getChildren()){
                if (includePath.equals(tree.getProperty(FulltextIndexConstants.AGG_PATH).getValue(Type.STRING))){
                    return tree;
                }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                    continue;
                }
                String name = tree.getProperty(FulltextIndexConstants.PROP_NAME).getValue(Type.STRING);
                boolean regex = false;
                if (tree.hasProperty(FulltextIndexConstants.PROP_IS_REGEX)) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                boolean regex = false;
                if (tree.hasProperty(FulltextIndexConstants.PROP_IS_REGEX)) {
                    regex = tree.getProperty(FulltextIndexConstants.PROP_IS_REGEX).getValue(Type.BOOLEAN);
                }
                PropertyRule pr = new PropertyRule(this, tree, name, regex);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java
        Set<String> currTags = Collections.emptySet();
        if (tree.hasProperty(INDEX_TAGS)) {
            currTags = Sets.newHashSet(tree.getProperty(INDEX_TAGS).getValue(STRINGS));
        }
        Set<String> tagVals = Sets.newHashSet(Iterables.concat(currTags, asList(additionalTagVals)));
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/IndexDefinitionBuilder.java`
#### Snippet
```java

            public String getPath(){
                return include.getProperty(FulltextIndexConstants.AGG_PATH).getValue(Type.STRING);
            }
        }
```

### DataFlowIssue
Dereference of `indexedPaths` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/ExternalIndexObserver.java`
#### Snippet
```java
        TimerStats.Context ctx = timer.time();
        Set<String> indexPaths = Sets.newHashSet();
        for (IndexedPathInfo indexData : indexedPaths) {
            String path = indexData.getPath();
            NodeState indexedNode = null;
```

### DataFlowIssue
Variable is already assigned to this value
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/LuceneDocumentHolder.java`
#### Snippet
```java

    public void add(boolean sync, LuceneDoc doc) {
        doc = checkNotNull(doc);
        //First try adding to queue in non blocking manner
        if (documentQueue.addIfNotFullWithoutWait(doc)){
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/property/PropertyIndexQuery.java`
#### Snippet
```java

        NodeBuilder entry = idxb.child(value);
        return entry.getProperty("entry").getValue(Type.STRINGS);
    }

```

### DataFlowIssue
Method invocation `getScore` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/CommitMitigatingTieredMergePolicy.java`
#### Snippet
```java
                    }
                    if (verbose()) {
                        message("  add merge=" + writer.get().segString(merge.segments) + " size=" + String.format(Locale.ROOT, "%.3f MB", bestMergeBytes / 1024. / 1024.) + " score=" + String.format(Locale.ROOT, "%.3f", bestScore.getScore()) + " " + bestScore.getExplanation() + (bestTooLarge ? " [max merge]" : ""));
                    }
                } else {
```

### DataFlowIssue
@Nullable method 'createQuery' always returns a non-null value
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
    }

    @Nullable
    private static Query createQuery(String propertyName, PropertyRestriction pr,
                                     PropertyDefinition defn) {
```

### DataFlowIssue
Argument `SuggestHelper.getSuggestQuery(suggestQueryString)` might be null
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                String suggestQueryString = query.replace("suggest?", "");
                if (reader != null) {
                    return new LuceneRequestFacade<>(SuggestHelper.getSuggestQuery(suggestQueryString));
                }
            } else {
```

### DataFlowIssue
Dereference of `localIndex.dir.listFiles(File::isDirectory)` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/LuceneIndexImporter.java`
#### Snippet
```java
        LuceneIndexDefinition definition = (LuceneIndexDefinition)reindexOps.apply(true);

        for (File dir : localIndex.dir.listFiles(File::isDirectory)) {
            String jcrName = localIndex.indexMeta.getJcrNameFromFSName(dir.getName());
            if (jcrName != null) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
    private static int determineBlobSize(NodeBuilder file){
        if (file.hasProperty(OakDirectory.PROP_BLOB_SIZE)){
            return Ints.checkedCast(file.getProperty(OakDirectory.PROP_BLOB_SIZE).getValue(Type.LONG));
        }
        return DEFAULT_BLOB_SIZE;
```

### DataFlowIssue
Argument `key` might be null
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
        if (file.hasProperty(OakDirectory.PROP_UNIQUE_KEY)) {
            String key = file.getString(OakDirectory.PROP_UNIQUE_KEY);
            return StringUtils.convertHexToBytes(key);
        }
        return null;
```

### DataFlowIssue
Dereference of `dirs` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java

        ListMultimap<String, LocalIndexDir> pathToDirMap = ArrayListMultimap.create();
        for (File indexDir : dirs){
            LocalIndexDir localIndexDir = new LocalIndexDir(indexDir);
            pathToDirMap.get(localIndexDir.getJcrPath()).add(localIndexDir);
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakDirectory.java`
#### Snippet
```java

        if (!f.hasProperty(PROP_UNSAFE_FOR_ACTIVE_DELETION)
                || !f.getProperty(PROP_UNSAFE_FOR_ACTIVE_DELETION).getValue(BOOLEAN)) {
            PropertyState property = f.getProperty(JCR_DATA);
            if (property != null) {
```

### DataFlowIssue
Argument `key` might be null
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
        if (file.hasProperty(OakDirectory.PROP_UNIQUE_KEY)) {
            String key = file.getString(OakDirectory.PROP_UNIQUE_KEY);
            return StringUtils.convertHexToBytes(key);
        }
        return null;
```

### DataFlowIssue
Argument `typeName` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/PropertyDefinition.java`
#### Snippet
```java
            String typeName = defn.getString(FulltextIndexConstants.PROP_TYPE);
            try {
                type = PropertyType.valueFromName(typeName);
            } catch (IllegalArgumentException e) {
                log.warn("Invalid property type {} for property {} in Index {}", typeName, name, idxDefn);
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
        switch (text.getExtractionResult()) {
        case SUCCESS:
            return text.getExtractedText().toString();
        case ERROR:
            return FulltextIndexEditor.TEXT_EXTRACTION_ERROR;
```

### DataFlowIssue
Argument `currentRow.suggestion` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
                    }
                    if (QueryConstants.REP_SPELLCHECK.equals(columnName) || QueryConstants.REP_SUGGEST.equals(columnName)) {
                        return PropertyValues.newString(currentRow.suggestion);
                    }
                    if (QueryConstants.OAK_SCORE_EXPLANATION.equals(columnName)) {
```

### DataFlowIssue
Argument `currentRow.explanation` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
                    }
                    if (QueryConstants.OAK_SCORE_EXPLANATION.equals(columnName)) {
                        return PropertyValues.newString(currentRow.explanation);
                    }
                    if (columnName.startsWith(QueryConstants.REP_EXCERPT)) {
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
                    }
                    if (columnName.startsWith(QueryConstants.REP_EXCERPT)) {
                        String excerpt = currentRow.excerpts.get(columnName);
                        if (excerpt != null) {
                            return PropertyValues.newString(excerpt);
```

### DataFlowIssue
Dereference of `pres` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
            FulltextIndexPlanner.PropertyIndexResult pres = pr.getPropertyIndexResult();
            sb.append(" sync:(")
                    .append(pres.propertyName);

            if (!pres.propertyName.equals(pres.pr.propertyName)) {
```

### DataFlowIssue
Argument `Iterables.getOnlyElement(relPaths, "")` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
                return false;
            }
            result.setParentPath(Iterables.getOnlyElement(relPaths, ""));

            //Such non indexed path can possibly be evaluated via any rule on nt:base
```

### DataFlowIssue
Argument `maxCountedParent` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexPlanner.java`
#### Snippet
```java
        //Set the parent path to one which is present in most prop. In case of tie any one
        //such path would be picked
        result.setParentPath(maxCountedParent);

        //Now add only those properties to plan which have the maxCountedParent
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
        private Tree findExisting(String includePath) {
            for (Tree tree : aggregate.getChildren()) {
                if (includePath.equals(tree.getProperty(FulltextIndexConstants.AGG_PATH).getValue(Type.STRING))) {
                    return tree;
                }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java

            public String getPath() {
                return include.getProperty(FulltextIndexConstants.AGG_PATH).getValue(Type.STRING);
            }
        }
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
        Set<String> currTags = Collections.emptySet();
        if (tree.hasProperty(INDEX_TAGS)) {
            currTags = Sets.newHashSet(tree.getProperty(INDEX_TAGS).getValue(STRINGS));
        }
        Set<String> tagVals = Sets.newHashSet(Iterables.concat(currTags, asList(additionalTagVals)));
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                    continue;
                }
                String name = tree.getProperty(FulltextIndexConstants.PROP_NAME).getValue(Type.STRING);
                boolean regex = false;
                if (tree.hasProperty(FulltextIndexConstants.PROP_IS_REGEX)) {
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/IndexDefinitionBuilder.java`
#### Snippet
```java
                boolean regex = false;
                if (tree.hasProperty(FulltextIndexConstants.PROP_IS_REGEX)) {
                    regex = tree.getProperty(FulltextIndexConstants.PROP_IS_REGEX).getValue(Type.BOOLEAN);
                }
                PropertyRule pr = new PropertyRule(this, tree, name, regex);
```

### DataFlowIssue
Argument `pd.nonRelativeName` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            return false;
        }
        return propertyNode.hasProperty(pd.nonRelativeName);
    }

```

### DataFlowIssue
Argument `pd.nonRelativeName` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/editor/FulltextDocumentMaker.java`
#### Snippet
```java
            return false;
        }
        return !propertyNode.hasProperty(pd.nonRelativeName);
    }

```

### DataFlowIssue
Method invocation `getArrayType` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
            result = PropertyStates.createProperty("value", values.get(0), type);
        } else {
            type = type.getArrayType();
            result = PropertyStates.createProperty("value", values, type);
        }
```

### DataFlowIssue
Dereference of `d.listFiles()` may produce `NullPointerException`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                if (d.exists()) {
                    if (old.exists()) {
                        for (File p : d.listFiles()) {
                            String name = p.getName();
                            File newName = new File(old, name);
```

### DataFlowIssue
Dereference of `old.listFiles()` may produce `NullPointerException`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                File old = new File(x, sub + OLD_SUFFIX);
                if (old.exists()) {
                    for (File p : old.listFiles()) {
                        String name = p.getName();
                        File file = new File(old, name);
```

### DataFlowIssue
Method invocation `isDirectory` may produce `NullPointerException`
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/FileBlobStore.java`
#### Snippet
```java
                    @Override
                    public boolean apply(@Nullable File input) {
                        if (!input.isDirectory() && (
                                (maxLastModifiedTime <= 0)
                                    || FileUtils.isFileOlder(input, maxLastModifiedTime))) {
```

### DataFlowIssue
Argument `user` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/LoginWithMembershipTest.java`
#### Snippet
```java
            // make sure we have a least a single group the user is member of.
            Group gr = userManager.createGroup(new PrincipalImpl(GROUP), "test");
            gr.addMember(user);

            for (int i = 1; i < numberOfGroups; i++) {
```

### DataFlowIssue
Argument `userManager.getAuthorizableByPath(userPath)` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddMemberTest.java`
#### Snippet
```java
        for (int i = 0; i <= numberOfMembers; i++) {
            String userPath = userPaths.get(random.nextInt(numberOfMembers));
            group.addMember(userManager.getAuthorizableByPath(userPath));
            if (j == batchSize) {
                s.save();
```

### DataFlowIssue
Argument `g` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMembersTest.java`
#### Snippet
```java
            String groupPath = groupPaths.get(random.nextInt(GROUP_CNT));
            Group g = (Group) userManager.getAuthorizableByPath(groupPath);
            removeMembers(userManager, g, s);
        } catch (RepositoryException e) {
            if (s.hasPendingChanges()) {
```

### DataFlowIssue
Argument `user` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/LoginWithMembersTest.java`
#### Snippet
```java

            Group gr = userManager.createGroup(new PrincipalImpl(GROUP), "test");
            gr.addMember(user);

            // add other members to this group which the test user is not member of.
```

### DataFlowIssue
Argument `member` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMemberTest.java`
#### Snippet
```java
        for (int i = 0; i <= numberOfMembers; i++) {
            Authorizable member = userManger.getAuthorizable(USER + random.nextInt(numberOfMembers));
            if (group.removeMember(member)) {
                if (j == batchSize) {
                    s.save();
```

### DataFlowIssue
Argument `g` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddMembersTest.java`
#### Snippet
```java
            String groupPath = groupPaths.get(random.nextInt(GROUP_CNT));
            Group g = (Group) userManager.getAuthorizableByPath(groupPath);
            addMembers(userManager, g, s);
        } catch (RepositoryException e) {
            if (s.hasPendingChanges()) {
```

### DataFlowIssue
Argument `defn.getProperty(COMPAT_MODE)` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
        //Compat mode version if specified has highest priority
        if (defn.hasProperty(COMPAT_MODE)){
            return versionFrom(defn.getProperty(COMPAT_MODE));
        }

```

### DataFlowIssue
Argument `defn.getProperty(INDEX_VERSION)` might be null
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java

        if (defn.hasProperty(INDEX_VERSION)){
            return versionFrom(defn.getProperty(INDEX_VERSION));
        }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
    private boolean getSimilarityDefaultValue(NodeState defn, String propertyKey) {
        return defn.getProperty(propertyKey) == null // = true in case this property is not defined
                || (defn.getProperty(TYPE_PROPERTY_NAME) != null && isPresent(defn.getProperty(TYPE_PROPERTY_NAME).getValue(Type.STRING), defn.getProperty(propertyKey).getValue(Type.STRINGS).iterator()));
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
    private boolean getSimilarityDefaultValue(NodeState defn, String propertyKey) {
        return defn.getProperty(propertyKey) == null // = true in case this property is not defined
                || (defn.getProperty(TYPE_PROPERTY_NAME) != null && isPresent(defn.getProperty(TYPE_PROPERTY_NAME).getValue(Type.STRING), defn.getProperty(propertyKey).getValue(Type.STRINGS).iterator()));
    }

```

### DataFlowIssue
Method invocation `getNewStream` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java

    public InputStream getTikaConfig(){
        return ConfigUtil.getBlob(getTikaConfigNode(), TIKA_CONFIG).getNewStream();
    }

```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/IndexDefinition.java`
#### Snippet
```java
            this.dynamicBoostLite = getOptionalValue(defn, DYNAMIC_BOOST_LITE_PROPERTY_NAME,
                    defn.getProperty(TYPE_PROPERTY_NAME) != null &&
                            DYNAMIC_BOOST_LITE.contains(defn.getProperty(TYPE_PROPERTY_NAME).getValue(Type.STRING))
            );
            this.indexSimilarityBinaries = getSimilarityDefaultValue(defn, INDEX_SIMILARITY_BINARIES);
```

### DataFlowIssue
Argument `u` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FindAuthorizableWithScopeTest.java`
#### Snippet
```java
            String id = GROUP_ID + i;
            Group g = userManager.createGroup(id, new PrincipalImpl(id), "test");
            g.addMember(u);
        }

```

### DataFlowIssue
Method invocation `getID` may produce `NullPointerException`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FindAuthorizableWithScopeTest.java`
#### Snippet
```java
                adminSession.save();
            }
            Session reader = login(new SimpleCredentials(u.getID(), "pw".toCharArray()));
            testUserManager = ((JackrabbitSession) reader).getUserManager();
        }
```

### DataFlowIssue
Method invocation `remove` may produce `NullPointerException`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FlatTreeWithAceForSamePrincipalTest.java`
#### Snippet
```java
        }
        if (userManager != null) {
            userManager.getAuthorizable(TEST_USER_ID).remove();
        }
        admin.save();
```

### DataFlowIssue
Method invocation `addMember` may produce `NullPointerException`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java
            Group g = (Group) userManager.getAuthorizable("group"+i);
            for (int j = 0; j < numberOfMembers; j++) {
                g.addMember(userManager.getAuthorizable("user" + getIndex()));
            }
            adminSession.save();
```

### DataFlowIssue
Argument `userManager.getAuthorizable("user" + getIndex())` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyUserReadTest.java`
#### Snippet
```java
            Group g = (Group) userManager.getAuthorizable("group"+i);
            for (int j = 0; j < numberOfMembers; j++) {
                g.addMember(userManager.getAuthorizable("user" + getIndex()));
            }
            adminSession.save();
```

### DataFlowIssue
Argument `p` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/GetGroupPrincipalsTest.java`
#### Snippet
```java
        for (int i = 0; i < 1000; i++) {
            Principal p = principalManager.getPrincipal(principalName);
            PrincipalIterator principals = principalManager.getGroupMembership(p);
//            while (principals.hasNext()) {
//                Principal groupPrincipal = principals.nextPrincipal();
```

### DataFlowIssue
Argument `uMgr.getAuthorizableByPath(groupPaths.get(random.nextInt(numberOfGroups)))` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/MemberBaseTest.java`
#### Snippet
```java
            for (int i = 0; i <= 1000; i++) {
                testMembership(
                        (Group) uMgr.getAuthorizableByPath(groupPaths.get(random.nextInt(numberOfGroups))),
                        (User) uMgr.getAuthorizableByPath(memberPaths.get(random.nextInt(numberOfMembers))));
            }
```

### DataFlowIssue
Argument `uMgr.getAuthorizableByPath(memberPaths.get(random.nextInt(numberOfMembers)))` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/MemberBaseTest.java`
#### Snippet
```java
                testMembership(
                        (Group) uMgr.getAuthorizableByPath(groupPaths.get(random.nextInt(numberOfGroups))),
                        (User) uMgr.getAuthorizableByPath(memberPaths.get(random.nextInt(numberOfMembers))));
            }
        } catch (RepositoryException e) {
```

### DataFlowIssue
Argument `title` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
            case XMLStreamConstants.END_ELEMENT:
                if ("page".equals(reader.getLocalName())) {
                    String name = Text.escapeIllegalJcrChars(title);
                    Node parent = wikipedia;
                    if (levels > 0) {
```

### DataFlowIssue
Dereference of `facets` may produce `NullPointerException`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/FacetSearchTest.java`
#### Snippet
```java
        for (String dim : dims) {
            List<FacetResult.Facet> facets = facetResult.getFacets(dim);
            for (FacetResult.Facet facet : facets) {
                map.put(facet.getLabel(), facet.getCount());
            }
```

### DataFlowIssue
Argument `defConfig` might be null
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/AbstractExternalTest.java`
#### Snippet
```java
            PrincipalConfiguration defConfig = composite.getDefaultConfig();
            composite.addConfiguration(externalPrincipalConfiguration);
            composite.addConfiguration(defConfig);
        }
        return delegate;
```

### DataFlowIssue
Method invocation `definesLocation` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
            }
            for (Context ctx : delegatees) {
                if (ctx.definesLocation(location)) {
                    return true;
                }
```

### DataFlowIssue
Method invocation `definesTree` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
            }
            for (Context ctx : delegatees) {
                if (ctx.definesTree(tree)) {
                    return true;
                }
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
                } else {
                    for (Context ctx : delegatees) {
                        if (ctx.equals(c)) {
                            return;
                        }
```

### DataFlowIssue
Method invocation `definesContextRoot` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
            }
            for (Context ctx : delegatees) {
                if (ctx.definesContextRoot(tree)) {
                    return true;
                }
```

### DataFlowIssue
Method invocation `getContext` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
        @Override
        public Context apply(SecurityConfiguration input) {
            return input.getContext();
        }
    }
```

### DataFlowIssue
Method invocation `definesInternal` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
            }
            for (Context ctx : delegatees) {
                if (ctx.definesInternal(tree)) {
                    return true;
                }
```

### DataFlowIssue
Method invocation `definesProperty` may produce `NullPointerException`
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
            }
            for (Context ctx : delegatees) {
                if (ctx.definesProperty(parent, property)) {
                    return true;
                }
```

### DataFlowIssue
Dereference of `directory.listFiles()` may produce `NullPointerException`
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
                NAME,
                () -> maxCacheSizeBytes,
                () -> Long.valueOf(directory.listFiles().length),
                () -> FileUtils.sizeOfDirectory(directory),
                () -> evictionCount.get());
```

## RuleId[id=DeprecatedIsStillUsed]
### DeprecatedIsStillUsed
Deprecated member 'addMountInfoConfigFromProperties' is still used
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/MountInfoProviderService.java`
#### Snippet
```java
     */
    @Deprecated
    private void addMountInfoConfigFromProperties(Props mountInfoProps) {
        String[] paths = mountInfoProps.mountedPaths();
        String mountName = mountInfoProps.mountName();
```

### DeprecatedIsStillUsed
Deprecated member 'PartialConflictHandler' is still used
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/PartialConflictHandler.java`
#### Snippet
```java
 */
@Deprecated
public interface PartialConflictHandler {

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getFulltextConditions' is still used
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/Filter.java`
#### Snippet
```java
     */
    @Deprecated
    Collection<String> getFulltextConditions();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getExecutionTime' is still used
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/IndexStatsMBean.java`
#### Snippet
```java
     */
    @Deprecated
    CompositeData getExecutionTime();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'CacheLIRS' is still used
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java
    @Deprecated(since = "1.20.0", forRemoval = true)
    @SuppressWarnings("unchecked")
    CacheLIRS(Weigher<K, V> weigher, long maxMemory, int averageMemory,
            int segmentCount, int stackMoveDistance, final CacheLoader<K, V> loader,
            EvictionCallback<K, V> evicted, String module) {
```

### DeprecatedIsStillUsed
Deprecated member 'setNodeCachePredicate' is still used
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBuilder.java`
#### Snippet
```java
     */
    @Deprecated
    public T setNodeCachePredicate(Predicate<String> p){
        this.nodeCachePredicate = input -> input != null && p.apply(input.toString());
        return thisBuilder();
```

### DeprecatedIsStillUsed
Deprecated member 'TransformingComparator' is still used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
         */
        @Deprecated(since = "1.50.0", forRemoval = true)
        public TransformingComparator(Comparator<String> delegate, final com.google.common.base.Function<String, String> func) {
            GuavaDeprecation.handleCall("OAK-10109");
            this.delegate = delegate;
```

### DeprecatedIsStillUsed
Deprecated member 'BurnOnCloseFileIterator' is still used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
     */
    @Deprecated(since = "1.20.0", forRemoval = true)
    public static class BurnOnCloseFileIterator<T> extends AbstractIterator<T> implements Closeable {
        private final Logger log = LoggerFactory.getLogger(getClass());

```

### DeprecatedIsStillUsed
Deprecated member 'FileLineDifferenceIterator' is still used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
     */
    @Deprecated(since = "1.20.0", forRemoval = true)
    public static class FileLineDifferenceIterator extends AbstractIterator<String> implements Closeable {
        private final PeekingIterator<String> peekMarked;
        private final LineIterator marked;
```

### DeprecatedIsStillUsed
Deprecated member 'LazyInputStream' is still used
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/LazyInputStream.java`
#### Snippet
```java
     */
    @Deprecated(since = "1.20.0", forRemoval = true)
    public LazyInputStream(ByteSource byteSource) {
        super(null);
        this.byteSource = byteSource;
```

### DeprecatedIsStillUsed
Deprecated member 'ExternalGroupRef' is still used
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/ExternalGroupRef.java`
#### Snippet
```java
 */
@Deprecated
public class ExternalGroupRef extends ExternalIdentityRef {

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'joinPaths' is still used
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/basic/DefaultSyncContext.java`
#### Snippet
```java
     */
    @Deprecated
    public static String joinPaths(String... paths) {
        return PathUtils.concatRelativePaths(paths);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'NodeCounterEditorOld' is still used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/NodeCounterEditorOld.java`
#### Snippet
```java
 */
@Deprecated
public class NodeCounterEditorOld implements Editor {

    public static final String DATA_NODE_NAME = ":index";
```

### DeprecatedIsStillUsed
Deprecated member 'NodeCounterOld' is still used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/counter/jmx/NodeCounterOld.java`
#### Snippet
```java
 */
@Deprecated
public class NodeCounterOld extends AnnotatedStandardMBean implements NodeCounterMBean {

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'SecurityProviderImpl' is still used
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/SecurityProviderImpl.java`
#### Snippet
```java
 */
@Deprecated
public class SecurityProviderImpl implements SecurityProvider, WhiteboardAware {

    private volatile AuthenticationConfiguration authenticationConfiguration;
```

### DeprecatedIsStillUsed
Deprecated member 'getOldClient' is still used
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticConnection.java`
#### Snippet
```java
     * @return the old Elasticsearch client
     */
    public RestHighLevelClient getOldClient() {
        return getClients().rhlClient;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'INDEX_PATH' is still used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexConstants.java`
#### Snippet
```java
     */
    @Deprecated
    String INDEX_PATH = "indexPath";
}

```

### DeprecatedIsStillUsed
Deprecated member 'TapeSampling' is still used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/util/TapeSampling.java`
#### Snippet
```java
 */
@Deprecated
public class TapeSampling<T> {
    private final Random rGen;
    private final Iterator<T> input;
```

### DeprecatedIsStillUsed
Deprecated member 'FulltextQueryTermsProvider' is still used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/spi/FulltextQueryTermsProvider.java`
#### Snippet
```java
 */
@Deprecated
public interface FulltextQueryTermsProvider {
    /**
     * Implementation which doesn't do anything useful... yet, abides with the contract.
```

### DeprecatedIsStillUsed
Deprecated member 'IndexFieldProvider' is still used
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/spi/IndexFieldProvider.java`
#### Snippet
```java
 */
@Deprecated
public interface IndexFieldProvider {
    /**
     * Implementation which doesn't do anything useful... yet, abides with the contract.
```

### DeprecatedIsStillUsed
Deprecated member 'LoginModuleStatsCollector' is still used
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginModuleStatsCollector.java`
#### Snippet
```java
@Deprecated
@ProviderType
public interface LoginModuleStatsCollector {

    void setLoginModuleMonitor(@NotNull LoginModuleMonitor lmm);
```

### DeprecatedIsStillUsed
Deprecated member 'LoginModuleStats' is still used
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginModuleStats.java`
#### Snippet
```java
 */
@Deprecated
public class LoginModuleStats implements LoginModuleMBean, LoginModuleMonitor {

    private final StatisticsProvider statisticsProvider;
```

## RuleId[id=Convert2MethodRef]
### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentAzureFactory.java`
#### Snippet
```java

        File tmpDir = Files.createTempDir();
        closer.register(() -> tmpDir.delete());
        FileStoreBuilder builder = FileStoreBuilder.fileStoreBuilder(tmpDir)
                .withCustomPersistence(azPersistence).withMemoryMapping(false);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java

    public void migrate() throws IOException, ExecutionException, InterruptedException {
        runWithRetry(() -> migrateJournal(), 16, 5);
        runWithRetry(() -> migrateGCJournal(), 16, 5);
        runWithRetry(() -> migrateManifest(), 16, 5);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
    public void migrate() throws IOException, ExecutionException, InterruptedException {
        runWithRetry(() -> migrateJournal(), 16, 5);
        runWithRetry(() -> migrateGCJournal(), 16, 5);
        runWithRetry(() -> migrateManifest(), 16, 5);
        migrateArchives();
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
        runWithRetry(() -> migrateJournal(), 16, 5);
        runWithRetry(() -> migrateGCJournal(), 16, 5);
        runWithRetry(() -> migrateManifest(), 16, 5);
        migrateArchives();
    }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/S3Directory.java`
#### Snippet
```java

    public List<String> listPrefixes() throws IOException {
        return listObjectsInternal("", result -> result.getCommonPrefixes());
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/S3Directory.java`
#### Snippet
```java

    public List<S3ObjectSummary> listObjects(String prefix) throws IOException {
        return listObjectsInternal(prefix, result -> result.getObjectSummaries());
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/DynamoDBClient.java`
#### Snippet
```java
                .collect(Collectors.groupingBy(x -> counter.getAndIncrement() / TABLE_MAX_BATCH_WRITE_SIZE))
                .values()
                .forEach(chunk -> putDocumentsChunked(chunk));
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java

    public void migrate() throws IOException, ExecutionException, InterruptedException {
        runWithRetry(() -> migrateJournal(), 16, 5);
        runWithRetry(() -> migrateGCJournal(), 16, 5);
        runWithRetry(() -> migrateManifest(), 16, 5);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
    public void migrate() throws IOException, ExecutionException, InterruptedException {
        runWithRetry(() -> migrateJournal(), 16, 5);
        runWithRetry(() -> migrateGCJournal(), 16, 5);
        runWithRetry(() -> migrateManifest(), 16, 5);
        migrateArchives();
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
        runWithRetry(() -> migrateJournal(), 16, 5);
        runWithRetry(() -> migrateGCJournal(), 16, 5);
        runWithRetry(() -> migrateManifest(), 16, 5);
        migrateArchives();
    }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java

    private void migrateBinaryRef(SegmentArchiveReader reader, SegmentArchiveWriter writer) throws IOException, ExecutionException, InterruptedException {
        Future<Buffer> future = executor.submit(() -> runWithRetry(() -> reader.getBinaryReferences(), 16, 5));
        Buffer binaryReferences = future.get();
        if (binaryReferences != null) {
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java
    private Iterable<NodeStateEntry> getIncludedDocs() {
        return FluentIterable.from(getDocsFilteredByPath())
                .filter(doc -> includeDoc(doc))
                .transformAndConcat(doc -> getEntries(doc));
    }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/NodeStateEntryTraverser.java`
#### Snippet
```java
        return FluentIterable.from(getDocsFilteredByPath())
                .filter(doc -> includeDoc(doc))
                .transformAndConcat(doc -> getEntries(doc));
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
                return tracker.getServices();
            } else {
                return ImmutableList.copyOf(Iterables.filter(tracker.getServices(), (input) -> predicate.test(input)));
            }
        } finally {
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/ManagementOperation.java`
#### Snippet
```java
            @NotNull Callable<R> task) {
        GuavaDeprecation.handleCall("OAK-8687");
        return new ManagementOperation<R>(name, () -> statusMessage.get(), task);
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/index/indexer/document/flatfile/ChildNodeStateProvider.java`
#### Snippet
```java

    public Iterable<String> getChildNodeNames() {
        return () -> transform(children(), p -> name(p));
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeState.java`
#### Snippet
```java
            @Override
            public Iterable<DocumentNodeState> children(DocumentNodeState root) {
                return Iterables.transform(() -> root.getBundledChildren(), ce -> (DocumentNodeState)ce.getNodeState());
            }
        }.preOrderTraversal(this)
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            @NotNull com.google.common.base.Function<String, String> transformer, @Nullable Logger logger, @Nullable String message) throws IOException {
        GuavaDeprecation.handleCall("OAK-8677");
        Function<String, String> tr2 = (s) -> transformer.apply(s);
        return writeStrings(iterator, f, escape, tr2, logger, message);
    }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
     */
    public static Iterable<String> pathToId(@NotNull Iterable<String> paths) {
        return transform(paths, input -> getIdFromPath(input));
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/EntryPredicate.java`
#### Snippet
```java
    @NotNull
    static Predicate<PermissionEntry> create() {
        return permissionEntry -> permissionEntry.matches();
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
        simplify(newIndexes);

        List<IndexName> newNames = newIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());
        List<IndexName> allNames = oldIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
        List<IndexName> newNames = newIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());
        List<IndexName> allNames = oldIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
        try {
            return Files.walk(indexPath).
            filter(path -> Files.isRegularFile(path)).
            filter(path -> path.toString().endsWith(".json")).
            filter(path -> !path.toString().endsWith("allnamespaces.json")).
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
        // instead, lucene-2 will be used

        List<IndexName> newNames = newIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());
        Collections.sort(newNames);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDefMergerUtils.java`
#### Snippet
```java
                .collect(Collectors.toList());
        Collections.sort(newNames);
        List<IndexName> allNames = allIndexes.getChildren().keySet().stream().map(s -> IndexName.parse(s))
                .collect(Collectors.toList());
        Collections.sort(allNames);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexPathServiceImpl.java`
#### Snippet
```java
        return () -> {
            Iterator<IndexRow> itr = getIndex().query(createFilter(INDEX_DEFINITIONS_NODE_TYPE), nodeStore.getRoot());
            return transform(itr, input -> input.getPath());
        };
    }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexEditor.java`
#### Snippet
```java
                            roBuilder = index;
                        } else {
                            roBuilder = () -> EMPTY_NODE.builder();
                        }
                        keysToCheckForUniqueness.addAll(getExistingKeys(
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
                    if (ti != null) {
                        TokenCredentials tc = new TokenCredentials(ti.getToken());
                        ti.getPrivateAttributes().forEach((key, value) -> tc.setAttribute(key, value));
                        ti.getPublicAttributes().forEach((key, value) -> tc.setAttribute(key, value));
                        sharedState.put(SHARED_KEY_ATTRIBUTES, ti.getPublicAttributes());
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
                        TokenCredentials tc = new TokenCredentials(ti.getToken());
                        ti.getPrivateAttributes().forEach((key, value) -> tc.setAttribute(key, value));
                        ti.getPublicAttributes().forEach((key, value) -> tc.setAttribute(key, value));
                        sharedState.put(SHARED_KEY_ATTRIBUTES, ti.getPublicAttributes());
                        updateSubject(subject, tc, null);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
    private static AuthInfo getAuthInfo(@NotNull TokenInfo tokenInfo, @NotNull Iterable<? extends Principal> principals) {
        Map<String, Object> attributes = new HashMap<>();
        tokenInfo.getPublicAttributes().forEach((key, value) -> attributes.put(key, value));
        return new AuthInfoImpl(tokenInfo.getUserId(), attributes, principals);
    }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/MultiplexingIndexWriter.java`
#### Snippet
```java
                .filter(m ->  reindex && !m.isReadOnly()) // only needed when re-indexing for read-write mounts.
                                                         // reindex for ro-mount doesn't make sense in this case anyway.
                .forEach(m -> getWriter(m)); // open default writers for mounts that passed all our tests

        boolean indexUpdated = false;
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
    }
    try {
      CountingInputStream stream = new CountingInputStream(new LazyInputStream(() -> v.getNewStream()));
      try {
        if (length > SMALL_BINARY) {
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public List<ThreeWayConflictHandler> getConflictHandlers() {
        return ImmutableList.copyOf(Iterables.concat(Lists.transform(getConfigurations(), securityConfiguration -> securityConfiguration.getConflictHandlers())));
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
                () -> Long.valueOf(directory.listFiles().length),
                () -> FileUtils.sizeOfDirectory(directory),
                () -> evictionCount.get());
    }

```

## RuleId[id=ComparatorCombinators]
### ComparatorCombinators
Can be replaced with 'Comparator.comparing'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        } else {
            List<Map.Entry<String, Long>> tmp = new ArrayList<>(cnUpdates.entrySet());
            Collections.sort(tmp, (Entry<String, Long> o1, Entry<String, Long> o2) -> o1.getKey().compareTo(o2.getKey()));
            return " (Cluster Node updates: " + tmp.toString() + ")";
        }
```

## RuleId[id=RedundantCollectionOperation]
### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsValue()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/LocalNameMapper.java`
#### Snippet
```java
                String mapping = getNamespacesProperty(jcrPrefix);
                if (mapping != null
                        && local.values().contains(mapping)) {
                    return null;
                }
```

## RuleId[id=AbstractMethodCallInConstructor]
### AbstractMethodCallInConstructor
Call to 'abstract' method `getBound()` during object construction
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/NumericConstraint.java`
#### Snippet
```java

                // group 2 is lower, group 3 is upper bound
                lowerBound = getBound(matcher.group(2));
                upperBound = getBound(matcher.group(3));

```

### AbstractMethodCallInConstructor
Call to 'abstract' method `getBound()` during object construction
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/constraint/NumericConstraint.java`
#### Snippet
```java
                // group 2 is lower, group 3 is upper bound
                lowerBound = getBound(matcher.group(2));
                upperBound = getBound(matcher.group(3));

                // group 4 is upper bound inclusive/exclusive
```

### AbstractMethodCallInConstructor
Call to 'abstract' method `checkValidTree()` during object construction
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableImpl.java`
#### Snippet
```java
    AuthorizableImpl(@NotNull String id, @NotNull Tree tree,
                     @NotNull UserManagerImpl userManager) throws RepositoryException {
        checkValidTree(tree);

        this.id = id;
```

### AbstractMethodCallInConstructor
Call to 'abstract' method `createRepositoryPermission()` during object construction
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositePermissionProvider.java`
#### Snippet
```java
        this.treeProvider = treeProvider;

        repositoryPermission = createRepositoryPermission();
        immutableRoot = rootProvider.createReadOnlyRoot(root);
        privilegeBitsProvider = new PrivilegeBitsProvider(immutableRoot);
```

## RuleId[id=NonSerializableFieldInSerializableClass]
### NonSerializableFieldInSerializableClass
Non-serializable field 'jndiContext' in a Serializable class
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
     * the initialized initial context
     */
    private InitialContext jndiContext;

    /**
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'config' in a Serializable class
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
     * the bootstrap config
     */
    private BootstrapConfig config;

    /**
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'config' in a Serializable class
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
     * The bootstrap configuration
     */
    private BootstrapConfig config;

    /**
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'jndiContext' in a Serializable class
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryStartupServlet.java`
#### Snippet
```java
     * the jndi context; created based on configuration
     */
    private InitialContext jndiContext;

    private Registry rmiRegistry = null;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'segment' in a Serializable class
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/queue/SegmentWriteQueue.java`
#### Snippet
```java
    public static class SegmentConsumeException extends Exception {

        private final SegmentWriteAction segment;

        public SegmentConsumeException(SegmentWriteAction segment, Exception cause) {
```

## RuleId[id=CatchMayIgnoreException]
### CatchMayIgnoreException
Empty `catch` block
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/DynamoDBClient.java`
#### Snippet
```java
        try {
            Thread.sleep(1L);
        } catch (InterruptedException e) {
        }
        return new Item()
```

### CatchMayIgnoreException
Empty `catch` block
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/BlobStoreFixture.java`
#### Snippet
```java
            try {
                result = loadAndTransformProps(cfgFile);
            } catch (IOException e) {
            }
        }
```

### CatchMayIgnoreException
Empty `catch` block
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
                        connectionMap.remove(k);
                    }
                } catch (SQLException ex) {
                }
            });
```

### CatchMayIgnoreException
Empty `catch` block
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                try {
                    buffer.close();
                } catch (Exception e) {}
            }
            for (File f : files) {
```

### CatchMayIgnoreException
Empty `catch` block
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
                Thread.sleep(100 * tries);
            }
            catch (InterruptedException e) { }
        }
        return bucketExists;
```

### CatchMayIgnoreException
Empty `catch` block
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                    LOG.info("Rename S3 keys tasks timedout. Waiting again");
                }
            } catch (InterruptedException ie) {

            }
```

## RuleId[id=MismatchedJavadocCode]
### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/QueryEngineSettingsMBean.java`
#### Snippet
```java
     * Whether Path restrictions are enabled while figuring out index plan
     *
     * @return true if enabled
     */
    String getStrictPathRestriction();
```

### MismatchedJavadocCode
Method is specified to return map but the return type is list
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ConsolidatedListenerMBeanImpl.java`
#### Snippet
```java
     * based on the JMX ObjectName service property of the MBean
     *
     * @return map of EventListenerMBean and corresponding Observer
     */
    private List<ListenerMBeans> getListenerMBeans() {
```

### MismatchedJavadocCode
Method is specified to return list but the return type is array
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/jmx/SynchronizationMBean.java`
#### Snippet
```java
     * Returns a list of orphaned users, i.e. users that don't exist anymore on the IDP. Note that this can be an
     * expensive operation since all potential users need to be examined.
     * @return a list of the user ids of orphaned users.
     */
    @NotNull
```

### MismatchedJavadocCode
Method is specified to return list but the return type is array
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterConfigMBean.java`
#### Snippet
```java
    /**
     * A set of paths, potentially containing globs, that include all events of this filter.
     * @return  list of paths
     * @see org.apache.jackrabbit.oak.plugins.observation.filter.FilterBuilder#addSubTree(String)
     */
```

### MismatchedJavadocCode
Method is specified to return list but the return type is set
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/async/ElasticResponseListener.java`
#### Snippet
```java
     * Returns the source fields this listener is interested on
     *
     * @return the list of fields to listen to (only PATH as default)
     */
    default Set<String> sourceFields() {
```

### MismatchedJavadocCode
Method is specified to return list but the return type is array
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/util/FunctionIndexProcessor.java`
#### Snippet
```java
     *
     * @param functionCode the tokens, for example ["function", "lower", "@name"]
     * @return the list of properties, for example ["name"]
     */
    public static String[] getProperties(String[] functionCode) {
```

## RuleId[id=AssignmentToForLoopParameter]
### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/LikePattern.java`
#### Snippet
```java
                    return;
                }
                c = p.charAt(++i);
                type = MATCH;
                lastAny = false;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `j`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
                        increment(summary, groupName, 0);
                    }
                    j++;
                }
            }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopBuilder.java`
#### Snippet
```java
                        buff.append(c);
                        buff.append(s.charAt(i + 1));
                        i += 1;
                    } else {
                        // broken surrogate -> escape
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
                    throw getFormatException(s, i);
                }
                c = s.charAt(++i);
                switch (c) {
                    case '"':
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopTokenizer.java`
#### Snippet
```java
                            throw getFormatException(s, i);
                        }
                        i += 4;
                        buff.append(c);
                        break;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
                    case 'n':
                        sb.append('\n');
                        i++;
                        break;
                    case 'r':
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
                    case 'r':
                        sb.append('\r');
                        i++;
                        break;
                    case '\\':
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/EscapeUtils.java`
#### Snippet
```java
                    case '\\':
                        sb.append('\\');
                        i++;
                        break;
                    default:
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
                    buff = new StringBuilder(key.substring(0, i));
                }
                c = key.charAt(++i);
                if (c == '\\') {
                    // ok
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                param = args[i];
                if ("-u".equals(param) || "--username".equals(param)) {
                    user = args[++i];
                } else if ("-p".equals(param) || "--password".equals(param)) {
                    pw = args[++i];
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    user = args[++i];
                } else if ("-p".equals(param) || "--password".equals(param)) {
                    pw = args[++i];
                } else if ("-c".equals(param) || "--collection".equals(param)) {
                    table = args[++i];
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    pw = args[++i];
                } else if ("-c".equals(param) || "--collection".equals(param)) {
                    table = args[++i];
                } else if ("-j".equals(param) || "--jdbc-url".equals(param)) {
                    url = args[++i];
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    table = args[++i];
                } else if ("-j".equals(param) || "--jdbc-url".equals(param)) {
                    url = args[++i];
                } else if ("-q".equals(param) || "--query".equals(param)) {
                    query = args[++i];
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    url = args[++i];
                } else if ("-q".equals(param) || "--query".equals(param)) {
                    query = args[++i];
                } else if ("-o".equals(param) || "--out".equals(param)) {
                    OutputStream os = new FileOutputStream(args[++i]);
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    query = args[++i];
                } else if ("-o".equals(param) || "--out".equals(param)) {
                    OutputStream os = new FileOutputStream(args[++i]);
                    out = new PrintStream(os, true, "UTF-8");
                } else if ("--from-db2-dump".equals(param)) {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    out = new PrintStream(os, true, "UTF-8");
                } else if ("--from-db2-dump".equals(param)) {
                    dumpfile = args[++i];
                } else if ("--lobdir".equals(param)) {
                    lobdir = args[++i];
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    dumpfile = args[++i];
                } else if ("--lobdir".equals(param)) {
                    lobdir = args[++i];
                } else if ("--jsonArray".equals(param)) {
                    format = Format.JSONARRAY;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    format = Format.CSV;
                } else if ("--columns".equals(param)) {
                    columns = args[++i];
                } else if ("--fields".equals(param)) {
                    String fields = args[++i];
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    columns = args[++i];
                } else if ("--fields".equals(param)) {
                    String fields = args[++i];
                    fieldList = Arrays.asList(fields.split(","));
                } else if ("--version".equals(param)) {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                        // quoted quote char
                        value.append(c);
                        i += 1;
                    } else {
                        inQuoted = false;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                if (c == '\"') {
                    while (true) {
                        c = line.charAt(++i);
                        if (c == '\"') {
                            break;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                            break;
                        } else if (c == '\\') {
                            ++i;
                        }
                    }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `param`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                    .equals("--maxtmpfiles"))
                    && args.length > param + 1) {
                param++;
                maxtmpfiles = Integer.parseInt(args[param]);
                if (headersize < 0) {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `param`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                    .equals("--maxmembytes"))
                    && args.length > param + 1) {
                param++;
                maxMemory = Long.parseLong(args[param]);
                if (headersize < 0) {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `param`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
                    .equals("--charset"))
                    && args.length > param + 1) {
                param++;
                cs = Charset.forName(args[param]);
            } else if (args[param].equals("-z") || args[param]
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `param`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
            } else if ((args[param].equals("-H") || args[param]
                    .equals("--header")) && args.length > param + 1) {
                param++;
                headersize = Integer.parseInt(args[param]);
                if (headersize < 0) {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `param`
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
            } else if ((args[param].equals("-s") || args[param]
                    .equals("--store")) && args.length > param + 1) {
                param++;
                tempFileStore = new File(args[param]);
            } else {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                types[i] = type = CHAR_IGNORE;                
                startLoop = i;
                i += 2;
                checkRunOver(i, len, startLoop);
                while (command[i] != '*' || command[i + 1] != '/') {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                checkRunOver(i, len, startLoop);
                while (command[i] != '*' || command[i + 1] != '/') {
                    i++;
                    checkRunOver(i, len, startLoop);
                }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                    checkRunOver(i, len, startLoop);
                }
                i++;          
                break;
            case '[':
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                startLoop = i;
                while (true) {
                    while (command[++i] != ']') {
                        checkRunOver(i, len, startLoop);
                    }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                        break;
                    }
                    i++;
                }
                break;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                types[i] = type = CHAR_STRING;
                startLoop = i;
                while (command[++i] != '\'') {
                    checkRunOver(i, len, startLoop);
                }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/SQL2Parser.java`
#### Snippet
```java
                types[i] = type = CHAR_QUOTED;
                startLoop = i;
                while (command[++i] != '\"') {
                    checkRunOver(i, len, startLoop);
                }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                types[i] = CHAR_STRING;
                startLoop = i;
                while (command[++i] != '\'') {
                    checkRunOver(i, len, startLoop);
                }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                types[i] = CHAR_STRING;
                startLoop = i;
                while (command[++i] != '\"') {
                    checkRunOver(i, len, startLoop);
                }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `j`
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeTreePermission.java`
#### Snippet
```java
                        tps[j] = tp;
                        pvds[j] = provider;
                        j++;
                    }
                }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RemoveMembersTest.java`
#### Snippet
```java
                for (int j = 0; j < batchSize; j++) {
                    ids.add(USER + random.nextInt(numberOfMembers));
                    i++;
                }
                group.removeMembers(ids.toArray(new String[ids.size()]));
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddUniqueMembersTest.java`
#### Snippet
```java
                for (int j = 0; j < batchSize && i <= numberOfMembers; j++) {
                    ids.add(USER + i + "_" + uid);
                    i++;
                }
                failed = group.addMembers(ids.toArray(new String[ids.size()]));
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddMembersTest.java`
#### Snippet
```java
                for (int j = 0; j < batchSize && i <= numberOfMembers; j++) {
                    ids.add(USER + i);
                    i++;
                }
                group.addMembers(ids.toArray(new String[ids.size()]));
```

## RuleId[id=UnnecessaryToStringCall]
### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
                            DataStoreCacheUtils.recursiveDelete(cachedFile, cacheRoot);
                            LOG.info("File [{}] evicted with reason [{}]", cachedFile, cause
                                .toString());
                        }
                    } catch (IOException e) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                statsCollector.updateMarkDuration(markFinish, TimeUnit.MILLISECONDS);
                LOG.info("Blob garbage collection Mark completed in {} ({} ms).",
                    sw.toString(), sw.elapsed(TimeUnit.MILLISECONDS));
            }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    long maxTime = getMaxModifiedTime(markStart) > 0 ? getMaxModifiedTime(markStart) : markStart;
                    LOG.info("Blob garbage collection completed in {} ({} ms). Number of blobs deleted [{}] with max modification time of [{}]",
                        sw.toString(), sw.elapsed(TimeUnit.MILLISECONDS), deleteCount, timestampToString(maxTime));

                    threw = false;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                
                if (refFiles.size() > 0) {
                    File temp = new File(root, repoId + UUID.randomUUID().toString());
                    copyFile(fs.getMarkedRefs(), temp);

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
        return new DataIdentifier(
                String.format("%s-%d",
                        UUID.randomUUID().toString(),
                        Instant.now().toEpochMilli()
                )
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/AzureBlobStoreBackend.java`
#### Snippet
```java
            }

            String cacheKey = identifier.toString()
                    + domain
                    + nullToEmpty(downloadOptions.getContentTypeHeader())
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextOr.java`
#### Snippet
```java
                buff.append('(');
            }
            buff.append(e.toString());
            if (e.getPrecedence() < getPrecedence()) {
                buff.append(')');
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/spi/query/fulltext/FullTextAnd.java`
#### Snippet
```java
                buff.append('(');
            }                
            buff.append(e.toString());
            if (e.getPrecedence() < getPrecedence()) {
                buff.append(')');
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
            Set<String> changedPaths = getModifiedPaths(baseState, nodeState);
            if (!changedPaths.isEmpty()) {
                throw new CommitFailedException("CompositeStore", 31, "Unable to perform changes on read-only mount " + mountedNodeStore.getMount().getName() + ". Failing paths: " + changedPaths.toString());
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
                        builder.append(p.getName()).append(": [...]");
                    } else {
                        builder.append(p.toString());
                    }
                    if (i.hasNext()) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
                whitelistThisCall |= ACCEPTEDCLASSES.contains(cn);
                if (!IGNOREDCLASSES.contains(cn) && !cn.startsWith("sun.reflect")) {
                    b.append(" ").append(e.toString());
                    depth += 1;
                }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/MongoFactory.java`
#### Snippet
```java
    @Override
    public String toString() {
        return String.format("DocumentNodeStore[%s]", uri.toString());
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/StoreArguments.java`
#### Snippet
```java
    private static void validateDescriptors(List<StoreDescriptor> descriptors, MigrationOptions options) throws CliArgumentException {
        if (descriptors.size() < 2) {
            throw new CliArgumentException("Not enough node store arguments: " + descriptors.toString(), 1);
        } else if (descriptors.size() > 2) {
            throw new CliArgumentException("Too much node store arguments: " + descriptors.toString(), 1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/parser/StoreArguments.java`
#### Snippet
```java
            throw new CliArgumentException("Not enough node store arguments: " + descriptors.toString(), 1);
        } else if (descriptors.size() > 2) {
            throw new CliArgumentException("Too much node store arguments: " + descriptors.toString(), 1);
        } else if (descriptors.get(1).getType() == JCR2_DIR_XML) {
            throw new CliArgumentException("Can't use CRX2 as a destination", 1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
        if (log.isDebugEnabled()) {
            log.debug("JCR query {} has been converted to Solr query {}",
                    filter.getQueryStatement(), solrQuery.toString());
        }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/Conversions.java`
#### Snippet
```java
            Calendar date = ISO8601.parse(toString());
            if (date == null) {
                throw new IllegalArgumentException("Not a date string: " + toString());
            }
            return date;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/DocumentStoreSplitter.java`
#### Snippet
```java
            splitPoints.append(" ").append(end);
        }
        log.info("Split points of _modified values {}", splitPoints.toString());
        return steps;
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/PropertiesUtil.java`
#### Snippet
```java
        }
        buff.append('}');
        log.debug("Configured object with properties {}", buff.toString());
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/indexversion/IndexVersionOperation.java`
#### Snippet
```java
                if (!isSameProductVersionBaseIndexPresent(reverseSortedIndexNameList, activeIndexNameObject)) {
                    LOG.warn("Repository don't have base index:{} with product version same as active index:{}",
                            activeIndexNameObject.getBaseName() + "-" + activeIndexNameObject.getProductVersion(), activeIndexNameObject.toString());
                }
                NodeState activeIndexNode = indexDefParentNode.getChildNode(PathUtils.getName(activeIndexNameObject.getNodeName()));
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Revision.java`
#### Snippet
```java
    public String toReadableString() {
        StringBuilder buff = new StringBuilder();
        buff.append("revision: \"").append(toString()).append("\"");
        buff.append(", clusterId: ").append(clusterId);
        buff.append(", time: \"").
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UpdateOp.java`
#### Snippet
```java
            String s = name;
            if (revision != null) {
                s += "." + revision.toString();
            }
            return s;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
            @Override
            public String apply(Revision input) {
                return input.getClusterId() + "=" + input.toString();
            }
        }), String.class);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            LOG.warn("Error getting the machine id; using a UUID", exception);
        }
        return RANDOM_PREFIX + UUID.randomUUID().toString();
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
                types.put(met.getColumnTypeName(i), met.getColumnType(i));
            }
            sb.append(" /* " + types.toString() + " */");
            return sb.toString();
        } catch (SQLException ex) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBBlobStore.java`
#### Snippet
```java

            LOG.info("RDBBlobStore (" + getModuleVersion() + ") instantiated for database " + dbDesc + ", using driver: "
                    + driverDesc + ", connecting to: " + dbUrl + (diag.isEmpty() ? "" : (", properties: " + diag.toString()))
                    + ", transaction isolation level: " + isolationDiags + ", " + tableInfo);
            if (!tablesPresent.isEmpty()) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJSONSupport.java`
#### Snippet
```java
            sb.append("null");
        } else if (value instanceof Number) {
            sb.append(value.toString());
        } else if (value instanceof Boolean) {
            sb.append(value.toString());
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJSONSupport.java`
#### Snippet
```java
            sb.append(value.toString());
        } else if (value instanceof Boolean) {
            sb.append(value.toString());
        } else if (value instanceof String) {
            appendJsonString(sb, (String) value);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
                    sb.append('.').append(e.getMethodName()).append('(').append(loc).append(')');
                } else {
                    sb.append(e.toString());
                }
                prevClass = e.getClassName();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
                if (cnt > 0) {
                    LOG.trace(cnt + " connections with age >= " + LOGTHRESHOLD + "ms active while obtaining new connection: "
                            + sb.toString());
                }
            }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
                if (lastRev != null) {
                    startTime = lastRev.getTimestamp();
                    reason = "lastRev: " + lastRev.toString();
                } else {
                    startTime = nodeInfo.getStartTime();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
                if (sweepRev != null && sweepRev.getTimestamp() < startTime) {
                    startTime = sweepRev.getTimestamp();
                    reason = "sweepRev: " + sweepRev.toString();
                }
                // are there branch commits that were merged right before the
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
                if (bc != null) {
                    startTime = bc.getTimestamp();
                    reason = "branchRev: " + bc.toString();
                }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                    } catch (Throwable t) {
                        failing = true;
                        LOG.warn("Background operation failed: " + t.toString(), t);
                    }
                    delay = delaySupplier.get();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                return;
            }
            LOG.warn("Background update operation failed (will be retried with next run): " + e.toString(), e);
            throw e;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        String result = "(successful)";
        if (ex != null) {
            result = "(with exception: " + ex.toString() + ")";
        }
        LOG.info("Disposed DocumentNodeStore with clusterNodeId: {}, {}",
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                return;
            }
            LOG.warn("Background sweep operation failed (will be retried with next run): " + e.toString(), e);
            throw e;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                return;
            }
            LOG.warn("Background read operation failed: " + e.toString(), e);
            throw e;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentSerializer.java`
#### Snippet
```java
                sb.append("\"*\",");
            } else {
                throw new DocumentStoreException("Can't serialize " + update.toString() + " for JSON append");
            }
            appendJsonString(sb, key.getName());
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
            String msg = String.format("Cluster id %d has a _lastRev %s (%s) " +
                    "newer than current time %s. Please check system time on " +
                    "cluster nodes.", clusterId, rev.toString(),
                    timestampToString(rev.getTimestamp()), timestampToString(now));
            throw new DocumentStoreException(msg);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
            buf.append("null");
        } else if (o instanceof Boolean) {
            buf.append(o.toString());
        } else if (o instanceof Long) {
            buf.append(((Long) o).longValue());
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        }
        log("// unexpected exception type: " + e.getClass().getName());
        return new DocumentStoreException("Unexpected exception: " + e.toString(), e);
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java

        if (sql.isEmpty()) {
            LOG.debug("{}: unsupported database, skipping DB server time check", this.dbInfo.toString());
            return 0;
        } else {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RepositoryAccessServlet.java`
#### Snippet
```java
                jndiContext = new InitialContext(config.getJndiConfig().getJndiEnv());
            } catch (NamingException e) {
                log.error("Create initial context: " + e.toString());
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/DebugStore.java`
#### Snippet
```java
        System.out.format("%s in %6d data segments%n", byteCountToDisplaySize(dataSize), dataCount);
        System.out.format("%s in %6d bulk segments%n", byteCountToDisplaySize(bulkSize), bulkCount);
        System.out.println(analyser.toString());

        Set<SegmentId> garbage = newHashSet(idmap.keySet());
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/PrintingDiff.java`
#### Snippet
```java
            val.append(" = ").append(ps.getValue(STRING));
        }
        return ps.getName() + "<" + ps.getType() + ">" + val.toString();
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/netty/SSLSubjectMatcher.java`
#### Snippet
```java
            if (!pattern.matcher(subject).matches()) {
                throw new Exception(
                    "Pattern match /" + pattern.toString() + "/ failed on: " + subject + "\n" +
                    "Note: the Java implementation of regex always implicitly matches from beginning to\n" +
                    "end, as in ^YOUR_PATTERN$, so if you want to match /acme/ anywhere in the subject\n" +
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PrintingDiff.java`
#### Snippet
```java
            val.append(" = ").append(ps.getValue(STRING));
        }
        return ps.getName() + "<" + ps.getType() + ">" + val.toString();
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                value = (Long) value + (Long) v2;
            } else {
                value = value.toString() + v2.toString();
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                value = (Long) value + (Long) v2;
            } else {
                value = value.toString() + v2.toString();
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDefinitionUpdater.java`
#### Snippet
```java
            if (sw.getBuffer().length() > 0) {
                pw.println(indent + "^ " + name);
                pw.print(sw.toString());
            }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/IndexDefinitionUpdater.java`
#### Snippet
```java
                val.append(" = ").append(ps.getValue(STRING));
            }
            return ps.getName() + "<" + ps.getType() + ">" + val.toString();
        }
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextPopulator.java`
#### Snippet
```java

            if (read%10000 == 0) {
                log.info("{} - currently at {}", this.toString(), path);
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/NativeFunctionImpl.java`
#### Snippet
```java
        // conditions
        if (!(selector.getIndex() instanceof NativeQueryIndex)) {
            log.warn("No full-text index was found that can process the condition " + toString());
            return false;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SpellcheckImpl.java`
#### Snippet
```java
        // conditions
        if (!(selector.getIndex() instanceof FulltextQueryIndex)) {
            log.warn("No full-text index was found that can process the condition " + toString());
            return false;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SimilarImpl.java`
#### Snippet
```java
        // conditions
        if (!(selector.getIndex() instanceof FulltextQueryIndex)) {
            log.warn("No full-text index was found that can process the condition " + toString());
            return false;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LengthImpl.java`
#### Snippet
```java
                        "Can not compare the length with a constant of type "
                                + PropertyType.nameFromValue(v.getType().tag()) +
                                " and value " + v.toString());
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SuggestImpl.java`
#### Snippet
```java
        // conditions
        if (!(selector.getIndex() instanceof FulltextQueryIndex)) {
            log.warn("No full-text index was found that can process the condition " + toString());
            return false;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/JoinImpl.java`
#### Snippet
```java
    public String getIndexCostInfo(NodeState rootState) {
        StringBuilder buff = new StringBuilder();
        buff.append(toString());
        buff.append("{ ");
        buff.append(left.getIndexCostInfo(rootState));
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
    public String getPlan(NodeState rootState) {
        StringBuilder buff = new StringBuilder();
        buff.append(toString());
        buff.append(" /* ");
        QueryIndex index = getIndex();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/SelectorImpl.java`
#### Snippet
```java
        }
        if (!selectorConstraints.isEmpty()) {
            buff.append(" where ").append(new AndImpl(selectorConstraints).toString());
        }
        buff.append(" */");
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsData.java`
#### Snippet
```java
                    buff.append("\n\tat " + e);
                }
                name = name + buff.toString();
            }
            lastThreadName = name;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

        LOG.info("RDBDocumentStore (" + getModuleVersion() + ") instantiated for database " + dbDesc + ", using driver: "
                + driverDesc + ", connecting to: " + dbUrl + (diag.isEmpty() ? "" : (", properties: " + diag.toString()))
                + ", transaction isolation level: " + isolationDiags + tableDiags);
        if (!tablesPresent.isEmpty()) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            List<Map.Entry<String, Long>> tmp = new ArrayList<>(cnUpdates.entrySet());
            Collections.sort(tmp, (Entry<String, Long> o1, Entry<String, Long> o2) -> o1.getKey().compareTo(o2.getKey()));
            return " (Cluster Node updates: " + tmp.toString() + ")";
        }
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        tableMeta.forEach((k, v) -> toMapBuilder(builder, k, v));
        if (LOG.isDebugEnabled()) {
            LOG.debug("statistics obtained: " + builder.toString());
        }
        return builder.build();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            if (!requiredColumns.isEmpty()) {
                String message = String.format("Table %s: the following required columns are missing: %s", tableName,
                        requiredColumns.toString());
                LOG.error(message);
                throw new DocumentStoreException(message);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            if (!unknownColumns.isEmpty()) {
                String message = String.format("Table %s: the following columns are unknown and will not be maintained: %s",
                        tableName, unknownColumns.toString());
                LOG.info(message);
            }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                return String.format("%s %s %s", propertyName, operator, operands.get(0).toString());
            } else {
                return String.format("%s %s %s", propertyName, operator, operands.toString());
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        // select ...
        buff.append("select ");
        buff.append(new Expression.Property(columnSelector, QueryConstants.JCR_PATH, false).toString());
        if (selectors.size() > 1) {
            buff.append(" as ").append('[').append(QueryConstants.JCR_PATH).append(']');
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        }
        buff.append(", ");
        buff.append(new Expression.Property(columnSelector, QueryConstants.JCR_SCORE, false).toString());
        if (selectors.size() > 1) {
            buff.append(" as ").append('[').append(QueryConstants.JCR_SCORE).append(']');
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        if (columnList.isEmpty()) {
            buff.append(", ");
            buff.append(new Expression.Property(columnSelector, "*", false).toString());
        } else {
            for (int i = 0; i < columnList.size(); i++) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/Statement.java`
#### Snippet
```java
        // where ...
        if (where != null) {
            buff.append(" where ").append(where.toString());
        }
        
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/importer/IndexImporter.java`
#### Snippet
```java
                LOG.error("Unable to revert back index lanes for: "
                        + indexPathsToUpdate.stream().collect(StringBuilder::new, StringBuilder::append,
                        (a, b) -> a.append(",").append(b)).toString(), commitFailedException);
                throw e;
            }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/migration/report/ReportingNodeState.java`
#### Snippet
```java
    @Override
    public String toString() {
        return "ReportingNodeState{" + getPath() + ", " + delegate.toString() + "}";
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/NamePathMapperImpl.java`
#### Snippet
```java
        JcrPathParser.parse(jcrPath, listener);
        if (parseErrors.length() != 0) {
            log.debug("Could not parse path " + jcrPath + ": " + parseErrors.toString());
            return null;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
                uri = presignedURL.toURI();

                LOG.debug("Presigned {} URI for key {}: {}", method.name(), key, uri.toString());
            }
            catch (URISyntaxException e) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
        return new DataIdentifier(
                String.format("%s-%d",
                        UUID.randomUUID().toString(),
                        Instant.now().toEpochMilli()
                )
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
            }
            throw new DataStoreException(
                "Error occured to getObjectMetadata for key [" + identifier.toString() + "]", e);
        } finally {
            if (contextClassLoader != null) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
        } catch (IOException e) {
            log.warn("[{}] Error occurred while releasing reader instance {}",
                    definition.getIndexPath(), toString(), e);
        }
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/NRTIndex.java`
#### Snippet
```java
        for (IndexReader r : openedReaders){
            if (r.getRefCount() != 0){
                String msg = String.format("Unclosed reader found with refCount %d for index %s", r.getRefCount(), toString());
                throw new IllegalStateException(msg);
            }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
        log.trace("Directory overall size: {}, files: {}",
                org.apache.jackrabbit.oak.commons.IOUtils.humanReadableByteCount(overallSize),
                sb.toString());
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexSanityChecker.java`
#### Snippet
```java
                    localFileCount, IOUtils.humanReadableByteCount(localDirSize),
                    remoteFileCount, IOUtils.humanReadableByteCount(remoteDirSize),
                    stats.toString());
        } else {
            log.warn("Local index directory content were not found to be in sync with remote for index [{}]. " +
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
        System.out.format(
                "# %-26.26s       C     min     10%%     50%%     90%%     max     N       mean%s%n",
                toString(), statsNamesJoined(false));
        if (out != null) {
            out.format(
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
            out.format(
                    "# %-26.26s,      C,    min,    10%%,    50%%,    90%%,    max,    N      mean%s%n",
                    toString(), statsNamesJoined(true));
        }
        for (RepositoryFixture fixture : fixtures) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                    out.format(
                            "# %-26.26s       min     10%%     50%%     90%%     max       N%n",
                            benchmark.toString());
                }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/RemoteUtilities.java`
#### Snippet
```java

    public static String getSegmentFileName(long offset, long msb, long lsb) {
        return String.format("%04x.%s", offset, new UUID(msb, lsb).toString());
    }

```

## RuleId[id=Java9CollectionFactory]
### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/version/VersionConstants.java`
#### Snippet
```java
    String VERSION_STORE_PATH = '/' + JCR_SYSTEM + '/' + JCR_VERSIONSTORAGE;

    Collection<String> SYSTEM_PATHS = Collections.unmodifiableList(Arrays.asList(
            ACTIVITIES_PATH,
            CONFIGURATIONS_PATH,
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/version/VersionConstants.java`
#### Snippet
```java
    ));

    Collection<String> VERSION_NODE_NAMES = Collections.unmodifiableList(Arrays.asList(
            JCR_ACTIVITIES,
            JCR_CONFIGURATIONS,
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/version/VersionConstants.java`
#### Snippet
```java
    ));

    Collection<String> VERSION_PROPERTY_NAMES = Collections.unmodifiableList(Arrays.asList(
            JCR_ACTIVITY,
            JCR_ACTIVITY_TITLE,
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/version/VersionConstants.java`
#### Snippet
```java
    ));

    Collection<String> VERSION_NODE_TYPE_NAMES = Collections.unmodifiableList(Arrays.asList(
            NT_ACTIVITY,
            NT_CONFIGURATION,
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/namespace/NamespaceConstants.java`
#### Snippet
```java
     * Reserved namespace URIs as defined in jackrabbit 2
     */
    Collection<String> RESERVED_URIS = Collections.unmodifiableList(Arrays.asList(
            NamespaceRegistry.NAMESPACE_XML,
            NamespaceRegistry.NAMESPACE_JCR,
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/namespace/NamespaceConstants.java`
#### Snippet
```java
     * Reserved namespace prefixes as defined in jackrabbit 2
     */
    Collection<String> RESERVED_PREFIXES = Collections.unmodifiableList(Arrays.asList(
            NamespaceRegistry.PREFIX_XML,
            NamespaceRegistry.PREFIX_JCR,
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

    // see OAK-8702
    private static final List<String> ALLOWED_USERS = Collections.unmodifiableList(
            Arrays.asList(new String[] { "org.apache.jackrabbit.oak.plugins.blob.", "org.apache.jackrabbit.oak.plugins.document.",
                    "org.apache.jackrabbit.oak.segment.", "org.apache.jackrabbit.oak.plugins.segment." }));
```

### Java9CollectionFactory
Can be replaced with 'Set.of()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
        tmp.add("is not null");
        tmp.add("null or <");
        SUPPORTED_OPS = Collections.unmodifiableSet(tmp);
    }

```

### Java9CollectionFactory
Can be replaced with 'Set.of()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    // set of optional table columns
    private static final Set<String> OPTIONALCOLUMNS = Collections
            .unmodifiableSet(new HashSet<String>(Arrays.asList(new String[] { "version", "sdtype", "sdmaxrevtime" })));

    // set of properties not serialized to JSON
```

### Java9CollectionFactory
Can be replaced with 'Set.of()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java

    // set of required table columns
    private static final Set<String> REQUIREDCOLUMNS = Collections.unmodifiableSet(new HashSet<String>(Arrays.asList(
            new String[] { "id", "dsize", "deletedonce", "bdata", "data", "cmodcount", "modcount", "hasbinary", "modified" })));

```

### Java9CollectionFactory
Can be replaced with 'Map.of()' call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        tmp.put(Collection.NODES, "NODES");
        tmp.put(Collection.SETTINGS, "SETTINGS");
        TABLEMAP = Collections.unmodifiableMap(tmp);
        List<String> tl = new ArrayList<String>(TABLEMAP.values());
        Collections.sort(tl);
```

### Java9CollectionFactory
Can be replaced with 'Map.of()' call
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/BundleDescriptorComparator.java`
#### Snippet
```java

        defaultLevels.put("org.apache.felix.scr", 10);
        return Collections.unmodifiableMap(defaultLevels);
    }

```

### Java9CollectionFactory
Can be replaced with 'Set.of()' call
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexNameHelper.java`
#### Snippet
```java
    // these chars can be part of the name but are not allowed at the beginning
    private static final Set<Character> INVALID_NAME_START_CHARS =
            Collections.unmodifiableSet(new HashSet<>(Arrays.asList('.', '-', '_', '+')));

    private static final Pattern INVALID_START_CHARS_REGEX = Pattern.compile(INVALID_NAME_START_CHARS
```

### Java9CollectionFactory
Can be replaced with 'Set.of()' call
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexNameHelper.java`
#### Snippet
```java
    // ':' not supported in >= 7.0
    private static final Set<Character> INVALID_NAME_CHARS =
            Collections.unmodifiableSet(new HashSet<>(Arrays.asList('\\', '/', '*', '?', '"', '<', '>', '|', ' ', ',', ':')));

    private static final Pattern INVALID_CHARS_REGEX = Pattern.compile(INVALID_NAME_CHARS
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/MimeType.java`
#### Snippet
```java
    }
    
    private static final List<MimeType> VALUES = Collections.unmodifiableList(Arrays
        .asList(values()));
    private static final int SIZE = VALUES.size();
```

### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/util/Date.java`
#### Snippet
```java
    }

    private static final List<Date> VALUES = Collections.unmodifiableList(Arrays.asList(values()));
    private static final int SIZE = VALUES.size();
    private static final Random RND = new Random(30);
```

### Java9CollectionFactory
Can be replaced with 'Map.ofEntries()' call
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBits.java`
#### Snippet
```java
        privs.put(REP_WRITE, getInstance(WRITE2));

        BUILT_IN = Collections.unmodifiableMap(privs);

        Map<Long, String> bits = new HashMap<>();
```

### Java9CollectionFactory
Can be replaced with 'Map.ofEntries()' call
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBits.java`
#### Snippet
```java
        bits.put(WRITE2, REP_WRITE);

        BUILT_IN_BITS = Collections.unmodifiableMap(bits);
    }

```

## RuleId[id=InnerClassMayBeStatic]
### InnerClassMayBeStatic
Inner class `FSBackendDataRecord` may be 'static'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
     * FSBackendDataRecord which lazily retrieves the input stream of the record.
     */
    class FSBackendDataRecord extends AbstractDataRecord {
        private long length;
        private long lastModified;
```

### InnerClassMayBeStatic
Inner class `GarbageCollectionOperationStats` may be 'static'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    }

    class GarbageCollectionOperationStats implements OperationsStatsMBean {
        static final String NAME = "DataStoreGarbageCollection";
        static final String CONSISTENCY_NAME = "DataStoreConsistencyCheck";
```

### InnerClassMayBeStatic
Inner class `AggregationResult` may be 'static'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/QueueingHandler.java`
#### Snippet
```java
class QueueingHandler extends DefaultEventHandler {
    
    class AggregationResult {
        
        private final String name;
```

### InnerClassMayBeStatic
Inner class `Properties` may be 'static'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java
     * Properties that may be retrieved from the configuration {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
     */
    public final class Properties {
        // --> oak solr config properties <--
        public static final String PATH_FIELD = "pathField";
```

### InnerClassMayBeStatic
Inner class `Properties` may be 'static'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerConfigurationProvider.java`
#### Snippet
```java
     * Properties that may be retrieved from the configuration {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
     */
    public final class Properties {
        public static final String SERVER_TYPE = "solrServerType";

```

### InnerClassMayBeStatic
Inner class `SuspendedCommit` may be 'static'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/CommitQueue.java`
#### Snippet
```java
    }

    private class SuspendedCommit {

        private final Semaphore semaphore;
```

### InnerClassMayBeStatic
Inner class `Move` may be 'static'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/core/MutableRoot.java`
#### Snippet
```java
     * which will execute all moves in the list on the passed tree instance
     */
    class Move {

        /**
```

### InnerClassMayBeStatic
Inner class `UnsupportedIndexedPropertyException` may be 'static'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
    }

    protected class UnsupportedIndexedPropertyException extends DocumentStoreException {

        private static final long serialVersionUID = -8392572622365260105L;
```

### InnerClassMayBeStatic
Inner class `NodeTypeIndexFixerInitializer` may be 'static'
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    }

    private class NodeTypeIndexFixerInitializer implements RepositoryInitializer {

        @Override
```

### InnerClassMayBeStatic
Inner class `LuceneFullTextInitializer` may be 'static'
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java
    }

    private class LuceneFullTextInitializer implements RepositoryInitializer {
        @Override
        public void initialize(@NotNull NodeBuilder builder) {
```

### InnerClassMayBeStatic
Inner class `NOOPIndexEditor` may be 'static'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/index/ElasticIndexEditorProvider.java`
#### Snippet
```java
     * where OAK_INDEX_ELASTIC_WRITER_DISABLE = true is set as system property.
     */
    private class NOOPIndexEditor<D> extends FulltextIndexEditor<D> {
        public NOOPIndexEditor(FulltextIndexEditorContext<D> context) {
            super(context);
```

### InnerClassMayBeStatic
Inner class `CompositeFulltextQueryTermsProvider` may be 'static'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
    }

    class CompositeFulltextQueryTermsProvider implements FulltextQueryTermsProvider {

        private final String nodeType;
```

### InnerClassMayBeStatic
Inner class `CompositeIndexFieldProvider` may be 'static'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexAugmentorFactory.java`
#### Snippet
```java
    }

    class CompositeIndexFieldProvider implements IndexFieldProvider {

        private final String nodeType;
```

### InnerClassMayBeStatic
Inner class `COWFileReference` may be 'static'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/CopyOnWriteDirectory.java`
#### Snippet
```java
    }

    private abstract class COWFileReference {
        protected final String name;

```

### InnerClassMayBeStatic
Inner class `UUIDInitializer` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/SearchTest.java`
#### Snippet
```java


    protected class UUIDInitializer implements RepositoryInitializer {
        @Override
        public void initialize(@NotNull NodeBuilder builder) {
```

### InnerClassMayBeStatic
Inner class `Writer` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ContinuousRevisionGCTest.java`
#### Snippet
```java
    }

    private class Writer implements Runnable {

        private final Session s;
```

### InnerClassMayBeStatic
Inner class `Visitor` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentTraversalTest.java`
#### Snippet
```java
    }

    private final class Visitor extends TraversingItemVisitor.Default {

        private long propertyCnt;
```

### InnerClassMayBeStatic
Inner class `Listener` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
    }

    private class Listener implements EventListener {

        @Override
```

### InnerClassMayBeStatic
Inner class `Job` may be 'static'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/ConcurrentReader.java`
#### Snippet
```java
    }

    abstract class Job {
        final Node parent;
        final Session session;
```

## RuleId[id=NestedSynchronizedStatement]
### NestedSynchronizedStatement
Nested `synchronized` statement
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractBlob.java`
#### Snippet
```java
            synchronized (this) {
                if (hashCode != null) {
                    synchronized (that) {
                        if (that.hashCode != null) {
                            return hashCode.equals(that.hashCode);
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/cache/Cache.java`
#### Snippet
```java
            // another thread might have added it in the meantime
            V value;
            synchronized (map) {
                value = map.get(key);
            }
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarWriter.java`
#### Snippet
```java
            boolean doFlush;

            synchronized (this) {
                doFlush = archive.isCreated() && !closed;
            }
```

## RuleId[id=StringEqualsEmptyString]
### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FSBackend.java`
#### Snippet
```java
    public void init() throws DataStoreException {
        fsPath = properties.getProperty(FS_BACKEND_PATH);
        if (this.fsPath == null || "".equals(this.fsPath)) {
            throw new DataStoreException(
                "Could not initialize FSBackend from " + properties + ". [" + FS_BACKEND_PATH
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
                // otherwise append all the relativeGlobPaths, except ""
                for (String relativeGlobPath : relativeGlobPaths) {
                    if (relativeGlobPath.equals("")) {
                        // this corresponds to 'SELF' which is already included, so skip
                        continue;
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
            boolean includeThis = false;
            for (String aRelativeGlobPath : relativeGlobPaths) {
                if (aRelativeGlobPath.equals("") || aRelativeGlobPath.equals(".") || aRelativeGlobPath.equals("*")
                        || aRelativeGlobPath.equals("**")) {
                    includeThis = true;
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
            private SolrResultRow convertToRow(SolrDocument doc) {
                String path = String.valueOf(doc.getFieldValue(configuration.getPathField()));
                if ("".equals(path)) {
                    path = "/";
                }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/tool/AwsSegmentStoreMigrator.java`
#### Snippet
```java
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.length() > 0 && !line.trim().equals("")) {
                    journal.add(line);
                }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/AzureJournalFile.java`
#### Snippet
```java
                do {
                    line = currentReader.readLine();
                } while ("".equals(line));
                if (line == null) {
                    currentReader.close();
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/tool/SegmentStoreMigrator.java`
#### Snippet
```java
            String line;
            while ((line = reader.readLine()) != null) {
                if (line.length() > 0 && !line.trim().equals("")) {
                    journal.add(line);
                }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/OakFixture.java`
#### Snippet
```java
        private void configurePersistentCache(DocumentNodeStoreBuilder<?> builder) {
            //TODO Persistent cache should be removed in teardown
            if (!"".equals(PERSISTENT_CACHE)) {
                builder.setPersistentCache(PERSISTENT_CACHE);
            }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
            ArrayList<String> otherAddresses = new ArrayList<String>();
            String hwaFromSysProp = getHWAFromSystemProperty();
            if ("".equals(hwaFromSysProp)) {
                Enumeration<NetworkInterface> e = NetworkInterface
                        .getNetworkInterfaces();
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/client/StandbyClient.java`
#### Snippet
```java
                    if (builder.secure) {
                        SslContext sslContext;
                        if (builder.sslKeyFile != null && !"".equals(builder.sslKeyFile)) {
                            sslContext = SslContextBuilder.forClient().keyManager(new File(builder.sslChainFile), new File(builder.sslKeyFile), builder.sslKeyPassword).build();
                        } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/standby/server/StandbyServer.java`
#### Snippet
```java

        if (builder.secure) {
            if (builder.sslKeyFile != null && !"".equals(builder.sslKeyFile)) {
                sslContext = SslContextBuilder.forServer(new File(builder.sslChainFile), new File(builder.sslKeyFile), builder.sslKeyPassword).build();
            } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
                key = key.substring(0, lastAt);
            }
            if (!"".equals(revision) && !rev.startsWith(revision)) {
                continue;
            }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
         Map<String, String> meta = s.getMetaMap();
         boolean statsOnly = "".equalsIgnoreCase(map) && 
                 "".equals(revision) && 
                 "".equals(path);
         if (!statsOnly) {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/PersistentCacheCommand.java`
#### Snippet
```java
         boolean statsOnly = "".equalsIgnoreCase(map) && 
                 "".equals(revision) && 
                 "".equals(path);
         if (!statsOnly) {
             if (raw) {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        }

        if (! "".equals(dbInfo.getInitializationStatement())) {
            Statement stmt = null;
            try {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/xpath/XPathToSQL2Converter.java`
#### Snippet
```java
                pathPattern += "%";
                if (!currentSelector.isDescendant) {
                    if (selectors.size() == 0 && currentSelector.path.equals("")) {
                        // the query /* is special
                        currentSelector.path = "/";
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/strategy/ContentMirrorStoreStrategy.java`
#### Snippet
```java
                            p = PathUtils.concat(pathPrefix, p);
                        }
                        if (!"".equals(p) && 
                                !p.equals(filterPath) && 
                                !PathUtils.isAncestor(p, filterPath) && 
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        String endpoint = null;
        String propEndPoint = prop.getProperty(S3Constants.S3_END_POINT);
        if ((propEndPoint != null) & !"".equals(propEndPoint)) {
            endpoint = propEndPoint;
        } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticIndexNameHelper.java`
#### Snippet
```java

    static boolean isValidPrefix(@NotNull String prefix) {
        if (!prefix.equals("")) {
            return prefix.equals(prefix.toLowerCase()) && // it has to be lowercase
                    !INVALID_START_CHARS_REGEX.matcher(prefix).find() && // not start with specific chars
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java
            s3PresignService = s3service;

            if (bucket == null || "".equals(bucket.trim())) {
                bucket = properties.getProperty(S3Constants.S3_BUCKET);
                // Alternately check if the 'container' property is set
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java

            String renameKeyProp = properties.getProperty(S3Constants.S3_RENAME_KEYS);
            boolean renameKeyBool = (renameKeyProp == null || "".equals(renameKeyProp))
                    ? false
                    : Boolean.parseBoolean(renameKeyProp);
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticResponseHandler.java`
#### Snippet
```java
        }

        String transformedPath = planResult.transformPath(("".equals(path)) ? "/" : path);
        if (transformedPath == null) {
            LOG.trace("Ignoring path {} : Transformation returned null", path);
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.java`
#### Snippet
```java
                String path = visitor.getPath();
                if (path != null) {
                    if ("".equals(path)) {
                        path = "/";
                    }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LucenePropertyIndex.java`
#### Snippet
```java
                String path = visitor.getPath();
                if (path != null) {
                    if ("".equals(path)) {
                        path = "/";
                    }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndex.java`
#### Snippet
```java
                    if (isVirtualRow()) {
                        return sub;
                    } else if (!"".equals(pathPrefix) && PathUtils.denotesRoot(sub)) {
                        return pathPrefix;
                    } else if (PathUtils.isAbsolute(sub)) {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
                    // Useful for local runs where people might
                    // want to run just with wiki dump stubs
                    if ("".equals(text) || text == null) {
                        text = "Text for " + title;
                    }
```

## RuleId[id=UnnecessaryBoxing]
### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
            if (indexOfSep != -1) {
                this.blobId = encodedBlobId.substring(0, indexOfSep);
                this.length = Long.valueOf(encodedBlobId.substring(indexOfSep+SEP.length()));
            } else {
                this.blobId = encodedBlobId;
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeCheckpointMBean.java`
#### Snippet
```java
                .map(store::allCheckpointInfo)
                .map(i -> i.get(CHECKPOINT_METADATA + "created"))
                .mapToLong(l -> l == null ? 0 : Long.valueOf(l))
                .sorted()
                .findFirst()
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeCheckpointMBean.java`
#### Snippet
```java
        }
        try {
            return new Date(Long.valueOf(p)).toString();
        } catch (NumberFormatException e) {
            return "NA";
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            return emptyMap();
        } else if (refreshInterval == null) {
            return singletonMap(RELAXED_LOCKING, (Object) Boolean.valueOf(relaxedLocking));
        } else if (!relaxedLocking) {
            return singletonMap(REFRESH_INTERVAL, (Object) refreshInterval);
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
            return ImmutableMap.of(
                    REFRESH_INTERVAL, (Object) refreshInterval,
                    RELAXED_LOCKING,  (Object) Boolean.valueOf(relaxedLocking));
        }
    }
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/RemoteSolrServerConfigurationProvider.java`
#### Snippet
```java
        solrReplicationFactor = Integer.valueOf(componentContext.getProperties().get(SOLR_REPLICATION_FACTOR).toString());
        solrConfDir = String.valueOf(componentContext.getProperties().get(SOLR_CONF_DIR));
        int socketTimeout = Integer.valueOf(componentContext.getProperties().get(SOCKET_TIMEOUT).toString());
        int connectionTimeout = Integer.valueOf(componentContext.getProperties().get(CONNECTION_TIMEOUT).toString());
        remoteSolrServerConfiguration = new RemoteSolrServerConfiguration(solrZkHost, solrCollection, solrShardsNo,
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/RemoteSolrServerConfigurationProvider.java`
#### Snippet
```java
        solrConfDir = String.valueOf(componentContext.getProperties().get(SOLR_CONF_DIR));
        int socketTimeout = Integer.valueOf(componentContext.getProperties().get(SOCKET_TIMEOUT).toString());
        int connectionTimeout = Integer.valueOf(componentContext.getProperties().get(CONNECTION_TIMEOUT).toString());
        remoteSolrServerConfiguration = new RemoteSolrServerConfiguration(solrZkHost, solrCollection, solrShardsNo,
                solrReplicationFactor, solrConfDir, socketTimeout, connectionTimeout, solrHttpUrl);
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
        rows = Integer.parseInt(String.valueOf(componentContext.getProperties().get(ROWS)));
        commitPolicy = OakSolrConfiguration.CommitPolicy.valueOf(String.valueOf(componentContext.getProperties().get(COMMIT_POLICY)));
        useForPathRestrictions = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PATH_RESTRICTIONS)));
        useForPropertyRestrictions = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PROPERTY_RESTRICTIONS)));
        useForPrimaryTypes = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PRIMARY_TYPES_RESTRICTIONS)));
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
        commitPolicy = OakSolrConfiguration.CommitPolicy.valueOf(String.valueOf(componentContext.getProperties().get(COMMIT_POLICY)));
        useForPathRestrictions = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PATH_RESTRICTIONS)));
        useForPropertyRestrictions = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PROPERTY_RESTRICTIONS)));
        useForPrimaryTypes = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PRIMARY_TYPES_RESTRICTIONS)));
        typeMappings = PropertiesUtil.toStringArray(componentContext.getProperties().get(TYPE_MAPPINGS));
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
        useForPathRestrictions = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PATH_RESTRICTIONS)));
        useForPropertyRestrictions = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PROPERTY_RESTRICTIONS)));
        useForPrimaryTypes = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(PRIMARY_TYPES_RESTRICTIONS)));
        typeMappings = PropertiesUtil.toStringArray(componentContext.getProperties().get(TYPE_MAPPINGS));
        ignoredProperties = PropertiesUtil.toStringArray(componentContext.getProperties().get(IGNORED_PROPERTIES));
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
        usedProperties = PropertiesUtil.toStringArray(componentContext.getProperties().get(USED_PROPERTIES));
        propertyMappings = PropertiesUtil.toStringArray(componentContext.getProperties().get(PROPERTY_MAPPINGS));
        collapseJcrContentNodes = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(COLLAPSE_JCR_CONTENT_NODES)));
        collapseJcrContentParents = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(COLLAPSE_JCR_CONTENT_PARENTS)));
    }
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java
        propertyMappings = PropertiesUtil.toStringArray(componentContext.getProperties().get(PROPERTY_MAPPINGS));
        collapseJcrContentNodes = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(COLLAPSE_JCR_CONTENT_NODES)));
        collapseJcrContentParents = Boolean.valueOf(String.valueOf(componentContext.getProperties().get(COLLAPSE_JCR_CONTENT_PARENTS)));
    }

```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/ReverseFileReader.java`
#### Snippet
```java
                userHeaders.put("If-Match", "*");
                opContext.setUserHeaders(userHeaders);
                blob.downloadRangeToByteArray(fileOffset, Long.valueOf(buffer.length), buffer, 0, null, null, opContext);
            } catch (StorageException e) {
                throw new IOException(e);
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopStream.java`
#### Snippet
```java
    public JsopStream value(long x) {
        optionalComma();
        addToken(NUMBER + addValue(Long.valueOf(x)));
        needComma = true;
        return this;
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
    private static Boolean readBooleanOrNullFromResultSet(ResultSet res, String field) throws SQLException {
        long v = res.getLong(field);
        return res.wasNull() ? null : Boolean.valueOf(v != 0);
    }

```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java

                    System.err.println("lastdot: " + lastdot + "; length: " + length + "; lobfile: " + lobfile + "; lastdot: " + lastdot + "; startpos: " + startpos);
                    int s = Integer.valueOf(startpos);
                    int l = Integer.valueOf(length);
                    File lf = new File(lobDirectory, lobfile);
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
                    System.err.println("lastdot: " + lastdot + "; length: " + length + "; lobfile: " + lobfile + "; lastdot: " + lastdot + "; startpos: " + startpos);
                    int s = Integer.valueOf(startpos);
                    int l = Integer.valueOf(length);
                    File lf = new File(lobDirectory, lobfile);
                    InputStream is = new FileInputStream(lf);
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBExport.java`
#### Snippet
```java
    private static Long readLongOrNullFromResultSet(ResultSet res, String field) throws SQLException {
        long v = res.getLong(field);
        return res.wasNull() ? null : Long.valueOf(v);
    }

```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    private static Long readLongOrNullFromResultSet(ResultSet res, int index) throws SQLException {
        long v = res.getLong(index);
        return res.wasNull() ? null : Long.valueOf(v);
    }

```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    private final int queryHitsLimit, queryTimeLimit;

    private static final Long INITIALMODCOUNT = Long.valueOf(1);
    
    public RDBDocumentStoreJDBC(RDBDocumentStoreDB dbInfo, RDBDocumentSerializer ser, int queryHitsLimit, int queryTimeLimit) {
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    private static Boolean readBooleanOrNullFromResultSet(ResultSet res, int index) throws SQLException {
        long v = res.getLong(index);
        return res.wasNull() ? null : Boolean.valueOf(v != 0);
    }

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/RMIConfig.java`
#### Snippet
```java

    public void setRmiEnabled(String rmiEnabled) {
        this.rmiEnabled = Boolean.valueOf(rmiEnabled);
    }

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/JNDIConfig.java`
#### Snippet
```java

    public void setJndiEnabled(String jndiEnabled) {
        this.jndiEnabled = Boolean.valueOf(jndiEnabled);
    }

```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tooling/BasicReadOnlyBlobStore.java`
#### Snippet
```java
        int indexOfSep = blobId.lastIndexOf("#");
        if (indexOfSep != -1) {
            return Long.valueOf(blobId.substring(indexOfSep + 1));
        }
        return -1;
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
            synchronized (this) {
                Long old = cnUpdates.get(key);
                old = old == null ? Long.valueOf(1) : old + 1;
                cnUpdates.put(key, old);
            }
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexMeta.java`
#### Snippet
```java
        Properties p = loadFromFile(file);
        this.indexPath = checkNotNull(p.getProperty("indexPath"));
        this.creationTime = Long.valueOf(checkNotNull(p.getProperty("creationTime")));
        this.properties = new HashMap<>(Maps.fromProperties(p));
    }
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
                                String deletedBlobId = parsedDeletedBlobIdLine[0];
                                try {
                                    long blobDeletionTimestamp = Long.valueOf(parsedDeletedBlobIdLine[1]);

                                    if (blobDeletionTimestamp < lastCheckedBlobTimestamp) {
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java

            try {
                return Long.valueOf(resString);
            } catch (NumberFormatException nfe) {
                LOG.warn("Couldn't read last checked blob timestamp '" + resString + "' as long", nfe);
```

### UnnecessaryBoxing
Unnecessary boxing
in `oak-segment-remote/src/main/java/org/apache/jackrabbit/oak/segment/remote/persistentcache/PersistentDiskCache.java`
#### Snippet
```java
                NAME,
                () -> maxCacheSizeBytes,
                () -> Long.valueOf(directory.listFiles().length),
                () -> FileUtils.sizeOfDirectory(directory),
                () -> evictionCount.get());
```

## RuleId[id=SynchronizeOnNonFinalField]
### SynchronizeOnNonFinalField
Synchronization on a non-final field `sessions`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
       try {
           Session session = repository.login(credentials);
           synchronized (sessions) {
               sessions.add(session);
           }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `sessions`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
            LOG.trace("Creating new session");
            Session session = repository.login(credentials);
            synchronized (sessions) {
                sessions.add(session);
            }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `sessions`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
            session.logout();
        }
        synchronized (sessions) {
            sessions.remove(session);
        }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `sessions`
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
        try {
            Session session = repository.login(credentials);
            synchronized (sessions) {
                sessions.add(session);
            }
```

## RuleId[id=ConditionCoveredByFurtherCondition]
### ConditionCoveredByFurtherCondition
Condition 'filter != null' covered by subsequent condition 'filter instanceof FileLineDifferenceIterator'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
                    return FileIOUtils.writeStrings(filter, fs.getGcCandidates(), true);
                } finally {
                    if (filter != null && filter instanceof FileLineDifferenceIterator) {
                        ((FileLineDifferenceIterator) filter).close();
                    }
```

### ConditionCoveredByFurtherCondition
Condition 'obj == null' covered by subsequent condition '!(obj instanceof String)'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java

        Object obj = doc.get(ACTIVE_KEY);
        if (obj == null || !(obj instanceof String)) {
            logger.trace("<init>: {} : {}", ACTIVE_KEY, obj);
            this.activeIds = new Integer[0];
```

### ConditionCoveredByFurtherCondition
Condition 'obj2 == null' covered by subsequent condition '!(obj2 instanceof String)'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java

        Object obj2 = doc.get(RECOVERING_KEY);
        if (obj2 == null || !(obj2 instanceof String)) {
            logger.trace("<init>: {} : {}", RECOVERING_KEY, obj2);
            this.recoveringIds = new Integer[0];
```

### ConditionCoveredByFurtherCondition
Condition 'obj3 == null' covered by subsequent condition '!(obj3 instanceof String)'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java

        Object obj3 = doc.get(INACTIVE_KEY);
        if (obj3 == null || !(obj3 instanceof String)) {
            logger.trace("<init>: {} : {}", INACTIVE_KEY, obj3);
            this.inactiveIds = new Integer[0];
```

### ConditionCoveredByFurtherCondition
Condition 'obj4 == null' covered by subsequent condition '!(obj4 instanceof Map)'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterViewDocument.java`
#### Snippet
```java

        Object obj4 = doc.get(CLUSTER_VIEW_HISTORY_KEY);
        if (obj4 == null || !(obj4 instanceof Map)) {
            logger.trace("<init> viewHistory is null");
            this.viewHistory = null;
```

### ConditionCoveredByFurtherCondition
Condition 'oakVersion != null' covered by subsequent condition 'oakVersion instanceof String'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentDiscoveryLiteService.java`
#### Snippet
```java
            boolean warn = false;
            Object oakVersion = clusterNode.get(ClusterNodeInfo.OAK_VERSION_KEY);
            if (oakVersion != null && (oakVersion instanceof String)) {
                try {
                    warn = versionPredates((String) oakVersion, "1.3.5");
```

### ConditionCoveredByFurtherCondition
Condition 'childNodeCount == Long.MAX_VALUE' covered by subsequent condition 'childNodeCount \> maxValueCount'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexStats.java`
#### Snippet
```java
            } else {
                long childNodeCount = data.getChildNodeCount(maxValueCount);
                if (childNodeCount == Long.MAX_VALUE || childNodeCount > maxValueCount) {
                    status = String.format("stats cannot be determined as number of values exceed the max limit of " +
                            "[%d]. Estimated value count [%d]", maxValueCount, childNodeCount);
```

### ConditionCoveredByFurtherCondition
Condition 'enablePresignedAccelerationStr != null' covered by subsequent condition '"true".equals(...)'
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/S3Backend.java`
#### Snippet
```java

            String enablePresignedAccelerationStr = properties.getProperty(S3Constants.PRESIGNED_URI_ENABLE_ACCELERATION);
            setBinaryTransferAccelerationEnabled(enablePresignedAccelerationStr != null && "true".equals(enablePresignedAccelerationStr));

            presignedDownloadURIVerifyExists =
```

### ConditionCoveredByFurtherCondition
Condition 'other == null' covered by subsequent condition '!(other instanceof BlockId)'
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
                return true;
            }
            if (other == null || !(other instanceof BlockId)) {
                return false;
            }
```

## RuleId[id=MissingDeprecatedAnnotation]
### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitNodeTypeManager.java`
#### Snippet
```java
 * {@link NodeTypeManager} instead.
 */
public interface JackrabbitNodeTypeManager extends NodeTypeManager {

    /**
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/XASession.java`
#### Snippet
```java
 *             {@link javax.transaction.xa.XAResource} interface
 */
public interface XASession extends Session {

    /**
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MissingLastRevSeeker.java`
#### Snippet
```java
     *          instead.
     */
    public boolean isRecoveryNeeded(@NotNull ClusterNodeInfoDocument nodeInfo) {
        return nodeInfo.isRecoveryNeeded(clock.getTime());
    }
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/lock/LockConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.lock.LockConstants} instead
 */
public interface LockConstants extends JcrConstants {

    Set<String> LOCK_PROPERTY_NAMES = ImmutableSet.of(
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/name/NamespaceConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.namespace.NamespaceConstants} instead.
 */
public interface NamespaceConstants extends org.apache.jackrabbit.oak.spi.namespace.NamespaceConstants {
}
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/factories/TreeFactory.java`
#### Snippet
```java
 * @deprecated Please use {@code TreeProvider} instead
 */
public final class TreeFactory {

    private TreeFactory() {}
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/factories/RootFactory.java`
#### Snippet
```java
     */
    @NotNull
    public static Root createSystemRoot(@NotNull NodeStore store,
                                        @Nullable CommitHook hook,
                                        @Nullable String workspaceName,
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/factories/RootFactory.java`
#### Snippet
```java
 * @deprecated Please use {@code RootProvider} instead
 */
public final class RootFactory {

    private RootFactory() {}
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/version/VersionConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.version.VersionConstants} instead
 */
public interface VersionConstants extends org.apache.jackrabbit.oak.spi.version.VersionConstants {
}
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeConstants.java`
#### Snippet
```java
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.nodetype.NodeTypeConstants} instead
 */
public interface NodeTypeConstants extends org.apache.jackrabbit.oak.spi.nodetype.NodeTypeConstants {
}
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/identifier/IdentifierManager.java`
#### Snippet
```java
     */
    @NotNull
    public static String generateUUID() {
        return UUIDUtils.generateUUID();
    }
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/identifier/IdentifierManager.java`
#### Snippet
```java
     * @deprecated Use {@link UUIDUtils#isValidUUID(String)} (String)}
     */
    public static boolean isValidUUID(String uuid) {
        return UUIDUtils.isValidUUID(uuid);
    }
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/identifier/IdentifierManager.java`
#### Snippet
```java
     */
    @NotNull
    public static String generateUUID(String hint) {
        return UUIDUtils.generateUUID(hint);
    }
```

### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/ElasticConnection.java`
#### Snippet
```java
     * @return the old Elasticsearch client
     */
    public RestHighLevelClient getOldClient() {
        return getClients().rhlClient;
    }
```

## RuleId[id=UnnecessaryFullyQualifiedName]
### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/package-info.java`
#### Snippet
```java
 * Jackrabbit extensions for JCR core interfaces
 */
@org.osgi.annotation.versioning.Version("2.8.0")
package org.apache.jackrabbit.api;

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.transaction.xa` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/XASession.java`
#### Snippet
```java
 * access to a JCR repository's support for the Java Transaction API (JTA).
 * <p>
 * This support takes the form of a {@link javax.transaction.xa.XAResource}
 * object. The functionality of this object closely resembles that defined by
 * the standard X/Open XA Resource interface.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.transaction.xa` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/XASession.java`
#### Snippet
```java
 * @since 1.4
 * @deprecated An XA-enabled session should directly implement the
 *             {@link javax.transaction.xa.XAResource} interface
 */
public interface XASession extends Session {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/jmx/package-info.java`
#### Snippet
```java
 * JMX management interfaces for JCR.
 */
@org.osgi.annotation.versioning.Version("2.3.0")
package org.apache.jackrabbit.api.jmx;

```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/query/package-info.java`
#### Snippet
```java
 */
/* see JCR-4060 */
@org.osgi.annotation.versioning.Version("2.13.5")
package org.apache.jackrabbit.api.query;

```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/stats/package-info.java`
#### Snippet
```java
 * Jackrabbit repository statistics
 */
@org.osgi.annotation.versioning.Version("1.2.0")
package org.apache.jackrabbit.api.stats;

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitSession.java`
#### Snippet
```java
     *
     * @return the <code>UserManager</code> associated with this <code>Session</code>.
     * @throws javax.jcr.AccessDeniedException If this session is not allowed to
     * to access user data.
     * @throws UnsupportedRepositoryOperationException If user management is
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitSession.java`
#### Snippet
```java
     * @throws UnsupportedRepositoryOperationException If user management is
     * not supported.
     * @throws javax.jcr.RepositoryException If another error occurs.
     * @see UserManager
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitSession.java`
#### Snippet
```java

/**
 * Jackrabbit specific extension of the JCR {@link javax.jcr.Session} interface.
 */
public interface JackrabbitSession extends Session {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitNode.java`
#### Snippet
```java
/**
 * The Jackrabbit Node interface. This interface contains the
 * Jackrabbit-specific extensions to the JCR {@link javax.jcr.Node} interface.
 */
public interface JackrabbitNode extends Node {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitNode.java`
#### Snippet
```java
     * 
     * @param newName
     * @throws javax.jcr.RepositoryException
     */
    void rename(String newName) throws RepositoryException;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/package-info.java`
#### Snippet
```java
 * Jackrabbit extensions for access control.
 */
@org.osgi.annotation.versioning.Version("2.6.0")
package org.apache.jackrabbit.api.security;

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlPolicy.java`
#### Snippet
```java
 * <code>JackrabbitAccessControlPolicy</code> is an extension of the
 * <code>AccessControlPolicy</code> that exposes the path of the Node to
 * which it can be applied using {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy)}.
 */
@ProviderType
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlList.java`
#### Snippet
```java
     * @param restrictions A map of additional restrictions used to narrow the
     * effect of the entry to be created. The map must map JCR names to a single
     * {@link javax.jcr.Value} object.
     * @param mvRestrictions A map of additional multivalued restrictions used to narrow the
     * effect of the entry to be created. The map must map JCR names to a
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlList.java`
#### Snippet
```java
     * @param mvRestrictions A map of additional multivalued restrictions used to narrow the
     * effect of the entry to be created. The map must map JCR names to a
     * {@link javax.jcr.Value} array.
     * @return true if this policy has changed by incorporating the given entry;
     * false otherwise.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlList.java`
#### Snippet
```java
     * @param restrictions A map of additional restrictions used to narrow the
     * effect of the entry to be created. The map must map JCR names to a single
     * {@link javax.jcr.Value} object.
     * @return true if this policy has changed by incorporating the given entry;
     * false otherwise.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/package-info.java`
#### Snippet
```java
 * Jackrabbit extensions for user management.
 */
@org.osgi.annotation.versioning.Version("2.4.3")
package org.apache.jackrabbit.api.security.user;

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-blob-cloud-azure/src/main/java/org/apache/jackrabbit/oak/blob/cloud/azure/blobstorage/Utils.java`
#### Snippet
```java
     * @param fileName the properties file name
     * @return the properties
     * @throws java.io.IOException if the file doesn't exist
     */
    public static Properties readConfig(String fileName) throws IOException {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/User.java`
#### Snippet
```java
    /**
     * @return <code>Impersonation</code> for this <code>User</code>.
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/User.java`
#### Snippet
```java
     *
     * @return <code>Credentials</code> for this user.
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/principal/package-info.java`
#### Snippet
```java
 * Jackrabbit extensions for JAAS principals.
 */
@org.osgi.annotation.versioning.Version("2.4.1")
package org.apache.jackrabbit.api.security.principal;

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/UserManager.java`
#### Snippet
```java
     *
     * <ul>
     *     <li>{@link org.apache.jackrabbit.api.security.user.User#isSystemUser()} returns {@code true}.</li>
     *     <li>The system user doesn't have a password set and doesn't allow change the password.</li>
     *     <li>The principal name is generated by the system; it may be the same as {@code userID}.</li>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/UserManager.java`
#### Snippet
```java

    /**
     * In accordance to {@link org.apache.jackrabbit.api.security.user.Authorizable#getPath()}
     * this method allows to retrieve an given authorizable by it's path.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/UserManager.java`
#### Snippet
```java
     * support to retrieve authorizables by path.
     * @throws RepositoryException If another error occurs.
     * @see org.apache.jackrabbit.api.security.user.Authorizable#getPath()
     */
    @Nullable
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/UserManager.java`
#### Snippet
```java
     * persisted this method returns <code>true</code>. In this case there are
     * no pending transient changes left and there is no need to explicitly call
     * {@link javax.jcr.Session#save()}. If this method returns <code>false</code>
     * any changes must be completed by an extra save call on the
     * <code>Session</code> associated with this <code>UserManager</code>.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/UserManager.java`
#### Snippet
```java
     * <code>false</code> if changes made through this API (including method
     * calls on  {@link Authorizable} and subclasses are only transient and
     * must be persisted using {@link javax.jcr.Session#save()}.
     * @see #autoSave(boolean)
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/UserManager.java`
#### Snippet
```java
     * @param enable If <code>true</code> changes made through this API will
     * be automatically saved; otherwise an explicit call to
     * {@link javax.jcr.Session#save()} is required in order to persist changes.
     * @throws UnsupportedRepositoryOperationException If the implementation
     * does not allow to change the auto save behavior.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/package-info.java`
#### Snippet
```java
 * Jackrabbit extensions for authorization.
 */
@org.osgi.annotation.versioning.Version("2.6.0")
package org.apache.jackrabbit.api.security.authorization;

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrivilegeManager.java`
#### Snippet
```java
     * @param privilegeName Name of the principal.
     * @return the privilege with the specified <code>privilegeName</code>.
     * @throws javax.jcr.security.AccessControlException If no privilege with the given name exists.
     * @throws javax.jcr.RepositoryException If another error occurs.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrivilegeManager.java`
#### Snippet
```java
     * @return the privilege with the specified <code>privilegeName</code>.
     * @throws javax.jcr.security.AccessControlException If no privilege with the given name exists.
     * @throws javax.jcr.RepositoryException If another error occurs.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrincipalSetPolicy.java`
#### Snippet
```java

/**
 * Extension of the JCR {@link javax.jcr.security.AccessControlPolicy AccessControlPolicy}
 * intended to grant a set of {@code Principal}s the ability to perform certain
 * actions. The scope of this policy (and thus the affected items) is an
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrincipalSetPolicy.java`
#### Snippet
```java
     * @param principals The {@code Principal}s that are granted access.
     * @return {@code true} if this policy was modified; {@code false} otherwise.
     * @throws javax.jcr.security.AccessControlException If any of the specified
     * principals is considered invalid or if another access control specific
     * error occurs.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrincipalSetPolicy.java`
#### Snippet
```java
     * @param principals The {@code Principal}s for which access should be revoked.
     * @return {@code true} if this policy was modified; {@code false} otherwise.
     * @throws javax.jcr.security.AccessControlException If any of the specified
     * principals is considered invalid or if another access control specific
     * error occurs.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authentication/token/package-info.java`
#### Snippet
```java
 * Token credentials.
 */
@org.osgi.annotation.versioning.Version("2.3.1")
package org.apache.jackrabbit.api.security.authentication.token;

```

### UnnecessaryFullyQualifiedName
Qualifier `java.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/user/Authorizable.java`
#### Snippet
```java
 * <p>
 * Please note the difference between <code>Authorizable</code> and
 * {@link java.security.Principal Principal}:<br>
 * An <code>Authorizable</code> is repository object that is neither associated
 * with nor depending from a particular <code>Session</code> and thus independent
```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/package-info.java`
#### Snippet
```java
 * Jackrabbit extensions for JCR observation.
 */
@org.osgi.annotation.versioning.Version("2.3.1")
package org.apache.jackrabbit.api.observation;

```

### UnnecessaryFullyQualifiedName
Qualifier `org.osgi.annotation.versioning` is unnecessary, and can be replaced with an import
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/management/package-info.java`
#### Snippet
```java
 * Interfaces for managing a Jackrabbit repository.
 */
@org.osgi.annotation.versioning.Version("2.3.1")
package org.apache.jackrabbit.api.management;

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.observation` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitObservationManager.java`
#### Snippet
```java

/**
 * Jackrabbit specific extensions to {@link javax.jcr.observation.ObservationManager}.
 */
public interface JackrabbitObservationManager extends ObservationManager {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrincipalAccessControlList.java`
#### Snippet
```java
     * <p>
     * Modifications to this policy will not take effect until this policy has been written back by calling
     * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy)}
     * followed by {@link javax.jcr.Session#save()} to persist the transient modifications.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/authorization/PrincipalAccessControlList.java`
#### Snippet
```java
     * <p>
     * Modifications to this policy will not take effect until this policy has been written back by calling
     * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy)}
     * followed by {@link javax.jcr.Session#save()} to persist the transient modifications.
     * <p>
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlManager.java`
#### Snippet
```java
     * @return <code>true</code> if the session has the specified privileges;
     *         <code>false</code> otherwise.
     * @throws javax.jcr.PathNotFoundException if no node at <code>absPath</code> exists
     * or the session does not have sufficient access to retrieve a node at that location.
     * @throws AccessDeniedException if the session lacks
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/security/JackrabbitAccessControlManager.java`
#### Snippet
```java
     * @return array of policies for the specified <code>principal</code>. Note
     * that the policy object returned must reveal the path of the node where
     * they can be applied later on using {@link AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy)}.
     * @throws AccessDeniedException if the session lacks
     * <code>MODIFY_ACCESS_CONTROL</code> privilege.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.observation` is unnecessary and can be removed
in `oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/observation/JackrabbitEventFilter.java`
#### Snippet
```java
 * Once the filter is configured, it and an {@link javax.jcr.observation.EventListener} object are
 * passed to
 * {@link org.apache.jackrabbit.api.observation.JackrabbitObservationManager#addEventListener(javax.jcr.observation.EventListener, JackrabbitEventFilter)}.
 * <p>
 * The filter restricts which events are sent to the <code>EventListener</code> according to the
```

### UnnecessaryFullyQualifiedName
Qualifier `org.jclouds.blobstore` is unnecessary, and can be replaced with an import
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        private static final int BATCH = 1000;

        private org.jclouds.blobstore.BlobStore store;
        private long maxLastModifiedTime;

```

### UnnecessaryFullyQualifiedName
Qualifier `org.jclouds.blobstore` is unnecessary, and can be replaced with an import
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        private ArrayDeque<String> queue;

        public CloudStoreIterator(org.jclouds.blobstore.BlobStore store,
                long maxLastModifiedTime) {
            this.store = store;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.jclouds.blobstore` is unnecessary, and can be replaced with an import
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        long count = 0;
        for (String chunkId : chunkIds) {
            final org.jclouds.blobstore.BlobStore blobStore = context.getBlobStore();
            StorageMetadata metadata = blobStore.blobMetadata(cloudContainer, chunkId);
            if ((maxLastModifiedTime <= 0) 
```

### UnnecessaryFullyQualifiedName
Qualifier `org.jclouds.blobstore` is unnecessary, and can be replaced with an import
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        Preconditions.checkNotNull(context);

        final org.jclouds.blobstore.BlobStore blobStore = context.getBlobStore();
        return new CloudStoreIterator(blobStore, maxLastModifiedTime);
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.jclouds.blobstore` is unnecessary, and can be replaced with an import
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/cloud/CloudBlobStore.java`
#### Snippet
```java
        cache.put(id, data);
        
        org.jclouds.blobstore.BlobStore blobStore = context.getBlobStore();

        if (!blobStore.blobExists(cloudContainer, id)) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.blob` is unnecessary and can be removed
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
     * <p>
     * Performs the following steps depending upon the type of the blob store refer
     * {@link org.apache.jackrabbit.oak.plugins.blob.SharedDataStore.Type}:
     *
     * <ul>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.commons` is unnecessary, and can be replaced with an import
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            LOG.info("Estimated size recovered for {} deleted blobs is {} ({} bytes)",
                numDeletedSizeAvailable,
                org.apache.jackrabbit.oak.commons.IOUtils.humanReadableByteCount(deletedSize), deletedSize);
        }

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
 * BlobStore wrapper for DataStore. Wraps Jackrabbit 2 DataStore and expose them as BlobStores
 * It also handles inlining binaries if there size is smaller than
 * {@link org.apache.jackrabbit.core.data.DataStore#getMinRecordLength()}
 */
public class DataStoreBlobStore
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Root.java`
#### Snippet
```java
    /**
     * Name of the entry of the commit path in the {@code info}
     * map in {@link #commit(java.util.Map)}
     */
    String COMMIT_PATH = "path";
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/CommitFailedException.java`
#### Snippet
```java
    /**
     * Wraps the given {@link CommitFailedException} instance using the
     * appropriate {@link javax.jcr.RepositoryException} subclass based on the
     * {@link CommitFailedException#getType() type} of the given exception.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/CommitFailedException.java`
#### Snippet
```java
    /**
     * Wraps the given {@link CommitFailedException} instance using the
     * appropriate {@link javax.jcr.RepositoryException} subclass based on the
     * {@link CommitFailedException#getType() type} of the given exception.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/Blob.java`
#### Snippet
```java
     * Returns a new stream for this blob. The streams returned from
     * multiple calls to this method are byte wise equals. That is,
     * subsequent calls to {@link java.io.InputStream#read() read}
     * return the same sequence of bytes as long as neither call throws
     * an exception.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.query` is unnecessary and can be removed
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/query/facet/FacetResult.java`
#### Snippet
```java

/**
 * A facet result is a wrapper for {@link javax.jcr.query.QueryResult} capable of returning information about facets
 * stored in the query result {@link javax.jcr.query.Row}s.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.query` is unnecessary and can be removed
in `oak-query-spi/src/main/java/org/apache/jackrabbit/oak/query/facet/FacetResult.java`
#### Snippet
```java
/**
 * A facet result is a wrapper for {@link javax.jcr.query.QueryResult} capable of returning information about facets
 * stored in the query result {@link javax.jcr.query.Row}s.
 */
public class FacetResult {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api.jmx` is unnecessary and can be removed
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/FileStoreBackupRestoreMBean.java`
#### Snippet
```java
     * @return string reference of this checkpoint
     *
     * @deprecated Use {@link org.apache.jackrabbit.oak.api.jmx.CheckpointMBean} instead
     */
    @Deprecated
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api.jmx` is unnecessary and can be removed
in `oak-api/src/main/java/org/apache/jackrabbit/oak/api/jmx/FileStoreBackupRestoreMBean.java`
#### Snippet
```java
 * MBean for backing up and restoring a {@code NodeStore}.
 *
 * @see org.apache.jackrabbit.oak.api.jmx.RepositoryManagementMBean
 */
@ProviderType
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/TargetImportHandler.java`
#### Snippet
```java

    /**
     * Closes the underlying {@link org.apache.jackrabbit.oak.spi.xml.Importer} instance. This method
     * is called by the XML parser when the XML document ends.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/TargetImportHandler.java`
#### Snippet
```java

    /**
     * Initializes the underlying {@link org.apache.jackrabbit.oak.spi.xml.Importer} instance. This method
     * is called by the XML parser when the XML document starts.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang.reflect` is unnecessary, and can be replaced with an import
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/lock/LockDeprecation.java`
#### Snippet
```java
    // log message
    private static final Set<String> IGNOREDCLASSES = new HashSet<String>(Arrays.asList(
            new String[] { Thread.class.getName(), java.lang.reflect.Method.class.getName(), LockDeprecation.class.getName(),
                    LockManagerImpl.class.getName(), NodeImpl.class.getName(), SessionImpl.class.getName() }));

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
     * @param isWorkspaceImport {@code true} if this is a workspace import,
     * {@code false} otherwise.
     * @throws javax.jcr.RepositoryException If the initial validation of the
     * path or the state of target node/session fails.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/DocViewImportHandler.java`
#### Snippet
```java
     * @return the decoded and valid jcr name or the original name if it is
     *         not encoded or if the resulting decoded name would be illegal.
     * @throws javax.jcr.RepositoryException
     */
    private NameInfo processName(NameInfo nameInfo) throws RepositoryException {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java

    /**
     * @see Item#isSame(javax.jcr.Item)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Item#getName()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java
     * all transient changes. That is, if calling {@link Session#save()} would have the same effect
     * as calling this method. In all other cases this method will throw an
     * {@link javax.jcr.UnsupportedRepositoryOperationException}
     *
     * @see javax.jcr.Item#save()
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java
     * {@link javax.jcr.UnsupportedRepositoryOperationException}
     *
     * @see javax.jcr.Item#save()
     *
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/ItemImpl.java`
#### Snippet
```java
    /**
     * The value of this flag determines the behaviour of {@link #save()}. If {@code false},
     * save will throw a {@link javax.jcr.UnsupportedRepositoryOperationException} if the
     * sub tree rooted at this item does not contain <em>all</em> transient changes. If
     * {@code true}, save will delegate to {@link Session#save()}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/WorkspaceImpl.java`
#### Snippet
```java

    /**
     * @see org.apache.jackrabbit.api.JackrabbitWorkspace#getPrivilegeManager()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionContext.java`
#### Snippet
```java
    /**
     * Returns the Oak path for the given JCR path, or throws a
     * {@link javax.jcr.PathNotFoundException} if the path can not be mapped.
     *
     * @param jcrPath JCR path
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionContext.java`
#### Snippet
```java
     * @param jcrPath JCR path
     * @return Oak path
     * @throws javax.jcr.PathNotFoundException if the path can not be mapped
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionContext.java`
#### Snippet
```java
    /**
     * Returns the Oak path for the given JCR path, or throws a
     * {@link javax.jcr.RepositoryException} if the path can not be mapped.
     *
     * @param jcrPath JCR path
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionContext.java`
#### Snippet
```java
     * @param jcrPath JCR path
     * @return Oak path
     * @throws javax.jcr.RepositoryException if the path can not be mapped
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/SessionImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Session#getRetentionManager()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/PropertyDelegate.java`
#### Snippet
```java
public class PropertyDelegate extends ItemDelegate {

    /** The underlying {@link org.apache.jackrabbit.oak.api.Tree} of this property's parent */
    private final Tree parent;

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session.operation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java

    /**
     * Same as {@link #perform(org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation)}
     * for calls that don't expect any return value; thus calling
     * {@link org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation#performVoid()}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session.operation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
     * Same as {@link #perform(org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation)}
     * for calls that don't expect any return value; thus calling
     * {@link org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation#performVoid()}.
     *
     * @param sessionOperation  the {@code SessionOperation} to perform.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session.operation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
     * @param sessionOperation  the {@code SessionOperation} to perform.
     * @throws RepositoryException
     * @see #perform(org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation)
     */
    public void performVoid(SessionOperation<Void> sessionOperation) throws RepositoryException {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session.operation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java

    /**
     * Same as {@link #perform(org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation)}
     * but with the option to return {@code null}; thus calling
     * {@link org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation#performNullable()}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session.operation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
     * Same as {@link #perform(org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation)}
     * but with the option to return {@code null}; thus calling
     * {@link org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation#performNullable()}
     *
     * @param sessionOperation  the {@code SessionOperation} to perform
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session.operation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/SessionDelegate.java`
#### Snippet
```java
     * might also be {@code null}.
     * @throws RepositoryException
     * @see #perform(org.apache.jackrabbit.oak.jcr.session.operation.SessionOperation)
     */
    @Nullable
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#restoreByLabel(String, boolean)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#restore(Version, String, boolean)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getBaseVersion()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getReferences()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * Simplified implementation of the {@link org.apache.jackrabbit.api.JackrabbitNode#setMixins(String[])}
     * method that adds all mixin types that are not yet present on this node
     * and removes all mixins that are no longer contained in the specified
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#cancelMerge(javax.jcr.version.Version)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.version` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#cancelMerge(javax.jcr.version.Version)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Item#isModified()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#doneMerge(javax.jcr.version.Version)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.version` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#doneMerge(javax.jcr.version.Version)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#restore(String, boolean)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#isCheckedOut()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getPrimaryNodeType()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#followLifecycleTransition(String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getWeakReferences()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Item#isNode()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Item#remove()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getAllowedLifecycleTransistions()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#restore(javax.jcr.version.Version, boolean)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.version` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#restore(javax.jcr.version.Version, boolean)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#merge(String, boolean)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Item#getParent()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getVersionHistory()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getUUID()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Item#isNew()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getMixinNodeTypes()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#checkin()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#checkout()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/session/NodeImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Node#getPrimaryItem()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.concurrent` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
    /**
     * Stop this change processor after all pending events have been
     * delivered. In contrast to {@link #stopAndWait(int, java.util.concurrent.TimeUnit)}
     * this method returns immediately without waiting for pending listeners to
     * complete.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.observation` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java

/**
 * A {@code ChangeProcessor} generates observation {@link javax.jcr.observation.Event}s
 * based on a {@link FilterProvider filter} and delivers them to an {@link EventListener}.
 * <p>
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
     * @param nodeTypeNames the node type names.
     * @return the node type names as oak names.
     * @throws javax.jcr.nodetype.NoSuchNodeTypeException if one of the node type names refers to
     *                                 an non-existing node type.
     * @throws javax.jcr.RepositoryException     if an error occurs while reading from the
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ObservationManagerImpl.java`
#### Snippet
```java
     * @throws javax.jcr.nodetype.NoSuchNodeTypeException if one of the node type names refers to
     *                                 an non-existing node type.
     * @throws javax.jcr.RepositoryException     if an error occurs while reading from the
     *                                 node type manager.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
public class NodeDelegate extends ItemDelegate {

    /** The underlying {@link org.apache.jackrabbit.oak.api.Tree} of this node. */
    private final Tree tree;

```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
    //---------------------------------------------------------< Repository >---
    /**
     * @see javax.jcr.Repository#getDescriptorKeys()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Repository#login(javax.jcr.Credentials, String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Repository#login(javax.jcr.Credentials, String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Repository#getDescriptor(String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.jcr.session` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java
     * interval in seconds.
     *
     * @see org.apache.jackrabbit.oak.jcr.session.RefreshStrategy
     */
    public static final String REFRESH_INTERVAL = "oak.refresh-interval";
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Repository#getDescriptorValues(String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Repository#isSingleValueDescriptor(String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/repository/RepositoryImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Repository#getDescriptorValue(String)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.document.util` is unnecessary and can be removed
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/nodestate/NameFilteringNodeState.java`
#### Snippet
```java
     * @param name
     *            to check
     * @return true if the name is longer than {@link org.apache.jackrabbit.oak.plugins.document.util.Utils#NODE_NAME_LIMIT}
     */
    private boolean isNameTooLong(@NotNull String name) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrQueryIndexProviderService.java`
#### Snippet
```java

/**
 * Osgi Service that provides Solr based {@link org.apache.jackrabbit.oak.spi.query.QueryIndex}es
 *
 * @see org.apache.jackrabbit.oak.plugins.index.solr.query.SolrQueryIndexProvider
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrQueryIndexProviderService.java`
#### Snippet
```java
 * Osgi Service that provides Solr based {@link org.apache.jackrabbit.oak.spi.query.QueryIndex}es
 *
 * @see org.apache.jackrabbit.oak.plugins.index.solr.query.SolrQueryIndexProvider
 * @see QueryIndexProvider
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.index` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrIndexEditorProviderService.java`
#### Snippet
```java
 * Osgi Service that provides Solr based {@link org.apache.jackrabbit.oak.plugins.index.IndexEditor}s
 *
 * @see org.apache.jackrabbit.oak.plugins.index.solr.index.SolrIndexEditorProvider
 * @see org.apache.jackrabbit.oak.plugins.index.IndexEditorProvider
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrIndexEditorProviderService.java`
#### Snippet
```java
 *
 * @see org.apache.jackrabbit.oak.plugins.index.solr.index.SolrIndexEditorProvider
 * @see org.apache.jackrabbit.oak.plugins.index.IndexEditorProvider
 */
@Component(metatype = false, immediate = true)
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration.nodestate` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/NodeStateSolrServersObserverService.java`
#### Snippet
```java

/**
 * An OSGi service for {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.nodestate.NodeStateSolrServersObserver}.
 * This allows correct cleanup of any persisted Solr server configurations once they get changed or deleted.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/util/NodeTypeIndexingUtils.java`
#### Snippet
```java

/**
 * Utility class for generating a Solr synonyms file for expanding {@link javax.jcr.nodetype.NodeType}s
 */
public class NodeTypeIndexingUtils {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.server` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/SolrServerProviderService.java`
#### Snippet
```java

/**
 * OSGi service for {@link org.apache.jackrabbit.oak.plugins.index.solr.server.SolrServerProvider}
 */
@Component(metatype = true, label = "Apache Jackrabbit Oak Solr server provider", immediate = true)
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.lifecycle` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/util/SolrIndexInitializer.java`
#### Snippet
```java

/**
 * A {@link org.apache.jackrabbit.oak.spi.lifecycle.RepositoryInitializer} for Solr index
 */
public class SolrIndexInitializer implements RepositoryInitializer {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/JackrabbitNodeState.java`
#### Snippet
```java
    }

    private org.apache.jackrabbit.oak.api.PropertyState createProperty(
            String name, int type, InternalValue value)
            throws RepositoryException, IOException {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/JackrabbitNodeState.java`
#### Snippet
```java
    }

    private org.apache.jackrabbit.oak.api.PropertyState createProperty(
            String name, int type, InternalValue[] values)
            throws RepositoryException, IOException {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java

    /**
     * provides an already initialized {@link org.apache.solr.client.solrj.SolrClient} to be used for either searching or
     * indexing, or both.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java
     * indexing, or both.
     *
     * @return a {@link org.apache.solr.client.solrj.SolrClient} instance
     * @throws Exception if anything goes wrong while initializing the {@link org.apache.solr.client.solrj.SolrClient}
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java
     *
     * @return a {@link org.apache.solr.client.solrj.SolrClient} instance
     * @throws Exception if anything goes wrong while initializing the {@link org.apache.solr.client.solrj.SolrClient}
     */
    @Nullable
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java

/**
 * Provider of {@link org.apache.solr.client.solrj.SolrClient}s instances
 */
public interface SolrServerProvider extends Closeable {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java

    /**
     * provides an already initialized {@link org.apache.solr.client.solrj.SolrClient} specifically configured to be
     * used for searching.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java
     * used for searching.
     *
     * @return a {@link org.apache.solr.client.solrj.SolrClient} instance
     * @throws Exception if anything goes wrong while initializing the {@link org.apache.solr.client.solrj.SolrClient}
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java
     *
     * @return a {@link org.apache.solr.client.solrj.SolrClient} instance
     * @throws Exception if anything goes wrong while initializing the {@link org.apache.solr.client.solrj.SolrClient}
     */
    @Nullable
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java

    /**
     * provides an already initialized {@link org.apache.solr.client.solrj.SolrClient} specifically configured to be
     * used for indexing.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java
     * used for indexing.
     *
     * @return a {@link org.apache.solr.client.solrj.SolrClient} instance
     * @throws Exception if anything goes wrong while initializing the {@link org.apache.solr.client.solrj.SolrClient}
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerProvider.java`
#### Snippet
```java
     *
     * @return a {@link org.apache.solr.client.solrj.SolrClient} instance
     * @throws Exception if anything goes wrong while initializing the {@link org.apache.solr.client.solrj.SolrClient}
     */
    @Nullable
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/SolrServerRegistry.java`
#### Snippet
```java

/**
 * A registry for {@link org.apache.solr.client.solrj.SolrClient}s
 */
public class SolrServerRegistry {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/OakSolrServer.java`
#### Snippet
```java

/**
 * An Oak {@link org.apache.solr.client.solrj.SolrClient}, caching a {@link org.apache.jackrabbit.oak.plugins.index.solr.server.SolrServerProvider}
 * for dispatching requests to indexing or searching specialized {@link org.apache.solr.client.solrj.SolrClient}s.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.server` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/OakSolrServer.java`
#### Snippet
```java

/**
 * An Oak {@link org.apache.solr.client.solrj.SolrClient}, caching a {@link org.apache.jackrabbit.oak.plugins.index.solr.server.SolrServerProvider}
 * for dispatching requests to indexing or searching specialized {@link org.apache.solr.client.solrj.SolrClient}s.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/OakSolrServer.java`
#### Snippet
```java
/**
 * An Oak {@link org.apache.solr.client.solrj.SolrClient}, caching a {@link org.apache.jackrabbit.oak.plugins.index.solr.server.SolrServerProvider}
 * for dispatching requests to indexing or searching specialized {@link org.apache.solr.client.solrj.SolrClient}s.
 */
public class OakSolrServer extends SolrClient {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/osgi/OakSolrConfigurationProviderService.java`
#### Snippet
```java

/**
 * OSGi service for {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.OakSolrConfigurationProvider}
 */
@Component(label = "Apache Jackrabbit Oak Solr indexing / search configuration", metatype = true, immediate = true)
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/SolrServerConfigurationProvider.java`
#### Snippet
```java
     * {@link org.apache.solr.client.solrj.SolrClient} implementation.
     *
     * @return the {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.SolrServerConfiguration} holding the configuration parameters
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfigurationProvider.java`
#### Snippet
```java
     * Provides a Solr configuration for Oak
     *
     * @return a {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.OakSolrConfiguration}
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfigurationProvider.java`
#### Snippet
```java

/**
 * A provider for {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.OakSolrConfiguration}s
 */
public interface OakSolrConfigurationProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/DefaultSolrConfiguration.java`
#### Snippet
```java

/**
 * Default {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.OakSolrConfiguration}
 */
public class DefaultSolrConfiguration implements OakSolrConfiguration {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/DefaultSolrConfigurationProvider.java`
#### Snippet
```java

/**
 * The default {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.OakSolrConfigurationProvider}
 */
public class DefaultSolrConfigurationProvider implements OakSolrConfigurationProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/RemoteSolrServerConfiguration.java`
#### Snippet
```java

/**
 * {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.SolrServerConfiguration} for the {@link org.apache.jackrabbit.oak.plugins.index.solr.server.RemoteSolrServerProvider}
 */
public class RemoteSolrServerConfiguration extends SolrServerConfiguration<RemoteSolrServerProvider> {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.server` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/RemoteSolrServerConfiguration.java`
#### Snippet
```java

/**
 * {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.SolrServerConfiguration} for the {@link org.apache.jackrabbit.oak.plugins.index.solr.server.RemoteSolrServerProvider}
 */
public class RemoteSolrServerConfiguration extends SolrServerConfiguration<RemoteSolrServerProvider> {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     *
     * @return <code>true</code> if {@link org.apache.jackrabbit.oak.plugins.index.solr.query.SolrQueryIndex} should be used
     * for filtering by {@link org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction}s
     */
    boolean useForPathRestrictions();
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     * Provide the names of the properties that should be neither indexed nor searched by the Solr index
     *
     * @return a {@link java.util.Collection} of property names for properties to be ignored
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     *
     * @return <code>true</code> if {@link org.apache.jackrabbit.oak.plugins.index.solr.query.SolrQueryIndex} should be used
     * for {@link org.apache.jackrabbit.oak.spi.query.Filter.PropertyRestriction}s
     */
    boolean useForPropertyRestrictions();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java

    /**
     * Provide a field name to search over for the given {@link org.apache.jackrabbit.oak.spi.query.Filter.PropertyRestriction}
     *
     * @param propertyRestriction the {@link org.apache.jackrabbit.oak.spi.query.Filter.PropertyRestriction} used for filtering search results
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     * Provide a field name to search over for the given {@link org.apache.jackrabbit.oak.spi.query.Filter.PropertyRestriction}
     *
     * @param propertyRestriction the {@link org.apache.jackrabbit.oak.spi.query.Filter.PropertyRestriction} used for filtering search results
     * @return the name of the Solr field to be used for the given {@code PropertyRestriction} or {@code null} if no specific field
     * has been configured for it.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.configuration` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     * Provide the commit policy to be used by a given {@link org.apache.solr.client.solrj.SolrClient}
     *
     * @return a {@link org.apache.jackrabbit.oak.plugins.index.solr.configuration.OakSolrConfiguration.CommitPolicy}
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java

    /**
     * Provide a field name to be used for indexing / searching a certain {@link org.apache.jackrabbit.oak.api.Type}
     *
     * @param propertyType the {@link org.apache.jackrabbit.oak.api.Type} to be indexed / searched
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     * Provide a field name to be used for indexing / searching a certain {@link org.apache.jackrabbit.oak.api.Type}
     *
     * @param propertyType the {@link org.apache.jackrabbit.oak.api.Type} to be indexed / searched
     * @return the name of the Solr field to be used for the given {@link org.apache.jackrabbit.oak.api.Type}, or {@code null}
     * if no specific field has been configured to handle the given {@code Type}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     *
     * @param propertyType the {@link org.apache.jackrabbit.oak.api.Type} to be indexed / searched
     * @return the name of the Solr field to be used for the given {@link org.apache.jackrabbit.oak.api.Type}, or {@code null}
     * if no specific field has been configured to handle the given {@code Type}.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     * Provide the names of the properties that should be indexed and searched by the Solr index
     *
     * @return a {@link java.util.Collection} of property names for properties to be ignored
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java

    /**
     * Provide a field name to search over for the given {@link org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction}
     *
     * @param pathRestriction the {@link org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction} used for filtering
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/OakSolrConfiguration.java`
#### Snippet
```java
     * Provide a field name to search over for the given {@link org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction}
     *
     * @param pathRestriction the {@link org.apache.jackrabbit.oak.spi.query.Filter.PathRestriction} used for filtering
     *                        search results or {@code null} if no specific field has been configured for it.
     * @return the name of the Solr field to be used for the given {@code PathRestriction}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.server` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerProvider.java`
#### Snippet
```java

/**
 * {@link org.apache.jackrabbit.oak.plugins.index.solr.server.SolrServerProvider} using configuration stored in a repository
 * node named "server" as a child of a {@code oak:queryIndexDefinition} node (e.g. under /../a/b/solrIndex/server)
 * having {@code type = solr}
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang.reflect` is unnecessary, and can be replaced with an import
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerProvider.java`
#### Snippet
```java
    }

    private void checkProviderInitialization() throws IllegalAccessException, java.lang.reflect.InvocationTargetException, InstantiationException {
        synchronized (nodeState) {
            if (provider == null) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.server` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/server/RemoteSolrServerProvider.java`
#### Snippet
```java

/**
 * {@link org.apache.jackrabbit.oak.plugins.index.solr.server.SolrServerProvider} for remote Solr installations.
 */
public class RemoteSolrServerProvider implements SolrServerProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java

/**
 * An {@link OakSolrConfiguration} specified via a given {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
 * For each of the supported properties a default is provided if either the
 * property doesn't exist in the node or if the value is <code>null</code>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/OakSolrNodeStateConfiguration.java`
#### Snippet
```java

    /**
     * Properties that may be retrieved from the configuration {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
     */
    public final class Properties {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/configuration/nodestate/NodeStateSolrServerConfigurationProvider.java`
#### Snippet
```java

    /**
     * Properties that may be retrieved from the configuration {@link org.apache.jackrabbit.oak.spi.state.NodeState}.
     */
    public final class Properties {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java

/**
 * the {@link FilterQueryParser} can parse {@link org.apache.jackrabbit.oak.spi.query.Filter}s
 * and transform them into {@link org.apache.solr.client.solrj.SolrQuery}s and / or Solr query {@code String}s.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.client.solrj` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/FilterQueryParser.java`
#### Snippet
```java
/**
 * the {@link FilterQueryParser} can parse {@link org.apache.jackrabbit.oak.spi.query.Filter}s
 * and transform them into {@link org.apache.solr.client.solrj.SolrQuery}s and / or Solr query {@code String}s.
 */
class FilterQueryParser {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/ConflictType.java`
#### Snippet
```java
 * Enum to define various types of conflicts.
 *
 * @see org.apache.jackrabbit.oak.spi.state.NodeStore#rebase(NodeBuilder)
 */
public enum ConflictType {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractRebaseDiff.java`
#### Snippet
```java
 * {@code AbstractRebaseDiff} serves as base for rebase implementations.
 * It implements a {@link NodeStateDiff}, which performs the conflict
 * handling as defined in {@link org.apache.jackrabbit.oak.spi.state.NodeStore#rebase(NodeBuilder)}
 * on the Oak SPI state level.
 * <p>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/PartialConflictHandler.java`
#### Snippet
```java
 *
 * @see ConflictHandler
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler} instead.
 */
@Deprecated
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandlers.java`
#### Snippet
```java
    @SuppressWarnings("deprecation")
    @NotNull
    private static Resolution wrap(@Nullable org.apache.jackrabbit.oak.spi.commit.PartialConflictHandler.Resolution r) {
        if (r == null) {
            return Resolution.IGNORED;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ConflictHandler.java`
#### Snippet
```java
 * instance ({@link Resolution#MERGED}).
 *
 * @deprecated Use {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler} instead.
 */
@Deprecated
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/ChangeDispatcher.java`
#### Snippet
```java
     * to no block any length of time (e.g. by relaying through a {@link BackgroundObserver}).
     * <p>
     * Clients need to call {@link java.io.Closeable#close()} close} on the returned
     * {@code Closeable} instance to stop receiving notifications.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/lifecycle/CompositeWorkspaceInitializer.java`
#### Snippet
```java
/**
 * Composite repository initializer that delegates the
 * {@link #initialize(org.apache.jackrabbit.oak.spi.state.NodeBuilder, String)}
 * calls in sequence to all the component initializers.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/BinaryBasedBlob.java`
#### Snippet
```java

/**
 * This Blob implementation is based on an underlying {@link javax.jcr.Binary}.
 * <p>
 * Any error accessing the underlying binary in {@link #getNewStream()} will be
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MutableNodeState.java`
#### Snippet
```java
 * {@link MemoryNodeBuilder}, so it's not a problem that we intentionally
 * break the immutability assumption of the
 * {@link org.apache.jackrabbit.oak.spi.state.NodeState} interface.
 */
class MutableNodeState extends AbstractNodeState {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MutableNodeState.java`
#### Snippet
```java
    /**
     * Flag to indicate that this child has been replace in its parent.
     * @see org.apache.jackrabbit.oak.spi.state.NodeBuilder#isReplaced()
     */
    private boolean replaced;
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getString()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getBoolean()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getLong()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getDate()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getType()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getDecimal()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getDouble()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getStream()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/value/jcr/ValueImpl.java`
#### Snippet
```java

    /**
     * @see javax.jcr.Value#getBinary()
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.solr.common` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
    /**
     * A cursor over Solr results. The result includes the path and the jcr:score pseudo-property as returned by Solr,
     * plus, eventually, the returned stored values if {@link org.apache.solr.common.SolrDocument} is included in the
     * {@link org.apache.jackrabbit.oak.plugins.index.solr.query.SolrQueryIndex.SolrResultRow}.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index.solr.query` is unnecessary and can be removed
in `oak-solr-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/solr/query/SolrQueryIndex.java`
#### Snippet
```java
     * A cursor over Solr results. The result includes the path and the jcr:score pseudo-property as returned by Solr,
     * plus, eventually, the returned stored values if {@link org.apache.solr.common.SolrDocument} is included in the
     * {@link org.apache.jackrabbit.oak.plugins.index.solr.query.SolrQueryIndex.SolrResultRow}.
     */
    private class SolrRowCursor implements Cursor {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/BinaryPropertyState.java`
#### Snippet
```java

    /**
     * Create a {@code PropertyState} from a {@link javax.jcr.Value}.
     * @param name  The name of the property state
     * @param value  The value of the property state
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeBuilder.java`
#### Snippet
```java
     * Each builder instance has its own copy of this revision counter for
     * quickly checking whether its base state needs updating.
     * @see #reset(org.apache.jackrabbit.oak.spi.state.NodeState)
     * @see #base()
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/MemoryNodeStore.java`
#### Snippet
```java
     * This implementation is equal to applying the differences between the builders base state
     * and its head state to a fresh builder on the stores root state using
     * {@link org.apache.jackrabbit.oak.spi.state.ConflictAnnotatingRebaseDiff} for resolving
     * conflicts.
     * @param builder  the builder to rebase
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/plugins/memory/AbstractPropertyState.java`
#### Snippet
```java

/**
 * Abstract base class for {@link org.apache.jackrabbit.oak.api.PropertyState} implementations. This
 * class provides default implementations of basic {@link Object} methods,
 * for consistency across all property states.
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `oak-segment-azure/src/main/java/org/apache/jackrabbit/oak/segment/azure/util/Environment.java`
#### Snippet
```java

/**
 * Wrapper around {@link java.lang.System#getenv()}. Can be sub-classed to provide alternative means to retrieve environment variables.
 */
public class Environment {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/descriptors/GenericDescriptors.java`
#### Snippet
```java
 * Default implementation of the {@link Descriptors} interface. Supports overlying of given default descriptors.
 */
public class GenericDescriptors implements org.apache.jackrabbit.oak.api.Descriptors {

    private final Descriptors base;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/StatisticManager.java`
#### Snippet
```java
     * @param statement  the query
     * @param millis     time it took to evaluate the query in milli seconds.
     * @see org.apache.jackrabbit.stats.QueryStatCore#logQuery(java.lang.String, java.lang.String, long)
     */
    public void logQueryEvaluationTime(String language, String statement, long millis) {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/StatisticManager.java`
#### Snippet
```java
     * @param statement  the query
     * @param millis     time it took to evaluate the query in milli seconds.
     * @see org.apache.jackrabbit.stats.QueryStatCore#logQuery(java.lang.String, java.lang.String, long)
     */
    public void logQueryEvaluationTime(String language, String statement, long millis) {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.management` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/JmxUtil.java`
#### Snippet
```java
    /**
     * Checks if the passed value string can be used as is as part of
     * JMX {@link javax.management.ObjectName} If it cannot be used then
     * it would return a quoted string which is then safe to be used
     * as part of ObjectName.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.management` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/AnnotatedStandardMBean.java`
#### Snippet
```java
     * mbeanInterface class.
     *
     * @see javax.management.StandardMBean#StandardMBean(Object, Class)
     */
    public <T> AnnotatedStandardMBean(T implementation, Class<T> mbeanInterface){
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.management` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/AnnotatedStandardMBean.java`
#### Snippet
```java

/**
 * The extension of {@link javax.management.StandardMBean} that will automatically provide JMX
 * metadata through annotations.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.management` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/AnnotatedStandardMBean.java`
#### Snippet
```java
 * metadata through annotations.
 *
 * @see javax.management.MBeanInfo
 * @see Description
 * @see Name
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.function` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
    @NotNull
    public static <T> List<T> getServices(@NotNull Whiteboard wb, @NotNull Class<T> type) {
        return getServices(wb, type, (java.util.function.Predicate<T>) null);
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.function` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java

    /**
     * @deprecated use {@link #getServices(Whiteboard, Class, java.util.function.Predicate)} instead
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.function` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
            @Nullable com.google.common.base.Predicate<T> predicate) {
        GuavaDeprecation.handleCall("OAK-8685");
        return getServices(wb, type, (java.util.function.Predicate<T>) (input) -> predicate.apply(input));
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.function` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/whiteboard/WhiteboardUtils.java`
#### Snippet
```java
    @Nullable
    public static <T> T getService(@NotNull Whiteboard wb, @NotNull Class<T> type) {
        return getService(wb, type, (java.util.function.Predicate<T>) null);
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
     * @param buffer      the output buffer
     * @return the number of bytes read, 0 meaning EOF or no space in buffer
     * @throws java.io.IOException If an error occurs.
     */
    public static int readFully(FileChannel channel, int position, ByteBuffer buffer)
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/IOUtils.java`
#### Snippet
```java
     * @param max    the number of bytes to read at most
     * @return the number of bytes read, 0 meaning EOF or no space in buffer
     * @throws java.io.IOException If an error occurs.
     */
    public static int readFully(InputStream in, byte[] buffer, int off, int max) throws IOException {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/cache/CacheLIRS.java`
#### Snippet
```java

            @Override
            public Set<java.util.Map.Entry<K, V>> entrySet() {
                return CacheLIRS.this.entrySet();
            }
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/BurnOnCloseFileIterator.java`
#### Snippet
```java

/**
 * Implements a {@link java.io.Closeable} wrapper over a {@link LineIterator}.
 * Also has a transformer to transform the output. If the underlying file is
 * provided then it deletes the file on {@link #close()}.
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.function` is unnecessary and can be removed
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnmergedBranches.java`
#### Snippet
```java
     * @param clusterId the clusterId of document store.
     * @param batchSize the batch size to purge uncommitted revisions & collisions
     * @param olderThanLastWrittenRootRevPredicate {@link java.util.function.Predicate} to filter revisions older than lastWrittenRootRev
     */
    void purgeUnmergedBranchCommitAndCollisionMarkers(final DocumentStore store, final int clusterId, final int batchSize,
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.document` is unnecessary and can be removed
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
     * The state of the cluster. On proper shutdown the state should be cleared.
     *
     * @see org.apache.jackrabbit.oak.plugins.document.ClusterNodeInfo.ClusterNodeState
     */
    public static final String STATE = "state";
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.document` is unnecessary and can be removed
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
     * defined as per
     *
     * @see org.apache.jackrabbit.oak.plugins.document.NodeDocument.SplitDocType
     */
    public static final String SD_TYPE = "_sdType";
```

### UnnecessaryFullyQualifiedName
Qualifier `org.slf4j` is unnecessary, and can be replaced with an import
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBJDBCTools.java`
#### Snippet
```java
public class RDBJDBCTools {

    private static final org.slf4j.Logger LOG = LoggerFactory.getLogger(RDBJDBCTools.class);

    protected static String jdbctype(String jdbcurl) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.slf4j` is unnecessary, and can be replaced with an import
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBConnectionHandler.java`
#### Snippet
```java
    private long closedTime = 0L;

    private static final org.slf4j.Logger LOG = LoggerFactory.getLogger(RDBConnectionHandler.class);

    /**
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
     * Returns an iterator for all the blob present in the store.
     *
     * <p>In some cases the iterator might implement {@link java.io.Closeable}. So
     * callers should check for such iterator and close them.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java

    /**
     * Implements a {@link java.io.Closeable} wrapper over a {@link LineIterator}.
     * Also has a transformer to transform the output. If the underlying file is
     * provide then it deletes the file on {@link #close()}.
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java

    /**
     * Closes the obj its of type {@link java.io.Closeable}. It is mostly
     * used to close Iterator/Iterables which are backed by say DBCursor
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/MultiGenerationMap.java`
#### Snippet
```java

    @Override
    public Set<java.util.Map.Entry<K, V>> entrySet() {
        throw new UnsupportedOperationException();
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.security.auth.login` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/ExternalIdentityProvider.java`
#### Snippet
```java
     * @return the user or {@code null}
     * @throws ExternalIdentityException if an error occurs
     * @throws javax.security.auth.login.LoginException if the user could not be authenticated
     */
    @Nullable
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/SyncHandler.java`
#### Snippet
```java
 * SyncHandler is used to sync users and groups from an {@link ExternalIdentityProvider}.
 * The synchronization performed within the scope of a {@link SyncContext} which is acquired during the
 * {@link #createContext(ExternalIdentityProvider, org.apache.jackrabbit.api.security.user.UserManager, javax.jcr.ValueFactory)} call.
 *
 * The exact configuration is managed by the sync handler instance. The system may contain several sync handler
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/SyncHandler.java`
#### Snippet
```java
 * SyncHandler is used to sync users and groups from an {@link ExternalIdentityProvider}.
 * The synchronization performed within the scope of a {@link SyncContext} which is acquired during the
 * {@link #createContext(ExternalIdentityProvider, org.apache.jackrabbit.api.security.user.UserManager, javax.jcr.ValueFactory)} call.
 *
 * The exact configuration is managed by the sync handler instance. The system may contain several sync handler
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.external` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/SyncHandler.java`
#### Snippet
```java
 * implementations with different configurations. those are managed by the {@link SyncManager}.
 *
 * @see org.apache.jackrabbit.oak.spi.security.authentication.external.SyncContext
 * @see org.apache.jackrabbit.oak.spi.security.authentication.external.SyncManager
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.external` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/SyncHandler.java`
#### Snippet
```java
 *
 * @see org.apache.jackrabbit.oak.spi.security.authentication.external.SyncContext
 * @see org.apache.jackrabbit.oak.spi.security.authentication.external.SyncManager
 */
public interface SyncHandler {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.external.impl` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DynamicSyncContext.java`
#### Snippet
```java
 * when user management is effectively take care of by the third party system.
 *
 * With the {@link org.apache.jackrabbit.oak.spi.security.authentication.external.impl.DefaultSyncHandler}
 * this feature can be turned on using
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.external.basic.DefaultSyncConfig.User#setDynamicMembership(boolean)}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.external.basic` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/DynamicSyncContext.java`
#### Snippet
```java
 * With the {@link org.apache.jackrabbit.oak.spi.security.authentication.external.impl.DefaultSyncHandler}
 * this feature can be turned on using
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.external.basic.DefaultSyncConfig.User#setDynamicMembership(boolean)}
 *
 * Note: users and groups that have been synchronized before the dynamic membership
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.external.basic` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/basic/AutoMembershipConfig.java`
#### Snippet
```java

/**
 * Optional extension of the {@link org.apache.jackrabbit.oak.spi.security.authentication.external.basic.DefaultSyncConfig.Authorizable#getAutoMembership()} 
 * that allows to define conditional auto-membership based on the nature of a given {@link Authorizable}.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.principal` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalGroupPrincipalProvider.java`
#### Snippet
```java
/**
 * Implementation of the {@code PrincipalProvider} interface that exposes
 * 'external' principals of type {@link org.apache.jackrabbit.api.security.principal.GroupPrincipal}. 'External'
 * refers to the fact that these principals are defined and managed by an
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.external.ExternalIdentityProvider}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.principal` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalGroupPrincipalProvider.java`
#### Snippet
```java

    /**
     * Implementation of the {@link org.apache.jackrabbit.api.security.principal.GroupPrincipal} interface representing 
     * external group identities that are represented as authorizable group in the repository's user management i.e.   
     * the {@code SyncHandler} configured for the IDP with the given name has dynamic-group option enabled.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.principal` is unnecessary and can be removed
in `oak-auth-external/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/external/impl/principal/ExternalGroupPrincipalProvider.java`
#### Snippet
```java

    /**
     * Implementation of the {@link org.apache.jackrabbit.api.security.principal.GroupPrincipal} interface representing external group
     * identities that are <strong>not</strong> represented as authorizable group
     * in the repository's user management.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.principalbased` is unnecessary and can be removed
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/FilterProviderImpl.java`
#### Snippet
```java

/**
 * Implementation of the {@link org.apache.jackrabbit.oak.spi.security.authorization.principalbased.Filter} interface that
 * consists of the following two filtering conditions:
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.principal` is unnecessary and can be removed
in `oak-authorization-principalbased/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/principalbased/impl/FilterProviderImpl.java`
#### Snippet
```java
 *
 * <ol>
 *     <li>All principals in the set must be of type {@link org.apache.jackrabbit.oak.spi.security.principal.SystemUserPrincipal}</li>
 *     <li>All principals in the set must be located in the repository below the configured path.</li>
 * </ol>
```

### UnnecessaryFullyQualifiedName
Qualifier `joptsimple` is unnecessary, and can be replaced with an import
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RDBDDLDumpCommand.java`
#### Snippet
```java
            }
            System.exit(0);
        } catch (joptsimple.OptionException ex) {
            System.err.println(ex.getLocalizedMessage());
            System.err.println(Arrays.toString(args));
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.segment.tool` is unnecessary and can be removed
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/CompactCommand.java`
#### Snippet
```java
                    .run();
        } else {
            org.apache.jackrabbit.oak.segment.tool.Compact.Builder tarBuilder = Compact.builder()
                    .withPath(new File(path))
                    .withForce(isTrue(forceArg.value(options)))
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.run` is unnecessary and can be removed
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
 *
 * NOTE - OAK-7671 plans on deprecating this command to delegate internally to use
 * @see org.apache.jackrabbit.oak.run.DataStoreCommand instead. So
 * any new support around Datastore should be added to @see org.apache.jackrabbit.oak.run.DataStoreCommand
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary, and can be replaced with an import
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
                } else if (v.startsWith("\":blobId:")) {
                    String base64 = v.substring(9, v.length() - 1);
                    String clear = new String(java.util.Base64.getDecoder().decode(base64), StandardCharsets.UTF_8);
                    v = JsopBuilder.encode(clear);
                    // we don't update the property, otherwise importing the index
```

### UnnecessaryFullyQualifiedName
Qualifier `java.awt.event` is unnecessary, and can be replaced with an import
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/Explorer.java`
#### Snippet
```java
        frame.addWindowListener(new java.awt.event.WindowAdapter() {
            @Override
            public void windowClosing(java.awt.event.WindowEvent windowEvent) {
                IOUtils.closeQuietly(treePanel);
                System.exit(0);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.awt.event` is unnecessary, and can be replaced with an import
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/Explorer.java`
#### Snippet
```java

        final JFrame frame = new JFrame("Explore " + path + " @head");
        frame.addWindowListener(new java.awt.event.WindowAdapter() {
            @Override
            public void windowClosing(java.awt.event.WindowEvent windowEvent) {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.swing` is unnecessary and can be removed
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/Explorer.java`
#### Snippet
```java
        this.backend = backend;

        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                initLF();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary, and can be replaced with an import
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/predefined/PredefinedAuthorizationConfiguration.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.security.RegistrationConstants.OAK_SECURITY_NAME;

@Component(service = {AuthorizationConfiguration.class, org.apache.jackrabbit.oak.spi.security.SecurityConfiguration.class},
        property = OAK_SECURITY_NAME + "=org.apache.jackrabbit.oak.exercise.security.authorization.models.predefined.PredefinedAuthorizationConfiguration",
        configurationPolicy = ConfigurationPolicy.REQUIRE)
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/readonly/ReadOnlyAuthorizationConfiguration.java`
#### Snippet
```java
 *
 */
@Component(service = {AuthorizationConfiguration.class, org.apache.jackrabbit.oak.spi.security.SecurityConfiguration.class},
        property = OAK_SECURITY_NAME + "=org.apache.jackrabbit.oak.exercise.security.authorization.models.readonly.ReadOnlyAuthorizationConfiguration",
        configurationPolicy = ConfigurationPolicy.REQUIRE)
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary, and can be replaced with an import
in `oak-exercise/src/main/java/org/apache/jackrabbit/oak/exercise/security/authorization/models/simplifiedroles/ThreeRolesAuthorizationConfiguration.java`
#### Snippet
```java
import static org.apache.jackrabbit.oak.spi.security.RegistrationConstants.OAK_SECURITY_NAME;

@Component(service = {AuthorizationConfiguration.class, org.apache.jackrabbit.oak.spi.security.SecurityConfiguration.class},
        property = OAK_SECURITY_NAME + "=org.apache.jackrabbit.oak.exercise.security.authorization.models.simplifiedroles.ThreeRolesAuthorizationConfiguration",
        immediate = true,
```

### UnnecessaryFullyQualifiedName
Qualifier `java.sql` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/QueryValidator.java`
#### Snippet
```java
                    key("failQuery").value(failQuery).newline().
                    key("executedLast").value(
                            executedLast == 0 ? "" : new java.sql.Timestamp(executedLast).toString()).newline().
                    key("executedCount").value(executedCount).newline().
                    endObject().toString();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.index` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/IndexUpdateCallback.java`
#### Snippet
```java

    /**
     * Invoked by the {@link org.apache.jackrabbit.oak.plugins.index.IndexEditor} for every NodeState
     * indexed it.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/ImmutableTree.java`
#### Snippet
```java
 * hierarchical view of the tree structure is the responsibility of the caller.
 * It is recommended to start with the state of the
 * {@link #ImmutableTree(org.apache.jackrabbit.oak.spi.state.NodeState) root node}
 * and build up the hierarchy by calling
 * {@link #ImmutableTree(ImmutableTree, String, org.apache.jackrabbit.oak.spi.state.NodeState)}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/ImmutableTree.java`
#### Snippet
```java
 * {@link #ImmutableTree(org.apache.jackrabbit.oak.spi.state.NodeState) root node}
 * and build up the hierarchy by calling
 * {@link #ImmutableTree(ImmutableTree, String, org.apache.jackrabbit.oak.spi.state.NodeState)}
 * for every subsequent child state. Note, that this implementation will not
 * perform any kind of validation of the passed state and methods like {@link #isRoot()},
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.state` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/ImmutableTree.java`
#### Snippet
```java
 * create by that sequence. In order to create a disconnected individual tree in cases where
 * the hierarchy information is not (yet) need or known it is suggested to use
 * {@link #ImmutableTree(ImmutableTree.ParentProvider, String, org.apache.jackrabbit.oak.spi.state.NodeState)}
 * an specify an appropriate {@code ParentProvider} implementation.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.tree.impl` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/tree/impl/ImmutableTree.java`
#### Snippet
```java
 *
 * <h3>Equality and hash code</h3>
 * In contrast to {@link org.apache.jackrabbit.oak.plugins.tree.impl.AbstractMutableTree}
 * the {@code ImmutableTree} implements
 * {@link Object#equals(Object)} and {@link Object#hashCode()}: Two {@code ImmutableTree}s
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/ConflictHook.java`
#### Snippet
```java
 * conflicts. It does so by detecting the presence of conflict
 * markers added by the Microkernel and delegating to a
 * {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler}
 * for resolving the conflicts.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/DefaultThreeWayConflictHandler.java`
#### Snippet
```java
    /**
     * A {@code ConflictHandler} which always return
     * {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler.Resolution#THEIRS}.
     */
    public static final ThreeWayConflictHandler THEIRS = new DefaultThreeWayConflictHandler(Resolution.THEIRS);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/DefaultThreeWayConflictHandler.java`
#### Snippet
```java
    /**
     * A {@code ConflictHandler} which always return
     * {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler.Resolution#OURS}.
     */
    public static final ThreeWayConflictHandler OURS = new DefaultThreeWayConflictHandler(Resolution.OURS);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/AnnotatingConflictHandler.java`
#### Snippet
```java
/**
 * This {@link ThreeWayConflictHandler} implementation resolves conflicts to
 * {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler.Resolution#THEIRS} and in addition marks nodes where a
 * conflict occurred with the mixin {@code rep:MergeConflict}:
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/DefaultConflictHandler.java`
#### Snippet
```java

    /**
     * A {@code ConflictHandler} which always return {@link org.apache.jackrabbit.oak.spi.commit.ConflictHandler.Resolution#THEIRS}.
     */
    public static final ConflictHandler THEIRS = new DefaultConflictHandler(Resolution.THEIRS);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/DefaultConflictHandler.java`
#### Snippet
```java
 * It can be used to implement default behaviour or as a base class for more specialised
 * implementations.
 * @deprecated Use {@link org.apache.jackrabbit.oak.plugins.commit.DefaultThreeWayConflictHandler} instead.
 */
@Deprecated
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/commit/DefaultConflictHandler.java`
#### Snippet
```java

    /**
     * A {@code ConflictHandler} which always return {@link org.apache.jackrabbit.oak.spi.commit.ConflictHandler.Resolution#OURS}.
     */
    public static final ConflictHandler OURS = new DefaultConflictHandler(Resolution.OURS);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.metric` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/StatisticsProviderFactory.java`
#### Snippet
```java

    private StatisticsProvider createMetricsProvider(ScheduledExecutorService executor) {
        org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProvider metricProvider =
         new org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProvider(server, executor);
        Dictionary<Object, Object> dictionary = new Hashtable<Object, Object>();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.metric` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/metric/StatisticsProviderFactory.java`
#### Snippet
```java
    private StatisticsProvider createMetricsProvider(ScheduledExecutorService executor) {
        org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProvider metricProvider =
         new org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProvider(server, executor);
        Dictionary<Object, Object> dictionary = new Hashtable<Object, Object>();
        dictionary.put("name", "oak");
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/itemsave/ItemSaveValidator.java`
#### Snippet
```java

    /**
     * Name of the property whose {@link #propertyChanged(org.apache.jackrabbit.oak.api.PropertyState, org.apache.jackrabbit.oak.api.PropertyState)} to
     * ignore or {@code null} if no property should be ignored.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/itemsave/ItemSaveValidator.java`
#### Snippet
```java

    /**
     * Name of the property whose {@link #propertyChanged(org.apache.jackrabbit.oak.api.PropertyState, org.apache.jackrabbit.oak.api.PropertyState)} to
     * ignore or {@code null} if no property should be ignored.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.nodetype` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/ReadOnlyNodeTypeManager.java`
#### Snippet
```java

    /**
     * The value factory to be used by {@link org.apache.jackrabbit.oak.plugins.nodetype.PropertyDefinitionImpl#getDefaultValues()}.
     * If {@code null} the former returns {@code null}.
     * @return  {@code ValueFactory} instance or {@code null}.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/ReadOnlyNodeTypeManager.java`
#### Snippet
```java
     * @param jcrName JCR node type name.
     * @return the internal representation of the given JCR name.
     * @throws javax.jcr.RepositoryException If there is no valid internal representation
     * of the specified JCR name.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/TypeEditor.java`
#### Snippet
```java
         * Invoked whenever a constraint violation is detected.
         * 
         * <p>Implementors may choose to throw a {@link org.apache.jackrabbit.oak.api.CommitFailedException} or to handle the error
         * internally, for instance by logging.</p>
         * 
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.observation.filter` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterConfigMBean.java`
#### Snippet
```java
     * A set of paths, potentially containing globs, that include all events of this filter.
     * @return  list of paths
     * @see org.apache.jackrabbit.oak.plugins.observation.filter.FilterBuilder#addSubTree(String)
     */
    String[] getPaths();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.observation.filter` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/observation/filter/FilterProvider.java`
#### Snippet
```java
     * A set of paths whose subtrees include all events of this filter.
     * @return  list of paths
     * @see org.apache.jackrabbit.oak.plugins.observation.filter.FilterBuilder#addSubTree(String)
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableProperties.java`
#### Snippet
```java
     * property: located outside of the scope of this authorizable or one
     * that represents protected content that cannot be modified using this API.
     * @see #setProperty(String, javax.jcr.Value)
     */
    void setProperty(@NotNull String relPath, @Nullable Value[] values) throws RepositoryException;
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableProperties.java`
#### Snippet
```java
     * property: located outside of the scope of this authorizable or one
     * that represents protected content that cannot be modified using this API.
     * @see #setProperty(String, javax.jcr.Value[])
     */
    void setProperty(@NotNull String relPath, @Nullable Value value) throws RepositoryException;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/CacheValidatorProvider.java`
#### Snippet
```java
/**
 * Validator provider to ensure that the principal-cache stored with a given
 * user is only maintained by the {@link org.apache.jackrabbit.oak.security.user.UserPrincipalProvider}
 * associated with a internal system session.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
     * @param msg The message to log a warning in case of {@link ImportBehavior#IGNORE}
     *            or {@link ImportBehavior#BESTEFFORT}
     * @throws javax.jcr.nodetype.ConstraintViolationException
     *          If the import
     *          behavior is {@link ImportBehavior#ABORT}.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
 * The importer is intended to be used by applications that import user content
 * extracted from another repository instance and immediately persist the
 * imported content using {@link javax.jcr.Session#save()}. Omitting the
 * save call will lead to transient, semi-validated user content and eventually
 * to inconsistencies.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
 * <li>Importing user/group nodes outside of the hierarchy defined by the two
 * configuration options
 * {@link org.apache.jackrabbit.oak.spi.security.user.UserConstants#PARAM_GROUP_PATH}
 * and {@link org.apache.jackrabbit.oak.spi.security.user.UserConstants#PARAM_USER_PATH}
 * will fail upon {@code Root#commit()}. The same may
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
 * configuration options
 * {@link org.apache.jackrabbit.oak.spi.security.user.UserConstants#PARAM_GROUP_PATH}
 * and {@link org.apache.jackrabbit.oak.spi.security.user.UserConstants#PARAM_USER_PATH}
 * will fail upon {@code Root#commit()}. The same may
 * be true in case of {@link ImportUUIDBehavior#IMPORT_UUID_COLLISION_REPLACE_EXISTING}
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserImporter.java`
#### Snippet
```java
 * itself currently doesn't perform such a validation check.</li>
 * <li>Any attempt to import conflicting data will cause the import to fail
 * either immediately or upon calling {@link javax.jcr.Session#save()} with the
 * following exceptions:
 * <ul>
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/PasswordHistory.java`
#### Snippet
```java
     * included in the history and the history was successfully updated;
     * {@code false} otherwise.
     * @throws javax.jcr.nodetype.ConstraintViolationException If the feature
     * is enabled and the new password is found in the history.
     * @throws javax.jcr.AccessDeniedException If the rep:pwd tree cannot be
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/PasswordHistory.java`
#### Snippet
```java
     * @throws javax.jcr.nodetype.ConstraintViolationException If the feature
     * is enabled and the new password is found in the history.
     * @throws javax.jcr.AccessDeniedException If the rep:pwd tree cannot be
     * accessed.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
 * <ul>
 * <li>Users are created below /rep:security/rep:authorizables/rep:users or
 * the path configured in the {@link org.apache.jackrabbit.oak.spi.security.user.UserConstants#PARAM_USER_PATH}
 * respectively.</li>
 * <li>Groups are created below /rep:security/rep:authorizables/rep:groups or
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
 * respectively.</li>
 * <li>Groups are created below /rep:security/rep:authorizables/rep:groups or
 * the path configured in the {@link org.apache.jackrabbit.oak.spi.security.user.UserConstants#PARAM_GROUP_PATH}
 * respectively.</li>
 * <li>Below each category authorizables are created within a human readable
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
 * <h3>By ID</h3>
 * Accessing authorizables by ID is achieved by calculating the ContentId
 * associated with that user/group and using {@link org.apache.jackrabbit.oak.api.QueryEngine}
 * to find the corresponding {@code Tree}. The result is validated to really
 * represent a user/group tree.
```

### UnnecessaryFullyQualifiedName
Qualifier `java.security` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
 *
 * <h3>By Principal</h3>
 * If the principal instance passed to {@link #getAuthorizableByPrincipal(java.security.Principal)}
 * is a {@code TreeBasedPrincipal} the lookup is equivalent to
 * {@link #getAuthorizableByPath(String)}. Otherwise the user/group is search
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserProvider.java`
#### Snippet
```java
 * is a {@code TreeBasedPrincipal} the lookup is equivalent to
 * {@link #getAuthorizableByPath(String)}. Otherwise the user/group is search
 * for using {@link org.apache.jackrabbit.oak.api.QueryEngine} looking
 * for a property {@link UserConstants#REP_PRINCIPAL_NAME} that matches the
 * name of the specified principal.
```

### UnnecessaryFullyQualifiedName
Qualifier `java.text` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableBaseProvider.java`
#### Snippet
```java
        String s = authorizableId.toLowerCase();
        if (usercaseMappedProfile) {
            s = java.text.Normalizer.normalize(s, java.text.Normalizer.Form.NFKC);
        }
        return UUIDUtils.generateUUID(s);
```

### UnnecessaryFullyQualifiedName
Qualifier `java.text` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizableBaseProvider.java`
#### Snippet
```java
        String s = authorizableId.toLowerCase();
        if (usercaseMappedProfile) {
            s = java.text.Normalizer.normalize(s, java.text.Normalizer.Form.NFKC);
        }
        return UUIDUtils.generateUUID(s);
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizablePropertiesImpl.java`
#### Snippet
```java

    /**
     * @see org.apache.jackrabbit.api.security.user.Authorizable#setProperty(String, javax.jcr.Value[])
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/AuthorizablePropertiesImpl.java`
#### Snippet
```java

    /**
     * @see org.apache.jackrabbit.api.security.user.Authorizable#setProperty(String, javax.jcr.Value)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserAuthentication.java`
#### Snippet
```java
 * </ul>
 *
 * For any other credentials {@link #authenticate(javax.jcr.Credentials)}
 * will return {@code false} indicating that this implementation is not able
 * to verify their validity.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        @Override
        @Nullable
        org.apache.jackrabbit.api.security.user.Group getGroup() throws RepositoryException {
            if (group == null) {
                Authorizable authorizable = getUserManager().getAuthorizable(new PrincipalImpl(getName()));
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
                Authorizable authorizable = getUserManager().getAuthorizable(new PrincipalImpl(getName()));
                if (authorizable != null && authorizable.isGroup()) {
                    group = (org.apache.jackrabbit.api.security.user.Group) authorizable;
                }
            }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        @Override
        boolean isMember(@NotNull Authorizable authorizable) throws RepositoryException {
            org.apache.jackrabbit.api.security.user.Group g = getGroup();
            return g != null && g.isMember(authorizable);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.query` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
                    .append(" order by @rep:principalName");
            Result result = root.getQueryEngine().executeQuery(
                    statement.toString(), javax.jcr.query.Query.XPATH,
                    limit, offset, NO_BINDINGS, namePathMapper.getSessionLocalMappings());

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
    private static final class GroupPrincipalImpl extends BaseGroupPrincipal {

        private org.apache.jackrabbit.api.security.user.Group group;

        GroupPrincipalImpl(@NotNull String principalName, @NotNull String groupPath,
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java

        @Nullable
        abstract org.apache.jackrabbit.api.security.user.Group getGroup()throws RepositoryException;
    }

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
 * The {@code PrincipalProviderImpl} is a principal provider implementation
 * that operates on principal information read from user information exposed by
 * the configured {@link org.apache.jackrabbit.api.security.user.UserManager}.
 */
class UserPrincipalProvider implements PrincipalProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
    private static final class CachedGroupPrincipal extends BaseGroupPrincipal {

        private org.apache.jackrabbit.api.security.user.Group group;

        CachedGroupPrincipal(@NotNull String principalName, @NotNull NamePathMapper namePathMapper,
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        @Override
        public String getPath() throws RepositoryException {
            org.apache.jackrabbit.api.security.user.Group gr = getGroup();
            if (gr == null) {
                throw new RepositoryException("Failed to retrieve path of group principal " + getName());
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        @Override
        Iterator<Authorizable> getMembers() throws RepositoryException {
            org.apache.jackrabbit.api.security.user.Group g = getGroup();
            return (g == null) ? Collections.emptyIterator() : g.getMembers();
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
        @Override
        @Nullable
        org.apache.jackrabbit.api.security.user.Group getGroup() throws RepositoryException {
            if (group == null) {
                Authorizable authorizable = getUserManager().getAuthorizable(this);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/UserPrincipalProvider.java`
#### Snippet
```java
                Authorizable authorizable = getUserManager().getAuthorizable(this);
                if (authorizable != null && authorizable.isGroup()) {
                    group = (org.apache.jackrabbit.api.security.user.Group) authorizable;
                }
            }
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
     * @param memberIds The {@code memberIds} to be added or removed.
     * @return The sub-set of {@code memberIds} that could not be added/removed.
     * @throws javax.jcr.nodetype.ConstraintViolationException If any of the specified
     * IDs is empty string or null or if {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#ABORT}
     * is configured and an ID cannot be resolved to an existing (or accessible)
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
     * @return The sub-set of {@code memberIds} that could not be added/removed.
     * @throws javax.jcr.nodetype.ConstraintViolationException If any of the specified
     * IDs is empty string or null or if {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#ABORT}
     * is configured and an ID cannot be resolved to an existing (or accessible)
     * authorizable.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/GroupImpl.java`
#### Snippet
```java
     * is configured and an ID cannot be resolved to an existing (or accessible)
     * authorizable.
     * @throws javax.jcr.RepositoryException If another error occurs.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/UserQueryManager.java`
#### Snippet
```java
     * @param value            The property value to look for.
     * @param authorizableType Filter the search results to only return authorizable
     *                         trees of a given type. Passing {@link org.apache.jackrabbit.oak.spi.security.user.AuthorizableType#AUTHORIZABLE} indicates that
     *                         no filtering for a specific authorizable type is desired. However, properties
     *                         might still be search in the complete sub-tree of authorizables depending
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/UserQueryManager.java`
#### Snippet
```java
     *         search parameters and filters or an empty iterator if no result can be
     *         found.
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/UserQueryManager.java`
#### Snippet
```java
     * @param value            The property value to look for.
     * @param authorizableType Filter the search results to only return authorizable
     *                         trees of a given type. Passing {@link org.apache.jackrabbit.oak.spi.security.user.AuthorizableType#AUTHORIZABLE} indicates that
     *                         no filtering for a specific authorizable type is desired. However, properties
     *                         might still be search in the complete sub-tree of authorizables depending
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/query/UserQueryManager.java`
#### Snippet
```java
     *         search parameters and filters or an empty iterator if no result can be
     *         found.
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/user/whiteboard/WhiteboardUserAuthenticationFactory.java`
#### Snippet
```java

/**
 * Dynamic {@link org.apache.jackrabbit.oak.spi.security.user.UserAuthenticationFactory}
 * based on the available whiteboard services.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary, and can be replaced with an import
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/principal/PrincipalProviderImpl.java`
#### Snippet
```java
        Set<Principal> groupPrincipals = new HashSet<>();
        try {
            Iterator<org.apache.jackrabbit.api.security.user.Group> groups = authorizable.memberOf();
            while (groups.hasNext()) {
                Principal grPrincipal = groups.next().getPrincipal();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.privilege` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeManagerImpl.java`
#### Snippet
```java

    /**
     * Privilege implementation based on a {@link org.apache.jackrabbit.oak.spi.security.privilege.PrivilegeDefinition}.
     */
    private final class PrivilegeImpl implements Privilege {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/privilege/PrivilegeValidator.java`
#### Snippet
```java
     *
     * @param definitionTree The new privilege definition tree to validate.
     * @throws org.apache.jackrabbit.oak.api.CommitFailedException
     *          If any of
     *          the checks listed above fails.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/RepoPolicyTreePermission.java`
#### Snippet
```java
 *
 * For the same reason any other permissions are evaluated by checking the
 * {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.RepositoryPermission},
 * which apply for all items defined by this special subtree.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositePermissionProvider.java`
#### Snippet
```java
 * provider implementations. Note, that the aggregated provider implementations
 * *must* implement the
 * {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.AggregatedPermissionProvider}
 * interface.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeAccessControlManager.java`
#### Snippet
```java
 * Access control manager that aggregates a list of different access control
 * manager implementations. Note, that the implementations *must* implement
 * the {@link org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.PolicyOwner}
 * interface in order to be able to set and remove individual access control
 * policies.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java

    /**
     * Returns the {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.RepositoryPermission}
     * associated with the {@code Root} as specified in {@link #refresh(org.apache.jackrabbit.oak.api.Root, String)}
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
    /**
     * Returns the {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.RepositoryPermission}
     * associated with the {@code Root} as specified in {@link #refresh(org.apache.jackrabbit.oak.api.Root, String)}
     *
     * @return an instance of {@code RepositoryPermission}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
 * {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionProvider}.
 * Depending on the set of {@link java.security.Principal}s a given implementation
 * be may able to simplify the evaluation. See e.g. {@link org.apache.jackrabbit.oak.security.authorization.permission.AllPermissions}
 * and {@link org.apache.jackrabbit.oak.security.authorization.permission.NoPermissions}
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
 * Depending on the set of {@link java.security.Principal}s a given implementation
 * be may able to simplify the evaluation. See e.g. {@link org.apache.jackrabbit.oak.security.authorization.permission.AllPermissions}
 * and {@link org.apache.jackrabbit.oak.security.authorization.permission.NoPermissions}
 */
interface CompiledPermissions {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
     * @param tree The tree for which to retrieve the granted privileges.
     * @return the set of privileges or an empty set if no privileges are granted.
     * @see {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionProvider#getPrivileges(org.apache.jackrabbit.oak.api.Tree)}
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
     * @param parentPermission The permissions as present with the parent.
     * @return The permissions for the specified tree.
     * @see {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.TreePermission#getChildPermission(String, org.apache.jackrabbit.oak.spi.state.NodeState)}
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
     * @param permissions The permissions to be tested.
     * @return {@code true} if granted.
     * @see {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionProvider#isGranted(org.apache.jackrabbit.oak.api.Tree, org.apache.jackrabbit.oak.api.PropertyState, long)}
     */
    boolean isGranted(@NotNull Tree tree, @Nullable PropertyState property, long permissions);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
     * @param permissions The permissions to be tested.
     * @return {@code true} if granted.
     * @see {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionProvider#isGranted(org.apache.jackrabbit.oak.api.Tree, org.apache.jackrabbit.oak.api.PropertyState, long)}
     */
    boolean isGranted(@NotNull Tree tree, @Nullable PropertyState property, long permissions);
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/permission/CompiledPermissions.java`
#### Snippet
```java
     * @param parentPermission The permissions as present with the parent.
     * @return The permissions for the specified tree.
     * @see {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.TreePermission#getChildPermission(String, org.apache.jackrabbit.oak.spi.state.NodeState)}
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.restriction` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/PrefixPattern.java`
#### Snippet
```java
/**
 * <p>Implementation of the
 * {@link org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionPattern}
 * interface that returns {@code true} if the name of the target property or tree
 * starts with any of the configured namespace prefixes.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/restriction/RestrictionProviderImpl.java`
#### Snippet
```java
 *     <li>{@link #REP_PREFIXES}: A multivalued access control restriction
 *     which matches by name space prefix. The corresponding restriction type
 *     is {@link org.apache.jackrabbit.oak.api.Type#STRINGS}.</li>
 * </ul>
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/CommitMarker.java`
#### Snippet
```java

/**
 * Marker object to help the {@link org.apache.jackrabbit.oak.security.authentication.token.TokenValidatorProvider.TokenValidator}
 * identifying if login tokens have been issued and updated by the {@code TokenProvider}
 * implementation provided by this package and not through regular write
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/AuthenticationConfigurationImpl.java`
#### Snippet
```java
     * functionality. In case no login configuration for the specified app name
     * can be retrieve this implementation uses the default as defined by
     * {@link org.apache.jackrabbit.oak.spi.security.authentication.ConfigurationUtil#getDefaultConfiguration(org.apache.jackrabbit.oak.spi.security.ConfigurationParameters)}.
     * <p>
     * The {@link LoginContextProvider} implementation is intended to be used with
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenAuthentication.java`
#### Snippet
```java
/**
 * Implementation of the {@code Authentication} interface that deals with
 * token based login. {@link #authenticate(javax.jcr.Credentials) Authentication}
 * will be successful if the specified credentials are valid {@link TokenCredentials}
 * according to the characteristics and constraints enforced by {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenAuthentication.java`
#### Snippet
```java
 * token based login. {@link #authenticate(javax.jcr.Credentials) Authentication}
 * will be successful if the specified credentials are valid {@link TokenCredentials}
 * according to the characteristics and constraints enforced by {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}
 * and the information obtained using {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#getTokenInfo(String)}
 * respectively.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenAuthentication.java`
#### Snippet
```java
 * will be successful if the specified credentials are valid {@link TokenCredentials}
 * according to the characteristics and constraints enforced by {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}
 * and the information obtained using {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#getTokenInfo(String)}
 * respectively.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/user/LoginModuleImpl.java`
#### Snippet
```java
 *
 * <ul>
 *     <li>{@code Credentials} as specified in {@link javax.jcr.Repository#login(javax.jcr.Credentials)}
 *     in which case they are retrieved from the {@code CallbackHandler}.</li>
 *     <li>A {@link #SHARED_KEY_CREDENTIALS} entry in the shared state. The
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/user/LoginModuleImpl.java`
#### Snippet
```java
 *
 * <h3>Impersonation</h3>
 * Impersonation such as defined by {@link javax.jcr.Session#impersonate(javax.jcr.Credentials)}
 * is covered by this login module by the means of {@link ImpersonationCredentials}.
 * Impersonation will succeed if the {@link ImpersonationCredentials#getBaseCredentials() base credentials}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenConfigurationImpl.java`
#### Snippet
```java
    //-------------------------------------------------< TokenConfiguration >---
    /**
     * Returns a new instance of {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}.
     *
     * @param root The target root.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenConfigurationImpl.java`
#### Snippet
```java
     *
     * @param root The target root.
     * @return A new instance of {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.principal` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/CugExclude.java`
#### Snippet
```java
     * the following principal classes from CUG evaluation:
     * <ul>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.AdminPrincipal AdminPrincipals}</li>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.SystemPrincipal SystemPrincipal}</li>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.SystemUserPrincipal SystemUserPrincipal}</li>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.principal` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/CugExclude.java`
#### Snippet
```java
     * <ul>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.AdminPrincipal AdminPrincipals}</li>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.SystemPrincipal SystemPrincipal}</li>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.SystemUserPrincipal SystemUserPrincipal}</li>
     * </ul>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.principal` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/CugExclude.java`
#### Snippet
```java
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.AdminPrincipal AdminPrincipals}</li>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.SystemPrincipal SystemPrincipal}</li>
     *     <li>{@link org.apache.jackrabbit.oak.spi.security.principal.SystemUserPrincipal SystemUserPrincipal}</li>
     * </ul>
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 *     {@link AbstractLoginModule#getCredentials()})</li>
 *     <li>Validates the credentials based on the functionality provided by
 *     {@link TokenAuthentication#authenticate(javax.jcr.Credentials)}</li>
 *     <li>Upon success it retrieves {@code userId} from the {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenInfo}
 *     and calculates the principals associated with that user,</li>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 *     <li>Validates the credentials based on the functionality provided by
 *     {@link TokenAuthentication#authenticate(javax.jcr.Credentials)}</li>
 *     <li>Upon success it retrieves {@code userId} from the {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenInfo}
 *     and calculates the principals associated with that user,</li>
 *     <li>and finally puts the credentials on the shared state.</li>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * request for login token generation. This mandates that there are credentials
 * present on the shared state that fulfill the requirements defined by
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#doCreateToken(javax.jcr.Credentials)}.
 *
 * <h3>Example Configurations</h3>
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * request for login token generation. This mandates that there are credentials
 * present on the shared state that fulfill the requirements defined by
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#doCreateToken(javax.jcr.Credentials)}.
 *
 * <h3>Example Configurations</h3>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * addition the {@link TokenLoginModule} will issue a new token if the login
 * succeeded and the credentials provided by the shared state can be used
 * to issue a new login token (see {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#doCreateToken(javax.jcr.Credentials)}.
 *
 * <h4>TokenLoginModule as single way to login</h4>
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * addition the {@link TokenLoginModule} will issue a new token if the login
 * succeeded and the credentials provided by the shared state can be used
 * to issue a new login token (see {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#doCreateToken(javax.jcr.Credentials)}.
 *
 * <h4>TokenLoginModule as single way to login</h4>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * If the {@code TokenLoginModule} as single entry in the login configuration
 * the login token must be generated by the application by calling
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#createToken(Credentials)} or
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#createToken(String, java.util.Map)}.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * the login token must be generated by the application by calling
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#createToken(Credentials)} or
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#createToken(String, java.util.Map)}.
 */
public final class TokenLoginModule extends AbstractLoginModule {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenLoginModule.java`
#### Snippet
```java
 * the login token must be generated by the application by calling
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#createToken(Credentials)} or
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider#createToken(String, java.util.Map)}.
 */
public final class TokenLoginModule extends AbstractLoginModule {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPolicyImpl.java`
#### Snippet
```java
    /**
     * Validate the specified {@code principal} taking the configured
     * {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior} into account.
     *
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPolicyImpl.java`
#### Snippet
```java
     * @return if the principal is considered valid and can be added to the list.
     * @throws AccessControlException If the principal has an invalid name or
     * if {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#ABORT} is
     * configured and this principal is not known to the repository.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.cug` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPolicyImpl.java`
#### Snippet
```java

/**
 * Implementation of the {@link org.apache.jackrabbit.oak.spi.security.authorization.cug.CugPolicy}
 * interface that respects the configured {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior}.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugPolicyImpl.java`
#### Snippet
```java
/**
 * Implementation of the {@link org.apache.jackrabbit.oak.spi.security.authorization.cug.CugPolicy}
 * interface that respects the configured {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior}.
 */
class CugPolicyImpl implements CugPolicy {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authentication/token/TokenProviderImpl.java`
#### Snippet
```java
 * tokens in the content repository. As a precondition the configured the user
 * management implementation must provide paths for all
 * {@link org.apache.jackrabbit.api.security.user.User users} that refer to
 * a valid {@link Tree} in the content repository.
 * <p>
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.cug` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugConfiguration.java`
#### Snippet
```java

    /**
     * Reference to services implementing {@link org.apache.jackrabbit.oak.spi.security.authorization.cug.CugExclude}.
     */
    private CugExclude exclude;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.cug` is unnecessary and can be removed
in `oak-authorization-cug/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/cug/impl/CugExcludeImpl.java`
#### Snippet
```java

/**
 * Extension of the default {@link org.apache.jackrabbit.oak.spi.security.authorization.cug.CugExclude}
 * implementation that allow to specify additional principal names to be excluded
 * from CUG evaluation.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/MultiFilterSplitOrderBySearcher.java`
#### Snippet
```java

/**
 * Splits the query in {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.MultiFilterOrderBySearcher}
 * into multiple queries and unions the results.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/OrderByKeysetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates keyset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.OrderBySearcher}
 */
public class OrderByKeysetPageSearcher extends OrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/OrderByOffsetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates offset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.OrderBySearcher}
 */
public class OrderByOffsetPageSearcher extends OrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/MultiFilterOrderByKeysetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates keyset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.MultiFilterOrderBySearcher}
 */
public class MultiFilterOrderByKeysetPageSearcher extends MultiFilterOrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/MultiFilterSplitOrderByKeysetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates keyset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.MultiFilterSplitOrderBySearcher}
 */
public class MultiFilterSplitOrderByKeysetPageSearcher extends MultiFilterSplitOrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/MultiFilterSplitOrderByOffsetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates offset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.MultiFilterSplitOrderBySearcher}
 */
public class MultiFilterSplitOrderByOffsetPageSearcher extends MultiFilterSplitOrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/MultiFilterOrderByOffsetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates offset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.MultiFilterOrderBySearcher}
 */
public class MultiFilterOrderByOffsetPageSearcher extends MultiFilterOrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/SplitOrderByOffsetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates offset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.SplitOrderBySearcher}
 */
public class SplitOrderByOffsetPageSearcher extends SplitOrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/SplitOrderByKeysetPageSearcher.java`
#### Snippet
```java

/**
 * Simulates keyset pagination over the search {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.SplitOrderBySearcher}
 */
public class SplitOrderByKeysetPageSearcher extends SplitOrderBySearcher {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.scalability.benchmarks.search` is unnecessary and can be removed
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/SplitOrderBySearcher.java`
#### Snippet
```java

/**
 * Splits the search in {@link org.apache.jackrabbit.oak.scalability.benchmarks.search.OrderBySearcher} to multiple
 * queries and unions the results.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `com.amazonaws.regions` is unnecessary, and can be replaced with an import
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
        } else {
            if (StringUtils.isNullOrEmpty(region)) {
                com.amazonaws.regions.Region s3Region = Regions.getCurrentRegion();
                if (s3Region != null) {
                    region = s3Region.getName();
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-blob-cloud/src/main/java/org/apache/jackrabbit/oak/blob/cloud/s3/Utils.java`
#### Snippet
```java
     * @param fileName the properties file name
     * @return the properties
     * @throws java.io.IOException if the file doesn't exist
     */
    public static Properties readConfig(String fileName) throws IOException {
```

### UnnecessaryFullyQualifiedName
Qualifier `co.elastic.clients.elasticsearch._types.query_dsl` is unnecessary and can be removed
in `oak-search-elastic/src/main/java/org/apache/jackrabbit/oak/plugins/index/elastic/query/ElasticRequestHandler.java`
#### Snippet
```java
        QueryStringQuery.Builder qsqBuilder = new QueryStringQuery.Builder()
                .query(FulltextIndex.rewriteQueryText(text))
                .defaultOperator(co.elastic.clients.elasticsearch._types.query_dsl.Operator.And)
                .type(TextQueryType.CrossFields);
        if (FieldNames.FULLTEXT.equals(fieldName)) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.lucene.index` is unnecessary, and can be replaced with an import
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.java`
#### Snippet
```java
            ft.setTokenized(false);
            ft.setOmitNorms(false);
            ft.setIndexOptions(org.apache.lucene.index.FieldInfo.IndexOptions.DOCS_ONLY);
            ft.freeze();
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.commons` is unnecessary, and can be replaced with an import
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/writer/DefaultIndexWriter.java`
#### Snippet
```java
        }
        log.trace("Directory overall size: {}, files: {}",
                org.apache.jackrabbit.oak.commons.IOUtils.humanReadableByteCount(overallSize),
                sb.toString());
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.commons.io` is unnecessary, and can be replaced with an import
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexMeta.java`
#### Snippet
```java
            return p;
        } finally {
            org.apache.commons.io.IOUtils.closeQuietly(is);
        }
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.commons.io` is unnecessary, and can be replaced with an import
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexMeta.java`
#### Snippet
```java
            p.store(os, "Index metadata");
        } finally {
            org.apache.commons.io.IOUtils.closeQuietly(os);
        }
    }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.commons.io` is unnecessary, and can be replaced with an import
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
                return -1;
            } finally {
                org.apache.commons.io.IOUtils.closeQuietly(is);
            }

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.commons.io` is unnecessary, and can be replaced with an import
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/ActiveDeletedBlobCollectorFactory.java`
#### Snippet
```java
                LOG.warn("Couldn't write out last checked blob timestamp(" + timestamp + ")", e);
            } finally {
                org.apache.commons.io.IOUtils.closeQuietly(os);
            }

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/SharedBackend.java`
#### Snippet
```java
     * @param input the record file
     * @param name the name
     * @throws org.apache.jackrabbit.core.data.DataStoreException
     */
    void addMetadataRecord(final File input, final String name) throws DataStoreException;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/SharedBackend.java`
#### Snippet
```java
     * @param input the record input stream
     * @param name the name
     * @throws org.apache.jackrabbit.core.data.DataStoreException
     */
    void addMetadataRecord(final InputStream input, final String name) throws DataStoreException;
```

### UnnecessaryFullyQualifiedName
Qualifier `java.io` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/BlobStore.java`
#### Snippet
```java
     * Returns a new stream for given blobId. The streams returned from
     * multiple calls to this method are byte wise equals. That is,
     * subsequent calls to {@link java.io.InputStream#read() read}
     * return the same sequence of bytes as long as neither call throws
     * an exception.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#getRecord(DataIdentifier)} fails.
     *
     * @param blobId id of the record
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#getRecordIfStored(DataIdentifier)} fails.
     *
     * @param blobId id of the record
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#addRecord(InputStream)} is completed.
     *
     * @param blobId id of the record which was added
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#getRecordFromReference(String)} is completed.
     *
     * @param reference reference of the record retrieved
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a binary is added via {@link org.apache.jackrabbit.core.data.DataStore#addRecord(InputStream)}.
     *
     * @param timeTaken time taken to perform the operation
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java
    /**
     * Called when a {@link org.apache.jackrabbit.core.data.DataRecord} is retrieved via
     * {@link org.apache.jackrabbit.core.data.DataStore#getRecord(DataIdentifier)}.
     *
     * @param timeTaken time taken to perform the operation
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when {@link org.apache.jackrabbit.core.data.DataStore#deleteAllOlderThan(long)} fails.
     *
     * @param min time used for determining what to delete
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java
    /**
     * Called when deleting binaries older than a specified date, via
     * {@link org.apache.jackrabbit.core.data.DataStore#deleteAllOlderThan(long)}.
     *
     * @param timeTaken time taken to perform the deletion
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java
    /**
     * Called when a {@link org.apache.jackrabbit.core.data.DataRecord} is retrieved via
     * {@link org.apache.jackrabbit.core.data.DataStore#getRecordFromReference(String)}.
     *
     * @param timeTaken time taken to perform the operation
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#getRecord(DataIdentifier)} is completed.
     *
     * @param blobId id of the record retrieved
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#getRecordIfStored(DataIdentifier)} is completed.
     *
     * @param blobId id of the record retrieved
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#getRecordFromReference(String)} fails.
     *
     * @param reference reference of the record
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when {@link org.apache.jackrabbit.core.data.DataStore#deleteAllOlderThan(long)} is completed.
     *
     * @param deletedCount count of records deleted
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java

    /**
     * Called when a call to {@link org.apache.jackrabbit.core.data.DataStore#addRecord(InputStream)} fails.
     */
    void addRecordFailed();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.core.data` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/stats/BlobStatsCollector.java`
#### Snippet
```java
    /**
     * Called when a {@link org.apache.jackrabbit.core.data.DataRecord} is retrieved via
     * {@link org.apache.jackrabbit.core.data.DataStore#getRecordIfStored(DataIdentifier)}.
     *
     * @param timeTaken time taken to perform the operation
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
     * from string properties. User can specify the key in plain text and that
     * would be passed on this object via
     * {@link org.apache.jackrabbit.oak.commons.PropertiesUtil#populate(Object, java.util.Map, boolean)}
     * 
     * @param textKey base64 encoded key
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-blob/src/main/java/org/apache/jackrabbit/oak/spi/blob/AbstractBlobStore.java`
#### Snippet
```java
     * @param textKey base64 encoded key
     * @see org.apache.jackrabbit.oak.commons.PropertiesUtil#populate(Object,
     *      java.util.Map, boolean)
     */
    public void setReferenceKeyPlainText(String textKey) {
```

### UnnecessaryFullyQualifiedName
Qualifier `com.google.common.util.concurrent` is unnecessary, and can be replaced with an import
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            }

                        } catch(com.google.common.util.concurrent.UncheckedExecutionException e) {
                            System.out.println("Got an UncheckedException from the google cache probably: "+e);
                            try {
```

### UnnecessaryFullyQualifiedName
Qualifier `com.google.common.util.concurrent` is unnecessary, and can be replaced with an import
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                        writerInfosNode.setProperty(LEVEL2POINTER, level2Pointer);
                        session.save();
                    } catch(com.google.common.util.concurrent.UncheckedExecutionException e) {
                        System.out.println("Got an UncheckedException (levels: "+level1Pointer+"/"+level2Pointer+") from the google cache probably: "+e);
                        try {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AddMembersTest.java`
#### Snippet
```java
 * - numberOfMembers : the number of members that should be added in the test run
 * - batchSize : the size of the memberID-array to be passed to the addMembers call
 * - importBehavior : the {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior}; valid options are "besteffort", "ignore" and "abort"
 *
 * An importbehavior of "ignore" and "abort" will required the members to exist
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedNodeImporter.java`
#### Snippet
```java
     * @throws IllegalStateException If this method is called on
     * this importer without having reached {@link #end(Tree)}.
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    boolean start(@NotNull Tree protectedParent) throws IllegalStateException,
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedNodeImporter.java`
#### Snippet
```java
     * @param propInfos The properties of that child.
     * @throws IllegalStateException If called in an illegal state.
     * @throws javax.jcr.nodetype.ConstraintViolationException If the given
     * infos contain invalid or incomplete data and therefore cannot be properly
     * handled by this importer.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedNodeImporter.java`
#### Snippet
```java
     *
     * @throws IllegalStateException If end is called in an illegal state.
     * @throws javax.jcr.nodetype.ConstraintViolationException If this method
     * is called before all required child information has been imported.
     * @throws RepositoryException If another error occurs.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedNodeImporter.java`
#### Snippet
```java
     * @param protectedParent The protected parent tree.
     * @throws IllegalStateException If end is called in an illegal state.
     * @throws javax.jcr.nodetype.ConstraintViolationException If the tree
     * that was imported is incomplete.
     * @throws RepositoryException If another error occurs.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedItemImporter.java`
#### Snippet
```java
     * @param isWorkspaceImport A flag indicating whether the import has been
     * started from the {@link javax.jcr.Workspace} or from the
     * {@link javax.jcr.Session}. Implementations are free to implement both
     * types of imports or only a single one. For example it doesn't make sense
     * to allow for importing versions along with a Session import as
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedItemImporter.java`
#### Snippet
```java
     * handled by this importer already.
     *
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    void processReferences() throws RepositoryException;
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedPropertyImporter.java`
#### Snippet
```java
     * @return {@code true} If the property could be successfully imported;
     * {@code false} otherwise.
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    boolean handlePropInfo(@NotNull Tree parent, @NotNull PropInfo protectedPropInfo,
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.nodetype` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ProtectedPropertyImporter.java`
#### Snippet
```java
     * @param protectedParent The protected parent tree.
     * @throws IllegalStateException If this method is called in an illegal state.
     * @throws javax.jcr.nodetype.ConstraintViolationException If the set of
     * properties was incomplete and the importer was not able to fix the problem.
     * @throws RepositoryException If another error occurs.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/Context.java`
#### Snippet
```java
/**
 * {@code Context} represents item related information in relation to a
 * dedicated {@link org.apache.jackrabbit.oak.spi.security.SecurityConfiguration}.
 * This information allows to determine if a given {@code Tree} or {@link PropertyState}
 * is defined by or related to the security model provided by the configuration.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/OpenSecurityProvider.java`
#### Snippet
```java
 * such as e.g. user or access control management.
 *
 * @see org.apache.jackrabbit.oak.spi.security.authentication.OpenAuthenticationConfiguration
 * @see org.apache.jackrabbit.oak.spi.security.authorization.OpenAuthorizationConfiguration
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/OpenSecurityProvider.java`
#### Snippet
```java
 *
 * @see org.apache.jackrabbit.oak.spi.security.authentication.OpenAuthenticationConfiguration
 * @see org.apache.jackrabbit.oak.spi.security.authorization.OpenAuthorizationConfiguration
 */
public class OpenSecurityProvider implements SecurityProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/SecurityProvider.java`
#### Snippet
```java
    /**
     * Allows to retrieve the configuration parameters associated with a
     * given {@link org.apache.jackrabbit.oak.spi.security.SecurityConfiguration}
     * accessible by this provider. If the specified name is {@code null}
     * the global config parameters will be returned.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/SecurityProvider.java`
#### Snippet
```java

    /**
     * Returns all available {@link org.apache.jackrabbit.oak.spi.security.SecurityConfiguration}s.
     *
     * @return the available {@link org.apache.jackrabbit.oak.spi.security.SecurityConfiguration}s.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/SecurityProvider.java`
#### Snippet
```java
     * Returns all available {@link org.apache.jackrabbit.oak.spi.security.SecurityConfiguration}s.
     *
     * @return the available {@link org.apache.jackrabbit.oak.spi.security.SecurityConfiguration}s.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/UserAuthenticationFactory.java`
#### Snippet
```java
/**
 * Provides a user management specific implementation of the
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.Authentication}
 * interface to those {@link javax.security.auth.spi.LoginModule}s that verify
 * a given authentication request by evaluation information exposed by the
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/UserAuthenticationFactory.java`
#### Snippet
```java

    /**
     * Returns an implementation {@link org.apache.jackrabbit.oak.spi.security.authentication.Authentication}
     * for the specified {@code userId}.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/UserAuthenticationFactory.java`
#### Snippet
```java
     *
     * @param configuration The user configuration.
     * @param root   The {@link org.apache.jackrabbit.oak.api.Root} that provides repository access.
     * @param userId The userId for which a user authentication is provided.
     * @return The authentication object for the given {@code configuration} and
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.util` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/AuthorizableNodeName.java`
#### Snippet
```java
     * Default implementation of the {@code AuthorizableNodeName} interface
     * that uses the specified authorizable identifier as node name
     * {@link org.apache.jackrabbit.util.Text#escapeIllegalJcrChars(String) escaping}
     * any illegal JCR chars.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.commit` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/SecurityConfiguration.java`
#### Snippet
```java
     * Returns the list of conflict handlers available for this security configuration.
     *
     * @return A list of {@link org.apache.jackrabbit.oak.spi.commit.ThreeWayConflictHandler}.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AuthorizableAction.java`
#### Snippet
```java
     * Allows to add application specific behavior associated with the removal
     * of an authorizable. Note, that this method is called <strong>before</strong>
     * {@link org.apache.jackrabbit.api.security.user.Authorizable#remove} is executed (and persisted); thus the
     * target authorizable still exists.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AuthorizableAction.java`
#### Snippet
```java
     *
     * @param user The user that whose password is going to change.
     * @param newPassword The new password as specified in {@link org.apache.jackrabbit.api.security.user.User#changePassword}
     * @param root The root associated with the user manager.
     * @param namePathMapper
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AuthorizableAction.java`
#### Snippet
```java
     * @param root The root associated with the user manager.
     * @param namePathMapper
     * @throws javax.jcr.RepositoryException If an error occurs.
     */
    void onCreate(@NotNull Group group, @NotNull Root root, @NotNull NamePathMapper namePathMapper) throws RepositoryException;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AuthorizableAction.java`
#### Snippet
```java
 * to adhere to this rule and must not 	pre-emptively call {@code Root.commit()}.
 *
 * @see org.apache.jackrabbit.oak.spi.security.ConfigurationParameters
 * @since OAK 1.0
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/AccessControlAction.java`
#### Snippet
```java
     * @param acMgr The access control manager.
     * @return Array of {@code Privilege}
     * @throws javax.jcr.RepositoryException If a privilege name cannot be
     * resolved to a valid privilege.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/UserUtil.java`
#### Snippet
```java

    /**
     * Return the configured {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior}
     * for the given {@code config}. The default behavior in case
     * {@link org.apache.jackrabbit.oak.spi.xml.ProtectedItemImporter#PARAM_IMPORT_BEHAVIOR}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/UserUtil.java`
#### Snippet
```java
     * Return the configured {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior}
     * for the given {@code config}. The default behavior in case
     * {@link org.apache.jackrabbit.oak.spi.xml.ProtectedItemImporter#PARAM_IMPORT_BEHAVIOR}
     * is not contained in the {@code config} object is
     * {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#IGNORE}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/UserUtil.java`
#### Snippet
```java
     * {@link org.apache.jackrabbit.oak.spi.xml.ProtectedItemImporter#PARAM_IMPORT_BEHAVIOR}
     * is not contained in the {@code config} object is
     * {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#IGNORE}
     *
     * @param config The configuration parameters.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/UserUtil.java`
#### Snippet
```java
     *
     * @param config The configuration parameters.
     * @return The import behavior as defined by {@link org.apache.jackrabbit.oak.spi.xml.ProtectedItemImporter#PARAM_IMPORT_BEHAVIOR}
     * or {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#IGNORE} if this
     * config parameter is missing.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.xml` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/util/UserUtil.java`
#### Snippet
```java
     * @param config The configuration parameters.
     * @return The import behavior as defined by {@link org.apache.jackrabbit.oak.spi.xml.ProtectedItemImporter#PARAM_IMPORT_BEHAVIOR}
     * or {@link org.apache.jackrabbit.oak.spi.xml.ImportBehavior#IGNORE} if this
     * config parameter is missing.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util.regex` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordValidationAction.java`
#### Snippet
```java
 * <ul>
 *     <li><strong>constraint</strong>: a regular expression that can be compiled
 *     to a {@link java.util.regex.Pattern} defining validation rules for a password.</li>
 * </ul>
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordValidationAction.java`
#### Snippet
```java
 *
 * @see org.apache.jackrabbit.api.security.user.UserManager#createUser(String, String)
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String)
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String, String)
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordValidationAction.java`
#### Snippet
```java
 * @see org.apache.jackrabbit.api.security.user.UserManager#createUser(String, String)
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String)
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String, String)
 */
public class PasswordValidationAction extends AbstractAuthorizableAction {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/ClearMembershipAction.java`
#### Snippet
```java
 * Authorizable action attempting to clear all group membership before removing
 * the specified authorizable. If {@link Group#removeMember(Authorizable)}
 * fails due to lack of permissions {@link AuthorizableAction#onRemove(org.apache.jackrabbit.api.security.user.Authorizable, org.apache.jackrabbit.oak.api.Root, org.apache.jackrabbit.oak.namepath.NamePathMapper)}
 * throws an exception and removing the specified authorizable will be aborted.
 * 
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/ClearMembershipAction.java`
#### Snippet
```java
 * Authorizable action attempting to clear all group membership before removing
 * the specified authorizable. If {@link Group#removeMember(Authorizable)}
 * fails due to lack of permissions {@link AuthorizableAction#onRemove(org.apache.jackrabbit.api.security.user.Authorizable, org.apache.jackrabbit.oak.api.Root, org.apache.jackrabbit.oak.namepath.NamePathMapper)}
 * throws an exception and removing the specified authorizable will be aborted.
 * 
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.namepath` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/ClearMembershipAction.java`
#### Snippet
```java
 * Authorizable action attempting to clear all group membership before removing
 * the specified authorizable. If {@link Group#removeMember(Authorizable)}
 * fails due to lack of permissions {@link AuthorizableAction#onRemove(org.apache.jackrabbit.api.security.user.Authorizable, org.apache.jackrabbit.oak.api.Root, org.apache.jackrabbit.oak.namepath.NamePathMapper)}
 * throws an exception and removing the specified authorizable will be aborted.
 * 
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordChangeAction.java`
#### Snippet
```java
/**
 * {@code PasswordChangeAction} asserts that the upon
 * {@link #onPasswordChange(org.apache.jackrabbit.api.security.user.User, String,
 * org.apache.jackrabbit.oak.api.Root, org.apache.jackrabbit.oak.namepath.NamePathMapper)}
 * a different, non-null password is specified.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordChangeAction.java`
#### Snippet
```java
 * {@code PasswordChangeAction} asserts that the upon
 * {@link #onPasswordChange(org.apache.jackrabbit.api.security.user.User, String,
 * org.apache.jackrabbit.oak.api.Root, org.apache.jackrabbit.oak.namepath.NamePathMapper)}
 * a different, non-null password is specified.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.namepath` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordChangeAction.java`
#### Snippet
```java
 * {@code PasswordChangeAction} asserts that the upon
 * {@link #onPasswordChange(org.apache.jackrabbit.api.security.user.User, String,
 * org.apache.jackrabbit.oak.api.Root, org.apache.jackrabbit.oak.namepath.NamePathMapper)}
 * a different, non-null password is specified.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordChangeAction.java`
#### Snippet
```java
 * a different, non-null password is specified.
 *
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String)
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String, String)
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/user/action/PasswordChangeAction.java`
#### Snippet
```java
 *
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String)
 * @see org.apache.jackrabbit.api.security.user.User#changePassword(String, String)
 *
 * @since OAK 1.0
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/principal/PrincipalIteratorAdapter.java`
#### Snippet
```java

    /**
     * Creates an adapter for the given {@link java.util.Iterator} of principals.
     *
     * @param iterator iterator of {@link java.security.Principal}s
```

### UnnecessaryFullyQualifiedName
Qualifier `java.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/principal/PrincipalIteratorAdapter.java`
#### Snippet
```java
     * Creates an adapter for the given {@link java.util.Iterator} of principals.
     *
     * @param iterator iterator of {@link java.security.Principal}s
     */
    public PrincipalIteratorAdapter(Iterator<? extends Principal> iterator) {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/principal/PrincipalProvider.java`
#### Snippet
```java
     * @param principal the principal to return it's membership from.
     * @return an iterator returning all groups the given principal is member of.
     * @see org.apache.jackrabbit.api.security.principal.GroupPrincipal#isMember(java.security.Principal)
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/permission/AggregatedPermissionProvider.java`
#### Snippet
```java
     * is not in charge of evaluating the specified privileges and thus will
     * be ignored while computing the composite result of
     * {@link PermissionProvider#getPrivileges(org.apache.jackrabbit.oak.api.Tree)}
     * or {@link PermissionProvider#hasPrivileges(org.apache.jackrabbit.oak.api.Tree, String...)}.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/permission/AggregatedPermissionProvider.java`
#### Snippet
```java
     * be ignored while computing the composite result of
     * {@link PermissionProvider#getPrivileges(org.apache.jackrabbit.oak.api.Tree)}
     * or {@link PermissionProvider#hasPrivileges(org.apache.jackrabbit.oak.api.Tree, String...)}.
     *
     * @param tree The tree for which the privileges will be evaluated or {@code null}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/permission/RepositoryPermission.java`
#### Snippet
```java
 * to a particular item.
 *
 * @see org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionProvider#getRepositoryPermission()
 */
public interface RepositoryPermission {
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/permission/PermissionProvider.java`
#### Snippet
```java
 * {@link javax.jcr.security.AccessControlManager} and {@link javax.jcr.Session}.
 *
 * @see org.apache.jackrabbit.oak.spi.security.authorization.AuthorizationConfiguration#getPermissionProvider(org.apache.jackrabbit.oak.api.Root, String, java.util.Set)
 */
public interface PermissionProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/permission/PermissionProvider.java`
#### Snippet
```java
     * associated with this provider instance.
     *
     * @return The {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.RepositoryPermission}
     * for the set of {@code Principal}s this provider instance has been created for.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/permission/PermissionConstants.java`
#### Snippet
```java
     * Currently the following values are respected:
     * <ul>
     *     <li>"USER_MANAGEMENT" : to avoid enforcing {@link org.apache.jackrabbit.oak.spi.security.authorization.permission.Permissions#USER_MANAGEMENT}
     *     permission.</li>
     *     <li>"REMOVE_NODE" : to enforce permission checks for all items located
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/RestrictionDefinitionImpl.java`
#### Snippet
```java
     * @param name           The oak name of the restriction definition.
     * @param type           The required type of this definition. Any valid JCR
     *                       {@link javax.jcr.PropertyType} except {@link javax.jcr.PropertyType#UNDEFINED}
     *                       is allowed.
     * @param isMandatory    A boolean indicating if the restriction is mandatory.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/RestrictionDefinitionImpl.java`
#### Snippet
```java
     * @param name           The oak name of the restriction definition.
     * @param type           The required type of this definition. Any valid JCR
     *                       {@link javax.jcr.PropertyType} except {@link javax.jcr.PropertyType#UNDEFINED}
     *                       is allowed.
     * @param isMandatory    A boolean indicating if the restriction is mandatory.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/restriction/RestrictionProvider.java`
#### Snippet
```java
     * Writes the given restrictions to the specified ACE tree. Note, that this
     * method does not need to validate the specified restrictions (see also
     * {@link #validateRestrictions(String, org.apache.jackrabbit.oak.api.Tree)}).
     *
     * @param oakPath The path of the access controlled tree or {@code null} if
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authorization.permission` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/privilege/PrivilegeBits.java`
#### Snippet
```java
     * @return {@code true} if this privilege bits includes no privileges
     *         at all; {@code false} otherwise.
     * @see org.apache.jackrabbit.oak.spi.security.authorization.permission.Permissions#NO_PERMISSION
     */
    public boolean isEmpty() {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/PolicyOwner.java`
#### Snippet
```java
     * {@code accessControlPolicy} at the given {@code absPath}. If this method
     * returns {@code true} it is expected that the given policy is valid to be
     * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy) set}
     * or {@link javax.jcr.security.AccessControlManager#removePolicy(String, javax.jcr.security.AccessControlPolicy) removed}
     * with the manager.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/PolicyOwner.java`
#### Snippet
```java
     * returns {@code true} it is expected that the given policy is valid to be
     * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy) set}
     * or {@link javax.jcr.security.AccessControlManager#removePolicy(String, javax.jcr.security.AccessControlPolicy) removed}
     * with the manager.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/PolicyOwner.java`
#### Snippet
```java
 * Interface to improve pluggability of the {@link javax.jcr.security.AccessControlManager},
 * namely the interaction of multiple managers within a
 * single repository. It provides a single method {@link #defines(String, javax.jcr.security.AccessControlPolicy)}
 * that allows to determine the responsible manager upon
 * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy) setPolicy}
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/PolicyOwner.java`
#### Snippet
```java
 * single repository. It provides a single method {@link #defines(String, javax.jcr.security.AccessControlPolicy)}
 * that allows to determine the responsible manager upon
 * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy) setPolicy}
 * and
 * {@link javax.jcr.security.AccessControlManager#removePolicy(String, javax.jcr.security.AccessControlPolicy) removePolicy}.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr.security` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/PolicyOwner.java`
#### Snippet
```java
 * {@link javax.jcr.security.AccessControlManager#setPolicy(String, javax.jcr.security.AccessControlPolicy) setPolicy}
 * and
 * {@link javax.jcr.security.AccessControlManager#removePolicy(String, javax.jcr.security.AccessControlPolicy) removePolicy}.
 */
public interface PolicyOwner {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.nodetype` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authorization/accesscontrol/AccessControlConstants.java`
#### Snippet
```java
     * An empty value array will make this restriction matching the target node only (i.e. equivalent to rep:glob=""). 
     * An array of property names will extend the effect of the restriction to properties of the target node that match 
     * the specified names. The {@link org.apache.jackrabbit.oak.spi.nodetype.NodeTypeConstants#RESIDUAL_NAME residual name '*'}  
     * will match the target node and all it's properties.</p>
     * <p>
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/GuestLoginModule.java`
#### Snippet
```java
 *
 * In this case calling {@link javax.jcr.Repository#login()} would be equivalent
 * to {@link javax.jcr.Repository#login(javax.jcr.Credentials) repository.login(new GuestCredentials()}.
 */
public final class GuestLoginModule implements LoginModule {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/Authentication.java`
#### Snippet
```java
/**
 * The {@code Authentication} interface defines methods to validate
 * {@link javax.jcr.Credentials Credentials} during the
 * {@link javax.security.auth.spi.LoginModule#login() login step} of the
 * authentication process. The validation depends on the authentication
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/ImpersonationCredentials.java`
#### Snippet
```java
    /**
     * Returns the {@code Credentials} originally passed to
     * {@link javax.jcr.Session#impersonate(javax.jcr.Credentials)}.
     *
     * @return the {@code Credentials} originally passed to
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/ImpersonationCredentials.java`
#### Snippet
```java
     *
     * @return the {@code Credentials} originally passed to
     * {@link javax.jcr.Session#impersonate(javax.jcr.Credentials)}.
     */
    public Credentials getBaseCredentials() {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/ImpersonationCredentials.java`
#### Snippet
```java
/**
 * Implementation of the JCR {@code Credentials} interface used to distinguish
 * a regular login request from {@link javax.jcr.Session#impersonate(javax.jcr.Credentials)}.
 */
public class ImpersonationCredentials implements Credentials {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginContextProvider.java`
#### Snippet
```java
 * the desired authentication mechanism.
 * <p>
 * This provider defines a single method {@link #getLoginContext(javax.jcr.Credentials, String)}
 * that takes the {@link Credentials credentials} and the workspace name such
 * as passed to {@link org.apache.jackrabbit.oak.api.ContentRepository#login(javax.jcr.Credentials, String)}.
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginContextProvider.java`
#### Snippet
```java
 * This provider defines a single method {@link #getLoginContext(javax.jcr.Credentials, String)}
 * that takes the {@link Credentials credentials} and the workspace name such
 * as passed to {@link org.apache.jackrabbit.oak.api.ContentRepository#login(javax.jcr.Credentials, String)}.
 */
public interface LoginContextProvider {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/LoginContextProvider.java`
#### Snippet
```java
     *
     * @param credentials The {@link Credentials} such as passed to the
     * {@link org.apache.jackrabbit.oak.api.ContentRepository#login(javax.jcr.Credentials, String) login}
     * method of the repository.
     * @param workspaceName The name of the workspace that is being accessed by
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/token/TokenConfiguration.java`
#### Snippet
```java

    /**
     * Returns a new instance of {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}.
     *
     * @param root The target root.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.token` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/token/TokenConfiguration.java`
#### Snippet
```java
     *
     * @param root The target root.
     * @return A new instance of {@link org.apache.jackrabbit.oak.spi.security.authentication.token.TokenProvider}.
     */
    @NotNull
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.api.security.user` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/callback/UserManagerCallback.java`
#### Snippet
```java
    /**
     * Returns the user provider as set using
     * {@link #setUserManager(org.apache.jackrabbit.api.security.user.UserManager)}
     * or {@code null}.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/callback/CredentialsCallback.java`
#### Snippet
```java
     * @param credentials The credentials to be used in the authentication
     * process. They may be null if no credentials have been specified in
     * {@link org.apache.jackrabbit.oak.api.ContentRepository#login(javax.jcr.Credentials, String)}
     */
    public void setCredentials(Credentials credentials) {
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/callback/CredentialsCallback.java`
#### Snippet
```java
    /**
     * Returns the {@link Credentials} that have been set before using
     * {@link #setCredentials(javax.jcr.Credentials)}.
     *
     * @return The {@link Credentials} to be used for authentication or {@code null}.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.principal` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/callback/PrincipalProviderCallback.java`
#### Snippet
```java
    /**
     * Returns the principal provider as set using
     * {@link #setPrincipalProvider(org.apache.jackrabbit.oak.spi.security.principal.PrincipalProvider)}
     * or {@code null}.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.whiteboard` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/callback/WhiteboardCallback.java`
#### Snippet
```java

/**
 * Callback implementation to set and retrieve the {@link org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard}.
 */
public class WhiteboardCallback implements Callback {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.credentials` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/SimpleCredentialsSupport.java`
#### Snippet
```java
/**
 * Implementation of the
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.credentials.CredentialsSupport}
 * interface that handles {@link javax.jcr.SimpleCredentials}.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `javax.jcr` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/SimpleCredentialsSupport.java`
#### Snippet
```java
 * Implementation of the
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.credentials.CredentialsSupport}
 * interface that handles {@link javax.jcr.SimpleCredentials}.
 */
public final class SimpleCredentialsSupport implements CredentialsSupport {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeLocation.java`
#### Snippet
```java

    /**
     * Get the underlying {@link org.apache.jackrabbit.oak.api.Tree} for this {@code TreeLocation}.
     * @return  this default implementation return {@code null}.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeLocation.java`
#### Snippet
```java

    /**
     * Get the underlying {@link org.apache.jackrabbit.oak.api.PropertyState} for this {@code TreeLocation}.
     * @return  this default implementation return {@code null}.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeLocation.java`
#### Snippet
```java

    /**
     * Determine whether the underlying {@link org.apache.jackrabbit.oak.api.Tree} or
     * {@link org.apache.jackrabbit.oak.api.PropertyState} for this {@code TreeLocation}
     * is available.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeLocation.java`
#### Snippet
```java
    /**
     * Determine whether the underlying {@link org.apache.jackrabbit.oak.api.Tree} or
     * {@link org.apache.jackrabbit.oak.api.PropertyState} for this {@code TreeLocation}
     * is available.
     * @return  {@code true} if the underlying item is available and has not been disconnected.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeLocation.java`
#### Snippet
```java
     * is available.
     * @return  {@code true} if the underlying item is available and has not been disconnected.
     * @see org.apache.jackrabbit.oak.api.Tree#exists()
     */
    public abstract boolean exists();
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.spi.security.authentication.credentials` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/CompositeCredentialsSupport.java`
#### Snippet
```java
/**
 * Composite implementation of the
 * {@link org.apache.jackrabbit.oak.spi.security.authentication.credentials.CredentialsSupport}
 * interface that handles multiple providers.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.plugins.tree` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java
     * @param tree The tree object to be tested.
     * @return {@code true} if the specified tree is an immutable read-only tree.
     * @see org.apache.jackrabbit.oak.plugins.tree.ReadOnly
     */
    public static boolean isReadOnlyTree(@NotNull Tree tree) {
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java
     * Adds a new child tree with the given name and primary type name.
     * This method is a shortcut for calling {@link Tree#addChild(String)} and
     * {@link Tree#setProperty(String, Object, org.apache.jackrabbit.oak.api.Type)}
     * where the property name is {@link JcrConstants#JCR_PRIMARYTYPE}.
     * Note, that this method in addition verifies if the created tree exists
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java
     * Returns the boolean representation of the property with the specified
     * {@code propertyName}. If the property does not exist or
     * {@link org.apache.jackrabbit.oak.api.PropertyState#isArray() is an array}
     * this method returns {@code false}.
     *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.jackrabbit.oak.api` is unnecessary and can be removed
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/plugins/tree/TreeUtil.java`
#### Snippet
```java

/**
 * Utility providing common operations for the {@link org.apache.jackrabbit.oak.api.Tree} that are not provided
 * by the API.
 */
```

## RuleId[id=ThrowablePrintStackTrace]
### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreDB.java`
#### Snippet
```java
                con.commit();
            } catch (SQLException ex) {
                ex.printStackTrace();
                LOG.debug("while getting diagnostics", ex);
            } finally {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Utils.java`
#### Snippet
```java
                return newArrayList(revisionIterator);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            dns.dispose();
        } catch (Throwable e) {
            e.printStackTrace();
        } finally {
            closer.close();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/GenerateVersionInconsistencyReport.java`
#### Snippet
```java
            } catch (InterruptedException e) {
                System.out.println("ProgressThread was interrupted");
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCacheUpgradeCommand.java`
#### Snippet
```java
            DataStoreCacheUpgradeUtils.upgrade(homeDir, path, moveCache, delPendingUploadsMapFile);
        } catch (Exception e) {
            e.printStackTrace();
            System.err.println("Error upgrading cache");
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ResetClusterIdCommand.java`
#### Snippet
```java
        } catch (CommitFailedException e) {
            System.err.println("Failed to delete clusterId due to exception: " + e.getMessage());
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/JsonIndexCommand.java`
#### Snippet
```java
                execute(json);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/index/merge/IndexDiff.java`
#### Snippet
```java
            }
        } catch (UnsupportedOperationException e) {
            e.printStackTrace();
            targetFile.getProperties().put("failed", JsopBuilder.encode(e.toString()));
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
                }
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/NodeStoreTree.java`
#### Snippet
```java
            updateStats(node);
        } catch (IllegalStateException ex) {
            ex.printStackTrace();

            StringBuilder sb = new StringBuilder();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/SearchScalabilityBenchmark.java`
#### Snippet
```java
            search(qm, context);
        } catch (RepositoryException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/scalability/benchmarks/search/AggregateNodeSearcher.java`
#### Snippet
```java
            context.getMap().remove(RELATIONSHIPS);
        } catch (RepositoryException e) {
            e.printStackTrace();
        }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentFileWriteTest.java`
#### Snippet
```java
                        session.getNode(path), new NullOutputStream());
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentFileWriteTest.java`
#### Snippet
```java
                addPath(file.getPath());
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                    Thread.sleep(1000);
                                } catch (InterruptedException e) {
                                    e.printStackTrace();
                                    System.exit(1);
                                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                                Thread.sleep(500);
                            } catch (InterruptedException e2) {
                                e.printStackTrace();
                                System.exit(1);
                            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            new SimpleCredentials("admin", "admin".toCharArray()));
                } catch (Exception e1) {
                    e1.printStackTrace();
                    System.exit(1);
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                            Thread.sleep(500);
                        } catch (InterruptedException e2) {
                            e.printStackTrace();
                            System.exit(1);
                        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                    System.exit(1);
                }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
            session.save();
        } catch (RepositoryException e1) {
            e1.printStackTrace();
            System.exit(1);
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/RevisionGCTest.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ManyNodes.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            } else {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ObservationTest.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/AbstractTest.java`
#### Snippet
```java
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/CreateNodesBenchmark.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
                }
            } catch (RepositoryException e) {
                e.printStackTrace();
                throw new RuntimeException(e);
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ConcurrentCreateNodesTest.java`
#### Snippet
```java
                }
            } catch (RepositoryException e) {
                e.printStackTrace();
                throw new RuntimeException(e);
            }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/wikipedia/WikipediaImport.java`
#### Snippet
```java
                    }
                } catch (Exception e) {
                    e.printStackTrace();
                }
            } else {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/scalability/suites/ScalabilityAbstractSuite.java`
#### Snippet
```java
            }
        } catch(Exception e) {
           e.printStackTrace(); 
        } finally {
            tearDown();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/authentication/external/AbstractExternalTest.java`
#### Snippet
```java
                        TimeUnit.MILLISECONDS.sleep(delay);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
```

## RuleId[id=ReplaceNullCheck]
### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/FileCache.java`
#### Snippet
```java
        //  TODO: Check persisting the in-memory map and initializing Vs building from fs
        // Build in-memory cache asynchronously from the file system entries
        if (executor == null) {
            this.executor = Executors.newSingleThreadExecutor();
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/xml/ImporterImpl.java`
#### Snippet
```java
                for (String original : values) {
                    String adjusted = refTracker.get(original);
                    if (adjusted != null) {
                        newValues.add(adjusted);
                    } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/WorkspaceDelegate.java`
#### Snippet
```java
        private void translateId(@NotNull String id, @NotNull List<String> ids) {
            String newId = translated.get(id);
            if (newId != null) {
                ids.add(newId);
            } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
            StringBuilder result = new StringBuilder();
            result.append(parentType.toString()).append(" > ");
            if (childNameConstraint == null) {
                result.append("*");
            } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/json/JsopDiff.java`
#### Snippet
```java
        this.blobs = blobs;

        if (path != null) {
            this.path = path;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-segment-aws/src/main/java/org/apache/jackrabbit/oak/segment/aws/DynamoDBClient.java`
#### Snippet
```java
        this.journalTable = new DynamoDB(ddb).getTable(journalTableName);
        this.lockTableName = lockTableName;
        if (provisioningData == null) {
            this.provisioningData = DynamoDBProvisioningData.DEFAULT;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/spi/descriptors/AggregatingDescriptors.java`
#### Snippet
```java
    private List<Descriptors> getDescriptors() {
    	final List<Descriptors> descriptors = tracker.getServices();
    	if (descriptors==null) {
    		return Collections.emptyList();
    	} else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/json/JsopBuilder.java`
#### Snippet
```java

    private int strLength(@Nullable String value) {
        if (value != null) {
            return value.length();
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UpdateOp.java`
#### Snippet
```java

    public Map<Key, Condition> getConditions() {
        if (conditions == null) {
            return Collections.emptyMap();
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCacheStats.java`
#### Snippet
```java
        super(PersistentCacheStatsMBean.class);

        if (provider == null) {
            statisticsProvider = StatisticsProvider.NOOP;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java
            int getCacheSize(String name, int otherwise) {
                Integer size = Integer.getInteger(name);
                if (size != null) {
                    return size;
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentId.java`
#### Snippet
```java
    @NotNull
    public GCGeneration getGcGeneration() {
        if (gcGeneration == null) {
            return getSegment().getGcGeneration();
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            public int getNodeDeduplicationCacheSize() {
                Integer size = Integer.getInteger("nodeDeduplicationCache.size");
                if (size != null) {
                    return roundToNextPowerOfTwo(size);
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            int getCacheSize(String name, int otherwise) {
                Integer size = Integer.getInteger(name);
                if (size != null) {
                    return size;
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            public int getTemplateCacheSize() {
                Integer size = Integer.getInteger("templateCache.size");
                if (size != null) {
                    return size;
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            public int getTemplateDeduplicationCacheSize() {
                Integer size = Integer.getInteger("templateDeduplicationCache.size");
                if (size != null) {
                    return size;
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            public int getStringDeduplicationCacheSize() {
                Integer size = Integer.getInteger("stringDeduplicationCache.size");
                if (size != null) {
                    return size;
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreService.java`
#### Snippet
```java
            public int getSegmentCacheSize() {
                Integer size = Integer.getInteger("segmentCache.size");
                if (size != null) {
                    return size;
                }
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/FullTextSearchScoreImpl.java`
#### Snippet
```java
    public PropertyValue currentProperty() {
        PropertyValue p = selector.currentOakProperty(QueryConstants.JCR_SCORE);
        if (p == null) {
            // TODO if score() is not supported by the index, use the value 0.0?
            return PropertyValues.newDouble(0.0);
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/PropertyDefinitionImpl.java`
#### Snippet
```java
        // TODO: namespace mapping?
        String[] valConstraints = getStrings(JcrConstants.JCR_VALUECONSTRAINTS);
        if (valConstraints != null) {
            return valConstraints;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/namepath/impl/GlobalNameMapper.java`
#### Snippet
```java
    protected Iterable<String> getPrefixes() {
        Iterable<String> prefs = getStrings(nsdata, REP_PREFIXES);
        if (prefs != null) {
            return prefs;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/principal/PrincipalConfigurationImpl.java`
#### Snippet
```java
        UserConfiguration uc = getSecurityProvider().getConfiguration(UserConfiguration.class);
        PrincipalProvider principalProvider = uc.getUserPrincipalProvider(root, namePathMapper);
        if (principalProvider != null) {
            // use user-implementation specific principal provider implementation
            return principalProvider;
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/composite/CompositeTreePermission.java`
#### Snippet
```java
                Tree tree = lazyTree.get();
                TreeType type;
                if (treeType != null) {
                    type = treeType;
                } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
        private int get(@NotNull SecurityConfiguration configuration) {
            Integer ranking = m.get(configuration);
            if (ranking == null) {
                return NO_RANKING;
            } else {
```

## RuleId[id=Anonymous2MethodRef]
### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/CompositeNodeStore.java`
#### Snippet
```java
    public Iterable<String> checkpoints() {
        final NodeStore globalNodeStore = ctx.getGlobalStore().getNodeStore();
        return filter(globalNodeStore.checkpoints(), new Predicate<String>() {
            @Override
            public boolean apply(String checkpoint) {
```

### Anonymous2MethodRef
Anonymous new Registration() can be replaced with method reference
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
            registerMBean(whiteboard, FilterConfigMBean.class,
                    filterProvider.get().getConfigMBean(), FilterConfigMBean.TYPE, name, attrs),
            new Registration() {
                @Override
                public void unregister() {
```

### Anonymous2MethodRef
Anonymous new Registration() can be replaced with method reference
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
                }
            },
            new Registration() {
                @Override
                public void unregister() {
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
                }
            },
            scheduleWithFixedDelay(whiteboard, new Runnable() {
                @Override
                public void run() {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/NodeDelegate.java`
#### Snippet
```java
        Iterator<Tree> iterator = getTree().getChildren().iterator();
        return transform(
                filter(iterator, new Predicate<Tree>() {
                    @Override
                    public boolean apply(Tree tree) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/SameNameSiblingsEditor.java`
#### Snippet
```java
                return predicate.apply(input.getNodeState());
            }
        }), new Function<ChildNodeEntry, String>() {
            @Override
            public String apply(ChildNodeEntry input) {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/blob/FileDataStoreFactory.java`
#### Snippet
```java

    private static Closeable asCloseable(final FileDataStore store) {
        return new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/FileStoreUtils.java`
#### Snippet
```java

    public static Closeable asCloseable(final ReadOnlyFileStore fs) {
        return new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/FileStoreUtils.java`
#### Snippet
```java

    public static Closeable asCloseable(final FileStore fs) {
        return new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-upgrade/src/main/java/org/apache/jackrabbit/oak/upgrade/cli/node/SegmentFactory.java`
#### Snippet
```java

    private static Closeable asCloseable(final FileStore fs) {
        return new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/AbstractNodeState.java`
#### Snippet
```java
        return Iterables.transform(
                getChildNodeEntries(),
                new Function<ChildNodeEntry, String>() {
                    @Override
                    public String apply(ChildNodeEntry input) {
```

### Anonymous2MethodRef
Anonymous new JcrCreator() can be replaced with method reference
in `oak-run-commons/src/main/java/org/apache/jackrabbit/oak/fixture/JcrCreator.java`
#### Snippet
```java

public interface JcrCreator {
    JcrCreator DEFAULT = new JcrCreator() {
        @Override
        public Jcr customize(Oak oak) {
```

### Anonymous2MethodRef
Anonymous new Function, Path\>() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/UnsavedModifications.java`
#### Snippet
```java
                    return start.compareRevisionTime(input.getValue()) < 1;
                }
            }), new Function<Map.Entry<Path, Revision>, Path>() {
                @Override
                public Path apply(Map.Entry<Path, Revision> input) {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
    private static Closeable asCloseable(@NotNull final AbstractServiceTracker t) {
        checkNotNull(t);
        return new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreService.java`
#### Snippet
```java
    private static Closeable asCloseable(@NotNull final Registration reg) {
        checkNotNull(reg);
        return new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Branch.java`
#### Snippet
```java
        Iterable<Path> getModifiedPaths() {
            Iterable<Iterable<Path>> paths = transform(previous.values(),
                    new Function<BranchCommit, Iterable<Path>>() {
                @Override
                public Iterable<Path> apply(BranchCommit branchCommit) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/VersionGarbageCollector.java`
#### Snippet
```java
                // need to fetch the previous documents to get their ids
                return Iterators.transform(doc.getAllPreviousDocs(),
                        new Function<NodeDocument, String>() {
                    @Override
                    public String apply(NodeDocument input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreBranch.java`
#### Snippet
```java
            Set<Revision> collisions = Sets.newHashSet(doc.getLocalMap(COLLISIONS).keySet());
            Set<Revision> commits = Sets.newHashSet(Iterables.transform(b.getCommits(),
                    new Function<Revision, Revision>() {
                        @Override
                        public Revision apply(Revision input) {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStoreMBeanImpl.java`
#### Snippet
```java
    public String[] getActiveClusterNodes() {
        return toArray(transform(filter(clusterNodes,
                new Predicate<ClusterNodeInfoDocument>() {
            @Override
            public boolean apply(ClusterNodeInfoDocument input) {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
    Iterable<Revision> getChanges(@NotNull final String property,
                                  @NotNull final RevisionVector min) {
        Predicate<Revision> p = new Predicate<Revision>() {
            @Override
            public boolean apply(Revision input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/NodeDocument.java`
#### Snippet
```java
    RevisionVector getSweepRevisions() {
        return new RevisionVector(transform(getLocalMap(SWEEP_REV).values(),
                new Function<String, Revision>() {
                    @Override
                    public Revision apply(String s) {
```

### Anonymous2MethodRef
Anonymous new Comparator() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java

    static StringSort newSorter() {
        return new StringSort(STRING_SORT_OVERFLOW_TO_DISK_THRESHOLD, new Comparator<String>() {
            @Override
            public int compare(String arg0, String arg1) {
```

### Anonymous2MethodRef
Anonymous new MapFactory() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
        };

        MapFactory CONCURRENT = new MapFactory() {
            @Override
            public Map<String, TreeNode> newMap() {
```

### Anonymous2MethodRef
Anonymous new MapFactory() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java
    private interface MapFactory {

        MapFactory DEFAULT = new MapFactory() {
            @Override
            public Map<String, TreeNode> newMap() {
```

### Anonymous2MethodRef
Anonymous new Supplier() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/LastRevRecoveryAgent.java`
#### Snippet
```java
            // written to the journal.
            final JournalEntry finalChanges = changes;
            unsaved.persist(store, new Supplier<Revision>() {
                @Override
                public Revision get() {
```

### Anonymous2MethodRef
Anonymous new UnsavedModifications.Snapshot() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
                return getSweepRevisions().getRevision(getClusterId());
            }
        }, new UnsavedModifications.Snapshot() {
            @Override
            public void acquiring(Revision mostRecent) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            GuavaDeprecation.handleCall("OAK-10109");
            this.delegate = delegate;
            this.func = new Function<String, String>() {
                @Override
                public String apply(String t) {
```

### Anonymous2MethodRef
Anonymous new Comparator() can be replaced with method reference
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
    }

    public final static Comparator<String> lexComparator = new Comparator<String>() {
        @Override public int compare(String s1, String s2) {
            return s1.compareTo(s2);
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/Utils.java`
#### Snippet
```java
    public static Iterable<StringValue> asStringValueIterable(
            @NotNull Iterable<String> values) {
        return transform(values, new Function<String, StringValue>() {
            @Override
            public StringValue apply(String input) {
```

### Anonymous2MethodRef
Anonymous new Callable\>() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("getCacheStats");
            return logResult(new Callable<Iterable<CacheStats>>() {
                @Override
                public Iterable<CacheStats> call() throws Exception {
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        }
        
        acceptThread = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        acceptThread.start();
        
        discoverThread = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        discoverThread.start();
        
        sendThread = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Anonymous2MethodRef
Anonymous new PrivilegedExceptionAction() can be replaced with method reference
in `oak-examples/webapp/src/main/java/org/apache/jackrabbit/j2ee/IndexInitializer.java`
#### Snippet
```java
        Session adminSession;
        try {
            adminSession = Subject.doAsPrivileged(subject, new PrivilegedExceptionAction<Session>() {
                @Override
                public Session run() throws Exception {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/SegmentNodeStoreFactory.java`
#### Snippet
```java

    private static Closeable asCloseable(final Registration r) {
        return new Closeable() {

            @Override
```

### Anonymous2MethodRef
Anonymous new Function, T\>() can be replaced with method reference
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/WriterCacheManager.java`
#### Snippet
```java
            @Override
            public Iterator<T> iterator() {
                return transform(generations.values().iterator(), new Function<Supplier<T>, T>() {
                    @Nullable @Override
                    public T apply(Supplier<T> cacheFactory) {
```

### Anonymous2MethodRef
Anonymous new Supplier\>() can be replaced with method reference
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/RecordCache.java`
#### Snippet
```java
    private static class Empty<T> extends RecordCache<T> {
        static final <T> Supplier<RecordCache<T>> emptyFactory() {
            return  new Supplier<RecordCache<T>>() {
                @Override
                public RecordCache<T> get() {
```

### Anonymous2MethodRef
Anonymous new TarRecovery() can be replaced with method reference
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/AbstractFileStore.java`
#### Snippet
```java
    final SegmentCache segmentCache;

    final TarRecovery recovery = new TarRecovery() {

        @Override
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java

    private static Map<String, UpdateOp> createMap(List<UpdateOp> updateOps) {
        return Maps.uniqueIndex(updateOps, new Function<UpdateOp, String>() {
            @Override
            public String apply(UpdateOp input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        } catch (MongoException e) {
            throw handleException(e, collection, Iterables.transform(updateOps,
                    new Function<UpdateOp, String>() {
                @Override
                public String apply(UpdateOp input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
        } finally {
            stats.doneCreateOrUpdate(watch.elapsed(TimeUnit.NANOSECONDS),
                    collection, Lists.transform(updateOps, new Function<UpdateOp, String>() {
                @Override
                public String apply(UpdateOp input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/tool/Utils.java`
#### Snippet
```java
        if (journal.exists()) {
            try (JournalReader journalReader = new JournalReader(journal)) {
                Iterator<String> revisionIterator = Iterators.transform(journalReader, new Function<JournalEntry, String>() {
                    @NotNull
                    @Override
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    static Closeable asCloseable(final DocumentNodeStore dns) {
        return new Closeable() {

            @Override
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/Utils.java`
#### Snippet
```java

    private static Closeable asCloseable(final MongoConnection con) {
        return new Closeable() {

            @Override
```

### Anonymous2MethodRef
Anonymous new Comparator() can be replaced with method reference
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    }

    public static Comparator<String> defaultcomparator = new Comparator<String>() {
        @Override
        public int compare(String r1, String r2) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
            journalReader = new JournalReader(journal);
            Iterator<String> revisionIterator = Iterators.transform(journalReader,
                    new Function<JournalEntry, String>() {
                        @Override
                        public String apply(JournalEntry entry) {
```

### Anonymous2MethodRef
Anonymous new Iterable() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultImpl.java`
#### Snippet
```java
    @Override
    public Iterable<? extends ResultRow> getRows() {
        return new Iterable<ResultRowImpl>() {

            @Override
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/LowerCaseImpl.java`
#### Snippet
```java
        if (p.getType().isArray()) {
            Iterable<String> lowerCase = transform(p.getValue(STRINGS),
                    new Function<String, String>() {
                        @Override
                        public String apply(String input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
        }
        stats.doneCreateOrUpdate(watch.elapsed(TimeUnit.NANOSECONDS),
                collection, Lists.transform(updateOps, new Function<UpdateOp, String>() {
                    @Override
                    public String apply(UpdateOp input) {
```

### Anonymous2MethodRef
Anonymous new Closeable() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/AsyncIndexerService.java`
#### Snippet
```java
                        PropertyIndexAsyncReindexMBean.TYPE, "async"),
                registerMBean(whiteboard, IndexStatsMBean.class, task.getIndexStats(), IndexStatsMBean.TYPE, name));
        closer.register(new Closeable() {
            @Override
            public void close() throws IOException {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/Multiplexers.java`
#### Snippet
```java

    private static Predicate<String> newFilter(final Mount m) {
        return new Predicate<String>() {

            @Override
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceIndex.java`
#### Snippet
```java
            });
        }
        paths = transform(paths, new Function<String, String>() {
            @Override
            public String apply(String path) {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<NodeDefinition> getAutoCreateNodeDefinitions() {
        return Iterables.filter(getNodeDefinitions(), new Predicate<NodeDefinition>() {
            @Override
            public boolean apply(NodeDefinition nodeDefinition) {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<NodeDefinition> getMandatoryNodeDefinitions() {
        return Iterables.filter(getNodeDefinitions(), new Predicate<NodeDefinition>() {
            @Override
            public boolean apply(NodeDefinition nodeDefinition) {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<PropertyDefinition> getMandatoryPropertyDefinitions() {
        return Iterables.filter(getPropertyDefinitions(), new Predicate<PropertyDefinition>() {
            @Override
            public boolean apply(PropertyDefinition propertyDefinition) {
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
    @Override
    public Iterable<PropertyDefinition> getAutoCreatePropertyDefinitions() {
        return Iterables.filter(getPropertyDefinitions(), new Predicate<PropertyDefinition>() {
            @Override
            public boolean apply(PropertyDefinition propertyDefinition) {
```

### Anonymous2MethodRef
Anonymous new Supplier() can be replaced with method reference
in `oak-pojosr/src/main/java/org/apache/jackrabbit/oak/run/osgi/RunnableJobTracker.java`
#### Snippet
```java
     */
    private final Supplier<ScheduledExecutorService> executor =
            Suppliers.memoize(new Supplier<ScheduledExecutorService>() {
        @Override
        public ScheduledExecutorService get() {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    public String[] getGarbageDetails() {
        return toArray(transform(failedToDeleteFiles.values(),
                new Function<LocalIndexFile, String>() {
                    @Override
                    public String apply(LocalIndexFile input) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexCopier.java`
#### Snippet
```java
    public String[] getCopyInProgressDetails() {
        return toArray(transform(copyInProgressFiles,
                new Function<LocalIndexFile, String>() {
                    @Override
                    public String apply(LocalIndexFile input) {
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public List<ProtectedItemImporter> getProtectedItemImporters() {
        Iterable<ProtectedItemImporter> t = Iterables.concat(Lists.transform(getConfigurations(), new Function<T, List<? extends ProtectedItemImporter>>() {
            @Override
            public List<? extends ProtectedItemImporter> apply(T securityConfiguration) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public RepositoryInitializer getRepositoryInitializer() {
        return new CompositeInitializer(Lists.transform(getConfigurations(), new Function<T, RepositoryInitializer>() {
            @Override
            public RepositoryInitializer apply(T securityConfiguration) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/CompositeConfiguration.java`
#### Snippet
```java
    @Override
    public WorkspaceInitializer getWorkspaceInitializer() {
        return new CompositeWorkspaceInitializer(Lists.transform(getConfigurations(), new Function<T, WorkspaceInitializer>() {
            @Override
            public WorkspaceInitializer apply(T securityConfiguration) {
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/security/authentication/credentials/SimpleCredentialsSupport.java`
#### Snippet
```java
        if (credentials instanceof SimpleCredentials) {
            final SimpleCredentials sc = (SimpleCredentials) credentials;
            return Maps.asMap(ImmutableSet.copyOf(sc.getAttributeNames()), new Function<String, Object>() {
                @Nullable
                @Override
```

## RuleId[id=Java8MapApi]
### Java8MapApi
Can be replaced with single 'Map.merge' method call
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/Profiler.java`
#### Snippet
```java
            int minCount) {
        Integer oldCount = map.get(trace);
        if (oldCount == null) {
            map.put(trace, 1);
        } else {
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
            Range r = entry.getValue();
            List<Range> list = prevHisto.get(r.getHeight());
            if (list == null) {
                list = new ArrayList<Range>();
                prevHisto.put(r.getHeight(), list);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/SplitOperations.java`
#### Snippet
```java
        }
        Set<Revision> revisions = garbage.get(property);
        if (revisions == null) {
            revisions = Sets.newHashSet();
            garbage.put(property, revisions);
```

### Java8MapApi
Can be replaced with single 'Map.merge' method call
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/TimingDocumentStoreWrapper.java`
#### Snippet
```java
        Map<String, Integer> map = slowCalls;
        Integer oldCount = map.get(key);
        if (oldCount == null) {
            map.put(key, time);
        } else {
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/TarFiles.java`
#### Snippet
```java
                Integer index = Integer.parseInt(matcher.group(2));
                Map<Character, String> files = dataFiles.get(index);
                if (files == null) {
                    files = newHashMap();
                    dataFiles.put(index, files);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/AbstractSegmentTarExplorerBackend.java`
#### Snippet
```java
                            todos.add(uuidP);
                            Set<Map.Entry<UUID, String>> deps = links.get(uuid);
                            if (deps == null) {
                                deps = newHashSet();
                                links.put(uuid, deps);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/OrImpl.java`
#### Snippet
```java
                DynamicOperandImpl o = ((ComparisonImpl) simple).getOperand1();
                LinkedHashSet<StaticOperandImpl> values = in.get(o);
                if (values == null) {
                    values = newLinkedHashSet();
                    in.put(o, values);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ast/OrImpl.java`
#### Snippet
```java
                DynamicOperandImpl o = ((InImpl) simple).getOperand1();
                LinkedHashSet<StaticOperandImpl> values = in.get(o);
                if (values == null) {
                    values = newLinkedHashSet();
                    in.put(o, values);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeImpl.java`
#### Snippet
```java
                for (String supername : supertypes.getValue(Type.NAMES)) {
                    Set<String> subtypes = inheritance.get(supername);
                    if (subtypes == null) {
                        subtypes = Sets.newHashSet();
                        inheritance.put(supername, subtypes);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
            final NodeDefinitionId def1Id = new NodeDefinitionId(def1);
            List<NodeDefinition> list = defs1.get(def1Id);
            if (list == null) {
                list = new ArrayList<NodeDefinition>();
                defs1.put(def1Id, list);
```

## RuleId[id=Convert2Lambda]
### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/BlobGC.java`
#### Snippet
```java
    public CompositeData startBlobGC(final boolean markOnly) {
        if (gcOp.isDone()) {
            gcOp = newManagementOperation(OP_NAME, new Callable<String>() {
                @Override
                public String call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/BlobGC.java`
#### Snippet
```java
    public CompositeData startBlobGC(final boolean markOnly, final boolean forceBlobIdRetrieve) {
        if (gcOp.isDone()) {
            gcOp = newManagementOperation(OP_NAME, new Callable<String>() {
                @Override
                public String call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/BlobGC.java`
#### Snippet
```java
    public CompositeData checkConsistency() {
        if (consistencyOp.isDone()) {
            consistencyOp = newManagementOperation(CONSISTENCY_OP_NAME, new Callable<String>() {
                @Override
                public String call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/UploadStagingCache.java`
#### Snippet
```java
        try {
            // create an async job
            ListenableFuture<Integer> future = executor.submit(new Callable<Integer>() {
                @Override public Integer call() throws Exception {
                    try {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/migration/BlobMigration.java`
#### Snippet
```java
    public String startBlobMigration(final boolean resume) {
        if (migrationOp.isDone()) {
            migrationOp = newManagementOperation(OP_NAME, new Callable<String>() {
                @Override
                public String call() throws Exception {
```

### Convert2Lambda
Anonymous new java.util.function.Function() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/BlobIdTracker.java`
#### Snippet
```java
        private ReentrantLock lock;

        private static final java.util.function.Function<String, String> transformer = new java.util.function.Function<String, String>() {
            @Nullable
            @Override
```

### Convert2Lambda
Anonymous new java.util.function.Function() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
    public static final String DELIM = ",";

    private static final java.util.function.Function<String, String> transformer = new java.util.function.Function<String, String>() {
        @Nullable
        @Override
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/MarkSweepGarbageCollector.java`
#### Snippet
```java
            // sort the marked references with the first part of the key
            sort(fs.getMarkedRefs(),
                new Comparator<String>() {
                    @Override
                    public int compare(String s1, String s2) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-blob-plugins/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DataStoreBlobStore.java`
#### Snippet
```java
                && blobId.length <= maxCachedBinarySize) {
            try {
                byte[] content = cache.get(blobId.blobId, new Callable<byte[]>() {
                    @Override
                    public byte[] call() throws Exception {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/delegate/VersionHistoryDelegate.java`
#### Snippet
```java
        }
        // best-effort sort by created time stamp, see JCR 2.0, 15.1.1.2
        Collections.sort(versions, new Comparator<NodeDelegate>() {
            @Override
            public int compare(NodeDelegate n1, NodeDelegate n2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ChangeProcessor.java`
#### Snippet
```java
                }
            },
            scheduleWithFixedDelay(whiteboard, new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/ConsolidatedListenerMBeanImpl.java`
#### Snippet
```java

    private void sort(List<LeaderBoardData> leaderBoard) {
        Collections.sort(leaderBoard, new Comparator<LeaderBoardData>() {
            @Override
            public int compare(LeaderBoardData o1, LeaderBoardData o2) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/RevisionGC.java`
#### Snippet
```java
    public CompositeData startRevisionGC() {
        if (gcOp.isDone()) {
            gcOp = newManagementOperation(OP_NAME, statusMessage, new Callable<Void>() {
                @Override
                public Void call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/state/RevisionGC.java`
#### Snippet
```java
    public CompositeData cancelRevisionGC() {
        if (!gcOp.isDone()) {
            executor.execute(newManagementOperation(OP_NAME, new Callable<Void>() {
                @Override
                public Void call() throws Exception {
```

### Convert2Lambda
Anonymous new UncaughtExceptionHandler() can be replaced with lambda
in `oak-store-spi/src/main/java/org/apache/jackrabbit/oak/spi/commit/BackgroundObserver.java`
#### Snippet
```java
            @NotNull Executor executor,
            int queueLength) {
        this(observer, executor, queueLength, new UncaughtExceptionHandler() {
            @Override
            public void uncaughtException(Thread t, Throwable e) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/StatisticManager.java`
#### Snippet
```java
            registerMBean(whiteboard, RepositoryStatsMBean.class, new RepositoryStats(repoStats.getStats(), maxQueueLength),
                    RepositoryStats.TYPE, "Oak Repository Statistics"),
            scheduleWithFixedDelay(whiteboard, new Runnable() {
                    @Override
                    public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/stats/Clock.java`
#### Snippet
```java

        public Fast(ScheduledExecutorService executor) {
            future = executor.scheduleAtFixedRate(new Runnable() {
                @Override
                public void run() {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-core-spi/src/main/java/org/apache/jackrabbit/oak/commons/jmx/ManagementOperation.java`
#### Snippet
```java
    public static <R> ManagementOperation<R> done(String name, final R result) {
        return new ManagementOperation<R>("done", () -> "",
                new Callable<R>() {
            @Override
            public R call() throws Exception {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/concurrent/NotifyingFutureTask.java`
#### Snippet
```java
    }

    private static final Runnable NOP = new Runnable() {
        @Override
        public void run() {
```

### Convert2Lambda
Anonymous new Function() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/BurnOnCloseFileIterator.java`
#### Snippet
```java

    public static BurnOnCloseFileIterator<String> wrap(Iterator<String> iter) {
        return new BurnOnCloseFileIterator<String>(iter, new Function<String, String>() {
            public String apply(String s) {
                return s;
```

### Convert2Lambda
Anonymous new Function() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/BurnOnCloseFileIterator.java`
#### Snippet
```java

    public static BurnOnCloseFileIterator<String> wrap(Iterator<String> iter, File backingFile) {
        return new BurnOnCloseFileIterator<String>(iter, backingFile, new Function<String, String>() {
            public String apply(String s) {
                return s;
```

### Convert2Lambda
Anonymous new Function() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/io/FileLineDifferenceIterator.java`
#### Snippet
```java
        private final LineIterator all;

        private Function<String, String> transformer = new Function<String, String>() {
            @Override
            public String apply(String input) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/BatchCommit.java`
#### Snippet
```java
                // not on hold and no other operation in this batch
                executing = true;
                result = new Callable<NodeDocument>() {
                    @Override
                    public NodeDocument call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/MemoryDiffCache.java`
#### Snippet
```java
        } else {
            try {
                diff = diffCache.get(key, new Callable<StringValue>() {
                    @Override
                    public StringValue call() throws Exception {
```

### Convert2Lambda
Anonymous new Comparator\>() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ValueMap.java`
#### Snippet
```java

                return new MergeSortedIterators<Map.Entry<Revision, String>>(
                        new Comparator<Map.Entry<Revision, String>>() {
                            @Override
                            public int compare(Map.Entry<Revision, String> o1,
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/ClusterNodeInfo.java`
#### Snippet
```java
        // actual stopping should be done in a separate thread, so:
        if (leaseFailureHandler!=null) {
            final Runnable r = new Runnable() {

                @Override
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/JournalEntry.java`
#### Snippet
```java

    static StringSort newSorter() {
        return new StringSort(STRING_SORT_OVERFLOW_TO_DISK_THRESHOLD, new Comparator<String>() {
            @Override
            public int compare(String arg0, String arg1) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        try {
            NamePathRev key = childNodeCacheKey(path, readRevision, name);
            DocumentNodeState.Children children = nodeChildrenCache.get(key, new Callable<DocumentNodeState.Children>() {
                @Override
                public DocumentNodeState.Children call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/DocumentNodeStore.java`
#### Snippet
```java
        try {
            PathRev key = new PathRev(path, rev);
            DocumentNodeState node = nodeCache.get(key, new Callable<DocumentNodeState>() {
                @Override
                public DocumentNodeState call() throws Exception {
```

### Convert2Lambda
Anonymous new Function() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
            GuavaDeprecation.handleCall("OAK-10109");
            this.delegate = delegate;
            this.func = new Function<String, String>() {
                @Override
                public String apply(String t) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
    }

    public final static Comparator<String> lexComparator = new Comparator<String>() {
        @Override public int compare(String s1, String s2) {
            return s1.compareTo(s2);
```

### Convert2Lambda
Anonymous new Function() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/FileIOUtils.java`
#### Snippet
```java
     */
    public static Comparator<String> lineBreakAwareComparator (Comparator<String> delegate) {
        return new FileIOUtils.TransformingComparator(delegate, new Function<String, String>() {
            @Nullable
            @Override
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("createOrUpdate", collection, updateOps);
            return logResult(new Callable<List<T>>() {
                @Override
                public List<T> call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("query", collection, fromKey, toKey, limit);
            return logResult(new Callable<List<T>>() {
                @Override
                public List<T> call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("remove", collection, indexedProperty, startValue, endValue);
            return logResult(new Callable<Integer>() {
                @Override
                public Integer call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("create", collection, updateOps);
            return logResult(new Callable<Boolean>() {
                @Override
                public Boolean call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("createOrUpdate", collection, update);
            return logResult(new Callable<T>() {
                @Override
                public T call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("find", collection, key, maxCacheAge);
            return logResult(new Callable<T>() {
                @Override
                public T call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("find", collection, key);
            return logResult(new Callable<T>() {
                @Override
                public T call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("query", collection, fromKey, toKey, indexedProperty, startValue, limit);
            return logResult(new Callable<List<T>>() {
                @Override
                public List<T> call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("remove", collection, toRemove);
            return logResult(new Callable<Integer>() {
                @Override
                public Integer call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("getCacheStats");
            return logResult(new Callable<Iterable<CacheStats>>() {
                @Override
                public Iterable<CacheStats> call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("findAndUpdate", collection, update);
            return logResult(new Callable<T>() {
                @Override
                public T call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/util/LoggingDocumentStoreWrapper.java`
#### Snippet
```java
        try {
            logMethod("getIfCached", collection, key);
            return logResult(new Callable<T>() {
                @Override
                public T call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
    public NodeDocument get(@NotNull final String key, @NotNull final Callable<NodeDocument> valueLoader)
            throws ExecutionException {
        Callable<NodeDocument> wrappedLoader = new Callable<NodeDocument>() {
            @Override
            public NodeDocument call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/cache/NodeDocumentCache.java`
#### Snippet
```java
        try {
            for (;;) {
                NodeDocument cached = get(id, new Callable<NodeDocument>() {
                    @Override
                    public NodeDocument call() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStoreJDBC.java`
#### Snippet
```java
    private static <T extends Document> List<T> sortDocuments(Collection<T> documents) {
        List<T> result = new ArrayList<T>(documents);
        Collections.sort(result, new Comparator<T>() {
            @Override
            public int compare(T o1, T o2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
            try {
                final Socket socket = serverSocket.accept();
                Runnable r = new Runnable() {
                    @Override
                    public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        }
        
        acceptThread = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        acceptThread.start();
        
        discoverThread = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/TCPBroadcaster.java`
#### Snippet
```java
        discoverThread.start();
        
        sendThread = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Thread.UncaughtExceptionHandler() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
                        builder.autoCompactFillRate(autoCompact);
                    }
                    builder.backgroundExceptionHandler(new Thread.UncaughtExceptionHandler() {
                        @Override
                        public void uncaughtException(Thread t, Throwable e) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreBackupRestoreImpl.java`
#### Snippet
```java
    public synchronized CompositeData startBackup() {
        if (backupOp.isDone()) {
            backupOp = newManagementOperation("Backup", new Callable<String>() {

                @Override
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/backup/impl/FileStoreBackupRestoreImpl.java`
#### Snippet
```java
    public synchronized CompositeData startRestore() {
        if (restoreOp.isDone()) {
            restoreOp = newManagementOperation("Restore", new Callable<String>() {

                @Override
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/ReadOnlyFileStore.java`
#### Snippet
```java
    public Segment readSegment(final SegmentId id) {
        try {
            return segmentCache.getSegment(id, new Callable<Segment>() {
                @Override
                public Segment call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
                        getReadPreference(maxCacheAge));
                invalidateCache(collection, key);
                doc = nodesCache.get(key, new Callable<NodeDocument>() {
                    @Override
                    public NodeDocument call() throws Exception {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/file/tar/index/IndexEntry.java`
#### Snippet
```java
    boolean isCompacted();

    Comparator<IndexEntry> POSITION_ORDER = new Comparator<IndexEntry>() {
        @Override
        public int compare(IndexEntry a, IndexEntry b) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
        long started = System.currentTimeMillis();
        System.out.println("starting gc collect");
        Future<VersionGCStats> f = executor.submit(new Callable<VersionGCStats>() {
            @Override
            public VersionGCStats call() throws Exception {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/RevisionsCommand.java`
#### Snippet
```java
                // collect until shutdown hook is called
                final AtomicBoolean running = new AtomicBoolean(true);
                Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
                    @Override
                    public void run() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ThreadDumpCommand.java`
#### Snippet
```java
        File[] list = file.listFiles();
        if (list != null) {
            Arrays.sort(list, new Comparator<File>() {
                @Override
                public int compare(File o1, File o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/ClusterNodesCommand.java`
#### Snippet
```java
            try {
                List<ClusterNodeInfoDocument> all = new ArrayList<>(ClusterNodeInfoDocument.all(ds));
                Collections.sort(all, new Comparator<ClusterNodeInfoDocument>() {
                    @Override
                    public int compare(ClusterNodeInfoDocument one, ClusterNodeInfoDocument two) {
```

### Convert2Lambda
Anonymous new java.util.function.Function() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
        Stopwatch watch = createStarted();

        FileLineDifferenceIterator iter = new FileLineDifferenceIterator(ids, refs, new java.util.function.Function<String, String>() {
            @Nullable
            @Override
```

### Convert2Lambda
Anonymous new java.util.function.Function() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
                if (!files.isEmpty()) {
                    File delFile = files.iterator().next();
                    FileLineDifferenceIterator filteringIter = new FileLineDifferenceIterator(delFile, candTemp, new java.util.function.Function<String, String>() {
                        @Nullable @Override public String apply(@Nullable String input) {
                            if (input != null) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCheckCommand.java`
#### Snippet
```java
    private static final String HASH = "#";

    private static final Comparator<String> idComparator = new Comparator<String>() {
        @Override
        public int compare(String s1, String s2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
        static final String DASH = "-";
        static final String HASH = "#";
        static final Comparator<String> idComparator = new Comparator<String>() {
            @Override public int compare(String s1, String s2) {
                return s1.split(DELIM)[0].compareTo(s2.split(DELIM)[0]);
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/run/DataStoreCommand.java`
#### Snippet
```java
    private DataStoreOptions dataStoreOpts;

    private static final Comparator<String> idComparator = new Comparator<String>() {
        @Override public int compare(String s1, String s2) {
            return s1.split(DELIM)[0].compareTo(s2.split(DELIM)[0]);
```

### Convert2Lambda
Anonymous new Comparator\>() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
            throws IOException {
        PriorityQueue<BinaryFileBuffer<T>> pq = new PriorityQueue<>(
                11, new Comparator<BinaryFileBuffer<T>>() {
            @Override
            public int compare(BinaryFileBuffer<T> i,
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-commons/src/main/java/org/apache/jackrabbit/oak/commons/sort/ExternalSort.java`
#### Snippet
```java
    }

    public static Comparator<String> defaultcomparator = new Comparator<String>() {
        @Override
        public int compare(String r1, String r2) {
```

### Convert2Lambda
Anonymous new Supplier () can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/plugins/tika/TextExtractor.java`
#### Snippet
```java
        long size = 0;
        try {
            Supplier<InputStream> inputStreamSupplier = new Supplier<InputStream> () {
                @Override
                public InputStream get() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-run/src/main/java/org/apache/jackrabbit/oak/explorer/Explorer.java`
#### Snippet
```java
        this.backend = backend;

        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                initLF();
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/ResultRowImpl.java`
#### Snippet
```java
            return null;
        }
        return new Comparator<ResultRowImpl>() {

            @Override
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
    public Oak withAtomicCounter() {
        return with(new AtomicCounterEditorProvider(
            new Supplier<Clusterable>() {
                @Override
                public Clusterable get() {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                }
            },
            new Supplier<ScheduledExecutorService>() {
                @Override
                public ScheduledExecutorService get() {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                }
            },
            new Supplier<NodeStore>() {
                @Override
                public NodeStore get() {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java`
#### Snippet
```java
                }
            },
            new Supplier<Whiteboard>() {
                @Override
                public Whiteboard get() {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/rdb/RDBDocumentStore.java`
#### Snippet
```java
                    }
                    final NodeDocument cachedDoc = doc;
                    doc = nodesCache.get(id, new Callable<NodeDocument>() {
                        @Override
                        public NodeDocument call() throws Exception {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
    public TabularData getPopularQueries() {
        ArrayList<QueryStatsData> list = new ArrayList<QueryStatsData>(statistics.values());
        Collections.sort(list, new Comparator<QueryStatsData>() {
            @Override
            public int compare(QueryStatsData o1, QueryStatsData o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
        // of the rest, retain the newest entries 
        ArrayList<QueryStatsData> list = new ArrayList<QueryStatsData>(statistics.values());
        Collections.sort(list, new Comparator<QueryStatsData>() {
            @Override
            public int compare(QueryStatsData o1, QueryStatsData o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
            }
        });
        Collections.sort(list.subList(MAX_STATS_DATA / 2, MAX_STATS_DATA), new Comparator<QueryStatsData>() {
            @Override
            public int compare(QueryStatsData o1, QueryStatsData o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
            }
        }
        Collections.sort(list, new Comparator<QueryStatsData>() {
            @Override
            public int compare(QueryStatsData o1, QueryStatsData o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/query/stats/QueryStatsMBeanImpl.java`
#### Snippet
```java
    public String asJson() {
        ArrayList<QueryStatsData> list = new ArrayList<QueryStatsData>(statistics.values());
        Collections.sort(list, new Comparator<QueryStatsData>() {
            @Override
            public int compare(QueryStatsData o1, QueryStatsData o2) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/jmx/PropertyIndexAsyncReindex.java`
#### Snippet
```java
    public CompositeData startPropertyIndexAsyncReindex() {
        if (arOp.isDone()) {
            arOp = newManagementOperation(OP_NAME, new Callable<String>() {
                @Override
                public String call() throws Exception {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
     */
    public AtomicCounterEditorProvider() {
        clusterSupplier = new Supplier<Clusterable>() {
            @Override
            public Clusterable get() {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
            }
        };
        schedulerSupplier = new Supplier<ScheduledExecutorService>() {
            @Override
            public ScheduledExecutorService get() {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
            }
        };
        storeSupplier = new Supplier<NodeStore>() {
            @Override
            public NodeStore get() {
```

### Convert2Lambda
Anonymous new Supplier() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java`
#### Snippet
```java
            }
        };
        wbSupplier = new Supplier<Whiteboard>() {
            @Override
            public Whiteboard get() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/NodeTypeDefDiff.java`
#### Snippet
```java
            }
            // sort them according to decreasing compatibility
            Collections.sort(diffs, new Comparator<ChildNodeDefDiff>() {
                @Override
                public int compare(final ChildNodeDefDiff o1, final ChildNodeDefDiff o2) {
```

### Convert2Lambda
Anonymous new Predicate() can be replaced with lambda
in `oak-benchmarks-lucene/src/main/java/org/apache/jackrabbit/oak/benchmark/HybridIndexTest.java`
#### Snippet
```java

    private AsyncIndexUpdate getAsyncIndexUpdate() {
        return (AsyncIndexUpdate)WhiteboardUtils.getService(whiteboard, Runnable.class, new Predicate<Runnable>() {
                @Override
                public boolean test(@Nullable Runnable input) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexNodeManager.java`
#### Snippet
```java
    private final Semaphore refreshLock = new Semaphore(1);

    private final Runnable refreshCallback = new Runnable() {
        @Override
        public void run() {
```

### Convert2Lambda
Anonymous new UncaughtExceptionHandler() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/hybrid/DocumentQueue.java`
#### Snippet
```java
     * Handler for uncaught exception on the background thread
     */
    private final UncaughtExceptionHandler exceptionHandler = new UncaughtExceptionHandler() {
        @Override
        public void uncaughtException(Thread t, Throwable e) {
```

### Convert2Lambda
Anonymous new FilenameFilter() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java
    private long gcNRTIndexDirs(LocalIndexDir idxDir) {
        final String prefix = getFSSafeName(NRTIndex.NRT_DIR_PREFIX);
        File[] nrtDirs = idxDir.dir.listFiles(new FilenameFilter() {
            @Override
            public boolean accept(File dir, String name) {
```

### Convert2Lambda
Anonymous new FileFilter() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/IndexRootDirectory.java`
#### Snippet
```java
    public static final String INDEX_METADATA_FILE_NAME = "index-details.txt";

    private static final FileFilter LOCAL_DIR_FILTER = new FileFilter() {
        @Override
        public boolean accept(File file) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/CopyOnReadDirectory.java`
#### Snippet
```java
    private void copy(final CORFileReference reference) {
        indexCopier.scheduledForCopy();
        executor.execute(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/CopyOnReadDirectory.java`
#### Snippet
```java
        //way IndexTracker closes LuceneIndexNode. At max there would be only two LuceneIndexNode
        //opened pinned to different revision of same Lucene index
        executor.execute(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/CopyOnWriteDirectory.java`
#### Snippet
```java
     * Signal for the background thread to stop processing changes.
     */
    private final Callable<Void> STOP = new Callable<Void>() {
        @Override
        public Void call() throws Exception {
```

### Convert2Lambda
Anonymous new Thread.UncaughtExceptionHandler() can be replaced with lambda
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java
            new LinkedBlockingQueue<>(), new ThreadFactory() {
            private final AtomicInteger counter = new AtomicInteger();
            private final Thread.UncaughtExceptionHandler handler = new Thread.UncaughtExceptionHandler() {
                @Override
                public void uncaughtException(Thread t, Throwable e) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/ExtractedTextCache.java`
#### Snippet
```java

    public void process(String name, Callable<Void> callable) throws Throwable {
        Callable<Void> callable2 = new Callable<Void>() {
            @Override
            public Void call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/binary/FulltextBinaryTextExtractor.java`
#### Snippet
```java
        if (length > SMALL_BINARY) {
          String name = "Extracting " + path + ", " + length + " bytes";
          extractedTextCache.process(name, new Callable<Void>() {
            @Override
            public Void call() throws Exception {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/PropertyFullTextTest.java`
#### Snippet
```java
        benchmarkCompleted = false;
        importerCompleted = false;
        asyncImporter = new Thread(new Runnable() {
            @Override
            public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
        //                           - level 2 pointer
        // /replicaCrashTest/[1-n]/[1-1000]
        Runnable writer = new Runnable() {

            @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `oak-benchmarks/src/main/java/org/apache/jackrabbit/oak/benchmark/ReplicaCrashResilienceTest.java`
#### Snippet
```java
        th1.start();

        Runnable reader = new Runnable() {

            @Override
```

## RuleId[id=UnnecessaryContinue]
### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `oak-jcr/src/main/java/org/apache/jackrabbit/oak/jcr/observation/OakEventFilterImpl.java`
#### Snippet
```java
                    if (relativeGlobPath.equals("")) {
                        // this corresponds to 'SELF' which is already included, so skip
                        continue;
                    } else {
                        String additionalGlobPath;
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/Sweep2Helper.java`
#### Snippet
```java
            if (cRev.equals(rev)) {
                // fine
                continue;
            } else {
                // then rev should be in the branch commit list
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/mongo/MongoDocumentStore.java`
#### Snippet
```java
            for (Entry<String, UpdateOp> entry : bulkOperations.entrySet()) {
                if (bulkResult.failedUpdates.contains(entry.getKey())) {
                    continue;
                } else if (bulkResult.upserts.contains(entry.getKey())) {
                    result.put(entry.getValue(), null);
```

## RuleId[id=CopyConstructorMissesField]
### CopyConstructorMissesField
Copy constructor does not copy field 'isClone'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakIndexInput.java`
#### Snippet
```java
    }

    private OakIndexInput(OakIndexInput that) {
        super(that.toString());
        this.file = that.file.clone();
```

### CopyConstructorMissesField
Copy constructor does not copy fields 'index' and 'blobModified'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakBufferedIndexFile.java`
#### Snippet
```java
    }

    private OakBufferedIndexFile(OakBufferedIndexFile that) {
        this.name = that.name;
        this.file = that.file;
```

### CopyConstructorMissesField
Copy constructor does not copy field 'blobInputStream'
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/directory/OakStreamingIndexFile.java`
#### Snippet
```java
    }

    private OakStreamingIndexFile(OakStreamingIndexFile that) {
        this.name = that.name;
        this.file = that.file;
```

## RuleId[id=ThrowableNotThrown]
### ThrowableNotThrown
Result of `process()` not thrown
in `oak-store-composite/src/main/java/org/apache/jackrabbit/oak/composite/checks/NodeTypeDefinitionNodeStoreChecker.java`
#### Snippet
```java
            // errors already propagated via the ConstraintViolationCallback so 
            // no need to look at the CommitException
            EditorDiff.process(editor, MISSING_NODE, root);
            
        } catch (CommitFailedException e) {
```

### ThrowableNotThrown
Result of `process()` not thrown
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/PrefetchDispatcher.java`
#### Snippet
```java
                    @Override
                    public void run() {
                        EditorDiff.process(
                                new VisibleEditor(TraversingEditor.INSTANCE),
                                before, state);
```

### ThrowableNotThrown
Result of `process()` not thrown
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/bundlor/BundlingConfigHandler.java`
#### Snippet
```java
    @Override
    public synchronized void contentChanged(@NotNull NodeState root, @NotNull CommitInfo info) {
        EditorDiff.process(changeDetector, this.root, root);
        this.root = root;
    }
```

### ThrowableNotThrown
Result of `process()` not thrown
in `oak-lucene/src/main/java/org/apache/jackrabbit/oak/plugins/index/lucene/IndexTracker.java`
#### Snippet
```java
        }

        EditorDiff.process(CompositeEditor.compose(editors), this.root, root);
        this.root = root;

```

### ThrowableNotThrown
Result of `process()` not thrown
in `oak-search/src/main/java/org/apache/jackrabbit/oak/plugins/index/search/spi/query/FulltextIndexTracker.java`
#### Snippet
```java
        }

        EditorDiff.process(CompositeEditor.compose(editors), this.root, root);
        this.root = root;

```

## RuleId[id=EqualsWhichDoesntCheckParameterClass]
### EqualsWhichDoesntCheckParameterClass
`equals()` should check the class of its parameter
in `oak-segment-tar/src/main/java/org/apache/jackrabbit/oak/segment/Record.java`
#### Snippet
```java

    @Override
    public boolean equals(Object that) {
        return fastEquals(this, that);
    }
```

## RuleId[id=ThreadStartInConstruction]
### ThreadStartInConstruction
Call to `start()` during object construction
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/broadcast/UDPBroadcaster.java`
#### Snippet
```java
        thread = new Thread(this, "Oak UDPBroadcaster listener");
        thread.setDaemon(true);
        thread.start();
    }
    
```

### ThreadStartInConstruction
Call to `start()` during object construction
in `oak-store-document/src/main/java/org/apache/jackrabbit/oak/plugins/document/persistentCache/PersistentCache.java`
#### Snippet
```java
            writeDispatcherThread = new Thread(writeDispatcher, "Oak CacheWriteQueue");
            writeDispatcherThread.setDaemon(true);
            writeDispatcherThread.start();
        } catch (RuntimeException ex) {
            // OAK-8052: cleanup stores in case of failure
```

## RuleId[id=CastCanBeRemovedNarrowingVariableType]
### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'nt' to 'NodeTypeImpl'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
        List<PropertyDefinition> definitions = new ArrayList<PropertyDefinition>();
        for (NodeType nt : nodeTypes.values()) {
            definitions.addAll(((NodeTypeImpl) nt).internalGetPropertyDefinitions());
        }
        return definitions;
```

### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'nt' to 'NodeTypeImpl'
in `oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/nodetype/EffectiveNodeTypeImpl.java`
#### Snippet
```java
        List<NodeDefinition> definitions = new ArrayList<NodeDefinition>();
        for (NodeType nt : nodeTypes.values()) {
            definitions.addAll(((NodeTypeImpl) nt).internalGetChildDefinitions());
        }
        return definitions;
```

