# helix 
 
# Bad smells
I found 3531 bad smells with 481 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| BoundedWildcard | 356 | false |
| SystemOutErr | 283 | false |
| ReturnNull | 248 | false |
| KeySetIterationMayUseEntrySet | 219 | false |
| FieldAccessedSynchronizedAndUnsynchronized | 128 | false |
| SizeReplaceableByIsEmpty | 126 | true |
| MissortedModifiers | 107 | false |
| PublicFieldAccessedInSynchronizedContext | 101 | false |
| UnusedAssignment | 99 | false |
| RedundantFieldInitialization | 96 | false |
| AssignmentToMethodParameter | 79 | false |
| UnnecessaryLocalVariable | 74 | true |
| UtilityClassWithoutPrivateConstructor | 74 | true |
| DuplicateThrows | 73 | false |
| DeprecatedIsStillUsed | 72 | false |
| ConstantValue | 70 | false |
| UnnecessaryModifier | 65 | true |
| DataFlowIssue | 55 | false |
| UnnecessaryToStringCall | 52 | true |
| ThrowablePrintStackTrace | 52 | false |
| SynchronizeOnThis | 46 | false |
| TrivialStringConcatenation | 44 | false |
| ClassNameSameAsAncestorName | 39 | false |
| CommentedOutCode | 35 | false |
| ReplaceAssignmentWithOperatorAssignment | 33 | false |
| Convert2Lambda | 33 | false |
| CStyleArrayDeclaration | 32 | false |
| UNUSED_IMPORT | 32 | false |
| UnnecessaryBoxing | 31 | false |
| AccessStaticViaInstance | 30 | false |
| DynamicRegexReplaceableByCompiledPattern | 28 | false |
| NonProtectedConstructorInAbstractClass | 28 | true |
| UnnecessaryFullyQualifiedName | 24 | false |
| TypeParameterExtendsObject | 23 | false |
| PointlessBooleanExpression | 21 | true |
| EmptyMethod | 20 | false |
| DefaultAnnotationParam | 19 | false |
| SynchronizeOnNonFinalField | 19 | false |
| RedundantMethodOverride | 18 | false |
| InnerClassMayBeStatic | 18 | true |
| ZeroLengthArrayInitialization | 16 | false |
| MismatchedJavadocCode | 16 | false |
| SetReplaceableByEnumSet | 16 | false |
| Finalize | 15 | false |
| NestedAssignment | 15 | false |
| LongLiteralsEndingWithLowercaseL | 14 | false |
| StringEqualsEmptyString | 14 | false |
| RedundantCollectionOperation | 13 | false |
| IgnoreResultOfCall | 12 | false |
| IndexOfReplaceableByContains | 12 | false |
| StringConcatenationInsideStringBufferAppend | 12 | false |
| BusyWait | 11 | false |
| DuplicateBranchesInSwitch | 10 | false |
| ManualMinMaxCalculation | 10 | false |
| FinalizeNotProtected | 10 | false |
| Convert2MethodRef | 10 | false |
| CatchMayIgnoreException | 10 | false |
| ConditionCoveredByFurtherCondition | 10 | false |
| StringBufferReplaceableByString | 9 | false |
| RedundantStringFormatCall | 9 | false |
| EqualsAndHashcode | 8 | false |
| OptionalUsedAsFieldOrParameterType | 8 | false |
| RedundantArrayCreation | 8 | true |
| UnnecessaryReturn | 8 | true |
| Java8MapApi | 8 | false |
| MismatchedCollectionQueryUpdate | 7 | false |
| UnnecessarySemicolon | 7 | false |
| StringOperationCanBeSimplified | 7 | false |
| SynchronizationOnLocalVariableOrMethodParameter | 7 | false |
| StringEquality | 7 | false |
| AnonymousHasLambdaAlternative | 7 | false |
| UnnecessaryContinue | 7 | false |
| UseBulkOperation | 6 | false |
| ObsoleteCollection | 6 | false |
| RegExpSimplifiable | 6 | false |
| RegExpRedundantEscape | 5 | false |
| UnnecessaryUnboxing | 5 | false |
| IntegerMultiplicationImplicitCastToLong | 5 | false |
| UseCompareMethod | 5 | false |
| EnumSwitchStatementWhichMissesCases | 5 | false |
| StaticCallOnSubclass | 5 | false |
| RedundantClassCall | 5 | false |
| RefusedBequest | 5 | false |
| UnnecessarySuperQualifier | 5 | false |
| StringBufferReplaceableByStringBuilder | 5 | false |
| FieldMayBeStatic | 5 | false |
| Java9CollectionFactory | 5 | false |
| PointlessArithmeticExpression | 4 | false |
| WhileCanBeForeach | 4 | false |
| ReplaceNullCheck | 4 | false |
| ToArrayCallWithZeroLengthArrayArgument | 3 | true |
| ObjectNotify | 3 | false |
| ManualArrayToCollectionCopy | 3 | false |
| OptionalContainsCollection | 3 | false |
| NonSynchronizedMethodOverridesSynchronizedMethod | 3 | false |
| SwitchStatementWithConfusingDeclaration | 3 | false |
| RedundantSuppression | 3 | false |
| AssignmentToLambdaParameter | 3 | false |
| UnnecessaryTemporaryOnConversionToString | 3 | false |
| RedundantFileCreation | 3 | false |
| NonShortCircuitBoolean | 3 | false |
| SimplifyOptionalCallChains | 3 | false |
| SlowListContainsAll | 3 | false |
| CodeBlock2Expr | 3 | true |
| InstanceofCatchParameter | 3 | false |
| CastCanBeRemovedNarrowingVariableType | 3 | false |
| WrapperTypeMayBePrimitive | 2 | false |
| EmptyStatementBody | 2 | false |
| AssignmentToStaticFieldFromInstanceMethod | 2 | false |
| ExplicitArrayFilling | 2 | false |
| EqualsBetweenInconvertibleTypes | 2 | false |
| DoubleBraceInitialization | 2 | false |
| TypeParameterHidesVisibleType | 2 | false |
| DuplicateExpressions | 2 | false |
| NegativeIntConstantInLongContext | 2 | false |
| IfStatementWithIdenticalBranches | 2 | false |
| InfiniteLoopStatement | 2 | false |
| IOResource | 2 | false |
| Java8MapForEach | 2 | false |
| RegExpSingleCharAlternation | 2 | false |
| Anonymous2MethodRef | 2 | false |
| ThreadStartInConstruction | 2 | false |
| MismatchedArrayReadWrite | 1 | false |
| DoubleCheckedLocking | 1 | false |
| RegExpRedundantNestedCharacterClass | 1 | false |
| NumberEquality | 1 | false |
| SimplifyStreamApiCallChains | 1 | false |
| MethodOverloadsParentMethod | 1 | false |
| UnnecessaryCallToStringValueOf | 1 | false |
| JavaReflectionMemberAccess | 1 | false |
| NonStrictComparisonCanBeEquality | 1 | true |
| CharsetObjectCanBeUsed | 1 | false |
| WaitNotInLoop | 1 | false |
| AssignmentToCatchBlockParameter | 1 | false |
| EmptyTryBlock | 1 | false |
| LoopStatementsThatDontLoop | 1 | false |
| SuspiciousListRemoveInLoop | 1 | false |
| BooleanConstructor | 1 | false |
| MalformedFormatString | 1 | false |
| RedundantImplements | 1 | false |
| ExceptionNameDoesntEndWithException | 1 | false |
| FuseStreamOperations | 1 | false |
| NonSerializableFieldInSerializableClass | 1 | false |
| AssignmentToForLoopParameter | 1 | false |
| SuspiciousMethodCalls | 1 | false |
| MissingDeprecatedAnnotation | 1 | false |
| CovariantEquals | 1 | false |
| CopyConstructorMissesField | 1 | false |
## RuleId[id=ToArrayCallWithZeroLengthArrayArgument]
### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[qualifiedNodes.size()\]'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
    for (AbstractRebalanceHardConstraint hardConstraint : _hardConstraints) {
      Map<String, String[]> proposedAssignment = Collections
          .singletonMap(partitionName, qualifiedNodes.toArray(new String[qualifiedNodes.size()]));
      boolean[] validateResults =
          hardConstraint.isValid(_resourceName, proposedAssignment).get(partitionName);
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[qualifiedNodes.size()\]'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
    int[] instancePriority = new int[qualifiedNodes.size()];
    Map<String, String[]> proposedAssignment = Collections
        .singletonMap(partitionName, qualifiedNodes.toArray(new String[qualifiedNodes.size()]));
    for (AbstractRebalanceSoftConstraint softConstraint : _softConstraints) {
      if (softConstraint.getConstraintWeight() == 0) {
```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new String\[hostNames.size()\]'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java
            throw new RuntimeException("unable to retrieve host names of localhost");
        }
        return hostNames.toArray(new String[hostNames.size()]);
    }

```

## RuleId[id=Finalize]
### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ZkHelixClusterVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ClusterLiveNodesVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

    @Override
    public void finalize() {
      if (zkClient != null) {
        zkClient.close();
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

    @Override
    public void finalize() {
      if (zkClient != null) {
        zkClient.close();
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBucketDataAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    _zkBaseDataAccessor.close();
    close();
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
  // TODO: to clean up, finalize is deprecated in Java 9
  @Override
  public void finalize() {
    close();
    super.finalize();
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
  }

  protected void finalize() {
    // To ensure all resources are released.
    close();
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java

  @Override
  protected void finalize()
      throws Throwable {
    super.finalize();
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/MonitoredAbnormalResolver.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### Finalize
'finalize()' should not be overridden
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

## RuleId[id=WrapperTypeMayBePrimitive]
### WrapperTypeMayBePrimitive
Type may be primitive
in `helix-core/src/main/java/org/apache/helix/api/config/StateTransitionThrottleConfig.java`
#### Snippet
```java
      ThrottleScope throttleScope =
          ThrottleScope.valueOf(configsMap.get(ConfigProperty.THROTTLE_SCOPE.name()));
      Long maxPartition =
          Long.valueOf(configsMap.get(ConfigProperty.MAX_PARTITION_IN_TRANSITION.name()));
      config = new StateTransitionThrottleConfig(rebalanceType, throttleScope, maxPartition);
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
      sumRemainingNodes -= disksInCurrentCluster;

      Integer disksInCurrentClusterW = disksInCurrentCluster * weight;
      sumRemainingNodesW -= disksInCurrentClusterW;

```

## RuleId[id=MismatchedArrayReadWrite]
### MismatchedArrayReadWrite
Contents of array `indexArray` are written to, but never read
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
  static void randomSelect(List<Integer> originalList, List<Integer> selectedList, int num) {
    assert (originalList.size() >= num);
    int[] indexArray = new int[originalList.size()];
    for (int i = 0; i < indexArray.length; i++) {
      indexArray[i] = i;
```

## RuleId[id=UnnecessaryModifier]
### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/PreConnectCallback.java`
#### Snippet
```java
   * @see ZkHelixManager#handleNewSessionAsParticipant()
   */
  public void onPreConnect();
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/ClusterMessagingService.java`
#### Snippet
```java
   * @return messages to be sent, grouped by the type of instance to send the message to
   */
  public Map<InstanceType, List<Message>> generateMessage(final Criteria recipientCriteria,
      final Message messageTemplate);

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/ClusterMessagingService.java`
#### Snippet
```java
   *          The per-type message factory
   */
  public void registerMessageHandlerFactory(List<String> types, MessageHandlerFactory factory);

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/ClusterMessagingService.java`
#### Snippet
```java
   *          The per-type message factory
   */
  public void registerMessageHandlerFactory(String type, MessageHandlerFactory factory);


```

### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
  }

  public static enum TaskStatus {
    UNKNOWN,
    NEW,
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `helix-core/src/main/java/org/apache/helix/model/BuiltInStateModelDefinitions.java`
#### Snippet
```java
  private final StateModelDefinition def;

  private BuiltInStateModelDefinitions(StateModelDefinition def) {
    this.def = def;
  }
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `helix-core/src/main/java/org/apache/helix/model/HelixConfigScope.java`
#### Snippet
```java
    final int _mapKeyArgNum;

    private ConfigScopeProperty(int zkPathArgNum, int mapKeyArgNum) {
      _zkPathArgNum = zkPathArgNum;
      _mapKeyArgNum = mapKeyArgNum;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/store/PropertySerializer.java`
#### Snippet
```java
   * @throws PropertyStoreException
   */
  public T deserialize(byte[] bytes) throws PropertyStoreException;
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/store/PropertySerializer.java`
#### Snippet
```java
   * @throws PropertyStoreException
   */
  public byte[] serialize(T data) throws PropertyStoreException;

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/store/HelixPropertyStore.java`
#### Snippet
```java
   * Cleanup includes: - stop the internal thread for fire callbacks
   */
  public void stop();

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/store/HelixPropertyStore.java`
#### Snippet
```java
   * Resource allocation includes: - start an internal thread for fire callbacks
   */
  public void start();

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/store/HelixPropertyStore.java`
#### Snippet
```java
   * @param listener
   */
  public void subscribe(String parentPath, HelixPropertyListener listener);

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/store/HelixPropertyStore.java`
#### Snippet
```java
   * @param listener
   */
  public void unsubscribe(String parentPath, HelixPropertyListener listener);
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
   */
  public interface HashFunction {
    public int getHashValue(String key);
  }

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Stage.java`
#### Snippet
```java
   * @throws Exception
   */
  public void process(ClusterEvent event) throws Exception;

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
     * @return The name of the node that would prefer to serve this replica
     */
    public String getLocation(int partitionId, int replicaId, int numPartitions, int numReplicas,
        final List<String> nodeNames);
  }
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
     * @param manager The instance to which this placement is associated
     */
    public void init(final HelixManager manager);

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/CustomCodeCallbackHandler.java`
#### Snippet
```java
   * @param context
   */
  public void onCallback(NotificationContext context);
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/StateMachineEngine.java`
#### Snippet
```java
   * @return
   */
  public StateModelFactory<? extends StateModel> getStateModelFactory(String stateModelName,
      String factoryName);
}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/StateMachineEngine.java`
#### Snippet
```java
   * @return
   */
  public boolean removeStateModelFactory(String stateModelDef,
      StateModelFactory<? extends StateModel> factory);

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/StateMachineEngine.java`
#### Snippet
```java
   * @return
   */
  public boolean registerStateModelFactory(String stateModelDef,
      StateModelFactory<? extends StateModel> factory, String factoryName);

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/StateMachineEngine.java`
#### Snippet
```java
   * @return
   */
  public boolean registerStateModelFactory(String stateModelDef,
      StateModelFactory<? extends StateModel> factory);

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/StateMachineEngine.java`
#### Snippet
```java
   * @return
   */
  public boolean removeStateModelFactory(String stateModelDef,
      StateModelFactory<? extends StateModel> factory, String factoryName);

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/participant/StateMachineEngine.java`
#### Snippet
```java
   * @return
   */
  public StateModelFactory<? extends StateModel> getStateModelFactory(String stateModelName);

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
     * @param manager The instance to which this placement is associated
     */
    public void init(final HelixManager manager);

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
     * @return The name of the node that would prefer to serve this replica
     */
    public String getLocation(int partitionId, int replicaId, int numPartitions, int numReplicas,
        final List<String> nodeNames);
  }
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `helix-lock/src/main/java/org/apache/helix/lock/helix/HelixLockScope.java`
#### Snippet
```java
     * @param pathArgNum the number of arguments required to generate a full path for the specific scope
    \     */
    private LockScopeProperty(int pathArgNum) {
      _pathArgNum = pathArgNum;
    }
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkDataListener.java`
#### Snippet
```java
public interface IZkDataListener {

    public void handleDataChange(String dataPath, Object data) throws Exception;

    public void handleDataDeleted(String dataPath) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkDataListener.java`
#### Snippet
```java
    public void handleDataChange(String dataPath, Object data) throws Exception;

    public void handleDataDeleted(String dataPath) throws Exception;
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IDefaultNameSpace.java`
#### Snippet
```java
     *            The zkclient.
     */
    public void createDefaultNameSpace(ZkClient zkClient);
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkChildListener.java`
#### Snippet
```java
     * @throws Exception
     */
    public void handleChildChange(String parentPath, List<String> currentChilds) throws Exception;
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public List<OpResult> multi(Iterable<Op> ops) throws KeeperException, InterruptedException;

    public void addAuthInfo(String scheme, byte[] auth);
}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public String getServers();

    public List<OpResult> multi(Iterable<Op> ops) throws KeeperException, InterruptedException;

    public void addAuthInfo(String scheme, byte[] auth);
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public String create(String path, byte[] data, List<ACL> acl, CreateMode mode, long ttl) throws KeeperException, InterruptedException;

    public void delete(String path) throws InterruptedException, KeeperException;

    boolean exists(final String path, final boolean watch) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public long getCreateTime(String path) throws KeeperException, InterruptedException;

    public String getServers();

    public List<OpResult> multi(Iterable<Op> ops) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public Stat writeDataReturnStat(String path, byte[] data, int expectedVersion) throws KeeperException, InterruptedException;

    public States getZookeeperState();

    public long getCreateTime(String path) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public States getZookeeperState();

    public long getCreateTime(String path) throws KeeperException, InterruptedException;

    public String getServers();
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public byte[] readData(String path, Stat stat, boolean watch) throws KeeperException, InterruptedException;

    public void writeData(String path, byte[] data, int expectedVersion) throws KeeperException, InterruptedException;

    public Stat writeDataReturnStat(String path, byte[] data, int expectedVersion) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    void close() throws InterruptedException;

    public String create(String path, byte[] data, CreateMode mode) throws KeeperException, InterruptedException;

    public String create(String path, byte[] data, List<ACL> acl, CreateMode mode) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
public interface IZkConnection {

    public void connect(Watcher watcher);

    void close() throws InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    List<String> getChildren(final String path, final boolean watch) throws KeeperException, InterruptedException;

    public byte[] readData(String path, Stat stat, boolean watch) throws KeeperException, InterruptedException;

    public void writeData(String path, byte[] data, int expectedVersion) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public String create(String path, byte[] data, List<ACL> acl, CreateMode mode) throws KeeperException, InterruptedException;

    public String create(String path, byte[] data, List<ACL> acl, CreateMode mode, long ttl) throws KeeperException, InterruptedException;

    public void delete(String path) throws InterruptedException, KeeperException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public String create(String path, byte[] data, CreateMode mode) throws KeeperException, InterruptedException;

    public String create(String path, byte[] data, List<ACL> acl, CreateMode mode) throws KeeperException, InterruptedException;

    public String create(String path, byte[] data, List<ACL> acl, CreateMode mode, long ttl) throws KeeperException, InterruptedException;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/IZkConnection.java`
#### Snippet
```java
    public void writeData(String path, byte[] data, int expectedVersion) throws KeeperException, InterruptedException;

    public Stat writeDataReturnStat(String path, byte[] data, int expectedVersion) throws KeeperException, InterruptedException;

    public States getZookeeperState();
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/DataUpdater.java`
#### Snippet
```java
     * @return the new data that should be written back to ZooKeeper.
     */
    public T update(T currentData);

}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/serialize/PathBasedZkSerializer.java`
#### Snippet
```java
   * @throws ZkMarshallingError
   */
  public Object deserialize(byte[] bytes, String path) throws ZkMarshallingError;

}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/serialize/PathBasedZkSerializer.java`
#### Snippet
```java
   * @throws ZkMarshallingError
   */
  public byte[] serialize(Object data, String path) throws ZkMarshallingError;

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/serialize/ZkSerializer.java`
#### Snippet
```java
public interface ZkSerializer {

    public byte[] serialize(Object data) throws ZkMarshallingError;

    public Object deserialize(byte[] bytes) throws ZkMarshallingError;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/serialize/ZkSerializer.java`
#### Snippet
```java
    public byte[] serialize(Object data) throws ZkMarshallingError;

    public Object deserialize(byte[] bytes) throws ZkMarshallingError;
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/deprecated/IZkStateListener.java`
#### Snippet
```java
     *             On any error.
     */
    public void handleSessionEstablishmentError(final Throwable error) throws Exception;

}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/deprecated/IZkStateListener.java`
#### Snippet
```java
     *             On any error.
     */
    public void handleStateChanged(KeeperState state) throws Exception;

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/deprecated/IZkStateListener.java`
#### Snippet
```java
     *             On any error.
     */
    public void handleNewSession() throws Exception;

    /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/PayloadSerializer.java`
#### Snippet
```java
   * @return instance of the generic type or null if the conversion failed
   */
  public <T> T deserialize(final Class<T> clazz, final byte[] bytes);
}

```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/PayloadSerializer.java`
#### Snippet
```java
   * @return byte array representing the object
   */
  public <T> byte[] serialize(final T data);

  /**
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskFactory.java`
#### Snippet
```java

public interface TaskFactory {
  public Task createTask(String id, Set<String> parentIds, HelixManager helixManager,
      TaskResultStore resultStore);
}
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java
  public List<String> lrange(final String key, final long start, final long end) throws Exception;

  public void ltrim(final String key, final long start, final long end) throws Exception;

  public Long hincrBy(final String key, final String field, final long value) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java
  public long llen(String key) throws Exception;

  public void rpush(String key, String value) throws Exception;

  public List<String> lrange(final String key, final long start, final long end) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java
  public boolean exists(String key) throws Exception;

  public long llen(String key) throws Exception;

  public void rpush(String key, String value) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java
  public void rpush(String key, String value) throws Exception;

  public List<String> lrange(final String key, final long start, final long end) throws Exception;

  public void ltrim(final String key, final long start, final long end) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java
  public void ltrim(final String key, final long start, final long end) throws Exception;

  public Long hincrBy(final String key, final String field, final long value) throws Exception;

  public Map<String, String> hgetAll(final String key) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java

public interface TaskResultStore {
  public boolean exists(String key) throws Exception;

  public long llen(String key) throws Exception;
```

### UnnecessaryModifier
Modifier `public` is redundant for interface members
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskResultStore.java`
#### Snippet
```java
  public Long hincrBy(final String key, final String field, final long value) throws Exception;

  public Map<String, String> hgetAll(final String key) throws Exception;
}

```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `helix-agent/src/main/java/org/apache/helix/agent/CommandAttribute.java`
#### Snippet
```java
  private final String _name;

  private CommandAttribute(String name) {
    _name = name;
  }
```

### UnnecessaryModifier
Modifier `static` is redundant for inner enums
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
   * PROCESS STATE CODES
   */
  public static enum ProcessStateCode {
    // Here are the different values that the s, stat and state output specifiers (header "STAT" or
    // "S")
```

### UnnecessaryModifier
Modifier `private` is redundant for enum constructors
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
    private final String _description;

    private ProcessStateCode(String description) {
      _description = description;
    }
```

## RuleId[id=PointlessArithmeticExpression]
### PointlessArithmeticExpression
`offset + 0` can be replaced with 'offset'
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
   */
  private static long fourByteToLong(byte[] bytes, int offset) {
    return (byteToLong(bytes[offset + 0])
        + (byteToLong(bytes[offset + 1]) << 8)
        + (byteToLong(bytes[offset + 2]) << 16)
```

### PointlessArithmeticExpression
`1.0 * sumMaster` can be replaced with 'sumMaster'
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      System.out.print(count + " ");
    }
    System.out.println("\nMean master: " + 1.0 * sumMaster / countsMap.size());
    System.out.println("Max master count: " + maxCountMaster + " min count:" + minCountMaster);
    double mean = sum / (countsMap.size());
```

### PointlessArithmeticExpression
`SIGMOID.value(-(score - 1) * DEFAULT_ALPHA) * (MAX_SCORE - MIN_SCORE)` can be replaced with 'SIGMOID.value(-(score - 1) \* DEFAULT_ALPHA)'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/UsageSoftConstraint.java`
#### Snippet
```java
  @Override
  protected NormalizeFunction getNormalizeFunction() {
    return (score) -> SIGMOID.value(-(score - 1) * DEFAULT_ALPHA) * (MAX_SCORE - MIN_SCORE);
  }
}
```

### PointlessArithmeticExpression
`(MAX_SCORE - MIN_SCORE) * STATE_TRANSITION_COST_FACTOR` can be replaced with 'STATE_TRANSITION_COST_FACTOR'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/AbstractPartitionMovementConstraint.java`
#### Snippet
```java
      // require a state transition.
      double scoreWithStateTransitionCost =
          MIN_SCORE + (MAX_SCORE - MIN_SCORE) * STATE_TRANSITION_COST_FACTOR;
      // if state matches, no state transition required for the proposed assignment; if state does
      // not match, then the proposed assignment requires state transition.
```

## RuleId[id=EmptyStatementBody]
### EmptyStatementBody
`while` statement has empty body
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
        int masterPartitionsToMove =
            (int) ((partitions * 1.0 / prevNodeCount - partitions * 1.0 / newNodeCount) * 1 * prevNodeCount);
        while (masterPartitionsToMove > 0) {

        }
```

### EmptyStatementBody
`else` statement has empty body
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
          upload(zkPath + "/" + child.getName(), fsPath + "/" + child.getName());
        }
      } else {

      }
```

## RuleId[id=DoubleCheckedLocking]
### DoubleCheckedLocking
Double-checked locking
in `helix-rest/src/main/java/org/apache/helix/rest/client/CustomRestClientFactory.java`
#### Snippet
```java

  public static CustomRestClient get() {
    if (INSTANCE == null) {
      synchronized (CustomRestClientFactory.class) {
        if (INSTANCE == null) {
```

## RuleId[id=WhileCanBeForeach]
### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/HistogramDynamicMetric.java`
#### Snippet
```java
    _attributeNameSet = new HashSet<>();
    Iterator<MBeanAttributeInfo> iter = getAttributeInfos().iterator();
    while (iter.hasNext()) {
      MBeanAttributeInfo attributeInfo = iter.next();
      _attributeNameSet.add(attributeInfo.getName());
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
    // older rebalancers.
    Iterator<Resource> itr = remainingResourceMap.values().iterator();
    while (itr.hasNext()) {
      Resource resource = itr.next();
      boolean result = false;
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java

    Iterator<Message> iter = messages.iterator();
    while (iter.hasNext()) {
      Message message = iter.next();
      String resourceName = message.getResourceName();
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java
    for (PriorityQueue<WorkflowObject> quotaBasedWorkflowPQ : _quotaBasedWorkflowPQs.values()) {
      Iterator<WorkflowObject> it = quotaBasedWorkflowPQ.iterator();
      while (it.hasNext()) {
        String workflowId = it.next()._workflowId;
        Resource resource = resourceMap.get(workflowId);
```

## RuleId[id=CommentedOutCode]
### CommentedOutCode
Commented out code (28 lines)
in `helix-core/src/main/java/org/apache/helix/model/CurrentState.java`
#### Snippet
```java
  }

  // @Override
  // public int getBucketSize()
  // {
```

### CommentedOutCode
Commented out code (20 lines)
in `helix-core/src/main/java/org/apache/helix/tools/ClusterExternalViewVerifier.java`
#### Snippet
```java
   * @param bestPossibleState
   */
  // static void trimBestPossibleState(Map<String, Map<String, String>> bestPossibleState) {
  // Iterator<Entry<String, Map<String, String>>> iter = bestPossibleState.entrySet().iterator();
  // while (iter.hasNext()) {
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java
      }

      // System.out.println("storageNodeStart :" + storageNodeStart + " storageNodeEnd:" +
      // storageNodeEnd);
      List<String> snBatch = partitions.subList(storageNodeStart, storageNodeEnd);
```

### CommentedOutCode
Commented out code (6 lines)
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    }

    // int[] ring1 =
    // IdealCalculatorByConsistentHashing.generateEvenHashRing(instanceNames,
    // 65535);
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      // (int)(hashFunc.getHashValue(partitionName) % hashRingSize);
      hashPos = hashPos < 0 ? (hashPos + hashRingSize) : hashPos;
      // System.out.print(hashPos+ " ");
      // if(i % 120 == 0) System.out.println();
      Map<String, String> partitionAssignment = new TreeMap<String, String>();
```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ExampleParticipant.java`
#### Snippet
```java
            zkConnectString);

    // genericStateMachineHandler = new StateMachineEngine();
    // genericStateMachineHandler.registerStateModelFactory(stateModelType,
    // stateModelFactory);
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            thread.interrupt();

            // System.err.println("stop " +
            // _command._nodeOpArg._manager.getInstanceName());
            result = true;
```

### CommentedOutCode
Commented out code (5 lines)
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
   */
  public void removeConfig(ConfigScopeProperty type, String scopeArgsCsv, String keysCsv) {
    // ConfigScope scope = new ConfigScopeBuilder().build(scopesStr);
    //
    // // parse keys
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    String[] keys = keysCsv.split("[\\s,]");
    // parse keys
    // String[] keys = keysStr.split("[\\s,]");
    // Set<String> keysSet = new HashSet<String>(Arrays.asList(keys));

```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

    }
    // return verifyByPolling(new BestPossAndExtViewZkVerifier(zkServer, clusterName),
    // timeoutValue,
    // periodValue);
```

### CommentedOutCode
Commented out code (6 lines)
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
                + bestPossStateSize + ") for resource: " + resourceName);

            // System.err.println("exterView size (" + extViewSize
            // + ") is different from bestPossState size (" + bestPossStateSize
            // + ") for resource: " + resourceName);
```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
              LOG.info("externalView is different from bestPossibleState for partition:" + partition);

              // System.err.println("externalView is different from bestPossibleState for partition: "
              // + partition + ", actual: " + evInstanceStateMap + ", bestPoss: " +
              // bpInstanceStateMap);
```

### CommentedOutCode
Commented out code (5 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCallbackCache.java`
#### Snippet
```java
        Stat oldStat = znode.getStat();

        // System.out.println("handleDataChange: " + dataPath + ", data: " + data);
        // System.out.println("handleDataChange: " + dataPath + ", oldCzxid: " +
        // oldStat.getCzxid() + ", newCzxid: " + stat.getCzxid()
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCallbackCache.java`
#### Snippet
```java
          fireEvents(dataPath, EventType.NodeCreated);
        } else if (oldStat.getVersion() != stat.getVersion()) {
          // System.out.println("\t--fireNodeChanged: " + dataPath + ", oldVersion: " +
          // oldStat.getVersion() + ", newVersion: " + stat.getVersion());
          fireEvents(dataPath, EventType.NodeDataChanged);
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCallbackCache.java`
#### Snippet
```java
        fireEvents(path, EventType.NodeCreated);
      } else if (oldStat.getVersion() != stat.getVersion()) {
        // System.out.println("\t--fireNodeChanged: " + path + ", oldVersion: " +
        // oldStat.getVersion() + ", newVersion: " + stat.getVersion());
        fireEvents(path, EventType.NodeDataChanged);
```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultParticipantErrorMessageHandlerFactory.java`
#### Snippet
```java
        } else if (actionOnError == ActionOnError.DISABLE_RESOURCE) {
          // NOT IMPLEMENTED, or we can disable all partitions
          // _manager.getClusterManagmentTool().en(_manager.getClusterName(),
          // _manager.getInstanceName(),
          // _message.getResourceName(), _message.getPartitionName(), false);
```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
      stateModelFactory = new LeaderStandbyStateModelFactory(this.instanceName, delay);
    }
    // genericStateMachineHandler = new StateMachineEngine();
    // genericStateMachineHandler.registerStateModelFactory(stateModelType,
    // stateModelFactory);
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java

    stateModelFactory = new BootstrapHandler();
    // genericStateMachineHandler = new StateMachineEngine();
    // genericStateMachineHandler.registerStateModelFactory("MasterSlave", stateModelFactory);

```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java
        // long start = System.currentTimeMillis();
        curStateUpdateMap.get(path).merge(update._delta);
        // long end = System.currentTimeMillis();
        // LOG.info("each merge took: " + (end - start));
      }
```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java
      // TODO: change to use asyncSet
      for (PropertyKey key : csUpdate.keySet()) {
        // logger.info("updateCS: " + key);
        // System.out.println("\tupdateCS: " + key.getPath() + ", " +
        // curStateMap.get(key));
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/messaging/handling/MessageTimeoutTask.java`
#### Snippet
```java
  public void run() {
    Message message = _task.getMessage();
    // NotificationContext context = _task.getNotificationContext();
    // System.out.println("msg: " + message.getMsgId() + " timeouot.");
    LOG.warn("Message time out, canceling. id:" + message.getMsgId() + " timeout : "
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    // check resource exist. warn if not.
    if (idealStateRecord == null) {
      // throw new HelixException("Cluster: " + clusterName + ", resource: " + resourceName
      // + ", ideal state does not exist");
      logger.warn(
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    // update both instanceConfig and clusterConfig in transition period.
    enableSingleInstance(clusterName, instanceName, enabled, baseAccessor, disabledType, reason);
//    enableBatchInstances(clusterName, Collections.singletonList(instanceName), enabled,
//        baseAccessor, disabledType, reason);

```

### CommentedOutCode
Commented out code (3 lines)
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java
        // idealState is null when resource has been dropped,
        // R can't be evaluated and ignore state constraints
        //if (idealState != null) {
        //  max = cache.getReplicas(idealState.getResourceName());
        //}
```

### CommentedOutCode
Commented out code (5 lines)
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
            _baseAccessor.update(serverPaths, updaters, pathsCreatedList, setStats, options);

        // System.out.println("updateChild: ");
        // for (T data : updateData)
        // {
```

### CommentedOutCode
Commented out code (4 lines)
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/exception/ZkException.java`
#### Snippet
```java
    public static ZkException create(KeeperException e) {
        switch (e.code()) {
        // case DATAINCONSISTENCY:
        // return new DataInconsistencyException();
        // case CONNECTIONLOSS:
```

### CommentedOutCode
Commented out code (2 lines)
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/exception/ZkException.java`
#### Snippet
```java
        case NONODE:
            return new ZkNoNodeException(e);
            // case NOAUTH:
            // return new ZkNoAuthException();
        case BADVERSION:
```

### CommentedOutCode
Commented out code (2 lines)
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/exception/ZkException.java`
#### Snippet
```java
        case BADVERSION:
            return new ZkBadVersionException(e);
            // case NOCHILDRENFOREPHEMERALS:
            // return new NoChildrenForEphemeralsException();
        case NODEEXISTS:
```

### CommentedOutCode
Commented out code (10 lines)
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/exception/ZkException.java`
#### Snippet
```java
        case NODEEXISTS:
            return new ZkNodeExistsException(e);
            // case INVALIDACL:
            // return new ZkInvalidACLException();
            // case AUTHFAILED:
```

### CommentedOutCode
Commented out code (2 lines)
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      g.writeObjectFieldStart("listFields");
      for (String key : record.getListFields().keySet()) {
        // g.writeStringField(key, record.getListField(key).toString());

        // g.writeObjectFieldStart(key);
```

### CommentedOutCode
Commented out code (2 lines)
in `helix-agent/src/main/java/org/apache/helix/agent/AgentStateModel.java`
#### Snippet
```java

    // debug
    // System.out.println("command: " + cmd + ", exitValue: " + exitValue
    // + " output:\n" + externalCmd.getStringOutput());

```

### CommentedOutCode
Commented out code (2 lines)
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
              ProcessBuilder pb =
                  new ProcessBuilder("rsync", "-rvt", remoteLogDir + "/", localLogDir);
              // System.out.println("Background rsync source:"+remoteLogDir+"/" +" dest:"+
              // localLogDir);
              ExternalCommand ec;
```

### CommentedOutCode
Commented out code (2 lines)
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
      }

      // List<Future<Object>> invokeAll = service.invokeAll(list);
      // service.shutdownNow();
      System.out.println("RUN -------------");
```

### CommentedOutCode
Commented out code (7 lines)
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    System.out.println(start);
    try {
      // int sum = 0;
      // List<Float> array = new ArrayList<Float>();
      // for (int i = 0; i < 5000; i++)
```

### CommentedOutCode
Commented out code (4 lines)
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
      RandomAccessFile raf = new RandomAccessFile(changeLogDir + "/" + fileName, "r");
      raf.seek(endOffset);
      // out.writeLong(record.txid);
      // out.writeShort(record.type);
      // out.writeLong(record.timestamp);
```

## RuleId[id=CStyleArrayDeclaration]
### CStyleArrayDeclaration
C-style array declaration of local variable `chars`
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
    String reason = null;
    char lastc = '/';
    char chars[] = path.toCharArray();
    char c;
    for (int i = 1; i < chars.length; lastc = chars[i], i++) {
```

### CStyleArrayDeclaration
C-style array declaration of field `nodeIds`
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
    }

    int nodeIds[];
  }

```

### CStyleArrayDeclaration
C-style array declaration of local variable `clusterDataList`
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
    ArrayList<HashMap> tempNodes = new ArrayList<HashMap>();
    HashMap<String, Object> subCluster = null, clusterData = null;
    Integer clusterDataList[] = null;
    for (int i = 0; i < totalClusters; i++) {
      subCluster = subClusters[i];
```

### CStyleArrayDeclaration
C-style array declaration of parameter `args`
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
  }

  public static void main(String args[]) throws Exception {
    int partitions = 4096, replicas = 2;
    String resourceName = "espressoDB1";
```

### CStyleArrayDeclaration
C-style array declaration of local variable `createSucceed`
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
        List<String> fallbackPaths = new ArrayList<String>(fallbackMap.keySet());
        List<T> fallbackValues = _fallbackStore.get(fallbackPaths, null, options, true);
        boolean createSucceed[] =
            super.createChildren(fallbackPaths, fallbackValues, AccessOption.PERSISTENT);

```

### CStyleArrayDeclaration
C-style array declaration of local variable `succeed`
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
      }

      boolean succeed[] = new boolean[paths.size()]; // all init'ed to false
      if (updateMap.size() > 0) {
        List<String> updatePaths = new ArrayList<String>(updateMap.keySet());
```

### CStyleArrayDeclaration
C-style array declaration of local variable `updateSucceed`
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
        }

        boolean updateSucceed[] = super.updateChildren(updatePaths, subUpdaters, options);
        for (int i = 0; i < updatePaths.size(); i++) {
          String updatePath = updatePaths.get(i);
```

### CStyleArrayDeclaration
C-style array declaration of parameter `args`
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
  }

  public static void main(String args[]) throws Exception {
    // Test the hash ring generation
    List<String> instanceNames = new ArrayList<String>();
```

### CStyleArrayDeclaration
C-style array declaration of local variable `keyParts`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        logger.warn("invalid key for simple field: key is null");
      } else {
        String keyParts[] = key.split("/");
        if (keyParts.length != 1) {
          logger.warn("invalid key for simple field: " + key + ", expect 1 part: key1 (no slash)");
```

### CStyleArrayDeclaration
C-style array declaration of local variable `keyParts`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        logger.warn("invalid key for simple field: key is null");
      } else {
        String keyParts[] = key.split("/");
        if (keyParts.length < 1 || keyParts.length > 2) {
          logger.warn("invalid key for list field: " + key
```

### CStyleArrayDeclaration
C-style array declaration of local variable `keyParts`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        logger.warn("invalid key for simple field: key is null");
      } else {
        String keyParts[] = key.split("/");
        if (keyParts.length < 1 || keyParts.length > 2) {
          logger.warn("invalid key for map field: " + key
```

### CStyleArrayDeclaration
C-style array declaration of local variable `keyParts`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
  private static void setSingleValue(ZNRecord record, ZnodePropertyType type, String key,
      String value) {
    String keyParts[] = key.split("/");

    switch (type) {
```

### CStyleArrayDeclaration
C-style array declaration of local variable `keyParts`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    String value = null;
    String keyParts[] = key.split("/");

    switch (type) {
```

### CStyleArrayDeclaration
C-style array declaration of local variable `keyParts`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    }

    String keyParts[] = key.split("/");
    switch (type) {
    case SIMPLE:
```

### CStyleArrayDeclaration
C-style array declaration of local variable `instanceInfoArray`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
  public void setupTestCluster(String clusterName) {
    addCluster(clusterName, true);
    String instanceInfoArray[] = new String[6];
    for (int i = 0; i < instanceInfoArray.length; i++) {
      instanceInfoArray[i] = "localhost_" + (8900 + i);
```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    // set/get/remove config options
    else if (cmd.hasOption(setConfig)) {
      String values[] = cmd.getOptionValues(setConfig);
      ConfigScopeProperty type = ConfigScopeProperty.valueOf(values[0]);
      String scopeArgs = values[1];
```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      setupTool.setConfig(type, scopeArgs, keyValueMap);
    } else if (cmd.hasOption(getConfig)) {
      String values[] = cmd.getOptionValues(getConfig);
      ConfigScopeProperty type = ConfigScopeProperty.valueOf(values[0]);
      String scopeArgs = values[1];
```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      setupTool.getConfig(type, scopeArgs, keys);
    } else if (cmd.hasOption(removeConfig)) {
      String values[] = cmd.getOptionValues(removeConfig);
      ConfigScopeProperty type = ConfigScopeProperty.valueOf(values[0]);
      String scoepArgs = values[1];
```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    // set/get/remove constraint options
    else if (cmd.hasOption(setConstraint)) {
      String values[] = cmd.getOptionValues(setConstraint);
      String clusterName = values[0];
      String constraintType = values[1];
```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      setupTool.setConstraint(clusterName, constraintType, constraintId, constraintAttributesMap);
    } else if (cmd.hasOption(getConstraints)) {
      String values[] = cmd.getOptionValues(getConstraints);
      String clusterName = values[0];
      String constraintType = values[1];
```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      setupTool.getConstraints(clusterName, constraintType);
    } else if (cmd.hasOption(removeConstraint)) {
      String values[] = cmd.getOptionValues(removeConstraint);
      String clusterName = values[0];
      String constraintType = values[1];
```

### CStyleArrayDeclaration
C-style array declaration of parameter `args`
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
  }

  public static void main(String args[]) {
    List<String> instanceNames = new ArrayList<String>();
    for (int i = 0; i < 10; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of local variable `success`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java

    // set non-bucketized nodes or parent nodes of bucketized nodes
    boolean success[] = _baseDataAccessor.setChildren(paths, records, options);

    // set bucketized nodes
```

### CStyleArrayDeclaration
C-style array declaration of local variable `exists`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
    final int size = paths.size();

    boolean exists[] = new boolean[size];
    for (int i = 0; i < size; i++) {
      exists[i] = exists(paths.get(i), options);
```

### CStyleArrayDeclaration
C-style array declaration of local variable `needReads`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

    boolean needRead = false;
    boolean needReads[] = new boolean[size]; // init to false

    Cache<T> cache = getCache(serverPaths);
```

### CStyleArrayDeclaration
C-style array declaration of local variable `fields`
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/JoinTask.java`
#### Snippet
```java
    Map<String, String[]> clickIndex = new HashMap<String, String[]>();
    for (String click : clickEvents) {
      String fields[] = click.split(",");
      clickIndex.put(fields[2], fields);
    }
```

### CStyleArrayDeclaration
C-style array declaration of local variable `lines`
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      // split by new lines
      // should return 2 lines for an existing process, or 1 line for a non-existing process
      String lines[] = cmd.getStringOutput().split("[\\r\\n]+");
      if (lines.length != 2) {
        LOG.info("process: " + processId + " not exist");
```

### CStyleArrayDeclaration
C-style array declaration of local variable `attributes`
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      // split by whitespace, 1st line is attributes, 2nd line is actual values
      // should be parallel arrays
      String attributes[] = lines[0].trim().split("\\s+");
      String values[] = lines[1].trim().split("\\s+");

```

### CStyleArrayDeclaration
C-style array declaration of local variable `values`
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      // should be parallel arrays
      String attributes[] = lines[0].trim().split("\\s+");
      String values[] = lines[1].trim().split("\\s+");

      Character processStateCodeChar = null;
```

### CStyleArrayDeclaration
C-style array declaration of local variable `tmp`
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Dag.java`
#### Snippet
```java
      this.setNumPartitions(numPartitions);
      if (parentIdsStr != null && !parentIdsStr.trim().isEmpty()) {
        String tmp[] = parentIdsStr.split(",");
        parentIds = new HashSet<String>();
        parentIds.addAll(Arrays.asList(tmp));
```

### CStyleArrayDeclaration
C-style array declaration of local variable `cmdSplits`
in `helix-agent/src/main/java/org/apache/helix/agent/AgentStateModel.java`
#### Snippet
```java

    // split the cmd to actual cmd and args[]
    String cmdSplits[] = cmd.trim().split("\\s+");
    String cmdValue = cmdSplits[0];
    String args[] = Arrays.copyOfRange(cmdSplits, 1, cmdSplits.length);
```

### CStyleArrayDeclaration
C-style array declaration of local variable `args`
in `helix-agent/src/main/java/org/apache/helix/agent/AgentStateModel.java`
#### Snippet
```java
    String cmdSplits[] = cmd.trim().split("\\s+");
    String cmdValue = cmdSplits[0];
    String args[] = Arrays.copyOfRange(cmdSplits, 1, cmdSplits.length);

    // get the command-execution timeout
```

## RuleId[id=AssignmentToStaticFieldFromInstanceMethod]
### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `_zkMetadataStoreDirectoryInstance` from instance context
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
    _realmToShardingKeysMap.clear();
    _routingDataMap.clear();
    _zkMetadataStoreDirectoryInstance = null;
  }

```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `REST_SERVER_SSL_CONTEXT` from instance context
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
   */
  public void registerServerSSLContext(SSLContext sslContext) {
    REST_SERVER_SSL_CONTEXT = sslContext;
  }
}
```

## RuleId[id=RegExpRedundantEscape]
### RegExpRedundantEscape
Redundant character escape `\\/` in RegExp
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
    // /<cluster_name>/instances/<instance_name>/[currentStates/messages]
    if (path.contains("/" + PropertyType.INSTANCES + "/")) {
      String[] split = path.split("\\/");
      if (split.length > 3) {
        return split[3];
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
        + TaskConstants.REBALANCER_CONTEXT_ROOT + "/{workflowName}" + "_" + "{jobName}/Context");
  }
  static Pattern pattern = Pattern.compile("(\\{.+?\\})");

  private static void addEntry(PropertyType type, int numKeys, String template) {
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `helix-core/src/main/java/org/apache/helix/util/StringTemplate.java`
#### Snippet
```java

  Map<Enum, Map<Integer, String>> templateMap = new HashMap<Enum, Map<Integer, String>>();
  static Pattern pattern = Pattern.compile("(\\{.+?\\})");

  public void addEntry(Enum type, int numKeys, String template) {
```

### RegExpRedundantEscape
Redundant character escape `\\/` in RegExp
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
    // /<cluster_name>/instances/<instance_name>/[currentStates/messages]
    if (path.contains("/" + PropertyType.INSTANCES + "/")) {
      String[] split = path.split("\\/");
      if (split.length > 3) {
        return split[3];
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `helix-agent/src/main/java/org/apache/helix/agent/AgentStateModel.java`
#### Snippet
```java
public class AgentStateModel extends StateModel {
  private static final Logger _logger = LoggerFactory.getLogger(AgentStateModel.class);
  private static Pattern pattern = Pattern.compile("(\\{.+?\\})");

  private static String buildKey(String fromState, String toState, CommandAttribute attribute) {
```

## RuleId[id=KeySetIterationMayUseEntrySet]
### KeySetIterationMayUseEntrySet
Iteration over `healthChecks.keySet()` may be replaced with 'entrySet()' iteration
in `helix-rest/src/main/java/org/apache/helix/rest/server/json/instance/InstanceInfo.java`
#### Snippet
```java
    public Builder healthStatus(Map<String, Boolean> healthChecks) {
      this.failedHealthChecks = new ArrayList<>();
      for (String healthCheck : healthChecks.keySet()) {
        if (!healthChecks.get(healthCheck)) {
          _logger.warn("Health Check {} failed", healthCheck);
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceMapByZone.keySet()` may be replaced with 'entrySet()' iteration
in `helix-rest/src/main/java/org/apache/helix/rest/server/service/ClusterServiceImpl.java`
#### Snippet
```java
    }
    List<ClusterTopology.Zone> zones = new ArrayList<>();
    for (String zoneId : instanceMapByZone.keySet()) {
      ClusterTopology.Zone zone = new ClusterTopology.Zone(zoneId);
      zone.setInstances(instanceMapByZone.get(zoneId));
```

### KeySetIterationMayUseEntrySet
Iteration over `headersMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-rest/src/main/java/org/apache/helix/rest/server/filters/AuditLogFilter.java`
#### Snippet
```java
  private List<String> getHeaders(MultivaluedMap<String, String> headersMap) {
    List<String> headers = new ArrayList<>();
    for (String key : headersMap.keySet()) {
      headers.add(key + ":" + headersMap.get(key));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `keyValueMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    ZNRecord update = new ZNRecord(id);
    if (splits.length == 1) {
      for (String key : keyValueMap.keySet()) {
        String value = keyValueMap.get(key);
        update.setSimpleField(key, value);
```

### KeySetIterationMayUseEntrySet
Iteration over `keyValueMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
        update.setMapField(splits[1], new TreeMap<String, String>());
      }
      for (String key : keyValueMap.keySet()) {
        String value = keyValueMap.get(key);
        update.getMapField(splits[1]).put(key, value);
```

### KeySetIterationMayUseEntrySet
Iteration over `jobConfigMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
    // Update task profiles by traversing all TaskContexts
    Map<String, JobConfig> jobConfigMap = taskDataCache.getJobConfigMap();
    for (String jobName : jobConfigMap.keySet()) {
      JobConfig jobConfig = jobConfigMap.get(jobName);
      JobContext jobContext = taskDataCache.getJobContext(jobName);
```

### KeySetIterationMayUseEntrySet
Iteration over `unHealthyPartitions.keySet()` may be replaced with 'entrySet()' iteration
in `helix-rest/src/main/java/org/apache/helix/rest/clusterMaintenanceService/MaintenanceManagementService.java`
#### Snippet
```java

      List<String> unHealthyPartitionsList = new ArrayList<>();
      for (String partitionName : unHealthyPartitions.keySet()) {
        for (String reason : unHealthyPartitions.get(partitionName)) {
          unHealthyPartitionsList.add(reason.toUpperCase() + ":" + partitionName);
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/util/WeightAwareRebalanceUtil.java`
#### Snippet
```java
      // Construct resource states result
      PartitionStateMap newStateMap = new PartitionStateMap(resourceConfig.getResourceName());
      for (String partition : stateMap.keySet()) {
        newStateMap.setState(new Partition(partition), stateMap.get(partition));
      }
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
        if (stateMap.containsKey(instanceToBeStop)
            && stateMap.get(instanceToBeStop).equals(stateModelDefinition.getTopState())) {
          for (String siblingInstance : stateMap.keySet()) {
            // Skip this self check
            if (siblingInstance.equals(instanceToBeStop)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `mapFields.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
        // iterate over the task status updates in the order they occurred
        // so that the last status can be recorded
        for (String key : mapFields.keySet()) {
          if (key.contains("STATE_TRANSITION")) {
            Map<String, String> m = mapFields.get(key);
```

### KeySetIterationMayUseEntrySet
Iteration over `mapFields.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
      for (ZNRecord partition : partitionRecords) {
        Map<String, Map<String, String>> mapFields = partition.getMapFields();
        for (String key : mapFields.keySet()) {
          if (key.startsWith("MESSAGE")) {
            Map<String, String> m = mapFields.get(key);
```

### KeySetIterationMayUseEntrySet
Iteration over `currMapFields.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/HealthStat.java`
#### Snippet
```java
    Map<String, Map<String, String>> convertedMapFields =
        new HashMap<String, Map<String, String>>();
    for (String key : currMapFields.keySet()) {
      Map<String, String> currMap = currMapFields.get(key);
      String timestamp = _record.getStringField(TIMESTAMP_NAME, "-1");
```

### KeySetIterationMayUseEntrySet
Iteration over `currMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/HealthStat.java`
#### Snippet
```java
      Map<String, String> currMap = currMapFields.get(key);
      String timestamp = _record.getStringField(TIMESTAMP_NAME, "-1");
      for (String subKey : currMap.keySet()) {
        if (subKey.equals("StatsHolder.TIMESTAMP_NAME")) { // don't want to get timestamp again
          continue;
```

### KeySetIterationMayUseEntrySet
Iteration over `oldAssignment.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      JobContext jobContext) {

    for (String instance : oldAssignment.keySet()) {
      for (int pId : oldAssignment.get(instance)) {
        if (jobContext.getPartitionState(pId) == TaskPartitionState.RUNNING) {
```

### KeySetIterationMayUseEntrySet
Iteration over `currentInstanceToTaskAssignments.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java

    // Iterate through all instances
    for (String instance : currentInstanceToTaskAssignments.keySet()) {
      assignedPartitions.put(instance, new HashSet<>());

```

### KeySetIterationMayUseEntrySet
Iteration over `_stateTransitionTable.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
    }
    String topState = _statesPriorityList.get(0);
    for (String state : _stateTransitionTable.keySet()) {
      Map<String, String> transitionMap = _stateTransitionTable.get(state);
      if (transitionMap != null && transitionMap.containsKey(topState) && transitionMap
```

### KeySetIterationMayUseEntrySet
Iteration over `transitionTable.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
          stateTransitionTableBuilder.buildTransitionTable(statePriorityList,
              new ArrayList<>(transitionMap.keySet()));
      for (String state : transitionTable.keySet()) {
        record.setMapField(state + ".next", transitionTable.get(state));
      }
```

### KeySetIterationMayUseEntrySet
Iteration over `_attributes.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/ConstraintItem.java`
#### Snippet
```java
   */
  public boolean match(Map<ConstraintAttribute, String> attributes) {
    for (ConstraintAttribute key : _attributes.keySet()) {
      if (!attributes.containsKey(key)) {
        return false;
```

### KeySetIterationMayUseEntrySet
Iteration over `mapFields.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/CustomizedState.java`
#### Snippet
```java
    Map<String, String> map = new HashMap<String, String>();
    Map<String, Map<String, String>> mapFields = _record.getMapFields();
    for (String partitionName : mapFields.keySet()) {
      Map<String, String> tempMap = mapFields.get(partitionName);
      if (tempMap != null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `mapFields.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/CurrentState.java`
#### Snippet
```java
    Map<String, String> map = new HashMap<String, String>();
    Map<String, Map<String, String>> mapFields = _record.getMapFields();
    for (String partitionName : mapFields.keySet()) {
      Map<String, String> tempMap = mapFields.get(partitionName);
      if (tempMap != null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceConfigMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
      final String[] topologyKeys) {
    List<String> invalidInstances = new ArrayList<>();
    for (String instanceName : instanceConfigMap.keySet()) {
      try {
        Map<String, String> domainAsMap = instanceConfigMap.get(instanceName).getDomainAsMap();
```

### KeySetIterationMayUseEntrySet
Iteration over `items.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/ClusterConstraints.java`
#### Snippet
```java
   */
  public void addConstraintItems(Map<String, ConstraintItem> items) {
    for (String constraintId : items.keySet()) {
      addConstraintItem(constraintId, items.get(constraintId));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `_constraintBuilderMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/builder/ClusterConstraintsBuilder.java`
#### Snippet
```java
    ClusterConstraints constraints = new ClusterConstraints(_constraintType);

    for (String constraintId : _constraintBuilderMap.keySet()) {
      ConstraintItemBuilder builder = _constraintBuilderMap.get(constraintId);
      constraints.addConstraintItem(constraintId, builder.build());
```

### KeySetIterationMayUseEntrySet
Iteration over `attributes.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/builder/ConstraintItemBuilder.java`
#### Snippet
```java

  public ConstraintItemBuilder addConstraintAttributes(Map<String, String> attributes) {
    for (String attr : attributes.keySet()) {
      addConstraintAttribute(attr, attributes.get(attr));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `_jobConfigs.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java

    protected void buildConfig() {
      for (String task : _jobConfigs.keySet()) {
        _jobConfigs.get(task).put(JobConfig.JobConfigProperty.WorkflowID.name(), _name);
      }
```

### KeySetIterationMayUseEntrySet
Iteration over `bestPossibleState.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterExternalViewVerifier.java`
#### Snippet
```java
      Map<Partition, Map<String, String>> bestPossibleState) {
    Map<String, Map<String, String>> result = new HashMap<String, Map<String, String>>();
    for (Partition partition : bestPossibleState.keySet()) {
      result.put(partition.getPartitionName(), bestPossibleState.get(partition));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `externalViews.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterExternalViewVerifier.java`
#### Snippet
```java
    // TODO all ideal-states should be included in external-views

    for (String resourceName : externalViews.keySet()) {
      ExternalView externalView = externalViews.get(resourceName);
      Map<Partition, Map<String, String>> bestPossbileState =
```

### KeySetIterationMayUseEntrySet
Iteration over `map1.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      Map<String, String> map2 = record2.getMapField(key);

      for (String k : map1.keySet()) {
        if (!map2.containsKey(k)) {
          diffCount++;
```

### KeySetIterationMayUseEntrySet
Iteration over `p.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      List<String> nodeNames = new ArrayList<String>();
      for (HashMap<?, ?> p : partitionAssignmentResult) {
        for (Object key : p.keySet()) {
          if (p.get(key) instanceof String) {
            nodeNames.add(p.get(key).toString());
```

### KeySetIterationMayUseEntrySet
Iteration over `map1.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    for (String key : record.getMapFields().keySet()) {
      Map<String, String> map1 = record.getMapField(key);
      for (String k : map1.keySet()) {
        if (!countsMap.containsKey(k)) {
          countsMap.put(k, new Integer(0));
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    int maxCount = 0;
    int minCount = Integer.MAX_VALUE;
    for (String k : countsMap.keySet()) {
      int count = countsMap.get(k);
      sum += count;
```

### KeySetIterationMayUseEntrySet
Iteration over `masterCountsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    int maxCountMaster = 0;
    int minCountMaster = Integer.MAX_VALUE;
    for (String k : masterCountsMap.keySet()) {
      int count = masterCountsMap.get(k);
      sumMaster += count;
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    // calculate the deviation of the node distribution
    double deviation = 0;
    for (String k : countsMap.keySet()) {
      double count = countsMap.get(k);
      deviation += (count - mean) * (count - mean);
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      histogram.add(0);
    }
    for (String k : countsMap.keySet()) {
      int count = countsMap.get(k);
      int stepNo = (count - minCount) / stepLen;
```

### KeySetIterationMayUseEntrySet
Iteration over `preferenceLists.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
    Map<String, Map<String, String>> idealStateMapping = new HashMap<>();
    Set<String> liveInstanceSet = new HashSet<>(liveInstances);
    for (String partitionName : preferenceLists.keySet()) {
      idealStateMapping.put(partitionName,
          computeIdealMapping(preferenceLists.get(partitionName), stateModelDefinition,
```

### KeySetIterationMayUseEntrySet
Iteration over `map1.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      Map<String, String> map1 = record.getMapField(partitionName);
      String master = "", slave = "";
      for (String nodeName : map1.keySet()) {
        if (!nodeNextMap.containsKey(nodeName)) {
          nodeNextMap.put(nodeName, new TreeSet<String>());
```

### KeySetIterationMayUseEntrySet
Iteration over `nodeNextMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    }
    System.out.println("next count: ");
    for (String key : nodeNextMap.keySet()) {
      System.out.println(nodeNextMap.get(key).size() + " ");
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `map1.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    for (String key : record.getMapFields().keySet()) {
      Map<String, String> map1 = record.getMapField(key);
      for (String k : map1.keySet()) {
        if (!countsMap.containsKey(k)) {
          countsMap.put(k, new Integer(0));//
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java

    System.out.println("Partition distributions: ");
    for (String k : countsMap.keySet()) {
      int count = countsMap.get(k);
      sum += count;
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    // calculate the deviation of the node distribution
    double deviation = 0;
    for (String k : countsMap.keySet()) {
      double count = countsMap.get(k);
      deviation += (count - mean) * (count - mean);
```

### KeySetIterationMayUseEntrySet
Iteration over `map1.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      Map<String, String> map2 = record2.getMapField(key);

      for (String k : map1.keySet()) {
        if (!map2.containsKey(k)) {
          diffCount++;
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    int maxCount = Integer.MIN_VALUE;
    int minCount = Integer.MAX_VALUE;
    for (Integer k : countsMap.keySet()) {
      int count = countsMap.get(k);
      sum += count;
```

### KeySetIterationMayUseEntrySet
Iteration over `countsMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    }
    mean = sum / countsMap.size();
    for (Integer k : countsMap.keySet()) {
      int count = countsMap.get(k);
      deviation += (count - mean) * (count - mean);
```

### KeySetIterationMayUseEntrySet
Iteration over `actualMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    } else {
      for (String key : actualMap.keySet()) {
        String actual = actualMap.get(key);
        if (!expectMap.containsKey(key)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `expectMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
      }

      for (String key : expectMap.keySet()) {
        String expect = expectMap.get(key);
        if (!actualMap.containsKey(key)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            for (String partition : record.getMapFields().keySet()) {
              Map<String, String> stateMap = record.getMapFields().get(partition);
              for (String instance : stateMap.keySet()) {
                String state = stateMap.get(instance);
                formatter(evBw, timestamp, record.getId(), partition, instance, state);
```

### KeySetIterationMayUseEntrySet
Iteration over `nextMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
              } else if (stateInfo.endsWith(".next")) {
                Map<String, String> nextMap = record.getMapFields().get(stateInfo);
                for (String destState : nextMap.keySet()) {
                  formatter(smdNextBw, timestamp, record.getId(),
                      stateInfo.substring(0, stateInfo.indexOf('.')), destState,
```

### KeySetIterationMayUseEntrySet
Iteration over `nodeSlaveAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
      int minCount = Integer.MAX_VALUE, maxCount = Integer.MIN_VALUE;
      String minInstance = "";
      for (String instanceName : nodeSlaveAssignmentMap.keySet()) {
        List<Integer> slaveAssignment = nodeSlaveAssignmentMap.get(instanceName);
        if (minCount > slaveAssignment.size()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `nodeMasterAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
        String.valueOf(partitions));

    for (String instanceName : nodeMasterAssignmentMap.keySet()) {
      for (Integer partitionId : nodeMasterAssignmentMap.get(instanceName)) {
        String partitionName = resourceName + "_" + partitionId;
```

### KeySetIterationMayUseEntrySet
Iteration over `nodeSlaveAssignmentMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
    }

    for (String instanceName : nodeSlaveAssignmentMap.keySet()) {
      Map<String, List<Integer>> slaveAssignmentMap = nodeSlaveAssignmentMap.get(instanceName);

```

### KeySetIterationMayUseEntrySet
Iteration over `slaveAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
      Map<String, List<Integer>> slaveAssignmentMap = nodeSlaveAssignmentMap.get(instanceName);

      for (String slaveNode : slaveAssignmentMap.keySet()) {
        List<Integer> slaveAssignment = slaveAssignmentMap.get(slaveNode);
        for (Integer partitionId : slaveAssignment) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
      List<String> partitionAssignmentPriorityList = new ArrayList<String>();
      String masterInstance = "";
      for (String instanceName : partitionAssignmentMap.keySet()) {
        if (partitionAssignmentMap.get(instanceName).equalsIgnoreCase(masterStateValue)
            && masterInstance.equals("")) {
```

### KeySetIterationMayUseEntrySet
Iteration over `firstInstanceSlaveAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
    }

    for (String currentInstance : firstInstanceSlaveAssignmentMap.keySet()) {
      Map<String, List<Integer>> previousSlaveAssignmentMap =
          firstInstanceSlaveAssignmentMap.get(currentInstance);
```

### KeySetIterationMayUseEntrySet
Iteration over `previousSlaveAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
      Map<String, List<Integer>> resultAssignmentMap = result.get(currentInstance);
      int offset = replicaOrder - 1;
      for (String instance : previousSlaveAssignmentMap.keySet()) {
        List<String> otherInstances = new ArrayList<String>(previousSlaveAssignmentMap.size() - 1);
        // Obtain an array of other instances
```

### KeySetIterationMayUseEntrySet
Iteration over `slaveAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
  static void removeFromSlaveAssignmentMap(Map<String, List<Integer>> slaveAssignmentMap,
      List<Integer> masterPartionsMoved, Map<String, List<Integer>> removedAssignmentMap) {
    for (String instanceName : slaveAssignmentMap.keySet()) {
      List<Integer> slaveAssignment = slaveAssignmentMap.get(instanceName);
      for (Integer partitionId : masterPartionsMoved) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
        List<String> partitionAssignmentPriorityList = new ArrayList<String>();
        String masterInstance = "";
        for (String instanceName : partitionAssignmentMap.keySet()) {
          if (partitionAssignmentMap.get(instanceName).equalsIgnoreCase(masterStateValue)
              && masterInstance.equals("")) {
```

### KeySetIterationMayUseEntrySet
Iteration over `slaveAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
          Map<String, List<Integer>> slaveAssignmentMap = slaveNodeAssignmentMap.get(instanceName);

          for (String slaveInstance : slaveAssignmentMap.keySet()) {
            if (!combinedSlaveAssignmentMap.containsKey(slaveInstance)) {
              combinedSlaveAssignmentMap.put(slaveInstance, new ArrayList<Integer>());
```

### KeySetIterationMayUseEntrySet
Iteration over `previousMasterAssignmentMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
    // Make sure that the instances that holds more master partitions are put in front
    List<String> bigList = new ArrayList<String>(), smallList = new ArrayList<String>();
    for (String oldInstance : previousMasterAssignmentMap.keySet()) {
      List<Integer> masterAssignmentList = previousMasterAssignmentMap.get(oldInstance);
      if (masterAssignmentList.size() > numMastersFromEachNode) {
```

### KeySetIterationMayUseEntrySet
Iteration over `slavePartitionsToMoveMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
      // about those slave partition locations in slavePartitionsToMoveMap
      for (Integer x : masterPartitionList) {
        for (String oldInstance : slavePartitionsToMoveMap.keySet()) {
          List<Integer> slaves = slavePartitionsToMoveMap.get(oldInstance);
          if (slaves.contains(x)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `liveInstanceMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskCurrentStateCache.java`
#### Snippet
```java
    Set<PropertyKey> participantStateKeys = new HashSet<>();
    PropertyKey.Builder keyBuilder = accessor.keyBuilder();
    for (String instanceName : liveInstanceMap.keySet()) {
      LiveInstance liveInstance = liveInstanceMap.get(instanceName);
      String sessionId = liveInstance.getEphemeralOwner();
```

### KeySetIterationMayUseEntrySet
Iteration over `_idealStateCache.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/IdealStateCache.java`
#### Snippet
```java
    Set<PropertyKey> cachedKeys = new HashSet<>();
    Map<PropertyKey, IdealState> cachedIdealStateMap = Maps.newHashMap();
    for (String idealState : _idealStateCache.keySet()) {
      cachedKeys.add(keyBuilder.idealStates(idealState));
      cachedIdealStateMap
```

### KeySetIterationMayUseEntrySet
Iteration over `oldCache.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/PropertyCache.java`
#### Snippet
```java
    Set<PropertyKey> oldCachedKeys = Sets.newHashSet();
    Map<PropertyKey, T> cachedObjs = new HashMap<>();
    for (String objName : oldCache.keySet()) {
      PropertyKey objKey = propertyKeyFuncs.getObjPropertyKey(accessor, objName);
      oldCachedKeys.add(objKey);
```

### KeySetIterationMayUseEntrySet
Iteration over `_externalViewCache.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/ExternalViewCache.java`
#### Snippet
```java
    Set<PropertyKey> cachedKeys = new HashSet<>();
    Map<PropertyKey, ExternalView> cachedExternalViewMap = Maps.newHashMap();
    for (String resource : _externalViewCache.keySet()) {
      PropertyKey key = externalViewKey(keyBuilder, resource);
      cachedKeys.add(key);
```

### KeySetIterationMayUseEntrySet
Iteration over `_participantStateCache.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/ParticipantStateCache.java`
#### Snippet
```java
    // instance name, the third one is a customized key (could be session Id or customized state
    // type), the fourth one is the resourceName
    for (PropertyKey key : _participantStateCache.keySet()) {
      T participantState = _participantStateCache.get(key);
      String[] params = key.getParams();
```

### KeySetIterationMayUseEntrySet
Iteration over `map1.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
        }
        // verify each <key, value> in map1 is contained in map2
        for (K key : map1.keySet()) {
          if (!map1.get(key).equals(map2.get(key))) {
            LOG.debug(
```

### KeySetIterationMayUseEntrySet
Iteration over `errStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
        // set error states
        if (errStates != null) {
          for (String resourceName : errStates.keySet()) {
            Map<String, String> partErrStates = errStates.get(resourceName);
            for (String partitionName : partErrStates.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partErrStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
          for (String resourceName : errStates.keySet()) {
            Map<String, String> partErrStates = errStates.get(resourceName);
            for (String partitionName : partErrStates.keySet()) {
              String instanceName = partErrStates.get(partitionName);

```

### KeySetIterationMayUseEntrySet
Iteration over `idealStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
        // System.out.println("stateMap: " + bestPossStateMap);

        for (String resourceName : idealStates.keySet()) {
          ExternalView extView = extViews.get(resourceName);
          if (extView == null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `extViews.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      }

      for (String resource : extViews.keySet()) {
        int partitions = idealStates.get(resource).getNumPartitions();
        Map<String, Map<String, String>> instanceStateMap =
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
        }

        for (String partition : instanceStateMap.keySet()) {
          boolean foundMaster = false;
          for (String instance : instanceStateMap.get(partition).keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `liveInstanceMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateCache.java`
#### Snippet
```java
    Set<PropertyKey> participantStateKeys = new HashSet<>();
    PropertyKey.Builder keyBuilder = accessor.keyBuilder();
    for (String instanceName : liveInstanceMap.keySet()) {
      LiveInstance liveInstance = liveInstanceMap.get(instanceName);
      String sessionId = liveInstance.getEphemeralOwner();
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java
      }

      for (String resourceName : idealStates.keySet()) {
        ExternalView extView = extViews.get(resourceName);
        IdealState idealState = idealStates.get(resourceName);
```

### KeySetIterationMayUseEntrySet
Iteration over `_workflowConfigMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java

    // If the workflow config has been updated, it's possible that the dag has been changed.
    for (String workflowName : _workflowConfigMap.keySet()) {
      if (_runtimeJobDagMap.containsKey(workflowName)) {
        if (_workflowConfigMap.get(workflowName).getRecord().getVersion() != _runtimeJobDagMap
```

### KeySetIterationMayUseEntrySet
Iteration over `map.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java
            List<String> paths = new ArrayList<String>();
            List<DataUpdater<ZNRecord>> updaters = new ArrayList<DataUpdater<ZNRecord>>();
            for (String bucketName : map.keySet()) {
              paths.add(curStatePath + "/" + bucketName);
              updaters.add(new CurStateCarryOverUpdater(sessionId, partitionExpectedStateMap, new CurrentState(map
```

### KeySetIterationMayUseEntrySet
Iteration over `_staleMessageCache.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
    LOG.info("Start to refresh stale message cache");
    Map<String, Set<String>> toRemoveMessages = new HashMap<>();
    for (String instanceName : _staleMessageCache.keySet()) {
      for (String messageId : _staleMessageCache.get(instanceName).keySet()) {
        if (!_messageCache.getOrDefault(instanceName, Collections.emptyMap())
```

### KeySetIterationMayUseEntrySet
Iteration over `_messageMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java

    // cache all relay messages read from ZK
    for (String instance : _messageMap.keySet()) {
      Map<String, Message> instanceMessages = _messageMap.get(instance);
      for (Message message : instanceMessages.values()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `_relayMessageCache.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
    Set<String> targetInstanceToRemove = new HashSet<>();
    // Iterate all relay message in the cache, remove invalid or expired ones.
    for (String targetInstance : _relayMessageCache.keySet()) {
      Map<String, Message> relayMessages = _relayMessageCache.get(targetInstance);
      Iterator<Map.Entry<String, Message>> iterator = relayMessages.entrySet().iterator();
```

### KeySetIterationMayUseEntrySet
Iteration over `_relayMessageMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java

    // Add valid relay messages to the instance message map.
    for (String instance : _relayMessageMap.keySet()) {
      Map<String, Message> relayMessages = _relayMessageMap.get(instance);
      if (!_messageMap.containsKey(instance)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionCapacityData.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java
    Map<String, Map<String, Integer>> partitionCapacityMap = new HashMap<>();
    if (partitionCapacityData != null) {
      for (String partition : partitionCapacityData.keySet()) {
        Map<String, Integer> capacities = _objectMapper
            .readValue(partitionCapacityData.get(partition),
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionCapacityMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java

    Map<String, String> newCapacityRecord = new HashMap<>();
    for (String partition : partitionCapacityMap.keySet()) {
      Map<String, Integer> capacities = partitionCapacityMap.get(partition);
      // Verify the input is valid
```

### KeySetIterationMayUseEntrySet
Iteration over `map.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
          List<String> paths = new ArrayList<String>();
          List<ZNRecord> bucketizedRecords = new ArrayList<ZNRecord>();
          for (String bucketName : map.keySet()) {
            paths.add(path + "/" + bucketName);
            bucketizedRecords.add(map.get(bucketName));
```

### KeySetIterationMayUseEntrySet
Iteration over `map.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
          List<String> childBucketizedPaths = new ArrayList<String>();
          List<ZNRecord> childBucketizedRecords = new ArrayList<ZNRecord>();
          for (String bucketName : map.keySet()) {
            childBucketizedPaths.add(path + "/" + bucketName);
            childBucketizedRecords.add(map.get(bucketName));
```

### KeySetIterationMayUseEntrySet
Iteration over `generateMessage.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java

    HelixDataAccessor targetDataAccessor = getRecipientDataAccessor(recipientCriteria);
    for (InstanceType receiverType : generateMessage.keySet()) {
      List<Message> list = generateMessage.get(receiverType);
      for (Message tempMessage : list) {
```

### KeySetIterationMayUseEntrySet
Iteration over `_messageHandlerFactoriestobeAdded.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java

  public synchronized void onConnected() {
    for (String type : _messageHandlerFactoriestobeAdded.keySet()) {
      registerMessageHandlerFactoryInternal(type, _messageHandlerFactoriestobeAdded.get(type));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `csUpdate.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java

      // TODO: change to use asyncSet
      for (PropertyKey key : csUpdate.keySet()) {
        // logger.info("updateCS: " + key);
        // System.out.println("\tupdateCS: " + key.getPath() + ", " +
```

### KeySetIterationMayUseEntrySet
Iteration over `relayMessages.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
      }

      for (String instance : relayMessages.keySet()) {
        Message msg = relayMessages.get(instance);
        if (msg.getMsgSubType().equals(MessageType.RELAYED_MESSAGE.name())) {
```

### KeySetIterationMayUseEntrySet
Iteration over `extViews.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
      // if externalView is not empty and idealState doesn't exist
      // add empty idealState for the resource
      for (String resource : extViews.keySet()) {
        if (!idealStates.containsKey(resource)) {
          ExternalView ev = extViews.get(resource);
```

### KeySetIterationMayUseEntrySet
Iteration over `_errStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
      // set error states
      if (_errStates != null) {
        for (String resourceName : _errStates.keySet()) {
          Map<String, String> partErrStates = _errStates.get(resourceName);
          for (String partitionName : partErrStates.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partErrStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
        for (String resourceName : _errStates.keySet()) {
          Map<String, String> partErrStates = _errStates.get(resourceName);
          for (String partitionName : partErrStates.keySet()) {
            String instanceName = partErrStates.get(partitionName);

```

### KeySetIterationMayUseEntrySet
Iteration over `idealStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
      }

      for (String resourceName : idealStates.keySet()) {
        IdealState is = idealStates.get(resourceName);
        ExternalView extView = extViews.get(resourceName);
```

### KeySetIterationMayUseEntrySet
Iteration over `_hdlrFtyRegistry.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java

    // Re-init all existing factories
    for (final String msgType : _hdlrFtyRegistry.keySet()) {
      MsgHandlerFactoryRegistryItem item = _hdlrFtyRegistry.get(msgType);
      ExecutorService pool = _executorMap.computeIfAbsent(msgType, type -> {
```

### KeySetIterationMayUseEntrySet
Iteration over `_taskMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
    StringBuilder sb = new StringBuilder();
    // Log all tasks that fail to terminate
    for (String taskId : _taskMap.keySet()) {
      MessageTaskInfo info = _taskMap.get(taskId);
      sb.append("Task: " + taskId + " fails to terminate. Message: " + info._task.getMessage() + "\n");
```

### KeySetIterationMayUseEntrySet
Iteration over `_hdlrFtyRegistry.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  private void shutdownExecutors() {
    synchronized (_hdlrFtyRegistry) {
      for (String msgType : _hdlrFtyRegistry.keySet()) {
        // don't un-register factories, just shutdown all executors
        MsgHandlerFactoryRegistryItem item = _hdlrFtyRegistry.get(msgType);
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      for (ExternalView extView : extViews) {
        Map<String, Map<String, String>> stateMap = extView.getRecord().getMapFields();
        for (String partitionName : stateMap.keySet()) {
          Map<String, String> instanceStateMap = stateMap.get(partitionName);

```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java

      Map<String, Map<String, String>> stateMap = extView.getRecord().getMapFields();
      for (String partitionName : stateMap.keySet()) {
        Map<String, String> instanceStateMap = stateMap.get(partitionName);
        for (String instanceName : instanceStateMap.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      for (String partitionName : stateMap.keySet()) {
        Map<String, String> instanceStateMap = stateMap.get(partitionName);
        for (String instanceName : instanceStateMap.keySet()) {
          if (instanceStateMap.get(instanceName).equals(HelixDefinedState.ERROR.toString())) {
            if (!resetPartitionNames.containsKey(instanceName)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `resetPartitionNames.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      }

      for (String instanceName : resetPartitionNames.keySet()) {
        resetPartition(clusterName, instanceName, extView.getResourceName(),
            resetPartitionNames.get(instanceName));
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/CustomizedViewRoutingTable.java`
#### Snippet
```java
        for (String partitionName : customizeView.getPartitionSet()) {
          Map<String, String> stateMap = customizeView.getStateMap(partitionName);
          for (String instanceName : stateMap.keySet()) {
            String customizedState = stateMap.get(instanceName);
            if (instanceConfigMap.containsKey(instanceName)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `currentStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
      return resultList;
    }
    for (String nodeName : currentStates.keySet()) {
      List<ZNRecord> znStates = currentStates.get(nodeName);
      for (ZNRecord nodeStateRecord : znStates) {
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceStates.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
      for (ZNRecord nodeStateRecord : znStates) {
        Map<String, Map<String, String>> resourceStates = nodeStateRecord.getMapFields();
        for (String stateUnitKey : resourceStates.keySet()) {
          Map<String, String> partitionStates = resourceStates.get(stateUnitKey);
          String resourceName = partitionStates.get(Message.Attributes.RESOURCE_NAME.toString());
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionNodeStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
    for (ZNRecord nodeView : externalViewList) {
      Map<String, Map<String, String>> partitionNodeStateMap = nodeView.getMapFields();
      for (String partitionId : partitionNodeStateMap.keySet()) {
        if (!result.containsKey(partitionId)) {
          result.put(partitionId, new TreeMap<String, Set<String>>());
```

### KeySetIterationMayUseEntrySet
Iteration over `nodeStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
        }
        Map<String, String> nodeStateMap = partitionNodeStateMap.get(partitionId);
        for (String nodeName : nodeStateMap.keySet()) {
          String state = nodeStateMap.get(nodeName);
          if (!result.get(partitionId).containsKey(state)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageThrottleStage.java`
#### Snippet
```java
    // go through all new messages, throttle if necessary
    // assume messages should be sorted by state transition priority in messageSelection stage
    for (String resourceName : resourceMap.keySet()) {
      Resource resource = resourceMap.get(resourceName);
      for (Partition partition : resource.getPartitions()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `_eventAttributeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterEvent.java`
#### Snippet
```java
    sb.append(String.format("Event id : %s", _eventId));
    sb.append("name:" + _eventType.name()).append("\n");
    for (String key : _eventAttributeMap.keySet()) {
      sb.append(key).append(":").append(_eventAttributeMap.get(key)).append("\n");
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `_eventAttributeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterEvent.java`
#### Snippet
```java
    ClusterEvent newEvent = new ClusterEvent(_clusterName, _eventType, eventId);
    newEvent.setCreationTime(_creationTime);
    for (String attributeName : _eventAttributeMap.keySet()) {
      newEvent.addAttribute(attributeName, _eventAttributeMap.get(attributeName));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `customizedStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
          customizedStateOutput.getPartitionCustomizedStateMap(stateType, resourceName, partition);
      if (customizedStateMap != null && customizedStateMap.size() > 0) {
        for (String instance : customizedStateMap.keySet()) {
          view.setState(partition.getPartitionName(), instance, customizedStateMap.get(instance));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `lastSessions.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      Builder keyBuilder = new Builder(manager.getClusterName());
      if (lastSessions != null) {
        for (String session : lastSessions.keySet()) {
          if (!curSessions.containsKey(session)) {
            // remove current-state listener for expired session
```

### KeySetIterationMayUseEntrySet
Iteration over `curSessions.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      }

      for (String session : curSessions.keySet()) {
        if (lastSessions == null || !lastSessions.containsKey(session)) {
          String instanceName = curSessions.get(session).getInstanceName();
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
        for (String partitionName : extView.getPartitionSet()) {
          Map<String, String> stateMap = extView.getStateMap(partitionName);
          for (String instanceName : stateMap.keySet()) {
            String currentState = stateMap.get(instanceName);
            if (instanceConfigMap.containsKey(instanceName)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
          Map<String, String> stateMap = currentState.getPartitionStateMap();

          for (String partitionName : stateMap.keySet()) {
            String state = stateMap.get(partitionName);
            addEntry(resourceName, partitionName, state, instanceConfig);
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionMapMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/TargetExteralViewCalcStage.java`
#### Snippet
```java
      Map<Partition, Map<String, String>> partitionMapMap) {
    Map<String, Map<String, String>> mapFields = Maps.newHashMap();
    for (Partition p : partitionMapMap.keySet()) {
      mapFields.put(p.getPartitionName(), new HashMap<>(partitionMapMap.get(p)));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
                  stateModelDefMap);

          for (String resourceName : idealStateMap.keySet()) {
            // TODO need to find a better way to process this monitoring config in a centralized
            // place instead of separately in every single usage.
```

### KeySetIterationMayUseEntrySet
Iteration over `currentStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
          currentStateOutput.getCurrentStateMap(resourceName, partition);
      if (currentStateMap != null && currentStateMap.size() > 0) {
        for (String instance : currentStateMap.keySet()) {
          view.setState(partition.getPartitionName(), instance, currentStateMap.get(instance));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `controllerFinishedMsgs.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java

    if (controllerFinishedMsgs.size() > 0) {
      for (String controllerMsgId : controllerFinishedMsgs.keySet()) {
        PropertyKey controllerStatusUpdateKey =
            keyBuilder.controllerTaskStatus(MessageType.SCHEDULER_MSG.name(), controllerMsgId);
```

### KeySetIterationMayUseEntrySet
Iteration over `_routingTableRefMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
    logger.info("Resetting the routing table.");
    RoutingTable newRoutingTable;
    for (String key: _routingTableRefMap.keySet()) {
      PropertyType propertyType = _routingTableRefMap.get(key).get().getPropertyType();
      if (propertyType == PropertyType.CUSTOMIZEDVIEW) {
```

### KeySetIterationMayUseEntrySet
Iteration over `curSessions.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java

    // Add listeners to new live instances
    for (String session : curSessions.keySet()) {
      String instanceName = curSessions.get(session).getInstanceName();
      try {
```

### KeySetIterationMayUseEntrySet
Iteration over `lastSessions.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java

    // remove current-state listener for expired session
    for (String session : lastSessions.keySet()) {
      if (!curSessions.containsKey(session)) {
        String instanceName = lastSessions.get(session).getInstanceName();
```

### KeySetIterationMayUseEntrySet
Iteration over `_sourceDataTypeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java

    // Initialize the tables
    for (PropertyType propertyType : _sourceDataTypeMap.keySet()) {
      if (_sourceDataTypeMap.get(propertyType).size() == 0) {
        if (propertyType.equals(PropertyType.CUSTOMIZEDVIEW)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `_monitorMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      // TODO: We may need to add more complexity to the customized view monitor for each state
      // type.
      for (PropertyType propertyType : _monitorMap.keySet()) {
        _monitorMap.get(propertyType).increaseCallbackCounters(_eventQueue.size());
      }
```

### KeySetIterationMayUseEntrySet
Iteration over `currentStateEndTimeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
            Map<PropertyKey, Map<String, Long>> currentStateEndTimeMap =
                currentStateSnapshot.getNewCurrentStateEndTimes();
            for (PropertyKey key : currentStateEndTimeMap.keySet()) {
              Map<String, Long> partitionStateEndTimes = currentStateEndTimeMap.get(key);
              for (String partition : partitionStateEndTimes.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionStateEndTimes.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
            for (PropertyKey key : currentStateEndTimeMap.keySet()) {
              Map<String, Long> partitionStateEndTimes = currentStateEndTimeMap.get(key);
              for (String partition : partitionStateEndTimes.keySet()) {
                long endTime = partitionStateEndTimes.get(partition);
                if (currentTime >= endTime) {
```

### KeySetIterationMayUseEntrySet
Iteration over `_monitorMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
    _routerUpdater.shutdown();

    for (PropertyType propertyType : _monitorMap.keySet()) {
      _monitorMap.get(propertyType).unregister();
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `_sourceDataTypeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      _helixManager.removeListener(keyBuilder.liveInstances(), this);
      _helixManager.removeListener(keyBuilder.instanceConfigs(), this);
      for (PropertyType propertyType : _sourceDataTypeMap.keySet()) {
        switch (propertyType) {
        case EXTERNALVIEW:
```

### KeySetIterationMayUseEntrySet
Iteration over `_routingTableRefMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
  public Map<String, Map<String, RoutingTableSnapshot>> getRoutingTableSnapshots() {
    Map<String, Map<String, RoutingTableSnapshot>> snapshots = new HashMap<>();
    for (String key : _routingTableRefMap.keySet()) {
      RoutingTable routingTable = _routingTableRefMap.get(key).get();
      String propertyTypeName = routingTable.getPropertyType().name();
```

### KeySetIterationMayUseEntrySet
Iteration over `_sourceDataTypeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
  private void addListeners() {
    if (_helixManager != null) {
      for (PropertyType propertyType : _sourceDataTypeMap.keySet()) {
        switch (propertyType) {
        case EXTERNALVIEW:
```

### KeySetIterationMayUseEntrySet
Iteration over `sourceDataTypeMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
          "The sourceDataTypeMap of Routing Table Provider should not be null");
    }
    for (PropertyType propertyType : sourceDataTypeMap.keySet()) {
      if (propertyType.equals(PropertyType.CUSTOMIZEDVIEW)
          && sourceDataTypeMap.get(propertyType).size() == 0) {
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java
    HelixDataAccessor dataAccessor = manager.getHelixDataAccessor();
    List<Message> messagesToSend = new ArrayList<>();
    for (String resourceName : resourceMap.keySet()) {
      Resource resource = resourceMap.get(resourceName);
      for (Partition partition : resource.getPartitions()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
      Map<String, List<Message>> messageMap = new HashMap<>();

      for (String instanceName : instanceStateMap.keySet()) {

        Set<Message> staleMessages = cache.getStaleMessagesByInstance(instanceName);
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceValidationStage.java`
#### Snippet
```java
    Map<String, Map<String, String>> idealStateRuleMap = cache.getIdealStateRules();

    for (String resourceName : idealStateMap.keySet()) {
      // check every ideal state against the ideal state rules
      // the pipeline should not process any resources that have an unsupported ideal state
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStateRuleMap.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceValidationStage.java`
#### Snippet
```java
      if (!idealStateRuleMap.isEmpty()) {
        boolean hasMatchingRule = false;
        for (String ruleName : idealStateRuleMap.keySet()) {
          Map<String, String> rule = idealStateRuleMap.get(ruleName);
          boolean matches = idealStateMatchesRule(idealState, rule);
```

### KeySetIterationMayUseEntrySet
Iteration over `rule.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceValidationStage.java`
#### Snippet
```java
  private boolean idealStateMatchesRule(IdealState idealState, Map<String, String> rule) {
    Map<String, String> simpleFields = idealState.getRecord().getSimpleFields();
    for (String key : rule.keySet()) {
      String value = rule.get(key);
      if (!simpleFields.containsKey(key) || !value.equals(simpleFields.get(key))) {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/TopStateHandoffReportStage.java`
#### Snippet
```java
      String resourceName, Partition partition, StateModelDefinition stateModelDef) {
    Map<String, String> stateMap = currentStateOutput.getCurrentStateMap(resourceName, partition);
    for (String instance : stateMap.keySet()) {
      if (stateMap.get(instance).equals(stateModelDef.getTopState())) {
        return instance;
```

### KeySetIterationMayUseEntrySet
Iteration over `assignmentToPersist.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java

      if (assignmentToPersist != null && hasInstanceMapChanged(assignmentToPersist, idealState)) {
        for (Partition partition : assignmentToPersist.keySet()) {
          Map<String, String> instanceMap = assignmentToPersist.get(partition);
          delta.setInstanceStateMap(partition.getPartitionName(), instanceMap);
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceStatesMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MaintenanceRecoveryStage.java`
#### Snippet
```java
    Map<String, Integer> instancePartitionCounts = new HashMap<>();

    for (String resource : resourceStatesMap.keySet()) {
      IdealState idealState = cache.getIdealState(resource);
      if (idealState != null
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMaps.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MaintenanceRecoveryStage.java`
#### Snippet
```java
      PartitionStateMap partitionStateMap = resourceStatesMap.get(resource);
      Map<Partition, Map<String, String>> stateMaps = partitionStateMap.getStateMap();
      for (Partition p : stateMaps.keySet()) {
        Map<String, String> stateMap = stateMaps.get(p);
        for (String instance : stateMap.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MaintenanceRecoveryStage.java`
#### Snippet
```java
      for (Partition p : stateMaps.keySet()) {
        Map<String, String> stateMap = stateMaps.get(p);
        for (String instance : stateMap.keySet()) {
          // If this replica is in DROPPED state, do not count it in the partition count since it is
          // to be dropped
```

### KeySetIterationMayUseEntrySet
Iteration over `currentStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/MaintenanceRebalancer.java`
#### Snippet
```java
    // One principal is to prohibit DROP -> OFFLINE and OFFLINE -> DROP state transitions.
    // Derived preference list from current state with state priority
    for (Partition partition : currentStateMap.keySet()) {
      Map<String, String> stateMap = currentStateMap.get(partition);
      List<String> preferenceList = new ArrayList<>(stateMap.keySet());
```

### KeySetIterationMayUseEntrySet
Iteration over `pendingMessages.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java

    // count pendingStates
    for (String instance : pendingMessages.keySet()) {
      Message message = pendingMessages.get(instance);
      increaseStateCnt(stateConstraints, message.getToState(), stateCnts);
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java
    MessageOutput output = new MessageOutput();

    for (String resourceName : resourceMap.keySet()) {
      Resource resource = resourceMap.get(resourceName);
      try {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
      Map<String, Map<Partition, Map<String, Object>>> stateMap) {
    Map<String, Integer> currentPartitionCount = new HashMap<>();
    for (String resource : stateMap.keySet()) {
      String stateModel = _resourceStateModelMap.get(resource);
      if ((stateModel != null && stateModel.equals(resourceStateModel))
```

### KeySetIterationMayUseEntrySet
Iteration over `pendingMsgMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
        Map<String, Message> pendingMsgMap = map.get(partition);
        Map<String, String> pendingStateMap = new HashMap<String, String>();
        for (String instance : pendingMsgMap.keySet()) {
          pendingStateMap.put(instance, pendingMsgMap.get(instance).getToState());
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `currentStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/CustomRebalancer.java`
#### Snippet
```java
    // we should drop all resources.
    if (currentStateMap != null) {
      for (String instance : currentStateMap.keySet()) {
        if ((idealStateMap == null || !idealStateMap.containsKey(instance))
            && !disabledInstancesForPartition.contains(instance)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/CustomRebalancer.java`
#### Snippet
```java

    Map<String, LiveInstance> liveInstancesMap = cache.getLiveInstances();
    for (String instance : idealStateMap.keySet()) {
      boolean notInErrorState = currentStateMap != null
          && !HelixDefinedState.ERROR.toString().equals(currentStateMap.get(instance));
```

### KeySetIterationMayUseEntrySet
Iteration over `_cacheMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

  private Cache<T> getCache(String path) {
    for (String cachePath : _cacheMap.keySet()) {
      if (path.startsWith(cachePath)) {
        return _cacheMap.get(cachePath);
```

### KeySetIterationMayUseEntrySet
Iteration over `_cacheMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
    Cache<T> cache = null;
    for (String path : paths) {
      for (String cachePath : _cacheMap.keySet()) {
        if (cache == null && path.startsWith(cachePath)) {
          cache = _cacheMap.get(cachePath);
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/ResourceUsageCalculator.java`
#### Snippet
```java
      Map<Partition, Map<String, String>> stateMap =
          resourceAssignment.getPartitionStateMap(resource).getStateMap();
      for (Partition partition : stateMap.keySet()) {
        for (String participant : stateMap.get(partition).keySet()) {
          if (!newParticipantUsage.containsKey(participant)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceStatesMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
    Map<String, Integer> instancePartitionCounts = new HashMap<>();

    for (String resource : resourceStatesMap.keySet()) {
      IdealState idealState = cache.getIdealState(resource);
      if (idealState != null && idealState.getStateModelDefRef()
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMaps.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
      PartitionStateMap partitionStateMap = resourceStatesMap.get(resource);
      Map<Partition, Map<String, String>> stateMaps = partitionStateMap.getStateMap();
      for (Partition p : stateMaps.keySet()) {
        Map<String, String> stateMap = stateMaps.get(p);
        for (String instance : stateMap.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
      for (Partition p : stateMaps.keySet()) {
        Map<String, String> stateMap = stateMaps.get(p);
        for (String instance : stateMap.keySet()) {
          // If this replica is in DROPPED state, do not count it in the partition count since it is
          // to be dropped
```

### KeySetIterationMayUseEntrySet
Iteration over `curStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
          currentStateOutput.getCurrentStateMap(resourceName, new Partition(partition));
      map.put(partition, new HashMap<String, String>());
      for (String node : curStateMap.keySet()) {
        String state = curStateMap.get(node);
        map.get(partition).put(node, state);
```

### KeySetIterationMayUseEntrySet
Iteration over `pendingStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
      Map<String, String> pendingStateMap =
          currentStateOutput.getPendingStateMap(resourceName, new Partition(partition));
      for (String node : pendingStateMap.keySet()) {
        String state = pendingStateMap.get(node);
        map.get(partition).put(node, state);
```

### KeySetIterationMayUseEntrySet
Iteration over `currentStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
      final Map<String, String> currentStateMap, StateModelDefinition stateModelDef) {
    Map<String, String> bestPossibleStateMap = new HashMap<>();
    for (String instance : currentStateMap.keySet()) {
      if (!HelixDefinedState.ERROR.name().equals(currentStateMap.get(instance))) {
        bestPossibleStateMap.put(instance, stateModelDef.getInitialState());
```

### KeySetIterationMayUseEntrySet
Iteration over `replicaCapacity.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/NodeCapacityConstraint.java`
#### Snippet
```java
    Map<String, Integer> replicaCapacity = replica.getCapacity();

    for (String key : replicaCapacity.keySet()) {
      if (nodeCapacity.containsKey(key)) {
        if (nodeCapacity.get(key) < replicaCapacity.get(key)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `totalCapacity.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterContext.java`
#### Snippet
```java
      Map<String, Integer> totalUsage) {
    Map<String, Integer> estimateUtilization = new HashMap<>();
    for (String capacityKey : totalCapacity.keySet()) {
      int maxCapacity = totalCapacity.get(capacityKey);
      int usage = totalUsage.getOrDefault(capacityKey, 0);
```

### KeySetIterationMayUseEntrySet
Iteration over `totalCapacity.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterContext.java`
#### Snippet
```java
      Map<String, Integer> totalUsage) {
    float estimatedMaxUsage = 0;
    for (String capacityKey : totalCapacity.keySet()) {
      int maxCapacity = totalCapacity.get(capacityKey);
      int usage = totalUsage.getOrDefault(capacityKey, 0);
```

### KeySetIterationMayUseEntrySet
Iteration over `_maxAllowedCapacity.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
      Map<String, Integer> remainingCapacity) {
    float highestCapacityUtilization = 0;
    for (String capacityKey : _maxAllowedCapacity.keySet()) {
      float capacityValue = _maxAllowedCapacity.get(capacityKey);
      float utilization = (capacityValue - remainingCapacity.get(capacityKey) + newUsage
```

### KeySetIterationMayUseEntrySet
Iteration over `_currentAssignedReplicaMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
  Map<String, Set<String>> getAssignedPartitionsMap() {
    Map<String, Set<String>> assignmentMap = new HashMap<>();
    for (String resourceName : _currentAssignedReplicaMap.keySet()) {
      assignmentMap.put(resourceName, _currentAssignedReplicaMap.get(resourceName).keySet());
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `currentMapping.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Map<Replica, Node> existingPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
    for (String partition : currentMapping.keySet()) {
      Map<String, String> nodeStateMap = currentMapping.get(partition);
      nodeStateMap.keySet().retainAll(_nodeMap.keySet());
```

### KeySetIterationMayUseEntrySet
Iteration over `preferenceLists.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Map<String, Map<String, Integer>> nodeReplicaCounts =
        new HashMap<String, Map<String, Integer>>();
    for (String partition : preferenceLists.keySet()) {
      normalizePreferenceList(preferenceLists.get(partition), nodeReplicaCounts);
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `newPreferences.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      normalizePreferenceList(preferenceLists.get(partition), nodeReplicaCounts);
    }
    for (String partition : newPreferences.keySet()) {
      normalizePreferenceList(newPreferences.get(partition), nodeReplicaCounts);
      preferenceLists.get(partition).addAll(newPreferences.get(partition));
```

### KeySetIterationMayUseEntrySet
Iteration over `currentMapping.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Map<Replica, Node> existingNonPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
    for (String partition : currentMapping.keySet()) {
      Map<String, String> nodeStateMap = currentMapping.get(partition);
      nodeStateMap.keySet().retainAll(_nodeMap.keySet());
```

### KeySetIterationMayUseEntrySet
Iteration over `_states.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    int replicaId = 0;
    Map<Integer, String> stateMap = new HashMap<Integer, String>();
    for (String state : _states.keySet()) {
      Integer count = _states.get(state);
      for (int i = 0; i < count; i++) {
```

### KeySetIterationMayUseEntrySet
Iteration over `assignments.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
    // Convert the assignments into IdealState for the following state mapping calculation.
    Map<String, IdealState> finalIdealStateMap = new HashMap<>();
    for (String resourceName : assignments.keySet()) {
      try {
        IdealState currentIdealState = clusterData.getIdealState(resourceName);
```

### KeySetIterationMayUseEntrySet
Iteration over `userDefinedPreferenceList.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
      if (!userDefinedPreferenceList.isEmpty()) {
        LOG.info("Using user defined preference list for partitions.");
        for (String partition : userDefinedPreferenceList.keySet()) {
          idealState.setPreferenceList(partition, userDefinedPreferenceList.get(partition));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `actualMapping.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java

    Map<String, Integer> tmpStates = new HashMap<>(_states);
    for (String partition : actualMapping.keySet()) {
      String state = actualMapping.get(partition);
      if (tmpStates.containsKey(state)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `tmpStates.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
    }

    for (String state : tmpStates.keySet()) {
      if (tmpStates.get(state) > 0) {
        return null;
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceWeightRecords.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java

    // recover the original weight
    for (String instanceName : instanceWeightRecords.keySet()) {
      clusterData.getInstanceConfigMap().get(instanceName)
          .setWeight(instanceWeightRecords.get(instanceName));
```

### KeySetIterationMayUseEntrySet
Iteration over `states.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
    _states = states;
    _orderedStateList = new ArrayList<>();
    for (String state : states.keySet()) {
      for (int i = 0; i < states.get(state); i++) {
        _orderedStateList.add(state);
```

### KeySetIterationMayUseEntrySet
Iteration over `assignment.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
      Map<Node, List<String>> assignment) {
    Map<String, List<Node>> resultMap = new HashMap<>();
    for (Node instance : assignment.keySet()) {
      for (String partitionName : assignment.get(instance)) {
        if (!resultMap.containsKey(partitionName)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `adjustedPartitionMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
              Map<String, List<Node>> adjustedPartitionMap =
                  convertAssignment(nodeToPartitionMap);
              for (String partition : adjustedPartitionMap.keySet()) {
                List<Node> preSelectedList = finalPartitionMap.get(partition);
                Set<Node> adjustedNodeList =
```

### KeySetIterationMayUseEntrySet
Iteration over `finalPartitionMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
        ZNRecord result = new ZNRecord(_resourceName);
        Map<String, List<String>> resultPartitionMap = new HashMap<>();
        for (String partitionName : finalPartitionMap.keySet()) {
          List<String> instanceNames = new ArrayList<>();
          for (Node node : finalPartitionMap.get(partitionName)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `originalMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
    }

    for (String partition : originalMap.keySet()) {
      for (String instanceName : originalMap.get(partition)) {
        Node insNode = instanceMap.get(instanceName);
```

### KeySetIterationMayUseEntrySet
Iteration over `nodeToPartitionMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
    // 2. their assigned top state replicas (less top state replica, higher priority)
    final Map<Node, Integer> nodeScores = new HashMap<>();
    for (Node node : nodeToPartitionMap.keySet()) {
      // Init with the potential replicas count
      nodeScores.put(node, nodeToPartitionMap.get(node).size());
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
      nodeScores.put(node, nodeToPartitionMap.get(node).size());
    }
    for (final String partition : partitionMap.keySet()) {
      List<Node> nodes = partitionMap.get(partition);
      // order according to score
```

### KeySetIterationMayUseEntrySet
Iteration over `newParticipantUsage.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/TotalCapacityConstraint.java`
#### Snippet
```java
    Map<String, Integer> newParticipantUsage =
        ResourceUsageCalculator.getResourceUsage(pendingAssignment, _partitionWeightProvider);
    for (String participant : newParticipantUsage.keySet()) {
      if (!_pendingUsage.containsKey(participant)) {
        _pendingUsage.put(participant, 0);
```

### KeySetIterationMayUseEntrySet
Iteration over `proposedAssignment.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/TotalCapacityConstraint.java`
#### Snippet
```java
  public Map<String, boolean[]> isValid(String resource, Map<String, String[]> proposedAssignment) {
    Map<String, boolean[]> result = new HashMap<>();
    for (String partition : proposedAssignment.keySet()) {
      String[] participants = proposedAssignment.get(partition);
      boolean[] validateResults = new boolean[participants.length];
```

### KeySetIterationMayUseEntrySet
Iteration over `assignments.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
        if (partitions != null && !partitions.isEmpty()) {
          Map<String, Node> assignments = singleZoneMapping(zone, partitions);
          for (String partition : assignments.keySet()) {
            Node node = assignments.get(partition);
            if (!partitionStateMapping.containsKey(partition)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `nodePartitionsMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
      Map<Node, List<String>> prevNodePartitionMap) {
    if (nodePartitionsMap.size() > 0) {
      for (Node node : nodePartitionsMap.keySet()) {
        prevNodePartitionMap.put(node, new ArrayList<>(nodePartitionsMap.get(node)));
      }
```

### KeySetIterationMayUseEntrySet
Iteration over `newParticipantUsage.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/PartitionWeightAwareEvennessConstraint.java`
#### Snippet
```java
    Map<String, Integer> newParticipantUsage =
        ResourceUsageCalculator.getResourceUsage(pendingAssignment, _partitionWeightProvider);
    for (String participant : newParticipantUsage.keySet()) {
      if (!_pendingUsage.containsKey(participant)) {
        _pendingUsage.put(participant, 0);
```

### KeySetIterationMayUseEntrySet
Iteration over `proposedAssignment.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/PartitionWeightAwareEvennessConstraint.java`
#### Snippet
```java
  public Map<String, int[]> evaluate(String resource, Map<String, String[]> proposedAssignment) {
    Map<String, int[]> result = new HashMap<>();
    for (String partition : proposedAssignment.keySet()) {
      String[] participants = proposedAssignment.get(partition);
      int[] evaluateResults = new int[participants.length];
```

### KeySetIterationMayUseEntrySet
Iteration over `recoverMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/ExcessiveTopStateResolver.java`
#### Snippet
```java
    // during the recovery process.
    boolean hasReservedTopState = false;
    for (String instance : recoverMap.keySet()) {
      if (recoverMap.get(instance).equals(stateModelDef.getTopState())) {
        if (hasReservedTopState) {
```

### KeySetIterationMayUseEntrySet
Iteration over `capacityMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedCapacityProvider.java`
#### Snippet
```java
  public void updateCapacity(Map<String, Integer> capacityMap, Map<String, Integer> usageMap,
      int defaultCapacity) {
    for (String participant : capacityMap.keySet()) {
      _capacity.setCapacity(participant, capacityMap.get(participant));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `usageMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedCapacityProvider.java`
#### Snippet
```java
      _capacity.setCapacity(participant, capacityMap.get(participant));
    }
    for (String participant : usageMap.keySet()) {
      _capacity.setUsage(participant, usageMap.get(participant));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `resourceDefaultWeightMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedPartitionWeightProvider.java`
#### Snippet
```java
  public void updateWeights(Map<String, Integer> resourceDefaultWeightMap,
      Map<String, Map<String, Integer>> partitionWeightMap, int defaultWeight) {
    for (String resource : resourceDefaultWeightMap.keySet()) {
      _weights.setResourceDefaultWeight(resource, resourceDefaultWeightMap.get(resource));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionWeightMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedPartitionWeightProvider.java`
#### Snippet
```java
      _weights.setResourceDefaultWeight(resource, resourceDefaultWeightMap.get(resource));
    }
    for (String resource : partitionWeightMap.keySet()) {
      Map<String, Integer> detailMap = partitionWeightMap.get(resource);
      for (String partition : detailMap.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `detailMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedPartitionWeightProvider.java`
#### Snippet
```java
    for (String resource : partitionWeightMap.keySet()) {
      Map<String, Integer> detailMap = partitionWeightMap.get(resource);
      for (String partition : detailMap.keySet()) {
        _weights.setPartitionWeight(resource, partition, detailMap.get(partition));
      }
```

### KeySetIterationMayUseEntrySet
Iteration over `additionPartitionMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
  private void fillActiveTaskCount(Map<String, Integer> additionPartitionMap,
      Map<String, Integer> partitionMap) {
    for (String participant : additionPartitionMap.keySet()) {
      partitionMap.put(participant,
          partitionMap.get(participant) + additionPartitionMap.get(participant));
```

### KeySetIterationMayUseEntrySet
Iteration over `_instanceFaultZone.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
    // instance -> target (ideal) partition count
    Map<Node, Float> targetPartitionCount = new HashMap<>();
    for (Node liveInstance : _instanceFaultZone.keySet()) {
      long zoneWeight = _faultZoneWeight.get(_instanceFaultZone.get(liveInstance));
      float instanceRatioInZone = ((float) _instanceWeight.get(liveInstance)) / zoneWeight;
```

### KeySetIterationMayUseEntrySet
Iteration over `_faultZoneWeight.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
      // Assign spikes to each zone according to zone weight
      totalOverflows = (int) totalReplicaCount % _instanceFaultZone.size();
      for (Node faultZone : _faultZoneWeight.keySet()) {
        float zoneWeight = _faultZoneWeight.get(faultZone);
        maxZoneOverflows.put(faultZone,
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java
  final void refreshStablePartitionList(Map<String, IdealState> idealStateMap) {
    _stablePartitionListCache.keySet().retainAll(idealStateMap.keySet());
    for (String resourceName : idealStateMap.keySet()) {
      Set<String> newPartitionSet = idealStateMap.get(resourceName).getPartitionSet();
      List<String> cachedPartitionList = getStablePartitionList(resourceName);
```

### KeySetIterationMayUseEntrySet
Iteration over `resolverMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
    // Reload the resolver classes into cache based on the configuration.
    _abnormalStateResolverMap.keySet().retainAll(resolverMap.keySet());
    for (String stateModel : resolverMap.keySet()) {
      String resolverClassName = resolverMap.get(stateModel);
      if (resolverClassName == null || resolverClassName.isEmpty()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `disabledPartitionMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
        _disabledInstanceSet.add(config.getInstanceName());
      }
      for (String resource : disabledPartitionMap.keySet()) {
        _disabledInstanceForPartitionMap.putIfAbsent(resource, new HashMap<>());
        for (String partition : disabledPartitionMap.get(resource)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `newIdealPreferenceList.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
      int minActiveReplica) {
    Map<String, List<String>> finalPreferenceList = new HashMap<>();
    for (String partition : newIdealPreferenceList.keySet()) {
      List<String> idealList = newIdealPreferenceList.get(partition);
      List<String> delayedIdealList = newDelayedPreferenceList.get(partition);
```

### KeySetIterationMayUseEntrySet
Iteration over `externalViewRecord.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
      int activeReplicaCount = 0;
      boolean hasTopState = false;
      for (String host : externalViewRecord.keySet()) {
        String currentState = externalViewRecord.get(host);
        if (HelixDefinedState.ERROR.toString().equalsIgnoreCase(currentState)) {
```

### KeySetIterationMayUseEntrySet
Iteration over `currentMapping.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Map<Replica, Node> existingPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
    for (String partition : currentMapping.keySet()) {
      Map<String, String> nodeStateMap = currentMapping.get(partition);
      nodeStateMap.keySet().retainAll(_nodeMap.keySet());
```

### KeySetIterationMayUseEntrySet
Iteration over `_states.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    int replicaId = 0;
    Map<Integer, String> stateMap = new HashMap<Integer, String>();
    for (String state : _states.keySet()) {
      Integer count = _states.get(state);
      for (int i = 0; i < count; i++) {
```

### KeySetIterationMayUseEntrySet
Iteration over `currentMapping.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Map<Replica, Node> existingNonPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
    for (String partition : currentMapping.keySet()) {
      Map<String, String> nodeStateMap = currentMapping.get(partition);
      nodeStateMap.keySet().retainAll(_nodeMap.keySet());
```

### KeySetIterationMayUseEntrySet
Iteration over `preferenceLists.keySet()` may be replaced with 'values()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Map<String, Map<String, Integer>> nodeReplicaCounts =
        new HashMap<String, Map<String, Integer>>();
    for (String partition : preferenceLists.keySet()) {
      normalizePreferenceList(preferenceLists.get(partition), nodeReplicaCounts);
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `newPreferences.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      normalizePreferenceList(preferenceLists.get(partition), nodeReplicaCounts);
    }
    for (String partition : newPreferences.keySet()) {
      normalizePreferenceList(newPreferences.get(partition), nodeReplicaCounts);
      preferenceLists.get(partition).addAll(newPreferences.get(partition));
```

### KeySetIterationMayUseEntrySet
Iteration over `idealStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
    // Figure out which tags are present on which resources
    Map<String, String> tagMap = Maps.newHashMap();
    for (String resourceName : idealStateMap.keySet()) {
      String idealStateStr = idealStateMap.get(resourceName);
      String tag =
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceConfigsMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java
    Map<String, List<String>> tagInstanceLists = new TreeMap<String, List<String>>();

    for (String instanceName : instanceConfigsMap.keySet()) {
      boolean isAlive = liveInstancesMap.containsKey(instanceName);
      instanceConfigsMap.get(instanceName).getRecord().setSimpleField("Alive", isAlive + "");
```

### KeySetIterationMayUseEntrySet
Iteration over `parameterMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java
        Map<String, String> parameterMap = jsonParameters.cloneParameterMap();
        parameterMap.remove(JsonParameters.MANAGEMENT_COMMAND);
        for (String key : parameterMap.keySet()) {
          setupTool.addResourceProperty(clusterName, resourceName, key, parameterMap.get(key));
        }
```

### KeySetIterationMayUseEntrySet
Iteration over `replicaMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();
    // check each resource to identify the allocated replicas and to-be-assigned replicas.
    for (String resourceName : replicaMap.keySet()) {
      // <partition, <state, instances set>>
      Map<String, Map<String, Set<String>>> idealPartitionStateMap =
```

### KeySetIterationMayUseEntrySet
Iteration over `replicaMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
    // For any replica that are assigned to non-active instances (down instances), add them.
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();
    for (String resourceName : replicaMap.keySet()) {
      Map<String, Map<String, Set<String>>> stateInstanceMap = getStateInstanceMap(currentAssignment.get(resourceName));

```

### KeySetIterationMayUseEntrySet
Iteration over `listMap.keySet()` may be replaced with 'entrySet()' iteration
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordSerializer.java`
#### Snippet
```java
    if (max < Integer.MAX_VALUE) {
      Map<String, List<String>> listMap = record.getListFields();
      for (String key : listMap.keySet()) {
        List<String> list = listMap.get(key);
        if (list.size() > max) {
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'entrySet()' iteration
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
      String acquiredBy = null;
      if (stateMap != null) {
        for (String instanceName : stateMap.keySet()) {
          if ("ONLINE".equals(stateMap.get(instanceName))) {
            acquiredBy = instanceName;
```

### KeySetIterationMayUseEntrySet
Iteration over `workflowConfigMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

    Map<String, WorkflowConfig> workflowConfigMap = cache.getWorkflowConfigMap();
    for (String workflow : workflowConfigMap.keySet()) {
      if (workflowConfigMap.get(workflow).isRecurring() || workflow.isEmpty()) {
        continue;
```

### KeySetIterationMayUseEntrySet
Iteration over `messageCountPerInstance.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

    // Update message count sent per instance and per resource
    for (String instance : messageCountPerInstance.keySet()) {
      InstanceMonitor instanceMonitor = _instanceMonitorMap.get(instance);
      if (instanceMonitor != null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `messageCountPerResource.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
      }
    }
    for (String resource : messageCountPerResource.keySet()) {
      ResourceMonitor resourceMonitor = _resourceMonitorMap.get(resource);
      if (resourceMonitor != null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
      Map<Partition, Map<String, String>> partitionStateMap =
          new HashMap<>(bestPossibleStates.getResourceMap(resource));
      for (Partition partition : partitionStateMap.keySet()) {
        Map<String, String> instanceStateMap = partitionStateMap.get(partition);
        for (String instance : instanceStateMap.keySet()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `instanceStateMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
      for (Partition partition : partitionStateMap.keySet()) {
        Map<String, String> instanceStateMap = partitionStateMap.get(partition);
        for (String instance : instanceStateMap.keySet()) {
          String state = instanceStateMap.get(instance);
          PerInstanceResourceMonitor.BeanName beanName =
```

### KeySetIterationMayUseEntrySet
Iteration over `_perInstanceResourceMonitorMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
      }
      // Update existing beans
      for (PerInstanceResourceMonitor.BeanName beanName : _perInstanceResourceMonitorMap.keySet()) {
        PerInstanceResourceMonitor bean = _perInstanceResourceMonitorMap.get(beanName);
        String stateModelDefName = resourceMap.get(beanName.resourceName()).getStateModelDefRef();
```

### KeySetIterationMayUseEntrySet
Iteration over `threadCapacityMap.keySet()` may be replaced with 'entrySet()' iteration
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
   */
  public void updateAvailableThreadsPerJob(Map<String, Integer> threadCapacityMap) {
    for (String jobType : threadCapacityMap.keySet()) {
      JobMonitor jobMonitor = getJobMonitor(jobType);
      jobMonitor.updateAvailableThreadGauge((long) threadCapacityMap.get(jobType));
```

### KeySetIterationMayUseEntrySet
Iteration over `listMap.keySet()` may be replaced with 'entrySet()' iteration
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    if (max < Integer.MAX_VALUE) {
      Map<String, List<String>> listMap = record.getListFields();
      for (String key : listMap.keySet()) {
        List<String> list = listMap.get(key);
        if (list.size() > max) {
```

### KeySetIterationMayUseEntrySet
Iteration over `map.keySet()` may be replaced with 'entrySet()' iteration
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
        g.writeObjectFieldStart(key);
        Map<String, String> map = record.getMapField(key);
        for (String mapKey : map.keySet()) {
          g.writeRaw("\n      ");
          g.writeStringField(mapKey, map.get(mapKey));
```

### KeySetIterationMayUseEntrySet
Iteration over `record.mapFields.keySet()` may be replaced with 'entrySet()' iteration
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
    }
    simpleFields.putAll(record.simpleFields);
    for (String key : record.mapFields.keySet()) {
      Map<String, String> map = mapFields.get(key);
      if (map != null) {
```

### KeySetIterationMayUseEntrySet
Iteration over `record.listFields.keySet()` may be replaced with 'entrySet()' iteration
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
      }
    }
    for (String key : record.listFields.keySet()) {
      // Default merge logic could introduce duplicated values. For example, old Record has list field
      // with value [1, 2, 3]. New Record is exactly same as previous one. Merged result will be
```

### KeySetIterationMayUseEntrySet
Iteration over `counts.keySet()` may be replaced with 'entrySet()' iteration
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/CountTask.java`
#### Snippet
```java
    }

    for (String key : counts.keySet()) {
      resultStore.hincrBy(_eventSource + "_" + _groupByCol + "_counts", key, counts.get(key));
    }
```

### KeySetIterationMayUseEntrySet
Iteration over `stateMap.keySet()` may be replaced with 'values()' iteration
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Task.java`
#### Snippet
```java
    for (String partition : partitionSet) {
      Map<String, String> stateMap = ev.getStateMap(partition);
      for (String instance : stateMap.keySet()) {
        if (!stateMap.get(instance).equalsIgnoreCase("Online")) {
          return false;
```

## RuleId[id=ObjectNotify]
### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `helix-core/src/main/java/org/apache/helix/GroupCommit.java`
#### Snippet
```java
            synchronized (e) {
              e._sent.set(true);
              e.notify();
            }
          }
```

### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
    // always overwrite the existing entry in the map in case the entry is different
    _eventMap.put((T) entry.getType(), entry);
    notify();
  }

```

### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/HelixGroupCommit.java`
#### Snippet
```java
              e._sent.set(true);
              e._isSuccess = success;
              e.notify();
            }
          }
```

## RuleId[id=SizeReplaceableByIsEmpty]
### SizeReplaceableByIsEmpty
`_name.length() == 0` can be replaced with '_name.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/common/HelixRestNamespace.java`
#### Snippet
```java
  private void validate() throws IllegalArgumentException {
    // TODO: add more strict validation for NAME as this will be part of URL
    if (_name == null || _name.length() == 0) {
      throw new IllegalArgumentException("Name of namespace not provided");
    }
```

### SizeReplaceableByIsEmpty
`headerName.length() == 0` can be replaced with 'headerName.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/AbstractResource.java`
#### Snippet
```java

  protected Response OKWithHeader(Object entity, String headerName, Object headerValue) {
    if (headerName == null || headerName.length() == 0) {
      return OK(entity);
    } else {
```

### SizeReplaceableByIsEmpty
`content.length() != 0` can be replaced with '!content.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java
    try {
      JsonNode node = null;
      if (content.length() != 0) {
        node = OBJECT_MAPPER.readTree(content);
      }
```

### SizeReplaceableByIsEmpty
`instanceSet.size() > 0` can be replaced with '!instanceSet.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java
      Set<String> currentZoneInstanceSet = new HashSet<>(zoneMapping.get(zone));
      instanceSet.retainAll(currentZoneInstanceSet);
      if (instanceSet.size() > 0) {
        return new ArrayList<>(instanceSet);
      }
```

### SizeReplaceableByIsEmpty
`keyPrefix.length() == 0` can be replaced with 'keyPrefix.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java
          return badRequest("Number of replicas is needed for rebalancing!");
        }
        keyPrefix = keyPrefix.length() == 0 ? resourceName : keyPrefix;
        admin.rebalance(clusterId, resourceName, replicas, keyPrefix, group);
        break;
```

### SizeReplaceableByIsEmpty
`content.length() != 0` can be replaced with '!content.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java
      switch (cmd) {
      case addResource:
        if (content.length() != 0) {
          ZNRecord record;
          try {
```

### SizeReplaceableByIsEmpty
`content.length() == 0` can be replaced with 'content.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java
      case addWagedResource:
        // Check if content is valid
        if (content == null || content.length() == 0) {
          _logger.error("Input is null or empty!");
          return badRequest("Input is null or empty!");
```

### SizeReplaceableByIsEmpty
`jsonContent.length() != 0` can be replaced with '!jsonContent.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    try {
      JsonNode node = null;
      if (jsonContent.length() != 0) {
        node = OBJECT_MAPPER.readTree(jsonContent);
      }
```

### SizeReplaceableByIsEmpty
`inputFields.healthChecks.size() != 0` can be replaced with '!inputFields.healthChecks.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
        return badRequest("Invalid input for content : " + jsonContent);
      }
      if (inputFields.healthChecks.size() != 0) {
        LOG.warn("freeSingleInstance won't perform user passed health check.");
      }
```

### SizeReplaceableByIsEmpty
`messageNames.size() == 0` can be replaced with 'messageNames.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    List<String> messageNames =
        accessor.getChildNames(accessor.keyBuilder().messages(instanceName));
    if (messageNames == null || messageNames.size() == 0) {
      LOG.warn("Unable to get any messages on instance: " + instanceName);
      return notFound();
```

### SizeReplaceableByIsEmpty
`jsonContent.length() != 0` can be replaced with '!jsonContent.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
  private MaintenanceOpInputFields readMaintenanceInputFromJson(String jsonContent) throws IOException {
    JsonNode node = null;
    if (jsonContent.length() != 0) {
      node = OBJECT_MAPPER.readTree(jsonContent);
    }
```

### SizeReplaceableByIsEmpty
`healthReports.size() > 0` can be replaced with '!healthReports.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
        accessor.getChildNames(accessor.keyBuilder().healthReports(instanceName));

    if (healthReports != null && healthReports.size() > 0) {
      healthReportsNode.addAll((ArrayNode) OBJECT_MAPPER.valueToTree(healthReports));
    }
```

### SizeReplaceableByIsEmpty
`resources.size() > 0` can be replaced with '!resources.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    resources.addAll(accessor
        .getChildNames(accessor.keyBuilder().taskCurrentStates(instanceName, currentSessionId)));
    if (resources.size() > 0) {
      resourcesNode.addAll((ArrayNode) OBJECT_MAPPER.valueToTree(resources));
    }
```

### SizeReplaceableByIsEmpty
`sessionIds.size() == 0` can be replaced with 'sessionIds.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    List<String> sessionIds = accessor.getChildNames(accessor.keyBuilder().errors(instanceName));

    if (sessionIds == null || sessionIds.size() == 0) {
      return notFound();
    }
```

### SizeReplaceableByIsEmpty
`content.length() != 0` can be replaced with '!content.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    try {
      JsonNode node = null;
      if (content.length() != 0) {
        node = OBJECT_MAPPER.readTree(content);
      }
```

### SizeReplaceableByIsEmpty
`namespaces.size() == 0` can be replaced with 'namespaces.isEmpty()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
      List<AuditLogger> auditLoggers, AuthValidator clusterAuthValidator,
      AuthValidator namespaceAuthValidator, AclRegister aclRegister) {
    if (namespaces.size() == 0) {
      throw new IllegalArgumentException(
          "No namespace specified! Please provide ZOOKEEPER address or namespace manifest.");
```

### SizeReplaceableByIsEmpty
`jobs.size() > 0` can be replaced with '!jobs.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/JobQueue.java`
#### Snippet
```java

      addJob(job, jobBuilder);
      if (jobs.size() > 0) {
        String previousJob = jobs.get(jobs.size() - 1);
        addParentChildDependency(previousJob, job);
```

### SizeReplaceableByIsEmpty
`instanceNode.size() > 0` can be replaced with '!instanceNode.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
      ((ObjectNode) instanceNode).put(instanceEntry.getKey(), resourceTypeNode);
    }
    if (instanceNode.size() > 0) {
      LOG.info("Current quota capacity: {}", instanceNode.toString());
    }
```

### SizeReplaceableByIsEmpty
`existingPartitions.size() != 0` can be replaced with '!existingPartitions.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskAssignmentCalculator.java`
#### Snippet
```java
    Set<Integer> existingPartitions = jobCtx.getPartitionSet();
    Set<Integer> missingPartitions = new HashSet<>();
    if (existingPartitions.size() != 0) {
      for (int pId = 0; pId < Collections.max(existingPartitions); pId++) {
        if (!existingPartitions.contains(pId)) {
```

### SizeReplaceableByIsEmpty
`missingPartitions.size()!=0` can be replaced with '!missingPartitions.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskAssignmentCalculator.java`
#### Snippet
```java
      if (!taskIdMap.containsKey(taskId)) {
        int nextPartition = jobCtx.getPartitionSet().size();
        if (missingPartitions.size()!=0) {
          nextPartition = missingPartitions.iterator().next();
          missingPartitions.remove(nextPartition);
```

### SizeReplaceableByIsEmpty
`jobWithFinalStates.size() > 0` can be replaced with '!jobWithFinalStates.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/WorkflowDispatcher.java`
#### Snippet
```java
      Set<String> jobWithFinalStates = new HashSet<>(workflowCtx.getJobStates().keySet());
      jobWithFinalStates.removeAll(workflowCfg.getJobDag().getAllNodes());
      if (jobWithFinalStates.size() > 0) {
        workflowCtx.setLastJobPurgeTime(System.currentTimeMillis());
        workflowCtx.removeJobStates(jobWithFinalStates);
```

### SizeReplaceableByIsEmpty
`expiredJobs.size() > 0` can be replaced with '!expiredJobs.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    }

    if (expiredJobs.size() > 0) {
      // Update workflow context will be in main pipeline not here. Otherwise, it will cause
      // concurrent write issue. It is possible that jobs got purged but there is no event to
```

### SizeReplaceableByIsEmpty
`resourceConfigs.size() > 0` can be replaced with '!resourceConfigs.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
      List<String> resourceConfigs =
          accessor.getChildNames(accessor.keyBuilder().resourceConfigs());
      if (resourceConfigs.size() > 0) {
        RebalanceUtil.scheduleOnDemandPipeline(manager.getClusterName(), 0L);
      } else {
```

### SizeReplaceableByIsEmpty
`path.length() == 0` can be replaced with 'path.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
      throw new IllegalArgumentException("Path cannot be null");
    }
    if (path.length() == 0) {
      throw new IllegalArgumentException("Path length must be > 0");
    }
```

### SizeReplaceableByIsEmpty
`currentState.getPartitionStateMap().size() > 0` can be replaced with '!currentState.getPartitionStateMap().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
        PropertyKey currentStateKey = propertyKeyBuilder.currentState(instanceName, sessionId, resourceName);
        CurrentState currentState = dataAccessor.getProperty(currentStateKey);
        if (currentState != null && currentState.getPartitionStateMap().size() > 0) {
          return true;
        }
```

### SizeReplaceableByIsEmpty
`disabledPartitions.size() > 0` can be replaced with '!disabledPartitions.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
      // or not
      for (List<String> disabledPartitions : instanceConfig.getDisabledPartitionsMap().values()) {
        if (disabledPartitions != null && disabledPartitions.size() > 0) {
          return true;
        }
```

### SizeReplaceableByIsEmpty
`this.getCloudInfoSources().size() == 0` can be replaced with 'this.getCloudInfoSources().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/CloudConfig.java`
#### Snippet
```java
        } else if (this.getCloudProvider().equals(CloudProvider.CUSTOMIZED.name())) {
          if (this.getCloudInfoProcessorName() == null || this.getCloudInfoSources() == null
              || this.getCloudInfoSources().size() == 0) {
            throw new HelixException(
                "This Cloud Configuration is Invalid. CUSTOMIZED provider has been chosen without defining CloudInfoProcessorName or CloudInfoSources");
```

### SizeReplaceableByIsEmpty
`data.length() == 0` can be replaced with 'data.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java

  private boolean isNullOrEmpty(String data) {
    return data == null || data.length() == 0 || data.trim().length() == 0;
  }

```

### SizeReplaceableByIsEmpty
`data.trim().length() == 0` can be replaced with 'data.trim().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java

  private boolean isNullOrEmpty(String data) {
    return data == null || data.length() == 0 || data.trim().length() == 0;
  }

```

### SizeReplaceableByIsEmpty
`relayHosts.size() > 0` can be replaced with '!relayHosts.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
  public boolean hasRelayMessages() {
    List<String> relayHosts = _record.getListField(Attributes.RELAY_PARTICIPANTS.name());
    return (relayHosts != null && relayHosts.size() > 0);
  }

```

### SizeReplaceableByIsEmpty
`value.length() == 0` can be replaced with 'value.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
        for (String key : topologyKeys) {
          String value = domainAsMap.get(key);
          if (value == null || value.length() == 0) {
            logger.info(String.format("Domain %s for instance %s is not set", domainAsMap.get(key),
                instanceName));
```

### SizeReplaceableByIsEmpty
`item.getAttributes().size() > 0` can be replaced with '!item.getAttributes().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/ClusterConstraints.java`
#### Snippet
```java
          builder.addConstraintAttributes(_record.getMapField(constraintId)).build();
      // ignore item with empty attributes or no constraint-value
      if (item.getAttributes().size() > 0 && item.getConstraintValue() != null) {
        addConstraintItem(constraintId, item);
      } else {
```

### SizeReplaceableByIsEmpty
`_record.getListFields().size() == 0` can be replaced with '_record.getListFields().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
      switch (getRebalanceMode()) {
      case SEMI_AUTO:
        if (_record.getListFields().size() == 0) {
          replica = "0";
        } else {
```

### SizeReplaceableByIsEmpty
`_record.getMapFields().size() == 0` can be replaced with '_record.getMapFields().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
        break;
      case CUSTOMIZED:
        if (_record.getMapFields().size() == 0) {
          replica = "0";
        } else {
```

### SizeReplaceableByIsEmpty
`domainSet.size() == 0` can be replaced with 'domainSet.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
        Arrays.asList(_record.getSimpleField(InstanceConfigProperty.DOMAIN.name()).split(",")));
    domainSet.removeAll(instanceDomains);
    return domainSet.size() == 0;
  }

```

### SizeReplaceableByIsEmpty
`object.length() == 0` can be replaced with 'object.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java

  public static List<String> deserializeByComma(String object) {
    if (object.length() == 0) {
      return Collections.EMPTY_LIST;
    }
```

### SizeReplaceableByIsEmpty
`fallbackMap.size() > 0` can be replaced with '!fallbackMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
      }

      if (fallbackMap.size() > 0) {
        List<String> fallbackPaths = new ArrayList<String>(fallbackMap.keySet());

```

### SizeReplaceableByIsEmpty
`fallbackMap.size() > 0` can be replaced with '!fallbackMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
      }

      if (fallbackMap.size() > 0) {
        List<String> fallbackPaths = new ArrayList<String>(fallbackMap.keySet());
        List<T> fallbackValues = _fallbackStore.get(fallbackPaths, null, options, true);
```

### SizeReplaceableByIsEmpty
`updateMap.size() > 0` can be replaced with '!updateMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java

      boolean succeed[] = new boolean[paths.size()]; // all init'ed to false
      if (updateMap.size() > 0) {
        List<String> updatePaths = new ArrayList<String>(updateMap.keySet());
        List<DataUpdater<T>> subUpdaters = new ArrayList<DataUpdater<T>>();
```

### SizeReplaceableByIsEmpty
`fallbackMap.size() > 0` can be replaced with '!fallbackMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
      }

      if (fallbackMap.size() > 0) {
        List<String> fallbackPaths = new ArrayList<String>(fallbackMap.keySet());

```

### SizeReplaceableByIsEmpty
`fallbackMap.size() > 0` can be replaced with '!fallbackMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
        }
      }
      if (fallbackMap.size() > 0) {
        List<String> fallbackPaths = new ArrayList<>(fallbackMap.keySet());
        List<Stat> fallbackStats = new ArrayList<>();
```

### SizeReplaceableByIsEmpty
`currentState.getPartitionStateMap().size() == 0` can be replaced with 'currentState.getPartitionStateMap().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
        accessor.getBaseDataAccessor().update(key.getPath(), updater, AccessOption.PERSISTENT);
        CurrentState currentState = accessor.getProperty(key);
        if (currentState.getPartitionStateMap().size() == 0) {
          pathsToRemove.add(key.getPath());
          LOG.info(String.format("Remove current state for path %s", key.getPath()));
```

### SizeReplaceableByIsEmpty
`instanceInfo.length() > 0` can be replaced with '!instanceInfo.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
  public void addInstancesToCluster(String clusterName, String[] instanceInfoArray) {
    for (String instanceInfo : instanceInfoArray) {
      if (instanceInfo.length() > 0) {
        addInstanceToCluster(clusterName, instanceInfo);
      }
```

### SizeReplaceableByIsEmpty
`idealState.getRecord().getListFields().size() == 0` can be replaced with 'idealState.getRecord().getListFields().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      return;
    }
    if (idealState.getRecord().getListFields().size() == 0) {
      _logger.warn("Resource " + resourceName + " not balanced, skip");
      return;
```

### SizeReplaceableByIsEmpty
`instanceInfo.length() > 0` can be replaced with '!instanceInfo.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
  public void dropInstancesFromCluster(String clusterName, String[] instanceInfoArray) {
    for (String instanceInfo : instanceInfoArray) {
      if (instanceInfo.length() > 0) {
        dropInstanceFromCluster(clusterName, instanceInfo);
      }
```

### SizeReplaceableByIsEmpty
`stateModelRecord.getId().length() == 0` can be replaced with 'stateModelRecord.getId().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      ZNRecord stateModelRecord =
          (ZNRecord) (new ZNRecordSerializer().deserialize(readFile(stateModelFile)));
      if (stateModelRecord.getId() == null || stateModelRecord.getId().length() == 0) {
        throw new IllegalArgumentException("ZNRecord for state model definition must have an id");
      }
```

### SizeReplaceableByIsEmpty
`children.size() > 0` can be replaced with '!children.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java

    List<String> children = client.getChildren(zkPath);
    if (children != null && children.size() > 0) {
      new File(fsPath).mkdirs();
      for (String child : children) {
```

### SizeReplaceableByIsEmpty
`stateModel.states.size() == 0` can be replaced with 'stateModel.states.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/YAMLClusterSetup.java`
#### Snippet
```java
    // Use a builder to define the state model
    StateModelDefinition.Builder builder = new StateModelDefinition.Builder(stateModel.name);
    if (stateModel.states == null || stateModel.states.size() == 0) {
      throw new HelixException("List of states are required in a state model!");
    }
```

### SizeReplaceableByIsEmpty
`stateModel.transitions.size() == 0` can be replaced with 'stateModel.transitions.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/YAMLClusterSetup.java`
#### Snippet
```java

    // Add the transitions
    if (stateModel.transitions == null || stateModel.transitions.size() == 0) {
      throw new HelixException("Transitions are required!");
    }
```

### SizeReplaceableByIsEmpty
`children.size() > 0` can be replaced with '!children.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
      List<String> children = srcClient.getChildren(fromPath);
      List<String> paths = new ArrayList<String>();
      if (children != null && children.size() > 0) {
        for (String child : children) {
          String childPath = concatenate(path, child);
```

### SizeReplaceableByIsEmpty
`writePaths.size() > 0` can be replaced with '!writePaths.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
    }

    if (writePaths.size() > 0) {
      BaseDataAccessor<Object> dstAccessor = new ZkBaseDataAccessor<Object>(dstClient);
      boolean[] success =
```

### SizeReplaceableByIsEmpty
`idealStates.size() == 0` can be replaced with 'idealStates.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      Map<String, IdealState> idealStates =
          accessor.getChildValuesMap(keyBuilder.idealStates(), true);
      if (idealStates == null || idealStates.size() == 0) {
        LOG.info("No resource idealState");
        return true;
```

### SizeReplaceableByIsEmpty
`childNames.size() > 0` can be replaced with '!childNames.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/WriteThroughCache.java`
#### Snippet
```java
      ZNode znode = _cache.get(path);
      List<String> childNames = _accessor.getChildNames(path, 0);
      if (childNames != null && childNames.size() > 0) {
        for (String childName : childNames) {
          String childPath = path + "/" + childName;
```

### SizeReplaceableByIsEmpty
`_staleMessageCache.get(key).size() == 0` can be replaced with '_staleMessageCache.get(key).isEmpty()'
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
    toRemoveMessages.forEach((key, value) -> {
      value.forEach(id -> _staleMessageCache.get(key).remove(id));
      if (_staleMessageCache.get(key).size() == 0) {
        _staleMessageCache.remove(key);
      }
```

### SizeReplaceableByIsEmpty
`newMessageKeys.size() > 0` can be replaced with '!newMessageKeys.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java

    // get the new messages
    if (newMessageKeys.size() > 0) {
      List<Message> newMessages = accessor.getProperty(newMessageKeys, true);
      for (Message message : newMessages) {
```

### SizeReplaceableByIsEmpty
`messages.size() > 0` can be replaced with '!messages.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
      // mapFields
      // task throttling can be done on SCHEDULER_TASK_QUEUE resource
      if (messages.size() > 0) {
        String taskQueueName = _message.getRecord().getSimpleField(SCHEDULER_TASK_QUEUE);
        if (taskQueueName == null) {
```

### SizeReplaceableByIsEmpty
`record.getDeltaList().size() > 0` can be replaced with '!record.getDeltaList().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
        } else {
          CreateMode mode = (persistent) ? CreateMode.PERSISTENT : CreateMode.EPHEMERAL;
          if (record.getDeltaList().size() > 0) {
            ZNRecord value = new ZNRecord(record.getId());
            value.merge(record);
```

### SizeReplaceableByIsEmpty
`record.getDeltaList().size() > 0` can be replaced with '!record.getDeltaList().isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
      } else {
        CreateMode mode = (persistent) ? CreateMode.PERSISTENT : CreateMode.EPHEMERAL;
        if (record.getDeltaList().size() > 0) {
          ZNRecord newRecord = new ZNRecord(record.getId());
          newRecord.merge(record);
```

### SizeReplaceableByIsEmpty
`children.size() == 0` can be replaced with 'children.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
    // parent watch will be set by zkClient
    List<String> children = client.getChildren(path);
    if (children == null || children.size() == 0) {
      return Collections.emptyList();
    }
```

### SizeReplaceableByIsEmpty
`_callBackEventQueue.size() != 0` can be replaced with '!_callBackEventQueue.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java
  private void submitPendingHandleCallBackEventToManagerThreadPool(CallbackHandler handler) {
    synchronized (_callBackEventQueue) {
      if (_callBackEventQueue.size() != 0) {
        try {
          NotificationContext event = _callBackEventQueue.take();
```

### SizeReplaceableByIsEmpty
`keys.size() == 0` can be replaced with 'keys.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
  @Override
  public List<HelixProperty.Stat> getPropertyStats(List<PropertyKey> keys) {
    if (keys == null || keys.size() == 0) {
      return Collections.emptyList();
    }
```

### SizeReplaceableByIsEmpty
`keys.size() == 0` can be replaced with 'keys.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
  public <T extends HelixProperty> List<T> getProperty(List<PropertyKey> keys,
      boolean throwException) throws HelixMetaDataAccessException {
    if (keys == null || keys.size() == 0) {
      return Collections.emptyList();
    }
```

### SizeReplaceableByIsEmpty
`_disconnectTimeHistory.size() == 0` can be replaced with '_disconnectTimeHistory.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
   */
  boolean isFlapping() {
    if (_disconnectTimeHistory.size() == 0) {
      return false;
    }
```

### SizeReplaceableByIsEmpty
`createCurStateKeys.size() > 0` can be replaced with '!createCurStateKeys.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java

    // batch create curState meta
    if (createCurStateKeys.size() > 0) {
      try {
        accessor.createChildren(createCurStateKeys, metaCurStates);
```

### SizeReplaceableByIsEmpty
`tasks.size() == 0` can be replaced with 'tasks.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  public List<Future<HelixTaskResult>> invokeAllTasks(List<MessageTask> tasks, long timeout,
      TimeUnit unit) throws InterruptedException {
    if (tasks == null || tasks.size() == 0) {
      return null;
    }
```

### SizeReplaceableByIsEmpty
`failToPurgeInstances.size() > 0` can be replaced with '!failToPurgeInstances.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      }
    });
    if (failToPurgeInstances.size() > 0) {
      LOG.error("ZKHelixAdmin::purgeOfflineInstances(): failed to drop the following instances: "
          + failToPurgeInstances);
```

### SizeReplaceableByIsEmpty
`controllers.size() == 0` can be replaced with 'controllers.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java

    List<String> controllers = getInstancesInCluster(grandCluster);
    if (controllers.size() == 0) {
      throw new HelixException("Grand cluster " + grandCluster + " has no instances");
    }
```

### SizeReplaceableByIsEmpty
`accessor.getChildNames(keyBuilder.liveInstances()).size() > 0` can be replaced with '!accessor.getChildNames(keyBuilder.liveInstances()).isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java

    String root = "/" + clusterName;
    if (accessor.getChildNames(keyBuilder.liveInstances()).size() > 0) {
      throw new HelixException(
          "There are still live instances in the cluster, shut them down first.");
```

### SizeReplaceableByIsEmpty
`keyPrefix.length() == 0` can be replaced with 'keyPrefix.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      String group) {
    List<String> instanceNames = new LinkedList<String>();
    if (keyPrefix == null || keyPrefix.length() == 0) {
      keyPrefix = resourceName;
    }
```

### SizeReplaceableByIsEmpty
`group.length() > 0` can be replaced with '!group.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      keyPrefix = resourceName;
    }
    if (group != null && group.length() > 0) {
      instanceNames = getInstancesInClusterWithTag(clusterName, group);
    }
```

### SizeReplaceableByIsEmpty
`instanceNames.size() == 0` can be replaced with 'instanceNames.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      instanceNames = getInstancesInClusterWithTag(clusterName, group);
    }
    if (instanceNames.size() == 0) {
      logger.info("No tags found for resource " + resourceName + ", use all instances");
      instanceNames = getInstancesInCluster(clusterName);
```

### SizeReplaceableByIsEmpty
`groupId.length() > 0` can be replaced with '!groupId.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    }

    if (groupId != null && groupId.length() > 0) {
      idealState.setInstanceGroupTag(groupId);
    }
```

### SizeReplaceableByIsEmpty
`messages.size() > 0` can be replaced with '!messages.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageThrottleStage.java`
#### Snippet
```java
      for (Partition partition : resource.getPartitions()) {
        List<Message> messages = msgSelectionOutput.getMessages(resourceName, partition);
        if (constraint != null && messages != null && messages.size() > 0) {
          messages = throttle(throttleCounterMap, constraint, messages, true);
        }
```

### SizeReplaceableByIsEmpty
`customizedStateMap.size() > 0` can be replaced with '!customizedStateMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
      Map<String, String> customizedStateMap =
          customizedStateOutput.getPartitionCustomizedStateMap(stateType, resourceName, partition);
      if (customizedStateMap != null && customizedStateMap.size() > 0) {
        for (String instance : customizedStateMap.keySet()) {
          view.setState(partition.getPartitionName(), instance, customizedStateMap.get(instance));
```

### SizeReplaceableByIsEmpty
`updatedCustomizedViews.size() > 0` can be replaced with '!updatedCustomizedViews.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
      }
      // add/update customized-views from zk and cache
      if (updatedCustomizedViews.size() > 0) {
        boolean[] success = dataAccessor.setChildren(keys, updatedCustomizedViews);
        reportLatency(event, updatedCustomizedViews, curCustomizedViews, updatedStartTimestamps,
```

### SizeReplaceableByIsEmpty
`newExtViews.size() > 0` can be replaced with '!newExtViews.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java

    // add/update external-views
    if (newExtViews.size() > 0) {
      dataAccessor.setChildren(keys, newExtViews);
      cache.updateExternalViews(newExtViews);
```

### SizeReplaceableByIsEmpty
`currentStateMap.size() > 0` can be replaced with '!currentStateMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
      Map<String, String> currentStateMap =
          currentStateOutput.getCurrentStateMap(resourceName, partition);
      if (currentStateMap != null && currentStateMap.size() > 0) {
        for (String instance : currentStateMap.keySet()) {
          view.setState(partition.getPartitionName(), instance, currentStateMap.get(instance));
```

### SizeReplaceableByIsEmpty
`controllerFinishedMsgs.size() > 0` can be replaced with '!controllerFinishedMsgs.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
    }

    if (controllerFinishedMsgs.size() > 0) {
      for (String controllerMsgId : controllerFinishedMsgs.keySet()) {
        PropertyKey controllerStatusUpdateKey =
```

### SizeReplaceableByIsEmpty
`_sourceDataTypeMap.get(propertyType).size() == 0` can be replaced with '_sourceDataTypeMap.get(propertyType).isEmpty()'
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
    // Initialize the tables
    for (PropertyType propertyType : _sourceDataTypeMap.keySet()) {
      if (_sourceDataTypeMap.get(propertyType).size() == 0) {
        if (propertyType.equals(PropertyType.CUSTOMIZEDVIEW)) {
          throw new HelixException("CustomizedView has been used without any aggregation type!");
```

### SizeReplaceableByIsEmpty
`externalViewList.size() > 0` can be replaced with '!externalViewList.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
    }
    // Refresh with full list of external view.
    if (externalViewList != null && externalViewList.size() > 0) {
      // keep this here for back-compatibility, application can call onExternalViewChange directly
      // with externalview list supplied.
```

### SizeReplaceableByIsEmpty
`sourceDataTypeMap.get(propertyType).size() == 0` can be replaced with 'sourceDataTypeMap.get(propertyType).isEmpty()'
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
    for (PropertyType propertyType : sourceDataTypeMap.keySet()) {
      if (propertyType.equals(PropertyType.CUSTOMIZEDVIEW)
          && sourceDataTypeMap.get(propertyType).size() == 0) {
        logger.error("CustomizedView has been used without any aggregation type!");
        throw new HelixException("CustomizedView has been used without any aggregation type!");
```

### SizeReplaceableByIsEmpty
`sourceDataTypeMap.get(propertyType).size() != 0` can be replaced with '!sourceDataTypeMap.get(propertyType).isEmpty()'
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      }
      if (!propertyType.equals(PropertyType.CUSTOMIZEDVIEW)
          && sourceDataTypeMap.get(propertyType).size() != 0) {
        logger
            .error("Type has been used in addition to the propertyType {} !", propertyType.name());
```

### SizeReplaceableByIsEmpty
`idealStates.size() > 0` can be replaced with '!idealStates.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) {
    if (idealStates != null && idealStates.size() > 0) {
      for (IdealState idealState : idealStates.values()) {
        if (idealState == null) {
```

### SizeReplaceableByIsEmpty
`availableInstances.size() > 0` can be replaced with '!availableInstances.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
    Map<String, LiveInstance> availableInstances = cache.getLiveInstances();

    if (availableInstances != null && availableInstances.size() > 0) {
      for (LiveInstance instance : availableInstances.values()) {
        String instanceName = instance.getInstanceName();
```

### SizeReplaceableByIsEmpty
`preferenceList.size() > 0` can be replaced with '!preferenceList.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java

      // if no master, just pick the first node in the preference list as the master.
      if (!hasMaster && preferenceList.size() > 0) {
        instanceMap.put(preferenceList.get(0), MasterSlaveSMD.States.MASTER.name());
      }
```

### SizeReplaceableByIsEmpty
`currentStateMap.size() == 0` can be replaced with 'currentStateMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/MaintenanceRebalancer.java`
#### Snippet
```java
    Map<Partition, Map<String, String>> currentStateMap =
        currentStateOutput.getCurrentStateMap(resourceName);
    if (currentStateMap == null || currentStateMap.size() == 0) {
      LOG.warn(String
          .format("No new partition will be assigned for %s in maintenance mode", resourceName));
```

### SizeReplaceableByIsEmpty
`fromTopStateMessages.size() > 0` can be replaced with '!fromTopStateMessages.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java
                && stateModelDef.isSingleTopStateModel()) {
              // attach this message as a relay message to the message to transition off current top-state replica
              if (fromTopStateMessages.size() > 0) {
                Message fromTopStateMsg = fromTopStateMessages.get(0);
                fromTopStateMsg.attachRelayMessage(message.getTgtName(), message);
```

### SizeReplaceableByIsEmpty
`quotaRatioMap.size() == 0` can be replaced with 'quotaRatioMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java

    // Create quota based queues
    if (quotaRatioMap == null || quotaRatioMap.size() == 0) {
      _quotaBasedWorkflowPQs
          .put(AssignableInstance.DEFAULT_QUOTA_TYPE, new PriorityQueue<WorkflowObject>());
```

### SizeReplaceableByIsEmpty
`allPartitions.size() == 0` can be replaced with 'allPartitions.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/DelayedAutoRebalancer.java`
#### Snippet
```java

    List<String> allPartitions = getStablePartitionList(clusterData, currentIdealState);
    if (allPartitions.size() == 0) {
      LOG.info("Partition count is 0 for resource " + resourceName
          + ", stop calculate ideal mapping for the resource.");
```

### SizeReplaceableByIsEmpty
`liveNodes.size() == 0` can be replaced with 'liveNodes.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    int numReplicas = countStateReplicas();
    ZNRecord znRecord = new ZNRecord(_resourceName);
    if (liveNodes.size() == 0) {
      return znRecord;
    }
```

### SizeReplaceableByIsEmpty
`_orphaned.size() > 0` can be replaced with '!_orphaned.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    // compute orphaned replicas that are not assigned to any node
    _orphaned = computeOrphaned();
    if (_orphaned.size() > 0 && logger.isInfoEnabled()) {
      logger.info("orphan = " + _orphaned);
    }
```

### SizeReplaceableByIsEmpty
`_orphaned.size() > 0` can be replaced with '!_orphaned.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      }
    }
    if (_orphaned.size() > 0 && logger.isInfoEnabled()) {
      logger.warn("could not assign nodes to partitions: " + _orphaned);
    }
```

### SizeReplaceableByIsEmpty
`nodePartitionsMap.size() > 0` can be replaced with '!nodePartitionsMap.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
  private void copyAssignment(Map<Node, List<String>> nodePartitionsMap,
      Map<Node, List<String>> prevNodePartitionMap) {
    if (nodePartitionsMap.size() > 0) {
      for (Node node : nodePartitionsMap.keySet()) {
        prevNodePartitionMap.put(node, new ArrayList<>(nodePartitionsMap.get(node)));
```

### SizeReplaceableByIsEmpty
`value.length() == 0` can be replaced with 'value.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java
          // if a key does not exist in the instance domain config, using the default domain value.
          String value = domainAsMap.get(key);
          if (value == null || value.length() == 0) {
            value = clusterTopologyConfig.getTopologyKeyDefaultValue().get(key);
          } else {
```

### SizeReplaceableByIsEmpty
`childNames.size() == 0` can be replaced with 'childNames.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
      // prepare child paths
      List<String> childNames = getChildNames(parentPath, options);
      if (childNames == null || childNames.size() == 0) {
        return Collections.emptyList();
      }
```

### SizeReplaceableByIsEmpty
`paths.size() == 0` can be replaced with 'paths.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public boolean[] remove(List<String> paths, int options) {
    if (paths == null || paths.size() == 0) {
      return new boolean[0];
    }
```

### SizeReplaceableByIsEmpty
`paths.size() == 0` can be replaced with 'paths.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  boolean[] set(List<String> paths, List<T> records, List<List<String>> pathsCreated,
      List<Stat> stats, int options) {
    if (paths == null || paths.size() == 0) {
      return new boolean[0];
    }
```

### SizeReplaceableByIsEmpty
`paths.size() == 0` can be replaced with 'paths.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  List<T> update(List<String> paths, List<DataUpdater<T>> updaters, List<List<String>> pathsCreated,
      List<Stat> stats, int options) {
    if (paths == null || paths.size() == 0) {
      LOG.error("paths is null or empty");
      return Collections.emptyList();
```

### SizeReplaceableByIsEmpty
`paths.size() == 0` can be replaced with 'paths.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public Stat[] getStats(List<String> paths, int options) {
    if (paths == null || paths.size() == 0) {
      LOG.error("paths is null or empty");
      return new Stat[0];
```

### SizeReplaceableByIsEmpty
`paths.size() == 0` can be replaced with 'paths.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  List<T> get(List<String> paths, List<Stat> stats, boolean[] needRead, boolean throwException)
      throws HelixException {
    if (paths == null || paths.size() == 0) {
      return Collections.emptyList();
    }
```

### SizeReplaceableByIsEmpty
`pathFailToRead.size() > 0` can be replaced with '!pathFailToRead.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
        }
      }
      if (pathFailToRead.size() > 0) {
        LOG.warn("Fail to read record for paths: " + pathFailToRead);
      }
```

### SizeReplaceableByIsEmpty
`_notificationTypes.size() == 0` can be replaced with '_notificationTypes.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/participant/HelixCustomCodeRunner.java`
#### Snippet
```java
   */
  public void start() throws Exception {
    if (_callback == null || _notificationTypes == null || _notificationTypes.size() == 0
        || _resourceName == null) {
      throw new IllegalArgumentException("Require callback | notificationTypes | resourceName");
```

### SizeReplaceableByIsEmpty
`notificationTypes.size() == 0` can be replaced with 'notificationTypes.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/participant/GenericLeaderStandbyStateModelFactory.java`
#### Snippet
```java
  public GenericLeaderStandbyStateModelFactory(CustomCodeCallbackHandler callback,
      List<ChangeType> notificationTypes) {
    if (callback == null || notificationTypes == null || notificationTypes.size() == 0) {
      throw new IllegalArgumentException("Require: callback | notificationTypes");
    }
```

### SizeReplaceableByIsEmpty
`_orphaned.size() > 0` can be replaced with '!_orphaned.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      }
    }
    if (_orphaned.size() > 0 && logger.isInfoEnabled()) {
      logger.warn("could not assign nodes to partitions: " + _orphaned);
    }
```

### SizeReplaceableByIsEmpty
`liveNodes.size() == 0` can be replaced with 'liveNodes.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    int numReplicas = countStateReplicas();
    ZNRecord znRecord = new ZNRecord(_resourceName);
    if (liveNodes.size() == 0) {
      return znRecord;
    }
```

### SizeReplaceableByIsEmpty
`_orphaned.size() > 0` can be replaced with '!_orphaned.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    // compute orphaned replicas that are not assigned to any node
    _orphaned = computeOrphaned();
    if (_orphaned.size() > 0 && logger.isInfoEnabled()) {
      logger.info("orphan = " + _orphaned);
    }
```

### SizeReplaceableByIsEmpty
`_orphaned.size() > 0` can be replaced with '!_orphaned.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    moveExcessReplicas();

    if (_orphaned.size() > 0) {
      forceToAssignOrphans();
    }
```

### SizeReplaceableByIsEmpty
`children.size() > 0` can be replaced with '!children.isEmpty()'
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
    // read childrenList
    List<String> children = zkClient.getChildren(zkPath);
    if (children != null && children.size() > 0) {
      result.setListField("children", children);
    }
```

### SizeReplaceableByIsEmpty
`children.size() > 0` can be replaced with '!children.isEmpty()'
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkChildResource.java`
#### Snippet
```java
    // read childrenList
    List<String> children = zkClient.getChildren(zkPath);
    if (children != null && children.size() > 0) {
      result.setSimpleField("numChildren", "" + children.size());
      result.setListField("childrenList", children);
```

### SizeReplaceableByIsEmpty
`taskQueueName.length() > 0` can be replaced with '!taskQueueName.isEmpty()'
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java
      String taskQueueName =
          ClusterRepresentationUtil.getFormJsonParameterString(form, TASKQUEUENAME);
      if (taskQueueName != null && taskQueueName.length() > 0) {
        schedulerMessage.getRecord().setSimpleField(
            DefaultSchedulerMessageHandlerFactory.SCHEDULER_TASK_QUEUE, taskQueueName);
```

### SizeReplaceableByIsEmpty
`_sharedWatchers.size() > 0` can be replaced with '!_sharedWatchers.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/factory/ZkConnectionManager.java`
#### Snippet
```java
  protected synchronized void close(boolean skipIfWatched) {
    cleanupInactiveWatchers();
    if (_sharedWatchers != null && _sharedWatchers.size() > 0) {
      if (skipIfWatched) {
        LOG.debug("Skip closing ZkConnection due to existing watchers. Watcher count {}.",
```

### SizeReplaceableByIsEmpty
`property.trim().length() > 0` can be replaced with '!property.trim().isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java
    public static String getLocalhostName() {
        String property = System.getProperty(OVERWRITE_HOSTNAME_SYSTEM_PROPERTY);
        if (property != null && property.trim().length() > 0) {
            return property;
        }
```

### SizeReplaceableByIsEmpty
`records.size() > 0` can be replaced with '!records.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecordAssembler.java`
#### Snippet
```java
  public ZNRecord assemble(List<ZNRecord> records) {
    ZNRecord assembledRecord = null;
    if (records != null && records.size() > 0) {
      for (ZNRecord record : records) {
        if (record == null) {
```

### SizeReplaceableByIsEmpty
`name.length() == 0` can be replaced with 'name.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
    }
    if (name != null) {
      if (name.length() == 0) { // empty String means 'default'
        return PropertyName.USE_DEFAULT;
      }
```

### SizeReplaceableByIsEmpty
`workflowType.length() == 0` can be replaced with 'workflowType.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

  private String preProcessWorkflow(String workflowType) {
    if (workflowType == null || workflowType.length() == 0) {
      workflowType = DEFAULT_WORKFLOW_JOB_TYPE;
    }
```

### SizeReplaceableByIsEmpty
`jobType.length() == 0` can be replaced with 'jobType.isEmpty()'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

  private String preProcessJobMonitor(String jobType) {
    if (jobType == null || jobType.length() == 0) {
      jobType = DEFAULT_WORKFLOW_JOB_TYPE;
    }
```

### SizeReplaceableByIsEmpty
`entry.getValue().size() > 0` can be replaced with '!entry.getValue().isEmpty()'
in `metadata-store-directory-common/src/main/java/org/apache/helix/msdcommon/datamodel/TrieRoutingData.java`
#### Snippet
```java
  private boolean containsShardingKey(Map<String, List<String>> routingData) {
    for (Map.Entry<String, List<String>> entry : routingData.entrySet()) {
      if (entry.getValue().size() > 0) {
        return true;
      }
```

### SizeReplaceableByIsEmpty
`nestedMap.size() == 0` can be replaced with 'nestedMap.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
            nestedMap.remove(mapKey);
          }
          if (nestedMap.size() == 0) {
            mapFields.remove(key);
          }
```

### SizeReplaceableByIsEmpty
`record.getDeltaList().size() > 0` can be replaced with '!record.getDeltaList().isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
    }

    if (record.getDeltaList().size() > 0) {
      _logger.info("Merging with delta list, recordId = " + id + " other:" + record.getId());
      merge(record.getDeltaList());
```

### SizeReplaceableByIsEmpty
`parentIds.size() == 0` can be replaced with 'parentIds.isEmpty()'
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Task.java`
#### Snippet
```java

  private boolean areParentTasksDone(List<ExternalView> externalViewList) {
    if (parentIds == null || parentIds.size() == 0) {
      return true;
    }
```

### SizeReplaceableByIsEmpty
`stringError.length() > 0` can be replaced with '!stringError.isEmpty()'
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
              exitVal = ec.waitFor();
              String stringError = ec.getStringError();
              if (stringError != null && stringError.length() > 0)
                System.err.println(stringError);
              // System.out.println(ec.getStringOutput());
```

### SizeReplaceableByIsEmpty
`instances.size() > 0` can be replaced with '!instances.isEmpty()'
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java

    List<InstanceConfig> instances = getInstances(resourceName, partition, "MASTER");
    if (instances.size() > 0) {
      if (instances.size() == 1) {
        InstanceConfig newMasterConfig = instances.get(0);
```

### SizeReplaceableByIsEmpty
`files.size() > 0` can be replaced with '!files.isEmpty()'
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java

    private void process(Collection<File> files, FileChangeWatcher[] watchers, ChangeType type) {
      if (files.size() > 0) {
        for (File file : files) {
          if (file.lastModified() < startTime) {
```

### SizeReplaceableByIsEmpty
`acl.size() == 0` can be replaced with 'acl.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      throw new NullPointerException("Path must not be null.");
    }
    if (acl == null || acl.size() == 0) {
      throw new NullPointerException("Missing value for ACL");
    }
```

### SizeReplaceableByIsEmpty
`dataListeners.size() > 0` can be replaced with '!dataListeners.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  private boolean hasListeners(String path) {
    Set<IZkDataListenerEntry> dataListeners = _dataListener.get(path);
    if (dataListeners != null && dataListeners.size() > 0) {
      return true;
    }
```

### SizeReplaceableByIsEmpty
`childListeners.size() > 0` can be replaced with '!childListeners.isEmpty()'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    }
    Set<IZkChildListener> childListeners = _childListener.get(path);
    if (childListeners != null && childListeners.size() > 0) {
      return true;
    }
```

## RuleId[id=TrivialStringConcatenation]
### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
    }

    _record.setSimpleField(HelixPropertyAttribute.BUCKET_SIZE.toString(), "" + bucketSize);
  }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
   */
  public void setBatchMessageMode(boolean enable) {
    _record.setSimpleField(HelixPropertyAttribute.BATCH_MESSAGE_MODE.toString(), "" + enable);
  }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
   */
  private long getSystemPropertyAsLong(String propertyKey, long propertyDefaultValue) {
    String valueString = System.getProperty(propertyKey, "" + propertyDefaultValue);

    try {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
          }
          System.out.println(i++ + "...");
          throw new Error("" + i);

        }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/model/builder/IdealStateBuilder.java`
#### Snippet
```java
    idealstate.setStateModelFactoryName(stateModelFactoryName);
    idealstate.setRebalanceMode(rebalancerMode);
    idealstate.setReplicas("" + numReplica);

    if (minActiveReplica >= 0) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java
    IdealState result = new IdealState(resultRecordName);
    result.setNumPartitions(partitions.size());
    result.setReplicas("" + replica);
    result.setStateModelDefRef(stateModelName);

```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
   */
  public static long getSystemPropertyAsLong(String propertyKey, long propertyDefaultValue) {
    String valueString = System.getProperty(propertyKey, "" + propertyDefaultValue);

    try {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
   */
  public static int getSystemPropertyAsInt(String propertyKey, int propertyDefaultValue) {
    String valueString = System.getProperty(propertyKey, "" + propertyDefaultValue);

    try {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        idealState.rebalanceModeFromString(rebalanceMode, IdealState.RebalanceMode.SEMI_AUTO);
    idealState.setRebalanceMode(mode);
    idealState.setReplicas("" + replica);
    idealState.setStateModelFactoryName(HelixConstants.DEFAULT_STATE_MODEL_FACTORY);
    idealState.setResourceGroupName(resourceGroupName);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
        Message originalMessage, HelixManager manager, boolean timeOut) {
      Map<String, String> summary = new TreeMap<>();
      summary.put("TotalMessages:", "" + _resultSummaryMap.size());
      summary.put("Timeout", "" + timeOut);
      _resultSummaryMap.put("Summary", summary);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
      Map<String, String> summary = new TreeMap<>();
      summary.put("TotalMessages:", "" + _resultSummaryMap.size());
      summary.put("Timeout", "" + timeOut);
      _resultSummaryMap.put("Summary", summary);

```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
              accessor.keyBuilder().idealStates(newAddedScheduledTasks.getId()),
              newAddedScheduledTasks);
          sendSummary.put("MessageCount", "" + taskMessages.size());
        }
      }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
      // Record the number of messages sent into status updates
      Map<String, String> sendSummary = new HashMap<String, String>();
      sendSummary.put("MessageCount", "" + nMsgsSent);

      ZNRecord statusUpdate =
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
      InstanceConfig instanceConfig = new InstanceConfig("localhost_" + port);
      instanceConfig.setHostName("localhost");
      instanceConfig.setPort("" + port);
      instanceConfig.setInstanceEnabled(true);
      INSTANCE_CONFIG_LIST.add(instanceConfig);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
    InstanceConfig instanceConfig = new InstanceConfig("localhost_" + port);
    instanceConfig.setHostName("localhost");
    instanceConfig.setPort("" + port);
    instanceConfig.setInstanceEnabled(true);
    echo("ADDING NEW NODE :" + instanceConfig.getInstanceName()
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
                  + _message.getResourceName() + "/" + _message.getPartitionName() + ".tar");

          result.getTaskResultMap().put("BOOTSTRAP_TIME", "" + new Date().getTime());
        }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/messaging/ZNRecordRow.java`
#### Snippet
```java
        row.putField(LIST_KEY, key);
        row.putField(LIST_VALUE, record.getSimpleField(key));
        row.putField(LIST_VALUE_INDEX, "" + order);
        order++;
        result.add(row);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
      _statusUpdateUtil.logInfo(message, HelixTask.class, "Sending reply", _manager);

      taskResult.getTaskResultMap().put("SUCCESS", "" + taskResult.isSuccess());
      taskResult.getTaskResultMap().put("INTERRUPTED", "" + taskResult.isInterrupted());
      if (!taskResult.isSuccess()) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java

      taskResult.getTaskResultMap().put("SUCCESS", "" + taskResult.isSuccess());
      taskResult.getTaskResultMap().put("INTERRUPTED", "" + taskResult.isInterrupted());
      if (!taskResult.isSuccess()) {
        taskResult.getTaskResultMap().put("ERRORINFO", taskResult.getMessage());
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
          }
          Map<String, String> summary = new TreeMap<>();
          summary.put("TotalMessages:", "" + finishedTasksNum);
          summary.put("CompletedMessages", "" + completedTasksNum);

```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
          Map<String, String> summary = new TreeMap<>();
          summary.put("TotalMessages:", "" + finishedTasksNum);
          summary.put("CompletedMessages", "" + completedTasksNum);

          controllerStatusUpdate.getRecord().setMapField("Summary", summary);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportCollectorImpl.java`
#### Snippet
```java
            record.setMapFields(partitionReport);
          }
          record.setSimpleField(HealthStat.TIMESTAMP_NAME, "" + System.currentTimeMillis());

          HelixDataAccessor accessor = _helixManager.getHelixDataAccessor();
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/HelixAdminWebApp.java`
#### Snippet
```java
      applicationContext.getAttributes()
          .put(RestAdminApplication.ZKSERVERADDRESS, _zkServerAddress);
      applicationContext.getAttributes().put(RestAdminApplication.PORT, "" + _helixAdminPort);
      applicationContext.getAttributes().put(RestAdminApplication.ZKCLIENT, _zkClient);
      applicationContext.getAttributes().put(ResourceUtil.ContextKey.RAW_ZKCLIENT.toString(),
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
    result.setSimpleField("zkPath", zkPath);
    result.setSimpleField("stat", stat.toString());
    result.setSimpleField("numChildren", "" + stat.getNumChildren());
    result.setSimpleField("ctime", "" + new Date(stat.getCtime()));
    result.setSimpleField("mtime", "" + new Date(stat.getMtime()));
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
    result.setSimpleField("stat", stat.toString());
    result.setSimpleField("numChildren", "" + stat.getNumChildren());
    result.setSimpleField("ctime", "" + new Date(stat.getCtime()));
    result.setSimpleField("mtime", "" + new Date(stat.getMtime()));
    result.setSimpleField("dataLength", "" + stat.getDataLength());
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
    result.setSimpleField("numChildren", "" + stat.getNumChildren());
    result.setSimpleField("ctime", "" + new Date(stat.getCtime()));
    result.setSimpleField("mtime", "" + new Date(stat.getMtime()));
    result.setSimpleField("dataLength", "" + stat.getDataLength());

```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
    result.setSimpleField("ctime", "" + new Date(stat.getCtime()));
    result.setSimpleField("mtime", "" + new Date(stat.getMtime()));
    result.setSimpleField("dataLength", "" + stat.getDataLength());

    // read childrenList
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java

    boolean paused = (accessor.getProperty(keyBuilder.pause()) == null ? false : true);
    record.setSimpleField(PropertyType.PAUSE.toString(), "" + paused);

    String retVal = ClusterRepresentationUtil.ZNRecordToJson(record);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java
    for (String instanceName : instanceConfigsMap.keySet()) {
      boolean isAlive = liveInstancesMap.containsKey(instanceName);
      instanceConfigsMap.get(instanceName).getRecord().setSimpleField("Alive", isAlive + "");
      InstanceConfig config = instanceConfigsMap.get(instanceName);
      for (String tag : config.getTags()) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkChildResource.java`
#### Snippet
```java
    List<String> children = zkClient.getChildren(zkPath);
    if (children != null && children.size() > 0) {
      result.setSimpleField("numChildren", "" + children.size());
      result.setListField("childrenList", children);
    } else {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    final int recordSize = 10;
    for (int i = 0; i < recordSize; i++) {
      record.setSimpleField("" + i, "" + i);
      record.setListField("" + i, new ArrayList<String>());
      for (int j = 0; j < recordSize; j++) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    final int recordSize = 10;
    for (int i = 0; i < recordSize; i++) {
      record.setSimpleField("" + i, "" + i);
      record.setListField("" + i, new ArrayList<String>());
      for (int j = 0; j < recordSize; j++) {
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    for (int i = 0; i < recordSize; i++) {
      record.setSimpleField("" + i, "" + i);
      record.setListField("" + i, new ArrayList<String>());
      for (int j = 0; j < recordSize; j++) {
        record.getListField("" + i).add("" + j);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      record.setListField("" + i, new ArrayList<String>());
      for (int j = 0; j < recordSize; j++) {
        record.getListField("" + i).add("" + j);
      }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      record.setListField("" + i, new ArrayList<String>());
      for (int j = 0; j < recordSize; j++) {
        record.getListField("" + i).add("" + j);
      }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      }

      record.setMapField("" + i, new TreeMap<String, String>());
      for (int j = 0; j < recordSize; j++) {
        record.getMapField("" + i).put("" + j, "" + j);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      record.setMapField("" + i, new TreeMap<String, String>());
      for (int j = 0; j < recordSize; j++) {
        record.getMapField("" + i).put("" + j, "" + j);
      }
    }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      record.setMapField("" + i, new TreeMap<String, String>());
      for (int j = 0; j < recordSize; j++) {
        record.getMapField("" + i).put("" + j, "" + j);
      }
    }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      record.setMapField("" + i, new TreeMap<String, String>());
      for (int j = 0; j < recordSize; j++) {
        record.getMapField("" + i).put("" + j, "" + j);
      }
    }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
    for (int i = 0; i < numImps; i++) {
      boolean isFraudulent = (rand.nextFloat() <= fraudProbability);
      String impEventId = "" + Math.abs(rand.nextLong());
      String impEvent = impEventId; // event id
      impEvent += "," + isFraudulent;
```

### TrivialStringConcatenation
Empty string used in concatenation
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
      boolean isClick = (rand.nextFloat() <= clickProbability);
      if (isClick) {
        String clickEvent = "" + Math.abs(rand.nextLong()); // event id
        isFraudulent = (rand.nextFloat() <= fraudProbability);
        clickEvent += "," + isFraudulent;
```

### TrivialStringConcatenation
Empty string used in concatenation
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java

    for (int i = 0; i < numWorkers; i++) {
      Worker worker = new Worker(zkAddr, clusterName, "" + i, taskFactory, taskResultStore);
      executor.execute(worker);
    }
```

### TrivialStringConcatenation
Empty string used in concatenation
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/SetupCluster.java`
#### Snippet
```java
      // addNodes
      for (int i = 0; i < numNodes; i++) {
        String port = "" + (12001 + i);
        String serverId = "localhost_" + port;
        InstanceConfig config = new InstanceConfig(serverId);
```

### TrivialStringConcatenation
Empty string used in concatenation
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
            localEndSeq = (int) lastRecordProcessed.txid;
          }
          newRec.setSimpleField("prevGenEndSeq", "" + localEndSeq);
        }
        newRec.merge(currentData);
```

## RuleId[id=RegExpRedundantNestedCharacterClass]
### RegExpRedundantNestedCharacterClass
Redundant nested character class
in `metadata-store-directory-common/src/main/java/org/apache/helix/msdcommon/util/ZkValidationUtil.java`
#### Snippet
```java
   **/
  public static boolean isPathValid(String path) {
    return path.matches("^/|(/[\\w?[$&+,:;=?@#|'<>.^*()%!-]-]+)+$");
  }
}
```

## RuleId[id=NumberEquality]
### NumberEquality
Number objects are compared using `!=`, not 'equals()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
                Float node1Target = targetPartitionCount.get(node1);
                Float node2Target = targetPartitionCount.get(node2);
                if (node1Target != node2Target) {
                  return node2Target.compareTo(node1Target);
                }
```

## RuleId[id=ExplicitArrayFilling]
### ExplicitArrayFilling
Redundant initialization of a newly created array
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
  public static int[] generateHashRing(List<String> instanceNames, int hashRingSize) {
    int[] result = new int[hashRingSize];
    for (int i = 0; i < result.length; i++) {
      result[i] = 0;
    }
```

### ExplicitArrayFilling
Redundant initialization of a newly created array
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
  public static int[] generateEvenHashRing(List<String> instanceNames, int hashRingSize) {
    int[] result = new int[hashRingSize];
    for (int i = 0; i < result.length; i++) {
      result[i] = 0;
    }
```

## RuleId[id=EqualsBetweenInconvertibleTypes]
### EqualsBetweenInconvertibleTypes
`equals` between objects of inconvertible types 'String' and 'WorkflowConfigProperty'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java`
#### Snippet
```java
  private void getWorkflowConfigNode(ObjectNode workflowConfigNode, ZNRecord record) {
    for (Map.Entry<String, String> entry : record.getSimpleFields().entrySet()) {
      if (!entry.getKey().equals(WorkflowConfig.WorkflowConfigProperty.Dag)) {
        workflowConfigNode.put(entry.getKey(), JsonNodeFactory.instance.textNode(entry.getValue()));
      }
```

### EqualsBetweenInconvertibleTypes
`equals` between objects of inconvertible types 'String' and 'MessageType'
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java

  private String getRecordIdForMessage(Message message) {
    if (message.getMsgType().equals(MessageType.STATE_TRANSITION)) {
      return message.getPartitionName() + " Trans:" + message.getFromState().charAt(0) + "->"
          + message.getToState().charAt(0) + "  " + UUID.randomUUID().toString();
```

## RuleId[id=IgnoreResultOfCall]
### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    List<String> children = client.getChildren(zkPath);
    if (children != null && children.size() > 0) {
      new File(fsPath).mkdirs();
      for (String child : children) {
        String childPath = zkPath.equals("/") ? "/" + child : zkPath + "/" + child;
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    if (!zkParsedDir.exists()) {
      LOG.info("creating zklog-parsed dir: " + zkParsedDir.getAbsolutePath());
      zkParsedDir.mkdirs();
    }

```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

            // delete it
            zkLogGz.delete();
            tmpZkLog.delete();
          } else {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
            // delete it
            zkLogGz.delete();
            tmpZkLog.delete();
          } else {
            // parse it directly
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

          // delete it
          lastZkSnapshotGz.delete();
          tmpLastZkSnapshot.delete();
        } else {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
          // delete it
          lastZkSnapshotGz.delete();
          tmpLastZkSnapshot.delete();
        } else {
          // parse it directly
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
      }
    };
    new File("/tmp/helix-quickstart").mkdirs();
    // start zookeeper
    ZkServer server =
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkServer.java`
#### Snippet
```java
            final File dataDir = new File(_dataDir);
            final File dataLogDir = new File(_logDir);
            dataDir.mkdirs();
            dataLogDir.mkdirs();
            LOG.info(String.format("Starting single zookeeper server on port %d...", _port));
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkServer.java`
#### Snippet
```java
            final File dataLogDir = new File(_logDir);
            dataDir.mkdirs();
            dataLogDir.mkdirs();
            LOG.info(String.format("Starting single zookeeper server on port %d...", _port));
            LOG.info("data dir: " + dataDir.getAbsolutePath());
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
    FileUtils.deleteDirectory(new File(properties.get("file_store_dir")));
    FileUtils.deleteDirectory(new File(properties.get("check_point_dir")));
    new File(properties.get("change_log_dir")).mkdirs();
    new File(properties.get("file_store_dir")).mkdirs();
    new File(properties.get("check_point_dir")).mkdirs();
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
    FileUtils.deleteDirectory(new File(properties.get("check_point_dir")));
    new File(properties.get("change_log_dir")).mkdirs();
    new File(properties.get("file_store_dir")).mkdirs();
    new File(properties.get("check_point_dir")).mkdirs();
  }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
    new File(properties.get("change_log_dir")).mkdirs();
    new File(properties.get("file_store_dir")).mkdirs();
    new File(properties.get("check_point_dir")).mkdirs();
  }
}
```

## RuleId[id=UnnecessaryUnboxing]
### UnnecessaryUnboxing
Unnecessary unboxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
          countsMap.put(k, new Integer(0));
        } else {
          countsMap.put(k, countsMap.get(k).intValue() + 1);
        }
        if (!masterCountsMap.containsKey(k)) {
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java

        } else if (map1.get(k).equalsIgnoreCase("MASTER")) {
          masterCountsMap.put(k, masterCountsMap.get(k).intValue() + 1);
        }
      }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
        }
        if (value.equals("") || map1.get(k).equalsIgnoreCase(value)) {
          countsMap.put(k, countsMap.get(k).intValue() + 1);
        }
      }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
        countsMap.put(hashRing[i], new Integer(0));//
      }
      countsMap.put(hashRing[i], countsMap.get(hashRing[i]).intValue() + 1);
    }
    int maxCount = Integer.MIN_VALUE;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
        Integer controllerMsgIdCount = controllerMsgIdCountMap.get(controllerMsgId);
        if (controllerMsgIdCount != null
            && controllerFinishedMsgs.get(controllerMsgId).size() == controllerMsgIdCount.intValue()) {
          // All done for the scheduled tasks that came from controllerMsgId, add summary for it
          for (String taskPartitionName : controllerFinishedMsgs.get(controllerMsgId).keySet()) {
```

## RuleId[id=AccessStaticViaInstance]
### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
  private static Options constructCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(HELP).withDescription("Prints command-line options info")
            .create();
    helpOption.setArgs(0);
    helpOption.setRequired(false);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
  private static Options constructCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(HELP).withDescription("Prints command-line options info")
            .create();
    helpOption.setArgs(0);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java

    Option zkServerOption =
        OptionBuilder.withLongOpt(ZKSERVERADDRESS).withDescription("Provide zookeeper address")
            .create();
    zkServerOption.setArgs(1);
    zkServerOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java

    Option zkServerOption =
        OptionBuilder.withLongOpt(ZKSERVERADDRESS).withDescription("Provide zookeeper address")
            .create();
    zkServerOption.setArgs(1);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
    zkServerOption.setArgName("ZookeeperServerAddress(Required)");

    Option helixRestNamespaceOption = OptionBuilder.withLongOpt(NAMESPACE_MANIFEST_FILE)
        .withDescription("A yaml file describing helix namespace")
        .create();
    helixRestNamespaceOption.setArgs(1);
    helixRestNamespaceOption.setRequired(false);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
    zkServerOption.setArgName("ZookeeperServerAddress(Required)");

    Option helixRestNamespaceOption = OptionBuilder.withLongOpt(NAMESPACE_MANIFEST_FILE)
        .withDescription("A yaml file describing helix namespace")
        .create();
    helixRestNamespaceOption.setArgs(1);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java

    Option portOption =
        OptionBuilder.withLongOpt(PORT).withDescription("Provide web service port").create();
    portOption.setArgs(1);
    portOption.setRequired(false);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java

    Option portOption =
        OptionBuilder.withLongOpt(PORT).withDescription("Provide web service port").create();
    portOption.setArgs(1);
    portOption.setRequired(false);
```

### AccessStaticViaInstance
Static member 'org.apache.helix.task.JobConfig.Builder.fromMap(java.util.Map)' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/JobAccessor.java`
#### Snippet
```java

  protected static JobConfig.Builder getJobConfig(Map<String, String> cfgMap) {
    return new JobConfig.Builder().fromMap(cfgMap);
  }

```

### AccessStaticViaInstance
Static member 'org.apache.helix.task.JobConfig.Builder.fromMap(java.util.Map)' accessed via instance reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/JobAccessor.java`
#### Snippet
```java

  protected static JobConfig.Builder getJobConfig(ZNRecord record) {
    JobConfig.Builder jobConfig = new JobConfig.Builder().fromMap(record.getSimpleFields());
    jobConfig.addTaskConfigMap(getTaskConfigMap(record.getMapFields()));

```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
  private static Options parseCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(help).withDescription("Prints command-line options info")
            .create();

    Option zkServerOption =
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
  private static Options parseCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(help).withDescription("Prints command-line options info")
            .create();

```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java

    Option zkServerOption =
        OptionBuilder.withLongOpt(zkServer).withDescription("Provide zookeeper address").create();
    zkServerOption.setArgs(1);
    zkServerOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java

    Option zkServerOption =
        OptionBuilder.withLongOpt(zkServer).withDescription("Provide zookeeper address").create();
    zkServerOption.setArgs(1);
    zkServerOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java

    Option clusterOption =
        OptionBuilder.withLongOpt(cluster).withDescription("Provide cluster name").create();
    clusterOption.setArgs(1);
    clusterOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java

    Option clusterOption =
        OptionBuilder.withLongOpt(cluster).withDescription("Provide cluster name").create();
    clusterOption.setArgs(1);
    clusterOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
    clusterOption.setArgName("Cluster name (Required)");

    Option instanceOption = OptionBuilder.withLongOpt(instance)
        .withDescription("Provide instance name").create();
    instanceOption.setArgs(1);
    instanceOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
    clusterOption.setArgName("Cluster name (Required)");

    Option instanceOption = OptionBuilder.withLongOpt(instance)
        .withDescription("Provide instance name").create();
    instanceOption.setArgs(1);
    instanceOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
    instanceOption.setArgName("Instance name");

    Option sessionOption = OptionBuilder.withLongOpt(session)
        .withDescription("Provide instance session").create();
    sessionOption.setArgs(1);
    sessionOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
    instanceOption.setArgName("Instance name");

    Option sessionOption = OptionBuilder.withLongOpt(session)
        .withDescription("Provide instance session").create();
    sessionOption.setArgs(1);
    sessionOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.helix.tools.StateModelConfigGenerator.generateConfigForMasterSlave()' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java
    StateModelConfigGenerator generator = new StateModelConfigGenerator();
    admin.addStateModelDef(clusterName, "MasterSlave",
        new StateModelDefinition(generator.generateConfigForMasterSlave()));

    // add 3 participants: "localhost:{12918, 12919, 12920}"
```

### AccessStaticViaInstance
Static member 'org.apache.helix.controller.rebalancer.topology.Topology.clone(org.apache.helix.controller.rebalancer.topology.Node, java.util.Map, java.util.Set)' accessed via instance reference
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
    if (!newNodeWeight.isEmpty()) {
      // iterate more
      return _clusterTopo.clone(zone, newNodeWeight, completedNodes);
    }

```

### AccessStaticViaInstance
Static member 'org.apache.helix.tools.StateModelConfigGenerator.generateConfigForOnlineOffline()' accessed via instance reference
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
      StateModelConfigGenerator generator = new StateModelConfigGenerator();
      admin.addStateModelDef(clusterName, "OnlineOffline",
          new StateModelDefinition(generator.generateConfigForOnlineOffline()));
      admin.addResource(clusterName, lockGroupName, numPartitions, "OnlineOffline",
          RebalanceMode.FULL_AUTO.toString());
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java
  private static Options constructCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(HELP).withDescription("Prints command-line options info")
            .create();
    helpOption.setArgs(0);
    helpOption.setRequired(false);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java
  private static Options constructCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(HELP).withDescription("Prints command-line options info")
            .create();
    helpOption.setArgs(0);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java

    Option zkServerOption =
        OptionBuilder.withLongOpt(ZK_ADDR).withDescription("Provide zookeeper address")
            .create();
    zkServerOption.setArgs(1);
    zkServerOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java

    Option zkServerOption =
        OptionBuilder.withLongOpt(ZK_ADDR).withDescription("Provide zookeeper address")
            .create();
    zkServerOption.setArgs(1);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create()' accessed via instance reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java

    Option portOption =
        OptionBuilder.withLongOpt(VIEW_CLUSTER_NAME).withDescription("Name of the view cluster")
            .create();
    portOption.setArgs(1);
    portOption.setRequired(true);
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java

    Option portOption =
        OptionBuilder.withLongOpt(VIEW_CLUSTER_NAME).withDescription("Name of the view cluster")
            .create();
    portOption.setArgs(1);
```

### AccessStaticViaInstance
Static member 'org.apache.helix.tools.StateModelConfigGenerator.generateConfigForOnlineOffline()' accessed via instance reference
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/SetupCluster.java`
#### Snippet
```java
      StateModelConfigGenerator generator = new StateModelConfigGenerator();
      admin.addStateModelDef(clusterName, DEFAULT_STATE_MODEL,
          new StateModelDefinition(generator.generateConfigForOnlineOffline()));
      // addNodes
      for (int i = 0; i < numNodes; i++) {
```

## RuleId[id=RedundantMethodOverride]
### RedundantMethodOverride
Method `init()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/task/TaskRebalancer.java`
#### Snippet
```java

  @Override
  public void init(HelixManager manager) {
    _manager = manager;
  }
```

### RedundantMethodOverride
Method `computeNewIdealState()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/task/WorkflowRebalancer.java`
#### Snippet
```java

  @Override
  public IdealState computeNewIdealState(String resourceName, IdealState currentIdealState,
      CurrentStateOutput currentStateOutput, WorkflowControllerDataProvider clusterData) {
    // Nothing to do here with workflow resource.
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/HealthStat.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/PersistentStats.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/PauseSignal.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    return true;
  }
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/StatusUpdate.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    return true;
  }
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/ParticipantHistory.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    return true;
  }
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/AlertStatus.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/Error.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/Alerts.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/AlertHistory.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/ControllerHistory.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    return true;
  }
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/ExternalView.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    return true;
  }
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/ClusterConstraints.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // TODO Auto-generated method stub
    return true;
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    // HELIX-65: remove check for hostname/port existence
    return true;
```

### RedundantMethodOverride
Method `finalize()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ClusterLiveNodesVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### RedundantMethodOverride
Method `finalize()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### RedundantMethodOverride
Method `isValid()` is identical to its super method
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java

  @Override
  public boolean isValid() {
    return true;
  }
```

## RuleId[id=ClassNameSameAsAncestorName]
### ClassNameSameAsAncestorName
Class name `IdealStateChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/IdealStateChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface IdealStateChangeListener extends
    org.apache.helix.api.listeners.IdealStateChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `MessageListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/MessageListener.java`
#### Snippet
```java
 */
@Deprecated
public interface MessageListener extends org.apache.helix.api.listeners.MessageListener {
}

```

### ClassNameSameAsAncestorName
Class name `ConfigChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ConfigChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface ConfigChangeListener
    extends org.apache.helix.api.listeners.ConfigChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `ScopedConfigChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ScopedConfigChangeListener.java`
#### Snippet
```java
 * NOTE: This interface definition is moved to {@link org.apache.helix.api.listeners.ScopedConfigChangeListener}
 */
@Deprecated public interface ScopedConfigChangeListener
    extends org.apache.helix.api.listeners.ScopedConfigChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `CurrentStateChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/CurrentStateChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface CurrentStateChangeListener extends
    org.apache.helix.api.listeners.CurrentStateChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `ZNRecordUpdater` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ZNRecordUpdater.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordUpdater extends org.apache.helix.zookeeper.datamodel.ZNRecordUpdater {
  /**
   * Initialize with the record that will be updated
```

### ClassNameSameAsAncestorName
Class name `InstanceConfigChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/InstanceConfigChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface InstanceConfigChangeListener extends
    org.apache.helix.api.listeners.InstanceConfigChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `ExternalViewChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ExternalViewChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface ExternalViewChangeListener extends
    org.apache.helix.api.listeners.ExternalViewChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `ZNRecordAssembler` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ZNRecordAssembler.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordAssembler extends org.apache.helix.zookeeper.datamodel.ZNRecordAssembler {
}

```

### ClassNameSameAsAncestorName
Class name `LiveInstanceChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/LiveInstanceChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface LiveInstanceChangeListener extends
    org.apache.helix.api.listeners.LiveInstanceChangeListener {
}
```

### ClassNameSameAsAncestorName
Class name `ControllerChangeListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ControllerChangeListener.java`
#### Snippet
```java
 */
@Deprecated
public interface ControllerChangeListener extends
    org.apache.helix.api.listeners.ControllerChangeListener{
}
```

### ClassNameSameAsAncestorName
Class name `ZNRecordBucketizer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/ZNRecordBucketizer.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordBucketizer extends org.apache.helix.zookeeper.datamodel.ZNRecordBucketizer {
  /**
   * Instantiate a bucketizer with the number of buckets
```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/task/JobQueue.java`
#### Snippet
```java

  /** Supports creation of a single queue */
  public static class Builder extends Workflow.Builder {
    private List<String> jobs;

```

### ClassNameSameAsAncestorName
Class name `ExponentialBackoffStrategy` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/util/ExponentialBackoffStrategy.java`
#### Snippet
```java
 */
@Deprecated
public class ExponentialBackoffStrategy
    extends org.apache.helix.zookeeper.zkclient.util.ExponentialBackoffStrategy {
  public ExponentialBackoffStrategy(long maxRetryInterval, boolean addJitter) {
```

### ClassNameSameAsAncestorName
Class name `GZipCompressionUtil` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/util/GZipCompressionUtil.java`
#### Snippet
```java
 */
@Deprecated
public class GZipCompressionUtil extends org.apache.helix.zookeeper.util.GZipCompressionUtil {
}

```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ClusterLiveNodesVerifier.java`
#### Snippet
```java
  }

  public static class Builder extends ZkHelixClusterVerifier.Builder<Builder> {
    private final String _clusterName; // This is the ZK path sharding key
    private final Set<String> _expectLiveNodes;
```

### ClassNameSameAsAncestorName
Class name `BasicZkSerializer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/BasicZkSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class BasicZkSerializer
    extends org.apache.helix.zookeeper.zkclient.serialize.BasicZkSerializer {
  public BasicZkSerializer(
```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java
  }

  public static class Builder extends ZkHelixClusterVerifier.Builder<Builder> {
    private final String _clusterName; // This is the ZK path sharding key
    private Set<String> _resources;
```

### ClassNameSameAsAncestorName
Class name `ZNRecordSerializer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZNRecordSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordSerializer extends org.apache.helix.zookeeper.datamodel.serializer.ZNRecordSerializer {
}

```

### ClassNameSameAsAncestorName
Class name `PathBasedZkSerializer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/PathBasedZkSerializer.java`
#### Snippet
```java
 */
@Deprecated
public interface PathBasedZkSerializer
    extends org.apache.helix.zookeeper.zkclient.serialize.PathBasedZkSerializer {
}
```

### ClassNameSameAsAncestorName
Class name `ZNRecordJacksonSerializer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZNRecordJacksonSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordJacksonSerializer extends org.apache.helix.zookeeper.datamodel.serializer.ZNRecordJacksonSerializer {
}

```

### ClassNameSameAsAncestorName
Class name `ZkAsyncCallbacks` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkAsyncCallbacks.java`
#### Snippet
```java
 */
@Deprecated
public class ZkAsyncCallbacks
    extends org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks {
}
```

### ClassNameSameAsAncestorName
Class name `ZkClient` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkClient.java`
#### Snippet
```java
 */
@Deprecated
public class ZkClient extends org.apache.helix.zookeeper.impl.client.ZkClient {
  /**
   *  @param zkConnection
```

### ClassNameSameAsAncestorName
Class name `HelixZkClient` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/client/HelixZkClient.java`
#### Snippet
```java
 */
@Deprecated
public interface HelixZkClient extends org.apache.helix.zookeeper.api.client.HelixZkClient {
}

```

### ClassNameSameAsAncestorName
Class name `DedicatedZkClientFactory` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/client/DedicatedZkClientFactory.java`
#### Snippet
```java
 */
@Deprecated
public class DedicatedZkClientFactory extends org.apache.helix.zookeeper.impl.factory.DedicatedZkClientFactory {
}

```

### ClassNameSameAsAncestorName
Class name `ZkConnectionManager` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/client/ZkConnectionManager.java`
#### Snippet
```java
 */
@Deprecated
class ZkConnectionManager extends org.apache.helix.zookeeper.impl.factory.ZkConnectionManager {
  /**
   * Construct and init a ZkConnection Manager.
```

### ClassNameSameAsAncestorName
Class name `SharedZkClientFactory` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/client/SharedZkClientFactory.java`
#### Snippet
```java
 */
@Deprecated
public class SharedZkClientFactory extends org.apache.helix.zookeeper.impl.factory.SharedZkClientFactory {
}

```

### ClassNameSameAsAncestorName
Class name `IZkStateListener` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/zookeeper/IZkStateListener.java`
#### Snippet
```java
 */
@Deprecated
public interface IZkStateListener extends org.apache.helix.zookeeper.zkclient.IZkStateListener {

}
```

### ClassNameSameAsAncestorName
Class name `ZkConnection` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/zookeeper/ZkConnection.java`
#### Snippet
```java
 */
@Deprecated
public class ZkConnection extends org.apache.helix.zookeeper.zkclient.ZkConnection {

  public ZkConnection(String zkServers) {
```

### ClassNameSameAsAncestorName
Class name `ZkClient` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/zookeeper/ZkClient.java`
#### Snippet
```java
 */
@Deprecated
public class ZkClient extends org.apache.helix.zookeeper.zkclient.ZkClient {
  protected ZkClient(IZkConnection zkConnection, int connectionTimeout, long operationRetryTimeout,
      PathBasedZkSerializer zkSerializer, String monitorType, String monitorKey,
```

### ClassNameSameAsAncestorName
Class name `ZNRecordStreamingSerializer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZNRecordStreamingSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordStreamingSerializer extends org.apache.helix.zookeeper.datamodel.serializer.ZNRecordStreamingSerializer {
}

```

### ClassNameSameAsAncestorName
Class name `ByteArraySerializer` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/manager/zk/ByteArraySerializer.java`
#### Snippet
```java
 */
@Deprecated
public class ByteArraySerializer
    extends org.apache.helix.zookeeper.datamodel.serializer.ByteArraySerializer {
}
```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
  }

  public static class Builder extends ZkHelixClusterVerifier.Builder<Builder> {
    private final String _clusterName;
    private Map<String, Map<String, String>> _errStates;
```

### ClassNameSameAsAncestorName
Class name `ZkClientMonitor` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ZkClientMonitor.java`
#### Snippet
```java
 */
@Deprecated
public class ZkClientMonitor
    extends org.apache.helix.zookeeper.zkclient.metric.ZkClientMonitor {
  public ZkClientMonitor(String monitorType, String monitorKey, String monitorInstanceName,
```

### ClassNameSameAsAncestorName
Class name `ZkClientPathMonitor` is the same as one of its superclass' names
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ZkClientPathMonitor.java`
#### Snippet
```java
 */
@Deprecated
public class ZkClientPathMonitor
    extends org.apache.helix.zookeeper.zkclient.metric.ZkClientPathMonitor {
  public ZkClientPathMonitor(PredefinedPath path, String monitorType, String monitorKey,
```

### ClassNameSameAsAncestorName
Class name `ZNRecord` is the same as one of its superclass' names
in `helix-common/src/main/java/org/apache/helix/ZNRecord.java`
#### Snippet
```java
@JsonIgnoreProperties(ignoreUnknown = true)
@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)
public class ZNRecord extends org.apache.helix.zookeeper.datamodel.ZNRecord {
  public ZNRecord(String id) {
    super(id);
```

### ClassNameSameAsAncestorName
Class name `JacksonPayloadSerializer` is the same as one of its superclass' names
in `helix-common/src/main/java/org/apache/helix/manager/zk/serializer/JacksonPayloadSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class JacksonPayloadSerializer extends org.apache.helix.zookeeper.datamodel.serializer.JacksonPayloadSerializer {
}

```

### ClassNameSameAsAncestorName
Class name `PayloadSerializer` is the same as one of its superclass' names
in `helix-common/src/main/java/org/apache/helix/manager/zk/serializer/PayloadSerializer.java`
#### Snippet
```java
 */
@Deprecated
public interface PayloadSerializer extends org.apache.helix.zookeeper.datamodel.serializer.PayloadSerializer {
}

```

### ClassNameSameAsAncestorName
Class name `ZkClient` is the same as one of its superclass' names
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/ZkClient.java`
#### Snippet
```java
 */

public class ZkClient extends org.apache.helix.zookeeper.zkclient.ZkClient implements HelixZkClient {
  private static Logger LOG = LoggerFactory.getLogger(ZkClient.class);

```

## RuleId[id=IntegerMultiplicationImplicitCastToLong]
### IntegerMultiplicationImplicitCastToLong
instance.hashCode() \* 31: integer multiplication implicitly cast to long
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java

        // Shuffle partitions to randomly pickup exceed ones. Ensure the algorithm generates consistent results when the inputs are the same.
        Collections.shuffle(partitions, new Random(instance.hashCode() * 31 + randomSeed));
        addToReAssignPartition(toBeReassigned, partitions.subList(target, partitions.size()));

```

### IntegerMultiplicationImplicitCastToLong
ord(bstr\[0\]) \<\< 24: integer shift implicitly cast to long
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java
    }
    // need to "simulate" unsigned int
    return (long) (((ord(bstr[0]) << 24) | (ord(bstr[1]) << 16) | (ord(bstr[2]) << 8) | (ord(
        bstr[3])))) & 0xffffffffL;
  }
```

### IntegerMultiplicationImplicitCastToLong
ord(bstr\[1\]) \<\< 16: integer shift implicitly cast to long
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java
    }
    // need to "simulate" unsigned int
    return (long) (((ord(bstr[0]) << 24) | (ord(bstr[1]) << 16) | (ord(bstr[2]) << 8) | (ord(
        bstr[3])))) & 0xffffffffL;
  }
```

### IntegerMultiplicationImplicitCastToLong
ord(bstr\[2\]) \<\< 8: integer shift implicitly cast to long
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java
    }
    // need to "simulate" unsigned int
    return (long) (((ord(bstr[0]) << 24) | (ord(bstr[1]) << 16) | (ord(bstr[2]) << 8) | (ord(
        bstr[3])))) & 0xffffffffL;
  }
```

### IntegerMultiplicationImplicitCastToLong
_newConfig.getViewClusterRefershPeriod() \* 1000: integer multiplication implicitly cast to long
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/SourceClusterConfigChangeAction.java`
#### Snippet
```java

  public long getCurrentRefreshPeriodMs() {
    return _newConfig.getViewClusterRefershPeriod() * 1000;
  }

```

## RuleId[id=UNUSED_IMPORT]
### UNUSED_IMPORT
Unused import `import org.apache.helix.common.caches.TaskCurrentStateCache;`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
import org.apache.helix.HelixConstants;
import org.apache.helix.HelixDataAccessor;
import org.apache.helix.common.caches.TaskCurrentStateCache;
import org.apache.helix.model.CurrentState;
import org.apache.helix.zookeeper.datamodel.ZNRecord;
```

### UNUSED_IMPORT
Unused import `import java.util.HashMap;`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableReplica.java`
#### Snippet
```java

import java.io.IOException;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
```

### UNUSED_IMPORT
Unused import `import java.util.List;`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableReplica.java`
#### Snippet
```java
import java.io.IOException;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

```

### UNUSED_IMPORT
Unused import `import org.apache.helix.HelixException;`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableReplica.java`
#### Snippet
```java
import java.util.Map;

import org.apache.helix.HelixException;
import org.apache.helix.controller.rebalancer.util.WagedValidationUtil;
import org.apache.helix.model.ClusterConfig;
```

### UNUSED_IMPORT
Unused import `import java.util.Collection;`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ReadClusterDataStage.java`
#### Snippet
```java
 */

import java.util.Collection;
import java.util.HashSet;
import java.util.List;
```

### UNUSED_IMPORT
Unused import `import java.util.HashSet;`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ReadClusterDataStage.java`
#### Snippet
```java

import java.util.Collection;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
```

### UNUSED_IMPORT
Unused import `import java.util.HashMap;`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
 */

import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.Map;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.HelixProperty;`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
import java.util.Set;

import org.apache.helix.HelixProperty;
import org.apache.helix.controller.LogUtil;
import org.apache.helix.controller.dataproviders.BaseControllerDataProvider;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.model.ResourceAssignment;`
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java
import org.apache.helix.model.Partition;
import org.apache.helix.model.Resource;
import org.apache.helix.model.ResourceAssignment;
import org.apache.helix.monitoring.mbeans.ClusterStatusMonitor;
import org.apache.helix.task.AssignableInstanceManager;
```

### UNUSED_IMPORT
Unused import `import java.util.HashSet;`
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.model.Partition;`
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java
import org.apache.helix.controller.stages.CurrentStateOutput;
import org.apache.helix.model.IdealState;
import org.apache.helix.model.Partition;
import org.apache.helix.model.ResourceAssignment;
import org.apache.helix.util.JenkinsHash;
```

### UNUSED_IMPORT
Unused import `import java.util.Collections;`
in `helix-core/src/main/java/org/apache/helix/task/ThreadCountBasedTaskAssignmentCalculator.java`
#### Snippet
```java

import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.model.Partition;`
in `helix-core/src/main/java/org/apache/helix/task/ThreadCountBasedTaskAssignmentCalculator.java`
#### Snippet
```java
import org.apache.helix.controller.stages.CurrentStateOutput;
import org.apache.helix.model.IdealState;
import org.apache.helix.model.Partition;
import org.apache.helix.model.ResourceAssignment;
import org.apache.helix.task.assigner.TaskAssignResult;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.task.TaskConstants;`
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
import org.apache.helix.model.LiveInstance;
import org.apache.helix.task.TaskConfig;
import org.apache.helix.task.TaskConstants;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.rest.server.resources.helix.AbstractHelixResource;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import org.apache.helix.rest.server.filters.ClusterAuthFilter;
import org.apache.helix.rest.server.filters.NamespaceAuthFilter;
import org.apache.helix.rest.server.resources.helix.AbstractHelixResource;
import org.apache.helix.rest.server.resources.metadata.NamespacesAccessor;
import org.apache.helix.rest.server.resources.metadatastore.MetadataStoreDirectoryAccessor;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.rest.server.resources.metadata.NamespacesAccessor;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import org.apache.helix.rest.server.filters.NamespaceAuthFilter;
import org.apache.helix.rest.server.resources.helix.AbstractHelixResource;
import org.apache.helix.rest.server.resources.metadata.NamespacesAccessor;
import org.apache.helix.rest.server.resources.metadatastore.MetadataStoreDirectoryAccessor;
import org.apache.helix.rest.server.resources.zookeeper.ZooKeeperAccessor;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.rest.server.resources.metadatastore.MetadataStoreDirectoryAccessor;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import org.apache.helix.rest.server.resources.helix.AbstractHelixResource;
import org.apache.helix.rest.server.resources.metadata.NamespacesAccessor;
import org.apache.helix.rest.server.resources.metadatastore.MetadataStoreDirectoryAccessor;
import org.apache.helix.rest.server.resources.zookeeper.ZooKeeperAccessor;
import org.eclipse.jetty.http.HttpVersion;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.rest.server.resources.zookeeper.ZooKeeperAccessor;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import org.apache.helix.rest.server.resources.metadata.NamespacesAccessor;
import org.apache.helix.rest.server.resources.metadatastore.MetadataStoreDirectoryAccessor;
import org.apache.helix.rest.server.resources.zookeeper.ZooKeeperAccessor;
import org.eclipse.jetty.http.HttpVersion;
import org.eclipse.jetty.server.HttpConfiguration;
```

### UNUSED_IMPORT
Unused import `import org.eclipse.jetty.servlet.DefaultServlet;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import org.eclipse.jetty.server.ServerConnector;
import org.eclipse.jetty.server.SslConnectionFactory;
import org.eclipse.jetty.servlet.DefaultServlet;
import org.eclipse.jetty.servlet.ServletContextHandler;
import org.eclipse.jetty.servlet.ServletHolder;
```

### UNUSED_IMPORT
Unused import `import org.glassfish.jersey.server.ServerProperties;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import org.eclipse.jetty.util.ssl.SslContextFactory;
import org.glassfish.jersey.server.ResourceConfig;
import org.glassfish.jersey.server.ServerProperties;
import org.glassfish.jersey.servlet.ServletContainer;
import org.slf4j.Logger;
```

### UNUSED_IMPORT
Unused import `import io.swagger.jaxrs.config.DefaultReaderConfig;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import io.swagger.jaxrs.config.DefaultJaxrsConfig;
import io.swagger.jaxrs.config.BeanConfig;
import io.swagger.jaxrs.config.DefaultReaderConfig;
import io.swagger.jaxrs.config.ReaderConfig;
import io.swagger.jaxrs.listing.ApiListingResource;
```

### UNUSED_IMPORT
Unused import `import io.swagger.jaxrs.config.ReaderConfig;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import io.swagger.jaxrs.config.BeanConfig;
import io.swagger.jaxrs.config.DefaultReaderConfig;
import io.swagger.jaxrs.config.ReaderConfig;
import io.swagger.jaxrs.listing.ApiListingResource;
import io.swagger.jaxrs.listing.SwaggerSerializers;
```

### UNUSED_IMPORT
Unused import `import io.swagger.jaxrs.listing.ApiListingResource;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import io.swagger.jaxrs.config.DefaultReaderConfig;
import io.swagger.jaxrs.config.ReaderConfig;
import io.swagger.jaxrs.listing.ApiListingResource;
import io.swagger.jaxrs.listing.SwaggerSerializers;
import javax.servlet.ServletContext;
```

### UNUSED_IMPORT
Unused import `import io.swagger.jaxrs.listing.SwaggerSerializers;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import io.swagger.jaxrs.config.ReaderConfig;
import io.swagger.jaxrs.listing.ApiListingResource;
import io.swagger.jaxrs.listing.SwaggerSerializers;
import javax.servlet.ServletContext;
import javax.ws.rs.ApplicationPath;
```

### UNUSED_IMPORT
Unused import `import javax.ws.rs.ApplicationPath;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import io.swagger.jaxrs.listing.SwaggerSerializers;
import javax.servlet.ServletContext;
import javax.ws.rs.ApplicationPath;
import javax.ws.rs.core.Context;

```

### UNUSED_IMPORT
Unused import `import javax.ws.rs.core.Context;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
import javax.servlet.ServletContext;
import javax.ws.rs.ApplicationPath;
import javax.ws.rs.core.Context;


```

### UNUSED_IMPORT
Unused import `import java.util.Arrays;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAssignmentOptimizerAccessor.java`
#### Snippet
```java
import java.security.InvalidParameterException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.Comparator;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.model.CloudConfig;`
in `helix-rest/src/main/java/org/apache/helix/rest/server/service/VirtualTopologyGroupService.java`
#### Snippet
```java
import org.apache.helix.cloud.topology.FifoVirtualGroupAssignmentAlgorithm;
import org.apache.helix.cloud.topology.VirtualGroupAssignmentAlgorithm;
import org.apache.helix.model.CloudConfig;
import org.apache.helix.model.ClusterConfig;
import org.apache.helix.model.ClusterTopologyConfig;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.zookeeper.constant.RoutingDataConstants;`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/DedicatedZkClient.java`
#### Snippet
```java
import org.apache.helix.zookeeper.api.client.ChildrenSubscribeResult;
import org.apache.helix.zookeeper.api.client.RealmAwareZkClient;
import org.apache.helix.zookeeper.constant.RoutingDataConstants;
import org.apache.helix.zookeeper.constant.RoutingSystemPropertyKeys;
import org.apache.helix.zookeeper.exception.MultiZkException;
```

### UNUSED_IMPORT
Unused import `import java.util.stream.Stream;`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/FederatedZkClient.java`
#### Snippet
```java
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.TimeUnit;
import java.util.stream.Stream;
import java.util.stream.StreamSupport;

```

### UNUSED_IMPORT
Unused import `import org.apache.helix.zookeeper.constant.RoutingDataConstants;`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/FederatedZkClient.java`
#### Snippet
```java
import org.apache.helix.zookeeper.api.client.ChildrenSubscribeResult;
import org.apache.helix.zookeeper.api.client.RealmAwareZkClient;
import org.apache.helix.zookeeper.constant.RoutingDataConstants;
import org.apache.helix.zookeeper.constant.RoutingSystemPropertyKeys;
import org.apache.helix.zookeeper.exception.MultiZkException;
```

### UNUSED_IMPORT
Unused import `import org.apache.helix.zookeeper.impl.client.SharedZkClient;`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java
import org.apache.helix.zookeeper.constant.RoutingSystemPropertyKeys;
import org.apache.helix.zookeeper.exception.MultiZkException;
import org.apache.helix.zookeeper.impl.client.SharedZkClient;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
```

## RuleId[id=NestedAssignment]
### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/ExternalCommand.java`
#### Snippet
```java
      int n = 0;
      try {
        while ((n = _in.read(buf)) != -1)
          _out.write(buf, 0, n);
      } catch (IOException e) {
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/util/RebalanceUtil.java`
#### Snippet
```java
          throw new HelixException("Invalid or unsupported state model definition");
        }
        masterStateValue = slaveStateValue = state;
      }
    }
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    int read = 0;
    int numRead = 0;
    while (read < bytes.length && (numRead = dis.read(bytes, read, bytes.length - read)) >= 0) {
      read = read + numRead;
    }
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    zkPath = zkPath.replaceAll("[/]+", "/");
    int index = -1;
    if (removeSuffix && (index = file.getName().indexOf(".")) > -1) {
      zkPath = zkPath.replaceAll(file.getName().substring(index), "");
    }
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

      int len;
      while ((len = gzis.read(buffer)) > 0) {
        out.write(buffer, 0, len);
      }
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

      String line;
      while ((line = br.readLine()) != null) {
        String key = "dataDir=";
        if (line.startsWith(key)) {
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
        String key = "dataDir=";
        if (line.startsWith(key)) {
          zkDirs[1] = zkDirs[0] = line.substring(key.length()) + "/version-2";
        }

```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

      String line;
      while ((line = br.readLine()) != null) {
        try {
          boolean match = true;
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

      String line;
      while ((line = br.readLine()) != null) {
        try {
          long timestamp = getTimestamp(line);
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
        if (srcZkAddr.equals(dstZkAddr)) {
          clientConfig.setZkSerializer(new ByteArraySerializer());
          srcClient = dstClient = SharedZkClientFactory.getInstance()
              .buildZkClient(new HelixZkClient.ZkConnectionConfig(srcZkAddr), clientConfig);
        } else {
          clientConfig.setZkSerializer(new ByteArraySerializer());
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
      int pos;
      String inputLine;
      while ((inputLine = br.readLine()) != null) {
        if (inputLine.indexOf("CONFIGS") != -1) {
          pos = inputLine.indexOf("CONFIGS");
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      int read = 0;
      int numRead = 0;
      while (read < bytes.length && (numRead = dis.read(bytes, read, bytes.length - read)) >= 0) {
        read = read + numRead;
      }
```

### NestedAssignment
Result of assignment expression used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
        }
        replica = instanceNames.size() - 1;
        masterStateValue = slaveStateValue = state;
      }
    }
```

### NestedAssignment
Result of assignment expression used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/util/GZipCompressionUtil.java`
#### Snippet
```java
    int length;
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    while ((length = gzipInputStream.read(buffer)) != -1) {
      baos.write(buffer, 0, length);
    }
```

### NestedAssignment
Result of assignment expression used
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ExternalCommand.java`
#### Snippet
```java
      int n = 0;
      try {
        while ((n = _in.read(buf)) != -1)
          _out.write(buf, 0, n);
      } catch (IOException e) {
```

## RuleId[id=ReplaceAssignmentWithOperatorAssignment]
### ReplaceAssignmentWithOperatorAssignment
`count = count + 1` could be simplified to 'count += 1'
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
      int count = 0;
      while (matcher.find()) {
        count = count + 1;
        String var = matcher.group();
        if (count == 1) {
```

### ReplaceAssignmentWithOperatorAssignment
`val = val >> 8` could be simplified to 'val \>\>= 8'
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      for (int i = 0; i < 8; i++) {
        long octet = val & 0x00ff;
        val = val >> 8;
        hashval = hashval ^ octet;
        hashval = hashval * FNV_PRIME_64;
```

### ReplaceAssignmentWithOperatorAssignment
`hashval = hashval * FNV_PRIME_64` could be simplified to 'hashval \*= FNV_PRIME_64'
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
        val = val >> 8;
        hashval = hashval ^ octet;
        hashval = hashval * FNV_PRIME_64;
      }
      return Math.abs(hashval);
```

### ReplaceAssignmentWithOperatorAssignment
`startId = startId + 1` could be simplified to 'startId += 1'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
        }
      }
      startId = startId + 1;
    }

```

### ReplaceAssignmentWithOperatorAssignment
`read = read + numRead` could be simplified to 'read += numRead'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    int numRead = 0;
    while (read < bytes.length && (numRead = dis.read(bytes, read, bytes.length - read)) >= 0) {
      read = read + numRead;
    }
    return bytes;
```

### ReplaceAssignmentWithOperatorAssignment
`totalBytesRead = totalBytesRead + bytesRead` could be simplified to 'totalBytesRead += bytesRead'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
          int bytesRead = input.read(result, totalBytesRead, bytesRemaining);
          if (bytesRead > 0) {
            totalBytesRead = totalBytesRead + bytesRead;
          }
        }
```

### ReplaceAssignmentWithOperatorAssignment
`zkCfgFile = zkCfgFile + "/zoo.cfg"` could be simplified to 'zkCfgFile += "/zoo.cfg"'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    if (!zkCfgFile.endsWith(".cfg")) {
      // append with default zoo.cfg
      zkCfgFile = zkCfgFile + "/zoo.cfg";
    }

```

### ReplaceAssignmentWithOperatorAssignment
`attribute = attribute + ":"` could be simplified to 'attribute += ":"'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

    if (!attribute.endsWith(":")) {
      attribute = attribute + ":";
    }

```

### ReplaceAssignmentWithOperatorAssignment
`retryCount = retryCount + 1` could be simplified to 'retryCount += 1'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
        break;
      } catch (Exception e) {
        retryCount = retryCount + 1;
        logger.warn("Exception trying to update " + path + " Exception:" + e.getMessage()
            + ". Will retry.");
```

### ReplaceAssignmentWithOperatorAssignment
`retryCount = retryCount + 1` could be simplified to 'retryCount += 1'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
        break;
      } catch (Exception e) {
        retryCount = retryCount + 1;
        logger.warn("Exception trying to update " + path + " Exception:" + e.getMessage()
            + ". Will retry.");
```

### ReplaceAssignmentWithOperatorAssignment
`retryCount = retryCount + 1` could be simplified to 'retryCount += 1'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
        }
      } catch (Exception e) {
        retryCount = retryCount + 1;
        logger.warn("Exception trying to createOrReplace " + path + ". Will retry.", e);
      }
```

### ReplaceAssignmentWithOperatorAssignment
`retryCount = retryCount + 1` could be simplified to 'retryCount += 1'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java
        break;
      } catch (Exception e) {
        retryCount = retryCount + 1;
        logger.warn("Exception trying to createOrReplace " + path + " Exception:" + e.getMessage()
            + ". Will retry.");
```

### ReplaceAssignmentWithOperatorAssignment
`options = options | AccessOption.PERSISTENT` could be simplified to 'options \|= AccessOption.PERSISTENT'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
    int options = 0;
    if (type.isPersistent()) {
      options = options | AccessOption.PERSISTENT;
    } else {
      options = options | AccessOption.EPHEMERAL;
```

### ReplaceAssignmentWithOperatorAssignment
`options = options | AccessOption.EPHEMERAL` could be simplified to 'options \|= AccessOption.EPHEMERAL'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
      options = options | AccessOption.PERSISTENT;
    } else {
      options = options | AccessOption.EPHEMERAL;
    }

```

### ReplaceAssignmentWithOperatorAssignment
`NUM_NODES = NUM_NODES + 1` could be simplified to 'NUM_NODES += 1'
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
  private static void addNode() throws Exception {

    NUM_NODES = NUM_NODES + 1;
    int port = 12000 + NUM_NODES - 1;
    InstanceConfig instanceConfig = new InstanceConfig("localhost_" + port);
```

### ReplaceAssignmentWithOperatorAssignment
`read = read + numRead` could be simplified to 'read += numRead'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      int numRead = 0;
      while (read < bytes.length && (numRead = dis.read(bytes, read, bytes.length - read)) >= 0) {
        read = read + numRead;
      }
      return bytes;
```

### ReplaceAssignmentWithOperatorAssignment
`receiver.currentlyAssigned = receiver.currentlyAssigned + 1` could be simplified to 'receiver.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
            Node receiver = _liveNodesList.get(index % _liveNodesList.size());
            if (receiver.canAdd(replica)) {
              receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
              receiver.nonPreferred.add(replica);
              donor.currentlyAssigned = donor.currentlyAssigned - 1;
```

### ReplaceAssignmentWithOperatorAssignment
`donor.currentlyAssigned = donor.currentlyAssigned - 1` could be simplified to 'donor.currentlyAssigned -= 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
              receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
              receiver.nonPreferred.add(replica);
              donor.currentlyAssigned = donor.currentlyAssigned - 1;
              it.remove();
              break;
```

### ReplaceAssignmentWithOperatorAssignment
`distRemainder = distRemainder - 1` could be simplified to 'distRemainder -= 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      if (distRemainder > 0 && targetSize < _maximumPerNode) {
        targetSize += 1;
        distRemainder = distRemainder - 1;
        usingCeiling = true;
      }
```

### ReplaceAssignmentWithOperatorAssignment
`node.currentlyAssigned = node.currentlyAssigned + 1` could be simplified to 'node.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      for (String nodeId : nodeStateMap.keySet()) {
        Node node = _nodeMap.get(nodeId);
        node.currentlyAssigned = node.currentlyAssigned + 1;
        // check if its in one of the preferred position
        for (int replicaId = 0; replicaId < count; replicaId++) {
```

### ReplaceAssignmentWithOperatorAssignment
`receiver.currentlyAssigned = receiver.currentlyAssigned + 1` could be simplified to 'receiver.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
        Node receiver = _liveNodesList.get(index % _liveNodesList.size());
        if (receiver.capacity > receiver.currentlyAssigned && receiver.canAdd(replica)) {
          receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
          receiver.nonPreferred.add(replica);
          receiver.newReplicas.add(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`donor.currentlyAssigned = donor.currentlyAssigned - 1` could be simplified to 'donor.currentlyAssigned -= 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      if (donor.capacity < donor.currentlyAssigned && receiver.capacity > receiver.currentlyAssigned
          && receiver.canAdd(replica)) {
        donor.currentlyAssigned = donor.currentlyAssigned - 1;
        receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
        donor.nonPreferred.remove(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`receiver.currentlyAssigned = receiver.currentlyAssigned + 1` could be simplified to 'receiver.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          && receiver.canAdd(replica)) {
        donor.currentlyAssigned = donor.currentlyAssigned - 1;
        receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
        donor.nonPreferred.remove(replica);
        receiver.preferred.add(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`partitionId = partitionId + 1` could be simplified to 'partitionId += 1'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
        preferredMapping.put(replica, _nodeMap.get(nodeName));
      }
      partitionId = partitionId + 1;
    }
    return preferredMapping;
```

### ReplaceAssignmentWithOperatorAssignment
`hash = hash&0xffff` could be simplified to 'hash \&= 0xffff'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
    private long weightedScore(Node child, long straw, long input, long round) {
      long hash = hashFunction.hash(input, child.getId(), round);
      hash = hash&0xffff;
      long weightedScore = hash*straw;
      return weightedScore;
```

### ReplaceAssignmentWithOperatorAssignment
`node.currentlyAssigned = node.currentlyAssigned + 1` could be simplified to 'node.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      for (String nodeId : nodeStateMap.keySet()) {
        Node node = _nodeMap.get(nodeId);
        node.currentlyAssigned = node.currentlyAssigned + 1;
        // check if its in one of the preferred position
        for (int replicaId = 0; replicaId < count; replicaId++) {
```

### ReplaceAssignmentWithOperatorAssignment
`receiver.currentlyAssigned = receiver.currentlyAssigned + 1` could be simplified to 'receiver.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          Node receiver = _liveNodesList.get(index % _liveNodesList.size());
          if (receiver.capacity > receiver.currentlyAssigned && receiver.canAdd(replica)) {
            receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
            receiver.nonPreferred.add(replica);
            receiver.newReplicas.add(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`distRemainder = distRemainder - 1` could be simplified to 'distRemainder -= 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      if (distRemainder > 0 && targetSize < _maximumPerNode) {
        targetSize += 1;
        distRemainder = distRemainder - 1;
        usingCeiling = true;
      }
```

### ReplaceAssignmentWithOperatorAssignment
`partitionId = partitionId + 1` could be simplified to 'partitionId += 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
        preferredMapping.put(replica, _nodeMap.get(nodeName));
      }
      partitionId = partitionId + 1;
    }
    return preferredMapping;
```

### ReplaceAssignmentWithOperatorAssignment
`nodeToAssign.currentlyAssigned = nodeToAssign.currentlyAssigned + 1` could be simplified to 'nodeToAssign.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java

      if (nodeToAssign != null) {
        nodeToAssign.currentlyAssigned = nodeToAssign.currentlyAssigned + 1;
        nodeToAssign.nonPreferred.add(replica);
        nodeToAssign.newReplicas.add(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`donor.currentlyAssigned = donor.currentlyAssigned - 1` could be simplified to 'donor.currentlyAssigned -= 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
      if (donor.capacity < donor.currentlyAssigned
          && receiver.capacity > receiver.currentlyAssigned && receiver.canAdd(replica)) {
        donor.currentlyAssigned = donor.currentlyAssigned - 1;
        receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
        donor.nonPreferred.remove(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`receiver.currentlyAssigned = receiver.currentlyAssigned + 1` could be simplified to 'receiver.currentlyAssigned += 1'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          && receiver.capacity > receiver.currentlyAssigned && receiver.canAdd(replica)) {
        donor.currentlyAssigned = donor.currentlyAssigned - 1;
        receiver.currentlyAssigned = receiver.currentlyAssigned + 1;
        donor.nonPreferred.remove(replica);
        receiver.preferred.add(replica);
```

### ReplaceAssignmentWithOperatorAssignment
`result = result * (0.75 + _ran.nextDouble() % 0.25)` could be simplified to 'result \*= (0.75 + _ran.nextDouble() % 0.25)'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/util/ExponentialBackoffStrategy.java`
#### Snippet
```java
      // Adding jitter so the real result would be 75% to 100% of the original result.
      // Don't directly add jitter here, since it may exceed the max retry interval setup
      result = result * (0.75 + _ran.nextDouble() % 0.25);
    }

```

## RuleId[id=MismatchedCollectionQueryUpdate]
### MismatchedCollectionQueryUpdate
Contents of collection `_propertyDataChangedMap` are updated, but never queried
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterDataCache.java`
#### Snippet
```java
  private InstanceMessagesCache _instanceMessagesCache;

  private Map<ChangeType, Boolean> _propertyDataChangedMap;

  boolean _isTaskCache;
```

### MismatchedCollectionQueryUpdate
Contents of collection `_liveInstanceMap` are queried, but never updated
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterDataCache.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(ClusterDataCache.class.getName());

  private Map<String, LiveInstance> _liveInstanceMap;
  private Map<String, InstanceConfig> _instanceConfigCacheMap;
  private String _eventId = "NO_ID";
```

### MismatchedCollectionQueryUpdate
Contents of collection `form` are queried, but never updated
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
      Form form = new Form(entity);

      // Get the workflow and submit it
```

### MismatchedCollectionQueryUpdate
Contents of collection `form` are queried, but never updated
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java
          ResourceUtil.getAttributeFromCtx(getContext(), ResourceUtil.ContextKey.ZKCLIENT);

      Form form = new Form(entity);
      // Get the job queue and submit it
      if (form.size() < 1) {
```

### MismatchedCollectionQueryUpdate
Contents of collection `array` are updated, but never queried
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    try {
      int sum = 0;
      List<Float> array = new ArrayList<Float>();
      for (int i = 0; i < 5000; i++) {
        array.add((float) Math.random());
```

### MismatchedCollectionQueryUpdate
Contents of collection `list` are updated, but never queried
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    while (true) {
      ExecutorService service = Executors.newFixedThreadPool(400);
      List<Callable<Object>> list = new ArrayList<Callable<Object>>();
      for (int i = 0; i < 256; i++) {
        MyRunnable runnable = new MyRunnable();
```

### MismatchedCollectionQueryUpdate
Contents of collection `array` are updated, but never queried
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
        try {
          int sum = 0;
          List<Float> array = new ArrayList<Float>();
          for (int i = 0; i < 5000; i++) {
            array.add((float) Math.random());
```

## RuleId[id=FieldAccessedSynchronizedAndUnsynchronized]
### FieldAccessedSynchronizedAndUnsynchronized
Field `INSTANCE` is accessed in both synchronized and unsynchronized contexts
in `helix-rest/src/main/java/org/apache/helix/rest/client/CustomRestClientFactory.java`
#### Snippet
```java
public class CustomRestClientFactory {
  private static final Logger LOG = LoggerFactory.getLogger(CustomRestClientFactory.class);
  private static CustomRestClient INSTANCE = null;

  // Here int has been used for timeout value because setConnectTimeout,
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_zkClientForRoutingDataListener` is accessed in both synchronized and unsynchronized contexts
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  private final ZkMetadataStoreDirectory _zkMetadataStoreDirectory;
  // Create a dedicated ZkClient for listening to data changes in routing data
  private RealmAwareZkClient _zkClientForRoutingDataListener;

  public ServerContext(String zkAddr) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_currentLeaderInfo` is accessed in both synchronized and unsynchronized contexts
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java
  private final String _basePath;
  private final ZNRecord _participantInfo;
  private ZNRecord _currentLeaderInfo;

  private String _myEphemeralSequentialPath;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java

public class HelixRestServer {
  private static Logger LOG = LoggerFactory.getLogger(HelixRestServer.class);

  private static final String REST_DOMAIN = "org.apache.helix.rest";
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_server` is accessed in both synchronized and unsynchronized contexts
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
  private int _port;
  private String _urlPrefix;
  private Server _server;
  private List<JmxReporter> _jmxReporterList;
  private List<HelixRestNamespace> _helixNamespaces;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_jmxReporterList` is accessed in both synchronized and unsynchronized contexts
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
  private String _urlPrefix;
  private Server _server;
  private List<JmxReporter> _jmxReporterList;
  private List<HelixRestNamespace> _helixNamespaces;
  private ServletContextHandler _servletContextHandler;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/GroupCommit.java`
#### Snippet
```java
 */
public class GroupCommit {
  private static Logger LOG = LoggerFactory.getLogger(GroupCommit.class);
  private static int MAX_RETRY = 3;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_instanceConfig` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
  private Set<String> _currentAssignments;
  private ClusterConfig _clusterConfig;
  private InstanceConfig _instanceConfig;
  private LiveInstance _liveInstance;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_currentAssignments` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
   * Tasks in a terminal state (finished or failed) will be removed as soon as they reach the state.
   */
  private Set<String> _currentAssignments;
  private ClusterConfig _clusterConfig;
  private InstanceConfig _instanceConfig;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_totalCapacity` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
   * map{resourceType : map{quotaType : quota}}
   */
  private Map<String, Map<String, Integer>> _totalCapacity;

  /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_usedCapacity` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
   * map{resourceType : map{quotaType : quota}}
   */
  private Map<String, Map<String, Integer>> _usedCapacity;

  public AssignableInstance(ClusterConfig clusterConfig, InstanceConfig instanceConfig,
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_samples` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
  Set<String> _operations = new HashSet<String>();
  PrintWriter _outputFile;
  int _samples = 0;
  int _targetSamples = -1;
  String _jmxUrl;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_liveInstancePropertyCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java
  private String _clusterEventId;

  protected PropertyCache<LiveInstance> _liveInstancePropertyCache;
  protected PropertyCache<InstanceConfig> _instanceConfigPropertyCache;
  protected ExternalViewCache _externalViewCache;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_externalViewCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java
  protected PropertyCache<LiveInstance> _liveInstancePropertyCache;
  protected PropertyCache<InstanceConfig> _instanceConfigPropertyCache;
  protected ExternalViewCache _externalViewCache;

  protected String _clusterName;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_instanceConfigPropertyCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java

  protected PropertyCache<LiveInstance> _liveInstancePropertyCache;
  protected PropertyCache<InstanceConfig> _instanceConfigPropertyCache;
  protected ExternalViewCache _externalViewCache;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_contextMap` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
  // TODO: context and previous assignment should be wrapped into a class. Otherwise, int the future,
  // concurrency will be hard to handle.
  private Map<String, ZNRecord> _contextMap = new HashMap<>();
  private Set<String> _contextToUpdate = new HashSet<>();
  private Set<String> _contextToRemove = new HashSet<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_workflowConfigMap` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
  private Map<String, JobConfig> _jobConfigMap = new HashMap<>();
  private Map<String, RuntimeJobDag> _runtimeJobDagMap = new HashMap<>();
  private Map<String, WorkflowConfig> _workflowConfigMap = new ConcurrentHashMap<>();

  // TODO: context and previous assignment should be wrapped into a class. Otherwise, int the future,
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_jobConfigMap` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
  private static final String NAME = "NAME";

  private Map<String, JobConfig> _jobConfigMap = new HashMap<>();
  private Map<String, RuntimeJobDag> _runtimeJobDagMap = new HashMap<>();
  private Map<String, WorkflowConfig> _workflowConfigMap = new ConcurrentHashMap<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_runtimeJobDagMap` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java

  private Map<String, JobConfig> _jobConfigMap = new HashMap<>();
  private Map<String, RuntimeJobDag> _runtimeJobDagMap = new HashMap<>();
  private Map<String, WorkflowConfig> _workflowConfigMap = new ConcurrentHashMap<>();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_dispatchedJobs` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
  // Current usage for this scheduled jobs is used for differentiate the jobs has been processed in
  // JobDispatcher from RESOURCE_TO_BALANCE to reduce the redundant computation.
  private Set<String> _dispatchedJobs = new HashSet<>();

  private enum TaskDataType {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java
 */
public class ParticipantManager {
  private static Logger LOG = LoggerFactory.getLogger(ParticipantManager.class);
  private static final String CLOUD_PROCESSOR_PATH_PREFIX = "org.apache.helix.cloud.";

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
  }

  private static Logger _logger = LoggerFactory.getLogger(DefaultSchedulerMessageHandlerFactory.class);
  HelixManager _manager;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_manager` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java

  public static class DefaultSchedulerMessageHandler extends MessageHandler {
    HelixManager _manager;

    public DefaultSchedulerMessageHandler(Message message, NotificationContext context,
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java

public class CallbackEventExecutor {
  private static Logger logger = LoggerFactory.getLogger(CallbackHandler.class);

  private DedupEventBlockingQueue<NotificationContext.Type, NotificationContext>
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_isShutdown` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java
  private Future _futureCallBackProcessEvent = null;
  private ThreadPoolExecutor _threadPoolExecutor;
  private boolean _isShutdown = false;

  public CallbackEventExecutor(HelixManager manager) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_threadPoolExecutor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java
  private final HelixManager _manager;
  private Future _futureCallBackProcessEvent = null;
  private ThreadPoolExecutor _threadPoolExecutor;
  private boolean _isShutdown = false;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_watchChild` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java

  private AtomicReference<CallbackEventExecutor> _batchCallbackExecutorRef = new AtomicReference<>();
  private boolean _watchChild = true; // Whether we should subscribe to the child znode's data
  // change.

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
@PreFetchChangedData(enabled = false)
public class CallbackHandler implements IZkChildListener, IZkDataListener {
  private static Logger logger = LoggerFactory.getLogger(CallbackHandler.class);
  private static final AtomicLong CALLBACK_HANDLER_UID = new AtomicLong();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_preFetchEnabled` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
  private final PropertyKey _propertyKey;
  private boolean _batchModeEnabled = false;
  private boolean _preFetchEnabled = true;
  private HelixCallbackMonitor _monitor;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_monitor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
  private boolean _batchModeEnabled = false;
  private boolean _preFetchEnabled = true;
  private HelixCallbackMonitor _monitor;

  private AtomicReference<CallbackEventExecutor> _batchCallbackExecutorRef = new AtomicReference<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_configAccessor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private ZKHelixDataAccessor _dataAccessor;
  private final Builder _keyBuilder;
  private ConfigAccessor _configAccessor;
  private ZkHelixPropertyStore<ZNRecord> _helixPropertyStore;
  protected LiveInstanceInfoProvider _liveInstanceInfoProvider = null;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_leaderElectionHandler` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private GenericHelixController _controller;
  private Set<Pipeline.Type> _enabledPipelineTypes;
  private CallbackHandler _leaderElectionHandler = null;
  protected final List<HelixTimerTask> _controllerTimerTasks = new ArrayList<>();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_controller` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
   * controller fields
   */
  private GenericHelixController _controller;
  private Set<Pipeline.Type> _enabledPipelineTypes;
  private CallbackHandler _leaderElectionHandler = null;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_baseDataAccessor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private final MonitorLevel _monitorLevel;

  private BaseDataAccessor<ZNRecord> _baseDataAccessor;
  private ZKHelixDataAccessor _dataAccessor;
  private final Builder _keyBuilder;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

public class ZKHelixManager implements HelixManager, IZkStateListener {
  private static Logger LOG = LoggerFactory.getLogger(ZKHelixManager.class);

  public static final String ALLOW_PARTICIPANT_AUTO_JOIN = "allowParticipantAutoJoin";
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_callbackMonitors` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private RealmAwareZkClient.RealmAwareZkConnectionConfig _realmAwareZkConnectionConfig;
  private final DefaultMessagingService _messagingService;
  private Map<ChangeType, HelixCallbackMonitor> _callbackMonitors;

  private final MonitorLevel _monitorLevel;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_participantManager` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private final ParticipantHealthReportCollectorImpl _participantHealthInfoCollector;
  private Long _sessionStartTime;
  private ParticipantManager _participantManager;

  /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_zkclient` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private int _reportLatency;

  protected RealmAwareZkClient _zkclient;
  private RealmAwareZkClient.RealmAwareZkConnectionConfig _realmAwareZkConnectionConfig;
  private final DefaultMessagingService _messagingService;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_dataAccessor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

  private BaseDataAccessor<ZNRecord> _baseDataAccessor;
  private ZKHelixDataAccessor _dataAccessor;
  private final Builder _keyBuilder;
  private ConfigAccessor _configAccessor;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_helixPropertyStore` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private final Builder _keyBuilder;
  private ConfigAccessor _configAccessor;
  private ZkHelixPropertyStore<ZNRecord> _helixPropertyStore;
  protected LiveInstanceInfoProvider _liveInstanceInfoProvider = null;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
public abstract class AsyncCallback {

  private static Logger _logger = LoggerFactory.getLogger(AsyncCallback.class);
  long _startTimeStamp = 0;
  protected long _timeout = -1;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_timeout` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  private static Logger _logger = LoggerFactory.getLogger(AsyncCallback.class);
  long _startTimeStamp = 0;
  protected long _timeout = -1;
  Timer _timer = null;
  List<Message> _messagesSent;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_timer` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  long _startTimeStamp = 0;
  protected long _timeout = -1;
  Timer _timer = null;
  List<Message> _messagesSent;
  protected final List<Message> _messageReplied = new ArrayList<Message>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/handling/AsyncCallbackService.java`
#### Snippet
```java
  private final ConcurrentHashMap<String, AsyncCallback> _callbackMap =
      new ConcurrentHashMap<String, AsyncCallback>();
  private static Logger _logger = LoggerFactory.getLogger(AsyncCallbackService.class);

  public AsyncCallbackService() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java
  private final int _taskThreadpoolResetTimeout;

  private static Logger _logger = LoggerFactory.getLogger(DefaultMessagingService.class);
  ConcurrentHashMap<String, MessageHandlerFactory> _messageHandlerFactoriestobeAdded =
      new ConcurrentHashMap<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java

public class BatchMessageHandler extends MessageHandler {
  private static Logger LOG = LoggerFactory.getLogger(BatchMessageHandler.class);

  final MessageHandlerFactory _msgHandlerFty;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_targetExternalViewCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
  // propertyCache, this hardcoded list of fields won't be necessary.
  private Map<String, CustomizedViewCache> _customizedViewCaches;
  private TargetExternalViewCache _targetExternalViewCache;

  public RoutingDataCache(String clusterName, PropertyType sourceDataType) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_customizedViewCaches` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
  // TODO: CustomizedCache needs to be migrated to propertyCache. Once we migrate all cache to
  // propertyCache, this hardcoded list of fields won't be necessary.
  private Map<String, CustomizedViewCache> _customizedViewCaches;
  private TargetExternalViewCache _targetExternalViewCache;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_currentStateCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
  private final Map<PropertyType, List<String>> _sourceDataTypeMap;

  private CurrentStateCache _currentStateCache;
  // TODO: CustomizedCache needs to be migrated to propertyCache. Once we migrate all cache to
  // propertyCache, this hardcoded list of fields won't be necessary.
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_messageQueueMonitor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  // true if all partition state are "clean" as same after reset()
  private volatile boolean _isCleanState = true;
  private MessageQueueMonitor _messageQueueMonitor;
  private GenericHelixController _controller;
  private Long _lastSessionSyncTime;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_lastSessionSyncTime` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  private MessageQueueMonitor _messageQueueMonitor;
  private GenericHelixController _controller;
  private Long _lastSessionSyncTime;
  private String _freezeSessionId;
  private LiveInstanceStatus _liveInstanceStatus;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  }

  private static Logger LOG = LoggerFactory.getLogger(HelixTaskExecutor.class);

  private static AtomicLong thread_uid = new AtomicLong(0);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_helixControllerFactory` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
   */
  /* Map of cluster->Set of GenericHelixController*/
  private static Map<String, ImmutableSet<GenericHelixController>> _helixControllerFactory =
      new ConcurrentHashMap<>();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_isMonitoring` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  // By default not reporting status until controller status is changed to activate
  // TODO This flag should be inside ClusterStatusMonitor. When false, no MBean registering.
  private boolean _isMonitoring = false;
  private final ClusterStatusMonitor _clusterStatusMonitor;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_timerPeriod` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      Executors.newSingleThreadScheduledExecutor();
  private ScheduledFuture _periodicRebalanceFutureTask = null;
  long _timerPeriod = Long.MAX_VALUE;

  /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_taskDataCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterDataCache.java`
#### Snippet
```java
  private IdealStateCache _idealStateCache;
  private CurrentStateCache _currentStateCache;
  private TaskDataCache _taskDataCache;
  private InstanceMessagesCache _instanceMessagesCache;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_isTaskCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterDataCache.java`
#### Snippet
```java
  private Map<ChangeType, Boolean> _propertyDataChangedMap;

  boolean _isTaskCache;
  private String _clusterName;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_rebalanceAlgorithm` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
  // Note, the rebalance algorithm field is mutable so it should not be directly referred except for
  // the public method computeNewIdealStates.
  private RebalanceAlgorithm _rebalanceAlgorithm;
  private Map<ClusterConfig.GlobalRebalancePreferenceKey, Integer> _preference = NOT_CONFIGURED_PREFERENCE;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_existsLiveInstanceOrCurrentStateOrMessageChange` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
  // For detecting live instance and target resource partition state change in task assignment
  // Used in AbstractTaskDispatcher
  private boolean _existsLiveInstanceOrCurrentStateOrMessageChange = false;

  public WorkflowControllerDataProvider() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_taskDataCache` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
  private static final String PIPELINE_NAME = Pipeline.Type.TASK.name();

  private TaskDataCache _taskDataCache;
  private Map<String, Integer> _participantActiveTaskCount;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_aggregationEnabledTypes` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java
  // Maintain a set of all ChangeTypes for change detection
  private Set<HelixConstants.ChangeType> _refreshedChangeTypes;
  private Set<String> _aggregationEnabledTypes = new HashSet<>();

  // CrushEd strategy needs to have a stable partition list input. So this cached list persist the
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_refreshedChangeTypes` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java

  // Maintain a set of all ChangeTypes for change detection
  private Set<HelixConstants.ChangeType> _refreshedChangeTypes;
  private Set<String> _aggregationEnabledTypes = new HashSet<>();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_hasMaintenanceSignalChanged` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
  private PauseSignal _pauseSignal;
  private boolean _isMaintenanceModeEnabled;
  private boolean _hasMaintenanceSignalChanged;
  private ExecutorService _asyncTasksThreadPool;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_isMaintenanceModeEnabled` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
  private MaintenanceSignal _maintenanceSignal;
  private PauseSignal _pauseSignal;
  private boolean _isMaintenanceModeEnabled;
  private boolean _hasMaintenanceSignalChanged;
  private ExecutorService _asyncTasksThreadPool;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_propertyDataChangedMap` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  // A map recording what data has changed
  protected Map<HelixConstants.ChangeType, AtomicBoolean> _propertyDataChangedMap;

  // Property caches
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_maintenanceSignal` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  private boolean _updateInstanceOfflineTime = true;
  private MaintenanceSignal _maintenanceSignal;
  private PauseSignal _pauseSignal;
  private boolean _isMaintenanceModeEnabled;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_clusterConfig` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
  private final String _pipelineName;
  private String _clusterEventId = AbstractDataCache.UNKNOWN_EVENT_ID;
  private ClusterConfig _clusterConfig;

  private boolean _updateInstanceOfflineTime = true;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_pauseSignal` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
  private boolean _updateInstanceOfflineTime = true;
  private MaintenanceSignal _maintenanceSignal;
  private PauseSignal _pauseSignal;
  private boolean _isMaintenanceModeEnabled;
  private boolean _hasMaintenanceSignalChanged;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_liveInstanceExcludeTimedOutForMaintenance` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
  private final Map<String, MonitoredAbnormalResolver> _abnormalStateResolverMap = new HashMap<>();
  private final Set<String> _timedOutInstanceDuringMaintenance = new HashSet<>();
  private Map<String, LiveInstance> _liveInstanceExcludeTimedOutForMaintenance = new HashMap<>();

  public BaseControllerDataProvider() {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_instanceOfflineTimeMap` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  // Other miscellaneous caches
  private Map<String, Long> _instanceOfflineTimeMap;
  private Map<String, Map<String, String>> _idealStateRuleMap;
  private final Map<String, Map<String, Set<String>>> _disabledInstanceForPartitionMap = new HashMap<>();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_messageMonitor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ParticipantStatusMonitor.java`
#### Snippet
```java
  private final String _instanceName;
  private MBeanServer _beanServer;
  private ParticipantMessageMonitor _messageMonitor;
  private MessageLatencyMonitor _messageLatencyMonitor;
  private Map<String, ThreadPoolExecutorMonitor> _executorMonitors;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_messageLatencyMonitor` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ParticipantStatusMonitor.java`
#### Snippet
```java
  private MBeanServer _beanServer;
  private ParticipantMessageMonitor _messageMonitor;
  private MessageLatencyMonitor _messageLatencyMonitor;
  private Map<String, ThreadPoolExecutorMonitor> _executorMonitors;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_oldSnapshot` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeDetector.java`
#### Snippet
```java

  private final boolean _ignoreNonTopologyChange;
  private ResourceChangeSnapshot _oldSnapshot; // snapshot for previous pipeline run
  private ResourceChangeSnapshot _newSnapshot; // snapshot for this pipeline run

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_newSnapshot` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeDetector.java`
#### Snippet
```java
  private final boolean _ignoreNonTopologyChange;
  private ResourceChangeSnapshot _oldSnapshot; // snapshot for previous pipeline run
  private ResourceChangeSnapshot _newSnapshot; // snapshot for this pipeline run

  // The following caches the computation results
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_enabledStatusGauge` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java

  // Gauges
  private SimpleDynamicMetric<Long> _enabledStatusGauge;
  private SimpleDynamicMetric<Long> _disabledPartitionsGauge;
  private SimpleDynamicMetric<Long> _onlineStatusGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_onlineStatusGauge` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _enabledStatusGauge;
  private SimpleDynamicMetric<Long> _disabledPartitionsGauge;
  private SimpleDynamicMetric<Long> _onlineStatusGauge;
  private SimpleDynamicMetric<Double> _maxCapacityUsageGauge;
  private SimpleDynamicMetric<Long> _messageQueueSizeGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_messageQueueSizeGauge` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _onlineStatusGauge;
  private SimpleDynamicMetric<Double> _maxCapacityUsageGauge;
  private SimpleDynamicMetric<Long> _messageQueueSizeGauge;
  private SimpleDynamicMetric<Long> _pastDueMessageGauge;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_totalMessagedReceivedCounter` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java

  // Counters
  private SimpleDynamicMetric<Long> _totalMessagedReceivedCounter;

  // Gauges
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_tags` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
  private final ObjectName _initObjectName;

  private List<String> _tags;

  // Counters
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_pastDueMessageGauge` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Double> _maxCapacityUsageGauge;
  private SimpleDynamicMetric<Long> _messageQueueSizeGauge;
  private SimpleDynamicMetric<Long> _pastDueMessageGauge;

  // A map of dynamic capacity Gauges. The map's keys could change.
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_maxCapacityUsageGauge` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _disabledPartitionsGauge;
  private SimpleDynamicMetric<Long> _onlineStatusGauge;
  private SimpleDynamicMetric<Double> _maxCapacityUsageGauge;
  private SimpleDynamicMetric<Long> _messageQueueSizeGauge;
  private SimpleDynamicMetric<Long> _pastDueMessageGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_disabledPartitionsGauge` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
  // Gauges
  private SimpleDynamicMetric<Long> _enabledStatusGauge;
  private SimpleDynamicMetric<Long> _disabledPartitionsGauge;
  private SimpleDynamicMetric<Long> _onlineStatusGauge;
  private SimpleDynamicMetric<Double> _maxCapacityUsageGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_partitions` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/PerInstanceResourceMonitor.java`
#### Snippet
```java
  private final String _participantName;
  private final String _resourceName;
  private SimpleDynamicMetric<Long> _partitions;

  public PerInstanceResourceMonitor(String clusterName, String participantName,
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_tags` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/PerInstanceResourceMonitor.java`
#### Snippet
```java

  private final String _clusterName;
  private List<String> _tags;
  private final String _participantName;
  private final String _resourceName;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_lastEmittedMetricValue` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/implementation/RebalanceLatencyGauge.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(RebalanceLatencyGauge.class);
  private static final long VALUE_NOT_SET = -1;
  private long _lastEmittedMetricValue = VALUE_NOT_SET;
  // Use threadlocal here so the start time can be updated and recorded in multi-threads.
  private final ThreadLocal<Long> _startTime;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_totalMessageReceived` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _maxSinglePartitionTopStateHandoffDuration;
  @Deprecated
  private SimpleDynamicMetric<Long> _totalMessageReceived; // This should be counter since the value behavior is ever-increasing
  private SimpleDynamicMetric<Long> _totalMessageReceivedCounter;
  // Histograms
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_totalMessageReceivedCounter` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
  @Deprecated
  private SimpleDynamicMetric<Long> _totalMessageReceived; // This should be counter since the value behavior is ever-increasing
  private SimpleDynamicMetric<Long> _totalMessageReceivedCounter;
  // Histograms
  private HistogramDynamicMetric _partitionTopStateHandoffDurationGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_instanceName` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportCollectorImpl.java`
#### Snippet
```java
      .getLogger(ParticipantHealthReportCollectorImpl.class);
  private final HelixManager _helixManager;
  String _instanceName;

  public ParticipantHealthReportCollectorImpl(HelixManager helixManager, String instanceName) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `logger` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
@StateModelInfo(initialState = "OFFLINE", states = {"LEADER", "STANDBY"})
public class DistClusterControllerStateModel extends AbstractHelixLeaderStandbyStateModel {
  private static Logger logger = LoggerFactory.getLogger(DistClusterControllerStateModel.class);
  protected Optional<HelixManager> _controllerOpt = Optional.empty();
  private final Set<Pipeline.Type> _enabledPipelineTypes;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_controllerOpt` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
public class DistClusterControllerStateModel extends AbstractHelixLeaderStandbyStateModel {
  private static Logger logger = LoggerFactory.getLogger(DistClusterControllerStateModel.class);
  protected Optional<HelixManager> _controllerOpt = Optional.empty();
  private final Set<Pipeline.Type> _enabledPipelineTypes;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `cache` is accessed in both synchronized and unsynchronized contexts
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscovery.java`
#### Snippet
```java
  private final String cluster;
  private HelixManager admin;
  List<ServiceMetadata> cache;
  static int DEFAULT_POLL_INTERVAL = 30 * 1000; // in ms
  private final Mode mode;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_routingDataUpdateInterval` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java

  // Interval value used to throttle reset()
  private long _routingDataUpdateInterval;

  // Singleton instance; volatile for multithread safety
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_defaultMsdsEndpoint` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java

  /** HTTP call to MSDS is used to fetch routing data by default */
  private String _defaultMsdsEndpoint =
      System.getProperty(MetadataStoreRoutingConstants.MSDS_SERVER_ENDPOINT_KEY);

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `LOG` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java
 */
public class RoutingDataManager {
  private static Logger LOG = LoggerFactory.getLogger(RoutingDataManager.class);

  /** HTTP call to MSDS is used to fetch routing data by default */
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_znodeCompressCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _dataChangeEventCounter;
  private SimpleDynamicMetric<Long> _outstandingRequestGauge;
  private SimpleDynamicMetric<Long> _znodeCompressCounter;

  private ZkThreadMetric _zkEventThreadMetric;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_expiredSessionCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  private SimpleDynamicMetric<Long> _stateChangeEventCounter;
  private SimpleDynamicMetric<Long> _expiredSessionCounter;
  private SimpleDynamicMetric<Long> _dataChangeEventCounter;
  private SimpleDynamicMetric<Long> _outstandingRequestGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_zkEventThreadMetric` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _znodeCompressCounter;

  private ZkThreadMetric _zkEventThreadMetric;

  private Map<ZkClientPathMonitor.PredefinedPath, ZkClientPathMonitor> _zkClientPathMonitorMap =
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_outstandingRequestGauge` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _expiredSessionCounter;
  private SimpleDynamicMetric<Long> _dataChangeEventCounter;
  private SimpleDynamicMetric<Long> _outstandingRequestGauge;
  private SimpleDynamicMetric<Long> _znodeCompressCounter;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_dataChangeEventCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _stateChangeEventCounter;
  private SimpleDynamicMetric<Long> _expiredSessionCounter;
  private SimpleDynamicMetric<Long> _dataChangeEventCounter;
  private SimpleDynamicMetric<Long> _outstandingRequestGauge;
  private SimpleDynamicMetric<Long> _znodeCompressCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_stateChangeEventCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  private boolean _monitorRootOnly;

  private SimpleDynamicMetric<Long> _stateChangeEventCounter;
  private SimpleDynamicMetric<Long> _expiredSessionCounter;
  private SimpleDynamicMetric<Long> _dataChangeEventCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_retryContexts` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncRetryThread.java`
#### Snippet
```java
public class ZkAsyncRetryThread extends Thread {
  private static Logger LOG = LoggerFactory.getLogger(ZkAsyncRetryThread.class);
  private BlockingQueue<ZkAsyncRetryCallContext> _retryContexts = new LinkedBlockingQueue<>();
  private volatile boolean _isReady = true;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readAsyncFailureCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _readFailureCounter;
  private SimpleDynamicMetric<Long> _writeFailureCounter;
  private SimpleDynamicMetric<Long> _readAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _writeAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _readTotalLatencyCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeTotalLatencyCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _writeAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _readTotalLatencyCounter;
  private SimpleDynamicMetric<Long> _writeTotalLatencyCounter;

  private HistogramDynamicMetric _readLatencyGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readBytesCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _readAsyncCounter;
  private SimpleDynamicMetric<Long> _writeAsyncCounter;
  private SimpleDynamicMetric<Long> _readBytesCounter;
  private SimpleDynamicMetric<Long> _writeBytesCounter;
  private SimpleDynamicMetric<Long> _readFailureCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java

  private SimpleDynamicMetric<Long> _readCounter;
  private SimpleDynamicMetric<Long> _writeCounter;
  private SimpleDynamicMetric<Long> _readAsyncCounter;
  private SimpleDynamicMetric<Long> _writeAsyncCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeBytesCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _writeAsyncCounter;
  private SimpleDynamicMetric<Long> _readBytesCounter;
  private SimpleDynamicMetric<Long> _writeBytesCounter;
  private SimpleDynamicMetric<Long> _readFailureCounter;
  private SimpleDynamicMetric<Long> _writeFailureCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeAsyncCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _writeCounter;
  private SimpleDynamicMetric<Long> _readAsyncCounter;
  private SimpleDynamicMetric<Long> _writeAsyncCounter;
  private SimpleDynamicMetric<Long> _readBytesCounter;
  private SimpleDynamicMetric<Long> _writeBytesCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readTotalLatencyCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _readAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _writeAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _readTotalLatencyCounter;
  private SimpleDynamicMetric<Long> _writeTotalLatencyCounter;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeLatencyGauge` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java

  private HistogramDynamicMetric _readLatencyGauge;
  private HistogramDynamicMetric _writeLatencyGauge;
  private HistogramDynamicMetric _readBytesGauge;
  private HistogramDynamicMetric _writeBytesGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeBytesGauge` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private HistogramDynamicMetric _writeLatencyGauge;
  private HistogramDynamicMetric _readBytesGauge;
  private HistogramDynamicMetric _writeBytesGauge;
  private HistogramDynamicMetric _dataPropagationLatencyGauge;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeFailureCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _writeBytesCounter;
  private SimpleDynamicMetric<Long> _readFailureCounter;
  private SimpleDynamicMetric<Long> _writeFailureCounter;
  private SimpleDynamicMetric<Long> _readAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _writeAsyncFailureCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readFailureCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _readBytesCounter;
  private SimpleDynamicMetric<Long> _writeBytesCounter;
  private SimpleDynamicMetric<Long> _readFailureCounter;
  private SimpleDynamicMetric<Long> _writeFailureCounter;
  private SimpleDynamicMetric<Long> _readAsyncFailureCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readAsyncCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _readCounter;
  private SimpleDynamicMetric<Long> _writeCounter;
  private SimpleDynamicMetric<Long> _readAsyncCounter;
  private SimpleDynamicMetric<Long> _writeAsyncCounter;
  private SimpleDynamicMetric<Long> _readBytesCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readLatencyGauge` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _writeTotalLatencyCounter;

  private HistogramDynamicMetric _readLatencyGauge;
  private HistogramDynamicMetric _writeLatencyGauge;
  private HistogramDynamicMetric _readBytesGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  }

  private SimpleDynamicMetric<Long> _readCounter;
  private SimpleDynamicMetric<Long> _writeCounter;
  private SimpleDynamicMetric<Long> _readAsyncCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_readBytesGauge` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private HistogramDynamicMetric _readLatencyGauge;
  private HistogramDynamicMetric _writeLatencyGauge;
  private HistogramDynamicMetric _readBytesGauge;
  private HistogramDynamicMetric _writeBytesGauge;
  private HistogramDynamicMetric _dataPropagationLatencyGauge;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_writeAsyncFailureCounter` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _writeFailureCounter;
  private SimpleDynamicMetric<Long> _readAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _writeAsyncFailureCounter;
  private SimpleDynamicMetric<Long> _readTotalLatencyCounter;
  private SimpleDynamicMetric<Long> _writeTotalLatencyCounter;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_isOperationDone` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
   */
  public static abstract class DefaultCallback implements CancellableZkAsyncCallback {
    AtomicBoolean _isOperationDone = new AtomicBoolean(false);
    int _rc = KeeperException.Code.APIERROR.intValue();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_totalPastDueMsgSize` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private AtomicLong _totalMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _maxInstanceMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _totalPastDueMsgSize = new AtomicLong(0L);
  private boolean _rebalanceFailure = false;
  private AtomicLong _rebalanceFailureCount = new AtomicLong(0L);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_liveInstances` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private boolean _paused = false;

  private Set<String> _liveInstances = Collections.emptySet();
  private Set<String> _instances = Collections.emptySet();
  private Set<String> _disabledInstances = Collections.emptySet();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_totalMsgQueueSize` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private Map<String, Map<String, List<String>>> _disabledPartitions = Collections.emptyMap();
  private Map<String, List<String>> _oldDisabledPartitions = Collections.emptyMap();
  private AtomicLong _totalMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _maxInstanceMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _totalPastDueMsgSize = new AtomicLong(0L);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_disabledPartitions` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private Set<String> _instances = Collections.emptySet();
  private Set<String> _disabledInstances = Collections.emptySet();
  private Map<String, Map<String, List<String>>> _disabledPartitions = Collections.emptyMap();
  private Map<String, List<String>> _oldDisabledPartitions = Collections.emptyMap();
  private AtomicLong _totalMsgQueueSize = new AtomicLong(0L);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_disabledInstances` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private Set<String> _liveInstances = Collections.emptySet();
  private Set<String> _instances = Collections.emptySet();
  private Set<String> _disabledInstances = Collections.emptySet();
  private Map<String, Map<String, List<String>>> _disabledPartitions = Collections.emptyMap();
  private Map<String, List<String>> _oldDisabledPartitions = Collections.emptyMap();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_oldDisabledPartitions` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private Set<String> _disabledInstances = Collections.emptySet();
  private Map<String, Map<String, List<String>>> _disabledPartitions = Collections.emptyMap();
  private Map<String, List<String>> _oldDisabledPartitions = Collections.emptyMap();
  private AtomicLong _totalMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _maxInstanceMsgQueueSize = new AtomicLong(0L);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_instances` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

  private Set<String> _liveInstances = Collections.emptySet();
  private Set<String> _instances = Collections.emptySet();
  private Set<String> _disabledInstances = Collections.emptySet();
  private Map<String, Map<String, List<String>>> _disabledPartitions = Collections.emptyMap();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_maxInstanceMsgQueueSize` is accessed in both synchronized and unsynchronized contexts
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private Map<String, List<String>> _oldDisabledPartitions = Collections.emptyMap();
  private AtomicLong _totalMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _maxInstanceMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _totalPastDueMsgSize = new AtomicLong(0L);
  private boolean _rebalanceFailure = false;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `ref` is accessed in both synchronized and unsynchronized contexts
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
  }

  Ref ref = new Ref(new Object());
  Object lock = new Object();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `_pathBasedZkSerializer` is accessed in both synchronized and unsynchronized contexts
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/FederatedZkClient.java`
#### Snippet
```java

  private volatile boolean _isClosed;
  private PathBasedZkSerializer _pathBasedZkSerializer;
  private final boolean _routingDataUpdateOnCacheMissEnabled = Boolean.parseBoolean(
      System.getProperty(RoutingSystemPropertyKeys.UPDATE_ROUTING_DATA_ON_CACHE_MISS));
```

## RuleId[id=EqualsAndHashcode]
### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
 * A wrapper class for ZNRecord. Used as a base class for IdealState, CurrentState, etc.
 */
public class HelixProperty {
  private static final Logger LOG = LoggerFactory.getLogger(HelixProperty.class);

```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `helix-core/src/main/java/org/apache/helix/api/config/ViewClusterSourceConfig.java`
#### Snippet
```java
 */
@JsonIgnoreProperties(ignoreUnknown = true)
public class ViewClusterSourceConfig {
  private static final List<PropertyType> _validPropertyTypes = Collections.unmodifiableList(
      Arrays.asList(PropertyType.INSTANCES, PropertyType.EXTERNALVIEW, PropertyType.LIVEINSTANCES));
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `helix-core/src/main/java/org/apache/helix/task/TaskExecutionInfo.java`
#### Snippet
```java

@JsonIgnoreProperties(ignoreUnknown = true)
public class TaskExecutionInfo {
  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();
  public final static long TIMESTAMP_NOT_SET = -1L;
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
 * Describe the state model
 */
public class StateModelDefinition extends HelixProperty {
  public enum StateModelDefinitionProperty {
    INITIAL_STATE,
```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableReplica.java`
#### Snippet
```java
 *   This could be a tricky fix because this bug/feature is deeply coupled with the existing code logic
 */
public class AssignableReplica implements Comparable<AssignableReplica> {
  private static final Logger LOG = LoggerFactory.getLogger(AssignableReplica.class);

```

### EqualsAndHashcode
Class has `hashCode()` defined but does not define `equals()`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
 * Note that any usage updates to the AssignableNode are not thread safe.
 */
public class AssignableNode implements Comparable<AssignableNode> {
  private static final Logger LOG = LoggerFactory.getLogger(AssignableNode.class.getName());

```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/InstanceNode.java`
#### Snippet
```java
 */

public class InstanceNode extends Node {
  private String _instanceName;

```

### EqualsAndHashcode
Class has `equals()` defined but does not define `hashCode()`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
@JsonIgnoreProperties(ignoreUnknown = true)
@JsonSerialize(include = JsonSerialize.Inclusion.NON_NULL)
public class ZNRecord {
  static Logger _logger = LoggerFactory.getLogger(ZNRecord.class);
  private final String id;
```

## RuleId[id=DuplicateThrows]
### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
  }

  private static void readTransactionLog(String logfilepath) throws FileNotFoundException,
      IOException, EOFException {
    FileInputStream fis = new FileInputStream(logfilepath);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java

  private static void readTransactionLog(String logfilepath) throws FileNotFoundException,
      IOException, EOFException {
    FileInputStream fis = new FileInputStream(logfilepath);
    BinaryInputArchive logStream = BinaryInputArchive.getArchive(fis);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelResource.java`
#### Snippet
```java

  StringRepresentation getStateModelRepresentation(String clusterName, String modelName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelResource.java`
#### Snippet
```java

  StringRepresentation getStateModelRepresentation(String clusterName, String modelName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java

  StringRepresentation getHostedEntitiesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    // Get all resources
    ZkClient zkclient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java

  StringRepresentation getHostedEntitiesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    // Get all resources
    ZkClient zkclient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerStatusUpdateResource.java`
#### Snippet
```java
  StringRepresentation getControllerStatusUpdateRepresentation(String zkServerAddress,
      String clusterName, String sessionId, String messageType, String messageId)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerStatusUpdateResource.java`
#### Snippet
```java
  StringRepresentation getControllerStatusUpdateRepresentation(String zkServerAddress,
      String clusterName, String sessionId, String messageType, String messageId)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStatesResource.java`
#### Snippet
```java

  StringRepresentation getInstanceCurrentStatesRepresentation(String clusterName,
      String instanceName) throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    ;
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStatesResource.java`
#### Snippet
```java

  StringRepresentation getInstanceCurrentStatesRepresentation(String clusterName,
      String instanceName) throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    ;
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java

  StringRepresentation getIdealStateRepresentation(String clusterName, String resourceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java

  StringRepresentation getIdealStateRepresentation(String clusterName, String resourceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  }

  public static String ObjectToJson(Object object) throws JsonGenerationException,
      JsonMappingException, IOException {
    mapper.enable(SerializationFeature.INDENT_OUTPUT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String ObjectToJson(Object object) throws JsonGenerationException,
      JsonMappingException, IOException {
    mapper.enable(SerializationFeature.INDENT_OUTPUT);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String getInstancePropertyAsString(ZkClient zkClient, String clusterName,
      PropertyKey propertyKey, MediaType mediaType) throws JsonGenerationException,
      JsonMappingException, IOException {
    ZKHelixDataAccessor accessor =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getInstancePropertyAsString(ZkClient zkClient, String clusterName,
      PropertyKey propertyKey, MediaType mediaType) throws JsonGenerationException,
      JsonMappingException, IOException {
    ZKHelixDataAccessor accessor =
        new ZKHelixDataAccessor(clusterName, new ZkBaseDataAccessor<ZNRecord>(zkClient));
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String getPropertyAsString(ZkClient zkClient, String clusterName,
      PropertyKey propertyKey, MediaType mediaType) throws JsonGenerationException,
      JsonMappingException, IOException {
    ZKHelixDataAccessor accessor =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getPropertyAsString(ZkClient zkClient, String clusterName,
      PropertyKey propertyKey, MediaType mediaType) throws JsonGenerationException,
      JsonMappingException, IOException {
    ZKHelixDataAccessor accessor =
        new ZKHelixDataAccessor(clusterName, new ZkBaseDataAccessor<ZNRecord>(zkClient));
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String ZNRecordToJson(ZNRecord record)
      throws JsonGenerationException, JsonMappingException, IOException {
    return ObjectToJson(record);
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String ZNRecordToJson(ZNRecord record)
      throws JsonGenerationException, JsonMappingException, IOException {
    return ObjectToJson(record);
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static <T extends Object> T getFormJsonParameters(Class<T> clazz, Form form, String key)
      throws JsonParseException, JsonMappingException, IOException {
    return JsonToObject(clazz, form.getFirstValue(key, true));
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static <T extends Object> T getFormJsonParameters(Class<T> clazz, Form form, String key)
      throws JsonParseException, JsonMappingException, IOException {
    return JsonToObject(clazz, form.getFirstValue(key, true));
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getInstancePropertyNameListAsString(ZkClient zkClient, String clusterName,
      String instanceName, PropertyType instanceProperty, String key, MediaType mediaType)
      throws JsonGenerationException, JsonMappingException, IOException {
    String path = PropertyPathBuilder.instanceProperty(clusterName, instanceName, instanceProperty, key);
    if (zkClient.exists(path)) {
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getInstancePropertyNameListAsString(ZkClient zkClient, String clusterName,
      String instanceName, PropertyType instanceProperty, String key, MediaType mediaType)
      throws JsonGenerationException, JsonMappingException, IOException {
    String path = PropertyPathBuilder.instanceProperty(clusterName, instanceName, instanceProperty, key);
    if (zkClient.exists(path)) {
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  }

  public static Map<String, String> getFormJsonParameters(Form form) throws JsonParseException,
      JsonMappingException, IOException {
    String jsonPayload = form.getFirstValue(JsonParameters.JSON_PARAMETERS, true);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static Map<String, String> getFormJsonParameters(Form form) throws JsonParseException,
      JsonMappingException, IOException {
    String jsonPayload = form.getFirstValue(JsonParameters.JSON_PARAMETERS, true);
    return ClusterRepresentationUtil.JsonToMap(jsonPayload);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
      PropertyKey propertyKey, MediaType mediaType)

  throws JsonGenerationException, JsonMappingException, IOException {
    return getClusterPropertyAsString(zkClient, clusterName, mediaType, propertyKey);
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
      PropertyKey propertyKey, MediaType mediaType)

  throws JsonGenerationException, JsonMappingException, IOException {
    return getClusterPropertyAsString(zkClient, clusterName, mediaType, propertyKey);
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static Map<String, String> getFormJsonParameters(Form form, String key)
      throws JsonParseException, JsonMappingException, IOException {
    String jsonPayload = form.getFirstValue(key, true);
    return ClusterRepresentationUtil.JsonToMap(jsonPayload);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static Map<String, String> getFormJsonParameters(Form form, String key)
      throws JsonParseException, JsonMappingException, IOException {
    String jsonPayload = form.getFirstValue(key, true);
    return ClusterRepresentationUtil.JsonToMap(jsonPayload);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  }

  public static String getFormJsonParameterString(Form form, String key) throws JsonParseException,
      JsonMappingException, IOException {
    return form.getFirstValue(key, true);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String getFormJsonParameterString(Form form, String key) throws JsonParseException,
      JsonMappingException, IOException {
    return form.getFirstValue(key, true);
  }
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  }

  public static Map<String, String> JsonToMap(String jsonString) throws JsonParseException,
      JsonMappingException, IOException {
    StringReader sr = new StringReader(jsonString);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static Map<String, String> JsonToMap(String jsonString) throws JsonParseException,
      JsonMappingException, IOException {
    StringReader sr = new StringReader(jsonString);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getInstancePropertiesAsString(ZkClient zkClient, String clusterName,
      PropertyKey propertyKey, MediaType mediaType)
      throws JsonGenerationException, JsonMappingException, IOException {
    zkClient.setZkSerializer(new ZNRecordSerializer());
    ZKHelixDataAccessor accessor =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getInstancePropertiesAsString(ZkClient zkClient, String clusterName,
      PropertyKey propertyKey, MediaType mediaType)
      throws JsonGenerationException, JsonMappingException, IOException {
    zkClient.setZkSerializer(new ZNRecordSerializer());
    ZKHelixDataAccessor accessor =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static <T extends Object> T JsonToObject(Class<T> clazz, String jsonString)
      throws JsonParseException, JsonMappingException, IOException {
    StringReader sr = new StringReader(jsonString);
    return mapper.readValue(sr, clazz);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static <T extends Object> T JsonToObject(Class<T> clazz, String jsonString)
      throws JsonParseException, JsonMappingException, IOException {
    StringReader sr = new StringReader(jsonString);
    return mapper.readValue(sr, clazz);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java

  public static String getClusterPropertyAsString(ZkClient zkClient, String clusterName,
      MediaType mediaType, PropertyKey propertyKey) throws JsonGenerationException,
      JsonMappingException, IOException {

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  public static String getClusterPropertyAsString(ZkClient zkClient, String clusterName,
      MediaType mediaType, PropertyKey propertyKey) throws JsonGenerationException,
      JsonMappingException, IOException {

    ZKHelixDataAccessor accessor =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorsResource.java`
#### Snippet
```java

  StringRepresentation getInstanceErrorsRepresentation(String clusterName, String instanceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    ;
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorsResource.java`
#### Snippet
```java

  StringRepresentation getInstanceErrorsRepresentation(String clusterName, String instanceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    ;
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorResource.java`
#### Snippet
```java

  StringRepresentation getInstanceErrorsRepresentation(String clusterName, String instanceName,
      String resourceGroup) throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    String instanceSessionId =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorResource.java`
#### Snippet
```java

  StringRepresentation getInstanceErrorsRepresentation(String clusterName, String instanceName,
      String resourceGroup) throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    String instanceSessionId =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdateResource.java`
#### Snippet
```java

  StringRepresentation getInstanceStatusUpdateRepresentation(String clusterName,
      String instanceName, String resourceGroup) throws JsonGenerationException,
      JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdateResource.java`
#### Snippet
```java
  StringRepresentation getInstanceStatusUpdateRepresentation(String clusterName,
      String instanceName, String resourceGroup) throws JsonGenerationException,
      JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ExternalViewResource.java`
#### Snippet
```java

  StringRepresentation getExternalViewRepresentation(String clusterName, String resourceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkclient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ExternalViewResource.java`
#### Snippet
```java

  StringRepresentation getExternalViewRepresentation(String clusterName, String resourceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkclient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java

  StringRepresentation getControllerRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkClient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java

  StringRepresentation getControllerRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkClient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java

  StringRepresentation getHostedEntitiesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    // Get all resources
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java

  StringRepresentation getHostedEntitiesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    // Get all resources
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java

  StringRepresentation getInstancesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java

  StringRepresentation getInstancesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);

```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java

  StringRepresentation getInstanceRepresentation()
      throws JsonGenerationException, JsonMappingException, IOException {
    String clusterName =
        ResourceUtil.getAttributeFromRequest(getRequest(), ResourceUtil.RequestKey.CLUSTER_NAME);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java

  StringRepresentation getInstanceRepresentation()
      throws JsonGenerationException, JsonMappingException, IOException {
    String clusterName =
        ResourceUtil.getAttributeFromRequest(getRequest(), ResourceUtil.RequestKey.CLUSTER_NAME);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java
  }

  StringRepresentation getStateModelsRepresentation() throws JsonGenerationException,
      JsonMappingException, IOException {
    String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java

  StringRepresentation getStateModelsRepresentation() throws JsonGenerationException,
      JsonMappingException, IOException {
    String clusterName = (String) getRequest().getAttributes().get("clusterName");
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java

  StringRepresentation getClustersRepresentation()
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient =
        ResourceUtil.getAttributeFromCtx(getContext(), ResourceUtil.ContextKey.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java

  StringRepresentation getClustersRepresentation()
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient =
        ResourceUtil.getAttributeFromCtx(getContext(), ResourceUtil.ContextKey.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterResource.java`
#### Snippet
```java
  }

  StringRepresentation getClusterRepresentation(String clusterName) throws JsonGenerationException,
                                                                           JsonMappingException, IOException {
    ZkClient zkClient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterResource.java`
#### Snippet
```java

  StringRepresentation getClusterRepresentation(String clusterName) throws JsonGenerationException,
                                                                           JsonMappingException, IOException {
    ZkClient zkClient =
        ResourceUtil.getAttributeFromCtx(getContext(), ResourceUtil.ContextKey.ZKCLIENT);
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java

  StringRepresentation getIdealStateRepresentation(String clusterName, String resourceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkclient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java

  StringRepresentation getIdealStateRepresentation(String clusterName, String resourceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    Builder keyBuilder = new PropertyKey.Builder(clusterName);
    ZkClient zkclient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java

  StringRepresentation getHostedEntitiesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    // Get all resources
    ZkClient zkClient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java

  StringRepresentation getHostedEntitiesRepresentation(String clusterName)
      throws JsonGenerationException, JsonMappingException, IOException {
    // Get all resources
    ZkClient zkClient =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdatesResource.java`
#### Snippet
```java

  StringRepresentation getInstanceErrorsRepresentation(String clusterName, String instanceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    String instanceSessionId =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdatesResource.java`
#### Snippet
```java

  StringRepresentation getInstanceErrorsRepresentation(String clusterName, String instanceName)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    String instanceSessionId =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStateResource.java`
#### Snippet
```java
  StringRepresentation getInstanceCurrentStateRepresentation(String clusterName,
      String instanceName, String resourceGroup)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getRequest().getAttributes().get(RestAdminApplication.ZKCLIENT);
    String instanceSessionId =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStateResource.java`
#### Snippet
```java
  StringRepresentation getInstanceCurrentStateRepresentation(String clusterName,
      String instanceName, String resourceGroup)
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getRequest().getAttributes().get(RestAdminApplication.ZKCLIENT);
    String instanceSessionId =
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java

  StringRepresentation getSchedulerTasksRepresentation()
      throws JsonGenerationException, JsonMappingException, IOException {
    String clusterName = (String) getRequest().getAttributes().get("clusterName");
    String instanceName = (String) getRequest().getAttributes().get("instanceName");
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java

  StringRepresentation getSchedulerTasksRepresentation()
      throws JsonGenerationException, JsonMappingException, IOException {
    String clusterName = (String) getRequest().getAttributes().get("clusterName");
    String instanceName = (String) getRequest().getAttributes().get("instanceName");
```

### DuplicateThrows
There is a more general exception, 'java.lang.Exception', in the throws list already.
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java

  private static void demo(String clusterName, String zkAddress, String serviceName,
      int numServices, Mode mode) throws Exception, UnknownHostException {
    System.out.println("START:Service discovery demo mode:" + mode);
    ServiceDiscovery serviceDiscovery = new ServiceDiscovery(zkAddress, clusterName, mode);
```

## RuleId[id=SynchronizeOnThis]
### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/client/CustomRestClientFactory.java`
#### Snippet
```java
  public static CustomRestClient get() {
    if (INSTANCE == null) {
      synchronized (CustomRestClientFactory.class) {
        if (INSTANCE == null) {
          try {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
    HelixDataAccessor dataAccessor = _helixDataAccessorPool.get(clusterName);
    if (dataAccessor == null) {
      synchronized (this) {
        if (!_helixDataAccessorPool.containsKey(clusterName)) {
          ZkBaseDataAccessor<ZNRecord> baseDataAccessor =
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  public RealmAwareZkClient getByteArrayRealmAwareZkClient() {
    if (_byteArrayZkClient == null) {
      synchronized (this) {
        if (_byteArrayZkClient == null) {
          _byteArrayZkClient = createRealmAwareZkClient(new ByteArraySerializer());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
    TaskDriver taskDriver = _taskDriverPool.get(clusterName);
    if (taskDriver == null) {
      synchronized (this) {
        if (!_taskDriverPool.containsKey(clusterName)) {
          _taskDriverPool.put(clusterName, new TaskDriver(getRealmAwareZkClient(), clusterName));
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  public BaseDataAccessor<byte[]> getByteArrayZkBaseDataAccessor() {
    if (_byteArrayZkBaseDataAccessor == null) {
      synchronized (this) {
        if (_byteArrayZkBaseDataAccessor == null) {
          _byteArrayZkBaseDataAccessor = new ZkBaseDataAccessor<>(getByteArrayRealmAwareZkClient());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  public ClusterSetup getClusterSetup() {
    if (_clusterSetup == null) {
      synchronized (this) {
        if (_clusterSetup == null) {
          _clusterSetup = new ClusterSetup(getRealmAwareZkClient(), getHelixAdmin());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  public ConfigAccessor getConfigAccessor() {
    if (_configAccessor == null) {
      synchronized (this) {
        if (_configAccessor == null) {
          _configAccessor = new ConfigAccessor(getRealmAwareZkClient());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
   */
  private void resetZkResources() {
    synchronized (this) {
      LOG.info("ServerContext: Resetting ZK resources due to routing data change! Routing ZK: {}",
          _zkAddr);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
    // ZkBucketDataAccessor constructor will handle realmZK case (when _zkAddr is null)
    if (_zkBucketDataAccessor == null) {
      synchronized (this) {
        if (_zkBucketDataAccessor == null) {
          _zkBucketDataAccessor = new ZkBucketDataAccessor(getByteArrayRealmAwareZkClient());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  public HelixAdmin getHelixAdmin() {
    if (_zkHelixAdmin == null) {
      synchronized (this) {
        if (_zkHelixAdmin == null) {
          _zkHelixAdmin = new ZKHelixAdmin(getRealmAwareZkClient());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/server/ServerContext.java`
#### Snippet
```java
  public RealmAwareZkClient getRealmAwareZkClient() {
    if (_zkClient == null) {
      synchronized (this) {
        if (_zkClient == null) {
          _zkClient = createRealmAwareZkClient(new ZNRecordSerializer());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java
  public ZkDistributedLeaderElection(HelixZkClient zkClient, String basePath,
      ZNRecord participantInfo) {
    synchronized (this) {
      if (zkClient == null || zkClient.isClosed()) {
        throw new IllegalArgumentException("ZkClient cannot be null or closed!");
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
          "Failed to delete sharding key: Namespace " + namespace + " is not found!");
    }
    synchronized (this) {
      if (!_routingDataWriterMap.get(namespace).deleteShardingKey(realm, shardingKey)) {
        return false;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
          "Failed to delete metadata store realm: Namespace " + namespace + " is not found!");
    }
    synchronized (this) {
      if (!_routingDataWriterMap.get(namespace).deleteMetadataStoreRealm(realm)) {
        return false;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
          "Failed to set routing data: Namespace " + namespace + " is not found!");
    }
    synchronized (this) {
      if (!_routingDataWriterMap.get(namespace).setRoutingData(routingData)) {
        return false;
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
  public static ZkMetadataStoreDirectory getInstance() {
    if (_zkMetadataStoreDirectoryInstance == null) {
      synchronized (ZkMetadataStoreDirectory.class) {
        if (_zkMetadataStoreDirectoryInstance == null) {
          _zkMetadataStoreDirectoryInstance = new ZkMetadataStoreDirectory();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
          "Failed to add sharding key: Namespace " + namespace + " is not found!");
    }
    synchronized (this) {
      if (_routingDataMap.containsKey(namespace) && _routingDataMap.get(namespace)
          .containsKeyRealmPair(shardingKey, realm)) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/ZkMetadataStoreDirectory.java`
#### Snippet
```java
          "Failed to add metadata store realm: Namespace " + namespace + " is not found!");
    }
    synchronized (this) {
      if (!_routingDataWriterMap.get(namespace).addMetadataStoreRealm(realm)) {
        return false;
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/cloud/event/CloudEventHandlerFactory.java`
#### Snippet
```java
  public static AbstractEventHandler getInstance(String eventHandlerClassName)
      throws ClassNotFoundException, IllegalAccessException, InstantiationException {
    synchronized (CloudEventHandlerFactory.class) {
      AbstractEventHandler instance = INSTANCE_MAP.get(eventHandlerClassName);
      if (instance == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
      // System.out.println("samples:"+_samples);
      if (_samples == _targetSamples) {
        synchronized (JmxDumper.this) {
          _logger.info(_samples + " samples done, exiting...");
          JmxDumper.this.notifyAll();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
        synchronized (JmxDumper.this) {
          _logger.info(_samples + " samples done, exiting...");
          JmxDumper.this.notifyAll();
        }
      }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
    // always overwrite the existing entry in the map in case the entry is different
    _eventMap.put((T) entry.getType(), entry);
    notify();
  }

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
  public synchronized E take() throws InterruptedException {
    while (_eventQueue.isEmpty()) {
      wait();
    }
    Entry entry = _eventQueue.poll();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBucketDataAccessor.java`
#### Snippet
```java
      throw new HelixException(String.format("Failed to delete the bucket data! Path: %s", path));
    }
    synchronized (this) {
      _gcTaskFutureMap.remove(path);
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
    }

    synchronized (this) {
      if (!_expectTypes.contains(type)) {
        logger.warn("Callback handler {} received event in wrong order. Listener: {}, path: {}, "
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    final RealmAwareZkClient newClient = createSingleRealmZkClient();

    synchronized (this) {
      if (_zkclient != null) {
        _zkclient.close();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

  void resetHandlers(boolean isShutdown) {
    synchronized (this) {
      if (_handlers != null) {
        // get a copy of the list and iterate over the copy list
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
      }

      synchronized (this) {
        if (_controller != null) {
          _controller = null;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

  void initHandlers(List<CallbackHandler> handlers) {
    synchronized (this) {
      if (handlers != null) {
        // get a copy of the list and iterate over the copy list
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    PropertyType type = propertyKey.getType();

    synchronized (this) {
      for (CallbackHandler handler : _handlers) {
        // compare property-key path and listener reference
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
        + _clusterName + " by instance: " + _instanceName);

    synchronized (this) {
      List<CallbackHandler> toRemove = new ArrayList<>();
      for (CallbackHandler handler : _handlers) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
        _timer.cancel();
      }
      notifyAll();
    }
  }
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  private static PipelineRegistry createManagementModeRegistry(String pipelineName) {
    logger.info("Creating management mode registry");
    synchronized (GenericHelixController.class) {
      // cluster data cache refresh
      Pipeline dataRefresh = new Pipeline(pipelineName);
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  private static PipelineRegistry createDefaultRegistry(String pipelineName) {
    logger.info("createDefaultRegistry");
    synchronized (GenericHelixController.class) {
      PipelineRegistry registry = new PipelineRegistry();

```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  private static PipelineRegistry createTaskRegistry(String pipelineName) {
    logger.info("createTaskRegistry");
    synchronized (GenericHelixController.class) {
      PipelineRegistry registry = new PipelineRegistry();

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
    if (_globalBaseline == null) {
      // double-checked locking
      synchronized (this) {
        if (_globalBaseline == null) {
          _globalBaseline = fetchAssignmentOrDefault(_baselinePath);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
    if (_bestPossibleAssignment == null) {
      // double-checked locking
      synchronized (this) {
        if (_bestPossibleAssignment == null) {
          _bestPossibleAssignment = fetchAssignmentOrDefault(_bestPossiblePath);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ParticipantStatusMonitor.java`
#### Snippet
```java
    try {
      if (!_monitorMap.containsKey(cxt)) {
        synchronized (this) {
          if (!_monitorMap.containsKey(cxt)) {
            StateTransitionStatMonitor bean =
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/implementation/RebalanceLatencyGauge.java`
#### Snippet
```java
      return;
    }
    synchronized (this) {
      _lastEmittedMetricValue = System.currentTimeMillis() - _startTime.get();
      updateValue(_lastEmittedMetricValue);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscovery.java`
#### Snippet
```java
    }
    // protect against multiple threads updating this
    synchronized (this) {
      cache = services;
    }
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java
        _metadataStoreRoutingDataMap.get(routingDataCacheKey);
    if (metadataStoreRoutingData == null) {
      synchronized (RoutingDataManager.class) {
        metadataStoreRoutingData = _metadataStoreRoutingDataMap.get(routingDataCacheKey);
        if (metadataStoreRoutingData == null) {
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java
  public static RoutingDataManager getInstance() {
    if (_instance == null) {
      synchronized (RoutingDataManager.class) {
        if (_instance == null) {
          _instance = new RoutingDataManager();
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java
    Map<String, List<String>> rawRoutingData = _rawRoutingDataMap.get(routingDataCacheKey);
    if (rawRoutingData == null) {
      synchronized (RoutingDataManager.class) {
        rawRoutingData = _rawRoutingDataMap.get(routingDataCacheKey);
        if (rawRoutingData == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncRetryThread.java`
#### Snippet
```java
      LOG.info("ZkClient AsyncCallback retry thread is interrupted.");
    }
    synchronized (this) {
      // Mark ready to be false, so no new requests will be sent.
      _isReady = false;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/DedicatedZkClient.java`
#### Snippet
```java
      zkRealm = _metadataStoreRoutingData.getMetadataStoreRealm(path);
    } catch (NoSuchElementException e1) {
      synchronized (this) {
        try {
          zkRealm = _metadataStoreRoutingData.getMetadataStoreRealm(path);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/FederatedZkClient.java`
#### Snippet
```java
      zkRealm = _metadataStoreRoutingData.getMetadataStoreRealm(path);
    } catch (NoSuchElementException e1) {
      synchronized (this) {
        try {
          zkRealm = _metadataStoreRoutingData.getMetadataStoreRealm(path);
```

## RuleId[id=DoubleBraceInitialization]
### DoubleBraceInitialization
Double brace initialization
in `helix-rest/src/main/java/org/apache/helix/rest/server/service/ClusterServiceImpl.java`
#### Snippet
```java
          instanceMapByZone.get(zoneId).add(instance);
        } else {
          instanceMapByZone.put(zoneId, new ArrayList<ClusterTopology.Instance>() {
            {
              add(instance);
```

### DoubleBraceInitialization
Double brace initialization
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithmFactory.java`
#### Snippet
```java
 */
public class ConstraintBasedAlgorithmFactory {
  private static final Map<String, Float> MODEL = new HashMap<String, Float>() {
    {
      // The default setting
```

## RuleId[id=UnusedAssignment]
### UnusedAssignment
Variable `contentMap` initializer `Collections.emptyMap()` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/TaskAccessor.java`
#### Snippet
```java
  ) {
    Command cmd;
    Map<String, String> contentMap = Collections.emptyMap();
    try {
      contentMap = OBJECT_MAPPER.readValue(content, new TypeReference<Map<String, String>>() {
```

### UnusedAssignment
Variable `numGroups` initializer `0` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/service/VirtualTopologyGroupService.java`
#### Snippet
```java
    Preconditions.checkArgument(!StringUtils.isEmpty(groupName), "virtualTopologyGroupName cannot be empty!");
    Preconditions.checkArgument(!StringUtils.isEmpty(groupNumberStr), "virtualTopologyGroupNumber cannot be empty!");
    int numGroups = 0;
    try {
      numGroups = Integer.parseInt(groupNumberStr);
```

### UnusedAssignment
Variable `instanceSet` initializer `null` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java
    }

    Set<String> instanceSet = null;
    for (String zone : orderedZones) {
      instanceSet = new TreeSet<>(instances);
```

### UnusedAssignment
Variable `contentMap` initializer `Collections.emptyMap()` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/JobAccessor.java`
#### Snippet
```java
  ) {
    Command cmd;
    Map<String, String> contentMap = Collections.emptyMap();
    try {
      contentMap = OBJECT_MAPPER.readValue(content, new TypeReference<Map<String, String>>() {
```

### UnusedAssignment
Variable `retcode` initializer `true` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java`
#### Snippet
```java
    HelixDataAccessor dataAccessor = getDataAccssor(clusterId);
    PropertyKey key = dataAccessor.keyBuilder().stateModelDef(statemodel);
    boolean retcode = true;
    try {
      retcode = dataAccessor.removeProperty(key);
```

### UnusedAssignment
The value `dataAccessor.setProperty(key, stateModelDefinition)` assigned to `retcode` is never used
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java`
#### Snippet
```java
    boolean retcode = true;
    try {
      retcode = dataAccessor.setProperty(key, stateModelDefinition);
    } catch (Exception e) {
      LOG.error("Failed to set StateModelDefinition key: {}. Exception: {}.", key, e);
```

### UnusedAssignment
Variable `n` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/ExternalCommand.java`
#### Snippet
```java

      byte[] buf = new byte[BUFFER_SIZE];
      int n = 0;
      try {
        while ((n = _in.read(buf)) != -1)
```

### UnusedAssignment
Variable `_rebalanceTimerPeriod` initializer `-1` is redundant
in `helix-core/src/main/java/org/apache/helix/api/config/RebalanceConfig.java`
#### Snippet
```java
  private String _rebalanceStrategy;
  private Boolean _delayRebalanceDisabled;
  private long _rebalanceTimerPeriod = -1;  /* in milliseconds */

  private static final Logger _logger = LoggerFactory.getLogger(RebalanceConfig.class.getName());
```

### UnusedAssignment
Variable `_rebalanceDelay` initializer `DEFAULT_REBALANCE_DELAY` is redundant
in `helix-core/src/main/java/org/apache/helix/api/config/RebalanceConfig.java`
#### Snippet
```java
  private static final int DEFAULT_REBALANCE_DELAY = -1;

  private long _rebalanceDelay = DEFAULT_REBALANCE_DELAY;
  private RebalanceMode _rebalanceMode;
  private String _rebalancerClassName;
```

### UnusedAssignment
Variable `retKeys` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    String zkPath = scope.getZkPath();
    String mapKey = scope.getMapKey();
    List<String> retKeys = null;

    if (scope.isFullKey()) {
```

### UnusedAssignment
The value `_accessor.getProperty(_accessor.keyBuilder().workflowContextZNode(workflowName))` assigned to `workflowContext` is never used
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      jobContext =
          _accessor.getProperty(_accessor.keyBuilder().jobContextZNode(workflowName, jobName));
      workflowContext =
          _accessor.getProperty(_accessor.keyBuilder().workflowContextZNode(workflowName));
      if (!jobContext.getTaskIdPartitionMap().containsKey(taskID)) {
```

### UnusedAssignment
The value `val.a` assigned to `b` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    long y = 1232L;
    Triple val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, a, hash));
    hash = val.c;
```

### UnusedAssignment
The value `val.b` assigned to `x` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    long y = 1232L;
    Triple val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, a, hash));
    hash = val.c;
```

### UnusedAssignment
The value `val.a` assigned to `x` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(x, a, hash));
    x = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, y, hash));
    hash = val.c;
```

### UnusedAssignment
The value `val.b` assigned to `a` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(x, a, hash));
    x = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, y, hash));
    hash = val.c;
```

### UnusedAssignment
The value `val.b` assigned to `a` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    c = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, a, hash));
    y = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
```

### UnusedAssignment
The value `val.a` assigned to `b` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    y = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, c, hash));
    hash = val.c;
```

### UnusedAssignment
The value `val.b` assigned to `x` is never used
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    y = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, c, hash));
    hash = val.c;
```

### UnusedAssignment
Variable `_invalidInstances` initializer `new ArrayList<>()` is redundant
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
  private String[] _topologyKeys;
  private String _faultZoneType;
  private List<String> _invalidInstances = new ArrayList<>();

  public ClusterTrie(final List<String> liveNodes,
```

### UnusedAssignment
Variable `relayStart` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java

    for (int i = 0; i < groups; i++) {
      int relayStart = 0, relayEnd = 0, storageNodeStart = 0, storageNodeEnd = 0;
      if (i < remainder) {
        relayStart = (replica + 1) * i;
```

### UnusedAssignment
Variable `relayEnd` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java

    for (int i = 0; i < groups; i++) {
      int relayStart = 0, relayEnd = 0, storageNodeStart = 0, storageNodeEnd = 0;
      if (i < remainder) {
        relayStart = (replica + 1) * i;
```

### UnusedAssignment
Variable `storageNodeStart` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java

    for (int i = 0; i < groups; i++) {
      int relayStart = 0, relayEnd = 0, storageNodeStart = 0, storageNodeEnd = 0;
      if (i < remainder) {
        relayStart = (replica + 1) * i;
```

### UnusedAssignment
Variable `storageNodeEnd` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java

    for (int i = 0; i < groups; i++) {
      int relayStart = 0, relayEnd = 0, storageNodeStart = 0, storageNodeEnd = 0;
      if (i < remainder) {
        relayStart = (replica + 1) * i;
```

### UnusedAssignment
Variable `totalClusters` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * @var integer
   */
  protected int totalClusters = 0;

  /**
```

### UnusedAssignment
Variable `replicationDegree` initializer `1` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * @var int holds the value for how many replicas to create for an object
   */
  protected int replicationDegree = 1;

  /**
```

### UnusedAssignment
Variable `nodes` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * an array of HashMaps where each HashMap holds the data for a single node
   */
  protected HashMap[] nodes = null;

  /**
```

### UnusedAssignment
Variable `nodeCt` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
    }

    int nodeCt = 0;
    HashMap[] nodeData = null;
    ArrayList<HashMap> tempNodes = new ArrayList<HashMap>();
```

### UnusedAssignment
Variable `nodeData` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java

    int nodeCt = 0;
    HashMap[] nodeData = null;
    ArrayList<HashMap> tempNodes = new ArrayList<HashMap>();
    HashMap<String, Object> subCluster = null, clusterData = null;
```

### UnusedAssignment
Variable `subCluster` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
    HashMap[] nodeData = null;
    ArrayList<HashMap> tempNodes = new ArrayList<HashMap>();
    HashMap<String, Object> subCluster = null, clusterData = null;
    Integer clusterDataList[] = null;
    for (int i = 0; i < totalClusters; i++) {
```

### UnusedAssignment
Variable `clusterData` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
    HashMap[] nodeData = null;
    ArrayList<HashMap> tempNodes = new ArrayList<HashMap>();
    HashMap<String, Object> subCluster = null, clusterData = null;
    Integer clusterDataList[] = null;
    for (int i = 0; i < totalClusters; i++) {
```

### UnusedAssignment
Variable `clusterDataList` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
    ArrayList<HashMap> tempNodes = new ArrayList<HashMap>();
    HashMap<String, Object> subCluster = null, clusterData = null;
    Integer clusterDataList[] = null;
    for (int i = 0; i < totalClusters; i++) {
      subCluster = subClusters[i];
```

### UnusedAssignment
Variable `mean` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java

  public static void printHashRingStat(int[] hashRing) {
    double sum = 0, mean = 0, deviation = 0;
    Map<Integer, Integer> countsMap = new TreeMap<Integer, Integer>();
    for (int i = 0; i < hashRing.length; i++) {
```

### UnusedAssignment
Variable `mean` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java

  static void printArrayStat(int[] vals) {
    double sum = 0, mean = 0, deviation = 0;

    for (int i = 0; i < vals.length; i++) {
```

### UnusedAssignment
Variable `_targetSamples` initializer `-1` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
  PrintWriter _outputFile;
  int _samples = 0;
  int _targetSamples = -1;
  String _jmxUrl;

```

### UnusedAssignment
Variable `numRead` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    DataInputStream dis = new DataInputStream(new FileInputStream(file));
    int read = 0;
    int numRead = 0;
    while (read < bytes.length && (numRead = dis.read(bytes, read, bytes.length - read)) >= 0) {
      read = read + numRead;
```

### UnusedAssignment
Variable `resourceNames` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    if (cmd.hasOption(listResources)) {
      String clusterName = cmd.getOptionValue(listResources);
      List<String> resourceNames = null;
      if (cmd.hasOption(tag)) {
        String tagValue = cmd.getOptionValues(tag)[0];
```

### UnusedAssignment
Variable `index` initializer `-1` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    System.out.println("Uploading " + file.getCanonicalPath() + " to " + zkPath);
    zkPath = zkPath.replaceAll("[/]+", "/");
    int index = -1;
    if (removeSuffix && (index = file.getName().indexOf(".")) > -1) {
      zkPath = zkPath.replaceAll(file.getName().substring(index), "");
```

### UnusedAssignment
Variable `zkCfgFile` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

    String zkCfgDirValue = null;
    String zkCfgFile = null;

    if (cmd.hasOption(zkCfg)) {
```

### UnusedAssignment
The value `Long.parseLong(periodStr)` assigned to `periodValue` is never used
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      if (periodStr != null) {
        try {
          periodValue = Long.parseLong(periodStr);
        } catch (Exception e) {
          System.err.println("Exception in converting " + periodStr
```

### UnusedAssignment
Variable `result` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventThreadPoolFactory.java`
#### Snippet
```java

  private static ThreadPoolExecutor getOrCreateThreadPoolHelper(int hash) {
    ThreadPoolExecutor result = null;
    _lock.writeLock().lock();
    // first check if the key is already in the map
```

### UnusedAssignment
Variable `nMsgsSent` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java

      _logger.info("Scheduler sending message to Controller");
      int nMsgsSent = 0;
      SchedulerAsyncCallback callback = new SchedulerAsyncCallback(_message, _manager);
      if (waitAll) {
```

### UnusedAssignment
Variable `_usesExternalZkClient` initializer `false` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBucketDataAccessor.java`
#### Snippet
```java
  private final ZkBaseDataAccessor<byte[]> _zkBaseDataAccessor;
  private final Map<String, ScheduledFuture> _gcTaskFutureMap = new HashMap<>();
  private boolean _usesExternalZkClient = false;

  /**
```

### UnusedAssignment
Variable `_watchChild` initializer `true` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java

  private AtomicReference<CallbackEventExecutor> _batchCallbackExecutorRef = new AtomicReference<>();
  private boolean _watchChild = true; // Whether we should subscribe to the child znode's data
  // change.

```

### UnusedAssignment
Variable `success` initializer `false` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
    int options = constructOptions(type);

    boolean success = false;
    switch (type) {
    case IDEALSTATES:
```

### UnusedAssignment
Variable `_timeout` initializer `-1` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  private static Logger _logger = LoggerFactory.getLogger(AsyncCallback.class);
  long _startTimeStamp = 0;
  protected long _timeout = -1;
  Timer _timer = null;
  List<Message> _messagesSent;
```

### UnusedAssignment
Variable `scope` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java
    ConfigAccessor configAccessor = _manager.getConfigAccessor();
    if (configAccessor != null) {
      ConfigScope scope = null;

      // Read the participant config and cluster config for the per-message type thread pool size.
```

### UnusedAssignment
Variable `taskResult` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
  @Override
  public HelixTaskResult call() {
    HelixTaskResult taskResult = null;

    ErrorType type = null;
```

### UnusedAssignment
Variable `taskResult` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixBatchMessageTask.java`
#### Snippet
```java
  @Override
  public HelixTaskResult call() throws Exception {
    HelixTaskResult taskResult = null;

    long start = System.currentTimeMillis();
```

### UnusedAssignment
Variable `methodToInvoke` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java

    // by default, we invoke state transition function in state model
    Method methodToInvoke = null;
    String fromState = message.getFromState();
    String toState = message.getToState();
```

### UnusedAssignment
Variable `controllerName` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/HelixControllerMain.java`
#### Snippet
```java
    String clusterName = cmd.getOptionValue(cluster);
    String controllerMode = STANDALONE;
    String controllerName = null;

    if (cmd.hasOption(mode)) {
```

### UnusedAssignment
Variable `numRead` initializer `0` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      dis = new DataInputStream(new FileInputStream(file));
      int read = 0;
      int numRead = 0;
      while (read < bytes.length && (numRead = dis.read(bytes, read, bytes.length - read)) >= 0) {
        read = read + numRead;
```

### UnusedAssignment
Variable `adminName` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    }

    String adminName = null;
    try {
      adminName = InetAddress.getLocalHost().getCanonicalHostName() + "-ADMIN";
```

### UnusedAssignment
Variable `_onDemandRebalanceTimer` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
   * The timer that triggers the on-demand rebalance pipeline.
   */
  Timer _onDemandRebalanceTimer = null;
  AtomicReference<RebalanceTask> _nextRebalanceTask = new AtomicReference<>();

```

### UnusedAssignment
Variable `out` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
      boolean escape = false;
      boolean retryOrigin;
      Node out = null;
      do {
        retryOrigin = false; // initialize at the outset
```

### UnusedAssignment
Variable `count` initializer `rf` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
    List<Node> nodes = new ArrayList<>();
    long input = data;
    int count = rf;
    int tries = 0;
    while (nodes.size() < rf) {
```

### UnusedAssignment
Variable `createCbList` initializer `null` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
    ZkAsyncCallbacks.SetDataCallbackHandler[] cbList =
        new ZkAsyncCallbacks.SetDataCallbackHandler[paths.size()];
    ZkAsyncCallbacks.CreateCallbackHandler[] createCbList = null;
    boolean[] needUpdate = new boolean[paths.size()];
    Arrays.fill(needUpdate, true);
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    String zkPath = getZKPath();

```

### UnusedAssignment
Variable `result` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java

  private ZNRecord readZkDataStatAndChild(String zkPath, ZkClient zkClient) {
    ZNRecord result = null;

    // read data and stat
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerStatusUpdateResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String zkServer =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStatesResource.java`
#### Snippet
```java

  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `representation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConstraintResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation representation = null;
    String clusterName =
        ResourceUtil.getAttributeFromRequest(getRequest(), ResourceUtil.RequestKey.CLUSTER_NAME);
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorsResource.java`
#### Snippet
```java

  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdateResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ExternalViewResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `record` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java
        new ZKHelixDataAccessor(clusterName, new ZkBaseDataAccessor<ZNRecord>(zkClient));

    ZNRecord record = null;
    LiveInstance leader = accessor.getProperty(keyBuilder.controllerLeader());
    if (leader != null) {
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      presentation = getInstanceRepresentation();
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkChildResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    String zkPath = getZKPath();

```

### UnusedAssignment
Variable `result` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkChildResource.java`
#### Snippet
```java

  private ZNRecord readZkChild(String zkPath, ZkClient zkClient) {
    ZNRecord result = null;

    // read data and stat
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      presentation = getStateModelsRepresentation();
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      presentation = getClustersRepresentation();
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdatesResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `representation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java

  static StringRepresentation getConfigScopes() throws Exception {
    StringRepresentation representation = null;
    ZNRecord record = new ZNRecord("Config");

```

### UnusedAssignment
Variable `representation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
  StringRepresentation getConfigKeys(ConfigScopeProperty scopeProperty, String... keys)
      throws Exception {
    StringRepresentation representation = null;

    ZkClient zkClient =
```

### UnusedAssignment
Variable `representation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
  StringRepresentation getConfigs(ConfigScopeProperty scopeProperty, String... keys)
      throws Exception {
    StringRepresentation representation = null;

    ZkClient zkClient =
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStateResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      String clusterName = (String) getRequest().getAttributes().get("clusterName");
```

### UnusedAssignment
Variable `presentation` initializer `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java
  @Override
  public Representation get() {
    StringRepresentation presentation = null;
    try {
      presentation = getSchedulerTasksRepresentation();
```

### UnusedAssignment
Variable `_sessionTimeout` initializer `DEFAULT_SESSION_TIMEOUT` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
    private String _routingDataSourceType;
    private String _routingDataSourceEndpoint;
    private int _sessionTimeout = DEFAULT_SESSION_TIMEOUT;

    private RealmAwareZkConnectionConfig(Builder builder) {
```

### UnusedAssignment
Variable `gzipOutputStream` initializer `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/util/GZipCompressionUtil.java`
#### Snippet
```java
  public static byte[] compress(byte[] buffer) throws IOException {
    ByteArrayOutputStream gzipByteArrayOutputStream = new ByteArrayOutputStream();
    GZIPOutputStream gzipOutputStream = null;
    gzipOutputStream = new GZIPOutputStream(gzipByteArrayOutputStream);
    gzipOutputStream.write(buffer, 0, buffer.length);
```

### UnusedAssignment
Variable `ia` initializer `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java
            for (final Enumeration<NetworkInterface> ifaces = networkInterfaces; ifaces.hasMoreElements();) {
                final NetworkInterface iface = ifaces.nextElement();
                InetAddress ia = null;
                for (final Enumeration<InetAddress> ips = iface.getInetAddresses(); ips.hasMoreElements();) {
                    ia = ips.nextElement();
```

### UnusedAssignment
Variable `server` initializer `null` is redundant
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java

  private static void startLocalZookeeper(int port) throws Exception {
    ZkServer server = null;
    String baseDir = "/tmp/IntegrationTest/";
    final String dataDir = baseDir + "zk/dataDir";
```

### UnusedAssignment
The value `(ZNRecord) serializer.deserialize(bytes)` assigned to `record2` is never used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      bytes = serializer.serialize(record);
      // System.out.println(new String(bytes));
      record2 = (ZNRecord) serializer.deserialize(bytes);
      // System.out.println(record2);
    }
```

### UnusedAssignment
The value `(ZNRecord) serializer2.deserialize(bytes)` assigned to `record2` is never used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    bytes = serializer2.serialize(record);
    // System.out.println(new String(bytes));
    record2 = (ZNRecord) serializer2.deserialize(bytes);
    // System.out.println(record2);

```

### UnusedAssignment
The value `(ZNRecord) serializer2.deserialize(bytes)` assigned to `record2` is never used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
      bytes = serializer2.serialize(record);
      // System.out.println(new String(bytes));
      record2 = (ZNRecord) serializer2.deserialize(bytes);
      // System.out.println(record2);
    }
```

### UnusedAssignment
Variable `_zkclient` initializer `null` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskCluster.java`
#### Snippet
```java
  static final String DEFAULT_STATE_MODEL = "OnlineOffline";

  ZkClient _zkclient = null;
  ZKHelixAdmin _admin = null;
  private final String _clusterName;
```

### UnusedAssignment
Variable `_admin` initializer `null` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskCluster.java`
#### Snippet
```java

  ZkClient _zkclient = null;
  ZKHelixAdmin _admin = null;
  private final String _clusterName;

```

### UnusedAssignment
Variable `exitVal` initializer `-1` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java

  public boolean rsync(String relativePath) {
    int exitVal = -1;
    try {
      ProcessBuilder pb =
```

### UnusedAssignment
Variable `n` initializer `0` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ExternalCommand.java`
#### Snippet
```java

      byte[] buf = new byte[BUFFER_SIZE];
      int n = 0;
      try {
        while ((n = _in.read(buf)) != -1)
```

### UnusedAssignment
Variable `stat` initializer `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
          public void run() throws Exception {
            if (!pathStatRecord.pathChecked()) {
              Stat stat = null;
              if (!pathExists || !hasListeners(path)) {
                // will not install listener using exists call
```

### UnusedAssignment
Variable `stat` initializer `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              // the exists() useGetData (false) route to check stat. Otherwise, we use getData()
              // to install watch.
              Stat stat = null;
              if (!pathExists) {
                stat = getStat(path, false);
```

## RuleId[id=IndexOfReplaceableByContains]
### IndexOfReplaceableByContains
`file.getName().indexOf(pattern) != -1` can be replaced with 'file.getName().contains(pattern)'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
      @Override
      public boolean accept(File file) {
        return file.isFile() && (file.getName().indexOf(pattern) != -1);
      }
    });
```

### IndexOfReplaceableByContains
`line.indexOf(pattern) == -1` can be replaced with '!line.contains(pattern)'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
          boolean match = true;
          for (String pattern : patterns) {
            if (line.indexOf(pattern) == -1) {
              match = false;
              break;
```

### IndexOfReplaceableByContains
`line.indexOf(pattern) == -1` can be replaced with '!line.contains(pattern)'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
          boolean match = true;
          for (String pattern : patterns) {
            if (line.indexOf(pattern) == -1) {
              match = false;
              break;
```

### IndexOfReplaceableByContains
`inputLine.indexOf("CONFIGS") != -1` can be replaced with 'inputLine.contains("CONFIGS")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
      String inputLine;
      while ((inputLine = br.readLine()) != null) {
        if (inputLine.indexOf("CONFIGS") != -1) {
          pos = inputLine.indexOf("CONFIGS");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("IDEALSTATES") != -1` can be replaced with 'inputLine.contains("IDEALSTATES")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java

          }
        } else if (inputLine.indexOf("IDEALSTATES") != -1) {
          pos = inputLine.indexOf("IDEALSTATES");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("LIVEINSTANCES") != -1` can be replaced with 'inputLine.contains("LIVEINSTANCES")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            }
          }
        } else if (inputLine.indexOf("LIVEINSTANCES") != -1) {
          pos = inputLine.indexOf("LIVEINSTANCES");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("EXTERNALVIEW") != -1` can be replaced with 'inputLine.contains("EXTERNALVIEW")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
          }

        } else if (inputLine.indexOf("EXTERNALVIEW") != -1) {
          pos = inputLine.indexOf("EXTERNALVIEW");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("STATEMODELDEFS") != -1` can be replaced with 'inputLine.contains("STATEMODELDEFS")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            }
          }
        } else if (inputLine.indexOf("STATEMODELDEFS") != -1) {
          pos = inputLine.indexOf("STATEMODELDEFS");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("CURRENTSTATES") != -1` can be replaced with 'inputLine.contains("CURRENTSTATES")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            }
          }
        } else if (inputLine.indexOf("CURRENTSTATES") != -1) {
          pos = inputLine.indexOf("CURRENTSTATES");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("MESSAGES") != -1` can be replaced with 'inputLine.contains("MESSAGES")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            }
          }
        } else if (inputLine.indexOf("MESSAGES") != -1) {
          pos = inputLine.indexOf("MESSAGES");
          pos = inputLine.indexOf("data:{", pos);
```

### IndexOfReplaceableByContains
`inputLine.indexOf("closeSession") != -1` can be replaced with 'inputLine.contains("closeSession")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
          }

        } else if (inputLine.indexOf("closeSession") != -1) {
          String zkSessionId = getAttributeValue(inputLine, "session:");
          if (zkSessionId == null) {
```

### IndexOfReplaceableByContains
`inputLine.indexOf("HEALTHREPORT/defaultPerfCounters") != -1` can be replaced with 'inputLine.contains("HEALTHREPORT/defaultPerfCounters")'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            }
          }
        } else if (inputLine.indexOf("HEALTHREPORT/defaultPerfCounters") != -1) {
          pos = inputLine.indexOf("HEALTHREPORT/defaultPerfCounters");
          pos = inputLine.indexOf("data:{", pos);
```

## RuleId[id=ManualArrayToCollectionCopy]
### ManualArrayToCollectionCopy
Manual array to collection copy
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
    String clusterName = args[0];
    List<String> liveNodes = new ArrayList<String>();
    for (int i = 1; i < args.length; i++) {
      liveNodes.add(args[i]);
    }
```

### ManualArrayToCollectionCopy
Manual array to collection copy
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
    String clusterName = args[0];
    List<String> liveNodes = new ArrayList<String>();
    for (int i = 1; i < args.length; i++) {
      liveNodes.add(args[i]);
    }
```

### ManualArrayToCollectionCopy
Manual array to collection copy
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/PipelineRegistry.java`
#### Snippet
```java
    }
    List<Pipeline> list = _map.get(eventType);
    for (Pipeline pipeline : pipelines) {
      list.add(pipeline);
    }
```

## RuleId[id=UnnecessarySemicolon]
### UnnecessarySemicolon
Unnecessary semicolon `;`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
              break;
            case CURRENTSTATES: {
              String keyReference = generateReferenceKey(propertyType.name(),  DEFAULT_STATE_TYPE);;
              refreshCurrentState(_dataCache.getCurrentStatesMap(), _dataCache.getInstanceConfigMap().values(),
                  _dataCache.getLiveInstances().values(), keyReference);
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStatesResource.java`
#### Snippet
```java
      String instanceName) throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    ;
    String instanceSessionId =
        ClusterRepresentationUtil.getInstanceSessionId(zkClient, clusterName, instanceName);
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorsResource.java`
#### Snippet
```java
      throws JsonGenerationException, JsonMappingException, IOException {
    ZkClient zkClient = (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
    ;

    String instanceSessionId =
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java
      ZkClient zkClient =
          (ZkClient) getContext().getAttributes().get(RestAdminApplication.ZKCLIENT);
      ;

      JsonParameters jsonParameters = new JsonParameters(entity);
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecordDelta.java`
#### Snippet
```java
    SUBTRACT,
    UPDATE
  };

  /**
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java
    DELETE,
    MODIFY
  };

  private FilesystemAlterationMonitor fam;
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
        updater, AccessOption.PERSISTENT);
    Stat stat = new Stat();
    ;
    ZNRecord znRecord =
        helixPropertyStore.get("/TRANSACTION_ID_METADATA" + "/" + message.getResourceName(), stat,
```

## RuleId[id=SimplifyStreamApiCallChains]
### SimplifyStreamApiCallChains
'Arrays.asList().stream()' can be replaced with 'Arrays.stream()'
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
    // /group/zone/rack/host will return ["group", "zone", "rack", "host"].
    topologyDef =
        Arrays.asList(topologyDefInConfig.split(DELIMITER)).stream().map(str -> str.trim())
            .filter(str -> !str.isEmpty()).collect(Collectors.toList()).toArray(new String[0]);
    if (topologyDef.length == 0) {
```

## RuleId[id=TypeParameterHidesVisibleType]
### TypeParameterHidesVisibleType
Type parameter `T` hides type parameter 'T'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
  private final Queue<Entry> _eventQueue;

  class Entry <T, E> {
    private T _type;
    private E _event;
```

### TypeParameterHidesVisibleType
Type parameter `E` hides type parameter 'E'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
  private final Queue<Entry> _eventQueue;

  class Entry <T, E> {
    private T _type;
    private E _event;
```

## RuleId[id=StringOperationCanBeSimplified]
### StringOperationCanBeSimplified
`new String()` is redundant
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java

      for (int partition : partitions) {
        long hashedValue = new String(resourceId + "_" + partition).hashCode();
        int shiftTimes;
        int numAttempts = jobContext.getPartitionNumAttempts(partition);
```

### StringOperationCanBeSimplified
`new String()` is redundant
in `helix-core/src/main/java/org/apache/helix/common/DedupEventProcessor.java`
#### Snippet
```java

  public DedupEventProcessor(String processorName) {
    this(new String(), processorName);
  }

```

### StringOperationCanBeSimplified
`new String()` is redundant
in `helix-core/src/main/java/org/apache/helix/common/DedupEventProcessor.java`
#### Snippet
```java

  public DedupEventProcessor() {
    this(new String(), "Default-DedupEventProcessor");
  }

```

### StringOperationCanBeSimplified
Unnecessary string length argument
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    public String toString() {
      String verifierName = getClass().getName();
      verifierName = verifierName.substring(verifierName.lastIndexOf('.') + 1, verifierName.length());
      return verifierName + "(" + clusterName + "@" + zkClient.getServers() + ")";
    }
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/AsyncCallbackService.java`
#### Snippet
```java

  void verifyMessage(Message message) {
    if (!message.getMsgType().toString().equalsIgnoreCase(MessageType.TASK_REPLY.name())) {
      String errorMsg =
          "Unexpected msg type for message " + message.getMsgId() + " type:" + message.getMsgType()
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
        c2 = 0;
      }
      return c1 < c2 ? 1 : (c1 > c2 ? -1 : o1.toString().compareTo(o2.toString()));
    }
  }
```

### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
        c2 = 0;
      }
      return c1 < c2 ? 1 : (c1 > c2 ? -1 : o1.toString().compareTo(o2.toString()));
    }
  }
```

## RuleId[id=OptionalContainsCollection]
### OptionalContainsCollection
'Optional' contains collection `Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/DelayedAutoRebalancer.java`
#### Snippet
```java
      IdealState idealState, ClusterConfig clusterConfig, Partition partition,
      MonitoredAbnormalResolver monitoredResolver) {
    Optional<Map<String, String>> optionalOverwrittenStates =
        computeStatesOverwriteForPartition(stateModelDef, preferenceList, currentStateOutput,
            idealState, partition, monitoredResolver);
```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
      IdealState idealState, ClusterConfig clusterConfig, Partition partition,
      MonitoredAbnormalResolver monitoredResolver) {
    Optional<Map<String, String>> optionalOverwrittenStates =
        computeStatesOverwriteForPartition(stateModelDef, preferenceList, currentStateOutput,
            idealState, partition, monitoredResolver);
```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
   * Otherwise return Optional.empty().
   */
  protected Optional<Map<String, String>> computeStatesOverwriteForPartition(
      final StateModelDefinition stateModelDef, final List<String> preferenceList,
      final CurrentStateOutput currentStateOutput, IdealState idealState, final Partition partition,
```

## RuleId[id=MethodOverloadsParentMethod]
### MethodOverloadsParentMethod
Method `equals()` overloads a compatible method of a superclass, when overriding might have been intended
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    }

    public boolean equals(Transition t) {
      return (_timeStamp == t._timeStamp && _from.equals(t._from) && _to.equals(t._to));
    }
```

## RuleId[id=UnnecessaryCallToStringValueOf]
### UnnecessaryCallToStringValueOf
Unnecessary `String.valueOf()` call
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/MBeanRegistrar.java`
#### Snippet
```java
      if (num > 0) {
        newObjectName = new ObjectName(
            String.format("%s,%s=%s", objectName.toString(), DUPLICATE, String.valueOf(num)));
      } else {
        newObjectName = objectName;
```

## RuleId[id=JavaReflectionMemberAccess]
### JavaReflectionMemberAccess
Cannot resolve method 'getAllChildrenPaginated'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkConnection.java`
#### Snippet
```java
      try {
        // Lookup the paginated getChildren API
        return ZooKeeper.class.getMethod("getAllChildrenPaginated", String.class, boolean.class);
      } catch (NoSuchMethodException e) {
        LOG.info("Paginated getChildren is not supported, fall back to non-paginated getChildren");
```

## RuleId[id=NonSynchronizedMethodOverridesSynchronizedMethod]
### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `persistBestPossibleAssignment()` overrides synchronized method
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/ReadOnlyWagedRebalancer.java`
#### Snippet
```java

    @Override
    public void persistBestPossibleAssignment(
        Map<String, ResourceAssignment> bestPossibleAssignment) {
      // Update the in-memory reference only
```

### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `persistBaseline()` overrides synchronized method
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/ReadOnlyWagedRebalancer.java`
#### Snippet
```java

    @Override
    public void persistBaseline(Map<String, ResourceAssignment> globalBaseline) {
      // Update the in-memory reference only
      _globalBaseline = globalBaseline;
```

### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `unregister()` overrides synchronized method
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
   * After unregistered, the MBean can't be registered again, a new monitor has be to created.
   */
  public void unregister() {
    super.unregister();
    for (ZkClientPathMonitor zkClientPathMonitor : _zkClientPathMonitorMap.values()) {
```

## RuleId[id=SwitchStatementWithConfusingDeclaration]
### SwitchStatementWithConfusingDeclaration
Local variable `scopeArgs` declared in one 'switch' branch and used in another
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
      switch (scopeProperty) {
      case CLUSTER:
        String scopeArgs = clusterName;
        setConfigs(entity, scopeProperty, scopeArgs);
        break;
```

### SwitchStatementWithConfusingDeclaration
Local variable `scopeKey1` declared in one 'switch' branch and used in another
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
      case PARTICIPANT:
      case RESOURCE:
        String scopeKey1 = getValue("scopeKey1");

        if (scopeKey1 == null) {
```

### SwitchStatementWithConfusingDeclaration
Local variable `scopeKey1` declared in one 'switch' branch and used in another
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
      case PARTICIPANT:
      case RESOURCE:
        String scopeKey1 = getValue("scopeKey1");
        if (scopeKey1 == null) {
          // path is "/clusters/{clusterName}/configs/cluster|participant|resource"
```

## RuleId[id=PublicFieldAccessedInSynchronizedContext]
### PublicFieldAccessedInSynchronizedContext
Non-private field `_samples` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
      if (_samples == _targetSamples) {
        synchronized (JmxDumper.this) {
          _logger.info(_samples + " samples done, exiting...");
          JmxDumper.this.notifyAll();
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_liveInstancePropertyCache` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java
    switch (changeType) {
      case LIVE_INSTANCE:
        _liveInstancePropertyCache.setPropertyMap(HelixProperty.convertListToMap(Collections.emptyList()));
        break;
      case INSTANCE_CONFIG:
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_instanceConfigPropertyCache` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java
        break;
      case INSTANCE_CONFIG:
        _instanceConfigPropertyCache.setPropertyMap(HelixProperty.convertListToMap(Collections.emptyList()));
        break;
      case EXTERNAL_VIEW:
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_externalViewCache` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java
        break;
      case EXTERNAL_VIEW:
        _externalViewCache.clear();
        break;
      default:
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_manager` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
        newAddedScheduledTasks.setStateModelDefRef(SCHEDULER_TASK_QUEUE);

        synchronized (_manager) {
          int existingTopPartitionId = 0;
          IdealState currentTaskQueue =
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_manager` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
          int existingTopPartitionId = 0;
          IdealState currentTaskQueue =
              _manager.getHelixDataAccessor().getProperty(
                  accessor.keyBuilder().idealStates(newAddedScheduledTasks.getId()));
          if (currentTaskQueue != null) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_manager` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
            }
          }
          _manager.getHelixDataAccessor().updateProperty(
              accessor.keyBuilder().idealStates(newAddedScheduledTasks.getId()),
              newAddedScheduledTasks);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

    synchronized (this) {
      if (_zkclient != null) {
        _zkclient.close();
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    synchronized (this) {
      if (_zkclient != null) {
        _zkclient.close();
      }
      _zkclient = newClient;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
        _zkclient.close();
      }
      _zkclient = newClient;

      _baseDataAccessor = createBaseDataAccessor();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

      _dataAccessor = new ZKHelixDataAccessor(_clusterName, _baseDataAccessor);
      _configAccessor = new ConfigAccessor(_zkclient);

      if (_instanceType == InstanceType.CONTROLLER
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
        }

        if (_zkclient != null) {
          _zkclient.close();
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

        if (_zkclient != null) {
          _zkclient.close();
        }
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

      CallbackHandler newHandler =
          new CallbackHandler(this, _zkclient, propertyKey, listener, eventType, changeType,
              _callbackMonitors.get(changeType));

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
      int maximumNumberOfLeafNodesAllowed = 100;

      if (_timer == null) {
        LOG.info("Start StatusDumpTask");
        _timer = new Timer("StatusDumpTimerTask", true);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
      if (_timer == null) {
        LOG.info("Start StatusDumpTask");
        _timer = new Timer("StatusDumpTimerTask", true);
        _timer.scheduleAtFixedRate(
            new ZKPathDataDumpTask(helixController, timeThresholdNoChangeForStatusUpdates,
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
        LOG.info("Start StatusDumpTask");
        _timer = new Timer("StatusDumpTimerTask", true);
        _timer.scheduleAtFixedRate(
            new ZKPathDataDumpTask(helixController, timeThresholdNoChangeForStatusUpdates,
                timeThresholdNoChangeForErrors, maximumNumberOfLeafNodesAllowed), initialDelay,
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
      String fallbackPath = String.format("/%s/%s", _clusterName, "HELIX_PROPERTYSTORE");
      _helixPropertyStore =
          new AutoFallbackPropertyStore<>(new ZkBaseDataAccessor<>(_zkclient),
              path, fallbackPath);
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  public synchronized HelixAdmin getClusterManagmentTool() {
    checkConnected(_waitForConnectedTimeout);
    if (_zkclient != null && !_zkclient.isClosed()) {
      return new ZKHelixAdmin(_zkclient);
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  public synchronized HelixAdmin getClusterManagmentTool() {
    checkConnected(_waitForConnectedTimeout);
    if (_zkclient != null && !_zkclient.isClosed()) {
      return new ZKHelixAdmin(_zkclient);
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_zkclient` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    checkConnected(_waitForConnectedTimeout);
    if (_zkclient != null && !_zkclient.isClosed()) {
      return new ZKHelixAdmin(_zkclient);
    }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    @Override
    public synchronized void stop() {
      if (_timer != null) {
        LOG.info("Stop StatusDumpTask");
        _timer.cancel();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
      if (_timer != null) {
        LOG.info("Stop StatusDumpTask");
        _timer.cancel();
        _timer = null;
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
        LOG.info("Stop StatusDumpTask");
        _timer.cancel();
        _timer = null;
      }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_callback` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
    public void run() {
      try {
        synchronized (_callback) {
          _callback._timedOut = true;
          _callback.notifyAll();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_callback` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
      try {
        synchronized (_callback) {
          _callback._timedOut = true;
          _callback.notifyAll();
          _callback.onTimeOut();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_callback` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
        synchronized (_callback) {
          _callback._timedOut = true;
          _callback.notifyAll();
          _callback.onTimeOut();
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_callback` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
          _callback._timedOut = true;
          _callback.notifyAll();
          _callback.onTimeOut();
        }
      } catch (Exception e) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java

  final synchronized void startTimer() {
    if (_timer == null && _timeout > 0) {
      if (_startTimeStamp == 0) {
        _startTimeStamp = System.currentTimeMillis();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timeout` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java

  final synchronized void startTimer() {
    if (_timer == null && _timeout > 0) {
      if (_startTimeStamp == 0) {
        _startTimeStamp = System.currentTimeMillis();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_startTimeStamp` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  final synchronized void startTimer() {
    if (_timer == null && _timeout > 0) {
      if (_startTimeStamp == 0) {
        _startTimeStamp = System.currentTimeMillis();
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_startTimeStamp` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
    if (_timer == null && _timeout > 0) {
      if (_startTimeStamp == 0) {
        _startTimeStamp = System.currentTimeMillis();
      }
      _timer = new Timer("AsyncCallback-Timer", true);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
        _startTimeStamp = System.currentTimeMillis();
      }
      _timer = new Timer("AsyncCallback-Timer", true);
      _timer.schedule(new TimeoutTask(this), _timeout);
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
      }
      _timer = new Timer("AsyncCallback-Timer", true);
      _timer.schedule(new TimeoutTask(this), _timeout);
    }
  }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timeout` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
      }
      _timer = new Timer("AsyncCallback-Timer", true);
      _timer.schedule(new TimeoutTask(this), _timeout);
    }
  }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
    }
    if (isDone()) {
      if (_timer != null) {
        _timer.cancel();
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
    if (isDone()) {
      if (_timer != null) {
        _timer.cancel();
      }
      notifyAll();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_messageHandlerFactoriestobeAdded` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java
    } else {
      for (String type : types) {
        _messageHandlerFactoriestobeAdded.put(type, factory);
      }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_messageHandlerFactoriestobeAdded` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java

  public synchronized void onConnected() {
    for (String type : _messageHandlerFactoriestobeAdded.keySet()) {
      registerMessageHandlerFactoryInternal(type, _messageHandlerFactoriestobeAdded.get(type));
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_messageHandlerFactoriestobeAdded` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java
  public synchronized void onConnected() {
    for (String type : _messageHandlerFactoriestobeAdded.keySet()) {
      registerMessageHandlerFactoryInternal(type, _messageHandlerFactoriestobeAdded.get(type));
    }
    _messageHandlerFactoriestobeAdded.clear();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_messageHandlerFactoriestobeAdded` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java
      registerMessageHandlerFactoryInternal(type, _messageHandlerFactoriestobeAdded.get(type));
    }
    _messageHandlerFactoriestobeAdded.clear();
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isStarted` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
  @Override
  public synchronized boolean cancel() {
    if (!_isStarted) {
      _isCancelled = true;
      _handler.cancel();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isCancelled` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
  public synchronized boolean cancel() {
    if (!_isStarted) {
      _isCancelled = true;
      _handler.cancel();
      return true;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isCancelled` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java

  private synchronized void setStarted() {
    if (_isCancelled) {
      throw new HelixRollbackException("Task has already been cancelled");
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isStarted` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
      throw new HelixRollbackException("Task has already been cancelled");
    }
    _isStarted = true;
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_clusterName` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
  @Override
  public synchronized void refresh(HelixDataAccessor accessor) {
    LOG.info("START: RoutingDataCache.refresh() for cluster " + _clusterName);
    long startTime = System.currentTimeMillis();

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_propertyDataChangedMap` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
      switch (propertyType) {
      case TARGETEXTERNALVIEW:
        if (_propertyDataChangedMap.get(HelixConstants.ChangeType.TARGET_EXTERNAL_VIEW)) {
          _propertyDataChangedMap.put(HelixConstants.ChangeType.TARGET_EXTERNAL_VIEW, false);
          _targetExternalViewCache.refresh(accessor);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_propertyDataChangedMap` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
      case TARGETEXTERNALVIEW:
        if (_propertyDataChangedMap.get(HelixConstants.ChangeType.TARGET_EXTERNAL_VIEW)) {
          _propertyDataChangedMap.put(HelixConstants.ChangeType.TARGET_EXTERNAL_VIEW, false);
          _targetExternalViewCache.refresh(accessor);
          LOG.info("Reload " + _targetExternalViewCache.getExternalViewMap().keySet().size()
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_propertyDataChangedMap` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
        break;
      case CURRENTSTATES:
        if (_propertyDataChangedMap.get(HelixConstants.ChangeType.CURRENT_STATE)) {
          _propertyDataChangedMap.put(HelixConstants.ChangeType.CURRENT_STATE, false);
          /**
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_propertyDataChangedMap` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
      case CURRENTSTATES:
        if (_propertyDataChangedMap.get(HelixConstants.ChangeType.CURRENT_STATE)) {
          _propertyDataChangedMap.put(HelixConstants.ChangeType.CURRENT_STATE, false);
          /**
           * Workaround of https://github.com/apache/helix/issues/919.
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_liveInstancePropertyCache` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
           * TODO: logic.
           **/
          _liveInstancePropertyCache.refresh(accessor);
          Map<String, LiveInstance> liveInstanceMap = getLiveInstances();
          _currentStateCache.refresh(accessor, liveInstanceMap);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_propertyDataChangedMap` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
        break;
      case CUSTOMIZEDVIEW: {
        if (_propertyDataChangedMap.get(HelixConstants.ChangeType.CUSTOMIZED_VIEW)) {
          for (String customizedStateType : _sourceDataTypeMap.get(PropertyType.CUSTOMIZEDVIEW)) {
            _customizedViewCaches.get(customizedStateType).refresh(accessor);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_propertyDataChangedMap` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
              + (System.currentTimeMillis() - start) + " ms");
        }
        _propertyDataChangedMap.put(HelixConstants.ChangeType.CUSTOMIZED_VIEW, false);
      }
        break;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_clusterName` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingDataCache.java`
#### Snippet
```java
    }
    long endTime = System.currentTimeMillis();
    LOG.info("END: RoutingDataCache.refresh() for cluster " + _clusterName + ", took " + (endTime
        - startTime) + " ms");

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timerPeriod` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      if (_periodicRebalanceFutureTask != null && !_periodicRebalanceFutureTask.isCancelled()) {
        _periodicRebalanceFutureTask.cancel(false /* mayInterruptIfRunning */);
        _timerPeriod = Long.MAX_VALUE;
      }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timerPeriod` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      synchronized (_periodicalRebalanceExecutor) {
        lastScheduledFuture = _periodicRebalanceFutureTask;
        _timerPeriod = period;
        _periodicRebalanceFutureTask = _periodicalRebalanceExecutor
            .scheduleAtFixedRate(new RebalanceTask(manager, ClusterEventType.PeriodicalRebalance),
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timerPeriod` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
        _periodicRebalanceFutureTask = _periodicalRebalanceExecutor
            .scheduleAtFixedRate(new RebalanceTask(manager, ClusterEventType.PeriodicalRebalance),
                _timerPeriod, _timerPeriod, TimeUnit.MILLISECONDS);
      }
      if (lastScheduledFuture != null && !lastScheduledFuture.isCancelled()) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timerPeriod` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
        _periodicRebalanceFutureTask = _periodicalRebalanceExecutor
            .scheduleAtFixedRate(new RebalanceTask(manager, ClusterEventType.PeriodicalRebalance),
                _timerPeriod, _timerPeriod, TimeUnit.MILLISECONDS);
      }
      if (lastScheduledFuture != null && !lastScheduledFuture.isCancelled()) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isTaskCache` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterDataCache.java`
#### Snippet
```java
  public synchronized void refresh(HelixDataAccessor accessor) {
    super.refresh(accessor);
    if (_isTaskCache) {
      // Refresh TaskCache
      _taskDataCache.refresh(accessor, getResourceConfigMap());
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleVersion` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/ReadOnlyWagedRebalancer.java`
#### Snippet
```java
        Map<String, ResourceAssignment> bestPossibleAssignment, int newVersion) {
      // Check if the version is stale by this point
      if (newVersion > _bestPossibleVersion) {
        _bestPossibleAssignment = bestPossibleAssignment;
        _bestPossibleVersion = newVersion;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleAssignment` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/ReadOnlyWagedRebalancer.java`
#### Snippet
```java
      // Check if the version is stale by this point
      if (newVersion > _bestPossibleVersion) {
        _bestPossibleAssignment = bestPossibleAssignment;
        _bestPossibleVersion = newVersion;
        return true;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleVersion` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/ReadOnlyWagedRebalancer.java`
#### Snippet
```java
      if (newVersion > _bestPossibleVersion) {
        _bestPossibleAssignment = bestPossibleAssignment;
        _bestPossibleVersion = newVersion;
        return true;
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleVersion` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
    getBestPossibleAssignment().clear();
    getBestPossibleAssignment().putAll(bestPossibleAssignment);
    _bestPossibleVersion++;
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_globalBaseline` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      // double-checked locking
      synchronized (this) {
        if (_globalBaseline == null) {
          _globalBaseline = fetchAssignmentOrDefault(_baselinePath);
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_globalBaseline` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      synchronized (this) {
        if (_globalBaseline == null) {
          _globalBaseline = fetchAssignmentOrDefault(_baselinePath);
        }
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleAssignment` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java

  protected synchronized void reset() {
    if (_bestPossibleAssignment != null) {
      _bestPossibleAssignment.clear();
      _bestPossibleAssignment = null;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleAssignment` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
  protected synchronized void reset() {
    if (_bestPossibleAssignment != null) {
      _bestPossibleAssignment.clear();
      _bestPossibleAssignment = null;
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleAssignment` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
    if (_bestPossibleAssignment != null) {
      _bestPossibleAssignment.clear();
      _bestPossibleAssignment = null;
    }
    if (_globalBaseline != null) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_globalBaseline` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      _bestPossibleAssignment = null;
    }
    if (_globalBaseline != null) {
      _globalBaseline.clear();
      _globalBaseline = null;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_globalBaseline` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
    }
    if (_globalBaseline != null) {
      _globalBaseline.clear();
      _globalBaseline = null;
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_globalBaseline` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
    if (_globalBaseline != null) {
      _globalBaseline.clear();
      _globalBaseline = null;
    }
  }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleVersion` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      Map<String, ResourceAssignment> bestPossibleAssignment, int newVersion) {
    // Check if the version is stale by this point
    if (newVersion > _bestPossibleVersion) {
      getBestPossibleAssignment().clear();
      getBestPossibleAssignment().putAll(bestPossibleAssignment);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleVersion` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      getBestPossibleAssignment().clear();
      getBestPossibleAssignment().putAll(bestPossibleAssignment);
      _bestPossibleVersion = newVersion;
      return true;
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleAssignment` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      // double-checked locking
      synchronized (this) {
        if (_bestPossibleAssignment == null) {
          _bestPossibleAssignment = fetchAssignmentOrDefault(_bestPossiblePath);
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_bestPossibleAssignment` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
      synchronized (this) {
        if (_bestPossibleAssignment == null) {
          _bestPossibleAssignment = fetchAssignmentOrDefault(_bestPossiblePath);
        }
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_taskCurrentStateCache` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
    long startTime = System.currentTimeMillis();
    Set<HelixConstants.ChangeType> propertyRefreshed = super.doRefresh(accessor);
    _taskCurrentStateCache.refresh(accessor, getLiveInstanceCache().getPropertyMap());

    refreshClusterStateChangeFlags(propertyRefreshed);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
  @Override
  public synchronized void stop() {
    if (_timer != null) {
      LOG.info("Stop ParticipantHealthReportTimerTask");
      _timer.cancel();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
    if (_timer != null) {
      LOG.info("Stop ParticipantHealthReportTimerTask");
      _timer.cancel();
      _timer = null;
    } else {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
      LOG.info("Stop ParticipantHealthReportTimerTask");
      _timer.cancel();
      _timer = null;
    } else {
      LOG.warn("ParticipantHealthReportTimerTask already stopped");
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
  @Override
  public synchronized void start() {
    if (_timer == null) {
      LOG.info("Start HealthCheckInfoReportingTask");
      _timer = new Timer("ParticipantHealthReportTimerTask", true);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
    if (_timer == null) {
      LOG.info("Start HealthCheckInfoReportingTask");
      _timer = new Timer("ParticipantHealthReportTimerTask", true);
      _timer.scheduleAtFixedRate(new ParticipantHealthReportTimerTask(),
          new Random().nextInt(_reportLatency), _reportLatency);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_timer` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
      LOG.info("Start HealthCheckInfoReportingTask");
      _timer = new Timer("ParticipantHealthReportTimerTask", true);
      _timer.scheduleAtFixedRate(new ParticipantHealthReportTimerTask(),
          new Random().nextInt(_reportLatency), _reportLatency);
    } else {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_instanceName` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportCollectorImpl.java`
#### Snippet
```java
          HelixDataAccessor accessor = _helixManager.getHelixDataAccessor();
          Builder keyBuilder = accessor.keyBuilder();
          if (!accessor.setProperty(keyBuilder.healthReport(_instanceName, record.getId()),
              new HealthStat(record))) {
            LOG.error("Failed to persist health report to zk!");
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
    logger.info(controllerName + " becoming leader from standby for " + clusterName);

    synchronized (_controllerOpt) {
      if (!_controllerOpt.isPresent()) {
        HelixManager newController = HelixManagerFactory
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java

    synchronized (_controllerOpt) {
      if (!_controllerOpt.isPresent()) {
        HelixManager newController = HelixManagerFactory
            .getZKHelixManager(clusterName, controllerName, InstanceType.CONTROLLER, _zkAddr);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
        newController.connect();
        newController.startTimerTasks();
        _controllerOpt = Optional.of(newController);
        logStateTransition("STANDBY", "LEADER", clusterName, controllerName);
      } else {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
        logStateTransition("STANDBY", "LEADER", clusterName, controllerName);
      } else {
        logger.error("controller already exists:" + _controllerOpt.get().getInstanceName() + " for "
            + clusterName);
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
  @Override
  public void reset() {
    synchronized (_controllerOpt) {
      if (_controllerOpt.isPresent()) {
        _controllerOpt.get().disconnect();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
  public void reset() {
    synchronized (_controllerOpt) {
      if (_controllerOpt.isPresent()) {
        _controllerOpt.get().disconnect();
        _controllerOpt = Optional.empty();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
    synchronized (_controllerOpt) {
      if (_controllerOpt.isPresent()) {
        _controllerOpt.get().disconnect();
        _controllerOpt = Optional.empty();
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_controllerOpt` accessed in synchronized context
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
      if (_controllerOpt.isPresent()) {
        _controllerOpt.get().disconnect();
        _controllerOpt = Optional.empty();
      }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `cache` accessed in synchronized context
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscovery.java`
#### Snippet
```java
    // protect against multiple threads updating this
    synchronized (this) {
      cache = services;
    }
  }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isOperationDone` accessed in synchronized context
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java

    private void markOperationDone() {
      synchronized (_isOperationDone) {
        _isOperationDone.set(true);
        _isOperationDone.notifyAll();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isOperationDone` accessed in synchronized context
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
    private void markOperationDone() {
      synchronized (_isOperationDone) {
        _isOperationDone.set(true);
        _isOperationDone.notifyAll();
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isOperationDone` accessed in synchronized context
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
      synchronized (_isOperationDone) {
        _isOperationDone.set(true);
        _isOperationDone.notifyAll();
      }
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isOperationDone` accessed in synchronized context
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
    public boolean waitForSuccess() {
      try {
        synchronized (_isOperationDone) {
          while (!_isOperationDone.get()) {
            _isOperationDone.wait();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isOperationDone` accessed in synchronized context
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
      try {
        synchronized (_isOperationDone) {
          while (!_isOperationDone.get()) {
            _isOperationDone.wait();
          }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `_isOperationDone` accessed in synchronized context
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
        synchronized (_isOperationDone) {
          while (!_isOperationDone.get()) {
            _isOperationDone.wait();
          }
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `lock` accessed in synchronized context
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    long start = System.currentTimeMillis();
    System.out.println(start);
    synchronized (lock) {

      if (ref.get() != null) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `ref` accessed in synchronized context
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    synchronized (lock) {

      if (ref.get() != null) {
        try {
          int sum = 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `ref` accessed in synchronized context
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
          e.printStackTrace();
        }
        ref.set(null);
      }
    }
```

## RuleId[id=RedundantSuppression]
### RedundantSuppression
Redundant suppression
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterEvent.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T getAttribute(String attrName) {
    return getAttributeWithDefault(attrName, null);
  }
```

### RedundantSuppression
Redundant suppression
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

@SuppressWarnings("rawtypes")
public class MasterSlaveStateModelFactory extends StateModelFactory<StateModel> {
  int _delay;
  String _instanceName = "";
```

### RedundantSuppression
Redundant suppression
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T readDataAndStat(String path, Stat stat,
      boolean returnNullIfPathNotExists) {
    T data = null;
```

## RuleId[id=NonStrictComparisonCanBeEquality]
### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
    // check the confg for all of the params
    // throw a exception if they are not there
    if (totalClusters <= 0) {
      throw new Exception(
          "data config to the RUSHr locator does not contain a valid clusters property");
```

## RuleId[id=OptionalUsedAsFieldOrParameterType]
### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field '_postEventHandlerCallback'
in `helix-core/src/main/java/org/apache/helix/cloud/event/CloudEventHandler.java`
#### Snippet
```java
  private List<CloudEventListener> _unorderedEventListenerList = new ArrayList<>();
  private Optional<CloudEventListener> _preEventHandlerCallback = Optional.empty();
  private Optional<CloudEventListener> _postEventHandlerCallback = Optional.empty();

  /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field '_preEventHandlerCallback'
in `helix-core/src/main/java/org/apache/helix/cloud/event/CloudEventHandler.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(CloudEventHandler.class.getName());
  private List<CloudEventListener> _unorderedEventListenerList = new ArrayList<>();
  private Optional<CloudEventListener> _preEventHandlerCallback = Optional.empty();
  private Optional<CloudEventListener> _postEventHandlerCallback = Optional.empty();

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'shouldRefreshCacheOption'
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java

    private RebalanceTask(HelixManager manager, ClusterEventType clusterEventType,
        long nextRebalanceTime, Optional<Boolean> shouldRefreshCacheOption) {
      _manager = manager;
      _clusterEventType = clusterEventType;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field '_shouldRefreshCacheOption'
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
    final HelixManager _manager;
    final ClusterEventType _clusterEventType;
    private final Optional<Boolean> _shouldRefreshCacheOption;
    private long _nextRebalanceTime;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'metricCollectorOptional'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
   */
  protected WagedRebalancer(AssignmentMetadataStore assignmentMetadataStore,
      RebalanceAlgorithm algorithm, Optional<MetricCollector> metricCollectorOptional) {
    this(assignmentMetadataStore, algorithm, new DelayedAutoRebalancer(), null,
        // If metricCollector is not provided, instantiate a version that does not register metrics
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field '_controllerOpt'
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
public class DistClusterControllerStateModel extends AbstractHelixLeaderStandbyStateModel {
  private static Logger logger = LoggerFactory.getLogger(DistClusterControllerStateModel.class);
  protected Optional<HelixManager> _controllerOpt = Optional.empty();
  private final Set<Pipeline.Type> _enabledPipelineTypes;

```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'notificationTime'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  private void fireDataChangedEvents(final String path, Set<IZkDataListenerEntry> listeners,
      final OptionalLong notificationTime, boolean pathExists) {
    try {
      final ZkPathStatRecord pathStatRecord = new ZkPathStatRecord(path);
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'notificationTime'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
     * Note this method is not thread safe.
     */
    public void recordPathStat(Stat stat, OptionalLong notificationTime) {
      _checked = true;
      _stat = stat;
```

## RuleId[id=CharsetObjectCanBeUsed]
### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
        // write rawPayload
        g.writeRaw("\n  ");
        g.writeStringField("rawPayload", new String(Base64.encodeBase64(rawPayload), "UTF-8"));
      }

```

## RuleId[id=SystemOutErr]
### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/SetupConsumerCluster.java`
#### Snippet
```java
  public static void main(String[] args) {
    if (args.length < 1) {
      System.err.println("USAGE: java SetupConsumerCluster zookeeperAddress (e.g. localhost:2181)");
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/StartClusterManager.java`
#### Snippet
```java
        @Override
        public void run() {
          System.out.println("Shutting down cluster manager: " + manager.getInstanceName());
          manager.disconnect();
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/StartClusterManager.java`
#### Snippet
```java
  public static void main(String[] args) {
    if (args.length < 1) {
      System.err.println("USAGE: java StartClusterManager zookeeperAddress (e.g. localhost:2181)");
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Emitter.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length < 1) {
      System.err
          .println("USAGE: java Emitter rabbitmqServer (e.g. localhost) numberOfMessage (optional)");
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Emitter.java`
#### Snippet
```java
      }
    }
    System.out.println("Sending " + count + " messages with random topic id");

    ConnectionFactory factory = new ConnectionFactory();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Emitter.java`
#### Snippet
```java

      channel.basicPublish(EXCHANGE_NAME, routingKey, null, message.getBytes());
      System.out.println(" [x] Sent '" + routingKey + "':'" + message + "'");

      Thread.sleep(1000);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerThread.java`
#### Snippet
```java
      channel.queueBind(queueName, EXCHANGE_NAME, bindingKey);

      System.out.println(" [*] " + _consumerId + " Waiting for messages on " + bindingKey
          + ". To exit press CTRL+C");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerThread.java`
#### Snippet
```java
        String routingKey = delivery.getEnvelope().getRoutingKey();

        System.out.println(" [x] " + _consumerId + " Received '" + routingKey + "':'" + message
            + "'");
      }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerThread.java`
#### Snippet
```java
      }
    } catch (InterruptedException e) {
      System.err.println(" [-] " + _consumerId + " on " + _partition + " is interrupted ...");
    } catch (Exception e) {
      e.printStackTrace();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Consumer.java`
#### Snippet
```java
      Thread.currentThread().join();
    } catch (InterruptedException e) {
      System.err.println(" [-] " + _consumerId + " is interrupted ...");
    } catch (Exception e) {
      // TODO Auto-generated catch block
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Consumer.java`
#### Snippet
```java
        @Override
        public void run() {
          System.out.println("Shutting down consumer_" + consumerId);
          consumer.disconnect();
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Consumer.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length < 3) {
      System.err
          .println("USAGE: java Consumer zookeeperAddress (e.g. localhost:2181) consumerId (0-2), rabbitmqServer (e.g. localhost)");
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   */
  default void close() {
    System.out.println("Default close() was invoked! No operation was executed.");
  }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/HelixAdmin.java`
#### Snippet
```java
   */
  default void close() {
    System.out.println("Default close() was invoked! No operation was executed.");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
            e.printStackTrace();
          }
          System.out.println(i++ + "...");
          throw new Error("" + i);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
        }

        System.out.print(fromState);
        String nextState = getNext(next, fromState, toState);
        while (nextState != null && !nextState.equals(toState)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
        String nextState = getNext(next, fromState, toState);
        while (nextState != null && !nextState.equals(toState)) {
          System.out.print("->" + nextState);
          nextState = getNext(next, nextState, toState);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
        if (nextState == null) {
          // no path between fromState -> toState
          System.out.println("->null" + toState + " (no path avaliable)");
        } else {
          System.out.println("->" + toState);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
          System.out.println("->null" + toState + " (no path avaliable)");
        } else {
          System.out.println("->" + toState);
        }
      }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
    StateTransitionTableBuilder builder = new StateTransitionTableBuilder();
    Map<String, Map<String, String>> next = builder.buildTransitionTable(states, transitions);
    System.out.println(next);
    printPath(states, next);
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
            sb.append(partitionId).append(",");
          }
          System.out.println(sb.toString());
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
        boolean[] used = new boolean[partitionsPerNode.length];
        Arrays.fill(used, false);
        System.out.println(id + "-" + partitionsPerNode.length);
        nodeId = (id + r) % N;
        int count = partitionsPerNode.length;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java

    public void assign(int partitionId, int replicaId, int nodeId) {
      System.out.println("Assigning (" + partitionId + "," + replicaId + ") to " + nodeId);
      partitions[partitionId].nodeIds[replicaId] = nodeId;
      nodes[nodeId].partitionLists.get(replicaId).push(partitionId);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/StateModelConfigGenerator.java`
#### Snippet
```java
  public static void main(String[] args) {
    ZNRecordSerializer serializer = new ZNRecordSerializer();
    System.out.println(new String(serializer.serialize(generateConfigForMasterSlave())));
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java
      result.getRecord().getMapFields().put(snName, mapField);
    }
    System.out.println();
    return result;
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      }
    }
    System.out.println("\ndiff count = " + diffCount);
    System.out.println("\nmaster diff count:" + diffCountMaster);
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    }
    System.out.println("\ndiff count = " + diffCount);
    System.out.println("\nmaster diff count:" + diffCountMaster);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
        minCount = count;
      }
      System.out.print(count + " ");
    }
    System.out.println("\nMax count: " + maxCount + " min count:" + minCount);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      System.out.print(count + " ");
    }
    System.out.println("\nMax count: " + maxCount + " min count:" + minCount);
    System.out.println("\n master:");
    double sumMaster = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    }
    System.out.println("\nMax count: " + maxCount + " min count:" + minCount);
    System.out.println("\n master:");
    double sumMaster = 0;
    int maxCountMaster = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
        minCountMaster = count;
      }
      System.out.print(count + " ");
    }
    System.out.println("\nMean master: " + 1.0 * sumMaster / countsMap.size());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      System.out.print(count + " ");
    }
    System.out.println("\nMean master: " + 1.0 * sumMaster / countsMap.size());
    System.out.println("Max master count: " + maxCountMaster + " min count:" + minCountMaster);
    double mean = sum / (countsMap.size());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    }
    System.out.println("\nMean master: " + 1.0 * sumMaster / countsMap.size());
    System.out.println("Max master count: " + maxCountMaster + " min count:" + minCountMaster);
    double mean = sum / (countsMap.size());
    // calculate the deviation of the node distribution
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      deviation += (count - mean) * (count - mean);
    }
    System.out.println("Mean: " + mean + " normal deviation:"
        + Math.sqrt(deviation / countsMap.size()) / mean);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      histogram.set(stepNo, histogram.get(stepNo) + 1);
    }
    System.out.println("histogram:");
    for (Integer x : histogram) {
      System.out.print(x + " ");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    System.out.println("histogram:");
    for (Integer x : histogram) {
      System.out.print(x + " ");
    }
  }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/MessagePoster.java`
#### Snippet
```java
  public static void main(String[] args) {
    if (args.length < 4 || args.length > 6) {
      System.err.println("Usage: java " + MessagePoster.class.getName()
          + " zkServer cluster instance msgType [payloadString] [partition]");
      System.err.println("msgType can be one of test, fault");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/MessagePoster.java`
#### Snippet
```java
      System.err.println("Usage: java " + MessagePoster.class.getName()
          + " zkServer cluster instance msgType [payloadString] [partition]");
      System.err.println("msgType can be one of test, fault");
      System.err.println("payloadString is sent along with the fault msgType");
      System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/MessagePoster.java`
#### Snippet
```java
          + " zkServer cluster instance msgType [payloadString] [partition]");
      System.err.println("msgType can be one of test, fault");
      System.err.println("payloadString is sent along with the fault msgType");
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/MessagePoster.java`
#### Snippet
```java
      messagePoster
          .postFaultInjectionMessage(zkServer, cluster, instance, payloadString, partition);
      System.out.println("Posted " + msgType);
    } else {
      System.err.println("Message was not posted. Unknown msgType:" + msgType);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/MessagePoster.java`
#### Snippet
```java
      System.out.println("Posted " + msgType);
    } else {
      System.err.println("Message was not posted. Unknown msgType:" + msgType);
    }
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      nodeNextMap.get(master).add(slave);
    }
    System.out.println("next count: ");
    for (String key : nodeNextMap.keySet()) {
      System.out.println(nodeNextMap.get(key).size() + " ");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    System.out.println("next count: ");
    for (String key : nodeNextMap.keySet()) {
      System.out.println(nodeNextMap.get(key).size() + " ");
    }
    System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      System.out.println(nodeNextMap.get(key).size() + " ");
    }
    System.out.println();
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
        IdealCalculatorByConsistentHashing.calculateIdealState(instanceNames, partitions, replicas,
            dbName, new IdealCalculatorByConsistentHashing.FnvHash());
    System.out.println("\nMaster :");
    printIdealStateStats(result, "MASTER");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    printIdealStateStats(result, "MASTER");

    System.out.println("\nSlave :");
    printIdealStateStats(result, "SLAVE");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    printIdealStateStats(result, "SLAVE");

    System.out.println("\nTotal :");
    printIdealStateStats(result, "");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    int minCount = Integer.MAX_VALUE;

    System.out.println("Partition distributions: ");
    for (String k : countsMap.keySet()) {
      int count = countsMap.get(k);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
        minCount = count;
      }
      System.out.print(count + " ");
    }
    System.out.println();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      System.out.print(count + " ");
    }
    System.out.println();
    double mean = sum / (countsMap.size());
    // calculate the deviation of the node distribution
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      deviation += (count - mean) * (count - mean);
    }
    System.out.println("Mean: " + mean + " normal deviation:"
        + Math.sqrt(deviation / countsMap.size()));

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
        + Math.sqrt(deviation / countsMap.size()));

    System.out.println("Max count: " + maxCount + " min count:" + minCount);
    /*
     * int steps = 10; int stepLen = (maxCount - minCount)/steps; List<Integer>
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      }
    }
    System.out.println("diff count = " + diffCount);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      deviation += (count - mean) * (count - mean);
    }
    System.out.println("hashring Mean: " + mean + " normal deviation:"
        + Math.sqrt(deviation / countsMap.size()));

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      }
    }
    System.out.println("ring diff: " + diff);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      deviation += (mean - vals[i]) * (mean - vals[i]);
    }
    System.out.println("normalized deviation: " + Math.sqrt(deviation / vals.length) / mean);
  }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/TaskAdmin.java`
#### Snippet
```java
      if (argNb == 0) {
        if (args != null && args.length > 0) {
          System.err.println(option.getArgName() + " shall have " + argNb + " arguments (was "
              + Arrays.toString(args) + ")");
          return false;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/TaskAdmin.java`
#### Snippet
```java
      } else {
        if (args == null || args.length != argNb) {
          System.err.println(option.getArgName() + " shall have " + argNb + " arguments (was "
              + Arrays.toString(args) + ")");
          return false;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ExampleParticipant.java`
#### Snippet
```java
    }

    System.out.println("Starting Instances with ZK:" + zkConnectString + ", cluster: " + clusterName
        + ", instances: " + hosts);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ExampleParticipant.java`
#### Snippet
```java

    for (String instanceName : hosts) {
      System.out.println("Starting Instance:" + instanceName);
      ExampleParticipant process =
          new ExampleParticipant(zkConnectString, clusterName, instanceName, delay);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ExampleParticipant.java`
#### Snippet
```java
          new ExampleParticipant(zkConnectString, clusterName, instanceName, delay);
      process.start();
      System.out.println("Started Instance:" + instanceName);
      Runtime.getRuntime().addShutdownHook(new HelixManagerShutdownHook(process.getManager()));
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java

    if (fhdr.getMagic() != FileTxnLog.TXNLOG_MAGIC) {
      System.err.println("Invalid magic number for " + logfilepath);
      System.exit(2);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
      bw.newLine();
    } else {
      System.out.println("ZooKeeper Transactional Log File with dbid " + fhdr.getDbid()
          + " txnlog format version " + fhdr.getVersion());
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
          bw.newLine();
        } else {
          System.out.println("EOF reached after " + count + " txns.");
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
          bw.newLine();
        } else {
          System.out.println("EOF reached after " + count + " txns.");
        }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
        bw.newLine();
      } else {
        System.out.println(formatTransaction(txnLogEntry.getHeader(), txnLogEntry.getTxn()));
      }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
      bw.newLine();
    } else {
      System.out.println(sb);
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length != 2 && args.length != 3) {
      System.err.println("USAGE: LogFormatter <log|snapshot> log_file");
      System.exit(2);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
      bw.newLine();
    } else {
      System.out.println(sessions);
    }
    traverse(dt, 1, "/");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
      if (argNb == 0) {
        if (args != null && args.length > 0) {
          System.err.println(option.getArgName() + " shall have " + argNb + " arguments (was "
              + Arrays.toString(args) + ")");
          return false;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
      } else {
        if (args == null || args.length != argNb) {
          System.err.println(option.getArgName() + " shall have " + argNb + " arguments (was "
              + Arrays.toString(args) + ")");
          return false;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
      }
      FileWriter fos = new FileWriter(_outputFileName);
      System.out.println(_outputFileName);
      _outputFile = new PrintWriter(fos);
  }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length == 1 && args[0].equals("setup-test-cluster")) {
      System.out
          .println("By default setting up TestCluster with 6 instances, 10 partitions, Each partition will have 3 replicas");
      new ClusterSetup("localhost:2181").setupTestCluster("TestCluster");
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      List<String> clusters = setupTool.getClusterManagementTool().getClusters();

      System.out.println("Existing clusters:");
      for (String cluster : clusters) {
        System.out.println(cluster);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      System.out.println("Existing clusters:");
      for (String cluster : clusters) {
        System.out.println(cluster);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        resourceNames = setupTool.getClusterManagementTool()
            .getResourcesInClusterWithTag(clusterName, tagValue);
        System.out.println(
            "Existing resources in cluster " + clusterName + " with tag " + tagValue + " :");
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      } else {
        resourceNames = setupTool.getClusterManagementTool().getResourcesInCluster(clusterName);
        System.out.println("Existing resources in cluster " + clusterName + ":");
      }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

      for (String resourceName : resourceNames) {
        System.out.println(resourceName);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
          setupTool.getClusterManagementTool().getInstancesInCluster(clusterName);

      System.out.println("Existing resources in cluster " + clusterName + ":");
      for (String resourceName : resourceNames) {
        System.out.println(resourceName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      System.out.println("Existing resources in cluster " + clusterName + ":");
      for (String resourceName : resourceNames) {
        System.out.println(resourceName);
      }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      }

      System.out.println("Instances in cluster " + clusterName + ":");
      for (String InstanceName : instances) {
        System.out.println(InstanceName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      System.out.println("Instances in cluster " + clusterName + ":");
      for (String InstanceName : instances) {
        System.out.println(InstanceName);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      }

      System.out.println("Instances in cluster " + clusterName + ":");
      for (String instanceName : instances) {
        System.out.println(instanceName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      System.out.println("Instances in cluster " + clusterName + ":");
      for (String instanceName : instances) {
        System.out.println(instanceName);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

      String result = new String(config.serialize(new ZNRecordSerializer()));
      System.out.println("InstanceConfig: " + result);
      return 0;
    } else if (cmd.hasOption(listResourceInfo)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

      if (idealState != null) {
        System.out.println("IdealState for " + resourceName + ":");
        System.out.println(new String(idealState.serialize(new ZNRecordSerializer())));
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      if (idealState != null) {
        System.out.println("IdealState for " + resourceName + ":");
        System.out.println(new String(idealState.serialize(new ZNRecordSerializer())));
      } else {
        System.out.println("No idealState for " + resourceName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        System.out.println(new String(idealState.serialize(new ZNRecordSerializer())));
      } else {
        System.out.println("No idealState for " + resourceName);
      }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      }

      System.out.println();

      if (externalView != null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

      if (externalView != null) {
        System.out.println("ExternalView for " + resourceName + ":");
        System.out.println(new String(externalView.serialize(new ZNRecordSerializer())));
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      if (externalView != null) {
        System.out.println("ExternalView for " + resourceName + ":");
        System.out.println(new String(externalView.serialize(new ZNRecordSerializer())));
      } else {
        System.out.println("No externalView for " + resourceName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        System.out.println(new String(externalView.serialize(new ZNRecordSerializer())));
      } else {
        System.out.println("No externalView for " + resourceName);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
          partInfo.setListField(partitionName, idealStateRec.getListField(partitionName));
        }
        System.out.println("IdealState for " + resourceName + "/" + partitionName + ":");
        System.out.println(new String(new ZNRecordSerializer().serialize(partInfo)));
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        }
        System.out.println("IdealState for " + resourceName + "/" + partitionName + ":");
        System.out.println(new String(new ZNRecordSerializer().serialize(partInfo)));
      } else {
        System.out.println("No idealState for " + resourceName + "/" + partitionName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        System.out.println(new String(new ZNRecordSerializer().serialize(partInfo)));
      } else {
        System.out.println("No idealState for " + resourceName + "/" + partitionName);
      }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      }

      System.out.println();

      if (externalView != null) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        }

        System.out.println("ExternalView for " + resourceName + "/" + partitionName + ":");
        System.out.println(new String(new ZNRecordSerializer().serialize(partInfo)));
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

        System.out.println("ExternalView for " + resourceName + "/" + partitionName + ":");
        System.out.println(new String(new ZNRecordSerializer().serialize(partInfo)));
      } else {
        System.out.println("No externalView for " + resourceName + "/" + partitionName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
        System.out.println(new String(new ZNRecordSerializer().serialize(partInfo)));
      } else {
        System.out.println("No externalView for " + resourceName + "/" + partitionName);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
          setupTool.getClusterManagementTool().getStateModelDefs(clusterName);

      System.out.println("Existing state models:");
      for (String stateModel : stateModels) {
        System.out.println(stateModel);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      System.out.println("Existing state models:");
      for (String stateModel : stateModels) {
        System.out.println(stateModel);
      }
      return 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
          setupTool.getClusterManagementTool().getStateModelDef(clusterName, stateModel);
      String result = new String(new ZNRecordSerializer().serialize(stateModelDef.getRecord()));
      System.out.println("StateModelDefinition: " + result);
      return 0;
    } else if (cmd.hasOption(addStateModelDef)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
      }
    } else {
      System.out
          .println("Saving " + zkPath + " to " + new File(fsPath + suffix).getCanonicalPath());
      OutputStream out = new FileOutputStream(fsPath + suffix);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
  public void upload(String zkPath, String fsPath) throws Exception {
    File file = new File(fsPath);
    System.out.println("Uploading " + file.getCanonicalPath() + " to " + zkPath);
    zkPath = zkPath.replaceAll("[/]+", "/");
    int index = -1;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("failed to parse command-line args: " + Arrays.asList(cliArgs)
          + ", exception: " + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
        timeoutValue = Long.valueOf(timeoutStr);
      } catch (NumberFormatException ex) {
        System.err.println(
            "Invalid timeout value " + timeoutStr + ". Using default value: " + timeoutValue);
      }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
  public void verifyLiveNodes(String[] args) {
    if (args == null || args.length == 0) {
      System.err.println("Illegal arguments for " + verifyLiveNodes);
      return;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
        new ClusterLiveNodesVerifier(_zkclient, clusterName, liveNodes);
    boolean success = verifier.verify(_timeoutValue);
    System.out.println(success ? "Successful" : "Failed");

    if (!success) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
  public void verifyExternalView(String[] args) {
    if (args == null || args.length == 0) {
      System.err.println("Illegal arguments for " + verifyExternalView);
      return;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
        new ClusterExternalViewVerifier(_zkclient, clusterName, liveNodes);
    boolean success = verifier.verifyByPolling(_timeoutValue);
    System.out.println(success ? "Successful" : "Failed");

    if (!success) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
    ZNRecord record = _zkclient.readData(path, true);
    if (record == null) {
      System.out.println("null");
    } else {
      System.out.println(new String(_serializer.serialize(record)));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
      System.out.println("null");
    } else {
      System.out.println(new String(_serializer.serialize(record)));
    }
  }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
  public void verifyClusterState(String[] args) {
    if (args == null || args.length == 0) {
      System.err.println("Illegal arguments for " + verifyExternalView);
      return;
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java

    boolean success = clusterVerifier.verify(_timeoutValue);
    System.out.println(success ? "Successful" : "Failed");

    if (!success) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ToolsUtil.java`
#### Snippet
```java
      return cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: " + pe);
      printUsage(cliOptions);
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

          if (match) {
            System.out.println(line);
          }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
  // debug
  static void printFiles(File[] files) {
    System.out.println("START print");
    for (int i = 0; i < files.length; i++) {
      File file = files[i];
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    for (int i = 0; i < files.length; i++) {
      File file = files[i];
      System.out.println(file.getName() + ", " + file.lastModified());
    }
    System.out.println("END print");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
      System.out.println(file.getName() + ", " + file.lastModified());
    }
    System.out.println("END print");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

          if (match) {
            System.out.println(line);
          }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/LocalZKServer.java`
#### Snippet
```java
      logDir = args[2];
    }
    System.out.println("Starting Zookeeper locally at port:" + port + " dataDir:" + dataDir
        + " logDir:" + logDir);
    LocalZKServer localZKServer = new LocalZKServer();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, args);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
      }
    } else {
      System.err.println("Unsupported scheme. srcScheme: " + srcScheme + ", dstScheme: " + dstScheme);
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
      // Print
      if (!successPaths.isEmpty()) {
        System.out.println("Copy " + successPaths);
      }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java

      if (!failPaths.isEmpty()) {
        System.out.println("Skip " + failPaths);
      }
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/HelixClusterVerifier.java`
#### Snippet
```java
   */
  default void close() {
    System.out.println("Default close() was invoked! No operation was executed.");
  }
}
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length != 2) {
      System.err.println("USAGE: ZkLogCSVFormatter log_file output_dir");
      System.exit(2);
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
    File outputDir = new File(args[1]);
    if (!outputDir.exists() || !outputDir.isDirectory()) {
      System.err.println(outputDir.getAbsolutePath() + " does NOT exist or is NOT a directory");
      System.exit(2);
    }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
            String zkSessionId = getAttributeValue(inputLine, "session:");
            if (zkSessionId == null) {
              System.err.println("no zk session id associated with the adding of live instance: "
                  + inputLine);
            } else {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
          String zkSessionId = getAttributeValue(inputLine, "session:");
          if (zkSessionId == null) {
            System.err.println("no zk session id associated with the closing of zk session: "
                + inputLine);
          } else {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
      hrPerfBw.close();
    } catch (Exception e) {
      System.err.println("Error: " + e.getMessage());
    }
  }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
          timeoutValue = Long.parseLong(timeoutStr);
        } catch (Exception e) {
          System.err.println("Exception in converting " + timeoutStr + " to long. Use default (0)");
        }
      }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
          periodValue = Long.parseLong(periodStr);
        } catch (Exception e) {
          System.err.println("Exception in converting " + periodStr
              + " to long. Use default (1000)");
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

      // debug
      System.err.println(result + ": " + verifier + ": wait " + (endTime - startTime)
          + "ms to verify");

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      return cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    zkClient.delete("/" + clusterName + "/CONFIGS/CLUSTER/verify");
    // debug
    System.err.println(result + ": wait " + (endTime - startTime) + "ms, " + verifier);

    return result;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
  public static void main(String[] args) {
    boolean result = verifyState(args);
    System.out.println(result ? "Successful" : "failed");
    System.exit(1);
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

    public void onBecomeStandbyFromOffline(Message message, NotificationContext context) {
      System.out.println("LeaderStandbyStateModel.onBecomeStandbyFromOffline():" + _instanceName
          + " transitioning from " + message.getFromState() + " to " + message.getToState()
          + " for " + message.getResourceName() + " " + message.getPartitionName());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

    public void onBecomeOfflineFromStandby(Message message, NotificationContext context) {
      System.out.println("LeaderStandbyStateModel.onBecomeOfflineFromStandby():" + _instanceName
          + " transitioning from " + message.getFromState() + " to " + message.getToState()
          + " for " + message.getResourceName() + " " + message.getPartitionName());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

    public void onBecomeDroppedFromOffline(Message message, NotificationContext context) {
      System.out.println("LeaderStandbyStateModel.onBecomeDroppedFromOffline():" + _instanceName
          + " transitioning from " + message.getFromState() + " to " + message.getToState()
          + " for " + message.getResourceName() + " " + message.getPartitionName());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

    public void onBecomeLeaderFromStandby(Message message, NotificationContext context) {
      System.out.println("LeaderStandbyStateModel.onBecomeLeaderFromStandby():" + _instanceName
          + " transitioning from " + message.getFromState() + " to " + message.getToState()
          + " for " + message.getResourceName() + " " + message.getPartitionName());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

    public void onBecomeStandbyFromLeader(Message message, NotificationContext context) {
      System.out.println("LeaderStandbyStateModel.onBecomeStandbyFromLeader():" + _instanceName
          + " transitioning from " + message.getFromState() + " to " + message.getToState()
          + " for " + message.getResourceName() + " " + message.getPartitionName());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/OnlineOfflineStateModelFactory.java`
#### Snippet
```java

    public void onBecomeOfflineFromOnline(Message message, NotificationContext context) {
      System.out.println(
          "OnlineOfflineStateModelFactory.onBecomeOfflineFromOnline():" + _instanceName
              + " transitioning from " + message.getFromState() + " to " + message.getToState()
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/OnlineOfflineStateModelFactory.java`
#### Snippet
```java

    public void onBecomeOnlineFromOffline(Message message, NotificationContext context) {
      System.out.println(
          "OnlineOfflineStateModelFactory.onBecomeOnlineFromOffline():" + _instanceName
              + " transitioning from " + message.getFromState() + " to " + message.getToState()
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/OnlineOfflineStateModelFactory.java`
#### Snippet
```java

    public void onBecomeDroppedFromOffline(Message message, NotificationContext context) {
      System.out.println(
          "OnlineOfflineStateModelFactory.onBecomeDroppedFromOffline():" + _instanceName
              + " transitioning from " + message.getFromState() + " to " + message.getToState()
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
      return cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
        File f = new File(file);
        if (!f.exists()) {
          System.err.println("static config file doesn't exist");
          System.exit(1);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
    }
    // Espresso_driver.py will consume this
    System.out.println("Starting Process with ZK:" + zkConnectString);

    ExampleProcess process =
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
      String partitionName = message.getPartitionName();
      String instanceName = message.getTgtName();
      System.out.println(instanceName + " becomes OFFLINE from ERROR for " + partitionName);
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
  public static void main(String[] args) {
    if (args.length < 3) {
      System.err.println("USAGE: DummyParticipant zkAddress clusterName instanceName");
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
    @Override
    public void reset() {
      System.out.println("Default MockMSStateModel.reset() invoked");
    }
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
      String partitionName = message.getPartitionName();
      String instanceName = message.getTgtName();
      System.out.println(instanceName + " becomes SLAVE from OFFLINE for " + partitionName);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
      String partitionName = message.getPartitionName();
      String instanceName = message.getTgtName();
      System.out.println(instanceName + " becomes MASTER from SLAVE for " + partitionName);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
      String partitionName = message.getPartitionName();
      String instanceName = message.getTgtName();
      System.out.println(instanceName + " becomes SLAVE from MASTER for " + partitionName);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
      String partitionName = message.getPartitionName();
      String instanceName = message.getTgtName();
      System.out.println(instanceName + " becomes DROPPED from OFFLINE for " + partitionName);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
      String partitionName = message.getPartitionName();
      String instanceName = message.getTgtName();
      System.out.println(instanceName + " becomes OFFLINE from SLAVE for " + partitionName);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleHelper.java`
#### Snippet
```java
    if (zkServer != null) {
      zkServer.shutdown();
      System.out.println("Shut down zookeeper at port " + zkServer.getPort() + " in thread "
          + Thread.currentThread().getName());
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleHelper.java`
#### Snippet
```java

  public static ZkServer startZkServer(String zkAddr) {
    System.out.println("Start zookeeper at " + zkAddr + " in thread "
        + Thread.currentThread().getName());

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

    public void onBecomeSlaveFromOffline(Message message, NotificationContext context) {
      System.out.println(_instanceName + " transitioning from " + message.getFromState() + " to "
          + message.getToState() + " for " + partitionName);
      sleep();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

    public void onBecomeMasterFromSlave(Message message, NotificationContext context) {
      System.out.println(_instanceName + " transitioning from " + message.getFromState() + " to "
          + message.getToState() + " for " + partitionName);
      sleep();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

    public void onBecomeOfflineFromSlave(Message message, NotificationContext context) {
      System.out.println(_instanceName + " transitioning from " + message.getFromState() + " to "
          + message.getToState() + " for " + partitionName);
      sleep();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

    public void onBecomeDroppedFromOffline(Message message, NotificationContext context) {
      System.out.println(_instanceName + " Dropping partition " + partitionName);
      sleep();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

    public void onBecomeSlaveFromMaster(Message message, NotificationContext context) {
      System.out.println(_instanceName + " transitioning from " + message.getFromState() + " to "
          + message.getToState() + " for " + partitionName);
      sleep();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length < 3) {
      System.err
          .println("USAGE: IdealStateExample zkAddress clusterName idealStateMode (FULL_AUTO, SEMI_AUTO, or CUSTOMIZED) idealStateJsonFile (required for CUSTOMIZED mode)");
      System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java
    if (idealStateRebalancerMode == RebalanceMode.CUSTOMIZED) {
      if (args.length < 4) {
        System.err.println("Missng idealStateJsonFile for CUSTOMIZED ideal state mode");
        System.exit(1);
      }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateBuilderExample.java`
#### Snippet
```java

    if (args.length < 3) {
      System.err
          .println("USAGE: java IdealStateBuilderExample zkAddress clusterName idealStateMode"
              + " (FULL_AUTO, SEMI_AUTO, CUSTOMIZED, or USER_DEFINED)");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapHandler.java`
#### Snippet
```java
    @Transition(from = "SLAVE", to = "MASTER")
    public void slaveToMaster(Message message, NotificationContext context) {
      System.out.println("BootstrapProcess.BootstrapStateModel.slaveToMaster()");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapHandler.java`
#### Snippet
```java
    @Transition(from = "SLAVE", to = "OFFLINE")
    public void slaveToOffline(Message message, NotificationContext context) {
      System.out.println("BootstrapProcess.BootstrapStateModel.slaveToOffline()");
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapHandler.java`
#### Snippet
```java
    @Transition(from = "OFFLINE", to = "SLAVE")
    public void offlineToSlave(Message message, NotificationContext context) {
      System.out.println("BootstrapProcess.BootstrapStateModel.offlineToSlave()");
      HelixManager manager = context.getManager();
      ClusterMessagingService messagingService = manager.getMessagingService();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapHandler.java`
#### Snippet
```java
        // could not find any other node hosting the partition
      } else if (responseHandler.getBootstrapUrl() != null) {
        System.out.println("Got bootstrap url:" + responseHandler.getBootstrapUrl());
        System.out.println("Got backup time:" + responseHandler.getBootstrapTime());
        // Got the url fetch it
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapHandler.java`
#### Snippet
```java
      } else if (responseHandler.getBootstrapUrl() != null) {
        System.out.println("Got bootstrap url:" + responseHandler.getBootstrapUrl());
        System.out.println("Got backup time:" + responseHandler.getBootstrapTime());
        // Got the url fetch it
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java

  private static void printState(String msg) {
    System.out.println("CLUSTER STATE: " + msg);
    ExternalView resourceExternalView = admin.getResourceExternalView(CLUSTER_NAME, RESOURCE_NAME);
    TreeSet<String> sortedSet = new TreeSet<String>(resourceExternalView.getPartitionSet());
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
      sb.append(INSTANCE_CONFIG_LIST.get(i).getInstanceName()).append("\t");
    }
    System.out.println(sb);
    for (String partitionName : sortedSet) {
      sb.delete(0, sb.length() - 1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
        }
      }
      System.out.println(sb);
    }
    System.out.println("###################################################################");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
      System.out.println(sb);
    }
    System.out.println("###################################################################");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java

  public static void echo(Object obj) {
    System.out.println(obj);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void rebalanceUtilUsageWithZkBasedDataProvider() {
    System.out.println(String.format("Start rebalancing using WeightAwareRebalanceUtil and ZK based Capacity/Weight data providers for %d resources.", nResources));

    // Init a zkserver & cluster nodes for this example
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
    ExampleHelper.stopZkServer(zkServer);

    System.out.println(String.format("Finished rebalancing using WeightAwareRebalanceUtil and ZK based Capacity/Weight data providers for %d resources.", nResources));
    printAssignmentInfo(assignment);
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void printAssignmentInfo(ResourcesStateMap assignment) {
    System.out.println("The result assignment is: ");
    Map<String, Integer> instanceLoad = new HashMap<>();
    for (String resource : assignment.getResourceStatesMap().keySet()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
    Map<String, Integer> instanceLoad = new HashMap<>();
    for (String resource : assignment.getResourceStatesMap().keySet()) {
      System.out.println(resource + ": " + assignment.getPartitionStateMap(resource).toString());
      for (Map<String, String> stateMap : assignment.getPartitionStateMap(resource).getStateMap().values()) {
        for (String instance : stateMap.keySet()) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
      }
    }
    System.out.println("Instance load: " + instanceLoad + "\n");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void rebalanceWithFaultZone() {
    System.out.println(String.format("Start rebalancing using WeightAwareRebalanceUtil for %d resources in a topology aware cluster.", nResources));

    /**
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
      config.setDomain(domainStr);
      instanceConfigs.add(config);
      System.out.println(String.format("Set instance %s domain to be %s.", instance, domainStr));
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
        Collections.<AbstractRebalanceSoftConstraint>singletonList(evenConstraint));

    System.out.println(String.format("Finished rebalancing using WeightAwareRebalanceUtil for %d resources in a topology aware cluster with %d fault zones.", nResources, nParticipants / 3));
    printAssignmentInfo(assignment);
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void rebalanceUtilUsage() {
    System.out.println(String.format("Start rebalancing using WeightAwareRebalanceUtil for %d resources.", nResources));

    /**
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
        Collections.<AbstractRebalanceHardConstraint>singletonList(capacityConstraint),
        Collections.<AbstractRebalanceSoftConstraint>singletonList(evenConstraint));
    System.out.println(String.format("Finished rebalancing using WeightAwareRebalanceUtil for %d resources.", nResources));
    printAssignmentInfo(assignment);
  }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
      return cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
    }
    // Espresso_driver.py will consume this
    System.out.println("Starting Process with ZK:" + zkConnectString);

    BootstrapProcess process =
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
  @Override
  public void onTimeOut() {
    System.out.println("Timed out");
  }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/RestAdminApplication.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      System.err.println("RestAdminApplication: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
  private static void demo(String clusterName, String zkAddress, String serviceName,
      int numServices, Mode mode) throws Exception, UnknownHostException {
    System.out.println("START:Service discovery demo mode:" + mode);
    ServiceDiscovery serviceDiscovery = new ServiceDiscovery(zkAddress, clusterName, mode);
    serviceDiscovery.start();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    int startPort = 12000;
    List<MyService> serviceList = new ArrayList<MyService>();
    System.out.println("\tRegistering service");
    for (int i = 0; i < numServices; i++) {
      String host = InetAddress.getLocalHost().getHostName();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
      service.start();
      serviceList.add(service);
      System.out.println("\t\t" + serviceId);
    }
    listAvailableServices(serviceDiscovery);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    }
    serviceDiscovery.stop();
    System.out.println("END:Service discovery demo mode:" + mode);
    System.out.println("=============================================");
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    serviceDiscovery.stop();
    System.out.println("END:Service discovery demo mode:" + mode);
    System.out.println("=============================================");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
  private static void listAvailableServices(ServiceDiscovery serviceDiscovery) {
    List<ServiceMetadata> findAllServices = serviceDiscovery.findAllServices();
    System.out.println("\tSERVICES AVAILABLE");
    System.out.printf("\t\t%s \t%s \t\t\t%s\n", "SERVICENAME", "HOST", "PORT");
    for (ServiceMetadata serviceMetadata : findAllServices) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    List<ServiceMetadata> findAllServices = serviceDiscovery.findAllServices();
    System.out.println("\tSERVICES AVAILABLE");
    System.out.printf("\t\t%s \t%s \t\t\t%s\n", "SERVICENAME", "HOST", "PORT");
    for (ServiceMetadata serviceMetadata : findAllServices) {
      System.out.printf("\t\t%s \t%s \t\t%s\n", serviceMetadata.getServiceName(),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    System.out.printf("\t\t%s \t%s \t\t\t%s\n", "SERVICENAME", "HOST", "PORT");
    for (ServiceMetadata serviceMetadata : findAllServices) {
      System.out.printf("\t\t%s \t%s \t\t%s\n", serviceMetadata.getServiceName(),
          serviceMetadata.getHost(), serviceMetadata.getPort());
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    MyService service = serviceList.get(index);
    String serviceId = service.getServiceId();
    System.out.println("\tDeregistering service:\n\t\t" + serviceId);
    serviceDiscovery.deregister(serviceId);
    switch (mode) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
      break;
    case POLL:
      System.out.println("\tSleeping for poll interval:" + ServiceDiscovery.DEFAULT_POLL_INTERVAL);
      Thread.sleep(ServiceDiscovery.DEFAULT_POLL_INTERVAL + 1000);
      break;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
    listAvailableServices(serviceDiscovery);
    Thread.sleep(100);
    System.out.println("\tRegistering service:" + serviceId);
    serviceDiscovery.register(serviceId, service.getMetadata());
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockProcess.java`
#### Snippet
```java
      @Override
      public void run() {
        System.out.println("Shutting down " + instanceName);
        lockProcess.stop();
      }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockProcess.java`
#### Snippet
```java

  public void start() throws Exception {
    System.out.println("STARTING " + instanceName);
    configureInstance(instanceName);
    participantManager =
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockProcess.java`
#### Snippet
```java
      startController();
    }
    System.out.println("STARTED " + instanceName);

  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/Lock.java`
#### Snippet
```java
  @Transition(from = "OFFLINE", to = "ONLINE")
  public void lock(Message m, NotificationContext context) {
    System.out.println(context.getManager().getInstanceName() + " acquired lock:" + lockName);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/Lock.java`
#### Snippet
```java
  @Transition(from = "ONLINE", to = "OFFLINE")
  public void release(Message m, NotificationContext context) {
    System.out.println(context.getManager().getInstanceName() + " releasing lock:" + lockName);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
      Thread.sleep(5000);
      printStatus(admin, clusterName, lockGroupName);
      System.out.println("Stopping localhost_12000");
      processArray[0].interrupt();
      Thread.sleep(3000);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
              Thread.currentThread().join();
            } catch (InterruptedException e) {
              System.out.println(instanceName + "Interrupted");
              if (lockProcess != null) {
                lockProcess.stop();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
    // System.out.println(externalView);
    TreeSet<String> treeSet = new TreeSet<String>(externalView.getPartitionSet());
    System.out.println("lockName" + "\t" + "acquired By");
    System.out.println("======================================");
    for (String lockName : treeSet) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
    TreeSet<String> treeSet = new TreeSet<String>(externalView.getPartitionSet());
    System.out.println("lockName" + "\t" + "acquired By");
    System.out.println("======================================");
    for (String lockName : treeSet) {
      Map<String, String> stateMap = externalView.getStateMap(lockName);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
        }
      }
      System.out.println(lockName + "\t" + ((acquiredBy != null) ? acquiredBy : "NONE"));
    }
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    ZNRecordStreamingSerializer serializer = new ZNRecordStreamingSerializer();
    byte[] bytes = serializer.serialize(record);
    System.out.println(new String(bytes));
    ZNRecord record2 = (ZNRecord) serializer.deserialize(bytes);
    System.out.println(record2);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    System.out.println(new String(bytes));
    ZNRecord record2 = (ZNRecord) serializer.deserialize(bytes);
    System.out.println(record2);

    long start = System.currentTimeMillis();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    }
    long end = System.currentTimeMillis();
    System.out.println("ZNRecordStreamingSerializer time used: " + (end - start));

    ZNRecordSerializer serializer2 = new ZNRecordSerializer();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    }
    end = System.currentTimeMillis();
    System.out.println("ZNRecordSerializer time used: " + (end - start));

  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/JoinTask.java`
#### Snippet
```java
  protected void executeImpl(String resourceName, int numPartitions, int partitionNum)
      throws Exception {
    System.out.println("Executing JoinTask for " + resourceName + "_" + partitionNum);
    long numClicks = resultStore.llen(_clickList);
    List<String> clickEvents = resultStore.lrange(_clickList, 0, numClicks - 1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
      }
    }
    System.out.println("Done populating dummy data");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
      @Override
      public void run() {
        System.out.println("Shutting down cluster manager: " + manager.getInstanceName());
        manager.disconnect();
      }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length != 3) {
      System.err.println("USAGE: java TaskExecutionDemo zkPort redisHost redisPort");
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/CountTask.java`
#### Snippet
```java
  protected void executeImpl(String resourceName, int numPartitions, int partitionNum)
      throws Exception {
    System.out.println("Running AggTask for " + resourceName + "_" + partitionNum + " for "
        + _eventSource + " " + _groupByCol);
    if (!(_eventSource.equals(FilterTask.FILTERED_IMPRESSIONS) || _eventSource
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Worker.java`
#### Snippet
```java
      Thread.currentThread().join();
    } catch (InterruptedException e) {
      System.err.println(" [-] " + _instanceName + " is interrupted ...");
    } catch (Exception e) {
      // TODO Auto-generated catch block
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Worker.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length != 4) {
      System.err
          .println("USAGE: java Worker zookeeperAddress redisServerHost redisServerPort workerId");
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Worker.java`
#### Snippet
```java
        @Override
        public void run() {
          System.out.println("Shutting down " + _instanceName);
          disconnect();
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/ReportTask.java`
#### Snippet
```java
  private void printCounts(String tableName) throws Exception {
    Map<String, String> counts = resultStore.hgetAll(tableName);
    System.out.println(counts);
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/ReportTask.java`
#### Snippet
```java
  protected void executeImpl(String resourceName, int numPartitions, int partitionNum)
      throws Exception {
    System.out.println("Running reports task");

    System.out.println("Impression counts per country");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/ReportTask.java`
#### Snippet
```java
    System.out.println("Running reports task");

    System.out.println("Impression counts per country");
    printCounts(FilterTask.FILTERED_IMPRESSIONS + "_country_counts");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/ReportTask.java`
#### Snippet
```java
    printCounts(FilterTask.FILTERED_IMPRESSIONS + "_country_counts");

    System.out.println("Click counts per country");
    printCounts(JoinTask.JOINED_CLICKS + "_country_counts");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/ReportTask.java`
#### Snippet
```java
    printCounts(JoinTask.JOINED_CLICKS + "_country_counts");

    System.out.println("Impression counts per gender");
    printCounts(FilterTask.FILTERED_IMPRESSIONS + "_gender_counts");

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/ReportTask.java`
#### Snippet
```java
    printCounts(FilterTask.FILTERED_IMPRESSIONS + "_gender_counts");

    System.out.println("Click counts per gender");
    printCounts(JoinTask.JOINED_CLICKS + "_gender_counts");
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/FilterTask.java`
#### Snippet
```java
  protected void executeImpl(String resourceName, int numPartitions, int partitionNum)
      throws Exception {
    System.out.println("Executing filter task for " + resourceName + "_" + partitionNum + " for "
        + _dataSource);
    long len = resultStore.llen(_dataSource);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
              String stringError = ec.getStringError();
              if (stringError != null && stringError.length() > 0)
                System.err.println(stringError);
              // System.out.println(ec.getStringOutput());

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java

              sleep = Math.min(2 * sleep, 2 * 60 * 1000);
              System.out.println("Failed to rsync retrying in " + sleep / 1000 + " seconds");
            } else {
              sleep = 1000;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
      ProcessBuilder pb =
          new ProcessBuilder("rsync", remoteLogDir + "/" + relativePath, localLogDir);
      System.out.println("Rsyncing source:" + remoteLogDir + "/" + relativePath + " dest:"
          + localLogDir);
      ExternalCommand ec = new ExternalCommand(pb);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
      exitVal = ec.waitFor();
      if (exitVal != 0) {
        System.out.println("Failed to rsync " + ec.getStringError());
      } else {
        return true;
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/CheckpointFile.java`
#### Snippet
```java
    File tempCheckpointFile = new File(checkpointDirPath + "/" + CHECK_POINT_FILE + TEMP);
    if (tempCheckpointFile.exists() && !tempCheckpointFile.delete()) {
      System.err.println("unable to erase temp SCN file: " + tempCheckpointFile.getAbsolutePath());
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/CheckpointFile.java`
#### Snippet
```java
    File checkpointfile = new File(checkpointFileName);
    if (checkpointfile.exists() && !checkpointfile.renameTo(tempCheckpointFile)) {
      System.err.println("unable to backup scn file");
    }
    if (!checkpointfile.createNewFile()) {
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/CheckpointFile.java`
#### Snippet
```java
    }
    if (!checkpointfile.createNewFile()) {
      System.err.println("unable to create new SCN file:" + checkpointfile.getAbsolutePath());
    }
    FileWriter writer = new FileWriter(checkpointfile);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/CheckpointFile.java`
#### Snippet
```java
    writer.flush();
    writer.close();
    System.out.println("scn persisted: " + lastRecordProcessed.txid);

  }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/SetupCluster.java`
#### Snippet
```java
  public static void main(String[] args) {
    if (args.length < 2) {
      System.err
          .println("USAGE: java SetupCluster zookeeperAddress(e.g. localhost:2181) numberOfNodes");
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
  public void run() {
    long start = System.currentTimeMillis();
    System.out.println(start);
    try {
      int sum = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    ref.set(null);
    long end = System.currentTimeMillis();
    System.out.println("time:" + (end - start));
  }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
      // List<Future<Object>> invokeAll = service.invokeAll(list);
      // service.shutdownNow();
      System.out.println("RUN -------------");
      Thread.sleep(5000);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
  public Object call() throws Exception {
    long start = System.currentTimeMillis();
    System.out.println(start);
    try {
      // int sum = 0;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    ref.set(null);
    long end = System.currentTimeMillis();
    System.out.println("time:" + (end - start));
    return new Object();

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
  public Object call1() throws Exception {
    long start = System.currentTimeMillis();
    System.out.println(start);
    synchronized (lock) {

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    }
    long end = System.currentTimeMillis();
    System.out.println("time:" + (end - start));
    return new Object();

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
      Thread.currentThread().join();
    } catch (InterruptedException e) {
      System.err.println(" [-] " + _serverId + " is interrupted ...");
    } catch (Exception e) {
      e.printStackTrace();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
  public static void main(String[] args) throws Exception {
    if (args.length < 2) {
      System.err
          .println("USAGE: java FileStore zookeeperAddress(e.g. localhost:2181) serverId(host_port)");
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
        @Override
        public void run() {
          System.out.println("Shutting down server:" + serverId);
          store.disconnect();
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/StartClusterManager.java`
#### Snippet
```java
        @Override
        public void run() {
          System.out.println("Shutting down cluster manager: " + manager.getInstanceName());
          manager.disconnect();
        }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/StartClusterManager.java`
#### Snippet
```java
  public static void main(String[] args) {
    if (args.length < 1) {
      System.err.println("USAGE: java StartClusterManager zookeeperAddress (e.g. localhost:2181)");
      System.exit(1);
    }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
        // wait
        try {
          System.out.println("Waiting for new changes");
          condition.await();
          System.out.println("Detected changes");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
          System.out.println("Waiting for new changes");
          condition.await();
          System.out.println("Detected changes");
        } catch (InterruptedException e) {
          e.printStackTrace();
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
            fileStore.connect();
          } catch (Exception e) {
            System.err.println("Exception" + e);
            fileStore.disconnect();
          }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
        }
      });
      System.out.println("STARTING NODES");
      thread1.start();
      thread2.start();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      printStatus(manager);
      listFiles(baseDir);
      System.out.println("Writing files a.txt and b.txt to current master " + baseDir
          + "localhost_12001" + "/filestore");
      FileUtils.writeStringToFile(new File(baseDir + "localhost_12001" + "/filestore/a.txt"),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      listFiles(baseDir);
      Thread.sleep(5000);
      System.out.println("Stopping the MASTER node:" + "localhost_12001");
      thread1.interrupt();
      Thread.sleep(10000);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      Thread.sleep(10000);
      printStatus(manager);
      System.out.println("Writing files c.txt and d.txt to current master " + baseDir
          + "localhost_12002" + "/filestore");
      FileUtils.writeStringToFile(new File(baseDir + "localhost_12002" + "/filestore/c.txt"),
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      Thread.sleep(10000);
      listFiles(baseDir);
      System.out.println("Create or modify any files under " + baseDir + "localhost_12002"
          + "/filestore" + " and it should get replicated to " + baseDir + "localhost_12003"
          + "/filestore");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java

  private static void printStatus(final HelixManager manager) {
    System.out.println("CLUSTER STATUS");
    HelixDataAccessor helixDataAccessor = manager.getHelixDataAccessor();
    Builder keyBuilder = helixDataAccessor.keyBuilder();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
    HelixDataAccessor helixDataAccessor = manager.getHelixDataAccessor();
    Builder keyBuilder = helixDataAccessor.keyBuilder();
    System.out.println("External View \n"
        + helixDataAccessor.getProperty(keyBuilder.externalView("repository")));
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java

  private static void listFiles(String baseDir) {
    System.out.println("===============FILES===============================");
    String[] instances = new String[] {
        "localhost_12001", "localhost_12002", "localhost_12003"
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      String dir = baseDir + instance + "/filestore";
      String[] list = new File(dir).list();
      System.out.println(dir + ":" + ((list != null) ? Arrays.toString(list) : "NONE"));
    }
    System.out.println("===============FILES===============================");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      System.out.println(dir + ":" + ((list != null) ? Arrays.toString(list) : "NONE"));
    }
    System.out.println("===============FILES===============================");
  }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
    boolean started = rsyncInvoker.runInBackground();
    if (started) {
      System.out.println("Rsync thread started in background");
    } else {
      throw new Exception("Unable to start rsync thread");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
        if (currentMasterConfig == null
            || !master.equalsIgnoreCase(currentMasterConfig.getInstanceName())) {
          System.out.println("Found new master:" + newMasterConfig.getInstanceName());
          if (currentMasterConfig != null) {
            stop();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
          startReplication(currentMasterConfig);
        } else {
          System.out.println("Already replicating from " + master);
        }
      } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
        }
      } else {
        System.out.println("Invalid number of masters found:" + instances);
      }
    } else {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
      }
    } else {
      System.out.println("No master found");
    }
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
  public void stop() {
    if (isReplicationStarted.get()) {
      System.out.println("Stopping replication from current master:"
          + currentMasterConfig.getInstanceName());
      rsyncInvoker.stop();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java
      @Override
      public void onEntryAdded(String path) {
        System.out
            .println("FileSystemWatchService.main(...).new FileChangeWatcher() {...}.onEntryAdded() : "
                + path);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java
      @Override
      public void onEntryModified(String path) {
        System.out
            .println("FileSystemWatchService.main(...).new FileChangeWatcher() {...}.onEntryModified():"
                + path);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java
      @Override
      public void onEntryDeleted(String path) {
        System.out
            .println("FileSystemWatchService.main(...).new FileChangeWatcher() {...}.onEntryDeleted():"
                + path);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java
  public FileSystemWatchService(String root, long startTime, FileChangeWatcher... watchers) {
    File file = new File(root);
    System.out.println("Setting up watch service for path:" + file.getAbsolutePath());
    fam = new FilesystemAlterationMonitor();
    listener = new MyFilesystemAlterationListener(root, startTime, watchers);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogGenerator.java`
#### Snippet
```java
          }
        } catch (NumberFormatException e) {
          System.err.println("Invalid transaction log file found:" + name);
        }
      }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogGenerator.java`
#### Snippet
```java

    String transLogFile = directory + "/" + "log." + (max);
    System.out.println("Current file name:" + transLogFile);
    out = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(transLogFile, true)));
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
  public void onBecomeSlaveFromOffline(Message message, NotificationContext context)
      throws Exception {
    System.out.println(_serverId + " transitioning from " + message.getFromState() + " to "
        + message.getToState() + " for " + _partition);

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java

    replicator.start();
    System.out.println(_serverId + " transitioned from " + message.getFromState() + " to "
        + message.getToState() + " for " + _partition);
  }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
      throws Exception {
    replicator.stop();
    System.out.println(_serverId + " transitioning from " + message.getFromState() + " to "
        + message.getToState() + " for " + _partition);
    ZkHelixPropertyStore<ZNRecord> helixPropertyStore =
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
    service = new FileSystemWatchService(fileStoreDir, now, generator);
    service.start();
    System.out.println(_serverId + " transitioned from " + message.getFromState() + " to "
        + message.getToState() + " for " + _partition);
  }
```

## RuleId[id=DynamicRegexReplaceableByCompiledPattern]
### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/HelixManagerProperties.java`
#### Snippet
```java
    }

    String[] version1Splits = version1.split("(\\.|-)");
    String[] version2Splits = version2.split("(\\.|-)");

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/HelixManagerProperties.java`
#### Snippet
```java

    String[] version1Splits = version1.split("(\\.|-)");
    String[] version2Splits = version2.split("(\\.|-)");

    if (version1Splits == null || version1Splits.length == 0 || version2Splits == null
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/model/ParticipantHistory.java`
#### Snippet
```java
    Map<String, String> sessionHistoryMap = new HashMap<>();

    for (String sessionHistoryKeyValuePair : sessionHistoryString.split(", ")) {
      String[] keyValuePair = sessionHistoryKeyValuePair.split("=");
      if (keyValuePair.length < 2) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
      if (simpleKey.startsWith(IDEAL_STATE_RULE_PREFIX)) {
        String simpleValue = getRecord().getSimpleField(simpleKey);
        String[] rules = simpleValue.split("(?<!\\\\),");
        Map<String, String> singleRule = Maps.newHashMap();
        for (String rule : rules) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
        Map<String, String> singleRule = Maps.newHashMap();
        for (String rule : rules) {
          String[] keyValue = rule.split("(?<!\\\\)=");
          if (keyValue.length >= 2) {
            singleRule.put(keyValue[0], keyValue[1]);
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/model/builder/ConfigScopeBuilder.java`
#### Snippet
```java

  public ConfigScope build(String scopePairs) {
    String[] scopes = scopePairs.split("[\\s,]+");
    for (String scope : scopes) {
      try {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
   */
  public static Map<String, String> parseCsvFormatedKeyValuePairs(String keyValuePairs) {
    String[] pairs = keyValuePairs.split("[\\s,]");
    Map<String, String> keyValueMap = new TreeMap<String, String>();
    for (String pair : pairs) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
    String dataStr = "";
    if (data != null) {
      dataStr = new String(data).replaceAll("[\\s]+", "");
    }
    StringBuffer sb = new StringBuffer();
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
          if (pd.getReadMethod() != null && !"class".equals(pd.getName())) {
            sb.append(fieldSep).append(pd.getDisplayName()).append(fieldDelim)
                .append(pd.getReadMethod().invoke(txn).toString().replaceAll("[\\s]+", ""));
          }
        }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
        if (data != null) {
          sb.append(fieldSep).append("data").append(fieldDelim)
              .append(new String(data).replaceAll("[\\s]+", ""));
        }
      } catch (Exception e) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    // Set<String> keysSet = new HashSet<String>(Arrays.asList(keys));

    String[] scopeArgs = scopeArgsCsv.split("[\\s,]");
    HelixConfigScope scope = new HelixConfigScopeBuilder(type, scopeArgs).build();

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    HelixConfigScope scope = new HelixConfigScopeBuilder(type, scopeArgs).build();

    String[] keys = keysCsv.split("[\\s,]");

    _admin.removeConfig(scope, Arrays.asList(keys));
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
  public void setConfig(ConfigScopeProperty type, String scopeArgsCsv, String keyValuePairs) {
    // ConfigScope scope = new ConfigScopeBuilder().build(scopesKeyValuePairs);
    String[] scopeArgs = scopeArgsCsv.split("[\\s,]");
    HelixConfigScope scope = new HelixConfigScopeBuilder(type, scopeArgs).build();

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    // ConfigScope scope = new ConfigScopeBuilder().build(scopesStr);

    String[] scopeArgs = scopeArgsCsv.split("[\\s,]");
    HelixConfigScope scope = new HelixConfigScopeBuilder(type, scopeArgs).build();

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    HelixConfigScope scope = new HelixConfigScopeBuilder(type, scopeArgs).build();

    String[] keys = keysCsv.split("[\\s,]");
    // parse keys
    // String[] keys = keysStr.split("[\\s,]");
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      String instanceName = cmd.getOptionValues(enableInstance)[1];
      if (instanceName.contains(":")) {
        instanceName = instanceName.replaceAll(":", "_");
      }
      boolean enabled = Boolean.parseBoolean(cmd.getOptionValues(enableInstance)[2].toLowerCase());
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    File file = new File(fsPath);
    System.out.println("Uploading " + file.getCanonicalPath() + " to " + zkPath);
    zkPath = zkPath.replaceAll("[/]+", "/");
    int index = -1;
    if (removeSuffix && (index = file.getName().indexOf(".")) > -1) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    }

    String[] parts = line.split("\\s");
    if (parts != null && parts.length > 0) {
      for (int i = 0; i < parts.length; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java

  private static String getAttributeValue(String line, String attribute) {
    String[] parts = line.split("\\s");
    if (parts != null && parts.length > 0) {
      for (int i = 0; i < parts.length; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      // Allow specifying resources explicitly
      if (resourceStr != null) {
        String[] resources = resourceStr.split("[\\s,]");
        resourceSet = Sets.newHashSet(resources);
      }
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java

        String[] partitionNames =
            jsonParameters.getParameter(JsonParameters.PARTITION).split("\\s+");
        setupTool.getClusterManagementTool().resetPartition(clusterName, instanceName, resource,
            Arrays.asList(partitionNames));
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/HelixZkClient.java`
#### Snippet
```java
    @Override
    public String toString() {
      return (_zkServers + "_" + _sessionTimeout).replaceAll("[\\W]", "_");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
    @Override
    public String toString() {
      return (_zkRealmShardingKey + "_" + _sessionTimeout).replaceAll("[\\W]", "_");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `metadata-store-directory-common/src/main/java/org/apache/helix/msdcommon/util/ZkValidationUtil.java`
#### Snippet
```java
   **/
  public static boolean isPathValid(String path) {
    return path.matches("^/|(/[\\w?[$&+,:;=?@#|'<>.^*()%!-]-]+)+$");
  }
}
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      // split by new lines
      // should return 2 lines for an existing process, or 1 line for a non-existing process
      String lines[] = cmd.getStringOutput().split("[\\r\\n]+");
      if (lines.length != 2) {
        LOG.info("process: " + processId + " not exist");
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      // split by whitespace, 1st line is attributes, 2nd line is actual values
      // should be parallel arrays
      String attributes[] = lines[0].trim().split("\\s+");
      String values[] = lines[1].trim().split("\\s+");

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      // should be parallel arrays
      String attributes[] = lines[0].trim().split("\\s+");
      String values[] = lines[1].trim().split("\\s+");

      Character processStateCodeChar = null;
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `helix-agent/src/main/java/org/apache/helix/agent/AgentStateModel.java`
#### Snippet
```java

    // split the cmd to actual cmd and args[]
    String cmdSplits[] = cmd.trim().split("\\s+");
    String cmdValue = cmdSplits[0];
    String args[] = Arrays.copyOfRange(cmdSplits, 1, cmdSplits.length);
```

## RuleId[id=NonProtectedConstructorInAbstractClass]
### NonProtectedConstructorInAbstractClass
Constructor `DynamicMetric()` of an abstract class should not be declared 'public'
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMetric.java`
#### Snippet
```java
   * @param metricObject the metric object
   */
  public DynamicMetric(String metricName, O metricObject) {
    if (metricName == null || metricObject == null) {
      throw new MetricException("Failed to construct metric due to missing argument.");
```

### NonProtectedConstructorInAbstractClass
Constructor `IdealStateBuilder()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/model/builder/IdealStateBuilder.java`
#### Snippet
```java
   * @param resourceName
   */
  public IdealStateBuilder(String resourceName) {
    this.resourceName = resourceName;
    _record = new ZNRecord(resourceName);
```

### NonProtectedConstructorInAbstractClass
Constructor `ClusterVerifier()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifier.java`
#### Snippet
```java
  }

  public ClusterVerifier(HelixZkClient zkclient, String clusterName) {
    _zkclient = zkclient;
    _clusterName = clusterName;
```

### NonProtectedConstructorInAbstractClass
Constructor `DedupEventProcessor()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventProcessor.java`
#### Snippet
```java
  protected final String _processorName;

  public DedupEventProcessor(String processorName) {
    this(new String(), processorName);
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `DedupEventProcessor()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventProcessor.java`
#### Snippet
```java
  }

  public DedupEventProcessor(String clusterName, String processorName) {
    super(processorName + "-" + clusterName);
    _processorName = processorName;
```

### NonProtectedConstructorInAbstractClass
Constructor `DedupEventProcessor()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventProcessor.java`
#### Snippet
```java
  }

  public DedupEventProcessor() {
    this(new String(), "Default-DedupEventProcessor");
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `ZkHelixClusterVerifier()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ZkHelixClusterVerifier.java`
#### Snippet
```java

  @Deprecated
  public ZkHelixClusterVerifier(String zkAddr, String clusterName, int waitPeriodTillVerify) {
    if (clusterName == null || clusterName.isEmpty()) {
      throw new IllegalArgumentException("ZkHelixClusterVerifier: clusterName is null or empty!");
```

### NonProtectedConstructorInAbstractClass
Constructor `Builder()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ZkHelixClusterVerifier.java`
#### Snippet
```java
    protected int _waitPeriodTillVerify;

    public Builder() {
      // Note: ZkHelixClusterVerifier is a single-realm API, so RealmMode is assumed to be
      // SINGLE-REALM
```

### NonProtectedConstructorInAbstractClass
Constructor `ClusterEventProcessor()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/ClusterEventProcessor.java`
#### Snippet
```java
    extends DedupEventProcessor<ClusterEventType, ClusterEvent> {

  public ClusterEventProcessor(String clusterName) {
    this(clusterName, "Helix-ClusterEventProcessor");
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `ClusterEventProcessor()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/ClusterEventProcessor.java`
#### Snippet
```java
  }

  public ClusterEventProcessor(String clusterName, String processorName) {
    super(clusterName, processorName);
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractDataCache()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/caches/AbstractDataCache.java`
#### Snippet
```java
  protected ControlContextProvider _controlContextProvider;

  public AbstractDataCache(ControlContextProvider controlContextProvider) {
    _controlContextProvider = controlContextProvider;
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `ParticipantStateCache()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/common/caches/ParticipantStateCache.java`
#### Snippet
```java
  protected Map<PropertyKey, T> _participantStateCache = Maps.newHashMap();

  public ParticipantStateCache(ControlContextProvider controlContextProvider) {
    super(controlContextProvider);
    _participantStateMap = new HashMap<>();
```

### NonProtectedConstructorInAbstractClass
Constructor `Cache()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/manager/zk/Cache.java`
#### Snippet
```java
  final ConcurrentHashMap<String, ZNode> _cache;

  public Cache() {
    _lock = new ReentrantReadWriteLock();
    _cache = new ConcurrentHashMap<String, ZNode>();
```

### NonProtectedConstructorInAbstractClass
Constructor `ZkCacheEvent()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheEventThread.java`
#### Snippet
```java
    private final String _description;

    public ZkCacheEvent(String description) {
      _description = description;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AsyncCallback()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  }

  public AsyncCallback() {
    this(-1);
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `AsyncCallback()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
   * @param timeout
   */
  public AsyncCallback(long timeout) {
    _logger.info("Setting time out to " + timeout + " ms");
    _timeout = timeout;
```

### NonProtectedConstructorInAbstractClass
Constructor `MessageHandler()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/MessageHandler.java`
#### Snippet
```java
   * creation.
   */
  public MessageHandler(Message message, NotificationContext context) {
    _message = message;
    _notificationContext = context;
```

### NonProtectedConstructorInAbstractClass
Constructor `ClusterMBeanObserver()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterMBeanObserver.java`
#### Snippet
```java
  private static final Logger _logger = LoggerFactory.getLogger(ClusterMBeanObserver.class);

  public ClusterMBeanObserver(String domain) throws IOException, InstanceNotFoundException {
    // Get a reference to the target MBeanServer
    _domain = domain;
```

### NonProtectedConstructorInAbstractClass
Constructor `RatioMetric()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/model/RatioMetric.java`
#### Snippet
```java
   * @param metricObject the metric object
   */
  public RatioMetric(String metricName, double metricObject) {
    super(metricName, metricObject);
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `MetricCollector()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/MetricCollector.java`
#### Snippet
```java
  private Map<String, Metric> _metricMap;

  public MetricCollector(String monitorDomainName, String clusterName, String entityName) {
    _monitorDomainName = monitorDomainName;
    _clusterName = clusterName;
```

### NonProtectedConstructorInAbstractClass
Constructor `LatencyMetric()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/model/LatencyMetric.java`
#### Snippet
```java
   * @param metricObject the metric object
   */
  public LatencyMetric(String metricName, Histogram metricObject) {
    super(metricName, metricObject);
    _metricName = metricName;
```

### NonProtectedConstructorInAbstractClass
Constructor `CountMetric()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/model/CountMetric.java`
#### Snippet
```java
   * @param initCount the initial count
   */
  public CountMetric(String metricName, long initCount) {
    super(metricName, initCount);
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractHelixLeaderStandbyStateModel()` of an abstract class should not be declared 'public'
in `helix-core/src/main/java/org/apache/helix/participant/AbstractHelixLeaderStandbyStateModel.java`
#### Snippet
```java
  protected final String _zkAddr;

  public AbstractHelixLeaderStandbyStateModel(String zkAddr) {
    _zkAddr = zkAddr;
    StateModelParser parser = new StateModelParser();
```

### NonProtectedConstructorInAbstractClass
Constructor `Snapshot()` of an abstract class should not be declared 'public'
in `helix-common/src/main/java/org/apache/helix/datamodel/Snapshot.java`
#### Snippet
```java
  protected Map<K, V> _valueCache;

  public Snapshot() {
    _valueCache = new HashMap<>();
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `ZkEvent()` of an abstract class should not be declared 'public'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkEventThread.java`
#### Snippet
```java
    private final String _sessionId;

    public ZkEvent(String description) {
      this(description, null);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `ZkAsyncRetryCallContext()` of an abstract class should not be declared 'public'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncRetryCallContext.java`
#### Snippet
```java
  }

  public ZkAsyncRetryCallContext(final ZkAsyncRetryThread retryThread,
      final CancellableZkAsyncCallback callback, final ZkClientMonitor monitor,
      long startTimeMilliSec, int bytes, boolean isRead) {
```

### NonProtectedConstructorInAbstractClass
Constructor `ZkAsyncRetryCallContext()` of an abstract class should not be declared 'public'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncRetryCallContext.java`
#### Snippet
```java
   * @param isCompressed      True if the data is compressed.
   */
  public ZkAsyncRetryCallContext(final ZkAsyncRetryThread retryThread,
      final CancellableZkAsyncCallback callback, final ZkClientMonitor monitor,
      long startTimeMilliSec, int bytes, boolean isRead, boolean isCompressed) {
```

### NonProtectedConstructorInAbstractClass
Constructor `Task()` of an abstract class should not be declared 'public'
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Task.java`
#### Snippet
```java
  protected final TaskResultStore resultStore;

  public Task(String id, Set<String> parentIds, HelixManager helixManager,
      TaskResultStore resultStore) {
    this.id = id;
```

## RuleId[id=AssignmentToMethodParameter]
### AssignmentToMethodParameter
Assignment to method parameter `domain`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestObjectNameFactory.java`
#### Snippet
```java

      if (objectName.isDomainPattern()) {
        domain = ObjectName.quote(domain);
        needQuote = true;
      }
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PropertyStoreAccessor.java`
#### Snippet
```java
  public Response getPropertyByPath(@PathParam("clusterId") String clusterId,
      @PathParam("path") String path) {
    path = "/" + path;
    if (!ZkValidationUtil.isPathValid(path)) {
      LOG.info("The propertyStore path {} is invalid for cluster {}", path, clusterId);
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PropertyStoreAccessor.java`
#### Snippet
```java
      @PathParam("path") String path,
      @QueryParam("isZNRecord") @DefaultValue("true") String isZNRecord, String content) {
    path = "/" + path;
    if (!ZkValidationUtil.isPathValid(path)) {
      LOG.info("The propertyStore path {} is invalid for cluster {}", path, clusterId);
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PropertyStoreAccessor.java`
#### Snippet
```java
  public Response deletePropertyByPath(@PathParam("clusterId") String clusterId,
      @PathParam("path") String path) {
    path = "/" + path;
    if (!ZkValidationUtil.isPathValid(path)) {
      LOG.info("The propertyStore path {} is invalid for cluster {}", path, clusterId);
```

### AssignmentToMethodParameter
Assignment to method parameter `orderedZones`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java

    if (orderedZones == null) {
      orderedZones = new ArrayList<>(zoneMapping.keySet());
    }
    Collections.sort(orderedZones);
```

### AssignmentToMethodParameter
Assignment to method parameter `keyPrefix`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java
          return badRequest("Number of replicas is needed for rebalancing!");
        }
        keyPrefix = keyPrefix.length() == 0 ? resourceName : keyPrefix;
        admin.rebalance(clusterId, resourceName, replicas, keyPrefix, group);
        break;
```

### AssignmentToMethodParameter
Assignment to method parameter `shardingKey`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/metadatastore/MetadataStoreDirectoryAccessor.java`
#### Snippet
```java
  public Response deleteShardingKey(@PathParam("realm") String realm,
      @PathParam("sharding-key") String shardingKey) {
    shardingKey = "/" + shardingKey;
    try {
      if (!_metadataStoreDirectory.deleteShardingKey(_namespace, realm, shardingKey)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `shardingKey`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/metadatastore/MetadataStoreDirectoryAccessor.java`
#### Snippet
```java
  public Response addShardingKey(@PathParam("realm") String realm,
      @PathParam("sharding-key") String shardingKey) {
    shardingKey = "/" + shardingKey;
    try {
      if (!_metadataStoreDirectory.addShardingKey(_namespace, realm, shardingKey)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `content`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java`
#### Snippet
```java
              });
          // content is given as a KV mapping. Nullify content
          content = null;
        } catch (Exception e) {
          // NOP
```

### AssignmentToMethodParameter
Assignment to method parameter `realmAwareZkConnectionConfig`
in `helix-core/src/main/java/org/apache/helix/HelixPropertyFactory.java`
#### Snippet
```java
        try {
          if (realmAwareZkConnectionConfig == null) {
            realmAwareZkConnectionConfig =
                new RealmAwareZkClient.RealmAwareZkConnectionConfig.Builder()
                    .setRealmMode(RealmAwareZkClient.RealmMode.SINGLE_REALM)
```

### AssignmentToMethodParameter
Assignment to method parameter `keys`
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
    }
    if (keys == null) {
      keys = new String[] {};
    }
    String template = null;
```

### AssignmentToMethodParameter
Assignment to method parameter `cloudConfig`
in `helix-core/src/main/java/org/apache/helix/HelixCloudProperty.java`
#### Snippet
```java
  public void populateFieldsWithCloudConfig(CloudConfig cloudConfig) {
    if (cloudConfig == null) {
      cloudConfig = new CloudConfig();
    }
    setCloudEnabled(cloudConfig.isCloudEnabled());
```

### AssignmentToMethodParameter
Assignment to method parameter `bucketSize`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
  public void setBucketSize(int bucketSize) {
    if (bucketSize <= 0) {
      bucketSize = 0;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `description`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java

    if (description == null) {
      description = DEFAULT_DESCRIPTION;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `quotaType`
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
      LOG.debug("Task {}'s quotaType is null. Trying to release as DEFAULT type.",
          taskConfig.getId());
      quotaType = AssignableInstance.DEFAULT_QUOTA_TYPE;
    }
    if (_assignableInstanceMap.containsKey(instanceName)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `configMap`
in `helix-core/src/main/java/org/apache/helix/task/TaskConfig.java`
#### Snippet
```java
  public TaskConfig(String command, Map<String, String> configMap, String id, String target) {
    if (configMap == null) {
      configMap = Maps.newHashMap();
    }
    if (id == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `id`
in `helix-core/src/main/java/org/apache/helix/task/TaskConfig.java`
#### Snippet
```java
    }
    if (id == null) {
      id = UUID.randomUUID().toString();
    }
    if (command != null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `jobName`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      } while ((ctx == null || ctx.getLastScheduledSingleWorkflow() == null));

      jobName = jobName.substring(workflowName.length() + 1);
      workflowName = ctx.getLastScheduledSingleWorkflow();
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `workflowName`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java

      jobName = jobName.substring(workflowName.length() + 1);
      workflowName = ctx.getLastScheduledSingleWorkflow();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `startTime`
in `helix-core/src/main/java/org/apache/helix/task/ScheduleConfig.java`
#### Snippet
```java
      long recurInterval) {
    if (startTime == null) {
      startTime = new Date();
    }
    return new ScheduleConfig(startTime, recurUnit, recurInterval);
```

### AssignmentToMethodParameter
Assignment to method parameter `operations`
in `helix-rest/src/main/java/org/apache/helix/rest/clusterMaintenanceService/MaintenanceManagementService.java`
#### Snippet
```java

    if (operations == null) {
      operations = new ArrayList<>();
    }
    if (healthChecks == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `healthChecks`
in `helix-rest/src/main/java/org/apache/helix/rest/clusterMaintenanceService/MaintenanceManagementService.java`
#### Snippet
```java
    }
    if (healthChecks == null) {
      healthChecks = new ArrayList<>();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `quotaType`
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
    // If quotaType is null, treat it as DEFAULT
    if (quotaType == null || quotaType.equals("")) {
      quotaType = DEFAULT_QUOTA_TYPE;
    }
    if (!_totalCapacity.get(resourceType).containsKey(quotaType)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `quotaType`
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
          "AssignableInstance does not support the given quotaType: {}. Task: {}, quotaType: {}, Instance name: {}. Task will be assigned as DEFAULT type.",
          quotaType, task.getId(), quotaType, getInstanceName());
      quotaType = DEFAULT_QUOTA_TYPE;

    }
```

### AssignmentToMethodParameter
Assignment to method parameter `znRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
          // This indicates that somehow the UserContentStore ZNode is missing
          // This should not happen, but if it is missing, create one
          znRecord = new ZNRecord(new ZNRecord(TaskUtil.USER_CONTENT_NODE));
        }
        if (znRecord.getMapField(task) == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `znRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
          // This indicates that somehow the UserContentStore ZNode is missing
          // This should not happen, but if it is missing, create one
          znRecord = new ZNRecord(new ZNRecord(TaskUtil.USER_CONTENT_NODE));
        }
        znRecord.getSimpleFields().putAll(contentToAddOrUpdate);
```

### AssignmentToMethodParameter
Assignment to method parameter `currentData`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
          workflowContext.removeJobStates(jobs);
          workflowContext.removeJobStartTime(jobs);
          currentData = workflowContext.getRecord();
        }
        return currentData;
```

### AssignmentToMethodParameter
Assignment to method parameter `keys`
in `helix-core/src/main/java/org/apache/helix/util/StringTemplate.java`
#### Snippet
```java
  public String instantiate(Enum type, String... keys) {
    if (keys == null) {
      keys = new String[] {};
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `a`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    long y = 1232L;
    Triple val = hashMix(new Triple(a, b, hash));
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(x, a, hash));
    x = val.a; a = val.b; hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `b`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    long y = 1232L;
    Triple val = hashMix(new Triple(a, b, hash));
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(x, a, hash));
    x = val.a; a = val.b; hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `a`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(x, a, hash));
    x = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, y, hash));
    hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `a`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    long y = 1232L;
    Triple val = hashMix(new Triple(a, b, hash));
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(c, x, hash));
    c = val.a; x = val.b; hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `b`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    long y = 1232L;
    Triple val = hashMix(new Triple(a, b, hash));
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(c, x, hash));
    c = val.a; x = val.b; hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `c`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    a = val.a; b = val.b; hash = val.c;
    val = hashMix(new Triple(c, x, hash));
    c = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, a, hash));
    y = val.a; a = val.b; hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `a`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    c = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, a, hash));
    y = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `b`
in `helix-core/src/main/java/org/apache/helix/util/JenkinsHash.java`
#### Snippet
```java
    y = val.a; a = val.b; hash = val.c;
    val = hashMix(new Triple(b, x, hash));
    b = val.a; x = val.b; hash = val.c;
    val = hashMix(new Triple(y, c, hash));
    hash = val.c;
```

### AssignmentToMethodParameter
Assignment to method parameter `quotaType`
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java
      // Sometimes null is stored as a String literal
      logger.warn("Quota type is null. Assigning it as DEFAULT type!");
      quotaType = AssignableInstance.DEFAULT_QUOTA_TYPE;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `candidateNodeNum`
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
        if (stateCount > 0) {
          int count = stateCount <= candidateNodeNum ? stateCount : candidateNodeNum;
          candidateNodeNum -= count;
          stateCountMap.put(state, count);
          replicas -= count;
```

### AssignmentToMethodParameter
Assignment to method parameter `sessionHistoryString`
in `helix-core/src/main/java/org/apache/helix/model/ParticipantHistory.java`
#### Snippet
```java
   */
  public static Map<String, String> sessionHistoryStringToMap(String sessionHistoryString) {
    sessionHistoryString = sessionHistoryString.substring(1, sessionHistoryString.length() - 1);
    Map<String, String> sessionHistoryMap = new HashMap<>();

```

### AssignmentToMethodParameter
Assignment to method parameter `node`
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
    nodeStack.push(node);
    while (!nodeStack.isEmpty()) {
      node = nodeStack.pop();
      if (node.getChildren().isEmpty()) {
        resultMap.add(node.getPath());
```

### AssignmentToMethodParameter
Assignment to method parameter `instanceId`
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    }
    if (host != null && port > 0) {
      instanceId = host + "_" + port;
    }
    InstanceConfig config = new InstanceConfig(instanceId);
```

### AssignmentToMethodParameter
Assignment to method parameter `scopeKeys`
in `helix-core/src/main/java/org/apache/helix/model/builder/ConfigScopeBuilder.java`
#### Snippet
```java
  public ConfigScope build(ConfigScopeProperty scope, String clusterName, String... scopeKeys) {
    if (scopeKeys == null) {
      scopeKeys = new String[] {};
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `parent`
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java

    public Builder addParentChildDependency(String parent, String child) {
      parent = namespacify(parent);
      child = namespacify(child);
      _dag.addParentToChild(parent, child);
```

### AssignmentToMethodParameter
Assignment to method parameter `child`
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java
    public Builder addParentChildDependency(String parent, String child) {
      parent = namespacify(parent);
      child = namespacify(child);
      _dag.addParentToChild(parent, child);

```

### AssignmentToMethodParameter
Assignment to method parameter `job`
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java

    protected Builder addTaskConfigs(String job, Collection<TaskConfig> taskConfigs) {
      job = namespacify(job);
      _dag.addNode(job);
      if (!_taskConfigs.containsKey(job)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `job`
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java

    protected Builder addConfig(String job, String key, String val) {
      job = namespacify(job);
      _dag.addNode(job);
      if (!_jobConfigs.containsKey(job)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `disksInCurrentCluster`
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
        if (z <= prob) {
          found++;
          disksInCurrentCluster -= weight;
        }
        totalDisks -= weight;
```

### AssignmentToMethodParameter
Assignment to method parameter `totalDisks`
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
          disksInCurrentCluster -= weight;
        }
        totalDisks -= weight;
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `val`
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      for (int i = 0; i < 8; i++) {
        long octet = val & 0x00ff;
        val = val >> 8;
        hashval = hashval ^ octet;
        hashval = hashval * FNV_PRIME_64;
```

### AssignmentToMethodParameter
Assignment to method parameter `startId`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
        }
      }
      startId = startId + 1;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `instanceId`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

    InstanceConfig instanceConfig = InstanceConfig.toInstanceConfig(instanceId);
    instanceId = instanceConfig.getInstanceName();

    // ensure node is not live
```

### AssignmentToMethodParameter
Assignment to method parameter `zkPath`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    File file = new File(fsPath);
    System.out.println("Uploading " + file.getCanonicalPath() + " to " + zkPath);
    zkPath = zkPath.replaceAll("[/]+", "/");
    int index = -1;
    if (removeSuffix && (index = file.getName().indexOf(".")) > -1) {
```

### AssignmentToMethodParameter
Assignment to method parameter `zkPath`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    int index = -1;
    if (removeSuffix && (index = file.getName().indexOf(".")) > -1) {
      zkPath = zkPath.replaceAll(file.getName().substring(index), "");
    }
    if (file.isDirectory()) {
```

### AssignmentToMethodParameter
Assignment to method parameter `attribute`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

    if (!attribute.endsWith(":")) {
      attribute = attribute + ":";
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `srcRootPath`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
    // Strip off tailing "/"
    if (!srcRootPath.equals("/") && srcRootPath.endsWith("/")) {
      srcRootPath = srcRootPath.substring(0, srcRootPath.length() - 1);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `dstRootPath`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java

    if (!dstRootPath.equals("/") && dstRootPath.endsWith("/")) {
      dstRootPath = dstRootPath.substring(0, dstRootPath.length() - 1);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `instanceName`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    if (instanceName == null) {
      try {
        instanceName =
            InetAddress.getLocalHost().getCanonicalHostName() + "-" + instanceType.toString();
      } catch (UnknownHostException e) {
```

### AssignmentToMethodParameter
Assignment to method parameter `instanceName`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
        // can ignore it
        LOG.info("Unable to get host name. Will set it to UNKNOWN, mostly ignorable", e);
        instanceName = "UNKNOWN";
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `sessionId`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
     */
    if (sessionId == null) {
      sessionId = getSessionId();
      LOG.debug("Session id: <null> is passed in. Current session id: {} will be used.", sessionId);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `pattern`
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
  private String normalizePattern(String pattern) {
    if (pattern == null || pattern.equals("") || pattern.equals("*")) {
      pattern = "%";
    }
    StringBuilder builder = new StringBuilder();
```

### AssignmentToMethodParameter
Assignment to method parameter `pattern`
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
      builder.append(ch);
    }
    pattern = builder.toString().toLowerCase().replace("_", ".").replace("%", ".*?");
    return pattern;
  }
```

### AssignmentToMethodParameter
Assignment to method parameter `messages`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
    if (messages == null || messages.isEmpty()) {
      // If no messages are given, check and read all new messages.
      messages = readNewMessagesFromZK(manager, instanceName, changeContext.getChangeType());
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `offlineDuration`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    // in case there is no customized timeout value, use the one defined in cluster config
    if (offlineDuration == ClusterConfig.OFFLINE_DURATION_FOR_PURGE_NOT_SET) {
      offlineDuration =
          _configAccessor.getClusterConfig(clusterName).getOfflineDurationForPurge();
      if (offlineDuration == ClusterConfig.OFFLINE_DURATION_FOR_PURGE_NOT_SET) {
```

### AssignmentToMethodParameter
Assignment to method parameter `keyPrefix`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    List<String> instanceNames = new LinkedList<String>();
    if (keyPrefix == null || keyPrefix.length() == 0) {
      keyPrefix = resourceName;
    }
    if (group != null && group.length() > 0) {
```

### AssignmentToMethodParameter
Assignment to method parameter `group`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      logger.info("No tags found for resource " + resourceName + ", use all instances");
      instanceNames = getInstancesInCluster(clusterName);
      group = "";
    } else {
      logger.info("Found instances with tag for " + resourceName + " " + instanceNames);
```

### AssignmentToMethodParameter
Assignment to method parameter `replica`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    String masterStateValue = null;
    String slaveStateValue = null;
    replica--;

    for (String state : statePriorityList) {
```

### AssignmentToMethodParameter
Assignment to method parameter `replica`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
          throw new HelixException("Invalid or unsupported state model definition");
        }
        replica = instanceNames.size() - 1;
        masterStateValue = slaveStateValue = state;
      }
```

### AssignmentToMethodParameter
Assignment to method parameter `liveInstances`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java

    if (liveInstances == null) {
      liveInstances = Collections.emptyList();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `liveInstances`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      logger.info("remove message/current-state listeners. lastSeenInstances: " + _lastSeenInstances
          + ", lastSeenSessions: " + _lastSeenSessions);
      liveInstances = Collections.emptyList();
      checkLiveInstancesObservation(liveInstances, changeContext);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `customizedStateTypes`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
    Builder keyBuilder = new Builder(manager.getClusterName());
    if (customizedStateTypes.isEmpty()) {
      customizedStateTypes = manager.getHelixDataAccessor()
          .getChildNames(keyBuilder.customizedStatesRoot(instanceName));
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `liveInstances`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      // on finalize, should remove all current-state listeners
      logger.info("remove current-state listeners. lastSeenSessions: {}", _lastSeenSessions.get());
      liveInstances = Collections.emptyList();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `preferenceList`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/DelayedAutoRebalancer.java`
#### Snippet
```java

    if (preferenceList == null) {
      preferenceList = Collections.emptyList();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `znRecord`
in `helix-lock/src/main/java/org/apache/helix/lock/LockInfo.java`
#### Snippet
```java
  public LockInfo(ZNRecord znRecord) {
    if (znRecord == null) {
      znRecord = new ZNRecord(ZNODE_ID);
    }
    String ownerId = znRecord.getSimpleField(LockInfoAttribute.OWNER.name()) == null
```

### AssignmentToMethodParameter
Assignment to method parameter `bucketSize`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecordBucketizer.java`
#### Snippet
```java
      LOG.debug("bucketSize <= 0 (was " + bucketSize
          + "). Set to 0 to use non-bucketized HelixProperty.");
      bucketSize = 0;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ChainedPathZkSerializer.java`
#### Snippet
```java
    if (!path.startsWith("/")) {
      // ensure leading slash
      path = "/" + path;
    }
    if (path.endsWith("/")) {
```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ChainedPathZkSerializer.java`
#### Snippet
```java
    if (path.endsWith("/")) {
      // remove trailing slash
      path = path.substring(0, path.length() - 1);
    }
    return path;
```

### AssignmentToMethodParameter
Assignment to method parameter `workflowType`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private String preProcessWorkflow(String workflowType) {
    if (workflowType == null || workflowType.length() == 0) {
      workflowType = DEFAULT_WORKFLOW_JOB_TYPE;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `jobType`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private String preProcessJobMonitor(String jobType) {
    if (jobType == null || jobType.length() == 0) {
      jobType = DEFAULT_WORKFLOW_JOB_TYPE;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `jobType`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
    // When first time for WorkflowRebalancer call, jobconfig may not ready.
    // Thus only check it for gauge.
    jobType = preProcessJobMonitor(jobType);
    JobMonitor jobMonitor = _perTypeJobMonitorMap.get(jobType);
    if (jobMonitor != null) {
```

## RuleId[id=SynchronizationOnLocalVariableOrMethodParameter]
### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `e`
in `helix-core/src/main/java/org/apache/helix/GroupCommit.java`
#### Snippet
```java
          queue._running.set(null);
          for (Entry e : processed) {
            synchronized (e) {
              e._sent.set(true);
              e.notify();
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `entry`
in `helix-core/src/main/java/org/apache/helix/GroupCommit.java`
#### Snippet
```java
        }
      } else {
        synchronized (entry) {
          try {
            entry.wait(10);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `dumper`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
          new JmxDumper(portStr, domainStr, classNameStr, patternStr, periodVal, fields,
              operations, resultFile, sampleCount);
      synchronized (dumper) {
        dumper.wait();
      }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `e`
in `helix-core/src/main/java/org/apache/helix/manager/zk/HelixGroupCommit.java`
#### Snippet
```java
          queue._running.set(null);
          for (Entry<T> e : processed) {
            synchronized (e) {
              e._sent.set(true);
              e._isSuccess = success;
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `entry`
in `helix-core/src/main/java/org/apache/helix/manager/zk/HelixGroupCommit.java`
#### Snippet
```java
        }
      } else {
        synchronized (entry) {
          try {
            entry.wait(10);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `callback`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/AsyncCallbackService.java`
#### Snippet
```java

      AsyncCallback callback = _callbackMap.get(_correlationId);
      synchronized (callback) {
        callback.onReply(_message);
        if (callback.isDone()) {
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `asyncCallback`
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java
    int messagesSent = send(recipientCriteria, message, asyncCallback, timeOut, retryCount);
    if (messagesSent > 0) {
      synchronized (asyncCallback) {
        while (!asyncCallback.isDone() && !asyncCallback.isTimedOut()) {
          try {
```

## RuleId[id=ReturnNull]
### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/common/datamodel/RestSnapShot.java`
#### Snippet
```java
      return (T) getValue(key);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/common/RestSnapShotSimpleImpl.java`
#### Snippet
```java
      return _childNodesCache.get(key);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/server/filters/AuditLogFilter.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    }
    if (node == null) {
      return null;
    }
    MaintenanceOpInputFields inputFields = new MaintenanceOpInputFields();
```

### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    List<String> liveInstances = accessor.getChildNames(accessor.keyBuilder().liveInstances());
    if (!liveInstances.contains(instanceName)) {
      return null;
    }
    LiveInstance liveInstance =
```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/SimpleDynamicMetric.java`
#### Snippet
```java
  public T getAttributeValue(String attributeName) {
    if (!attributeName.equals(_metricName)) {
      return null;
    }
    return getMetricObject();
```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/MBeanRegistrar.java`
#### Snippet
```java
      } catch (JMException e) {
        LOG.error(String.format("Error in registering: %s", objectName.getCanonicalName()), e);
        return null;
      }
      return newObjectName;
```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/MBeanRegistrar.java`
#### Snippet
```java
        .format("There're already %d %s, no more will be registered.", MAX_NUM_DUPLICATED_MONITORS,
            objectName.getCanonicalName()));
    return null;
  }

```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/HistogramDynamicMetric.java`
#### Snippet
```java
  public Number getAttributeValue(String attributeName) {
    if (!_attributeNameSet.contains(attributeName)) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/HistogramDynamicMetric.java`
#### Snippet
```java
      _logger.error(String.format("Invalid attribute name format: %s", attributeName));
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
    if (clusterName == null) {
      logger.warn("ClusterName can't be null for type:" + type);
      return null;
    }
    if (keys == null) {
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/AccessOption.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/api/config/StateTransitionTimeoutConfig.java`
#### Snippet
```java
        .containsKey(StateTransitionTimeoutConfig.StateTransitionTimeoutProperty.TIMEOUT.name())
        ? new StateTransitionTimeoutConfig(record)
        : null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
      Collection<ZNRecord> records) {
    if (records == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
      ZNRecord record) {
    if (record == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/api/status/ClusterManagementMode.java`
#### Snippet
```java
            default:
                // Other modes don't need to change participant status
                return null;
        }
    }
```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
  public Object invoke(String actionName, Object[] params, String[] signature) {
    // No operation supported
    return null;
  }

```

### ReturnNull
Return of `null`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
  public AttributeList setAttributes(AttributeList attributes) {
    // All MBeans are readonly
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/api/config/StateTransitionThrottleConfig.java`
#### Snippet
```java
        || !configsMap.containsKey(ConfigProperty.THROTTLE_SCOPE.name())) {
      // not a valid StateTransitionThrottleConfig
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/api/config/StateTransitionThrottleConfig.java`
#### Snippet
```java
      config = new StateTransitionThrottleConfig(rebalanceType, throttleScope, maxPartition);
    } catch (IllegalArgumentException ex) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No cloud config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
      return map.get(key);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (scope == null || scope.getScope() == null) {
      LOG.error("Scope can't be null");
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No rest config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (scope == null || scope.getType() == null || !scope.isFullKey()) {
      LOG.error("fail to get configs. invalid config scope. scope: {}, keys: {}.", scope, keys);
      return null;
    }
    ZNRecord record = getConfigZnRecord(scope);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
      if (configMap == null) {
        LOG.warn("No map-field found in {} using mapKey: {}.", record, mapKey);
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No customized state aggregation config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (scope == null || scope.getType() == null) {
      LOG.error("Fail to getKeys. Invalid config scope: {}.", scope);
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
    if (record == null) {
      LOG.warn("No config found at {}.", scope.getZkPath());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
      return _assignableInstanceMap.get(instanceName).tryAssign(task, quotaType);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobContext.java`
#### Snippet
```java
  public String getPartitionInfo(int p) {
    Map<String, String> map = getMapField(p);
    return (map != null) ? map.get(ContextProperties.INFO.toString()) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobContext.java`
#### Snippet
```java
  public String getAssignedParticipant(int p) {
    Map<String, String> map = getMapField(p);
    return (map != null) ? map.get(ContextProperties.ASSIGNED_PARTICIPANT.toString()) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobContext.java`
#### Snippet
```java
  public String getTaskIdForPartition(int p) {
    Map<String, String> map = getMapField(p);
    return (map != null) ? map.get(ContextProperties.TASK_ID.toString()) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobContext.java`
#### Snippet
```java
    Map<String, String> map = getMapField(p);
    if (map == null) {
      return null;
    }
    String str = map.get(ContextProperties.STATE.toString());
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobContext.java`
#### Snippet
```java
      return TaskPartitionState.valueOf(str);
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobContext.java`
#### Snippet
```java
  public String getTargetForPartition(int p) {
    Map<String, String> map = getMapField(p);
    return (map != null) ? map.get(ContextProperties.TARGET.toString()) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
      } catch (ParseException e) {
        LOG.error("Unparseable date " + cfg.get(WorkflowConfigProperty.StartTime.name()), e);
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
      return ScheduleConfig.oneTimeDelayedStart(startTime);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
    return simpleConfigContains(WorkflowConfigProperty.WorkflowType.name())
        ? getSimpleConfig(WorkflowConfigProperty.WorkflowType.name())
        : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
    return mapConfigContains(WorkflowConfigProperty.JobTypes.name())
        ? getMapConfig(WorkflowConfigProperty.JobTypes.name())
        : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
      return simpleConfigContains(WorkflowConfigProperty.StartTime.name()) ? WorkflowConfig
          .getDefaultDateFormat().parse(getSimpleConfig(WorkflowConfigProperty.StartTime.name()))
          : null;
    } catch (ParseException e) {
      LOG.error("Unparseable date " + getSimpleConfig(WorkflowConfigProperty.StartTime.name()), e);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
      LOG.error("Unparseable date " + getSimpleConfig(WorkflowConfigProperty.StartTime.name()), e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
          if (taskMap == null) {
            LOG.warn("Could not update the jobConfig: {} Znode MapField is null.", jobName );
            return null;
          }
          Map<String, Map<String, String>> newTaskMap = new HashMap<String, Map<String, String>>();
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java
      public String get(long data) {
        if (circle.isEmpty()) {
          return null;
        }
        long hash = _hashFunction.hash(data);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobDag.java`
#### Snippet
```java
      return _jobIterator.next();
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowDispatcher.java`
#### Snippet
```java
    if (!resourceConfigMap.containsKey(origWorkflowName)) {
      LOG.error("No such workflow named {}", origWorkflowName);
      return null;
    }
    if (resourceConfigMap.containsKey(newWorkflowName)) {
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowDispatcher.java`
#### Snippet
```java
    if (resourceConfigMap.containsKey(newWorkflowName)) {
      LOG.error("Workflow with name {} already exists!", newWorkflowName);
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/RuntimeJobDag.java`
#### Snippet
```java
    if (_readyJobList.isEmpty()) {

      return null;
    }
    String nextJob = _readyJobList.poll();
```

### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/clusterMaintenanceService/MaintenanceManagementService.java`
#### Snippet
```java
      List<String> operations, Map<String, String> operationConfig, boolean performOperation)
      throws IOException {
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-rest/src/main/java/org/apache/helix/rest/clusterMaintenanceService/MaintenanceManagementService.java`
#### Snippet
```java
      List<String> operations, Map<String, String> operationConfig, boolean performOperation)
      throws IOException {
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java`
#### Snippet
```java
    Map<String, String> states = _record.getMapField(WorkflowContextProperties.JOB_STATES.name());
    if (states == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java`
#### Snippet
```java
    String s = states.get(job);
    if (s == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/assigner/TaskAssignResult.java`
#### Snippet
```java
   */
  public String getInstanceName() {
    return _node == null ? null : _node.getInstanceName();
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
      String task, String key) {
    Map<String, String> userContentStore = getTaskUserContentMap(propertyStore, job, task);
    return userContentStore != null ? userContentStore.get(key) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
          if (jobDag == null) {
            LOG.warn("Could not update DAG for workflow: {} JobDag is null.", workflow);
            return null;
          }
          for (String job : jobsToRemove) {
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
        Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT, jobResource, CONTEXT_NODE), null,
        AccessOption.PERSISTENT);
    return r != null ? new JobContext(r) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    HelixProperty workflowCfg = getResourceConfig(accessor, workflow);
    if (workflowCfg == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    ZNRecord record = propertyStore.get(Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT,
        namespacedJobName, USER_CONTENT_NODE), null, AccessOption.PERSISTENT);
    return record != null ? record.getMapField(taskPartitionId) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    HelixProperty jobResourceConfig = getResourceConfig(accessor, job);
    if (jobResourceConfig == null) {
      return null;
    }
    return new JobConfig(jobResourceConfig);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
      LOG.error("Error serializing " + commandConfig, e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    Map<String, String> userContentMap =
        getWorkflowJobUserContentMap(propertyStore, workflowJobResource);
    return userContentMap != null ? userContentMap.get(key) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    ZNRecord record = propertyStore.get(Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT,
        workflowJobResource, USER_CONTENT_NODE), null, AccessOption.PERSISTENT);
    return record != null ? record.getSimpleFields() : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
        Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT, workflow, CONTEXT_NODE), null,
        AccessOption.PERSISTENT);
    return r != null ? new WorkflowContext(r) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/util/MessageUtil.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
          .getJobMonitor(TaskAssignmentCalculator.getQuotaType(workflowConfig, jobConfig));
      if (jobMonitor == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      long submissionToProcessDelay = currentTimestamp - jobConfig.getStat().getCreationTime();
      jobMonitor.updateSubmissionToProcessDelayGauge(submissionToProcessDelay);
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
          .getJobMonitor(TaskAssignmentCalculator.getQuotaType(workflowConfig, jobConfig));
      if (jobMonitor == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
        jobMonitor.updateControllerInducedDelayGauge(controllerInducedDelay);
      }
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
          .getJobMonitor(TaskAssignmentCalculator.getQuotaType(workflowConfig, jobConfig));
      if (jobMonitor == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      long submissionToStartDelay = currentTimestamp - jobConfig.getStat().getCreationTime();
      jobMonitor.updateSubmissionToScheduleDelayGauge(submissionToStartDelay);
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
      return map.get(toState);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/CustomizedState.java`
#### Snippet
```java
      return mapField.get(property.name());
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
    return simpleConfigContains(JobConfigProperty.JobCommandConfig.name()) ? TaskUtil
        .deserializeJobCommandConfigMap(getSimpleConfig(JobConfigProperty.JobCommandConfig.name()))
        : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
    return simpleConfigContains(JobConfigProperty.TargetPartitions.name())
        ? Arrays.asList(getSimpleConfig(JobConfigProperty.TargetPartitions.name()).split(","))
        : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
          .asList(getSimpleConfig(JobConfigProperty.TargetPartitionStates.name()).split(",")));
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
      String delimiter = ".";
      if (basis == null || _msgType == null || _resourceName == null) {
        return null;
      }
      String identifier = String.join(delimiter, _msgType, _resourceName);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
        case PER_REBALANCE_TYPE:
          if (_sTRebalanceType == null) {
            return null;
          }
          identifier =
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
        case PER_STATE_TRANSITION_TYPE:
          if (_fromState == null || _toState == null) {
            return null;
          }
          identifier = String.join(delimiter, identifier, _fromState, _toState);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
        id = messageInfo.get(Attributes.MSG_ID.name());
        if (id == null) {
          return null;
        }
      }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
  public STRebalanceType getSTRebalanceType() {
    String rebalanceTypeStr = getAttribute(Attributes.ST_REBALANCE_TYPE);
    return rebalanceTypeStr == null ? null : STRebalanceType.valueOf(rebalanceTypeStr);
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
          .valueOf(_record.getSimpleField(Attributes.MSG_STATE.toString()).toUpperCase());
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/CurrentState.java`
#### Snippet
```java
      return mapField.get(property.name());
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
        _record.getMapField(InstanceConfigProperty.HELIX_DISABLED_PARTITION.name());
    if (newDisabledMap == null && oldDisabled == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    if ((newDisabledMap == null || !newDisabledMap.containsKey(resourceName))
        && oldDisabled == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonSerializer.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
    if (!next.containsKey(fromState)) {
      // no path
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
  public static String getZkParentPath(String path) {
    if (path.equals("/")) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java

      if (childs == null && fallbackChilds == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
  private static List<String> getListValue(ZNRecord record, String key) {
    if (record == null) {
      return null;
    }
    return record.getListField(key);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
  private static String getSingleValue(ZNRecord record, ZnodePropertyType type, String key) {
    if (record == null || key == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
      if (list == null) {
        logger.warn("invalid key for list field: " + key + ", map for key part-1 doesn't exist");
        return null;
      }
      int idx = Integer.parseInt(keyParts[1]);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
      if (map == null) {
        logger.warn("invalid key for map field: " + key + ", map for key part-1 doesn't exist");
        return null;
      }
      value = map.get(keyParts[1]);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
        public ZNRecord update(ZNRecord currentData) {
          if (currentData == null) {
            return null;
          }
          Set<String> partitionToRemove = new HashSet<>();
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ToolsUtil.java`
#### Snippet
```java
      System.exit(1);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
  static String guessZkCfgDir() {
    // TODO impl this
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
  static String getAttributeValue(String line, String attribute) {
    if (line == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
      return (E) entry.getEvent();
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
      return (E) entry.getEvent();
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/caches/PropertyCache.java`
#### Snippet
```java
  public T getPropertyByName(String name) {
    if (name == null) {
      return null;
    }
    return _objMap.get(name);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      System.exit(1);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
      return new WorkflowContext(_contextMap.get(resourceName));
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
      return _runtimeJobDagMap.get(workflowName);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
      return String.format("%s/%s", prevFix, TaskConstants.CONTEXT_NODE);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java
      return new JobContext(_contextMap.get(resourceName));
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java
    boolean result = skipOnEmptyPath
        ? _dataAccessor.updateProperty(
            propertyKey, currentData -> (currentData == null) ? null : history.getRecord(), history)
        : _dataAccessor.setProperty(propertyKey, history);
    if (!result) {
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBucketDataAccessor.java`
#### Snippet
```java
      } else {
        // Greater, I have lagged behind. Return null and do not write
        return null;
      }
    };
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
      return _zkClient.getChildren(path);
    } catch (ZkNoNodeException e) {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
    HelixCloudProperty cloudProperty = _helixManagerProperty.getHelixCloudProperty();
    if (cloudProperty == null || !cloudProperty.isCloudEventCallbackEnabled()) {
      return null;
    }
    return cloudProperty.getCloudEventCallbackProperty();
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

    LOG.error("Couldn't get ZKClusterManagementTool because zkclient is null");
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
      System.exit(1);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
      System.exit(1);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/MultiTypeMessageHandlerFactory.java`
#### Snippet
```java
    List<String> types = getMessageTypes();
    if (types == null || types.isEmpty()) {
      return null;
    } else {
      return types.get(0);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/GroupMessageHandler.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/HelixControllerMain.java`
#### Snippet
```java
      System.exit(1);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
              "Message {} targets at {} has already been removed before it is set as READ on instance {}",
              msg.getId(), msg.getTgtName(), instanceName);
          return null;
        }
        return msg.getRecord();
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
      TimeUnit unit) throws InterruptedException {
    if (tasks == null || tasks.size() == 0) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
      if (curExeSvc != exeSvc) {
        LOG.error("Fail to invoke all tasks because they are not using the same executor-service");
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
      LOG.warn("Fail to find message handler factory for type: " + msgType + " msgId: " + message
          .getMsgId());
      return null;
    }
    MessageHandlerFactory handlerFactory = item.factory();
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
        new ZKHelixDataAccessor(clusterName, new ZkBaseDataAccessor<>(_zkClient));
    ClusterStatus status = accessor.getProperty(accessor.keyBuilder().clusterStatus());
    return status == null ? null
        : new ClusterManagementMode(status.getManagementMode(), status.getManagementModeStatus());
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
          return constraints.getRecord();
        }
        return null;
      }
    }, AccessOption.PERSISTENT);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
      }

      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
      }

      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateOutput.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateOutput.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
      ResourceInfo resourceInfo = tagToResourceMap.get(resourceTag);
      if (resourceInfo == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
      }

      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
          LogUtil.logError(logger, _eventId, "Could not update cluster status!", e);
        }
        return null;
      }
    });
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
        LogUtil.logError(logger, _eventId, "Could not update cluster status metrics!", e);
      }
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedStateOutput.java`
#### Snippet
```java
      return getPartitionCustomizedStateMap(stateType, resourceName, partition).get(instanceName);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
              }
            }
            return null;
          }
        });
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
          }
        }
        return null;
      }
    });
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TopStateHandoffReportStage.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TopStateHandoffReportStage.java`
#### Snippet
```java
    return lastTopStateMap.containsKey(resourceName) && lastTopStateMap.get(resourceName)
        .containsKey(partition.getPartitionName()) ? lastTopStateMap.get(resourceName)
        .get(partition.getPartitionName()) : null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ReadClusterDataStage.java`
#### Snippet
```java
          clusterStatusMonitor.refreshJobsStatus((WorkflowControllerDataProvider) dataProvider);
          LogUtil.logDebug(logger, _eventId, "Workflow/Job gauge status successfully refreshed");
          return null;
        }
      });
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ReadClusterDataStage.java`
#### Snippet
```java
            LogUtil.logDebug(logger, _eventId, "Complete cluster status monitors update.");
          }
          return null;
        }
      });
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/AbstractBaseStage.java`
#### Snippet
```java
      return service.submit(task);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/AbstractBaseStage.java`
#### Snippet
```java
      }
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
    List<String> childNames = getChildNames(parentPath, options);
    if (childNames == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
          cache.update(serverPath, data, stat);
        } catch (ZkNoNodeException e) {
          return null;
        } finally {
          cache.unlockWrite();
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
      return new AssignmentMetadataStore(metadataStoreAddrs, clusterName);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java
  public Iterable<Node> getCircle(long data) {
    if (circle.isEmpty()) {
      return null;
    }
    long hash = _hashFunction.hash(data);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
    for (String state : tmpStates.keySet()) {
      if (tmpStates.get(state) > 0) {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
        // persist history back to ZK only if the node still exists
        boolean succeed = accessor.updateProperty(propertyKey,
            currentData -> (currentData == null) ? null : history.getRecord(), history);
        if (!succeed) {
          LogUtil.logError(logger, getClusterEventId(),
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
      return childNames;
    } catch (ZkNoNodeException e) {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java

    // Impossible to reach end
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/PerInstanceResourceMonitor.java`
#### Snippet
```java
            _clusterName, _instanceName, _resourceName);
      }
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/healthcheck/HealthReportProvider.java`
#### Snippet
```java

  public Map<String, Map<String, String>> getRecentPartitionHealthReport() {
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/monitoring/metrics/implementation/BaselineDivergenceGauge.java`
#### Snippet
```java
        LOG.error("Failed to report BaselineDivergenceGauge metric.", e);
      }
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/HelixStateMachineEngine.java`
#### Snippet
```java
          .error("Fail to create msg-handler because message does not contain stateModelDef. msgId: "
              + message.getId());
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/HelixStateMachineEngine.java`
#### Snippet
```java
          + stateModelName + " using factoryName: " + factoryName + " for resource: "
          + resourceName);
      return null;
    }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/HelixStateMachineEngine.java`
#### Snippet
```java
            "fail to get executor-service for batch message: " + message.getId() + ". msgType: "
                + message.getMsgType() + ", resource: " + message.getResourceName());
        return null;
      }
      return new BatchMessageHandler(message, context, this, wrapper, executor);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/HelixStateMachineEngine.java`
#### Snippet
```java
      String factoryName) {
    if (!_stateModelFactoryMap.containsKey(stateModelName)) {
      return null;
    }
    return _stateModelFactoryMap.get(stateModelName).get(factoryName);
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelFactory.java`
#### Snippet
```java
   */
  public ExecutorService getExecutorService(String resourceName) {
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelFactory.java`
#### Snippet
```java
  public T getStateModel(String resourceName, String partitionKey) {
    Map<String, T> map = _stateModelMap.get(resourceName);
    return map == null ? null : map.get(partitionKey);
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelFactory.java`
#### Snippet
```java
   */
  public ExecutorService getExecutorService(String resourceName, String fromState, String toState) {
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelFactory.java`
#### Snippet
```java
   */
  public CustomizedExecutorService getExecutorService(Message.MessageInfo msgInfo) {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelFactory.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelFactory.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelResource.java`
#### Snippet
```java
      LOG.error("Error in posting " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
      LOG.error("Error in posting " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
      LOG.error("Error in delete zkPath: " + zkPath, e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java
      LOG.error("Error in post zkPath: " + zkPath, e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceUtil.java`
#### Snippet
```java

    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceUtil.java`
#### Snippet
```java
    List<String> childNames = baseAccessor.getChildNames(parentPath, 0);
    if (childNames == null) {
      return null;
    }
    List<String> paths = new ArrayList<String>();
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConstraintResource.java`
#### Snippet
```java
      getResponse().setStatus(Status.SUCCESS_OK);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConstraintResource.java`
#### Snippet
```java
      getResponse().setStatus(Status.SUCCESS_OK);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java
      LOG.error("", e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java
      LOG.error("", e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java
    }

    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueueResource.java`
#### Snippet
```java
      LOG.error("Error in posting job queue: " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java
      LOG.error("Error in posting " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java
      LOG.error("", e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java
      LOG.error("Error in delete instance", e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java
      LOG.error("Exception in post instance", e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkChildResource.java`
#### Snippet
```java
      LOG.error("Error in delete zkChild: " + zkPath, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java
      LOG.error("Error in posting " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java
  @Override
  public Representation delete() {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java
      LOG.error("Error in posting " + entity, e);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterResource.java`
#### Snippet
```java
      getResponse().setStatus(Status.SUCCESS_OK);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java
      LOG.error("Error in posting " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java
      LOG.error("Exception in posting job queue: " + entity, e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
      getResponse().setStatus(Status.SUCCESS_OK);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java
      LOG.error("", e);
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkConnection.java`
#### Snippet
```java
  @Override
  public States getZookeeperState() {
    return _zk != null ? _zk.getState() : null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordJacksonSerializer.java`
#### Snippet
```java
    if (bytes == null || bytes.length == 0) {
      // reading a parent/null node
      return null;
    }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecordBucketizer.java`
#### Snippet
```java
    if (_bucketSize == 0) {
      // no bucketize
      return null;
    }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordSerializer.java`
#### Snippet
```java
    if (bytes == null || bytes.length == 0) {
      // reading a parent/null node
      return null;
    }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordSerializer.java`
#### Snippet
```java
    } catch (Exception e) {
      LOG.error("Exception during deserialization of bytes: {}", new String(bytes), e);
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/JacksonPayloadSerializer.java`
#### Snippet
```java
  public <T> byte[] serialize(final T data) {
    if (data == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/JacksonPayloadSerializer.java`
#### Snippet
```java
  public <T> T deserialize(final Class<T> clazz, final byte[] bytes) {
    if (bytes == null || bytes.length == 0) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/JacksonPayloadSerializer.java`
#### Snippet
```java
    } catch (Exception e) {
      logger.error("Exception during deserialization of payload bytes: " + new String(bytes), e);
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
  public Typing findSerializationTyping(Annotated a) {
    JsonSerialize serializeAnnotation = a.getAnnotation(JsonSerialize.class);
    return serializeAnnotation == null ? null : Typing.valueOf(serializeAnnotation.typing().name());
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
  public String findDeserializationName(AnnotatedMethod am) {
    JsonProperty propertyAnnotation = am.getAnnotation(JsonProperty.class);
    return propertyAnnotation == null ? null : propertyAnnotation.value();
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      return "";
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      return new PropertyName(name);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      return "";
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
  public String findDeserializationName(AnnotatedField af) {
    JsonProperty propertyAnnotation = af.getAnnotation(JsonProperty.class);
    return propertyAnnotation == null ? null : propertyAnnotation.value();
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/introspect/CodehausJacksonIntrospector.java`
#### Snippet
```java
    }
    if (name == null) {
      return null;
    }
    return name.isEmpty() ? PropertyName.USE_DEFAULT : new PropertyName(name);
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ZNRecordStreamingSerializer.java`
#### Snippet
```java
    if (bytes == null || bytes.length == 0) {
      LOG.error("ZNode is empty.");
      return null;
    }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
      return _serializer.deserialize(clazz, rawPayload);
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      if (lines.length != 2) {
        LOG.info("process: " + processId + " not exist");
        return null;
      }

```

### ReturnNull
Return of `null`
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      }
    }
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/ViewClusterRefresher.java`
#### Snippet
```java
      return _viewClusterDataCache.getExternalViews();
    default:
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/ViewClusterRefresher.java`
#### Snippet
```java
          : _viewClusterDataAccessor.keyBuilder().externalView(propertyName);
    default:
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `helix-agent/src/main/java/org/apache/helix/agent/HelixAgentMain.java`
#### Snippet
```java
      System.exit(1);
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/FederatedZkClient.java`
#### Snippet
```java
  public String getServers() {
    throwUnsupportedOperationException();
    return null;
  }
  @Override
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      public Object call() throws Exception {
        getConnection().addAuthInfo(scheme, auth);
        return null;
      }
    });
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              }
            });
        return null;
      });
    } catch (RuntimeException e) {
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              }
            });
        return null;
      });
    } catch (RuntimeException e) {
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  public <T extends Object> T deserialize(byte[] data, String path) {
    if (data == null) {
      return null;
    }
    return (T) _pathBasedZkSerializer.deserialize(data, path);
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  private String parseExpectedSessionId(Object data) {
    if (!(data instanceof SessionAwareZNRecord)) {
      return null;
    }
    return ((SessionAwareZNRecord) data).getExpectedSessionId();
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
          LOG.debug("installWatchOnlyPathExist path not existing: {}", path);
          record(path, null, startT, ZkClientMonitor.AccessType.READ);
          return null;
        }
      record(path, null, startT, ZkClientMonitor.AccessType.READ);
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              }
            });
        return null;
      });
    } catch (RuntimeException e) {
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              _uid, path, skipWatchingNonExistNode);
        }
        return null;
      }
    });
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              }
            });
        return null;
      });
    } catch (RuntimeException e) {
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
              }
            }, ttl);
        return null;
      });
    } catch (RuntimeException e) {
```

### ReturnNull
Return of `null`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
          public Object call() throws Exception {
            getConnection().delete(path);
            return null;
          }
        });
```

## RuleId[id=AssignmentToLambdaParameter]
### AssignmentToLambdaParameter
Assignment to lambda parameter `oldRecord`
in `helix-core/src/main/java/org/apache/helix/manager/zk/DistributedLeaderElection.java`
#### Snippet
```java
        oldRecord -> {
          if (oldRecord == null) {
            oldRecord = new ZNRecord(PropertyType.HISTORY.toString());
          }
          return new ControllerHistory(oldRecord).updateHistory(clusterName, instanceName,
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `oldRecord`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
              try {
                if (oldRecord == null) {
                  oldRecord = new ZNRecord(PropertyType.HISTORY.toString());
                }
                return new ControllerHistory(oldRecord)
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `oldRecord`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementModeStage.java`
#### Snippet
```java
    if (!accessor.getBaseDataAccessor().update(path, oldRecord -> {
      if (oldRecord == null) {
        oldRecord = new ZNRecord(PropertyType.HISTORY.toString());
      }
      return new ControllerHistory(oldRecord)
```

## RuleId[id=UnnecessaryLocalVariable]
### UnnecessaryLocalVariable
Local variable `model` is redundant
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerStateModelFactory.java`
#### Snippet
```java
  @Override
  public ConsumerStateModel createNewStateModel(String resource, String partition) {
    ConsumerStateModel model = new ConsumerStateModel(_consumerId, partition, _mqServer);
    return model;
  }
```

### UnnecessaryLocalVariable
Local variable `ec` is redundant
in `helix-core/src/main/java/org/apache/helix/ExternalCommand.java`
#### Snippet
```java
   */
  public static ExternalCommand create(List<String> commands) {
    ExternalCommand ec = new ExternalCommand(new ProcessBuilder(commands));
    return ec;
  }
```

### UnnecessaryLocalVariable
Local variable `ec` is redundant
in `helix-core/src/main/java/org/apache/helix/ExternalCommand.java`
#### Snippet
```java
   */
  public static ExternalCommand create(String... commands) {
    ExternalCommand ec = new ExternalCommand(new ProcessBuilder(commands));
    return ec;
  }
```

### UnnecessaryLocalVariable
Local variable `tokenCount` is redundant
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java
      public ConsistentHashSelector(List<String> instances) {
        for (String instance : instances) {
          long tokenCount = DEFAULT_TOKENS_PER_INSTANCE;
          add(instance, tokenCount);
          instanceSize++;
```

### UnnecessaryLocalVariable
Local variable `ret` is redundant
in `helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java`
#### Snippet
```java

    try {
      long ret = Long.valueOf(t);
      return ret;
    } catch (NumberFormatException e) {
```

### UnnecessaryLocalVariable
Local variable `commandConfigMap` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    ObjectMapper mapper = new ObjectMapper();
    try {
      Map<String, String> commandConfigMap =
          mapper.readValue(commandConfig, new TypeReference<HashMap<String, String>>() {
          });
```

### UnnecessaryLocalVariable
Local variable `serializedMap` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
    ObjectMapper mapper = new ObjectMapper();
    try {
      String serializedMap = mapper.writeValueAsString(commandConfig);
      return serializedMap;
    } catch (IOException e) {
```

### UnnecessaryLocalVariable
Local variable `currentState` is redundant
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      return stateFromContext == null ? TaskPartitionState.INIT : stateFromContext;
    }
    TaskPartitionState currentState = TaskPartitionState.valueOf(currentStateString);
    return currentState;
  }
```

### UnnecessaryLocalVariable
Local variable `weight` is redundant
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    if (w != null) {
      try {
        int weight = Integer.valueOf(w);
        return weight;
      } catch (NumberFormatException e) {
```

### UnnecessaryLocalVariable
Local variable `value` is redundant
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonSerializer.java`
#### Snippet
```java
    ByteArrayInputStream bais = new ByteArrayInputStream(bytes);
    try {
      T value = mapper.readValue(bais, _clazz);
      return value;
    } catch (Exception e) {
```

### UnnecessaryLocalVariable
Local variable `ret` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/TestTrigger.java`
#### Snippet
```java
  @Override
  public String toString() {
    String ret = "<" + _startTime + "~" + _timeout + "ms, " + _expectValue + ">";
    return ret;
  }
```

### UnnecessaryLocalVariable
Local variable `nodesInClusters` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java

    int numberOfClusters = instanceClusters.size();
    List<List<String>> nodesInClusters = instanceClusters;
    List<Integer> clusterWeights = instanceClusterWeights;

```

### UnnecessaryLocalVariable
Local variable `clusterWeights` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    int numberOfClusters = instanceClusters.size();
    List<List<String>> nodesInClusters = instanceClusters;
    List<Integer> clusterWeights = instanceClusterWeights;

    HashMap<String, Object> rushConfig =
```

### UnnecessaryLocalVariable
Local variable `partitionId` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
    Random r = new Random(0);
    for (int i = 0; i < partitions; i++) {
      int partitionId = i;
      String partitionName = resourceName + ".partition-" + partitionId;

```

### UnnecessaryLocalVariable
Local variable `allChilds` is redundant
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
      }

      List<String> allChilds = new ArrayList<String>(allChildSet);
      return allChilds;
    }
```

### UnnecessaryLocalVariable
Local variable `ret` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/ZnodeOpArg.java`
#### Snippet
```java
  @Override
  public String toString() {
    String ret =
        "={\"" + _znodePath + "\", " + _propertyType + "/" + _key + " " + _operation + " "
            + _updateValue + "}";
```

### UnnecessaryLocalVariable
Local variable `val` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
      for (int i = 0; i < parts.length; i++) {
        if (parts[i].startsWith(attribute)) {
          String val = parts[i].substring(attribute.length());
          return val;
        }
```

### UnnecessaryLocalVariable
Local variable `sign` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
      @Override
      public int compare(File o1, File o2) {
        int sign = (int) Math.signum(o1.lastModified() - o2.lastModified());
        return sign;
      }
```

### UnnecessaryLocalVariable
Local variable `val` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
      for (int i = 0; i < parts.length; i++) {
        if (parts[i].startsWith(attribute)) {
          String val = parts[i].substring(attribute.length());
          return val;
        }
```

### UnnecessaryLocalVariable
Local variable `output` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      runStage(event, bpStage);

      BestPossibleStateOutput output =
          event.getAttribute(AttributeName.BEST_POSSIBLE_STATE.name());

```

### UnnecessaryLocalVariable
Local variable `cloudInstanceInformation` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java

      // parse cloud instance information for the participant
      CloudInstanceInformation cloudInstanceInformation =
          processor.parseCloudInstanceInformation(responses);
      return cloudInstanceInformation;
```

### UnnecessaryLocalVariable
Local variable `rebalanceConfig` is redundant
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java
   */
  public RebalanceConfig getRebalanceConfig() {
    RebalanceConfig rebalanceConfig = new RebalanceConfig(_record);
    return rebalanceConfig;
  }
```

### UnnecessaryLocalVariable
Local variable `baseDataAccessor` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java

  BaseDataAccessor<ZNRecord> createBaseDataAccessor() {
    ZkBaseDataAccessor<ZNRecord> baseDataAccessor = new ZkBaseDataAccessor<>(_zkclient);
    return baseDataAccessor;
  }
```

### UnnecessaryLocalVariable
Local variable `SegmentOnlineOfflineStateModel` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/SegmentOnlineOfflineStateModelFactory.java`
#### Snippet
```java
  @Override
  public StateModel createNewStateModel(String partitionName) {
    final SegmentOnlineOfflineStateModel SegmentOnlineOfflineStateModel = new SegmentOnlineOfflineStateModel();
    return SegmentOnlineOfflineStateModel;
  }
```

### UnnecessaryLocalVariable
Local variable `model` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
    @Override
    public DummyMSStateModel createNewStateModel(String resourceName, String partitionName) {
      DummyMSStateModel model = new DummyMSStateModel();
      return model;
    }
```

### UnnecessaryLocalVariable
Local variable `statemodelDefinition` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java
    builder.dynamicUpperBound(STANDBY, "R");

    StateModelDefinition statemodelDefinition = builder.build();
    return statemodelDefinition;
  }
```

### UnnecessaryLocalVariable
Local variable `futures` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java

    // this is a blocking call
    List<Future<HelixTaskResult>> futures = exeSvc.invokeAll(tasks, timeout, unit);

    return futures;
```

### UnnecessaryLocalVariable
Local variable `className` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/AbstractBaseStage.java`
#### Snippet
```java
  public String getStageName() {
    // default stage name will be the class name
    String className = this.getClass().getSimpleName();
    return className;
  }
```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public boolean remove(String path, int options) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public boolean set(String path, T data, int expectVersion, int options) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public boolean exists(String path, int options) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public boolean create(String path, T data, int options, long ttl) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public T get(String path, Stat stat, int options) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public Stat getStat(String path, int options) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `clientPath` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  @Override
  public boolean update(String path, DataUpdater<T> updater, int options) {
    String clientPath = path;
    String serverPath = prependChroot(clientPath);

```

### UnnecessaryLocalVariable
Local variable `weightedScore` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
      long hash = hashFunction.hash(input, child.getId(), round);
      hash = hash&0xffff;
      long weightedScore = hash*straw;
      return weightedScore;
    }
```

### UnnecessaryLocalVariable
Local variable `records` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
      try {
        readCount--;
        List<T> records = getChildren(parentPath, stats, options, true);
        return records;
      } catch (HelixMetaDataAccessException e) {
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelResource.java`
#### Snippet
```java
            keyBuilder.stateModelDef(modelName), MediaType.APPLICATION_JSON);

    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
    }

    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(hostedEntitiesRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerStatusUpdateResource.java`
#### Snippet
```java
        ClusterRepresentationUtil.getPropertyAsString(zkClient, clusterName,
            keyBuilder.controllerTaskStatus(messageType, messageId), MediaType.APPLICATION_JSON);
    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);
    return representation;
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStatesResource.java`
#### Snippet
```java
                PropertyType.CURRENTSTATES, instanceSessionId, MediaType.APPLICATION_JSON);

    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java
        ResourceUtil.readZkAsBytes(zkclient, keyBuilder.idealStates(resourceName));

    StringRepresentation representation =
        new StringRepresentation(idealStateStr, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorsResource.java`
#### Snippet
```java
                PropertyType.CURRENTSTATES, instanceSessionId, MediaType.APPLICATION_JSON);

    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorResource.java`
#### Snippet
```java
            // + resourceGroup,
            MediaType.APPLICATION_JSON);
    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);
    return representation;
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdateResource.java`
#### Snippet
```java
            // + resourceGroup,
            MediaType.APPLICATION_JSON);
    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);
    return representation;
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobResource.java`
#### Snippet
```java
    }

    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(hostedEntitiesRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ExternalViewResource.java`
#### Snippet
```java
    String extViewStr =
        ResourceUtil.readZkAsBytes(zkclient, keyBuilder.externalView(resourceName));
    StringRepresentation representation =
        new StringRepresentation(extViewStr, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java

    String retVal = ClusterRepresentationUtil.ZNRecordToJson(record);
    StringRepresentation representation =
        new StringRepresentation(retVal, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueueResource.java`
#### Snippet
```java
    }

    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(hostedEntitiesRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java
    hostedEntitiesRecord.setListField("WorkflowList", allResources);

    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(hostedEntitiesRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java
    wrapper.instanceInfo = recordList;
    wrapper.tagInfo = tagInstanceLists;
    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ObjectToJson(wrapper),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java
    String instanceCfgStr =
        ResourceUtil.readZkAsBytes(zkclient, keyBuilder.instanceConfig(instanceName));
    StringRepresentation representation =
        new StringRepresentation(instanceCfgStr, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java
    modelDefinitions.setListField("models", models);

    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(modelDefinitions),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java
    ZNRecord clustersRecord = new ZNRecord("Clusters Summary");
    clustersRecord.setListField("clusters", clusters);
    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(clustersRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterResource.java`
#### Snippet
```java
      clusterSummayRecord.setSimpleField("LEADER", "");
    }
    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(clusterSummayRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java
        ResourceUtil.readZkAsBytes(zkclient, keyBuilder.idealStates(resourceName));

    StringRepresentation representation =
        new StringRepresentation(idealStateStr, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `command` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JsonParameters.java`
#### Snippet
```java

  public String getCommand() {
    String command = _parameterMap.get(MANAGEMENT_COMMAND);
    return command;
  }
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java
    hostedEntitiesRecord.setListField("JobQueues", allResources);

    StringRepresentation representation =
        new StringRepresentation(ClusterRepresentationUtil.ZNRecordToJson(hostedEntitiesRecord),
            MediaType.APPLICATION_JSON);
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdatesResource.java`
#### Snippet
```java
                PropertyType.CURRENTSTATES, instanceSessionId, MediaType.APPLICATION_JSON);

    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStateResource.java`
#### Snippet
```java
            keyBuilder.currentState(instanceName, instanceSessionId, resourceGroup),
            MediaType.APPLICATION_JSON);
    StringRepresentation representation =
        new StringRepresentation(message, MediaType.APPLICATION_JSON);
    return representation;
```

### UnnecessaryLocalVariable
Local variable `representation` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java
    String sessionId = liveInstance.getEphemeralOwner();

    StringRepresentation representation = new StringRepresentation("");// (ClusterRepresentationUtil.ObjectToJson(instanceConfigs),
                                                                       // MediaType.APPLICATION_JSON);

```

### UnnecessaryLocalVariable
Local variable `uncompressedBytes` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/util/GZipCompressionUtil.java`
#### Snippet
```java
    gzipInputStream.close();
    baos.close();
    byte[] uncompressedBytes = baos.toByteArray();
    return uncompressedBytes;
  }
```

### UnnecessaryLocalVariable
Local variable `compressedBytes` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/util/GZipCompressionUtil.java`
#### Snippet
```java
    gzipOutputStream.write(buffer, 0, buffer.length);
    gzipOutputStream.close();
    byte[] compressedBytes = gzipByteArrayOutputStream.toByteArray();
    return compressedBytes;
  }
```

### UnnecessaryLocalVariable
Local variable `record` is redundant
in `helix-lock/src/main/java/org/apache/helix/lock/helix/ZKDistributedNonblockingLock.java`
#### Snippet
```java
      LockInfo curLockInfo = new LockInfo(current);
      if (isCurrentOwner(curLockInfo)) {
        ZNRecord record = current;
        record
            .setSimpleField(LockInfo.LockInfoAttribute.OWNER.name(), LockConstants.DEFAULT_USER_ID);
```

### UnnecessaryLocalVariable
Local variable `ifaces` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java
        try {
            final Enumeration<NetworkInterface> networkInterfaces = NetworkInterface.getNetworkInterfaces();
            for (final Enumeration<NetworkInterface> ifaces = networkInterfaces; ifaces.hasMoreElements();) {
                final NetworkInterface iface = ifaces.nextElement();
                InetAddress ia = null;
```

### UnnecessaryLocalVariable
Local variable `object` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/serialize/SerializableSerializer.java`
#### Snippet
```java
        try {
            ObjectInputStream inputStream = new TcclAwareObjectIputStream(new ByteArrayInputStream(bytes));
            Object object = inputStream.readObject();
            return object;
        } catch (ClassNotFoundException e) {
```

### UnnecessaryLocalVariable
Local variable `payload` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/JacksonPayloadSerializer.java`
#### Snippet
```java
    mapper.enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);
    try {
      T payload = mapper.readValue(bais, clazz);
      return payload;
    } catch (Exception e) {
```

### UnnecessaryLocalVariable
Local variable `numImps` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
    float fraudProbability = 0.01f;
    float clickProbability = 0.01f;
    int numImps = NUM_IMP_EVENTS;
    SecureRandom rand = new SecureRandom();
    String[] countries = {
```

### UnnecessaryLocalVariable
Local variable `model` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskStateModelFactory.java`
#### Snippet
```java
  @Override
  public TaskStateModel createNewStateModel(String resource, String partition) {
    TaskStateModel model = new TaskStateModel(_workerId, partition, _taskFactory, _taskResultStore);
    return model;
  }
```

### UnnecessaryLocalVariable
Local variable `line` is redundant
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
    try {
      br = new BufferedReader(new FileReader(file));
      String line = br.readLine();
      return line;
    } catch (IOException e) {
```

### UnnecessaryLocalVariable
Local variable `model` is redundant
in `helix-agent/src/main/java/org/apache/helix/agent/AgentStateModelFactory.java`
#### Snippet
```java
  @Override
  public AgentStateModel createNewStateModel(String resourceName, String partitionKey) {
    AgentStateModel model = new AgentStateModel();
    return model;
  }
```

### UnnecessaryLocalVariable
Local variable `txnId` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogGenerator.java`
#### Snippet
```java
      record.timestamp = System.currentTimeMillis();
      currentSeq++;
      long txnId = (((long) currentGen) << 32) + ((long) currentSeq);
      record.txid = txnId;
      record.type = (short) type.ordinal();
```

### UnnecessaryLocalVariable
Local variable `ec` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ExternalCommand.java`
#### Snippet
```java
   */
  public static ExternalCommand create(List<String> commands) {
    ExternalCommand ec = new ExternalCommand(new ProcessBuilder(commands));
    return ec;
  }
```

### UnnecessaryLocalVariable
Local variable `ec` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ExternalCommand.java`
#### Snippet
```java
   */
  public static ExternalCommand create(String... commands) {
    ExternalCommand ec = new ExternalCommand(new ProcessBuilder(commands));
    return ec;
  }
```

## RuleId[id=UnnecessaryTemporaryOnConversionToString]
### UnnecessaryTemporaryOnConversionToString
Unnecessary temporary object in conversion to 'String'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedCapacityProvider.java`
#### Snippet
```java
    void setUsage(String participant, int usage) {
      Map<String, String> participantMap = getOrAddParticipantMap(participant);
      participantMap.put(USAGE, new Integer(usage).toString());
    }

```

### UnnecessaryTemporaryOnConversionToString
Unnecessary temporary object in conversion to 'String'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedCapacityProvider.java`
#### Snippet
```java
    void setCapacity(String participant, int capacity) {
      Map<String, String> participantMap = getOrAddParticipantMap(participant);
      participantMap.put(CAPACITY, new Integer(capacity).toString());
    }

```

### UnnecessaryTemporaryOnConversionToString
Unnecessary temporary object in conversion to 'String'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedPartitionWeightProvider.java`
#### Snippet
```java
        _record.setMapField(resource, partitionWeightMap);
      }
      partitionWeightMap.put(partition, new Integer(weight).toString());
    }

```

## RuleId[id=UseCompareMethod]
### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    @Override
    public int compareTo(Transition t) {
      if (_timeStamp < t._timeStamp)
        return -1;
      else if (_timeStamp > t._timeStamp)
```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
    @Override
    public int compare(Message m1, Message m2) {
      return new Long(m1.getCreateTimeStamp()).compareTo(new Long(m2.getCreateTimeStamp()));
    }
  };
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      @Override
      public int compare(List<Integer> o1, List<Integer> o2) {
        return (o1.size() > o2.size() ? -1 : (o1.size() == o2.size() ? 0 : 1));
      }
    }
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
          if (o1Score == o2Score) {
            return new Integer((partition + o1.getName()).hashCode())
                .compareTo((partition + o2.getName()).hashCode());
          } else {
            return o1Score - o2Score;
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
              }
              return new Integer((node1.getName() + randomSeed).hashCode())
                  .compareTo((node2.getName() + randomSeed).hashCode());
            } else {
              return node1Load - node2Load;
```

## RuleId[id=BusyWait]
### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
        return;
      }
      Thread.sleep(DEFAULT_SLEEP);
    }
    throw new TimeoutException(
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      if (workflowContext == null
          || !TaskState.STOPPED.equals(workflowContext.getWorkflowState())) {
        Thread.sleep(DEFAULT_SLEEP);
      } else {
        // Successfully stopped
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    long timeToSleep = timeout > 100L ? 100L : timeout;
    do {
      Thread.sleep(timeToSleep);
      ctx = getWorkflowContext(workflowName);
    } while ((ctx == null || ctx.getWorkflowState() == null
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
          || baseDataAccessor.exists(workflowConfigPath, AccessOption.PERSISTENT)
          || baseDataAccessor.exists(workflowContextPath, AccessOption.PERSISTENT)) {
        Thread.sleep(DEFAULT_SLEEP);
      } else {
        return;
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      }

      Thread.sleep(DEFAULT_SLEEP);
    }
    throw new TimeoutException("An unexpected issue happened while task being added to the job!");
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      // if it's recurring, need to reconstruct workflow and job name
      do {
        Thread.sleep(timeToSleep);
        ctx = getWorkflowContext(workflowName);
      } while ((ctx == null || ctx.getLastScheduledSingleWorkflow() == null));
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    long st = System.currentTimeMillis();
    do {
      Thread.sleep(timeToSleep);
      ctx = getWorkflowContext(workflowName);
    } while ((ctx == null || ctx.getJobState(jobName) == null
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
          // if the queue is empty, sleep 100 ms and try again
          try {
            Thread.sleep(1000);
          } catch (InterruptedException e) {
            // TODO Auto-generated catch block
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
            int exitVal = -1;
            try {
              Thread.sleep(sleep);
              ProcessBuilder pb =
                  new ProcessBuilder("rsync", "-rvt", remoteLogDir + "/", localLogDir);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
      // service.shutdownNow();
      System.out.println("RUN -------------");
      Thread.sleep(5000);
    }
  }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
            _uid, waitInterval, e);
        try {
          Thread.sleep(waitInterval);
        } catch (InterruptedException ex) {
          reconnectException = ex;
```

## RuleId[id=WaitNotInLoop]
### WaitNotInLoop
Call to `wait()` is not in loop
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
              operations, resultFile, sampleCount);
      synchronized (dumper) {
        dumper.wait();
      }
    } finally {
```

## RuleId[id=RedundantFileCreation]
### RedundantFileCreation
`new File` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
    @SuppressWarnings("unchecked")
    ArrayList<Map<String, String>> configs =
        (ArrayList<Map<String, String>>) yaml.load(new FileInputStream(new File(filePath)));
    for (Map<String, String> config : configs) {
      // Currently we don't support adding default namespace through yaml manifest so all
```

### RedundantFileCreation
`new File` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java

    if (args.length == 3) {
      bw = new BufferedWriter(new FileWriter(new File(args[2])));
    }

```

### RedundantFileCreation
`new File` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/YAMLClusterSetup.java`
#### Snippet
```java
    InputStream input;
    try {
      input = new FileInputStream(new File(yamlFile));
    } catch (FileNotFoundException e) {
      LOG.error("Could not open " + yamlFile);
```

## RuleId[id=PointlessBooleanExpression]
### PointlessBooleanExpression
`indexInPartitionName == false` can be simplified to '!indexInPartitionName'
in `helix-core/src/main/java/org/apache/helix/util/RebalanceUtil.java`
#### Snippet
```java
    }

    if (indexInPartitionName == false) {
      List<String> partitions = new ArrayList<String>();
      partitions.addAll(state.getPartitionSet());
```

### PointlessBooleanExpression
`true || clusterConfig == null` can be simplified to 'true'
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
    // TODO: batch enable/disable in cluster config is breaking backward compatibility with older library
    // re-enable once batch enable/disable is ready
    if (true || clusterConfig == null) {
      return enabledInInstanceConfig;
    }
```

### PointlessBooleanExpression
`enabled == true` can be simplified to 'enabled'
in `helix-core/src/main/java/org/apache/helix/model/CloudConfig.java`
#### Snippet
```java
    super(cluster);
    _record.setBooleanField(CloudConfigProperty.CLOUD_ENABLED.name(), enabled);
    if (enabled == true) {
      _record.setSimpleField(CloudConfigProperty.CLOUD_PROVIDER.name(), cloudProvider.name());
      _record.setSimpleField(CloudConfigProperty.CLOUD_ID.name(), cloudID);
```

### PointlessBooleanExpression
`ret == false` can be simplified to '!ret'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
    }
    boolean ret = checkOptionArgsNumber(cmd.getOptions());
    if (ret == false) {
      printUsage(cliOptions);
      System.exit(1);
```

### PointlessBooleanExpression
`compareSingleValue(actual.getSimpleField(key), expect.getSimpleField(key), key, diff) == false` can be simplified to '!compareSingleValue(actual.getSimpleField(key), expect.getSimpleField(key), key, diff)'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    } else {
      for (String key : actual.getSimpleFields().keySet()) {
        if (compareSingleValue(actual.getSimpleField(key), expect.getSimpleField(key), key, diff) == false) {
          ret = false;
        }
```

### PointlessBooleanExpression
`compareMapValue(actual.getMapField(key), expect.getMapField(key), key, diff) == false` can be simplified to '!compareMapValue(actual.getMapField(key), expect.getMapField(key), key, diff)'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
          }
        } else {
          if (compareMapValue(actual.getMapField(key), expect.getMapField(key), key, diff) == false) {
            ret = false;
          }
```

### PointlessBooleanExpression
`compareMapValue(actual.getMapField(key), expect.getMapField(key), key, diff) == false` can be simplified to '!compareMapValue(actual.getMapField(key), expect.getMapField(key), key, diff)'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
          }
        } else {
          if (compareMapValue(actual.getMapField(key), expect.getMapField(key), key, diff) == false) {
            ret = false;
          }
```

### PointlessBooleanExpression
`success == true` can be simplified to 'success'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
          }

          if (success == true) {
            if (record == null) {
              zkClient.delete(path);
```

### PointlessBooleanExpression
`result == true` can be simplified to 'result'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            // logger.error("result:" + result + ", " + _command);

            if (result == true) {
              _command._finishTimestamp = System.currentTimeMillis();
              _testResults.put(_command, true);
```

### PointlessBooleanExpression
`result == true` can be simplified to 'result'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            result = executeVerifier(record, _command, diff);
            // logger.error("result:" + result + ", " + _command.toString());
            if (result == true) {
              _command._finishTimestamp = System.currentTimeMillis();
              _testResults.put(_command, true);
```

### PointlessBooleanExpression
`result == false` can be simplified to '!result'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        e.printStackTrace();
      } finally {
        if (result == false) {
          _command._finishTimestamp = System.currentTimeMillis();
          logger.error("result:" + result + ", diff: " + diff);
```

### PointlessBooleanExpression
`result == false` can be simplified to '!result'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

            boolean result = compareMap(evInstanceStateMap, bpInstanceStateMap);
            if (result == false) {
              LOG.info("externalView is different from bestPossibleState for partition:" + partition);

```

### PointlessBooleanExpression
`result == true` can be simplified to 'result'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
        Thread.sleep(period);
        result = verifier.verify();
        if (result == true) {
          break;
        }
```

### PointlessBooleanExpression
`result == true` can be simplified to 'result'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    public void handleDataChange(String dataPath, Object data) throws Exception {
      boolean result = _verifier.verify();
      if (result == true) {
        _countDown.countDown();
      }
```

### PointlessBooleanExpression
`result == false` can be simplified to '!result'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    // do initial verify
    boolean result = verifier.verify();
    if (result == false) {
      try {
        result = countDown.await(timeout, TimeUnit.MILLISECONDS);
```

### PointlessBooleanExpression
`result == false` can be simplified to '!result'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      try {
        result = countDown.await(timeout, TimeUnit.MILLISECONDS);
        if (result == false) {
          // make a final try if timeout
          result = verifier.verify();
```

### PointlessBooleanExpression
`result == true` can be simplified to 'result'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

      boolean result = _verifier.verify();
      if (result == true) {
        _countDown.countDown();
      }
```

### PointlessBooleanExpression
`_message.getBatchMessageMode() == true` can be simplified to '_message.getBatchMessageMode()'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java

  public void preHandleMessage() {
    if (_message.getBatchMessageMode() == true && _batchMsgWrapper != null) {
      _batchMsgWrapper.start(_message, _notificationContext);
    }
```

### PointlessBooleanExpression
`_message.getBatchMessageMode() == true` can be simplified to '_message.getBatchMessageMode()'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java

  public void postHandleMessage() {
    if (_message.getBatchMessageMode() == true && _batchMsgWrapper != null) {
      _batchMsgWrapper.end(_message, _notificationContext);
    }
```

### PointlessBooleanExpression
`message.getBatchMessageMode() == true` can be simplified to 'message.getBatchMessageMode()'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
    ExecutorService executorService = _executorMap.get(message.getMsgType());
    if (message.getMsgType().equals(MessageType.STATE_TRANSITION.name())) {
      if (message.getBatchMessageMode() == true) {
        executorService = _batchMessageExecutorService;
      } else {
```

### PointlessBooleanExpression
`issueSync(zk) == false` can be simplified to '!issueSync(zk)'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
        @Override
        public void run() throws Exception {
          if (issueSync(zk) == false) {
            LOG.warn("zkclient{}, Failed to call sync() on new session {}", _uid, sessionId);
          }
```

## RuleId[id=UseBulkOperation]
### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
    List<T> list = new ArrayList<T>();
    for (T t : map.values()) {
      list.add(t);
    }
    return list;
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    List<List<Integer>> positionLists = new ArrayList<List<Integer>>();
    for (List<Integer> list : valueIndex.values()) {
      positionLists.add(list);
    }
    class ListComparator implements Comparator<List<Integer>> {
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
        // Obtain an array of other instances
        for (String otherInstance : previousSlaveAssignmentMap.keySet()) {
          otherInstances.add(otherInstance);
        }
        Collections.sort(otherInstances);
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
    List<String> oldInstances = new ArrayList<String>();
    for (String oldInstance : previousMasterAssignmentMap.keySet()) {
      oldInstances.add(oldInstance);
    }

```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
    }
    for (ZNRecord record : resultRoutingTable.values()) {
      resultList.add(record);
    }
    return resultList;
```

### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/PipelineRegistry.java`
#### Snippet
```java
    List<Pipeline> list = _map.get(eventType);
    for (Pipeline pipeline : pipelines) {
      list.add(pipeline);
    }
  }
```

## RuleId[id=AssignmentToCatchBlockParameter]
### AssignmentToCatchBlockParameter
Assignment to 'catch' block parameter `e`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java
      logger.error(errorMessage, e);
      if (e.getCause() != null && e.getCause() instanceof InterruptedException) {
        e = (InterruptedException) e.getCause();
      }

```

## RuleId[id=EnumSwitchStatementWhichMissesCases]
### EnumSwitchStatementWhichMissesCases
`switch (historyType) { case CONTROLLER_LEADERSHIP: history.put(Properties.history.name...` statement on enum type 'org.apache.helix.model.ControllerHistory.HistoryType' misses case 'MANAGEMENT_MODE'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java`
#### Snippet
```java
        dataAccessor.getProperty(dataAccessor.keyBuilder().controllerLeaderHistory());

    switch (historyType) {
      case CONTROLLER_LEADERSHIP:
        history.put(Properties.history.name(),
            historyRecord != null ? historyRecord.getHistoryList() : Collections.emptyList());
        break;
      case MAINTENANCE:
        history.put(ClusterProperties.maintenanceHistory.name(),
            historyRecord != null ? historyRecord.getMaintenanceHistoryList()
                : Collections.emptyList());
        break;
    }
    return history;
  }
```

### EnumSwitchStatementWhichMissesCases
`switch (state) { case ABORTED: case FAILED: case STOPPED: case COMPLETED: case T...` statement on enum type 'org.apache.helix.task.TaskState' misses cases: 'IN_PROGRESS', 'STOPPING', 'TIMING_OUT', ...
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
      return true;
    }
    switch (state) {
    case ABORTED:
    case FAILED:
    case STOPPED:
    case COMPLETED:
    case TIMED_OUT:
    case NOT_STARTED:
      return true;
    }
    return false;
  }
```

### EnumSwitchStatementWhichMissesCases
`switch (basis) { case PER_REBALANCE_TYPE: if (_sTRebalanceType == null) { ...` statement on enum type 'org.apache.helix.model.Message.MessageInfo.MessageIdentifierBase' misses case 'PER_RESOURCE'
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
      }
      String identifier = String.join(delimiter, _msgType, _resourceName);
      switch (basis) {
        case PER_REBALANCE_TYPE:
          if (_sTRebalanceType == null) {
            return null;
          }
          identifier =
              String.join(delimiter, identifier, _sTRebalanceType.name());
          break;
        case PER_STATE_TRANSITION_TYPE:
          if (_fromState == null || _toState == null) {
            return null;
          }
          identifier = String.join(delimiter, identifier, _fromState, _toState);
          break;
      }
      return identifier;
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (_changeType) { case IDEAL_STATE: listenerClass = IdealStateChangeListener.clas...` statement on enum type 'org.apache.helix.HelixConstants.ChangeType' misses case 'HEALTH'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
switch (_changeType) {
      case IDEAL_STATE:
        listenerClass = IdealStateChangeListener.class;
        break;
      case INSTANCE_CONFIG:
        if (_listener instanceof ConfigChangeListener) {
          listenerClass = ConfigChangeListener.class;
        } else if (_listener instanceof InstanceConfigChangeListener) {
          listenerClass = InstanceConfigChangeListener.class;
        }
        break;
      case CLUSTER_CONFIG:
        listenerClass = ClusterConfigChangeListener.class;
        break;
      case RESOURCE_CONFIG:
        listenerClass = ResourceConfigChangeListener.class;
        break;
      case CUSTOMIZED_STATE_CONFIG:
        listenerClass = CustomizedStateConfigChangeListener.class;
        break;
      case CONFIG:
        listenerClass = ConfigChangeListener.class;
        break;
      case LIVE_INSTANCE:
        listenerClass = LiveInstanceChangeListener.class;
        break;
      case CURRENT_STATE:
        listenerClass = CurrentStateChangeListener.class;
        break;
      case TASK_CURRENT_STATE:
        listenerClass = TaskCurrentStateChangeListener.class;
        break;
      case CUSTOMIZED_STATE_ROOT:
        listenerClass = CustomizedStateRootChangeListener.class;
        break;
      case CUSTOMIZED_STATE:
        listenerClass = CustomizedStateChangeListener.class;
        break;
      case MESSAGE:
      case MESSAGES_CONTROLLER:
        listenerClass = MessageListener.class;
        break;
      case EXTERNAL_VIEW:
      case TARGET_EXTERNAL_VIEW:
        listenerClass = ExternalViewChangeListener.class;
        break;
      case CUSTOMIZED_VIEW:
        listenerClass = CustomizedViewChangeListener.class;
        break;
      case CUSTOMIZED_VIEW_ROOT:
        listenerClass = CustomizedViewRootChangeListener.class;
        break;
      case CONTROLLER:
        listenerClass = ControllerChangeListener.class;
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (config.getThrottleScope()) { case CLUSTER: _pendingTransitionAllowedInCluster....` statement on enum type 'org.apache.helix.api.config.StateTransitionThrottleConfig.ThrottleScope' misses case 'PARTITION'
in `helix-core/src/main/java/org/apache/helix/controller/stages/StateTransitionThrottleController.java`
#### Snippet
```java

    for (StateTransitionThrottleConfig config : throttleConfigs) {
      switch (config.getThrottleScope()) {
      case CLUSTER:
        _pendingTransitionAllowedInCluster.put(config.getRebalanceType(),
            config.getMaxPartitionInTransition());
        _throttleEnabled = true;
        break;
      case RESOURCE:
        for (String resource : resources) {
          _pendingTransitionAllowedPerResource.computeIfAbsent(resource, k -> new HashMap<>())
              .put(config.getRebalanceType(), config.getMaxPartitionInTransition());
        }
        _throttleEnabled = true;
        break;
      case INSTANCE:
        for (String instance : liveInstances) {
          _pendingTransitionAllowedPerInstance.computeIfAbsent(instance, k -> new HashMap<>())
              .put(config.getRebalanceType(), config.getMaxPartitionInTransition());
        }
        _throttleEnabled = true;
        break;
      }
    }
  }
```

## RuleId[id=StringEquality]
### StringEquality
String values are compared using `==`, not 'equals()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/auditlog/auditloggers/FileBasedAuditLogger.java`
#### Snippet
```java
    if (_logReadOperations) {
      _logger.info(auditLog.toString());
    } else if (auditLog.getHttpMethod() == HTTPMethods.PUT.name()
        || auditLog.getHttpMethod() == HTTPMethods.POST.name()
        || auditLog.getHttpMethod() == HTTPMethods.DELETE.name()) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/auditlog/auditloggers/FileBasedAuditLogger.java`
#### Snippet
```java
      _logger.info(auditLog.toString());
    } else if (auditLog.getHttpMethod() == HTTPMethods.PUT.name()
        || auditLog.getHttpMethod() == HTTPMethods.POST.name()
        || auditLog.getHttpMethod() == HTTPMethods.DELETE.name()) {
      _logger.info(auditLog.toString());
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/auditlog/auditloggers/FileBasedAuditLogger.java`
#### Snippet
```java
    } else if (auditLog.getHttpMethod() == HTTPMethods.PUT.name()
        || auditLog.getHttpMethod() == HTTPMethods.POST.name()
        || auditLog.getHttpMethod() == HTTPMethods.DELETE.name()) {
      _logger.info(auditLog.toString());
    }
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          if (_preferredAssignment.containsKey(replica)
              && !existingPreferredAssignment.containsKey(replica)
              && _preferredAssignment.get(replica).id == node.id) {
            existingPreferredAssignment.put(replica, node);
            node.preferred.add(replica);
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          }

          if (_preferredAssignment.get(replica).id != node.id
              && !_existingPreferredAssignment.containsKey(replica)
              && !existingNonPreferredAssignment.containsKey(replica)) {
```

### StringEquality
String values are compared using `==`, not 'equals()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          if (_preferredAssignment.containsKey(replica)
              && !existingPreferredAssignment.containsKey(replica)
              && _preferredAssignment.get(replica).id == node.id) {
            existingPreferredAssignment.put(replica, node);
            node.preferred.add(replica);
```

### StringEquality
String values are compared using `!=`, not 'equals()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
          }

          if (_preferredAssignment.get(replica).id != node.id
              && !_existingPreferredAssignment.containsKey(replica)
              && !existingNonPreferredAssignment.containsKey(replica)) {
```

## RuleId[id=EmptyTryBlock]
### EmptyTryBlock
Empty `try` block
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    long start = System.currentTimeMillis();
    System.out.println(start);
    try {
      // int sum = 0;
      // List<Float> array = new ArrayList<Float>();
```

## RuleId[id=LoopStatementsThatDontLoop]
### LoopStatementsThatDontLoop
`while` statement does not loop
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
      public void run() {
        int i = 0;
        while (!Thread.currentThread().isInterrupted()) {

          // if the queue is empty, sleep 100 ms and try again
```

## RuleId[id=StaticCallOnSubclass]
### StaticCallOnSubclass
Static method `getInstanceNameFromPath()` declared in class 'org.apache.helix.PropertyPathBuilder' but referenced via subclass 'org.apache.helix.PropertyPathConfig'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
        CurrentStateChangeListener currentStateChangeListener =
            (CurrentStateChangeListener) _listener;
        String instanceName = PropertyPathConfig.getInstanceNameFromPath(_path);
        List<CurrentState> currentStates = preFetch(_propertyKey);
        currentStateChangeListener.onStateChange(instanceName, currentStates, changeContext);
```

### StaticCallOnSubclass
Static method `getInstanceNameFromPath()` declared in class 'org.apache.helix.PropertyPathBuilder' but referenced via subclass 'org.apache.helix.PropertyPathConfig'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
        TaskCurrentStateChangeListener taskCurrentStateChangeListener =
            (TaskCurrentStateChangeListener) _listener;
        String instanceName = PropertyPathConfig.getInstanceNameFromPath(_path);
        List<CurrentState> currentStates = preFetch(_propertyKey);
        taskCurrentStateChangeListener
```

### StaticCallOnSubclass
Static method `getInstanceNameFromPath()` declared in class 'org.apache.helix.PropertyPathBuilder' but referenced via subclass 'org.apache.helix.PropertyPathConfig'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
        CustomizedStateRootChangeListener customizedStateRootChangeListener =
            (CustomizedStateRootChangeListener) _listener;
        String instanceName = PropertyPathConfig.getInstanceNameFromPath(_path);
        List<String> customizedStateTypes = new ArrayList<>();
        if (_preFetchEnabled) {
```

### StaticCallOnSubclass
Static method `getInstanceNameFromPath()` declared in class 'org.apache.helix.PropertyPathBuilder' but referenced via subclass 'org.apache.helix.PropertyPathConfig'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
        CustomizedStateChangeListener customizedStateChangeListener =
            (CustomizedStateChangeListener) _listener;
        String instanceName = PropertyPathConfig.getInstanceNameFromPath(_path);
        List<CustomizedState> customizedStates = preFetch(_propertyKey);
        customizedStateChangeListener.onCustomizedStateChange(instanceName, customizedStates, changeContext);
```

### StaticCallOnSubclass
Static method `getInstanceNameFromPath()` declared in class 'org.apache.helix.PropertyPathBuilder' but referenced via subclass 'org.apache.helix.PropertyPathConfig'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
      } else if (_changeType == MESSAGE) {
        MessageListener messageListener = (MessageListener) _listener;
        String instanceName = PropertyPathConfig.getInstanceNameFromPath(_path);
        List<Message> messages = preFetch(_propertyKey);
        messageListener.onMessage(instanceName, messages, changeContext);
```

## RuleId[id=RedundantClassCall]
### RedundantClassCall
Redundant call to `cast()`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java

    RebalanceStrategy strategy =
        RebalanceStrategy.class.cast(loadClass(HelixUtil.class, strategyClassName).newInstance());

    strategy.init(idealState.getResourceName(), partitions, stateModelDefinition
```

### RedundantClassCall
Redundant call to `cast()`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
      try {
        customizedRebalancer = Rebalancer.class
            .cast(HelixUtil.loadClass(getClass(), rebalancerClassName).newInstance());
      } catch (Exception e) {
        LogUtil.logError(logger, _eventId,
```

### RedundantClassCall
Redundant call to `cast()`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
    if (rebalancer != null) {
      try {
        mappingCalculator = MappingCalculator.class.cast(rebalancer);
      } catch (ClassCastException e) {
        LogUtil.logWarn(logger, _eventId,
```

### RedundantClassCall
Redundant call to `cast()`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
      try {
        rebalanceStrategy = RebalanceStrategy.class
            .cast(HelixUtil.loadClass(getClass(), rebalanceStrategyName).newInstance());
        rebalanceStrategy.init(resourceName, partitions, stateCountMap, maxPartition);
      } catch (ClassNotFoundException ex) {
```

### RedundantClassCall
Redundant call to `cast()`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
        try {
          AbnormalStateResolver newResolver = AbnormalStateResolver.class
              .cast(HelixUtil.loadClass(getClass(), resolverClassName).newInstance());
          _abnormalStateResolverMap.put(stateModel,
              new MonitoredAbnormalResolver(newResolver, _clusterName, stateModel));
```

## RuleId[id=ObsoleteCollection]
### ObsoleteCollection
Obsolete collection type `Hashtable` used
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestObjectNameFactory.java`
#### Snippet
```java

  public ObjectName createName(String type, String domain, String name) {
    Hashtable<String, String> properties = new Hashtable<>();

    properties.put(KEY_NAME, name);
```

### ObsoleteCollection
Obsolete collection type `Hashtable<>` used
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestObjectNameFactory.java`
#### Snippet
```java

  public ObjectName createName(String type, String domain, String name) {
    Hashtable<String, String> properties = new Hashtable<>();

    properties.put(KEY_NAME, name);
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
        // Failed jobs propagation
        if (jobState == TaskState.FAILED || jobState == TaskState.TIMED_OUT) {
          Stack<String> childrenJobs = new Stack<>();
          workflowConfig.getJobDag().getDirectChildren(job).forEach(childrenJobs::push);
          while (!childrenJobs.isEmpty()) {
```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
        // Failed jobs propagation
        if (jobState == TaskState.FAILED || jobState == TaskState.TIMED_OUT) {
          Stack<String> childrenJobs = new Stack<>();
          workflowConfig.getJobDag().getDirectChildren(job).forEach(childrenJobs::push);
          while (!childrenJobs.isEmpty()) {
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
          // Failed jobs propagation
          if (jobState == TaskState.FAILED || jobState == TaskState.TIMED_OUT) {
            Stack<String> childrenJobs = new Stack<>();
            workflowConfig.getJobDag().getDirectChildren(job).forEach(childrenJobs::push);
            while (!childrenJobs.isEmpty()) {
```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
          // Failed jobs propagation
          if (jobState == TaskState.FAILED || jobState == TaskState.TIMED_OUT) {
            Stack<String> childrenJobs = new Stack<>();
            workflowConfig.getJobDag().getDirectChildren(job).forEach(childrenJobs::push);
            while (!childrenJobs.isEmpty()) {
```

## RuleId[id=LongLiteralsEndingWithLowercaseL]
### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/MessageLatencyMonitor.java`
#### Snippet
```java
    _messageLatencyGauge = new HistogramDynamicMetric("MessagelatencyGauge", new Histogram(
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _totalMessageLatency = new SimpleDynamicMetric("TotalMessageLatency", 0l);
    _totalMessageCount = new SimpleDynamicMetric("TotalMessageCount", 0l);
  }
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/MessageLatencyMonitor.java`
#### Snippet
```java
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _totalMessageLatency = new SimpleDynamicMetric("TotalMessageLatency", 0l);
    _totalMessageCount = new SimpleDynamicMetric("TotalMessageCount", 0l);
  }

```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/RoutingTableProviderMonitor.java`
#### Snippet
```java
    _dataRefreshLatencyGauge = new HistogramDynamicMetric("DataRefreshLatencyGauge", new Histogram(
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _callbackCounter = new SimpleDynamicMetric("CallbackCounter", 0l);
    _eventQueueSizeGauge = new SimpleDynamicMetric("EventQueueSizeGauge", 0l);
    _dataRefreshCounter = new SimpleDynamicMetric("DataRefreshCounter", 0l);
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/RoutingTableProviderMonitor.java`
#### Snippet
```java
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _callbackCounter = new SimpleDynamicMetric("CallbackCounter", 0l);
    _eventQueueSizeGauge = new SimpleDynamicMetric("EventQueueSizeGauge", 0l);
    _dataRefreshCounter = new SimpleDynamicMetric("DataRefreshCounter", 0l);
    if (propertyType.equals(PropertyType.CURRENTSTATES)) {
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/RoutingTableProviderMonitor.java`
#### Snippet
```java
    _callbackCounter = new SimpleDynamicMetric("CallbackCounter", 0l);
    _eventQueueSizeGauge = new SimpleDynamicMetric("EventQueueSizeGauge", 0l);
    _dataRefreshCounter = new SimpleDynamicMetric("DataRefreshCounter", 0l);
    if (propertyType.equals(PropertyType.CURRENTSTATES)) {
      _statePropLatencyGauge = new HistogramDynamicMetric("StatePropagationLatencyGauge",
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java`
#### Snippet
```java
    _duration = new HistogramDynamicMetric("DurationGauge", new Histogram(
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _count = new SimpleDynamicMetric("EventCounter", 0l);
    _maxDuration = new SimpleDynamicMetric("MaxSingleDurationGauge", 0l);
    _totalDuration = new SimpleDynamicMetric("TotalDurationCounter", 0l);
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java`
#### Snippet
```java
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _count = new SimpleDynamicMetric("EventCounter", 0l);
    _maxDuration = new SimpleDynamicMetric("MaxSingleDurationGauge", 0l);
    _totalDuration = new SimpleDynamicMetric("TotalDurationCounter", 0l);
  }
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java`
#### Snippet
```java
    _count = new SimpleDynamicMetric("EventCounter", 0l);
    _maxDuration = new SimpleDynamicMetric("MaxSingleDurationGauge", 0l);
    _totalDuration = new SimpleDynamicMetric("TotalDurationCounter", 0l);
  }

```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java`
#### Snippet
```java
    _duration = new HistogramDynamicMetric("DurationGauge", new Histogram(
        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));
    _count = new SimpleDynamicMetric("EventCounter", 0l);
    _maxDuration = new SimpleDynamicMetric("MaxSingleDurationGauge", 0l);
    _totalDuration = new SimpleDynamicMetric("TotalDurationCounter", 0l);
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java`
#### Snippet
```java
        new SlidingTimeWindowArrayReservoir(histogramTimeWindowMs, TimeUnit.MILLISECONDS)));
    _count = new SimpleDynamicMetric("EventCounter", 0l);
    _maxDuration = new SimpleDynamicMetric("MaxSingleDurationGauge", 0l);
    _totalDuration = new SimpleDynamicMetric("TotalDurationCounter", 0l);
  }
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterEventMonitor.java`
#### Snippet
```java
    _count = new SimpleDynamicMetric("EventCounter", 0l);
    _maxDuration = new SimpleDynamicMetric("MaxSingleDurationGauge", 0l);
    _totalDuration = new SimpleDynamicMetric("TotalDurationCounter", 0l);
  }

```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/HelixCallbackMonitor.java`
#### Snippet
```java
    _latencyGauge = new HistogramDynamicMetric("LatencyGauge", new Histogram(
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _totalLatencyCounter = new SimpleDynamicMetric("LatencyCounter", 0l);
    _unbatchedCounter = new SimpleDynamicMetric("UnbatchedCounter", 0l);
    _counter = new SimpleDynamicMetric("Counter", 0l);
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/HelixCallbackMonitor.java`
#### Snippet
```java
        new SlidingTimeWindowArrayReservoir(getResetIntervalInMs(), TimeUnit.MILLISECONDS)));
    _totalLatencyCounter = new SimpleDynamicMetric("LatencyCounter", 0l);
    _unbatchedCounter = new SimpleDynamicMetric("UnbatchedCounter", 0l);
    _counter = new SimpleDynamicMetric("Counter", 0l);
  }
```

### LongLiteralsEndingWithLowercaseL
'long' literal `0l` ends with lowercase 'l'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/HelixCallbackMonitor.java`
#### Snippet
```java
    _totalLatencyCounter = new SimpleDynamicMetric("LatencyCounter", 0l);
    _unbatchedCounter = new SimpleDynamicMetric("UnbatchedCounter", 0l);
    _counter = new SimpleDynamicMetric("Counter", 0l);
  }

```

## RuleId[id=RefusedBequest]
### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `helix-core/src/main/java/org/apache/helix/NotificationContext.java`
#### Snippet
```java
   * @return new copy of NotificationContext
   */
  public NotificationContext clone() {

    NotificationContext copy = new NotificationContext(_manager);
```

### RefusedBequest
Method `finalize()` does not call 'super.finalize()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ClusterLiveNodesVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### RefusedBequest
Method `finalize()` does not call 'super.finalize()'
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Node.java`
#### Snippet
```java
  }

  public Node clone() {
    return new Node(this);
  }
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/InstanceNode.java`
#### Snippet
```java
  }

  public InstanceNode clone() {
    return new InstanceNode(this, _instanceName);
  }
```

## RuleId[id=RedundantArrayCreation]
### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
      try {

        Constructor<T> constructor = clazz.getConstructor(new Class[] {
          ZNRecord.class
        });
        T instance = constructor.newInstance(record);
        map.put(record.getId(), instance);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
      try {

        Constructor<T> constructor = clazz.getConstructor(new Class[] {
          ZNRecord.class
        });
        T instance = constructor.newInstance(record);
        list.add(instance);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java
      }

      Object result = methodToInvoke.invoke(_stateModel, new Object[] {
          message, context
      });
      taskResult.setSuccess(true);
      String resultStr;
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
          retryNode = false; // initialize at the outset
          rPrime = r + offset + failure;
          logger.trace("{}.select({}, {})", new Object[] {in, input, rPrime});
          Selector selector = new Selector(in);
          out = selector.select(input, rPrime);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
          if (!out.getType().equalsIgnoreCase(type)) {
            logger.trace("selected output {} for data {} didn't match the type {}: walking down " +
                "the hierarchy...", new Object[] {out, input, type});
            in = out; // walk down the hierarchy
            retryNode = true; // stay within the node and walk down the tree
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JsonParameters.java`
#### Snippet
```java
    CLUSTERSETUP_COMMAND_ALIASES = new HashMap<String, Set<String>>();
    CLUSTERSETUP_COMMAND_ALIASES.put(ClusterSetup.addResource,
        new HashSet<String>(Arrays.asList(new String[] {
          "addResourceGroup"
        })));
    CLUSTERSETUP_COMMAND_ALIASES.put(ClusterSetup.activateCluster,
        new HashSet<String>(Arrays.asList(new String[] {
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JsonParameters.java`
#### Snippet
```java
        })));
    CLUSTERSETUP_COMMAND_ALIASES.put(ClusterSetup.activateCluster,
        new HashSet<String>(Arrays.asList(new String[] {
          "enableStorageCluster"
        })));
    CLUSTERSETUP_COMMAND_ALIASES.put(ClusterSetup.addInstance,
        new HashSet<String>(Arrays.asList(new String[] {
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JsonParameters.java`
#### Snippet
```java
        })));
    CLUSTERSETUP_COMMAND_ALIASES.put(ClusterSetup.addInstance,
        new HashSet<String>(Arrays.asList(new String[] {
          "addInstance"
        })));
  }

```

## RuleId[id=DuplicateBranchesInSwitch]
### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `helix-core/src/main/java/org/apache/helix/task/TaskRunner.java`
#### Snippet
```java
        break;
      case FAILED:
        updateCurrentState(TaskPartitionState.TASK_ERROR);
        break;
      case FATAL_FAILED:
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
      break;
    case SEMI_AUTO:
      property = IdealStateModeProperty.AUTO;
      break;
    case CUSTOMIZED:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `helix-core/src/main/java/org/apache/helix/model/builder/HelixConfigScopeBuilder.java`
#### Snippet
```java
      break;
    case REST:
      scope = new HelixConfigScope(_type, Arrays.asList(_clusterName, _clusterName), null);
      break;
    case CLOUD:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `helix-core/src/main/java/org/apache/helix/model/builder/HelixConfigScopeBuilder.java`
#### Snippet
```java
      break;
    case CLOUD:
      scope = new HelixConfigScope(_type, Arrays.asList(_clusterName, _clusterName), null);
      break;
    case CUSTOMIZED_STATE_AGGREGATION:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `helix-core/src/main/java/org/apache/helix/model/builder/HelixConfigScopeBuilder.java`
#### Snippet
```java
    case CUSTOMIZED_STATE_AGGREGATION:
    case CUSTOMIZED_STATE:
      scope = new HelixConfigScope(_type, Arrays.asList(_clusterName, _clusterName), null);
    default:
      break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `helix-core/src/main/java/org/apache/helix/model/builder/HelixConfigScopeBuilder.java`
#### Snippet
```java
    switch (type) {
    case CLUSTER:
      break;
    case REST:
      break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `helix-core/src/main/java/org/apache/helix/model/builder/HelixConfigScopeBuilder.java`
#### Snippet
```java
      break;
    case REST:
      break;
    case PARTICIPANT:
      if (keys.length > 1) {
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
      break;
    case INVALID:
      break;
    default:
      break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
              break;
            case INVALID:
              break;
            default:
              break;
```

### DuplicateBranchesInSwitch
Branch in 'switch' is a duplicate of the default branch
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
              break;
            case INVALID:
              break;
            default:
              break;
```

## RuleId[id=RegExpSimplifiable]
### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
    String dataStr = "";
    if (data != null) {
      dataStr = new String(data).replaceAll("[\\s]+", "");
    }
    StringBuffer sb = new StringBuffer();
```

### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
          if (pd.getReadMethod() != null && !"class".equals(pd.getName())) {
            sb.append(fieldSep).append(pd.getDisplayName()).append(fieldDelim)
                .append(pd.getReadMethod().invoke(txn).toString().replaceAll("[\\s]+", ""));
          }
        }
```

### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
        if (data != null) {
          sb.append(fieldSep).append("data").append(fieldDelim)
              .append(new String(data).replaceAll("[\\s]+", ""));
        }
      } catch (Exception e) {
```

### RegExpSimplifiable
`[/]` can be simplified to '/'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    File file = new File(fsPath);
    System.out.println("Uploading " + file.getCanonicalPath() + " to " + zkPath);
    zkPath = zkPath.replaceAll("[/]+", "/");
    int index = -1;
    if (removeSuffix && (index = file.getName().indexOf(".")) > -1) {
```

### RegExpSimplifiable
`[\\W]` can be simplified to '\\W'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/HelixZkClient.java`
#### Snippet
```java
    @Override
    public String toString() {
      return (_zkServers + "_" + _sessionTimeout).replaceAll("[\\W]", "_");
    }

```

### RegExpSimplifiable
`[\\W]` can be simplified to '\\W'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
    @Override
    public String toString() {
      return (_zkRealmShardingKey + "_" + _sessionTimeout).replaceAll("[\\W]", "_");
    }

```

## RuleId[id=DuplicateExpressions]
### DuplicateExpressions
Multiple occurrences of `(i + 1 == chars.length) || chars[i + 1] == '/'`
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
        break;
      } else if (c == '.' && lastc == '.') {
        if (chars[i - 2] == '/' && ((i + 1 == chars.length) || chars[i + 1] == '/')) {
          reason = "relative paths not allowed @" + i;
          break;
```

### DuplicateExpressions
Multiple occurrences of `(i + 1 == chars.length) || chars[i + 1] == '/'`
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
        }
      } else if (c == '.') {
        if (chars[i - 1] == '/' && ((i + 1 == chars.length) || chars[i + 1] == '/')) {
          reason = "relative paths not allowed @" + i;
          break;
```

## RuleId[id=StringBufferReplaceableByString]
### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/task/assigner/TaskAssignResult.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("TaskAssignResult{");
    sb.append(String.format("_taskConfig=%s, ", _taskConfig));
```

### StringBufferReplaceableByString
`StringBuffer sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/model/ConstraintItem.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append(_attributes + ":" + _constraintValue);
    return sb.toString();
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/model/Resource.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("resourceName:").append(_resourceName);
    sb.append(", stateModelDef:").append(_stateModelDefRef);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/common/caches/BasicClusterDataCache.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("liveInstancePropertyCache: ").append(_liveInstancePropertyCache.getPropertyMap())
        .append("\n");
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("current state= ").append(_currentStateMap);
    sb.append(", pending state= ").append(_pendingMessageMap);
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    @Override
    public String toString() {
      StringBuilder sb = new StringBuilder();
      sb.append("##########\nname=").append(id).append("\npreferred:").append(preferred.size())
          .append("\nnonpreferred:").append(nonPreferred.size());
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    @Override
    public String toString() {
      StringBuilder sb = new StringBuilder();
      sb.append("##########\nname=").append(id).append("\npreferred:").append(preferred.size())
          .append("\nnonpreferred:").append(nonPreferred.size());
```

### StringBufferReplaceableByString
`StringBuilder stringBuilder` can be replaced with 'String'
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/RestAdminApplication.java`
#### Snippet
```java
      @Override
      public void handle(Request request, Response response) {
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("<html>");
        stringBuilder.append("<head><title>Restlet Cluster Management page</title></head>");
```

### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeRecord.java`
#### Snippet
```java

  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append(txid);
    sb.append("|");
```

## RuleId[id=NonShortCircuitBoolean]
### NonShortCircuitBoolean
Non-short-circuit boolean expression `enabled &= getInstanceEnabledForPartition(resourceName, partition)`
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
        _record.getMapField(InstanceConfigProperty.HELIX_DISABLED_PARTITION.name());
    for (String resourceName : disabledPartitionMap.keySet()) {
      enabled &= getInstanceEnabledForPartition(resourceName, partition);
    }
    return enabled;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `batchMessageMode |= clusterConfig.getBatchMessageMode()`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
    boolean batchMessageMode = resourceConfig.getBatchMessageMode();
    if (clusterConfig != null) {
      batchMessageMode |= clusterConfig.getBatchMessageMode();
    }
    resource.setBatchMessageMode(batchMessageMode);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `batchMessageMode |= clusterConfig.getBatchMessageMode()`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
          ClusterConfig clusterConfig = cache.getClusterConfig();
          if (clusterConfig != null) {
            batchMessageMode |= clusterConfig.getBatchMessageMode();
          }
          resource.setBatchMessageMode(batchMessageMode);
```

## RuleId[id=UnnecessaryReturn]
### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java
  @Override
  public void handleDataChange(String s, Object o) {
    return;
  }

```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java
  @Override
  public void handleSessionEstablishmentError(Throwable error) {
    return;
  }

```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java
  @Override
  public void handleNewSession(String sessionId) {
    return;
  }

```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
  public void setAttribute(Attribute attribute) {
    // All MBeans are readonly
    return;
  }

```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
      return;
    default:
      return;
    }
  }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
      return;
    default:
      return;
    }
  }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
        return;
      default:
        return;
    }
  }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
        return;
      default:
        return;
    }
  }
```

## RuleId[id=SuspiciousListRemoveInLoop]
### SuspiciousListRemoveInLoop
Suspicious 'List.remove()' in loop
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
      for (int i = 0; i < valList.size(); i++) {
        if (valList.get(i).equals(oldInstance)) {
          valList.remove(i);
          valList.add(i, newInstance);
        }
```

## RuleId[id=ManualMinMaxCalculation]
### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    Set<TaskState> allowedStates = new HashSet<>(Arrays.asList(targetStates));

    long timeToSleep = timeout > 100L ? 100L : timeout;
    do {
      Thread.sleep(timeToSleep);
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    }

    long timeToSleep = timeout > 50L ? 50L : timeout;

    WorkflowContext ctx;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java

        if (stateCount > 0) {
          int count = stateCount <= candidateNodeNum ? stateCount : candidateNodeNum;
          candidateNodeNum -= count;
          stateCountMap.put(state, count);
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
      if ("R".equals(num)) {
        if (candidateNodeNum > 0 && replicas > 0) {
          stateCountMap.put(state, replicas < candidateNodeNum ? replicas : candidateNodeNum);
        }
        // should have at most one state using R
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
      long seed = objKey + currentCluster;
      ran.setSeed(seed);
      int t = (repDeg - sumRemainingNodes) > 0 ? (repDeg - sumRemainingNodes) : 0;

      int u =
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

    public void setDelay(int delay) {
      _transDelay = delay > 0 ? delay : 0;
    }

```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `helix-core/src/main/java/org/apache/helix/examples/OnlineOfflineStateModelFactory.java`
#### Snippet
```java

    public void setDelay(int delay) {
      _transDelay = delay > 0 ? delay : 0;
    }

```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

    public void setDelay(int delay) {
      _transDelay = delay > 0 ? delay : 0;
    }

```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `helix-lock/src/main/java/org/apache/helix/lock/helix/ZKDistributedNonblockingLock.java`
#### Snippet
```java
                  .getRequestingTimestamp());
          _pendingTimeout =
              _waitingTimeout > remainingCleanupTime ? remainingCleanupTime : _waitingTimeout;
        }
        // update lock Znode with requestor information
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregator.java`
#### Snippet
```java

    // Exponential backoff with ceiling
    return currentBackoff * 2 > DEFAULT_MAX_EVENT_PROCESS_BACKOFF
        ? DEFAULT_MAX_EVENT_PROCESS_BACKOFF
        : currentBackoff * 2;
  }

```

## RuleId[id=BooleanConstructor]
### BooleanConstructor
Boolean constructor call
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    for (TestCommand command : commandList) {
      testResults.put(command, new Boolean(false));

      TestTrigger trigger = command._trigger;
```

## RuleId[id=BoundedWildcard]
### BoundedWildcard
Can generalize to `? super HelixRestNamespace`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
  }

  private static void constructNamespaceFromConfigFile(String filePath, List<HelixRestNamespace> namespaces)
      throws IOException {
    Yaml yaml = new Yaml();
```

### BoundedWildcard
Can generalize to `? extends AuditLogger`
in `helix-rest/src/main/java/org/apache/helix/rest/server/filters/AuditLogFilter.java`
#### Snippet
```java
  private List<AuditLogger> _auditLoggers;

  public AuditLogFilter(List<AuditLogger> auditLoggers) {
    _auditLoggers = auditLoggers;
  }
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java
   */
  private List<String> getZoneBasedInstances(List<String> instances, List<String> orderedZones,
      Map<String, Set<String>> zoneMapping) {

    if (orderedZones == null) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/JobAccessor.java`
#### Snippet
```java

  private static Map<String, TaskConfig> getTaskConfigMap(
      Map<String, Map<String, String>> taskConfigs) {
    Map<String, TaskConfig> taskConfigsMap = new HashMap<>();
    if (taskConfigs == null || taskConfigs.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends HelixRestNamespace`
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
  }

  private void init(List<HelixRestNamespace> namespaces, int port, String urlPrefix,
      List<AuditLogger> auditLoggers, AuthValidator clusterAuthValidator,
      AuthValidator namespaceAuthValidator, AclRegister aclRegister) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
   * @return list of typed instances for which the conversion succeeded, or null if records is null
   */
  public static <T extends HelixProperty> List<T> convertToTypedList(Class<T> clazz,
      Collection<ZNRecord> records) {
    if (records == null) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
   */
  public static <T extends HelixProperty> List<T> convertToTypedList(Class<T> clazz,
      Collection<ZNRecord> records) {
    if (records == null) {
      return null;
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/HelixProperty.java`
#### Snippet
```java
   * @return id --> HelixProperty subclass map
   */
  public static <T extends HelixProperty> Map<String, T> convertListToMap(List<T> records) {
    if (records == null) {
      return Collections.emptyMap();
```

### BoundedWildcard
Can generalize to `? extends DynamicMetric`
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
   * @param dynamicMetrics the DynamicMetrics. Empty collection will remove the metric attributes.
   */
  protected void updateAttributesInfo(Collection<DynamicMetric<?, ?>> dynamicMetrics,
      String description) {
    if (dynamicMetrics == null) {
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
   */
  public void updateAssignableInstances(ClusterConfig clusterConfig,
      Map<String, LiveInstance> liveInstances, Map<String, InstanceConfig> instanceConfigs) {
    // Keep a collection to determine what's no longer a LiveInstance, in which case the
    // corresponding AssignableInstance must be removed
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
  public void buildAssignableInstancesFromCurrentState(ClusterConfig clusterConfig,
      TaskDataCache taskDataCache, Map<String, LiveInstance> liveInstances,
      Map<String, InstanceConfig> instanceConfigs, CurrentStateOutput currentStateOutput,
      Map<String, Resource> resourceMap) {
    _assignableInstanceMap.clear();
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
   */
  public void buildAssignableInstances(ClusterConfig clusterConfig, TaskDataCache taskDataCache,
      Map<String, LiveInstance> liveInstances, Map<String, InstanceConfig> instanceConfigs) {
    // Reset all cached information
    _assignableInstanceMap.clear();
```

### BoundedWildcard
Can generalize to `? extends JobConfig.Builder`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
   */
  public void enqueueJobs(final String queue, final List<String> jobs,
      final List<JobConfig.Builder> jobBuilders) {

    // Get the job queue config and capacity
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/task/JobDispatcher.java`
#### Snippet
```java
  private void handleDeletedTasks(String jobName, JobContext jobContext,
      Map<String, SortedSet<Integer>> currentInstanceToTaskAssignments,
      Map<String, Set<Integer>> tasksToDrop, CurrentStateOutput currStateOutput,
      Set<Integer> allPartitions, Set<Integer> removedPartitions) {
    for (Integer partition : removedPartitions) {
```

### BoundedWildcard
Can generalize to `? extends SortedSet`
in `helix-core/src/main/java/org/apache/helix/task/JobDispatcher.java`
#### Snippet
```java
   */
  protected void updateInstanceToTaskAssignmentsFromContext(JobContext jobCtx,
      Map<String, SortedSet<Integer>> currentInstanceToTaskAssignments) {
    for (Integer partition : jobCtx.getPartitionSet()) {
      // We must add all active task pIds back here
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/task/JobDispatcher.java`
#### Snippet
```java
  protected static Map<String, SortedSet<Integer>> getCurrentInstanceToTaskAssignments(
      Iterable<String> liveInstances, CurrentStateOutput currStateOutput, String jobName,
      Map<String, Set<Integer>> tasksToDrop) {
    Map<String, SortedSet<Integer>> result = new HashMap<>();
    for (String instance : liveInstances) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/task/FixedTargetTaskAssignmentCalculator.java`
#### Snippet
```java

  private static List<Integer> getPartitionsForTargetPartition(String targetPartition,
      Map<String, List<Integer>> currentTargets, JobContext jobCtx) {
    if (!currentTargets.containsKey(targetPartition)) {
      int nextId = jobCtx.getPartitionSet().size();
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/task/FixedTargetTaskAssignmentCalculator.java`
#### Snippet
```java
  public Set<Integer> getAllTaskPartitions(JobConfig jobCfg, JobContext jobCtx,
      WorkflowConfig workflowCfg, WorkflowContext workflowCtx,
      Map<String, IdealState> idealStateMap) {
    IdealState tgtIs = idealStateMap.get(jobCfg.getTargetResource());
    return getAllTaskPartitions(tgtIs, jobCfg, jobCtx);
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/task/FixedTargetTaskAssignmentCalculator.java`
#### Snippet
```java
      CurrentStateOutput currStateOutput, Collection<String> liveInstances,
      WorkflowConfig workflowCfg, JobConfig jobCfg, JobContext jobContext,
      Set<Integer> taskPartitionSet, Map<String, IdealState> idealStateMap) {

    // Note: targeted jobs also take up capacity in quota-based scheduling
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-rest/src/main/java/org/apache/helix/rest/clusterMaintenanceService/MaintenanceManagementService.java`
#### Snippet
```java
  }

  private void addStoppableCheck(Map<String, StoppableCheck> stoppableChecks, String instance,
      StoppableCheck stoppableCheck) {
    if (!stoppableChecks.containsKey(instance)) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   * @return the {@link JobContext}, or null if none is available
   */
  protected static JobContext getJobContext(HelixPropertyStore<ZNRecord> propertyStore,
      String jobResource) {
    if (jobResource == null) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   */
  protected static Map<String, String> getTaskUserContentMap(
      HelixPropertyStore<ZNRecord> propertyStore, String namespacedJobName,
      String taskPartitionId) {
    ZNRecord record = propertyStore.get(Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT,
```

### BoundedWildcard
Can generalize to `? super ZNRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   * @param record the initial data
   */
  protected static void createUserContent(HelixPropertyStore<ZNRecord> propertyStore,
      String workflowJobResource, ZNRecord record) {
    propertyStore.create(Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT,
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   */
  protected static Map<String, String> getWorkflowJobUserContentMap(
      HelixPropertyStore<ZNRecord> propertyStore, String workflowJobResource) {
    ZNRecord record = propertyStore.get(Joiner.on("/").join(TaskConstants.REBALANCER_CONTEXT_ROOT,
        workflowJobResource, USER_CONTENT_NODE), null, AccessOption.PERSISTENT);
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   * @return the {@link WorkflowContext}, or null if none is available
   */
  protected static WorkflowContext getWorkflowContext(HelixPropertyStore<ZNRecord> propertyStore,
      String workflow) {
    ZNRecord r = propertyStore.get(
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> List<T> convertMapToList(Map<String, T> map) {
    List<T> list = new ArrayList<T>();
    for (T t : map.values()) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static ZNRecord find(String id, List<ZNRecord> list) {
    for (ZNRecord record : list) {
      if (record.getId() != null && record.getId().equals(id)) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> Map<String, T> convertListToTypedMap(List<ZNRecord> recordList,
      Class<T> clazz) {
    Map<String, T> map = new HashMap<String, T>();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> List<T> convertListToTypedList(List<ZNRecord> recordList,
      Class<T> clazz) {
    List<T> list = new ArrayList<T>();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static Map<String, ZNRecord> convertListToMap(List<ZNRecord> recordList) {
    Map<String, ZNRecord> recordMap = new HashMap<String, ZNRecord>();
    for (ZNRecord record : recordList) {
```

### BoundedWildcard
Can generalize to `? extends ResourceConfig`
in `helix-core/src/main/java/org/apache/helix/util/WeightAwareRebalanceUtil.java`
#### Snippet
```java
   * @return List of the IS that contains preference list and suggested state map
   **/
  private ResourcesStateMap calculateAssignment(List<ResourceConfig> resourceConfigs,
      ResourcesStateMap existingAssignment, RebalanceOption option,
      List<? extends AbstractRebalanceHardConstraint> hardConstraints,
```

### BoundedWildcard
Can generalize to `? extends ExternalView`
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
   * @return A list of problematic partitions if the instance is stopped
   */
  public static Map<String, List<String>> perPartitionHealthCheck(List<ExternalView> externalViews,
      Map<String, Map<String, Boolean>> globalPartitionHealthStatus, String instanceToBeStop,
      HelixDataAccessor dataAccessor) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
   */
  public static Map<String, List<String>> perPartitionHealthCheck(List<ExternalView> externalViews,
      Map<String, Map<String, Boolean>> globalPartitionHealthStatus, String instanceToBeStop,
      HelixDataAccessor dataAccessor) {
    Map<String, List<String>> unhealthyPartitions = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java
    }

    private Integer getRemainingUsage(Map<String, Map<String, Integer>> capacity,
        Map<String, Map<String, Integer>> used) {
      if (capacity.containsKey(RESOURCE_TYPE)) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java

    private Integer getRemainingUsage(Map<String, Map<String, Integer>> capacity,
        Map<String, Map<String, Integer>> used) {
      if (capacity.containsKey(RESOURCE_TYPE)) {
        String quotaType = AssignableInstance.DEFAULT_QUOTA_TYPE;
```

### BoundedWildcard
Can generalize to `? extends AssignableInstance`
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java

  private PriorityQueue<AssignableInstance> buildSchedQueue(String quotaType,
      Iterable<AssignableInstance> instances) {
    AssignableInstanceComparator comparator = new AssignableInstanceComparator(quotaType);
    PriorityQueue<AssignableInstance> queue =
```

### BoundedWildcard
Can generalize to `? extends TaskConfig`
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java
  }

  private Map<String, TaskAssignResult> buildNoInstanceAssignment(Iterable<TaskConfig> tasks,
      String quotaType) {
    Map<String, TaskAssignResult> result = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    }

    private static Map<String, TaskStatus> getTaskMessages(List<ZNRecord> partitionRecords) {
      Map<String, TaskStatus> taskMessages = new HashMap<String, TaskStatus>();
      for (ZNRecord partition : partitionRecords) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    // partition) tuples across all sessions
    // return list of transitions sorted from earliest to latest
    private static List<Transition> getSortedTransitions(List<ZNRecord> partitionRecords) {
      List<Transition> transitions = new ArrayList<Transition>();
      for (ZNRecord partition : partitionRecords) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  // Add all partitions that have reached their maxNumberAttempts. These tasks should not be
  // considered for scheduling again.
  protected static void addPartitionsReachedMaximumRetries(Set<Integer> set, JobContext ctx,
      Iterable<Integer> pIds, JobConfig cfg) {
    for (Integer pId : pIds) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  // maxNumberAttempts
  // These tasks determine whether the job needs to FAILED or not.
  protected static void addGivenUpPartitions(Set<Integer> set, JobContext ctx,
      Iterable<Integer> pIds, JobConfig cfg) {
    for (Integer pId : pIds) {
```

### BoundedWildcard
Can generalize to `? extends SortedSet`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
   */
  private void dropRebalancedRunningTasks(Map<String, SortedSet<Integer>> newAssignment,
      Map<String, SortedSet<Integer>> oldAssignment, Map<Integer, PartitionAssignment> paMap,
      JobContext jobContext) {

```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
   */
  private void dropRebalancedRunningTasks(Map<String, SortedSet<Integer>> newAssignment,
      Map<String, SortedSet<Integer>> oldAssignment, Map<Integer, PartitionAssignment> paMap,
      JobContext jobContext) {

```

### BoundedWildcard
Can generalize to `? super PartitionAssignment`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
   */
  private void dropRebalancedRunningTasks(Map<String, SortedSet<Integer>> newAssignment,
      Map<String, SortedSet<Integer>> oldAssignment, Map<Integer, PartitionAssignment> paMap,
      JobContext jobContext) {

```

### BoundedWildcard
Can generalize to `? extends SortedSet`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java

  public void updatePreviousAssignedTasksStatus(
      Map<String, SortedSet<Integer>> currentInstanceToTaskAssignments,
      Set<String> excludedInstances, String jobResource, CurrentStateOutput currStateOutput,
      JobContext jobCtx, JobConfig jobCfg, TaskState jobState,
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      Set<String> excludedInstances, String jobResource, CurrentStateOutput currStateOutput,
      JobContext jobCtx, JobConfig jobCfg, TaskState jobState,
      Map<String, Set<Integer>> assignedPartitions, Set<Integer> partitionsToDropFromIs,
      Map<Integer, PartitionAssignment> paMap, TargetState jobTgtState,
      Set<Integer> skippedPartitions, WorkflowControllerDataProvider cache,
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      Map<String, Set<Integer>> assignedPartitions, Set<Integer> partitionsToDropFromIs,
      Map<Integer, PartitionAssignment> paMap, TargetState jobTgtState,
      Set<Integer> skippedPartitions, WorkflowControllerDataProvider cache,
      Map<String, Set<Integer>> tasksToDrop) {

```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      Map<Integer, PartitionAssignment> paMap, TargetState jobTgtState,
      Set<Integer> skippedPartitions, WorkflowControllerDataProvider cache,
      Map<String, Set<Integer>> tasksToDrop) {

    // If a job is in one of the following states and its tasks are in RUNNING states, the tasks
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java

  private static List<Integer> getNextPartitions(SortedSet<Integer> candidatePartitions,
      Set<Integer> excluded, Set<Integer> throttled, int n) {
    List<Integer> result = new ArrayList<>();
    for (Integer pId : candidatePartitions) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  private void processTaskWithPendingMessage(Integer pId, String pName, String instance,
      Message pendingMessage, TaskState jobState, TaskPartitionState currState,
      Map<Integer, PartitionAssignment> paMap, Map<String, Set<Integer>> assignedPartitions) {

    if (jobState == TaskState.TIMING_OUT && currState == TaskPartitionState.INIT
```

### BoundedWildcard
Can generalize to `? super PartitionAssignment`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  private void processTaskWithPendingMessage(Integer pId, String pName, String instance,
      Message pendingMessage, TaskState jobState, TaskPartitionState currState,
      Map<Integer, PartitionAssignment> paMap, Map<String, Set<Integer>> assignedPartitions) {

    if (jobState == TaskState.TIMING_OUT && currState == TaskPartitionState.INIT
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  private void processTaskWithPendingMessage(Integer pId, String pName, String instance,
      Message pendingMessage, TaskState jobState, TaskPartitionState currState,
      Map<Integer, PartitionAssignment> paMap, Map<String, Set<Integer>> assignedPartitions) {

    if (jobState == TaskState.TIMING_OUT && currState == TaskPartitionState.INIT
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  private Set<Integer> filterTasks(String jobResource, Iterable<Integer> allPartitions,
      JobContext jobContext, Collection<String> liveInstances, Set<String> disableInstances,
      CurrentStateOutput currStateOutput, Map<Integer, PartitionAssignment> paMap) {
    Set<Integer> filteredTasks = new HashSet<>();
    for (int partitionNumber : allPartitions) {
```

### BoundedWildcard
Can generalize to `? super PartitionAssignment`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  private Set<Integer> filterTasks(String jobResource, Iterable<Integer> allPartitions,
      JobContext jobContext, Collection<String> liveInstances, Set<String> disableInstances,
      CurrentStateOutput currStateOutput, Map<Integer, PartitionAssignment> paMap) {
    Set<Integer> filteredTasks = new HashSet<>();
    for (int partitionNumber : allPartitions) {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      JobContext jobCtx, final JobConfig jobCfg, final WorkflowConfig workflowConfig,
      WorkflowContext workflowCtx, final WorkflowControllerDataProvider cache,
      Map<String, Set<Integer>> assignedPartitions, Map<Integer, PartitionAssignment> paMap,
      Set<Integer> skippedPartitions, TaskAssignmentCalculator taskAssignmentCal,
      Set<Integer> allPartitions, final long currentTime, Collection<String> liveInstances) {
```

### BoundedWildcard
Can generalize to `? extends JobConfig`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
   */
  protected boolean isWorkflowFinished(WorkflowContext ctx, WorkflowConfig cfg,
      Map<String, JobConfig> jobConfigMap, WorkflowControllerDataProvider clusterDataCache) {
    boolean incomplete = false;

```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
  }

  private static void addCompletedTasks(Set<Integer> set, JobContext ctx, Iterable<Integer> pIds) {
    for (Integer pId : pIds) {
      TaskPartitionState state = ctx.getPartitionState(pId);
```

### BoundedWildcard
Can generalize to `? extends TaskConfig`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
    }

    public Builder addTaskConfigMap(Map<String, TaskConfig> taskConfigMap) {
      _taskConfigMap.putAll(taskConfigMap);
      return this;
```

### BoundedWildcard
Can generalize to `? extends TaskConfig`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
    }

    public Builder addTaskConfigs(List<TaskConfig> taskConfigs) {
      if (taskConfigs != null) {
        for (TaskConfig taskConfig : taskConfigs) {
```

### BoundedWildcard
Can generalize to `? extends TaskConfig`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
      int maxForcedReassignmentsPerTask, int failureThreshold, long retryDelay,
      boolean disableExternalView, boolean ignoreDependentJobFailure,
      Map<String, TaskConfig> taskConfigMap, String jobType, String instanceGroupTag,
      long executionDelay, long executionStart, String jobId, long expiry, long terminalStateExpiry,
      boolean rebalanceRunningTask) {
```

### BoundedWildcard
Can generalize to `? extends StateTransitionThrottleConfig`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
   */
  public void setStateTransitionThrottleConfigs(
      List<StateTransitionThrottleConfig> throttleConfigs) {
    List<String> configStrs = new ArrayList<String>();

```

### BoundedWildcard
Can generalize to `? extends ViewClusterSourceConfig`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
   * @param sourceConfigList
   */
  public void setViewClusterSourceConfigs(List<ViewClusterSourceConfig> sourceConfigList) {
    List<String> sourceConfigs = new ArrayList<>();
    for (ViewClusterSourceConfig config : sourceConfigList) {
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
   * configs and constructs the trie in a top down manner.
   */
  private TrieNode constructTrie(Map<String, InstanceConfig> instanceConfigMap,
      final String[] topologyKeys) {
    TrieNode rootNode = new TrieNode("", "ROOT");
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
  }

  private List<String> getInvalidInstancesFromConfig(Map<String, InstanceConfig> instanceConfigMap,
      final String[] topologyKeys) {
    List<String> invalidInstances = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends ConstraintItem`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConstraints.java`
#### Snippet
```java
   * @param items (constraint identifier, {@link ConstrantItem}) pairs
   */
  public void addConstraintItems(Map<String, ConstraintItem> items) {
    for (String constraintId : items.keySet()) {
      addConstraintItem(constraintId, items.get(constraintId));
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonSerializer.java`
#### Snippet
```java
  private final Class<T> _clazz;

  public PropertyJsonSerializer(Class<T> clazz) {
    _clazz = clazz;
  }
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
  }

  static void setPathVal(Map<String, Map<String, Integer>> path, String fromState, String toState,
      int val) {
    if (!path.containsKey(fromState)) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
public class StateTransitionTableBuilder {
  // for convenient get path value, in which non-exist means MAX
  static int getPathVal(Map<String, Map<String, Integer>> path, String fromState, String toState) {
    if (!path.containsKey(fromState)) {
      return Integer.MAX_VALUE;
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
  }

  static void setNext(Map<String, Map<String, String>> next, String fromState, String toState,
      String nextState) {
    if (!next.containsKey(fromState)) {
```

### BoundedWildcard
Can generalize to `? extends Transition`
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
   */
  public Map<String, Map<String, String>> buildTransitionTable(List<String> states,
      List<Transition> transitions) {
    // path distance value
    Map<String, Map<String, Integer>> path = new HashMap<String, Map<String, Integer>>();
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/model/builder/StateTransitionTableBuilder.java`
#### Snippet
```java
   * @return nextState or null if doesn't exist a path
   */
  public static String getNext(Map<String, Map<String, String>> next, String fromState,
      String toState) {
    if (!next.containsKey(fromState)) {
```

### BoundedWildcard
Can generalize to `? extends TaskConfig`
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java
    }

    protected Builder addTaskConfigs(String job, Collection<TaskConfig> taskConfigs) {
      job = namespacify(job);
      _dag.addNode(job);
```

### BoundedWildcard
Can generalize to `? extends Partition`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterExternalViewVerifier.java`
#### Snippet
```java

  static Map<String, Map<String, String>> convertBestPossibleState(
      Map<Partition, Map<String, String>> bestPossibleState) {
    Map<String, Map<String, String>> result = new HashMap<String, Map<String, String>>();
    for (Partition partition : bestPossibleState.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterExternalViewVerifier.java`
#### Snippet
```java

  static Map<String, Map<String, String>> convertBestPossibleState(
      Map<Partition, Map<String, String>> bestPossibleState) {
    Map<String, Map<String, String>> result = new HashMap<String, Map<String, String>>();
    for (Partition partition : bestPossibleState.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends ClusterVerifyTrigger`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifier.java`
#### Snippet
```java
  }

  public boolean verifyByCallback(long timeout, List<ClusterVerifyTrigger> triggers) {
    _countdown = new CountDownLatch(1);

```

### BoundedWildcard
Can generalize to `? super HashMap`
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java

  public void choose(int nodesToRetrieve, int currentCluster, int remainingNodes,
      ArrayList<HashMap> nodeData) {
    Integer[] list = (Integer[]) clusters[currentCluster].get("list");
    Integer count = (Integer) clusters[currentCluster].get("count");
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
   */
  static HashMap<String, Object> buildRushConfig(int numClusters,
      List<List<String>> instancesPerCluster, int replicationDegree, List<Integer> clusterWeights) {
    HashMap<String, Object> config = new HashMap<String, Object>();
    config.put("replicationDegree", replicationDegree);
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
  private static Map<String, ResourceAssignment> getAssignmentForWagedFullAutoImpl(
      ZkBucketDataAccessor zkBucketDataAccessor, BaseDataAccessor<ZNRecord> baseDataAccessor,
      ClusterConfig clusterConfig, List<InstanceConfig> instanceConfigs, List<String> liveInstances,
      List<IdealState> idealStates, List<ResourceConfig> resourceConfigs, boolean usePrefLists) {

```

### BoundedWildcard
Can generalize to `? extends ResourceConfig`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
      ZkBucketDataAccessor zkBucketDataAccessor, BaseDataAccessor<ZNRecord> baseDataAccessor,
      ClusterConfig clusterConfig, List<InstanceConfig> instanceConfigs, List<String> liveInstances,
      List<IdealState> idealStates, List<ResourceConfig> resourceConfigs, boolean usePrefLists) {

    // Copy the cluster config and make globalRebalance happen synchronously
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java

  private static boolean isInstanceInManagementMode(String instance,
      Map<String, LiveInstance> liveInstanceMap,
      Map<String, Collection<Message>> instancesMessages) {
    // Check live instance status and participant status change message
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
   * @return a list of instances sorted and flattened.
   */
  public static List<String> sortAndFlattenZoneMapping(Map<String, Set<String>> zoneMapping) {
    return zoneMapping
        .entrySet()
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java
   */
  public static Map<String, Map<String, String>> getIdealAssignmentForFullAuto(
      ClusterConfig clusterConfig, List<InstanceConfig> instanceConfigs, List<String> liveInstances,
      IdealState idealState, List<String> partitions, String strategyClassName)
      throws ClassNotFoundException, IllegalAccessException, InstantiationException {
```

### BoundedWildcard
Can generalize to `? extends DataUpdater`
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java

  @Override
  public boolean[] updateChildren(List<String> paths, List<DataUpdater<T>> updaters, int options) {
    if (_fallbackStore == null) {
      return super.updateChildren(paths, updaters, options);
```

### BoundedWildcard
Can generalize to `? extends TestCommand`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
  }

  private static Map<TestCommand, Boolean> executeTestHelper(List<TestCommand> commandList,
      String zkAddr, CountDownLatch countDown) {

```

### BoundedWildcard
Can generalize to `? super TestCommand`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    public ExecuteCommand(long startTime, TestCommand command, CountDownLatch countDown,
        HelixZkClient zkClient, Map<TestCommand, Boolean> testResults) {
      _startTime = startTime;
      _command = command;
```

### BoundedWildcard
Can generalize to `? super Boolean`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    public ExecuteCommand(long startTime, TestCommand command, CountDownLatch countDown,
        HelixZkClient zkClient, Map<TestCommand, Boolean> testResults) {
      _startTime = startTime;
      _command = command;
```

### BoundedWildcard
Can generalize to `? extends File`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
  }

  public static void grepZkLogDir(List<File> parsedZkLogs, long start, long end, String... patterns) {
    for (File file : parsedZkLogs) {
      grepZkLog(file, start, end, patterns);
```

### BoundedWildcard
Can generalize to `? extends ClusterVerifyTrigger`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ZkHelixClusterVerifier.java`
#### Snippet
```java
  }

  protected boolean verifyByCallback(long timeout, List<ClusterVerifyTrigger> triggers) {
    _countdown = new CountDownLatch(1);

```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
  }

  public static ZNRecord calculateIdealStateBatch(List<List<String>> instanceBatches,
      int partitions, int replicas, String resourceName, String masterStateValue,
      String slaveStateValue) {
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
   */
  static Map<String, Map<String, List<Integer>>> calculateNextSlaveAssignemntMap(
      Map<String, Map<String, List<Integer>>> firstInstanceSlaveAssignmentMap, int replicaOrder) {
    Map<String, Map<String, List<Integer>>> result =
        new TreeMap<String, Map<String, List<Integer>>>();
```

### BoundedWildcard
Can generalize to `? super Integer`
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
   * @param num number of elements to be selected
   */
  static void randomSelect(List<Integer> originalList, List<Integer> selectedList, int num) {
    assert (originalList.size() >= num);
    int[] indexArray = new int[originalList.size()];
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
   *          used by new added storage nodes.
   */
  static void removeFromSlaveAssignmentMap(Map<String, List<Integer>> slaveAssignmentMap,
      List<Integer> masterPartionsMoved, Map<String, List<Integer>> removedAssignmentMap) {
    for (String instanceName : slaveAssignmentMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
   */
  static void removeFromSlaveAssignmentMap(Map<String, List<Integer>> slaveAssignmentMap,
      List<Integer> masterPartionsMoved, Map<String, List<Integer>> removedAssignmentMap) {
    for (String instanceName : slaveAssignmentMap.keySet()) {
      List<Integer> slaveAssignment = slaveAssignmentMap.get(instanceName);
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/common/caches/AbstractDataCache.java`
#### Snippet
```java
   */
  protected Map<PropertyKey, T> refreshProperties(
      HelixDataAccessor accessor, Set<PropertyKey> reloadKeysIn, List<PropertyKey> cachedKeys,
      Map<PropertyKey, T> cachedPropertyMap, Set<PropertyKey> reloadedKeys) {
    // All new entries from zk not cached locally yet should be read from ZK.
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/common/caches/AbstractDataCache.java`
#### Snippet
```java
  protected Map<PropertyKey, T> refreshProperties(
      HelixDataAccessor accessor, Set<PropertyKey> reloadKeysIn, List<PropertyKey> cachedKeys,
      Map<PropertyKey, T> cachedPropertyMap, Set<PropertyKey> reloadedKeys) {
    // All new entries from zk not cached locally yet should be read from ZK.
    List<PropertyKey> reloadKeys = new ArrayList<>(reloadKeysIn);
```

### BoundedWildcard
Can generalize to `? super PropertyKey`
in `helix-core/src/main/java/org/apache/helix/common/caches/AbstractDataCache.java`
#### Snippet
```java
  protected Map<PropertyKey, T> refreshProperties(
      HelixDataAccessor accessor, Set<PropertyKey> reloadKeysIn, List<PropertyKey> cachedKeys,
      Map<PropertyKey, T> cachedPropertyMap, Set<PropertyKey> reloadedKeys) {
    // All new entries from zk not cached locally yet should be read from ZK.
    List<PropertyKey> reloadKeys = new ArrayList<>(reloadKeysIn);
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskCurrentStateCache.java`
#### Snippet
```java
  @Override
  protected Set<PropertyKey> PopulateParticipantKeys(HelixDataAccessor accessor,
      Map<String, LiveInstance> liveInstanceMap) {
    Set<PropertyKey> participantStateKeys = new HashSet<>();
    PropertyKey.Builder keyBuilder = accessor.keyBuilder();
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/common/caches/IdealStateCache.java`
#### Snippet
```java
   * @param idealStates
   */
  public void setIdealStates(List<IdealState> idealStates) {
    Map<String, IdealState> idealStateMap = new HashMap();
    for (IdealState idealState : idealStates) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/common/caches/PropertyCache.java`
#### Snippet
```java
  }

  public void setPropertyMap(Map<String, T> objMap) {
    // make a copy in case objMap is modified by the caller later on
    // not updating the cache as cache is for data from data store
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/common/caches/PropertyCache.java`
#### Snippet
```java
  }

  private Map<String, T> propertyKeyMapToStringMap(Map<PropertyKey, T> propertyKeyMap,
      PropertyCache.PropertyCacheKeyFuncs<T> objNameFunc) {
    Map<String, T> stringMap = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super T`
in `helix-core/src/main/java/org/apache/helix/common/caches/PropertyCache.java`
#### Snippet
```java

  private Map<String, T> propertyKeyMapToStringMap(Map<PropertyKey, T> propertyKeyMap,
      PropertyCache.PropertyCacheKeyFuncs<T> objNameFunc) {
    Map<String, T> stringMap = new HashMap<>();
    for (T obj : propertyKeyMap.values()) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/common/caches/PropertyCache.java`
#### Snippet
```java
  @VisibleForTesting
  SelectivePropertyRefreshInputs<T> genSelectiveUpdateInput(HelixDataAccessor accessor,
      Map<String, T> oldCache, PropertyCache.PropertyCacheKeyFuncs<T> propertyKeyFuncs) {
    // Generate keys for all current live instances
    Set<PropertyKey> latestKeys = Sets.newHashSet();
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java

  public CurrentStateSnapshot(final Map<PropertyKey, CurrentState> currentStateMap,
      final Map<PropertyKey, CurrentState> prevStateMap, final Set<PropertyKey> updatedStateKeys) {
    this(currentStateMap);
    _updatedStateKeys = Collections.unmodifiableSet(new HashSet<>(updatedStateKeys));
```

### BoundedWildcard
Can generalize to `? extends CurrentState`
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java

  public CurrentStateSnapshot(final Map<PropertyKey, CurrentState> currentStateMap,
      final Map<PropertyKey, CurrentState> prevStateMap, final Set<PropertyKey> updatedStateKeys) {
    this(currentStateMap);
    _updatedStateKeys = Collections.unmodifiableSet(new HashSet<>(updatedStateKeys));
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java

  public CurrentStateSnapshot(final Map<PropertyKey, CurrentState> currentStateMap,
      final Map<PropertyKey, CurrentState> prevStateMap, final Set<PropertyKey> updatedStateKeys) {
    this(currentStateMap);
    _updatedStateKeys = Collections.unmodifiableSet(new HashSet<>(updatedStateKeys));
```

### BoundedWildcard
Can generalize to `? extends K`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    }

    private <K, V> boolean compareMap(Map<K, V> map1, Map<K, V> map2) {
      boolean isEqual = true;
      if (map1 == null && map2 == null) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

    private boolean verifyBestPossAndExtView(HelixDataAccessor accessor,
        Map<String, Map<String, String>> errStates, String clusterName, Set<String> resources) {
      try {
        PropertyKey.Builder keyBuilder = accessor.keyBuilder();
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateCache.java`
#### Snippet
```java
  @Override
  protected Set<PropertyKey> PopulateParticipantKeys(HelixDataAccessor accessor,
      Map<String, LiveInstance> liveInstanceMap) {
    Set<PropertyKey> participantStateKeys = new HashSet<>();
    PropertyKey.Builder keyBuilder = accessor.keyBuilder();
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCallbackCache.java`
#### Snippet
```java
  private final Map<String, Set<HelixPropertyListener>> _listener;

  public ZkCallbackCache(BaseDataAccessor<T> accessor, String chrootPath, List<String> paths,
      ZkCacheEventThread eventThread) {
    super();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/common/caches/TaskDataCache.java`
#### Snippet
```java

  private void batchUpdateData(HelixDataAccessor accessor, List<String> dataUpdateNames,
      Map<String, ZNRecord> dataMap, Set<String> dataToUpdate, TaskDataType taskDataType) {
    List<String> contextUpdatePaths = new ArrayList<>();
    List<ZNRecord> updatedData = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends HelixTimerTask`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ControllerManagerHelper.java`
#### Snippet
```java
  final List<HelixTimerTask> _controllerTimerTasks;

  public ControllerManagerHelper(HelixManager manager, List<HelixTimerTask> controllerTimerTasks) {
    _manager = manager;
    _messagingService = (DefaultMessagingService) manager.getMessagingService();
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/manager/zk/WriteThroughCache.java`
#### Snippet
```java
  final BaseDataAccessor<T> _accessor;

  public WriteThroughCache(BaseDataAccessor<T> accessor, List<String> paths) {
    super();
    _accessor = accessor;
```

### BoundedWildcard
Can generalize to `? extends PreConnectCallback`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java
  public ParticipantManager(HelixManager manager, RealmAwareZkClient zkclient, int sessionTimeout,
      LiveInstanceInfoProvider liveInstanceInfoProvider,
      List<PreConnectCallback> preConnectCallbacks, final String sessionId,
      HelixManagerProperty helixManagerProperty) {
    _zkclient = zkclient;
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
  // Check partition's state on the original relay host (host that forwards the relay message)
  // Set the relay message to be expired immediately or to be expired a certain time in future if necessary.
  private void checkRelayHost(Message relayMessage, Map<String, LiveInstance> liveInstanceMap,
      Map<String, Map<String, Map<String, CurrentState>>> currentStateMap, Message hostedMessage) {

```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
  // Set the relay message to be expired immediately or to be expired a certain time in future if necessary.
  private void checkRelayHost(Message relayMessage, Map<String, LiveInstance> liveInstanceMap,
      Map<String, Map<String, Map<String, CurrentState>>> currentStateMap, Message hostedMessage) {

    long currentTime = System.currentTimeMillis();
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
  }

  public void cacheMessages(Collection<Message> messages) {
    for (Message message : messages) {
      String instanceName = message.getTgtName();
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
  // Check partition's state on the relay message's target host (The relay message's destination host).
  // Set the relay message to be expired immediately or to be expired a certain time in future if necessary.
  private void checkTargetHost(String targetHost, Message relayMessage, Map<String, LiveInstance> liveInstanceMap,
      Map<String, Map<String, Map<String, CurrentState>>> currentStateMap) {

```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
  // Set the relay message to be expired immediately or to be expired a certain time in future if necessary.
  private void checkTargetHost(String targetHost, Message relayMessage, Map<String, LiveInstance> liveInstanceMap,
      Map<String, Map<String, Map<String, CurrentState>>> currentStateMap) {

    long currentTime = System.currentTimeMillis();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java

  public static void dropChildren(RealmAwareZkClient client, String parentPath,
      List<ZNRecord> list) {
    // TODO: check if parentPath exists
    if (list != null) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKUtil.java`
#### Snippet
```java

  public static void createChildren(RealmAwareZkClient client, String parentPath,
      List<ZNRecord> list) {
    client.createPersistent(parentPath, true);
    if (list != null) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java
     * @param instanceLists the map of instance preference lists.N
     */
    public Builder setPreferenceLists(Map<String, List<String>> instanceLists) {
      _preferenceLists = new TreeMap<>(instanceLists);
      return this;
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java
   * @throws IOException              - when JSON parsing fails
   */
  public void setPartitionCapacityMap(Map<String, Map<String, Integer>> partitionCapacityMap)
      throws IllegalArgumentException, IOException {
    if (partitionCapacityMap == null) {
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java

  @Override
  public <T extends HelixProperty> boolean[] createChildren(List<PropertyKey> keys, List<T> children) {
    // TODO: add validation
    int options = -1;
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java

  @Override
  public List<HelixProperty.Stat> getPropertyStats(List<PropertyKey> keys) {
    if (keys == null || keys.size() == 0) {
      return Collections.emptyList();
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java

  @Override
  public <T extends HelixProperty> boolean[] setChildren(List<PropertyKey> keys, List<T> children) {
    int options = -1;
    List<String> paths = new ArrayList<String>();
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java

  @Override
  public <T extends HelixProperty> List<T> getProperty(List<PropertyKey> keys,
      boolean throwException) throws HelixMetaDataAccessException {
    if (keys == null || keys.size() == 0) {
```

### BoundedWildcard
Can generalize to `? extends CallbackHandler`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  }

  void initHandlers(List<CallbackHandler> handlers) {
    synchronized (this) {
      if (handlers != null) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/messaging/ZNRecordRow.java`
#### Snippet
```java
  }

  public static List<ZNRecordRow> flatten(Collection<ZNRecord> recordList) {
    List<ZNRecordRow> result = new ArrayList<ZNRecordRow>();
    for (ZNRecord record : recordList) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/messaging/ZNRecordRow.java`
#### Snippet
```java
  }

  public static List<ZNRecordRow> getRowListFromMap(Map<String, List<ZNRecordRow>> rowMap,
      String key) {
    return rowMap.get(key);
```

### BoundedWildcard
Can generalize to `? extends CurrentStateUpdate`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java
  // distinct partition
  private Map<PropertyKey, CurrentState> mergeCurStateUpdate(
      ConcurrentHashMap<String, CurrentStateUpdate> csUpdateMap) {
    Map<String, CurrentStateUpdate> curStateUpdateMap = new HashMap<String, CurrentStateUpdate>();
    for (CurrentStateUpdate update : csUpdateMap.values()) {
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java
  }

  List<MessageHandler> createMsgHandlers(List<Message> msgs, NotificationContext context) {

    List<MessageHandler> handlers = new ArrayList<MessageHandler>();
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixBatchMessageTask.java`
#### Snippet
```java
  final List<MessageHandler> _handlers;

  public HelixBatchMessageTask(Message batchMsg, List<Message> subMsgs,
      List<MessageHandler> handlers, NotificationContext context) {
    _batchMsg = batchMsg;
```

### BoundedWildcard
Can generalize to `? extends MessageHandler`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixBatchMessageTask.java`
#### Snippet
```java

  public HelixBatchMessageTask(Message batchMsg, List<Message> subMsgs,
      List<MessageHandler> handlers, NotificationContext context) {
    _batchMsg = batchMsg;
    _context = context;
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`>
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java

  private void removeEntryWithIgnoredStates(
      Iterator<Map.Entry<String, Map<String, String>>> partitionInstanceStateMapIter,
      Set<String> ignoredStates) {
    while (partitionInstanceStateMapIter.hasNext()) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java

  private BestPossibleExternalViewVerifier(RealmAwareZkClient zkClient, String clusterName,
      Map<String, Map<String, String>> errStates, Set<String> resources,
      Set<String> expectLiveInstances, int waitPeriodTillVerify, boolean usesExternalZkClient) {
    // Initialize BestPossibleExternalViewVerifier with usesExternalZkClient = false so that
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  }

  private void updateMessageState(Collection<Message> msgsToBeUpdated, HelixDataAccessor accessor,
      String instanceName) {
    if (msgsToBeUpdated.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends MessageHandler`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
   */
  private boolean validateAndProcessStateTransitionMessage(Message message, HelixManager manager,
      Map<String, MessageHandler> stateTransitionHandlers, MessageHandler createHandler) {
    String messageTarget = getMessageTarget(message.getResourceName(), message.getPartitionName());

```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  @Override
  @PreFetch(enabled = false)
  public void onMessage(String instanceName, List<Message> messages,
      NotificationContext changeContext) {
    HelixManager manager = changeContext.getManager();
```

### BoundedWildcard
Can generalize to `? extends MessageTask`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  // ExecutorService impl's in JDK are thread-safe
  @Override
  public List<Future<HelixTaskResult>> invokeAllTasks(List<MessageTask> tasks, long timeout,
      TimeUnit unit) throws InterruptedException {
    if (tasks == null || tasks.size() == 0) {
```

### BoundedWildcard
Can generalize to `? extends MessageHandler`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  // false if not been able to cancel the state transition (i.e, further cancellation is needed).
  private boolean cancelNotStartedStateTransition(Message message,
      Map<String, MessageHandler> stateTransitionHandlers, HelixDataAccessor accessor,
      String instanceName) {
    String targetMessageName =
```

### BoundedWildcard
Can generalize to `? extends CustomizedView`
in `helix-core/src/main/java/org/apache/helix/spectator/CustomizedViewRoutingTable.java`
#### Snippet
```java
  }

  private void refresh(Collection<CustomizedView> customizedViewList) {
    Map<String, InstanceConfig> instanceConfigMap = new HashMap<>();
    if (customizedViewList != null && !customizedViewList.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends CustomizedView`
in `helix-core/src/main/java/org/apache/helix/spectator/CustomizedViewRoutingTable.java`
#### Snippet
```java
  }

  protected CustomizedViewRoutingTable(Collection<CustomizedView> customizedViews,
      Collection<InstanceConfig> instanceConfigs, Collection<LiveInstance> liveInstances,
      PropertyType propertytype, String customizedStateType) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
   * The parameter is a map that maps the nodeName to a list of ZNRecords.
   */
  public List<ZNRecord> computeExternalView(Map<String, List<ZNRecord>> currentStates,
      List<ZNRecord> idealStates) {
    List<ZNRecord> resultList = new ArrayList<ZNRecord>();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
   */
  public List<ZNRecord> computeExternalView(Map<String, List<ZNRecord>> currentStates,
      List<ZNRecord> idealStates) {
    List<ZNRecord> resultList = new ArrayList<ZNRecord>();
    Map<String, ZNRecord> resultRoutingTable = new HashMap<String, ZNRecord>();
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `helix-core/src/main/java/org/apache/helix/controller/ExternalViewGenerator.java`
#### Snippet
```java
   */
  public Map<String, Map<String, Set<String>>> getRouterMapFromExternalView(
      List<ZNRecord> externalViewList) {
    Map<String, Map<String, Set<String>>> result = new TreeMap<String, Map<String, Set<String>>>();

```

### BoundedWildcard
Can generalize to `? extends Partition`
in `helix-core/src/main/java/org/apache/helix/controller/common/PartitionStateMap.java`
#### Snippet
```java

  // Deep copy of the partitionStateMap is a safer way.
  public PartitionStateMap(String resourceName, Map<Partition, Map<String, String>> partitionStateMap) {
    _resourceName = resourceName;
    _stateMap = partitionStateMap.entrySet()
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/common/PartitionStateMap.java`
#### Snippet
```java

  // Deep copy of the partitionStateMap is a safer way.
  public PartitionStateMap(String resourceName, Map<Partition, Map<String, String>> partitionStateMap) {
    _resourceName = resourceName;
    _stateMap = partitionStateMap.entrySet()
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementMessageGenerationPhase.java`
#### Snippet
```java

  private List<Message> generateStatusChangeMessages(ClusterManagementMode managementMode,
      Set<String> enabledLiveInstances, Map<String, LiveInstance> liveInstanceMap,
      Map<String, Collection<Message>> allInstanceMessages, String managerInstance,
      String managerSessionId) {
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementMessageGenerationPhase.java`
#### Snippet
```java
  private List<Message> generateStatusChangeMessages(ClusterManagementMode managementMode,
      Set<String> enabledLiveInstances, Map<String, LiveInstance> liveInstanceMap,
      Map<String, Collection<Message>> allInstanceMessages, String managerInstance,
      String managerSessionId) {
    List<Message> messagesGenerated = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementMessageGenerationPhase.java`
#### Snippet
```java
  }

  private boolean needStatusChangeMessage(Collection<Message> messages,
      LiveInstanceStatus currentStatus, LiveInstanceStatus desiredStatus) {
    // 1. current status is not equal to desired status
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageThrottleStage.java`
#### Snippet
```java
  }

  private List<Message> throttle(Map<String, Integer> throttleMap, ClusterConstraints constraint,
      List<Message> messages, final boolean needThrottle) {

```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageThrottleStage.java`
#### Snippet
```java

  private List<Message> throttle(Map<String, Integer> throttleMap, ClusterConstraints constraint,
      List<Message> messages, final boolean needThrottle) {

    List<Message> throttleOutputMsgs = new ArrayList<Message>();
```

### BoundedWildcard
Can generalize to `? extends ConstraintItem`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageThrottleStage.java`
#### Snippet
```java
   * value, select the first in alphabetic order
   */
  Set<ConstraintItem> selectConstraints(Set<ConstraintItem> items,
      Map<ConstraintAttribute, String> attributes) {
    Map<String, ConstraintItem> selectedItems = new HashMap<String, ConstraintItem>();
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
  // update all pending messages to CurrentStateOutput.
  private void updatePendingMessages(LiveInstance instance, BaseControllerDataProvider cache,
      Collection<Message> pendingMessages, Collection<Message> pendingRelayMessages,
      Set<Message> existingStaleMessages, CurrentStateOutput currentStateOutput,
      Map<String, Resource> resourceMap) {
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
  // update all pending messages to CurrentStateOutput.
  private void updatePendingMessages(LiveInstance instance, BaseControllerDataProvider cache,
      Collection<Message> pendingMessages, Collection<Message> pendingRelayMessages,
      Set<Message> existingStaleMessages, CurrentStateOutput currentStateOutput,
      Map<String, Resource> resourceMap) {
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
      Collection<Message> pendingMessages, Collection<Message> pendingRelayMessages,
      Set<Message> existingStaleMessages, CurrentStateOutput currentStateOutput,
      Map<String, Resource> resourceMap) {
    String instanceName = instance.getInstanceName();
    String instanceSessionId = instance.getEphemeralOwner();
```

### BoundedWildcard
Can generalize to `? extends CurrentState`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java

  // update current states in CurrentStateOutput
  private void updateCurrentStates(LiveInstance instance, Collection<CurrentState> currentStates,
      CurrentStateOutput currentStateOutput, Map<String, Resource> resourceMap) {
    String instanceName = instance.getInstanceName();
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
  // update current states in CurrentStateOutput
  private void updateCurrentStates(LiveInstance instance, Collection<CurrentState> currentStates,
      CurrentStateOutput currentStateOutput, Map<String, Resource> resourceMap) {
    String instanceName = instance.getInstanceName();
    String instanceSessionId = instance.getEphemeralOwner();
```

### BoundedWildcard
Can generalize to `? extends ResourceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java

  private void reportResourcePartitionCapacityMetrics(ExecutorService executorService,
      ClusterStatusMonitor clusterStatusMonitor, Collection<ResourceConfig> resourceConfigs) {
    asyncExecute(executorService, () -> {
      try {
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java

  private void reportInstanceCapacityMetrics(ClusterStatusMonitor clusterStatusMonitor,
      ResourceControllerDataProvider dataProvider, Map<String, Resource> resourceMap,
      CurrentStateOutput currentStateOutput) {
    asyncExecute(dataProvider.getAsyncTasksThreadPool(), () -> {
```

### BoundedWildcard
Can generalize to `? extends CustomizedView`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
  private void computeCustomizedStateView(final Resource resource, final String stateType,
      CustomizedStateOutput customizedStateOutput,
      final Map<String, CustomizedView> curCustomizedViews,
      List<CustomizedView> updatedCustomizedViews,
      Map<String, Map<Partition, Map<String, Long>>> updatedStartTimestamps) {
```

### BoundedWildcard
Can generalize to `? super CustomizedView`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
      CustomizedStateOutput customizedStateOutput,
      final Map<String, CustomizedView> curCustomizedViews,
      List<CustomizedView> updatedCustomizedViews,
      Map<String, Map<Partition, Map<String, Long>>> updatedStartTimestamps) {
    String resourceName = resource.getResourceName();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
      final Map<String, CustomizedView> curCustomizedViews,
      List<CustomizedView> updatedCustomizedViews,
      Map<String, Map<Partition, Map<String, Long>>> updatedStartTimestamps) {
    String resourceName = resource.getResourceName();
    CustomizedView view = new CustomizedView(resource.getResourceName());
```

### BoundedWildcard
Can generalize to `? super Map`>
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
      final Map<String, CustomizedView> curCustomizedViews,
      List<CustomizedView> updatedCustomizedViews,
      Map<String, Map<Partition, Map<String, Long>>> updatedStartTimestamps) {
    String resourceName = resource.getResourceName();
    CustomizedView view = new CustomizedView(resource.getResourceName());
```

### BoundedWildcard
Can generalize to `? extends CustomizedView`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedViewAggregationStage.java`
#### Snippet
```java
  }

  private void reportLatency(ClusterEvent event, List<CustomizedView> updatedCustomizedViews,
      Map<String, CustomizedView> curCustomizedViews,
      Map<String, Map<Partition, Map<String, Long>>> updatedStartTimestamps,
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
   * tied to the session id of each live instance.
   */
  protected void checkLiveInstancesObservation(List<LiveInstance> liveInstances,
      NotificationContext changeContext) {

```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  }

  private void checkRebalancingTimer(HelixManager manager, List<IdealState> idealStates,
      ClusterConfig clusterConfig) {
    if (manager.getConfigAccessor() == null) {
```

### BoundedWildcard
Can generalize to `? extends ExternalView`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
  }

  protected RoutingTable(Collection<ExternalView> externalViews, Collection<InstanceConfig> instanceConfigs,
      Collection<LiveInstance> liveInstances, PropertyType propertytype) {
    // TODO Refactor these constructors so we don't have so many constructor.
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
  }

  protected RoutingTable(Collection<ExternalView> externalViews, Collection<InstanceConfig> instanceConfigs,
      Collection<LiveInstance> liveInstances, PropertyType propertytype) {
    // TODO Refactor these constructors so we don't have so many constructor.
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java

  protected RoutingTable(Collection<ExternalView> externalViews, Collection<InstanceConfig> instanceConfigs,
      Collection<LiveInstance> liveInstances, PropertyType propertytype) {
    // TODO Refactor these constructors so we don't have so many constructor.
    _propertyType = propertytype;
```

### BoundedWildcard
Can generalize to `? extends ExternalView`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
  }

  private void refresh(Collection<ExternalView> externalViewList) {
    Map<String, InstanceConfig> instanceConfigMap = new HashMap<>();
    if (externalViewList != null && !externalViewList.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
  }

  private void refresh(Map<String, Map<String, Map<String, CurrentState>>> currentStateMap) {
    Map<String, InstanceConfig> instanceConfigMap = new HashMap<>();
    if (currentStateMap != null && !currentStateMap.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends Partition`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TargetExteralViewCalcStage.java`
#### Snippet
```java

  private Map<String, Map<String, String>> convertToMapFields(
      Map<Partition, Map<String, String>> partitionMapMap) {
    Map<String, Map<String, String>> mapFields = Maps.newHashMap();
    for (Partition p : partitionMapMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TargetExteralViewCalcStage.java`
#### Snippet
```java

  private Map<String, Map<String, String>> convertToMapFields(
      Map<Partition, Map<String, String>> partitionMapMap) {
    Map<String, Map<String, String>> mapFields = Maps.newHashMap();
    for (Partition p : partitionMapMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends CustomizedState`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedStateComputationStage.java`
#### Snippet
```java
  // update customized state in CustomizedStateOutput
  private void updateCustomizedStates(String instanceName, String customizedStateType,
      Map<String, CustomizedState> customizedStates, CustomizedStateOutput customizedStateOutput,
      Map<String, Resource> resourceMap) {
    // for each CustomizedState, update corresponding entry in CustomizedStateOutput
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedStateComputationStage.java`
#### Snippet
```java
  private void updateCustomizedStates(String instanceName, String customizedStateType,
      Map<String, CustomizedState> customizedStates, CustomizedStateOutput customizedStateOutput,
      Map<String, Resource> resourceMap) {
    // for each CustomizedState, update corresponding entry in CustomizedStateOutput
    for (CustomizedState customizedState : customizedStates.values()) {
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
  private Map<String, Resource> computeResourceBestPossibleStateWithWagedRebalancer(
      WagedRebalancer wagedRebalancer, ResourceControllerDataProvider cache,
      CurrentStateOutput currentStateOutput, Map<String, Resource> resourceMap,
      BestPossibleStateOutput output, List<String> failureResources) {
    if (cache.isMaintenanceModeEnabled()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
      WagedRebalancer wagedRebalancer, ResourceControllerDataProvider cache,
      CurrentStateOutput currentStateOutput, Map<String, Resource> resourceMap,
      BestPossibleStateOutput output, List<String> failureResources) {
    if (cache.isMaintenanceModeEnabled()) {
      // The WAGED rebalancer won't be used while maintenance mode is enabled.
```

### BoundedWildcard
Can generalize to `? extends ExternalView`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
  private void computeExternalView(final Resource resource,
      final CurrentStateOutput currentStateOutput, final ResourceControllerDataProvider cache,
      final ClusterStatusMonitor clusterStatusMonitor, final Map<String, ExternalView> curExtViews,
      final HelixManager manager, Set<String> monitoringResources, List<ExternalView> newExtViews) {
    String resourceName = resource.getResourceName();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
      final CurrentStateOutput currentStateOutput, final ResourceControllerDataProvider cache,
      final ClusterStatusMonitor clusterStatusMonitor, final Map<String, ExternalView> curExtViews,
      final HelixManager manager, Set<String> monitoringResources, List<ExternalView> newExtViews) {
    String resourceName = resource.getResourceName();
    ExternalView view = new ExternalView(resource.getResourceName());
```

### BoundedWildcard
Can generalize to `? super ExternalView`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
      final CurrentStateOutput currentStateOutput, final ResourceControllerDataProvider cache,
      final ClusterStatusMonitor clusterStatusMonitor, final Map<String, ExternalView> curExtViews,
      final HelixManager manager, Set<String> monitoringResources, List<ExternalView> newExtViews) {
    String resourceName = resource.getResourceName();
    ExternalView view = new ExternalView(resource.getResourceName());
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/stages/StateTransitionThrottleController.java`
#### Snippet
```java

  private boolean shouldThrottleForGivenMap(StateTransitionThrottleConfig.RebalanceType rebalanceType, String entryName,
      Map<String, Map<StateTransitionThrottleConfig.RebalanceType, Long>> transitionAllowedPerEntry) {
    if (shouldThrottleForCluster(rebalanceType)) {
      return true;
```

### BoundedWildcard
Can generalize to `? super StateTransitionThrottleConfig.RebalanceType`
in `helix-core/src/main/java/org/apache/helix/controller/stages/StateTransitionThrottleController.java`
#### Snippet
```java

  private void charge(StateTransitionThrottleConfig.RebalanceType rebalanceType,
      Map<StateTransitionThrottleConfig.RebalanceType, Long> quota) {
    if (StateTransitionThrottleConfig.RebalanceType.NONE.equals(rebalanceType)) {
      logger.error("Wrong rebalance type NONE as parameter");
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageOutput.java`
#### Snippet
```java
  }

  public void addStatusChangeMessages(List<Message> messages) {
    _statusChangeMessages.addAll(messages);
  }
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
   * them if they are newly added, and remove CurrentStateChange listener if instance is offline.
   */
  private void updateCurrentStatesListeners(List<LiveInstance> liveInstances,
      NotificationContext changeContext) {
    HelixManager manager = changeContext.getManager();
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
   * @param sourceDataTypeMap
   */
  private void validateSourceDataTypeMap(Map<PropertyType, List<String>> sourceDataTypeMap) {
    if (sourceDataTypeMap == null) {
      throw new IllegalArgumentException(
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java

  List<Message> batchMessage(Builder keyBuilder, List<Message> messages,
      Map<String, Resource> resourceMap, Map<String, LiveInstance> liveInstanceMap,
      HelixManagerProperties properties) {
    // group messages by its CurrentState path + "/" + fromState + "/" + toState
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java

  List<Message> batchMessage(Builder keyBuilder, List<Message> messages,
      Map<String, Resource> resourceMap, Map<String, LiveInstance> liveInstanceMap,
      HelixManagerProperties properties) {
    // group messages by its CurrentState path + "/" + fromState + "/" + toState
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java

  // return the messages actually sent
  protected List<Message> sendMessages(HelixDataAccessor dataAccessor, List<Message> messages) {
    List<Message> messageSent = new ArrayList<>();
    if (messages == null || messages.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementModeStage.java`
#### Snippet
```java

  private boolean instancesFullyFrozen(Set<String> enabledLiveInstances,
      Map<String, LiveInstance> liveInstanceMap,
      Map<String, Collection<Message>> allInstanceMessages) {
    // 1. All live instances are frozen
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementModeStage.java`
#### Snippet
```java
  private boolean instancesFullyFrozen(Set<String> enabledLiveInstances,
      Map<String, LiveInstance> liveInstanceMap,
      Map<String, Collection<Message>> allInstanceMessages) {
    // 1. All live instances are frozen
    // 2. No pending participant status change message.
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementModeStage.java`
#### Snippet
```java
  }

  private boolean hasPendingMessage(Collection<Message> messages) {
    return messages != null && messages.stream()
        .anyMatch(message -> PENDING_MESSAGE_TYPES.contains(message.getMsgType()));
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
  }

  private void logAndAddToCleanUp(Map<String, Map<String, Message>> messagesToCleanUp,
      Message message, String instanceName, String resourceName, Partition partition,
      String currentState, String cleanUpMessageType) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java

  private void addGeneratedMessageToMap(final Message message,
      Map<String, List<Message>> messageMap, final ClusterEventType eventType,
      final BaseControllerDataProvider cache, final String desiredState, final String resourceName,
      final Partition partition, final String currentState, final String nextState) {
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterDataCache.java`
#### Snippet
```java

  @Deprecated
  public synchronized void setInstanceConfigs(List<InstanceConfig> instanceConfigs) {
    Map<String, InstanceConfig> instanceConfigMap = new HashMap<>();
    for (InstanceConfig instanceConfig : instanceConfigs) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java

  private void addResourceConfigToResourceMap(String resourceName, ResourceConfig resourceConfig,
      ClusterConfig clusterConfig, Map<String, Resource> resourceMap,
      Map<String, Resource> resourceToRebalance) {
    Resource resource = new Resource(resourceName, clusterConfig, resourceConfig);
```

### BoundedWildcard
Can generalize to `? super Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java

  private void addResourceConfigToResourceMap(String resourceName, ResourceConfig resourceConfig,
      ClusterConfig clusterConfig, Map<String, Resource> resourceMap,
      Map<String, Resource> resourceToRebalance) {
    Resource resource = new Resource(resourceName, clusterConfig, resourceConfig);
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
  private void addResourceConfigToResourceMap(String resourceName, ResourceConfig resourceConfig,
      ClusterConfig clusterConfig, Map<String, Resource> resourceMap,
      Map<String, Resource> resourceToRebalance) {
    Resource resource = new Resource(resourceName, clusterConfig, resourceConfig);
    resourceMap.put(resourceName, resource);
```

### BoundedWildcard
Can generalize to `? super Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
  private void addResourceConfigToResourceMap(String resourceName, ResourceConfig resourceConfig,
      ClusterConfig clusterConfig, Map<String, Resource> resourceMap,
      Map<String, Resource> resourceToRebalance) {
    Resource resource = new Resource(resourceName, clusterConfig, resourceConfig);
    resourceMap.put(resourceName, resource);
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
  }

  private void addPartition(String partition, String resourceName, Map<String, Resource> resourceMap) {
    if (resourceName == null || partition == null || resourceMap == null) {
      return;
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
   */
  private void processIdealStates(BaseControllerDataProvider cache,
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) {
    if (idealStates != null && idealStates.size() > 0) {
```

### BoundedWildcard
Can generalize to `? super Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
   */
  private void processIdealStates(BaseControllerDataProvider cache,
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) {
    if (idealStates != null && idealStates.size() > 0) {
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
  private void processIdealStates(BaseControllerDataProvider cache,
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) {
    if (idealStates != null && idealStates.size() > 0) {
      for (IdealState idealState : idealStates.values()) {
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
   */
  private void processJobConfigs(WorkflowControllerDataProvider taskDataCache, Map<String, Resource> resourceMap,
      Map<String, Resource> resourceToRebalance, Map<String, IdealState> idealStates) {
    for (Map.Entry<String, JobConfig> jobConfigEntry : taskDataCache.getJobConfigMap()
        .entrySet()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
   */
  private void processCurrentStates(BaseControllerDataProvider cache,
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) throws StageException {
    Map<String, LiveInstance> availableInstances = cache.getLiveInstances();
```

### BoundedWildcard
Can generalize to `? super Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
   */
  private void processCurrentStates(BaseControllerDataProvider cache,
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) throws StageException {
    Map<String, LiveInstance> availableInstances = cache.getLiveInstances();
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceComputationStage.java`
#### Snippet
```java
  private void processCurrentStates(BaseControllerDataProvider cache,
      Map<String, Resource> resourceMap, Map<String, Resource> resourceToRebalance,
      Map<String, IdealState> idealStates, boolean isTaskCache) throws StageException {
    Map<String, LiveInstance> availableInstances = cache.getLiveInstances();

```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TopStateHandoffReportStage.java`
#### Snippet
```java

  private void updateTopStateStatus(ResourceControllerDataProvider cache,
      ClusterStatusMonitor clusterStatusMonitor, Map<String, Resource> resourceMap,
      CurrentStateOutput currentStateOutput,
      long lastPipelineFinishTimestamp) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TopStateHandoffReportStage.java`
#### Snippet
```java

  private void removeFromStatsMap(
      Map<String, Map<String, MissingTopStateRecord>> missingTopStateMap, String resourceName,
      Partition partition) {
    if (missingTopStateMap.containsKey(resourceName)) {
```

### BoundedWildcard
Can generalize to `? extends Partition`
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java
  }

  private boolean hasInstanceMapChanged(Map<Partition, Map<String, String>> newAssiments,
      IdealState idealState) {
    Set<Partition> partitions = new HashSet<Partition>(newAssiments.keySet());
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java
  }

  private boolean hasInstanceMapChanged(Map<Partition, Map<String, String>> newAssiments,
      IdealState idealState) {
    Set<Partition> partitions = new HashSet<Partition>(newAssiments.keySet());
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java
   * has the preference list changed from the one persisted in current IdealState
   */
  private boolean hasPreferenceListChanged(Map<String, List<String>> newLists,
      IdealState idealState) {
    Map<String, List<String>> existLists = idealState.getPreferenceLists();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java

  private void increaseStateCnt(Map<String, Bounds> stateConstraints, String state,
      Map<String, Integer> stateCnts) {
    if (!stateConstraints.containsKey(state)) {
      // skip state that doesn't have constraint
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java
   */
  List<Message> selectMessages(Map<String, LiveInstance> liveInstances,
      Map<String, String> currentStates, Map<String, Message> pendingMessages,
      List<Message> messages, Collection<Message> pendingRelayMessages,
      Map<String, Bounds> stateConstraints, final Map<String, Integer> stateTransitionPriorities,
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java
  List<Message> selectMessages(Map<String, LiveInstance> liveInstances,
      Map<String, String> currentStates, Map<String, Message> pendingMessages,
      List<Message> messages, Collection<Message> pendingRelayMessages,
      Map<String, Bounds> stateConstraints, final Map<String, Integer> stateTransitionPriorities,
      StateModelDefinition stateModelDef, boolean p2pMessageEnabled) {
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageSelectionStage.java`
#### Snippet
```java
  List<Message> selectMessages(Map<String, LiveInstance> liveInstances,
      Map<String, String> currentStates, Map<String, Message> pendingMessages,
      List<Message> messages, Collection<Message> pendingRelayMessages,
      Map<String, Bounds> stateConstraints, final Map<String, Integer> stateTransitionPriorities,
      StateModelDefinition stateModelDef, boolean p2pMessageEnabled) {
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java

  private Message getStateMessage(String resourceName, Partition partition, String instanceName,
      Map<String, Map<Partition, Map<String, Message>>> stateMessageMap) {
    Map<Partition, Map<String, Message>> map = stateMessageMap.get(resourceName);
    if (map != null) {
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
   */
  private Map<String, Integer> getPartitionCountWithState(String resourceStateModel, String state,
      Map<String, Map<Partition, Map<String, Object>>> stateMap) {
    Map<String, Integer> currentPartitionCount = new HashMap<>();
    for (String resource : stateMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java

  private void setStateMessage(String resourceName, Partition partition, String instanceName,
      Message message, Map<String, Map<Partition, Map<String, Message>>> stateMessageMap) {
    if (!stateMessageMap.containsKey(resourceName)) {
      stateMessageMap.put(resourceName, new HashMap<Partition, Map<String, Message>>());
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java
  }

  private void scheduleWorkflows(Map<String, Resource> resourceMap, WorkflowControllerDataProvider cache,
      Map<String, Resource> restOfResources, List<String> failureResources,
      CurrentStateOutput currentStateOutput, BestPossibleStateOutput bestPossibleOutput) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java

  private void scheduleWorkflows(Map<String, Resource> resourceMap, WorkflowControllerDataProvider cache,
      Map<String, Resource> restOfResources, List<String> failureResources,
      CurrentStateOutput currentStateOutput, BestPossibleStateOutput bestPossibleOutput) {
    AssignableInstanceManager assignableInstanceManager = cache.getAssignableInstanceManager();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java
  }

  private void updateResourceMap(String jobName, Map<String, Resource> resourceMap,
      Set<Partition> partitionSet) {
    Resource resource = new Resource(jobName);
```

### BoundedWildcard
Can generalize to `? super Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java
  }

  private void updateResourceMap(String jobName, Map<String, Resource> resourceMap,
      Set<Partition> partitionSet) {
    Resource resource = new Resource(jobName);
```

### BoundedWildcard
Can generalize to `? extends Partition`
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java

  private void updateResourceMap(String jobName, Map<String, Resource> resourceMap,
      Set<Partition> partitionSet) {
    Resource resource = new Resource(jobName);
    for (Partition partition : partitionSet) {
```

### BoundedWildcard
Can generalize to `? super T`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
  }

  private void updateCache(Cache<T> cache, List<String> createPaths, boolean success,
      String updatePath, T data, Stat stat) {
    if (createPaths == null || createPaths.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/ResourceUsageCalculator.java`
#### Snippet
```java
   */
  public static Map<String, Integer> calculateAveragePartitionWeight(
      Map<String, Map<String, Integer>> partitionCapacityMap) {
    // capacity key -> [number of partitions, total weight per capacity key]
    Map<String, PartitionWeightCounterEntry> countPartitionWeightMap = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/ResourceUsageCalculator.java`
#### Snippet
```java
   * @return double value range at [0.0, 1.0]
   */
  public static double measureBaselineDivergence(Map<String, ResourceAssignment> baseline,
      Map<String, ResourceAssignment> bestPossibleAssignment) {
    int numMatchedReplicas = 0;
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
  private void throttleStateTransitionsForReplica(
      StateTransitionThrottleController throttleController, String resourceName,
      Partition partition, Message messageToThrottle, Set<String> messagesThrottled,
      RebalanceType rebalanceType, ResourceControllerDataProvider cache,
      Map<Partition, List<Message>> resourceMessageMap) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
      Partition partition, Message messageToThrottle, Set<String> messagesThrottled,
      RebalanceType rebalanceType, ResourceControllerDataProvider cache,
      Map<Partition, List<Message>> resourceMessageMap) {
    boolean hasReachedThrottlingLimit = false;
    if (throttleController.shouldThrottleForResource(rebalanceType, resourceName)) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
    private final String _topState;

    PartitionPriorityComparator(Map<Partition, Map<String, String>> bestPossibleMap,
        Map<Partition, Map<String, String>> currentStateMap, String topState) {
      _bestPossibleMap = bestPossibleMap;
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java

    PartitionPriorityComparator(Map<Partition, Map<String, String>> bestPossibleMap,
        Map<Partition, Map<String, String>> currentStateMap, String topState) {
      _bestPossibleMap = bestPossibleMap;
      _currentStateMap = currentStateMap;
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
  private void chargePendingTransition(Resource resource, CurrentStateOutput currentStateOutput,
      StateTransitionThrottleController throttleController, ResourceControllerDataProvider cache,
      Map<String, List<String>> preferenceLists, StateModelDefinition stateModelDefinition) {
    String resourceName = resource.getResourceName();
    // check and charge pending transitions
```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
   * @return
   */
  private IntermediateStateOutput compute(ClusterEvent event, Map<String, Resource> resourceMap,
      CurrentStateOutput currentStateOutput, BestPossibleStateOutput bestPossibleStateOutput,
      MessageOutput messageOutput) {
```

### BoundedWildcard
Can generalize to `? extends Partition`
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
   * @param intermediateStateMap
   */
  private void logPartitionMapState(String resource, Set<Partition> allPartitions,
      Set<String> recoveryPartitions, Set<String> recoveryThrottledPartitions,
      Set<String> loadbalancePartitions, Set<String> loadbalanceThrottledPartitions,
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
   */
  private HelixProperty combineAssignments(String name,
      Map<String, ResourceAssignment> assignmentMap) {
    HelixProperty property = new HelixProperty(name);
    // Add each resource's assignment as a simple field in one ZNRecord
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
   */
  public synchronized boolean asyncUpdateBestPossibleAssignmentCache(
      Map<String, ResourceAssignment> bestPossibleAssignment, int newVersion) {
    // Check if the version is stale by this point
    if (newVersion > _bestPossibleVersion) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
      final StateModelDefinition stateModelDef, final Map<String, String> currentStateMap,
      final Set<String> liveInstances, final Set<String> disabledInstancesForPartition,
      Map<String, String> bestPossibleStateMap) {
    // Record the assigned instances to avoid double calculating or conflict assignment.
    Set<String> assignedInstances = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AbstractRebalancer.java`
#### Snippet
```java
      final StateModelDefinition stateModelDef, final Map<String, String> currentStateMap,
      final Set<String> liveInstances, final Set<String> disabledInstancesForPartition,
      Map<String, String> bestPossibleStateMap) {
    // Record the assigned instances to avoid double calculating or conflict assignment.
    Set<String> assignedInstances = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/AbstractPartitionMovementConstraint.java`
#### Snippet
```java

  protected Map<String, String> getStateMap(AssignableReplica replica,
      Map<String, ResourceAssignment> assignment) {
    String resourceName = replica.getResourceName();
    String partitionName = replica.getPartitionName();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
  }

  private void updateRemainingCapacity(Map<String, Integer> usedCapacity, Map<String, Integer> remainingCapacity,
      boolean isRelease) {
    int multiplier = isRelease ? -1 : 1;
```

### BoundedWildcard
Can generalize to `? extends AssignableReplica`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
   * Using this function avoids the overhead of updating capacity repeatedly.
   */
  void assignInitBatch(Collection<AssignableReplica> replicas) {
    Map<String, Integer> totalTopStatePartitionCapacity = new HashMap<>();
    Map<String, Integer> totalPartitionCapacity = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private int getReplicaCountForNode(String state, String node,
      Map<String, Map<String, Integer>> nodeReplicaCounts) {
    if (!nodeReplicaCounts.containsKey(node)) {
      Map<String, Integer> replicaCounts = new HashMap<String, Integer>();
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private Map<Replica, Node> computeExistingPreferredPlacement(
      final Map<String, Map<String, String>> currentMapping) {
    Map<Replica, Node> existingPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   *          assignment
   */
  private void normalizePreferenceLists(Map<String, List<String>> preferenceLists,
      Map<String, List<String>> newPreferences) {

```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private void normalizePreferenceLists(Map<String, List<String>> preferenceLists,
      Map<String, List<String>> newPreferences) {

    Map<String, Map<String, Integer>> nodeReplicaCounts =
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private Map<Replica, Node> computeExistingNonPreferredPlacement(
      Map<String, Map<String, String>> currentMapping) {
    Map<Replica, Node> existingNonPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
```

### BoundedWildcard
Can generalize to `? extends HardConstraint`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithm.java`
#### Snippet
```java
  }

  private List<String> convertFailureReasons(List<HardConstraint> hardConstraints) {
    return hardConstraints.stream().map(HardConstraint::getDescription)
        .collect(Collectors.toList());
```

### BoundedWildcard
Can generalize to `? extends HardConstraint`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithm.java`
#### Snippet
```java
  private final Map<SoftConstraint, Float> _softConstraints;

  ConstraintBasedAlgorithm(List<HardConstraint> hardConstraints,
      Map<SoftConstraint, Float> softConstraints) {
    _hardConstraints = hardConstraints;
```

### BoundedWildcard
Can generalize to `? extends AssignableNode`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithm.java`
#### Snippet
```java

  private Optional<AssignableNode> getNodeWithHighestPoints(AssignableReplica replica,
      List<AssignableNode> assignableNodes, ClusterContext clusterContext,
      Set<String> busyInstances, OptimalAssignment optimalAssignment) {
    Map<AssignableNode, List<HardConstraint>> hardConstraintFailures = new ConcurrentHashMap<>();
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithm.java`
#### Snippet
```java
   * @return A set of instance names that have at least one replica assigned in the input assignments.
   */
  private Set<String> getBusyInstances(Collection<ResourceAssignment> assignments) {
    return assignments.stream().flatMap(
        resourceAssignment -> resourceAssignment.getRecord().getMapFields().values().stream()
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
   */
  private Map<String, IdealState> convertResourceAssignment(
      ResourceControllerDataProvider clusterData, Map<String, ResourceAssignment> assignments)
      throws HelixRebalanceException {
    // Convert the assignments into IdealState for the following state mapping calculation.
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java

  protected boolean requireRebalanceOverwrite(ResourceControllerDataProvider clusterData,
      Map<String, ResourceAssignment> bestPossibleAssignment) {
    AtomicBoolean allMinActiveReplicaMet = new AtomicBoolean(true);
    bestPossibleAssignment.values().parallelStream().forEach((resourceAssignment -> {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java
  }

  private void addToReAssignPartition(Map<String, Integer> toBeReassigned,
      List<String> partitions) {
    for (String partition : partitions) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java
  protected int instanceSize = 0;

  public ConsistentHashSelector(Set<Node> instances) {
    for (Node instance : instances) {
      add(instance, DEFAULT_TOKENS_PER_INSTANCE);
```

### BoundedWildcard
Can generalize to `? super Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/CrushRebalanceStrategy.java`
#### Snippet
```java
  }

  private void doSelect(Node topNode, long input, int rf, List<Node> selectedNodes,
      Set<Node> selectedZones) {
    String zoneType = _clusterTopo.getFaultZoneType();
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/CrushRebalanceStrategy.java`
#### Snippet
```java
   * Use the predicate to reject already selected zones or nodes.
   */
  private Predicate<Node> nodeAlreadySelected(Set<Node> selectedNodes) {
    return Predicates.not(Predicates.in(selectedNodes));
  }
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
  @Override
  public ZNRecord computePartitionAssignment(final List<String> allNodes,
      final List<String> liveNodes, final Map<String, Map<String, String>> currentMapping,
      ResourceControllerDataProvider clusterData) throws HelixException {
    // Since instance weight will be replaced by constraint evaluation, record it in advance to avoid
```

### BoundedWildcard
Can generalize to `? super Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java

  public List<Node> select(Node parent, long input, int count, String type,
      Predicate<Node> nodePredicate) {
    int childCount = parent.getChildrenCount(type);
    if (childCount < count) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
     * Sorts the list in place in the reverse order of the weight.
     */
    private void sortNodesInPlace(List<Node> nodes) {
      Collections.sort(nodes, new Comparator<Node>() {
        public int compare(Node n1, Node n2) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
     * Returns a new list that's sorted in the reverse order of the weight.
     */
    private List<Node> sortNodes(List<Node> nodes) {
      List<Node> ret = new ArrayList<Node>(nodes);
      sortNodesInPlace(ret);
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
  // Convert the map from <key, list of values> to a new map <original value, list of related keys>
  private Map<String, List<Node>> convertAssignment(
      Map<Node, List<String>> assignment) {
    Map<String, List<Node>> resultMap = new HashMap<>();
    for (Node instance : assignment.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
  // Convert the map from <key, list of values> to a new map <original value, list of related keys>
  private Map<String, List<Node>> convertAssignment(
      Map<Node, List<String>> assignment) {
    Map<String, List<Node>> resultMap = new HashMap<>();
    for (Node instance : assignment.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
  }

  private List<String> getNonZeroWeightNodes(List<String> nodes, Map<String, InstanceConfig> instanceConfigMap) {
    return nodes.stream().filter(node -> instanceConfigMap.get(node).getWeight() != 0).collect(Collectors.toList());
  }
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java

  // Convert the map from <Partition Name, List<instance names>> to a new map <InstanceNode, List<Partition Name>>
  private Map<Node, List<String>> convertPartitionMap(Map<String, List<String>> originalMap,
      Topology topology) {
    Map<Node, List<String>> resultMap = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java

  private Node recalculateWeight(Node zone, long totalWeight, int totalPartition,
      Map<Node, List<String>> nodePartitionsMap, List<String> partitions,
      Map<Node, List<String>> toRemovedMap) {
    Map<Node, Integer> newNodeWeight = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
  private Node recalculateWeight(Node zone, long totalWeight, int totalPartition,
      Map<Node, List<String>> nodePartitionsMap, List<String> partitions,
      Map<Node, List<String>> toRemovedMap) {
    Map<Node, Integer> newNodeWeight = new HashMap<>();
    Set<Node> completedNodes = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? super List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
  private Node recalculateWeight(Node zone, long totalWeight, int totalPartition,
      Map<Node, List<String>> nodePartitionsMap, List<String> partitions,
      Map<Node, List<String>> toRemovedMap) {
    Map<Node, Integer> newNodeWeight = new HashMap<>();
    Set<Node> completedNodes = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
   * Use the predicate to reject already selected zones or nodes.
   */
  private Predicate<Node> nodeAlreadySelected(Set<Node> selectedNodes) {
    return Predicates.not(Predicates.in(selectedNodes));
  }
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java

  private ZNRecord generateZNRecord(String resource, List<String> partitions,
      Map<String, Map<String, List<Node>>> partitionStateMapping, String eventId) {
    Map<String, List<String>> newPreferences = new HashMap<>();
    for (int i = 0; i < partitions.size(); i++) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
  }

  private void copyAssignment(Map<Node, List<String>> nodePartitionsMap,
      Map<Node, List<String>> prevNodePartitionMap) {
    if (nodePartitionsMap.size() > 0) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
  }

  private void copyAssignment(Map<Node, List<String>> nodePartitionsMap,
      Map<Node, List<String>> prevNodePartitionMap) {
    if (nodePartitionsMap.size() > 0) {
```

### BoundedWildcard
Can generalize to `? super Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java

  private void copyAssignment(Map<Node, List<String>> nodePartitionsMap,
      Map<Node, List<String>> prevNodePartitionMap) {
    if (nodePartitionsMap.size() > 0) {
      for (Node node : nodePartitionsMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? super List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java

  private void copyAssignment(Map<Node, List<String>> nodePartitionsMap,
      Map<Node, List<String>> prevNodePartitionMap) {
    if (nodePartitionsMap.size() > 0) {
      for (Node node : nodePartitionsMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/dataprovider/ZkBasedPartitionWeightProvider.java`
#### Snippet
```java
   */
  public void updateWeights(Map<String, Integer> resourceDefaultWeightMap,
      Map<String, Map<String, Integer>> partitionWeightMap, int defaultWeight) {
    for (String resource : resourceDefaultWeightMap.keySet()) {
      _weights.setResourceDefaultWeight(resource, resourceDefaultWeightMap.get(resource));
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java

  private void fillActiveTaskCount(Map<String, Integer> additionPartitionMap,
      Map<String, Integer> partitionMap) {
    for (String participant : additionPartitionMap.keySet()) {
      partitionMap.put(participant,
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
  }

  private void addToReAssignPartition(TreeMap<String, Integer> toBeReassigned,
      List<String> partitions) {
    for (String partition : partitions) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
  }

  private void partitionDealing(Collection<Node> instances,
      TreeMap<String, Integer> toBeReassigned, Map<Node, Set<String>> faultZonePartitionMap,
      Map<Node, Node> faultZoneMap, final Map<Node, List<String>> assignmentMap,
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java

  private void partitionDealing(Collection<Node> instances,
      TreeMap<String, Integer> toBeReassigned, Map<Node, Set<String>> faultZonePartitionMap,
      Map<Node, Node> faultZoneMap, final Map<Node, List<String>> assignmentMap,
      final Map<Node, Float> targetPartitionCount, final int randomSeed, int targetAdjustment) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
  private void partitionDealing(Collection<Node> instances,
      TreeMap<String, Integer> toBeReassigned, Map<Node, Set<String>> faultZonePartitionMap,
      Map<Node, Node> faultZoneMap, final Map<Node, List<String>> assignmentMap,
      final Map<Node, Float> targetPartitionCount, final int randomSeed, int targetAdjustment) {
    PriorityQueue<Node> instanceQueue =
```

### BoundedWildcard
Can generalize to `? super Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
  private void partitionDealing(Collection<Node> instances,
      TreeMap<String, Integer> toBeReassigned, Map<Node, Set<String>> faultZonePartitionMap,
      Map<Node, Node> faultZoneMap, final Map<Node, List<String>> assignmentMap,
      final Map<Node, Float> targetPartitionCount, final int randomSeed, int targetAdjustment) {
    PriorityQueue<Node> instanceQueue =
```

### BoundedWildcard
Can generalize to `? extends CustomizedView`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java
   */
  public void updateCustomizedViews(String customizedStateType,
      List<CustomizedView> customizedViews) {
    if (!_customizedViewCacheMap.containsKey(customizedStateType)) {
      CustomizedViewCache customizedViewCache =
```

### BoundedWildcard
Can generalize to `? extends IdealState`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java
   * @param idealStateMap
   */
  final void refreshStablePartitionList(Map<String, IdealState> idealStateMap) {
    _stablePartitionListCache.keySet().retainAll(idealStateMap.keySet());
    for (String resourceName : idealStateMap.keySet()) {
```

### BoundedWildcard
Can generalize to `? extends ExternalView`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java
   * @param externalViews
   */
  public void updateExternalViews(List<ExternalView> externalViews) {
    synchronized (_externalViewCache) {
      for (ExternalView ev : externalViews) {
```

### BoundedWildcard
Can generalize to `? extends Node`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java

  private Node buildNewNode(String name, String type, Node parent, String instanceName,
      int instanceWeight, boolean isLiveInstance, List<Node> pathNodes) {
    Node n = new Node();
    n.setName(name);
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java

  public Topology(final List<String> allNodes, final List<String> liveNodes,
      final Map<String, InstanceConfig> instanceConfigMap, ClusterConfig clusterConfig) {
    try {
      _md = MessageDigest.getInstance("SHA-1");
```

### BoundedWildcard
Can generalize to `? super HelixConstants.ChangeType`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  private void refreshResourceConfig(final HelixDataAccessor accessor,
      Set<HelixConstants.ChangeType> refreshedType) {
    if (_propertyDataChangedMap.get(HelixConstants.ChangeType.RESOURCE_CONFIG).getAndSet(false)) {
      _resourceConfigCache.refresh(accessor);
```

### BoundedWildcard
Can generalize to `? super HelixConstants.ChangeType`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  private void refreshClusterConfig(final HelixDataAccessor accessor,
      Set<HelixConstants.ChangeType> refreshedType) {
    if (_propertyDataChangedMap.get(HelixConstants.ChangeType.CLUSTER_CONFIG).getAndSet(false)) {
      _clusterConfig = accessor.getProperty(accessor.keyBuilder().clusterConfig());
```

### BoundedWildcard
Can generalize to `? super HelixConstants.ChangeType`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  private void refreshInstanceConfigs(final HelixDataAccessor accessor,
      Set<HelixConstants.ChangeType> refreshedType) {
    if (_propertyDataChangedMap.get(HelixConstants.ChangeType.INSTANCE_CONFIG).getAndSet(false)) {
      _instanceConfigCache.refresh(accessor);
```

### BoundedWildcard
Can generalize to `? super HelixConstants.ChangeType`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  private void refreshIdealState(final HelixDataAccessor accessor,
      Set<HelixConstants.ChangeType> refreshedType) {
    if (_propertyDataChangedMap.get(HelixConstants.ChangeType.IDEAL_STATE).getAndSet(false)) {
      _idealStateCache.refresh(accessor);
```

### BoundedWildcard
Can generalize to `? super HelixConstants.ChangeType`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java

  private void refreshLiveInstances(final HelixDataAccessor accessor,
      Set<HelixConstants.ChangeType> refreshedType) {
    if (_propertyDataChangedMap.get(HelixConstants.ChangeType.LIVE_INSTANCE).getAndSet(false)) {
      _liveInstanceCache.refresh(accessor);
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
  }

  private void updateDisabledInstances(Collection<InstanceConfig> instanceConfigs,
      ClusterConfig clusterConfig) {
    // Move the calculating disabled instances to refresh
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/InstanceMonitor.java`
#### Snippet
```java
   */
  public synchronized void updateInstance(Set<String> tags,
      Map<String, List<String>> disabledPartitions, List<String> oldDisabledPartitions,
      boolean isLive, boolean isEnabled) {
    if (tags == null || tags.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
  private static Set<String> getActiveNodes(Set<String> allNodes, Set<String> liveEnabledNodes,
      Map<String, Long> instanceOfflineTimeMap, Set<String> liveNodes,
      Map<String, InstanceConfig> instanceConfigMap, long delay, ClusterConfig clusterConfig) {
    Set<String> activeNodes = new HashSet<>(liveEnabledNodes);
    Set<String> offlineOrDisabledInstances = new HashSet<>(allNodes);
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
  public static void setRebalanceScheduler(String resourceName, boolean isDelayedRebalanceEnabled,
      Set<String> offlineOrDisabledInstances, Map<String, Long> instanceOfflineTimeMap,
      Set<String> liveNodes, Map<String, InstanceConfig> instanceConfigMap, long delay,
      ClusterConfig clusterConfig, HelixManager manager) {
    if (!isDelayedRebalanceEnabled) {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
      Set<String> liveEnabledInstances,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    Map<String, List<String>> partitionsMissingMinActiveReplicas =
        findPartitionsMissingMinActiveReplica(clusterData, currentAssignment);
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
   * @param currentResourceAssignment the current resource assignment, this map is getting updated during this method.
   */
  public static void mergeAssignments(Map<String, ResourceAssignment> newAssignment,
      Map<String, ResourceAssignment> currentResourceAssignment) {
    newAssignment.entrySet().parallelStream().forEach(entry -> {
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
   */
  public static void mergeAssignments(Map<String, ResourceAssignment> newAssignment,
      Map<String, ResourceAssignment> currentResourceAssignment) {
    newAssignment.entrySet().parallelStream().forEach(entry -> {
      String resourceName = entry.getKey();
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
  private static Map<String, List<String>> findPartitionsMissingMinActiveReplica(
      ResourceControllerDataProvider clusterData,
      Map<String, ResourceAssignment> currentAssignment) {
    return currentAssignment.entrySet()
        .parallelStream()
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
   */
  public static Map<String, List<String>> getFinalDelayedMapping(
      Map<String, List<String>> newIdealPreferenceList,
      Map<String, List<String>> newDelayedPreferenceList, Set<String> liveEnabledInstances,
      int minActiveReplica) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
  public static Map<String, List<String>> getFinalDelayedMapping(
      Map<String, List<String>> newIdealPreferenceList,
      Map<String, List<String>> newDelayedPreferenceList, Set<String> liveEnabledInstances,
      int minActiveReplica) {
    Map<String, List<String>> finalPreferenceList = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super Stat`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  }

  private List<T> getChildren(String parentPath, List<Stat> stats, int options,
      boolean throwException) {
    try {
```

### BoundedWildcard
Can generalize to `? super Stat`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
   */
  boolean[] set(List<String> paths, List<T> records, List<List<String>> pathsCreated,
      List<Stat> stats, int options) {
    if (paths == null || paths.size() == 0) {
      return new boolean[0];
```

### BoundedWildcard
Can generalize to `? extends DataUpdater`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
   * return: updatedData on success or null on fail
   */
  List<T> update(List<String> paths, List<DataUpdater<T>> updaters, List<List<String>> pathsCreated,
      List<Stat> stats, int options) {
    if (paths == null || paths.size() == 0) {
```

### BoundedWildcard
Can generalize to `? super Stat`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
   */
  List<T> update(List<String> paths, List<DataUpdater<T>> updaters, List<List<String>> pathsCreated,
      List<Stat> stats, int options) {
    if (paths == null || paths.size() == 0) {
      LOG.error("paths is null or empty");
```

### BoundedWildcard
Can generalize to `? extends T`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
   * async create with TTL. give up on error other than NONODE
   */
  ZkAsyncCallbacks.CreateCallbackHandler[] create(List<String> paths, List<T> records,
      boolean[] needCreate, List<List<String>> pathsCreated, int options, long ttl) {
    if ((records != null && records.size() != paths.size()) || needCreate.length != paths.size()
```

### BoundedWildcard
Can generalize to `? super Stat`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
   * async get
   */
  List<T> get(List<String> paths, List<Stat> stats, boolean[] needRead, boolean throwException)
      throws HelixException {
    if (paths == null || paths.size() == 0) {
```

### BoundedWildcard
Can generalize to `? super StateModel`
in `helix-core/src/main/java/org/apache/helix/participant/HelixStateMachineEngine.java`
#### Snippet
```java
  }

  private void loopStateModelFactories(Consumer<StateModel> consumer) {
    // TODO: evaluate impact and consider parallelization
    for (Map<String, StateModelFactory<? extends StateModel>> ftyMap : _stateModelFactoryMap
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private Map<Replica, Node> computeExistingPreferredPlacement(
      final Map<String, Map<String, String>> currentMapping) {
    Map<Replica, Node> existingPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
```

### BoundedWildcard
Can generalize to `? extends Map`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private Map<Replica, Node> computeExistingNonPreferredPlacement(
      Map<String, Map<String, String>> currentMapping) {
    Map<Replica, Node> existingNonPreferredAssignment = new TreeMap<Replica, Node>();
    int count = countStateReplicas();
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   *          assignment
   */
  private void normalizePreferenceLists(Map<String, List<String>> preferenceLists,
      Map<String, List<String>> newPreferences) {

```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private void normalizePreferenceLists(Map<String, List<String>> preferenceLists,
      Map<String, List<String>> newPreferences) {

    Map<String, Map<String, Integer>> nodeReplicaCounts =
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   */
  private int getReplicaCountForNode(String state, String node,
      Map<String, Map<String, Integer>> nodeReplicaCounts) {
    if (!nodeReplicaCounts.containsKey(node)) {
      Map<String, Integer> replicaCounts = new HashMap<String, Integer>();
```

### BoundedWildcard
Can generalize to `? extends MyService`
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
   */
  private static void stopAndStartServices(ServiceDiscovery serviceDiscovery,
      List<MyService> serviceList, Mode mode) throws Exception {
    // randomly select some services stop
    int index = ((int) (Math.random() * 1000)) % serviceList.size();
```

### BoundedWildcard
Can generalize to `? extends LiveInstance`
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscovery.java`
#### Snippet
```java
  }

  private void refreshCache(List<LiveInstance> liveInstances) {
    List<ServiceMetadata> services = new ArrayList<ServiceMetadata>();
    for (LiveInstance liveInstance : liveInstances) {
```

### BoundedWildcard
Can generalize to `? super ZkClientPathMonitor`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  }

  private void findZkClientPathMonitor(String path, Consumer<ZkClientPathMonitor> onMatch) {
    if (path == null) {
      return;
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
   */
  private static Set<AssignableReplica> findToBeAssignedReplicasByComparingWithIdealAssignment(
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Map<String, ResourceAssignment> idealAssignment,
      Map<String, ResourceAssignment> currentAssignment,
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
  private static Set<AssignableReplica> findToBeAssignedReplicasByComparingWithIdealAssignment(
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Map<String, ResourceAssignment> idealAssignment,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Map<String, ResourceAssignment> idealAssignment,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
      Map<String, ResourceAssignment> idealAssignment,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();
    // check each resource to identify the allocated replicas and to-be-assigned replicas.
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
   */
  private static Set<AssignableNode> getAllAssignableNodes(ClusterConfig clusterConfig,
      Map<String, InstanceConfig> instanceConfigMap, Set<String> activeInstances) {
    return activeInstances.parallelStream()
        .filter(instanceConfigMap::containsKey).map(
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Set<String> liveInstances, Map<HelixConstants.ChangeType, Set<String>> clusterChanges,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
      Set<String> liveInstances, Map<HelixConstants.ChangeType, Set<String>> clusterChanges,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();

```

### BoundedWildcard
Can generalize to `? extends AssignableNode`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
   */
  private static Map<String, Map<String, Set<String>>> mapAssignmentToFaultZone(
      Set<AssignableNode> assignableNodes) {
    Map<String, Map<String, Set<String>>> faultZoneAssignmentMap = new HashMap<>();
    assignableNodes.forEach(node -> {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
  // Filter the replicas map so only the replicas that have been allocated in the existing
  // assignmentMap remain in the map.
  private static void retainExistingReplicas(Map<String, Set<AssignableReplica>> replicaMap,
      Map<String, ResourceAssignment> assignmentMap) {
    replicaMap.entrySet().parallelStream().forEach(replicaSetEntry -> {
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
  // assignmentMap remain in the map.
  private static void retainExistingReplicas(Map<String, Set<AssignableReplica>> replicaMap,
      Map<String, ResourceAssignment> assignmentMap) {
    replicaMap.entrySet().parallelStream().forEach(replicaSetEntry -> {
      // <partition, <state, instances set>>
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
   */
  private static Set<AssignableReplica> findToBeAssignedReplicasOnDownInstances(
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
```

### BoundedWildcard
Can generalize to `? extends ResourceAssignment`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
  private static Set<AssignableReplica> findToBeAssignedReplicasOnDownInstances(
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    // For any replica that are assigned to non-active instances (down instances), add them.
```

### BoundedWildcard
Can generalize to `? super String`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
      Map<String, Set<AssignableReplica>> replicaMap, Set<String> activeInstances,
      Map<String, ResourceAssignment> currentAssignment,
      Map<String, Set<AssignableReplica>> allocatedReplicas) {
    // For any replica that are assigned to non-active instances (down instances), add them.
    Set<AssignableReplica> toBeAssignedReplicas = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends AssignableNode`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
  private static Map<String, Set<AssignableReplica>> getAllAssignableReplicas(
      ResourceControllerDataProvider dataProvider, Map<String, Resource> resourceMap,
      Set<AssignableNode> assignableNodes) {
    ClusterConfig clusterConfig = dataProvider.getClusterConfig();
    int activeFaultZoneCount = assignableNodes.stream().map(AssignableNode::getFaultZone)
```

### BoundedWildcard
Can generalize to `? extends ZNRecord`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecordAssembler.java`
#### Snippet
```java
   * @return {@link ZNRecord}
   */
  public ZNRecord assemble(List<ZNRecord> records) {
    ZNRecord assembledRecord = null;
    if (records != null && records.size() > 0) {
```

### BoundedWildcard
Can generalize to `? extends ChainItem`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/serializer/ChainedPathZkSerializer.java`
#### Snippet
```java
  private final ZkSerializer _defaultSerializer;

  private ChainedPathZkSerializer(ZkSerializer defaultSerializer, List<ChainItem> items) {
    _items = items;
    // sort by longest paths first
```

### BoundedWildcard
Can generalize to `? extends PerInstanceResourceMonitor.BeanName`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

  private void unregisterPerInstanceResources(
      Collection<PerInstanceResourceMonitor.BeanName> beanNames)
      throws MalformedObjectNameException {
    synchronized (_perInstanceResourceMonitorMap) {
```

### BoundedWildcard
Can generalize to `? extends InstanceMonitor`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  }

  private void registerInstances(Collection<InstanceMonitor> instances)
      throws JMException {
    synchronized (_instanceMonitorMap) {
```

### BoundedWildcard
Can generalize to `? extends Message`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
   * @param messages a list of messages
   */
  public void increaseMessageReceived(List<Message> messages) {
    Map<String, Long> messageCountPerInstance = new HashMap<>();
    Map<String, Long> messageCountPerResource = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends InstanceConfig`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
   */
  public void setPerInstanceResourceStatus(BestPossibleStateOutput bestPossibleStates,
      Map<String, InstanceConfig> instanceConfigMap, Map<String, Resource> resourceMap,
      Map<String, StateModelDefinition> stateModelDefMap) {

```

### BoundedWildcard
Can generalize to `? extends Resource`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
   */
  public void setPerInstanceResourceStatus(BestPossibleStateOutput bestPossibleStates,
      Map<String, InstanceConfig> instanceConfigMap, Map<String, Resource> resourceMap,
      Map<String, StateModelDefinition> stateModelDefMap) {

```

### BoundedWildcard
Can generalize to `? extends StateModelDefinition`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  public void setPerInstanceResourceStatus(BestPossibleStateOutput bestPossibleStates,
      Map<String, InstanceConfig> instanceConfigMap, Map<String, Resource> resourceMap,
      Map<String, StateModelDefinition> stateModelDefMap) {

    // Convert to perInstanceResource beanName->partition->state
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
   */
  public void setClusterInstanceStatus(Set<String> liveInstanceSet, Set<String> instanceSet,
      Set<String> disabledInstanceSet, Map<String, Map<String, List<String>>> disabledPartitions,
      Map<String, List<String>> oldDisabledPartitions, Map<String, Set<String>> tags,
      Map<String, Set<Message>> instanceMessageMap) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  public void setClusterInstanceStatus(Set<String> liveInstanceSet, Set<String> instanceSet,
      Set<String> disabledInstanceSet, Map<String, Map<String, List<String>>> disabledPartitions,
      Map<String, List<String>> oldDisabledPartitions, Map<String, Set<String>> tags,
      Map<String, Set<Message>> instanceMessageMap) {
    synchronized (_instanceMonitorMap) {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  public void setClusterInstanceStatus(Set<String> liveInstanceSet, Set<String> instanceSet,
      Set<String> disabledInstanceSet, Map<String, Map<String, List<String>>> disabledPartitions,
      Map<String, List<String>> oldDisabledPartitions, Map<String, Set<String>> tags,
      Map<String, Set<Message>> instanceMessageMap) {
    synchronized (_instanceMonitorMap) {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
      Set<String> disabledInstanceSet, Map<String, Map<String, List<String>>> disabledPartitions,
      Map<String, List<String>> oldDisabledPartitions, Map<String, Set<String>> tags,
      Map<String, Set<Message>> instanceMessageMap) {
    synchronized (_instanceMonitorMap) {
      // Unregister beans for instances that are no longer configured
```

### BoundedWildcard
Can generalize to `? extends PerInstanceResourceMonitor`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  }

  private void registerPerInstanceResources(Collection<PerInstanceResourceMonitor> monitors)
      throws JMException {
    synchronized (_perInstanceResourceMonitorMap) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `metadata-store-directory-common/src/main/java/org/apache/helix/msdcommon/datamodel/TrieRoutingData.java`
#### Snippet
```java
   * @return whether the edge case is true
   */
  private boolean isRootShardingKey(Map<String, List<String>> routingData) {
    if (routingData.size() == 1) {
      for (List<String> shardingKeys : routingData.values()) {
```

### BoundedWildcard
Can generalize to `? extends ZNRecordDelta`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param deltaList
   */
  void merge(List<ZNRecordDelta> deltaList) {
    for (ZNRecordDelta delta : deltaList) {
      merge(delta);
```

### BoundedWildcard
Can generalize to `? super String`
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/CountTask.java`
#### Snippet
```java
  }

  private void incrementGroupCount(String group, Map<String, Integer> counts) {
    int count = (counts.containsKey(group) ? counts.get(group) : 0);
    counts.put(group, count + 1);
```

### BoundedWildcard
Can generalize to `? super ClusterViewEvent.Type`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/dataprovider/SourceClusterDataProvider.java`
#### Snippet
```java

  public SourceClusterDataProvider(ViewClusterSourceConfig config,
      DedupEventProcessor<ClusterViewEvent.Type, ClusterViewEvent> eventProcessor) {
    super(config.getName());
    _eventProcessor = eventProcessor;
```

### BoundedWildcard
Can generalize to `? super ClusterViewEvent`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/dataprovider/SourceClusterDataProvider.java`
#### Snippet
```java

  public SourceClusterDataProvider(ViewClusterSourceConfig config,
      DedupEventProcessor<ClusterViewEvent.Type, ClusterViewEvent> eventProcessor) {
    super(config.getName());
    _eventProcessor = eventProcessor;
```

### BoundedWildcard
Can generalize to `? extends ExternalView`
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Task.java`
#### Snippet
```java
  }

  private boolean areParentTasksDone(List<ExternalView> externalViewList) {
    if (parentIds == null || parentIds.size() == 0) {
      return true;
```

### BoundedWildcard
Can generalize to `? extends HelixProperty`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/ViewClusterRefresher.java`
#### Snippet
```java
  private ClusterPropertyDiff calculatePropertyDiff(
      Set<String> viewPropertyNames, Set<String> sourcePropertyNames,
      Map<String, HelixProperty> cachedSourceProperties, Map<String, HelixProperty> viewClusterPropertyCache) {
    ClusterPropertyDiff diff = new ClusterPropertyDiff();

```

### BoundedWildcard
Can generalize to `? extends HelixProperty`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/ViewClusterRefresher.java`
#### Snippet
```java
   */
  private <T extends HelixProperty> boolean addOrUpdateProperties(
      List<PropertyKey> keysToAddOrUpdate, List<HelixProperty> objects) {
    boolean ok = true;
    logger.info(
```

### BoundedWildcard
Can generalize to `? extends PropertyKey`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/ViewClusterRefresher.java`
#### Snippet
```java
   * @return true if all objects got successfully deleted else false
   */
  private <T extends HelixProperty> boolean deleteProperties(List<PropertyKey> keysToDelete) {
    boolean ok = true;
    logger.info(String.format("Deleting %s objects: %s", keysToDelete.size(), keysToDelete));
```

### BoundedWildcard
Can generalize to `? extends SourceClusterDataProvider`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/ViewClusterRefresher.java`
#### Snippet
```java
  }

  public void updateProviderView(Set<SourceClusterDataProvider> dataProviderView) {
    _dataProviderView = dataProviderView;
  }
```

### BoundedWildcard
Can generalize to `? extends ChangeRecord`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogProcessor.java`
#### Snippet
```java
  }

  private Set<String> getRemotePathsToSync(List<ChangeRecord> changes) {
    Set<String> paths = new TreeSet<String>();
    for (ChangeRecord change : changes) {
```

### BoundedWildcard
Can generalize to `? extends File`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java
    }

    private void process(Collection<File> files, FileChangeWatcher[] watchers, ChangeType type) {
      if (files.size() > 0) {
        for (File file : files) {
```

### BoundedWildcard
Can generalize to `? extends IZkChildListener`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  }

  private void fireChildChangedEvents(final String path, Set<IZkChildListener> childListeners, boolean pathExists) {
    try {
      final ZkPathStatRecord pathStatRecord = new ZkPathStatRecord(path);
```

### BoundedWildcard
Can generalize to `? extends IZkDataListenerEntry`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  }

  private void fireDataChangedEvents(final String path, Set<IZkDataListenerEntry> listeners,
      final OptionalLong notificationTime, boolean pathExists) {
    try {
```

## RuleId[id=MissortedModifiers]
### MissortedModifiers
Missorted modifiers `final static`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java
  // to HealthCheck enum, it could introduce more unnecessary check step since the InstanceServiceImpl
  // loops all the types to do corresponding checks.
  private final static String INSTANCE_NOT_EXIST = "HELIX:INSTANCE_NOT_EXIST";
  public enum InstancesProperties {
    instances,
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/InstancesAccessor.java`
#### Snippet
```java
@Path("/clusters/{clusterId}/instances")
public class InstancesAccessor extends AbstractHelixResource {
  private final static Logger _logger = LoggerFactory.getLogger(InstancesAccessor.class);
  // This type does not belongs to real HealthCheck failed reason. Also if we add this type
  // to HealthCheck enum, it could introduce more unnecessary check step since the InstanceServiceImpl
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java
@Path("/clusters/{clusterId}/resources")
public class ResourceAccessor extends AbstractHelixResource {
  private final static Logger _logger = LoggerFactory.getLogger(ResourceAccessor.class);

  public enum ResourceProperties {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
@Path("/clusters/{clusterId}/instances/{instanceName}")
public class PerInstanceAccessor extends AbstractHelixResource {
  private final static Logger LOG = LoggerFactory.getLogger(PerInstanceAccessor.class);

  public enum PerInstanceProperties {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/api/config/StateTransitionThrottleConfig.java`
#### Snippet
```java
  }

  private final static ObjectMapper OBJECT_MAPPER = new ObjectMapper();

  /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/api/config/StateTransitionThrottleConfig.java`
#### Snippet
```java
  private static final Logger logger =
      LoggerFactory.getLogger(StateTransitionThrottleConfig.class.getName());
  public final static int DEFAULT_NUM_TRANSIT_REPLICAS = 1;

  private enum ConfigProperty {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskConstants.java`
#### Snippet
```java
   * pool size default value if the current thread pool size is not defined in LiveInstance
   */
  public final static int DEFAULT_TASK_THREAD_POOL_SIZE = 40;

  public static final Set<TaskState> FINAL_STATES = new HashSet<>(
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
  //
  // TODO Implement or configure the limitation in ZK server.
  private final static long DEFAULT_CONFIGS_LIMITATION =
      HelixUtil.getSystemPropertyAsLong(SystemPropertyKeys.TASK_CONFIG_LIMITATION, 100000L);
  private final static String TASK_START_TIME_KEY = "START_TIME";
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
  private final static long DEFAULT_CONFIGS_LIMITATION =
      HelixUtil.getSystemPropertyAsLong(SystemPropertyKeys.TASK_CONFIG_LIMITATION, 100000L);
  private final static String TASK_START_TIME_KEY = "START_TIME";
  protected long _configsLimitation = DEFAULT_CONFIGS_LIMITATION;

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java

  /** Default sleep time for requests */
  private final static long DEFAULT_SLEEP = 1000L; /* 1 second */

  /** The illegal job states for job to accept new tasks */
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java

  /** The illegal job states for job to accept new tasks */
  private final static Set<TaskState> ILLEGAL_JOB_STATES_FOR_TASK_MODIFICATION = new HashSet<>(
      Arrays.asList(TaskState.TIMING_OUT, TaskState.TIMED_OUT, TaskState.FAILING, TaskState.FAILED,
          TaskState.ABORTED, TaskState.COMPLETED, TaskState.STOPPING, TaskState.STOPPED));
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java

  /** Default time out for monitoring workflow or job state */
  private final static int DEFAULT_TIMEOUT = 5 * 60 * 1000; /* 5 mins */

  /** Default sleep time for requests */
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/TaskExecutionInfo.java`
#### Snippet
```java
public class TaskExecutionInfo {
  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();
  public final static long TIMESTAMP_NOT_SET = -1L;
  private final String _jobName;
  private final Integer _taskPartitionIndex;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java

    private class ConsistentHashSelector {
      private final static int DEFAULT_TOKENS_PER_INSTANCE = 1000;
      private final SortedMap<Long, String> circle = new TreeMap<>();
      protected int instanceSize = 0;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java`
#### Snippet
```java

  // Have fixed size history of Scheduled Workflow Tasks
  private final static int SCHEDULED_WORKFLOW_HISTORY_SIZE = 20;

  public WorkflowContext(ZNRecord record) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/util/MessageUtil.java`
#### Snippet
```java

  // TODO: Make the message retry count configurable through the Cluster Config or IdealStates.
  public final static int DEFAULT_STATE_TRANSITION_MESSAGE_RETRY_COUNT = 3;

  public static Message createStateTransitionCancellationMessage(String srcInstanceName,
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/PersistentStats.java`
#### Snippet
```java
   * The name of the statistics ZNode
   */
  public final static String nodeName = "PersistentStats";

  /**
```

### MissortedModifiers
Missorted modifiers `final private`
in `helix-core/src/main/java/org/apache/helix/model/Transition.java`
#### Snippet
```java
 */
public class Transition {
  final private String _fromState;
  final private String _toState;

```

### MissortedModifiers
Missorted modifiers `final private`
in `helix-core/src/main/java/org/apache/helix/model/Transition.java`
#### Snippet
```java
public class Transition {
  final private String _fromState;
  final private String _toState;

  /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ParticipantHistory.java`
#### Snippet
```java

  private final static int HISTORY_SIZE = 20;
  private final static String HISTORY_DATE_FORMAT = "yyyy-MM-dd'T'HH:mm:ss:SSS";

  enum ConfigProperty {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ParticipantHistory.java`
#### Snippet
```java
  private static final String UNKNOWN_HOST_NAME = "UnknownHostname";

  private final static int HISTORY_SIZE = 20;
  private final static String HISTORY_DATE_FORMAT = "yyyy-MM-dd'T'HH:mm:ss:SSS";

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/AlertStatus.java`
#### Snippet
```java
   * The name of the ZNode containing alert status
   */
  public final static String nodeName = "AlertStatus";

  /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
          .put(GlobalRebalancePreferenceKey.LESS_MOVEMENT, 1)
          .put(GlobalRebalancePreferenceKey.FORCE_BASELINE_CONVERGE, 0).build();
  private final static int MAX_REBALANCE_PREFERENCE = 1000;
  private final static int MIN_REBALANCE_PREFERENCE = 0;
  public final static boolean DEFAULT_GLOBAL_REBALANCE_ASYNC_MODE_ENABLED = true;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  // By default, no load balance if any error or recovery partition. -1 implies that the threshold
  // is not set and will be given a default value of 1
  private final static int DEFAULT_ERROR_OR_RECOVERY_PARTITION_THRESHOLD_FOR_LOAD_BALANCE = -1;
  private static final String IDEAL_STATE_RULE_PREFIX = "IdealStateRule!";

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  // By default, no load balance if any error partition
  @Deprecated
  private final static int DEFAULT_ERROR_PARTITION_THRESHOLD_FOR_LOAD_BALANCE = 0;
  // By default, no load balance if any error or recovery partition. -1 implies that the threshold
  // is not set and will be given a default value of 1
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  }

  private final static int DEFAULT_MAX_CONCURRENT_TASK_PER_INSTANCE = 40;
  // By default, no load balance if any error partition
  @Deprecated
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  private static final int GLOBAL_TARGET_TASK_THREAD_POOL_SIZE_NOT_SET = -1;
  private static final int OFFLINE_NODE_TIME_OUT_FOR_MAINTENANCE_MODE_NOT_SET = -1;
  private final static int DEFAULT_VIEW_CLUSTER_REFRESH_PERIOD = 30;

  /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
          .put(GlobalRebalancePreferenceKey.FORCE_BASELINE_CONVERGE, 0).build();
  private final static int MAX_REBALANCE_PREFERENCE = 1000;
  private final static int MIN_REBALANCE_PREFERENCE = 0;
  public final static boolean DEFAULT_GLOBAL_REBALANCE_ASYNC_MODE_ENABLED = true;
  public final static boolean DEFAULT_PARTIAL_REBALANCE_ASYNC_MODE_ENABLED = true;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java

  // Default preference for all the aspects should be the same to ensure balanced setup.
  public final static Map<GlobalRebalancePreferenceKey, Integer>
      DEFAULT_GLOBAL_REBALANCE_PREFERENCE =
      ImmutableMap.<GlobalRebalancePreferenceKey, Integer>builder()
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  private static final String IDEAL_STATE_RULE_PREFIX = "IdealStateRule!";

  public final static String TASK_QUOTA_RATIO_NOT_SET = "-1";

  public static final long OFFLINE_DURATION_FOR_PURGE_NOT_SET = -1L;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  private final static int MIN_REBALANCE_PREFERENCE = 0;
  public final static boolean DEFAULT_GLOBAL_REBALANCE_ASYNC_MODE_ENABLED = true;
  public final static boolean DEFAULT_PARTIAL_REBALANCE_ASYNC_MODE_ENABLED = true;
  private static final int GLOBAL_TARGET_TASK_THREAD_POOL_SIZE_NOT_SET = -1;
  private static final int OFFLINE_NODE_TIME_OUT_FOR_MAINTENANCE_MODE_NOT_SET = -1;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  private final static int MAX_REBALANCE_PREFERENCE = 1000;
  private final static int MIN_REBALANCE_PREFERENCE = 0;
  public final static boolean DEFAULT_GLOBAL_REBALANCE_ASYNC_MODE_ENABLED = true;
  public final static boolean DEFAULT_PARTIAL_REBALANCE_ASYNC_MODE_ENABLED = true;
  private static final int GLOBAL_TARGET_TASK_THREAD_POOL_SIZE_NOT_SET = -1;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/Alerts.java`
#### Snippet
```java
   * The name of the ZNode corresponding to this property
   */
  public final static String nodeName = "Alerts";

  /**
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ControllerHistory.java`
#### Snippet
```java
public class ControllerHistory extends HelixProperty {
  private final static int HISTORY_SIZE = 10;
  private final static int MAINTENANCE_HISTORY_SIZE = 20;

  private enum ConfigProperty {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/model/ControllerHistory.java`
#### Snippet
```java
 */
public class ControllerHistory extends HelixProperty {
  private final static int HISTORY_SIZE = 10;
  private final static int MAINTENANCE_HISTORY_SIZE = 20;

```

### MissortedModifiers
Missorted modifiers `final private`
in `helix-core/src/main/java/org/apache/helix/model/builder/ClusterConstraintsBuilder.java`
#### Snippet
```java
  private static Logger LOG = LoggerFactory.getLogger(ClusterConstraintsBuilder.class);

  final private ConstraintType _constraintType;

  /**
```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/store/ZNRecordJsonSerializer.java`
#### Snippet
```java

public class ZNRecordJsonSerializer implements PropertySerializer<ZNRecord> {
  static private Logger LOG = LoggerFactory.getLogger(ZNRecordJsonSerializer.class);
  private final ZNRecordSerializer _serializer = new ZNRecordSerializer();

```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonComparator.java`
#### Snippet
```java

public class PropertyJsonComparator<T> implements Comparator<T> {
  static private Logger LOG = LoggerFactory.getLogger(PropertyJsonComparator.class);
  private final PropertyJsonSerializer<T> _serializer;

```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonSerializer.java`
#### Snippet
```java

public class PropertyJsonSerializer<T> implements PropertySerializer<T> {
  static private Logger LOG = LoggerFactory.getLogger(PropertyJsonSerializer.class);
  private static ObjectMapper mapper = new ObjectMapper();
  private final Class<T> _clazz;
```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/util/HelixUtil.java`
#### Snippet
```java

public final class HelixUtil {
  static private Logger LOG = LoggerFactory.getLogger(HelixUtil.class);

  private HelixUtil() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
  private final static PropertyJsonComparator<String> STRING_COMPARATOR =
      new PropertyJsonComparator<String>(String.class);
  private final static PropertyJsonSerializer<ZNRecord> ZNRECORD_SERIALIZER =
      new PropertyJsonSerializer<ZNRecord>(ZNRecord.class);

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
                                              // ms

  private final static PropertyJsonComparator<String> STRING_COMPARATOR =
      new PropertyJsonComparator<String>(String.class);
  private final static PropertyJsonSerializer<ZNRecord> ZNRECORD_SERIALIZER =
```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventThreadPoolFactory.java`
#### Snippet
```java
  static private final ReentrantReadWriteLock _lock = new ReentrantReadWriteLock();
  static private Map<Integer, ThreadPoolExecutor> _managerToCallBackThreadPoolMap = new HashMap();
  static private Map<Integer, AtomicInteger> _callBackEventProcessorCountPerThreadPool =
      new HashMap();

```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventThreadPoolFactory.java`
#### Snippet
```java
  private static final int CALLBACK_EVENT_THREAD_POOL_TTL_MINUTE = 3;
  static private final ReentrantReadWriteLock _lock = new ReentrantReadWriteLock();
  static private Map<Integer, ThreadPoolExecutor> _managerToCallBackThreadPoolMap = new HashMap();
  static private Map<Integer, AtomicInteger> _callBackEventProcessorCountPerThreadPool =
      new HashMap();
```

### MissortedModifiers
Missorted modifiers `static private`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventThreadPoolFactory.java`
#### Snippet
```java
  private static final int CALLBACK_EVENT_THREAD_POOL_SIZE = 10;
  private static final int CALLBACK_EVENT_THREAD_POOL_TTL_MINUTE = 3;
  static private final ReentrantReadWriteLock _lock = new ReentrantReadWriteLock();
  static private Map<Integer, ThreadPoolExecutor> _managerToCallBackThreadPoolMap = new HashMap();
  static private Map<Integer, AtomicInteger> _callBackEventProcessorCountPerThreadPool =
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheEventThread.java`
#### Snippet
```java
  private static AtomicInteger _eventId = new AtomicInteger(0);

  static abstract class ZkCacheEvent {

    private final String _description;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  final static List<String> resourceNames = new ArrayList<>();
  final static List<String> instanceNames = new ArrayList<>();
  final static List<String> partitions = new ArrayList<>(nPartitions);
  final static List<ResourceConfig> resourceConfigs = new ArrayList<>();
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static int nParticipants = 9;
  final static int nResources = 10;
  final static int nPartitions = 10;
  final static int nReplicas = 3;
  final static int defaultCapacity = 500; // total = 500*7 = 3500
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  private static HelixAdmin admin;

  final static String resourceNamePrefix = "resource";
  final static int nParticipants = 9;
  final static int nResources = 10;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static String resourceNamePrefix = "resource";
  final static int nParticipants = 9;
  final static int nResources = 10;
  final static int nPartitions = 10;
  final static int nReplicas = 3;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static List<String> instanceNames = new ArrayList<>();
  final static List<String> partitions = new ArrayList<>(nPartitions);
  final static List<ResourceConfig> resourceConfigs = new ArrayList<>();

  final static ClusterConfig clusterConfig = new ClusterConfig(CLUSTER_NAME);
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static List<String> resourceNames = new ArrayList<>();
  final static List<String> instanceNames = new ArrayList<>();
  final static List<String> partitions = new ArrayList<>(nPartitions);
  final static List<ResourceConfig> resourceConfigs = new ArrayList<>();

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static int resourceWeight = 10; // total = 10*10*3*10 = 3000

  final static List<String> resourceNames = new ArrayList<>();
  final static List<String> instanceNames = new ArrayList<>();
  final static List<String> partitions = new ArrayList<>(nPartitions);
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static int nReplicas = 3;
  final static int defaultCapacity = 500; // total = 500*7 = 3500
  final static int resourceWeight = 10; // total = 10*10*3*10 = 3000

  final static List<String> resourceNames = new ArrayList<>();
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static int nPartitions = 10;
  final static int nReplicas = 3;
  final static int defaultCapacity = 500; // total = 500*7 = 3500
  final static int resourceWeight = 10; // total = 10*10*3*10 = 3000

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  final static String resourceNamePrefix = "resource";
  final static int nParticipants = 9;
  final static int nResources = 10;
  final static int nPartitions = 10;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static List<ResourceConfig> resourceConfigs = new ArrayList<>();

  final static ClusterConfig clusterConfig = new ClusterConfig(CLUSTER_NAME);
  final static List<InstanceConfig> instanceConfigs = new ArrayList<>();

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  final static ClusterConfig clusterConfig = new ClusterConfig(CLUSTER_NAME);
  final static List<InstanceConfig> instanceConfigs = new ArrayList<>();

  private static void printAssignmentInfo(ResourcesStateMap assignment) {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
  final static int nResources = 10;
  final static int nPartitions = 10;
  final static int nReplicas = 3;
  final static int defaultCapacity = 500; // total = 500*7 = 3500
  final static int resourceWeight = 10; // total = 10*10*3*10 = 3000
```

### MissortedModifiers
Missorted modifiers `synchronized final`
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  }

  public synchronized final void onReply(Message message) {
    _logger.info("OnReply msg " + message.getMsgId());
    if (!isDone()) {
```

### MissortedModifiers
Missorted modifiers `synchronized private static`
in `helix-core/src/main/java/org/apache/helix/controller/HelixControllerMain.java`
#### Snippet
```java
  // hack: OptionalBuilder is not thread safe
  @SuppressWarnings("static-access")
  synchronized private static Options constructCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(help).withDescription("Prints command-line options info")
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
  // participant, controller will cleanup them proactively to unblock further state
  // transition
  public final static long DEFAULT_OBSELETE_MSG_PURGE_DELAY = HelixUtil
      .getSystemPropertyAsLong(SystemPropertyKeys.CONTROLLER_MESSAGE_PURGE_DELAY, 60 * 1000);
  private final static String PENDING_MESSAGE = "pending message";
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
  public final static long DEFAULT_OBSELETE_MSG_PURGE_DELAY = HelixUtil
      .getSystemPropertyAsLong(SystemPropertyKeys.CONTROLLER_MESSAGE_PURGE_DELAY, 60 * 1000);
  private final static String PENDING_MESSAGE = "pending message";
  private final static String STALE_MESSAGE = "stale message";

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
      .getSystemPropertyAsLong(SystemPropertyKeys.CONTROLLER_MESSAGE_PURGE_DELAY, 60 * 1000);
  private final static String PENDING_MESSAGE = "pending message";
  private final static String STALE_MESSAGE = "stale message";

  private static Logger logger = LoggerFactory.getLogger(MessageGenerationPhase.class);
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
 */
public class MessageGenerationPhase extends AbstractBaseStage {
  private final static String NO_DESIRED_STATE = "NoDesiredState";

  // If we see there is any invalid pending message leaving on host, i.e. message
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java

class ConsistentHashSelector {
  private final static int DEFAULT_TOKENS_PER_INSTANCE = 1000;
  private final static JenkinsHash _hashFunction = new JenkinsHash();
  private final SortedMap<Long, Node> circle = new TreeMap<>();
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java
class ConsistentHashSelector {
  private final static int DEFAULT_TOKENS_PER_INSTANCE = 1000;
  private final static JenkinsHash _hashFunction = new JenkinsHash();
  private final SortedMap<Long, Node> circle = new TreeMap<>();
  protected int instanceSize = 0;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java

  // Cache records all known topology.
  private final static LoadingCache<Set<Node>, ConsistentHashSelector> _selectorCache =
      CacheBuilder.newBuilder().maximumSize(MAX_SELETOR_CACHE_SIZE)
          .expireAfterAccess(SELETOR_CACHE_EXPIRE, TimeUnit.MINUTES)
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/MonitoredAbnormalResolver.java`
#### Snippet
```java
   * This is a dummy class that does not really functional.
   */
  public final static MonitoredAbnormalResolver DUMMY_STATE_RESOLVER =
      new MonitoredAbnormalResolver(new AbnormalStateResolver() {
        public boolean checkCurrentStates(final CurrentStateOutput currentStateOutput,
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/healthcheck/ParticipantHealthReportTask.java`
#### Snippet
```java
public class ParticipantHealthReportTask extends HelixTimerTask {
  private static final Logger LOG = LoggerFactory.getLogger(ParticipantHealthReportTask.class);
  public final static int DEFAULT_REPORT_LATENCY = 60 * 1000;
  private final int _reportLatency;

```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-core/src/main/java/org/apache/helix/participant/AbstractHelixLeaderStandbyStateModel.java`
#### Snippet
```java
})
public abstract class AbstractHelixLeaderStandbyStateModel extends StateModel {
  private final static Logger logger =
      LoggerFactory.getLogger(AbstractHelixLeaderStandbyStateModel.class);
  protected final String _zkAddr;
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelResource.java`
#### Snippet
```java

public class StateModelResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(StateModelResource.class);

  public StateModelResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java

public class ResourceGroupsResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ResourceGroupsResource.class);

  public ResourceGroupsResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkPathResource.java`
#### Snippet
```java

public class ZkPathResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ZkPathResource.class);

  public ZkPathResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerStatusUpdateResource.java`
#### Snippet
```java

public class ControllerStatusUpdateResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ControllerStatusUpdateResource.class);

  public ControllerStatusUpdateResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStatesResource.java`
#### Snippet
```java

public class CurrentStatesResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(CurrentStatesResource.class);

  public CurrentStatesResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConstraintResource.java`
#### Snippet
```java
 */
public class ConstraintResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ConstraintResource.class);

  public ConstraintResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupResource.java`
#### Snippet
```java

public class ResourceGroupResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ResourceGroupResource.class);

  public ResourceGroupResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorsResource.java`
#### Snippet
```java

public class ErrorsResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ErrorsResource.class);

  public ErrorsResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ErrorResource.java`
#### Snippet
```java

public class ErrorResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ErrorResource.class);

  public ErrorResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdateResource.java`
#### Snippet
```java

public class StatusUpdateResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(StatusUpdateResource.class);

  public StatusUpdateResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobResource.java`
#### Snippet
```java
 */
public class JobResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(JobResource.class);

  public JobResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ExternalViewResource.java`
#### Snippet
```java

public class ExternalViewResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ExternalViewResource.class);

  public ExternalViewResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ControllerResource.java`
#### Snippet
```java
 */
public class ControllerResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ControllerResource.class);

  public ControllerResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueueResource.java`
#### Snippet
```java
 */
public class JobQueueResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(JobQueueResource.class);

  public JobQueueResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/WorkflowsResource.java`
#### Snippet
```java

public class WorkflowsResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(WorkflowsResource.class);

  public WorkflowsResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstancesResource.java`
#### Snippet
```java

public class InstancesResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(InstancesResource.class);

  public InstancesResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/InstanceResource.java`
#### Snippet
```java

public class InstanceResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(InstanceResource.class);

  public InstanceResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ZkChildResource.java`
#### Snippet
```java

public class ZkChildResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ZkChildResource.class);

  public ZkChildResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StateModelsResource.java`
#### Snippet
```java

public class StateModelsResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(StateModelsResource.class);

  public StateModelsResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClustersResource.java`
#### Snippet
```java
 */
public class ClustersResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ClustersResource.class);

  public ClustersResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterResource.java`
#### Snippet
```java
 */
public class ClusterResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ClusterResource.class);

  public ClusterResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/IdealStateResource.java`
#### Snippet
```java
 */
public class IdealStateResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(IdealStateResource.class);

  public IdealStateResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/JobQueuesResource.java`
#### Snippet
```java
 */
public class JobQueuesResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(JobQueuesResource.class);

  public JobQueuesResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/StatusUpdatesResource.java`
#### Snippet
```java

public class StatusUpdatesResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(StatusUpdatesResource.class);

  public StatusUpdatesResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ConfigResource.java`
#### Snippet
```java
 */
public class ConfigResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(ConfigResource.class);

  public ConfigResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/CurrentStateResource.java`
#### Snippet
```java

public class CurrentStateResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(CurrentStateResource.class);

  public CurrentStateResource() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/SchedulerTasksResource.java`
#### Snippet
```java
 */
public class SchedulerTasksResource extends ServerResource {
  private final static Logger LOG = LoggerFactory.getLogger(SchedulerTasksResource.class);

  public static String CRITERIA = "Criteria";
```

### MissortedModifiers
Missorted modifiers `final static`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/factory/ZkConnectionManager.java`
#### Snippet
```java
  private static Logger LOG = LoggerFactory.getLogger(ZkConnectionManager.class);
  // Client type that is used in monitor, and metrics.
  private final static String MONITOR_TYPE = "ZkConnectionManager";
  private final String _monitorKey;
  // Set of all registered watchers
```

### MissortedModifiers
Missorted modifiers `volatile static`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/routing/RoutingDataManager.java`
#### Snippet
```java

  // Singleton instance; volatile for multithread safety
  private volatile static RoutingDataManager _instance;

  /**
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkEventThread.java`
#### Snippet
```java
  private static AtomicInteger _eventId = new AtomicInteger(0);

  public static abstract class ZkEvent {

    private final String _description;
```

### MissortedModifiers
Missorted modifiers `final static`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java
public class NetworkUtil {

    public final static String OVERWRITE_HOSTNAME_SYSTEM_PROPERTY = "zkclient.hostname.overwritten";

    public static String[] getLocalHostNames() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/factory/SharedZkClientFactory.java`
#### Snippet
```java
   * This is to ensure connection field is never null even the shared RealmAwareZkClient instance is closed so as to avoid NPE.
   */
  private final static ZkConnection IDLE_CONNECTION = new ZkConnection("Dummy_ZkServers");

  protected SharedZkClientFactory() {
```

### MissortedModifiers
Missorted modifiers `static abstract`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
   * Default callback for zookeeper async api.
   */
  public static abstract class DefaultCallback implements CancellableZkAsyncCallback {
    AtomicBoolean _isOperationDone = new AtomicBoolean(false);
    int _rc = KeeperException.Code.APIERROR.intValue();
```

### MissortedModifiers
Missorted modifiers `abstract public`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
     * Additional callback handling.
     */
    abstract public void handle();

    private void markOperationDone() {
```

### MissortedModifiers
Missorted modifiers `final static`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/statemodel/DistViewAggregatorStateModel.java`
#### Snippet
```java
})
public class DistViewAggregatorStateModel extends AbstractHelixLeaderStandbyStateModel {
  private final static Logger logger = LoggerFactory.getLogger(DistViewAggregatorStateModel.class);
  private HelixViewAggregator _aggregator;

```

### MissortedModifiers
Missorted modifiers `synchronized private static`
in `helix-agent/src/main/java/org/apache/helix/agent/HelixAgentMain.java`
#### Snippet
```java
  // hack: OptionalBuilder is not thread safe
  @SuppressWarnings("static-access")
  synchronized private static Options constructCommandLineOptions() {
    Option helpOption =
        OptionBuilder.withLongOpt(help).withDescription("Prints command-line options info")
```

## RuleId[id=NegativeIntConstantInLongContext]
### NegativeIntConstantInLongContext
Negative int hexadecimal constant in long context
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java

    public int hash(byte[] key) {
      long hash = FNV_BASIS;
      for (int i = 0; i < key.length; i++) {
        hash ^= 0xFF & key[i];
```

### NegativeIntConstantInLongContext
Negative int hexadecimal constant in long context
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
   */
  public static class FnvHash implements HashFunction {
    private static final long FNV_BASIS = 0x811c9dc5;
    private static final long FNV_PRIME = (1 << 24) + 0x193;
    public static final long FNV_BASIS_64 = 0xCBF29CE484222325L;
```

## RuleId[id=AnonymousHasLambdaAlternative]
### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/StartClusterManager.java`
#### Snippet
```java
              HelixControllerMain.STANDALONE);

      Runtime.getRuntime().addShutdownHook(new Thread() {
        @Override
        public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Consumer.java`
#### Snippet
```java
          new Consumer(zkAddr, clusterName, "consumer_" + consumerId, mqServer);

      Runtime.getRuntime().addShutdownHook(new Thread() {
        @Override
        public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockProcess.java`
#### Snippet
```java
    final LockProcess lockProcess =
        new LockProcess(clusterName, zkAddress, instanceName, startController);
    Runtime.getRuntime().addShutdownHook(new Thread() {
      @Override
      public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
            HelixControllerMain.STANDALONE);

    Runtime.getRuntime().addShutdownHook(new Thread() {
      @Override
      public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Worker.java`
#### Snippet
```java
      }

      Runtime.getRuntime().addShutdownHook(new Thread() {
        @Override
        public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
      final FileStore store = new FileStore(zkAddr, clusterName, serverId);

      Runtime.getRuntime().addShutdownHook(new Thread() {
        @Override
        public void run() {
```

### AnonymousHasLambdaAlternative
Anonymous new Thread() can be replaced with new Thread(() -\> {...})
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/StartClusterManager.java`
#### Snippet
```java
              HelixControllerMain.STANDALONE);

      Runtime.getRuntime().addShutdownHook(new Thread() {
        @Override
        public void run() {
```

## RuleId[id=FinalizeNotProtected]
### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ZkHelixClusterVerifier.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

    @Override
    public void finalize() {
      if (zkClient != null) {
        zkClient.close();
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

    @Override
    public void finalize() {
      if (zkClient != null) {
        zkClient.close();
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBucketDataAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    _zkBaseDataAccessor.close();
    close();
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/MonitoredAbnormalResolver.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

### FinalizeNotProtected
'finalize()' should have protected access, not public
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java

  @Override
  public void finalize() {
    close();
  }
```

## RuleId[id=MalformedFormatString]
### MalformedFormatString
Too many arguments for format string (found: 1, expected: 0)
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
      }
    } catch (IllegalArgumentException ex) {
      LOG.error(String.format("Invalid topology setting for Instance : {}. Fail the config update",
          instanceName), ex);
      return serverError(ex);
```

## RuleId[id=DefaultAnnotationParam]
### DefaultAnnotationParam
Redundant default parameter value assignment
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/zookeeper/ZooKeeperAccessor.java`
#### Snippet
```java
@NamespaceAuth
@Path("/zookeeper{path: /.+}")
@Api (value = "", description = "Helix REST zookeeper APIs")
public class ZooKeeperAccessor extends AbstractResource {
  private static final Logger LOG = LoggerFactory.getLogger(ZooKeeperAccessor.class.getName());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/metadatastore/MetadataStoreDirectoryAccessor.java`
#### Snippet
```java
@NamespaceAuth
@Path("")
@Api (value = "", description = "Helix REST MetadataStoreDirectory APIs")
public class MetadataStoreDirectoryAccessor extends AbstractResource {
  private static final Logger LOG = LoggerFactory.getLogger(MetadataStoreDirectoryAccessor.class);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ClusterAccessor.java`
#### Snippet
```java

@Path("/clusters")
@Api (value = "", description = "Helix REST Clusters  APIs")
public class ClusterAccessor extends AbstractHelixResource {
  private static Logger LOG = LoggerFactory.getLogger(ClusterAccessor.class.getName());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java

  @Override
  @PreFetch(enabled = true)
  public void onLiveInstanceChange(List<LiveInstance> liveInstances,
      NotificationContext changeContext) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * Get the session Id of ephemeral node owner
   */
  @JsonIgnore(true)
  public long getEphemeralOwner() {
    return _ephemeralOwner;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @return version number
   */
  @JsonIgnore(true)
  public int getVersion() {
    return _version;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param ephemeralOwner
   */
  @JsonIgnore(true)
  public void setEphemeralOwner(long ephemeralOwner) {
    _ephemeralOwner = ephemeralOwner;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param payload
   */
  @JsonIgnore(true)
  public <T> void setPayload(T payload) {
    if (_serializer != null && payload != null) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
  public static final String ZK_SERIALIZER_ZNRECORD_AUTO_COMPRESS_DEFAULT = "true";

  @JsonIgnore(true)
  public static final int SIZE_LIMIT = 1000 * 1024; // leave a margin out of 1M

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param creationTime
   */
  @JsonIgnore(true)
  public void setCreationTime(long creationTime) {
    _creationTime = creationTime;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @return
   */
  @JsonIgnore(true)
  public <T> T getPayload(Class<T> clazz) {
    if (_serializer != null && rawPayload != null) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @return list of {@link ZNRecordDelta}
   */
  @JsonIgnore(true)
  public List<ZNRecordDelta> getDeltaList() {
    return _deltaList;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param deltaList
   */
  @JsonIgnore(true)
  public void setDeltaList(List<ZNRecordDelta> deltaList) {
    _deltaList = deltaList;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param modifiedTime
   */
  @JsonIgnore(true)
  public void setModifiedTime(long modifiedTime) {
    _modifiedTime = modifiedTime;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param version
   */
  @JsonIgnore(true)
  public void setVersion(int version) {
    _version = version;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @return UNIX timestamp
   */
  @JsonIgnore(true)
  public long getCreationTime() {
    return _creationTime;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @param serializer
   */
  @JsonIgnore(true)
  public void setPayloadSerializer(PayloadSerializer serializer) {
    _serializer = serializer;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
  private final String id;

  @JsonIgnore(true)
  public static final String LIST_FIELD_BOUND = "listField.bound";

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
   * @return UNIX timestamp
   */
  @JsonIgnore(true)
  public long getModifiedTime() {
    return _modifiedTime;
```

## RuleId[id=IfStatementWithIdenticalBranches]
### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
  @Override
  public boolean update(String path, DataUpdater<T> updater, int options) {
    if (_fallbackStore == null) {
      return super.update(path, updater, options);
    } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
      ZNode znode = cache.get(serverPath);

      if (znode != null) {
        // TODO: shall return a deep copy instead of reference
        record = ((T) znode.getData());
```

## RuleId[id=SimplifyOptionalCallChains]
### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java

      // If manager session changes, no need to run pipeline for the stale event.
      if (!eventSessionId.isPresent() || !eventSessionId.get().equals(managerSessionId)) {
        logger.warn(
            "Controller pipeline is not invoked because event session doesn't match cluster " +
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java
      // controller's session changes, then messages should not be sent and pipeline should stop.
      Optional<String> expectedSession = event.getAttribute(AttributeName.EVENT_SESSION.name());
      if (!expectedSession.isPresent() || !expectedSession.get().equals(manager.getSessionId())) {
        throw new StageException(String.format(
            "Event session doesn't match controller %s session! Expected session: %s, actual: %s",
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java

    synchronized (_controllerOpt) {
      if (!_controllerOpt.isPresent()) {
        HelixManager newController = HelixManagerFactory
            .getZKHelixManager(clusterName, controllerName, InstanceType.CONTROLLER, _zkAddr);
```

## RuleId[id=UnnecessarySuperQualifier]
### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
        List<T> fallbackValues = _fallbackStore.get(fallbackPaths, null, options, true);
        boolean createSucceed[] =
            super.createChildren(fallbackPaths, fallbackValues, AccessOption.PERSISTENT);

        for (int i = 0; i < fallbackPaths.size(); i++) {
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `helix-core/src/main/java/org/apache/helix/store/zk/AutoFallbackPropertyStore.java`
#### Snippet
```java
        // create znode at new location with fallback-value
        T fallbackValue = _fallbackStore.get(path, null, options);
        boolean succeed = super.create(path, fallbackValue, AccessOption.PERSISTENT);
        if (!succeed) {
          LOG.error("Can't update " + path + " since there are concurrent updates");
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementMessageDispatchStage.java`
#### Snippet
```java
    HelixManager manager = event.getAttribute(AttributeName.helixmanager.name());
    List<Message> messagesSent =
        super.sendMessages(manager.getHelixDataAccessor(), messageOutput.getStatusChangeMessages());
    ManagementControllerDataProvider cache =
        event.getAttribute(AttributeName.ControllerDataProvider.name());
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
  public synchronized void refresh(HelixDataAccessor accessor) {
    long startTime = System.currentTimeMillis();
    Set<HelixConstants.ChangeType> propertyRefreshed = super.doRefresh(accessor);
    _taskCurrentStateCache.refresh(accessor, getLiveInstanceCache().getPropertyMap());

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java

    // Refresh base
    Set<HelixConstants.ChangeType> changedTypes = super.doRefresh(accessor);
    _refreshedChangeTypes.addAll(changedTypes);

```

## RuleId[id=SlowListContainsAll]
### SlowListContainsAll
Call to 'list.containsAll(collection)' may have poor performance
in `helix-core/src/main/java/org/apache/helix/api/config/ViewClusterSourceConfig.java`
#### Snippet
```java

    return _name.equals(otherConfig.getName()) && _zkAddress.equals(otherConfig.getZkAddress())
        && _properties.containsAll(otherConfig.getProperties()) && otherConfig.getProperties()
        .containsAll(_properties);

```

### SlowListContainsAll
Call to 'list.containsAll(collection)' may have poor performance
in `helix-core/src/main/java/org/apache/helix/api/config/ViewClusterSourceConfig.java`
#### Snippet
```java

    return _name.equals(otherConfig.getName()) && _zkAddress.equals(otherConfig.getZkAddress())
        && _properties.containsAll(otherConfig.getProperties()) && otherConfig.getProperties()
        .containsAll(_properties);

  }
```

### SlowListContainsAll
Call to 'list.containsAll(collection)' may have poor performance
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
        // Round 3: Reorder preference Lists to ensure participants' orders (so as the states) are uniform.
        finalPartitionMap = shufflePreferenceList(nodeToPartitionMap);
        if (!liveNodes.containsAll(allNodes)) {
          try {
            // Round 4: Re-mapping the partitions on non-live nodes using consistent hashing for reducing movement.
```

## RuleId[id=InfiniteLoopStatement]
### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerThread.java`
#### Snippet
```java
      channel.basicConsume(queueName, true, consumer);

      while (true) {
        QueueingConsumer.Delivery delivery = consumer.nextDelivery();
        String message = new String(delivery.getBody());
```

### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
public class Test {
  public static void main(String[] args) throws InterruptedException {
    while (true) {
      ExecutorService service = Executors.newFixedThreadPool(400);
      List<Callable<Object>> list = new ArrayList<Callable<Object>>();
```

## RuleId[id=CodeBlock2Expr]
### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java
    // Set the sliding time window to be 1 minute for now
    Supplier<Reservoir> reservoirSupplier = () -> {
      return new SlidingTimeWindowReservoir(60, TimeUnit.SECONDS);
    };
    cfg.register(
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `helix-core/src/main/java/org/apache/helix/api/topology/ClusterTopology.java`
#### Snippet
```java
    Map<String, TrieNode> children = startNode.getChildren();
    Map<String, List<String>> results = new HashMap<>();
    children.entrySet().forEach(child -> {
      results.put(startNode.getPath() + DELIMITER + child.getKey(),
          truncatePath(_trieClusterTopology.getPathUnderNode(child.getValue()),
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
    // Step 1: Check for permanent node down
    AtomicBoolean allNodesActive = new AtomicBoolean(true);
    currentBestPossibleAssignment.values().parallelStream().forEach((resourceAssignment -> {
      resourceAssignment.getMappedPartitions().parallelStream().forEach(partition -> {
        for (String instance : resourceAssignment.getReplicaMap(partition).keySet()) {
```

## RuleId[id=EmptyMethod]
### EmptyMethod
The method is empty
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Pipeline.java`
#### Snippet
```java
  }

  public void finish() {

  }
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Stage.java`
#### Snippet
```java
   * @param context
   */
  void init(StageContext context);

  /**
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Stage.java`
#### Snippet
```java
   * Called before process() on each callback
   */
  void preProcess();

  /**
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Stage.java`
#### Snippet
```java
   * Called after process() on each callback
   */
  void postProcess();

  /**
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Stage.java`
#### Snippet
```java
   * Destruct a stage
   */
  void release();

  /**
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
     * @param manager The instance to which this placement is associated
     */
    public void init(final HelixManager manager);

    /**
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
     * @param manager The instance to which this placement is associated
     */
    public void init(final HelixManager manager);

    /**
```

### EmptyMethod
The method is empty
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapHandler.java`
#### Snippet
```java

    @Transition(from = "MASTER", to = "SLAVE")
    public void masterToSlave(Message message, NotificationContext context) {

    }
```

### EmptyMethod
All implementations of this method are empty
in `helix-core/src/main/java/org/apache/helix/healthcheck/HealthReportProvider.java`
#### Snippet
```java
  }

  public abstract void resetStats();

  public String getReportName() {
```

### EmptyMethod
The method is empty
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java
  }

  public void reset() {
  }

```

### EmptyMethod
The method is empty
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCallbackCache.java`
#### Snippet
```java
   */
  @Deprecated
  public void handleNewSession() throws Exception {
    // TODO Auto-generated method stub

```

### EmptyMethod
The method is empty
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
  }

  private void startMonitorThread() {
    // start a thread which monitors the completions of task
  }
```

### EmptyMethod
The method is empty
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
    }

    public void unassign(int partitionId, int replicaId) {

    }
```

### EmptyMethod
All implementations of this method are empty
in `helix-rest/src/main/java/org/apache/helix/rest/acl/AclRegister.java`
#### Snippet
```java
public interface AclRegister {
  // Create an ACL entry based on the request
  void createACL(HttpServletRequest request);
}

```

### EmptyMethod
Method only calls its super
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java

  @Override
  public void handleNewSession(String sessionId) {
    return;
  }
```

### EmptyMethod
Method only calls its super
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java

  @Override
  public void handleSessionEstablishmentError(Throwable error) {
    return;
  }
```

### EmptyMethod
Method only calls its super
in `helix-rest/src/main/java/org/apache/helix/rest/metadatastore/concurrency/ZkDistributedLeaderElection.java`
#### Snippet
```java

  @Override
  public void handleDataChange(String s, Object o) {
    return;
  }
```

### EmptyMethod
Method only calls its super
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java

  @Override
  public void setAttribute(Attribute attribute) {
    // All MBeans are readonly
    return;
```

### EmptyMethod
The method is empty
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLog.java`
#### Snippet
```java
  }

  public void logChange(String file) {

  }
```

### EmptyMethod
All implementations of this method are empty
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
     * Additional callback handling.
     */
    abstract public void handle();

    private void markOperationDone() {
```

## RuleId[id=RedundantFieldInitialization]
### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/client/CustomRestClientFactory.java`
#### Snippet
```java
public class CustomRestClientFactory {
  private static final Logger LOG = LoggerFactory.getLogger(CustomRestClientFactory.class);
  private static CustomRestClient INSTANCE = null;

  // Here int has been used for timeout value because setConnectTimeout,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
  private static class MaintenanceOpInputFields {
    List<String> healthChecks = null;
    Map<String, String> healthCheckConfig = null;
    List<String> operations = null;
    Map<String, String> operationConfig = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    Map<String, String> healthCheckConfig = null;
    List<String> operations = null;
    Map<String, String> operationConfig = null;
    Set<String> nonBlockingHelixCheck = new HashSet<>();
    boolean skipZKRead = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    Map<String, String> operationConfig = null;
    Set<String> nonBlockingHelixCheck = new HashSet<>();
    boolean skipZKRead = false;
    boolean performOperation = true;
  }
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    List<String> healthChecks = null;
    Map<String, String> healthCheckConfig = null;
    List<String> operations = null;
    Map<String, String> operationConfig = null;
    Set<String> nonBlockingHelixCheck = new HashSet<>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java

  private static class MaintenanceOpInputFields {
    List<String> healthChecks = null;
    Map<String, String> healthCheckConfig = null;
    List<String> operations = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerStateModel.java`
#### Snippet
```java

  private final String _mqServer;
  private ConsumerThread _thread = null;

  public ConsumerStateModel(String consumerId, String partition, String mqServer) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Consumer.java`
#### Snippet
```java
  private final String _consumerId;
  private final String _mqServer;
  private HelixManager _manager = null;

  public Consumer(String zkAddr, String clusterName, String consumerId, String mqServer) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/ExternalCommand.java`
#### Snippet
```java
    private final InputStream _in;
    private final ByteArrayOutputStream _out;
    private boolean _running = false;

    InputReader(InputStream in) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/HelixTimerTask.java`
#### Snippet
```java
 */
public abstract class HelixTimerTask {
  protected Timer _timer = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/Criteria.java`
#### Snippet
```java
   * The name of target cluster. If null, means sending to the local cluster
   */
  String _clusterName = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
  // Attribute name to the DynamicMetric object mapping
  private Map<String, DynamicMetric> _attributeMap = new HashMap<>();
  private ObjectName _objectName = null;
  private MBeanInfo _mBeanInfo;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskRunner.java`
#### Snippet
```java
  private volatile boolean _timeout = false;
  // If true, indicates that the task has finished.
  private volatile boolean _done = false;
  private TaskStateModel _stateModel;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskRunner.java`
#### Snippet
```java
  private final Task _task;
  // Stores the result of the task once it has finished.
  private volatile TaskResult _result = null;
  // If true, indicates that the task has started.
  private volatile boolean _started = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskRunner.java`
#### Snippet
```java
  private volatile boolean _started = false;
  // If true, indicates that the task was canceled due to a task timeout.
  private volatile boolean _timeout = false;
  // If true, indicates that the task has finished.
  private volatile boolean _done = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskRunner.java`
#### Snippet
```java
  private volatile TaskResult _result = null;
  // If true, indicates that the task has started.
  private volatile boolean _started = false;
  // If true, indicates that the task was canceled due to a task timeout.
  private volatile boolean _timeout = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/task/TaskConfig.java`
#### Snippet
```java
    private String _command;
    private String _targetPartition;
    private boolean _successOptional = false;
    private Map<String, String> _configMap;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java

  public static class Builder {
    private String _workflowId = null;
    private JobDag _taskDag = DEFAULT_JOB_DAG;
    private int _parallelJobs = DEFAULT_PARALLEL_JOBS;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java
      private final static int DEFAULT_TOKENS_PER_INSTANCE = 1000;
      private final SortedMap<Long, String> circle = new TreeMap<>();
      protected int instanceSize = 0;

      public ConsistentHashSelector(List<String> instances) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/task/beans/TaskBean.java`
#### Snippet
```java
  public Map<String, String> taskConfigMap;
  @Deprecated
  public boolean successOptional = false;
}

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/model/Resource.java`
#### Snippet
```java
  private String _stateModelDefRef;
  private String _stateModelFactoryName;
  private int _bucketSize = 0;
  private boolean _batchMessageMode = false;
  private String _resourceGroupName;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/model/Resource.java`
#### Snippet
```java
  private String _stateModelFactoryName;
  private int _bucketSize = 0;
  private boolean _batchMessageMode = false;
  private String _resourceGroupName;
  private String _resourceTag;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
  // copy of the message.
  // Currently, the field is only used for invalidating messages in controller's message cache.
  private boolean _expired = false;

  // The expect period of time (in ms) that a message should be completed, default 1 day
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/model/builder/IdealStateBuilder.java`
#### Snippet
```java
   * the cluster.
   */
  private String nodeGroup = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/model/builder/IdealStateBuilder.java`
#### Snippet
```java
   * Whether enabling group routing.
   */
  private Boolean enableGroupRouting = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/model/builder/IdealStateBuilder.java`
#### Snippet
```java
   * Whether delay rebalance should be disabled.
   */
  private Boolean delayRebalanceEnabled = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/model/builder/IdealStateBuilder.java`
#### Snippet
```java
   * Whether to disable external view for this resource
   */
  private Boolean disableExternalView = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/model/builder/ConstraintItemBuilder.java`
#### Snippet
```java
  // attributes e.g. {STATE:MASTER, RESOURCE:TestDB, INSTANCE:localhost_12918}
  final Map<ConstraintAttribute, String> _attributes = new TreeMap<ConstraintAttribute, String>();
  String _constraintValue = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * @var integer
   */
  protected int totalNodesW = 0;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * @var integer
   */
  protected int totalClusters = 0;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * an array of HashMaps where each HashMap holds the data for a single node
   */
  protected HashMap[] nodes = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * @var integer
   */
  protected int totalNodes = 0;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
  private static String fieldSep = " ";

  static BufferedWriter bw = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
  Set<String> _operations = new HashSet<String>();
  PrintWriter _outputFile;
  int _samples = 0;
  int _targetSamples = -1;
  String _jmxUrl;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
  private String suffix = "";
  // enable by default
  private boolean removeSuffix = false;

  public String getSuffix() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java

  private Set<PropertyKey> _updatedStateKeys = null;
  private Map<PropertyKey, CurrentState> _prevStateMap = null;

  public CurrentStateSnapshot(final Map<PropertyKey, CurrentState> currentStateMap) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(CurrentStateSnapshot.class.getName());

  private Set<PropertyKey> _updatedStateKeys = null;
  private Map<PropertyKey, CurrentState> _prevStateMap = null;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateCache.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(CurrentStateCache.class.getName());
  // If the snapshot is already refreshed with current state data.
  private boolean _initialized = false;
  private CurrentStateSnapshot _snapshot;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java
    // For backward compatibility, set the default isDeactivatedNodeAware to be false.
    private boolean _isDeactivatedNodeAware = false;
    private boolean _usesExternalZkClient = false; // false by default

    public StrictMatchExternalViewVerifier build() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java
    private RealmAwareZkClient _zkClient;
    // For backward compatibility, set the default isDeactivatedNodeAware to be false.
    private boolean _isDeactivatedNodeAware = false;
    private boolean _usesExternalZkClient = false; // false by default

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBucketDataAccessor.java`
#### Snippet
```java
  private final ZkBaseDataAccessor<byte[]> _zkBaseDataAccessor;
  private final Map<String, ScheduledFuture> _gcTaskFutureMap = new HashMap<>();
  private boolean _usesExternalZkClient = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java
      _callBackEventQueue;
  private final HelixManager _manager;
  private Future _futureCallBackProcessEvent = null;
  private ThreadPoolExecutor _threadPoolExecutor;
  private boolean _isShutdown = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java
  private Future _futureCallBackProcessEvent = null;
  private ThreadPoolExecutor _threadPoolExecutor;
  private boolean _isShutdown = false;

  public CallbackEventExecutor(HelixManager manager) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java

  // indicated whether this CallbackHandler is ready to serve event callback from ZkClient.
  private boolean _ready = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
  private final HelixManager _manager;
  private final PropertyKey _propertyKey;
  private boolean _batchModeEnabled = false;
  private boolean _preFetchEnabled = true;
  private HelixCallbackMonitor _monitor;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private GenericHelixController _controller;
  private Set<Pipeline.Type> _enabledPipelineTypes;
  private CallbackHandler _leaderElectionHandler = null;
  protected final List<HelixTimerTask> _controllerTimerTasks = new ArrayList<>();

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixManager.java`
#### Snippet
```java
  private ConfigAccessor _configAccessor;
  private ZkHelixPropertyStore<ZNRecord> _helixPropertyStore;
  protected LiveInstanceInfoProvider _liveInstanceInfoProvider = null;

  private volatile String _sessionId;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java

  public static class LeaderStandbyStateModel extends StateModel {
    int _transDelay = 0;
    String partitionName;
    String _instanceName = "";
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/OnlineOfflineStateModelFactory.java`
#### Snippet
```java

  public static class OnlineOfflineStateModel extends StateModel {
    int _transDelay = 0;
    String _instanceName = "";

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java

  public static class MasterSlaveStateModel extends StateModel {
    int _transDelay = 0;
    String partitionName;
    String _instanceName = "";
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
  // private StateMachineEngine genericStateMachineHandler;

  private String _file = null;
  private StateModelFactory<StateModel> stateModelFactory;
  private final int delay;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  List<Message> _messagesSent;
  protected final List<Message> _messageReplied = new ArrayList<Message>();
  boolean _timedOut = false;
  boolean _isInterrupted = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  protected final List<Message> _messageReplied = new ArrayList<Message>();
  boolean _timedOut = false;
  boolean _isInterrupted = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
  long _startTimeStamp = 0;
  protected long _timeout = -1;
  Timer _timer = null;
  List<Message> _messagesSent;
  protected final List<Message> _messageReplied = new ArrayList<Message>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java

  private static Logger _logger = LoggerFactory.getLogger(AsyncCallback.class);
  long _startTimeStamp = 0;
  protected long _timeout = -1;
  Timer _timer = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskResult.java`
#### Snippet
```java
  private String _info = "";
  private Map<String, String> _taskResultMap = new HashMap<String, String>();
  private boolean _interrupted = false;
  Exception _exception = null;
  private long _completeTime = -1;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskResult.java`
#### Snippet
```java
  private Map<String, String> _taskResultMap = new HashMap<String, String>();
  private boolean _interrupted = false;
  Exception _exception = null;
  private long _completeTime = -1;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
  HelixTaskExecutor _executor;
  volatile boolean _isTimeout = false;
  volatile boolean _isStarted = false;
  volatile boolean _isCancelled = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
  StatusUpdateUtil _statusUpdateUtil;
  HelixTaskExecutor _executor;
  volatile boolean _isTimeout = false;
  volatile boolean _isStarted = false;
  volatile boolean _isCancelled = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTask.java`
#### Snippet
```java
  volatile boolean _isTimeout = false;
  volatile boolean _isStarted = false;
  volatile boolean _isCancelled = false;

  public HelixTask(Message message, NotificationContext notificationContext,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java
  private final boolean _isTaskMessage;
  private final boolean _isTaskCurrentStatePathDisabled;
  volatile boolean _isTimeout = false;

  public HelixStateTransitionHandler(StateModelFactory<? extends StateModel> stateModelFactory,
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateComputationStage.java`
#### Snippet
```java
public class CurrentStateComputationStage extends AbstractBaseStage {
  private static Logger LOG = LoggerFactory.getLogger(CurrentStateComputationStage.class);
  private boolean _isTaskFrameworkPipeline = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  private final ScheduledExecutorService _periodicalRebalanceExecutor =
      Executors.newSingleThreadScheduledExecutor();
  private ScheduledFuture _periodicRebalanceFutureTask = null;
  long _timerPeriod = Long.MAX_VALUE;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  private final Map<AsyncWorkerType, DedupEventProcessor<String, Runnable>> _asyncFIFOWorkerPool;

  private long _continuousRebalanceFailureCount = 0;
  private long _continuousResourceRebalanceFailureCount = 0;
  private long _continuousTaskRebalanceFailureCount = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
   * The timer that triggers the on-demand rebalance pipeline.
   */
  Timer _onDemandRebalanceTimer = null;
  AtomicReference<RebalanceTask> _nextRebalanceTask = new AtomicReference<>();

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
   */
  private abstract class StatefulRebalancerRef<T extends StatefulRebalancer> {
    private T _rebalancer = null;
    private boolean _isRebalancerValid = true;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  private long _continuousRebalanceFailureCount = 0;
  private long _continuousResourceRebalanceFailureCount = 0;
  private long _continuousTaskRebalanceFailureCount = 0;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java

  private long _continuousRebalanceFailureCount = 0;
  private long _continuousResourceRebalanceFailureCount = 0;
  private long _continuousTaskRebalanceFailureCount = 0;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  // By default not reporting status until controller status is changed to activate
  // TODO This flag should be inside ClusterStatusMonitor. When false, no MBean registering.
  private boolean _isMonitoring = false;
  private final ClusterStatusMonitor _clusterStatusMonitor;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/stages/StateTransitionThrottleController.java`
#### Snippet
```java
  Map<String, Map<StateTransitionThrottleConfig.RebalanceType, Long>> _pendingTransitionAllowedPerResource;

  private boolean _throttleEnabled = false;

  StateTransitionThrottleController(Set<String> resources, ClusterConfig clusterConfig,
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
  // For computing intensive reporting logic
  private ExecutorService _reportExecutor;
  private Future _reportingTask = null;

  protected static final  String DEFAULT_PROPERTY_TYPE = "HELIX_DEFAULT_PROPERTY";
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/AssignmentMetadataStore.java`
#### Snippet
```java
  protected volatile Map<String, ResourceAssignment> _globalBaseline;
  protected volatile Map<String, ResourceAssignment> _bestPossibleAssignment;
  protected volatile int _bestPossibleVersion = 0;

  AssignmentMetadataStore(String metadataStoreAddrs, String clusterName) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithm.java`
#### Snippet
```java
  private static class AssignableReplicaWithScore implements Comparable<AssignableReplicaWithScore> {
    private final AssignableReplica _replica;
    private float _score = 0;
    private final boolean _isInBestPossibleAssignment;
    private final boolean _isInBaselineAssignment;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/ConsistentHashingAdjustmentAlgorithm.java`
#### Snippet
```java
  private final static JenkinsHash _hashFunction = new JenkinsHash();
  private final SortedMap<Long, Node> circle = new TreeMap<>();
  protected int instanceSize = 0;

  public ConsistentHashSelector(Set<Node> instances) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java
  // For detecting live instance and target resource partition state change in task assignment
  // Used in AbstractTaskDispatcher
  private boolean _existsLiveInstanceOrCurrentStateOrMessageChange = false;

  public WorkflowControllerDataProvider() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
  protected Map<Node, Node> _instanceFaultZone = new HashMap<>();
  protected Map<Node, Long> _instanceWeight = new HashMap<>();
  protected long _totalWeight = 0;
  protected Map<Node, Long> _faultZoneWeight = new HashMap<>();
  // Record existing partitions that are assigned to a fault zone
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/HelixAdminWebApp.java`
#### Snippet
```java
public class HelixAdminWebApp {
  public final Logger LOG = LoggerFactory.getLogger(HelixAdminWebApp.class);
  private RestAdminApplication _adminApp = null;
  private Component _component = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/HelixAdminWebApp.java`
#### Snippet
```java
  private final int _helixAdminPort;
  private final String _zkServerAddress;
  private ZkClient _zkClient = null;
  private ZkClient _rawZkClient = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/HelixAdminWebApp.java`
#### Snippet
```java
  public final Logger LOG = LoggerFactory.getLogger(HelixAdminWebApp.class);
  private RestAdminApplication _adminApp = null;
  private Component _component = null;

  private final int _helixAdminPort;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/HelixAdminWebApp.java`
#### Snippet
```java
  private final String _zkServerAddress;
  private ZkClient _zkClient = null;
  private ZkClient _rawZkClient = null;

  public HelixAdminWebApp(String zkServerAddress, int adminPort) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
    protected String _monitorType;
    protected String _monitorKey;
    protected String _monitorInstanceName = null;
    protected boolean _monitorRootPathOnly = true;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/client/ZkClient.java`
#### Snippet
```java
    String _monitorType;
    String _monitorKey;
    String _monitorInstanceName = null;
    boolean _monitorRootPathOnly = true;

```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkEventThread.java`
#### Snippet
```java

  private long _totalEventCount = 0L;
  private long _totalEventCountHandled = 0L;

  private static AtomicInteger _eventId = new AtomicInteger(0);
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkEventThread.java`
#### Snippet
```java
  private BlockingQueue<ZkEvent> _events = new LinkedBlockingQueue<>();

  private long _totalEventCount = 0L;
  private long _totalEventCountHandled = 0L;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkConnection.java`
#### Snippet
```java

  @VisibleForTesting
  protected ZooKeeper _zk = null;
  private Lock _zookeeperLock = new ReentrantLock();
  private Method _getChildrenMethod;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private AtomicLong _maxInstanceMsgQueueSize = new AtomicLong(0L);
  private AtomicLong _totalPastDueMsgSize = new AtomicLong(0L);
  private boolean _rebalanceFailure = false;
  private AtomicLong _rebalanceFailureCount = new AtomicLong(0L);
  private AtomicLong _continuousResourceRebalanceFailureCount = new AtomicLong(0L);
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java

  private boolean _enabled = true;
  private boolean _inMaintenance = false;
  private boolean _paused = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ClusterStatusMonitor.java`
#### Snippet
```java
  private boolean _enabled = true;
  private boolean _inMaintenance = false;
  private boolean _paused = false;

  private Set<String> _liveInstances = Collections.emptySet();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Worker.java`
#### Snippet
```java
  private final String _clusterName;
  private final String _instanceName;
  private HelixManager _manager = null;
  private final TaskFactory _taskFactory;
  private final TaskResultStore _taskResultStore;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskCluster.java`
#### Snippet
```java
  static final String DEFAULT_STATE_MODEL = "OnlineOffline";

  ZkClient _zkclient = null;
  ZKHelixAdmin _admin = null;
  private final String _clusterName;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskCluster.java`
#### Snippet
```java

  ZkClient _zkclient = null;
  ZKHelixAdmin _admin = null;
  private final String _clusterName;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
  private final String _clusterName;
  private final String _serverId;
  private HelixManager _manager = null;

  public FileStore(String zkAddr, String clusterName, String serverId) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ExternalCommand.java`
#### Snippet
```java
    private final InputStream _in;
    private final ByteArrayOutputStream _out;
    private boolean _running = false;

    InputReader(InputStream in) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    try {
      List<String> children = retryUntilConnected(new Callable<List<String>>() {
        private int connectionLossRetryCount = 0;

        @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    private final String _path;
    private Stat _stat = null;
    private boolean _checked = false;

    public ZkPathStatRecord(String path) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  private class ZkPathStatRecord {
    private final String _path;
    private Stat _stat = null;
    private boolean _checked = false;

```

## RuleId[id=RedundantImplements]
### RedundantImplements
Redundant interface declaration `HelixZkClient`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/factory/SharedZkClientFactory.java`
#### Snippet
```java
   * backward compatibility.
   */
  public static class InnerSharedZkClient extends ZkClient implements HelixZkClient {

    private final OnCloseCallback _onCloseCallback;
```

## RuleId[id=ExceptionNameDoesntEndWithException]
### ExceptionNameDoesntEndWithException
Exception class name `ZkMarshallingError` does not end with 'Exception'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/exception/ZkMarshallingError.java`
#### Snippet
```java
 */

public class ZkMarshallingError extends ZkException {

    private static final long serialVersionUID = 1L;
```

## RuleId[id=InstanceofCatchParameter]
### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java
      }

      if (e instanceof HelixRollbackException || (e.getCause() != null && e
          .getCause() instanceof HelixRollbackException)) {
        // TODO : Support cancel to any state
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java
        taskResult.setMessage(e.toString());
        taskResult.setException(e);
        taskResult.setInterrupted(e instanceof InterruptedException);
      }
    }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
            "Exception while executing {} pipeline for cluster {}. Will not continue to next pipeline",
            dataProvider.getPipelineName(), _clusterName, e);
        if (e instanceof HelixMetaDataAccessException) {
          helixMetaDataAccessRebalanceFail = true;
          // If pipeline failed due to read/write fails to zookeeper, retry the pipeline.
```

## RuleId[id=StringBufferReplaceableByStringBuilder]
### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `helix-core/src/main/java/org/apache/helix/model/ConstraintItem.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append(_attributes + ":" + _constraintValue);
    return sb.toString();
```

### StringBufferReplaceableByStringBuilder
`StringBuffer line` may be declared as 'StringBuilder'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
          continue;
        }
        StringBuffer line = new StringBuffer();
        SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd-hh:mm:ss:SSS");
        String date = dateFormat.format(new Date());
```

### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java

  private static void formatter(BufferedWriter bw, String... args) {
    StringBuffer sb = new StringBuffer();

    if (args.length == 0) {
```

### StringBufferReplaceableByStringBuilder
`StringBuffer addrStr` may be declared as 'StringBuilder'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java

    private static String ipToString(final byte[] bytes) {
        final StringBuffer addrStr = new StringBuffer();
        for (int cnt = 0; cnt < bytes.length; cnt++) {
            final int uByte = bytes[cnt] < 0 ? bytes[cnt] + 256 : bytes[cnt];
```

### StringBufferReplaceableByStringBuilder
`StringBuffer sb` may be declared as 'StringBuilder'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
  @Override
  public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append(id + ", ");
    if (simpleFields != null) {
```

## RuleId[id=FuseStreamOperations]
### FuseStreamOperations
Stream may be extended replacing 'toArray'
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
    topologyDef =
        Arrays.asList(topologyDefInConfig.split(DELIMITER)).stream().map(str -> str.trim())
            .filter(str -> !str.isEmpty()).collect(Collectors.toList()).toArray(new String[0]);
    if (topologyDef.length == 0) {
      throw new HelixException(String.format("The topology of cluster %s is not correctly defined",
```

## RuleId[id=ZeroLengthArrayInitialization]
### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
    }
    if (keys == null) {
      keys = new String[] {};
    }
    String template = null;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java

    _mBeanInfo = new MBeanInfo(getClass().getName(), description, attributesInfo,
        new MBeanConstructorInfo[]{constructorInfo}, new MBeanOperationInfo[0],
        new MBeanNotificationInfo[0]);

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/dynamicMBeans/DynamicMBeanProvider.java`
#### Snippet
```java
    _mBeanInfo = new MBeanInfo(getClass().getName(), description, attributesInfo,
        new MBeanConstructorInfo[]{constructorInfo}, new MBeanOperationInfo[0],
        new MBeanNotificationInfo[0]);

    // Update _attributeMap reference.
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/util/StringTemplate.java`
#### Snippet
```java
  public String instantiate(Enum type, String... keys) {
    if (keys == null) {
      keys = new String[] {};
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/model/ConfigScope.java`
#### Snippet
```java
    }

    String scopeStr = template.instantiate(curScope, keys.toArray(new String[0]));

    _clusterName = keys.get(0);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/model/HelixConfigScope.java`
#### Snippet
```java
    }

    _zkPath = template.instantiate(type, zkPathKeys.toArray(new String[0]));
    _mapKey = mapKey;
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
    topologyDef =
        Arrays.asList(topologyDefInConfig.split(DELIMITER)).stream().map(str -> str.trim())
            .filter(str -> !str.isEmpty()).collect(Collectors.toList()).toArray(new String[0]);
    if (topologyDef.length == 0) {
      throw new HelixException(String.format("The topology of cluster %s is not correctly defined",
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/model/builder/ConfigScopeBuilder.java`
#### Snippet
```java
  public ConfigScope build(ConfigScopeProperty scope, String clusterName, String... scopeKeys) {
    if (scopeKeys == null) {
      scopeKeys = new String[] {};
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonSerializer.java`
#### Snippet
```java
    }

    return new byte[] {};
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
          if (opeMap.containsKey(ope)) {
            try {
              _mbeanServer.invoke(beanName, ope, new Object[0], new String[0]);
              // System.out.println(ope+" invoked");
            } catch (Exception e) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
          if (opeMap.containsKey(ope)) {
            try {
              _mbeanServer.invoke(beanName, ope, new Object[0], new String[0]);
              // System.out.println(ope+" invoked");
            } catch (Exception e) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
  public boolean[] remove(List<String> paths, int options) {
    if (paths == null || paths.size() == 0) {
      return new boolean[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
      List<Stat> stats, int options) {
    if (paths == null || paths.size() == 0) {
      return new boolean[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
    if (paths == null || paths.size() == 0) {
      LOG.error("paths is null or empty");
      return new Stat[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `helix-lock/src/main/java/org/apache/helix/lock/helix/HelixLockScope.java`
#### Snippet
```java
              + pathKeys);
    }
    _path = template.instantiate(type, pathKeys.toArray(new String[0]));
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogGenerator.java`
#### Snippet
```java
    String[] list = file.list();
    if (list == null) {
      list = new String[] {};
    }
    int max = 1;
```

## RuleId[id=RedundantStringFormatCall]
### RedundantStringFormatCall
Redundant call to `format()`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/zookeeper/ZooKeeperAccessor.java`
#### Snippet
```java
      // TODO: instance. It is risky to allow all deleting requests before audit and ACL are done.
      throw new WebApplicationException(Response.status(Response.Status.FORBIDDEN)
          .entity(String.format("Deleting a non-ephemeral node is not allowed.")).build());
    }

```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java
      ClusterConfig clusterConfig = new ConfigAccessor(_zkClient).getClusterConfig(dataCache.getClusterName());
      if (!clusterConfig.isPersistBestPossibleAssignment() && !clusterConfig.isPersistIntermediateAssignment()) {
        throw new HelixException(String.format("Full-Auto IdealState verifier requires "
            + "ClusterConfig.PERSIST_BEST_POSSIBLE_ASSIGNMENT or ClusterConfig.PERSIST_INTERMEDIATE_ASSIGNMENT "
            + "is enabled."));
```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void rebalanceUtilUsageWithZkBasedDataProvider() {
    System.out.println(String.format("Start rebalancing using WeightAwareRebalanceUtil and ZK based Capacity/Weight data providers for %d resources.", nResources));

    // Init a zkserver & cluster nodes for this example
```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
    ExampleHelper.stopZkServer(zkServer);

    System.out.println(String.format("Finished rebalancing using WeightAwareRebalanceUtil and ZK based Capacity/Weight data providers for %d resources.", nResources));
    printAssignmentInfo(assignment);
  }
```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void rebalanceWithFaultZone() {
    System.out.println(String.format("Start rebalancing using WeightAwareRebalanceUtil for %d resources in a topology aware cluster.", nResources));

    /**
```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
      config.setDomain(domainStr);
      instanceConfigs.add(config);
      System.out.println(String.format("Set instance %s domain to be %s.", instance, domainStr));
    }

```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
        Collections.<AbstractRebalanceSoftConstraint>singletonList(evenConstraint));

    System.out.println(String.format("Finished rebalancing using WeightAwareRebalanceUtil for %d resources in a topology aware cluster with %d fault zones.", nResources, nParticipants / 3));
    printAssignmentInfo(assignment);
  }
```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java

  private static void rebalanceUtilUsage() {
    System.out.println(String.format("Start rebalancing using WeightAwareRebalanceUtil for %d resources.", nResources));

    /**
```

### RedundantStringFormatCall
Redundant call to `format()`
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java
        Collections.<AbstractRebalanceHardConstraint>singletonList(capacityConstraint),
        Collections.<AbstractRebalanceSoftConstraint>singletonList(evenConstraint));
    System.out.println(String.format("Finished rebalancing using WeightAwareRebalanceUtil for %d resources.", nResources));
    printAssignmentInfo(assignment);
  }
```

## RuleId[id=TypeParameterExtendsObject]
### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-core/src/main/java/org/apache/helix/api/cloud/CloudInstanceInformationProcessor.java`
#### Snippet
```java
 * Generic interface to fetch and parse cloud instance information
 */
public interface CloudInstanceInformationProcessor<T extends Object> {

  /**
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> List<T> convertMapToList(Map<String, T> map) {
    List<T> list = new ArrayList<T>();
    for (T t : map.values()) {
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> Map<String, T> convertListToTypedMap(List<ZNRecord> recordList,
      Class<T> clazz) {
    Map<String, T> map = new HashMap<String, T>();
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-core/src/main/java/org/apache/helix/util/ZNRecordUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> List<T> convertListToTypedList(List<ZNRecord> recordList,
      Class<T> clazz) {
    List<T> list = new ArrayList<T>();
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterEvent.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T getAttribute(String attrName) {
    return getAttributeWithDefault(attrName, null);
  }
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterEvent.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T getAttributeWithDefault(String attrName, T defaultVal) {
    Object ret = _eventAttributeMap.get(attrName);
    return ret == null ? defaultVal : (T) ret;
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> T getFormJsonParameters(Class<T> clazz, Form form, String key)
      throws JsonParseException, JsonMappingException, IOException {
    return JsonToObject(clazz, form.getFirstValue(key, true));
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
  }

  public static <T extends Object> T JsonToObject(Class<T> clazz, String jsonString)
      throws JsonParseException, JsonMappingException, IOException {
    StringReader sr = new StringReader(jsonString);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  byte[] serialize(Object data, String path);

  <T extends Object> T deserialize(byte[] data, String path);

  void setZkSerializer(ZkSerializer zkSerializer);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  <T extends Object> T readData(final String path, final Stat stat, final boolean watch);

  <T extends Object> T readDataAndStat(String path, Stat stat, boolean returnNullIfPathNotExists);

  void writeData(String path, Object object);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  void writeData(String path, Object object);

  <T extends Object> void updateDataSerialized(String path, DataUpdater<T> updater);

  void writeData(final String path, Object datat, final int expectedVersion);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  <T extends Object> T readData(String path, boolean returnNullIfPathNotExists);

  <T extends Object> T readData(String path, Stat stat);

  <T extends Object> T readData(final String path, final Stat stat, final boolean watch);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  <T extends Object> T readData(String path);

  <T extends Object> T readData(String path, boolean returnNullIfPathNotExists);

  <T extends Object> T readData(String path, Stat stat);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  boolean delete(final String path);

  <T extends Object> T readData(String path);

  <T extends Object> T readData(String path, boolean returnNullIfPathNotExists);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/RealmAwareZkClient.java`
#### Snippet
```java
  <T extends Object> T readData(String path, Stat stat);

  <T extends Object> T readData(final String path, final Stat stat, final boolean watch);

  <T extends Object> T readDataAndStat(String path, Stat stat, boolean returnNullIfPathNotExists);
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/DataUpdater.java`
#### Snippet
```java
 * @param <T>
 */
public interface DataUpdater<T extends Object> {

    /**
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T readDataAndStat(String path, Stat stat,
      boolean returnNullIfPathNotExists) {
    T data = null;
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
   */
  @SuppressWarnings("unchecked")
  public <T extends Object> void updateDataSerialized(String path, DataUpdater<T> updater) {
    Stat stat = new Stat();
    boolean retry;
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T deserialize(byte[] data, String path) {
    if (data == null) {
      return null;
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T readData(String path, boolean returnNullIfPathNotExists) {
    T data = null;
    try {
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T readData(String path) {
    return (T) readData(path, false);
  }
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T readData(final String path, final Stat stat, final boolean watch) {
    long startT = System.currentTimeMillis();
    byte[] data = null;
```

### TypeParameterExtendsObject
Type parameter `T` explicitly extends 'java.lang.Object'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public <T extends Object> T readData(String path, Stat stat) {
    return (T) readData(path, stat, hasListeners(path));
  }
```

## RuleId[id=ConstantValue]
### ConstantValue
Condition `!entry.getKey().equals(WorkflowConfig.WorkflowConfigProperty.Dag)` is always `true`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java`
#### Snippet
```java
  private void getWorkflowConfigNode(ObjectNode workflowConfigNode, ZNRecord record) {
    for (Map.Entry<String, String> entry : record.getSimpleFields().entrySet()) {
      if (!entry.getKey().equals(WorkflowConfig.WorkflowConfigProperty.Dag)) {
        workflowConfigNode.put(entry.getKey(), JsonNodeFactory.instance.textNode(entry.getValue()));
      }
```

### ConstantValue
Result of `entry.getKey().equals(WorkflowConfig.WorkflowConfigProperty.Dag)` is always 'false'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java`
#### Snippet
```java
  private void getWorkflowConfigNode(ObjectNode workflowConfigNode, ZNRecord record) {
    for (Map.Entry<String, String> entry : record.getSimpleFields().entrySet()) {
      if (!entry.getKey().equals(WorkflowConfig.WorkflowConfigProperty.Dag)) {
        workflowConfigNode.put(entry.getKey(), JsonNodeFactory.instance.textNode(entry.getValue()));
      }
```

### ConstantValue
Condition `inputFields.healthCheckConfig != null` is always `true`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
        .getMapFromJsonPayload(node.get(PerInstanceProperties.health_check_config.name()));

    if (inputFields.healthCheckConfig != null) {
      if (inputFields.healthCheckConfig.containsKey(continueOnFailuresName)) {
        inputFields.nonBlockingHelixCheck = new HashSet<String>(MaintenanceManagementService
```

### ConstantValue
Condition `inputFields.operationConfig != null` is always `true`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    inputFields.operationConfig = MaintenanceManagementService
        .getMapFromJsonPayload(node.get(PerInstanceProperties.operation_config.name()));
    if (inputFields.operationConfig != null && inputFields.operationConfig
        .containsKey(performOperation)) {
      inputFields.performOperation =
```

### ConstantValue
Condition `timeout <= 0` is always `false`
in `helix-core/src/main/java/org/apache/helix/ExternalCommand.java`
#### Snippet
```java
    _err.join(timeout);
    // timeout -= c.tick();
    if (timeout <= 0)
      throw new TimeoutException("Wait timed out");

```

### ConstantValue
Condition `version1Splits == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/HelixManagerProperties.java`
#### Snippet
```java
    String[] version2Splits = version2.split("(\\.|-)");

    if (version1Splits == null || version1Splits.length == 0 || version2Splits == null
        || version2Splits.length == 0) {
      LOG.warn("fail to compare versions. version1: " + version1 + ", version2: " + version2);
```

### ConstantValue
Condition `version2Splits == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/HelixManagerProperties.java`
#### Snippet
```java
    String[] version2Splits = version2.split("(\\.|-)");

    if (version1Splits == null || version1Splits.length == 0 || version2Splits == null
        || version2Splits.length == 0) {
      LOG.warn("fail to compare versions. version1: " + version1 + ", version2: " + version2);
```

### ConstantValue
Condition `taskCtx != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/task/FixedTargetTaskAssignmentCalculator.java`
#### Snippet
```java
      } else {
        LOG.warn("Missing target resource for the scheduled job {}!",
            taskCtx != null ? taskCtx.getName() : "null");
      }
    }
```

### ConstantValue
Condition `c > '\u0000'` is always `true`
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
          break;
        }
      } else if (c > '\u0000' && c <= '\u001f' || c >= '\u007f' && c <= '\u009F' || c >= '\ud800'
          && c <= '\uf8ff' || c >= '\ufff0' && c <= '\uffff') {
        reason = "invalid charater @" + i;
```

### ConstantValue
Condition `c <= '\uffff'` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
        }
      } else if (c > '\u0000' && c <= '\u001f' || c >= '\u007f' && c <= '\u009F' || c >= '\ud800'
          && c <= '\uf8ff' || c >= '\ufff0' && c <= '\uffff') {
        reason = "invalid charater @" + i;
        break;
```

### ConstantValue
Condition `true || clusterConfig == null` is always `true`
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
    // TODO: batch enable/disable in cluster config is breaking backward compatibility with older library
    // re-enable once batch enable/disable is ready
    if (true || clusterConfig == null) {
      return enabledInInstanceConfig;
    }
```

### ConstantValue
Condition `message.getMsgType().equals(MessageType.STATE_TRANSITION)` is always `false`
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java

  private String getRecordIdForMessage(Message message) {
    if (message.getMsgType().equals(MessageType.STATE_TRANSITION)) {
      return message.getPartitionName() + " Trans:" + message.getFromState().charAt(0) + "->"
          + message.getToState().charAt(0) + "  " + UUID.randomUUID().toString();
```

### ConstantValue
Condition `jobTgtState != TargetState.DELETE` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
            break;
          } else if (jobState == TaskState.IN_PROGRESS
              && (jobTgtState != TargetState.STOP && jobTgtState != TargetState.DELETE)) {
            // Job is in progress, implying that tasks are being re-tried, so set it to RUNNING
            paMap.put(pId,
```

### ConstantValue
Condition `_targetResource == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
        }
        // Check number of task is set when Job command is not null and none taskconfig specified
        if (_targetResource == null && _numberOfTasks == 0) {
          throw new IllegalArgumentException(
              String.format("Job %s, Either targetResource or numberOfTask should be set", _jobId));
```

### ConstantValue
Condition `_targetResource == null && _numberOfTasks == 0` is always `false`
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
        }
        // Check number of task is set when Job command is not null and none taskconfig specified
        if (_targetResource == null && _numberOfTasks == 0) {
          throw new IllegalArgumentException(
              String.format("Job %s, Either targetResource or numberOfTask should be set", _jobId));
```

### ConstantValue
Value `_constraintValue` is always 'null'
in `helix-core/src/main/java/org/apache/helix/model/builder/ConstraintItemBuilder.java`
#### Snippet
```java
          ConstraintValue.valueOf(value);
          if (_constraintValue == null) {
            LOG.info("overwrite existing constraint-value. old-value: " + _constraintValue
                + ", new-value: " + value);
          }
```

### ConstantValue
Value `_constraintValue` is always 'null'
in `helix-core/src/main/java/org/apache/helix/model/builder/ConstraintItemBuilder.java`
#### Snippet
```java
            Integer.parseInt(value);
            if (_constraintValue == null) {
              LOG.info("overwrite existing constraint-value. old-value: " + _constraintValue
                  + ", new-value: " + value);
            }
```

### ConstantValue
Condition `disabledPartitionList != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    }

    if (disabledPartitionList != null && !disabledPartitionList.isEmpty()) {
      currentDisabled.put(resourceName, HelixUtil.serializeByComma(disabledPartitionList));
    } else {
```

### ConstantValue
Condition `arg1 != null` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonComparator.java`
#### Snippet
```java
    if (arg0 == null && arg1 == null) {
      return 0;
    } else if (arg0 == null && arg1 != null) {
      return -1;
    } else if (arg0 != null && arg1 == null) {
```

### ConstantValue
Condition `arg0 != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/store/PropertyJsonComparator.java`
#### Snippet
```java
    } else if (arg0 == null && arg1 != null) {
      return -1;
    } else if (arg0 != null && arg1 == null) {
      return 1;
    } else {
```

### ConstantValue
Condition `wf != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java
    Builder workflowBuilder = new Builder(wf.name);

    if (wf != null && wf.jobs != null) {
      for (JobBean job : wf.jobs) {
        if (job.name == null) {
```

### ConstantValue
Condition `expectList != null` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    if (actualList == null && expectList == null) {
      ret = true;
    } else if (actualList == null && expectList != null) {
      ret = false;
      if (diff != null) {
```

### ConstantValue
Condition `actualList != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        diff.setListField(key + "/expect", expectList);
      }
    } else if (actualList != null && expectList == null) {
      ret = false;
      if (diff != null) {
```

### ConstantValue
Condition `expect != null` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    if (actual == null && expect == null) {
      ret = true;
    } else if (actual == null && expect != null) {
      ret = false;
      if (diff != null) {
```

### ConstantValue
Condition `actual != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        setZNRecord(diff, expect, "expect");
      }
    } else if (actual != null && expect == null) {
      ret = false;
      if (diff != null) {
```

### ConstantValue
Value `result` is always 'true'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            result = true;
            _command._finishTimestamp = System.currentTimeMillis();
            logger.info("result:" + result + ", " + _command.toString());
            _testResults.put(_command, true);
            break;
```

### ConstantValue
Value `result` is always 'true'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            result = true;
            _command._finishTimestamp = System.currentTimeMillis();
            logger.info("result:" + result + ", " + _command.toString());
            _testResults.put(_command, true);
            break;
```

### ConstantValue
Value `result` is always 'false'
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        if (result == false) {
          _command._finishTimestamp = System.currentTimeMillis();
          logger.error("result:" + result + ", diff: " + diff);
        }
        _countDown.countDown();
```

### ConstantValue
Condition `expectMap != null` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    if (actualMap == null && expectMap == null) {
      ret = true;
    } else if (actualMap == null && expectMap != null) {
      ret = false;
      if (diff != null) {
```

### ConstantValue
Condition `actualMap != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
        diff.setMapField(mapKey + "/expect", expectMap);
      }
    } else if (actualMap != null && expectMap == null) {
      ret = false;
      if (diff != null) {
```

### ConstantValue
Condition `cmd != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
    IntegrationTestUtil util = new IntegrationTestUtil(zkClient, timeoutValue);

    if (cmd != null) {
      if (cmd.hasOption(verifyExternalView)) {
        String[] args = cmd.getOptionValues(verifyExternalView);
```

### ConstantValue
Condition `constraints != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/YAMLClusterSetup.java`
#### Snippet
```java
    // Build a helper for transition priorities
    Map<String, Integer> transitionPriorities = new HashMap<String, Integer>();
    if (constraints != null && constraints.transition != null
        && constraints.transition.priorityList != null) {
      int transitionPriority = 0;
```

### ConstantValue
Condition `zkDataDirs == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

    // parse zk data files
    if (zkDataDirs == null || zkDataDirs[0] == null || zkDataDirs[1] == null) {
      LOG.error("invalid zkCfgDir: " + zkCfgDirValue);
      System.exit(1);
```

### ConstantValue
Condition `parts != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

    String[] parts = line.split("\\s");
    if (parts != null && parts.length > 0) {
      for (int i = 0; i < parts.length; i++) {
        if (parts[i].startsWith(attribute)) {
```

### ConstantValue
Condition `parts != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
  private static String getAttributeValue(String line, String attribute) {
    String[] parts = line.split("\\s");
    if (parts != null && parts.length > 0) {
      for (int i = 0; i < parts.length; i++) {
        if (parts[i].startsWith(attribute)) {
```

### ConstantValue
Condition `map2 != null` is always `true` when reached
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      if (map1 == null && map2 == null) {
        // OK
      } else if (map1 == null && map2 != null) {
        if (!map2.isEmpty()) {
          isEqual = false;
```

### ConstantValue
Condition `map1 != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
          isEqual = false;
        }
      } else if (map1 != null && map2 == null) {
        if (!map1.isEmpty()) {
          isEqual = false;
```

### ConstantValue
Condition `result instanceof Void` is always `false` when reached
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java`
#### Snippet
```java
      taskResult.setSuccess(true);
      String resultStr;
      if (result == null || result instanceof Void) {
        resultStr = "";
      } else {
```

### ConstantValue
Condition `item != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java

    // reset state-model
    if (item != null) {
      item.factory().reset();
    }
```

### ConstantValue
Condition `changeType.equals(HelixConstants.ChangeType.MESSAGES_CONTROLLER)` is always `true`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
      if (changeType.equals(HelixConstants.ChangeType.MESSAGE)) {
        keys.add(keyBuilder.message(instanceName, messageId));
      } else if (changeType.equals(HelixConstants.ChangeType.MESSAGES_CONTROLLER)) {
        keys.add(keyBuilder.controllerMessage(messageId));
      }
```

### ConstantValue
Condition is always true
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    // TODO: batch enable/disable is breaking backward compatibility on instance enable with older library
    // re-enable once batch enable/disable is ready
    if (true) {
      throw new HelixException("Batch enable/disable is not supported");
    }
```

### ConstantValue
Condition `currentIdealState == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    logger.info("Rebalance resource {} in cluster {} with IdealState {}.",
        currentIdealState.getResourceName(), clusterName,
        currentIdealState == null ? "NULL" : currentIdealState.toString());
    Set<String> activeInstances = new HashSet<String>();
    for (String partition : currentIdealState.getPartitionSet()) {
```

### ConstantValue
Condition is always true
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    // TODO: batch enable/disable is breaking backward compatibility on instance enable with older library
    // re-enable once batch enable/disable is ready
    if (true) {
      throw new HelixException("enableBatchInstances is not supported.");
    }
```

### ConstantValue
Condition `intermediateAssignment != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/controller/stages/TargetExteralViewCalcStage.java`
#### Snippet
```java
        }

        if (intermediateAssignment != null && !targetExternalView.getRecord().getMapFields()
            .equals(intermediateAssignment)) {
          targetExternalView.getRecord().setMapFields(intermediateAssignment);
```

### ConstantValue
Condition `cache == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/controller/stages/CustomizedStateComputationStage.java`
#### Snippet
```java
    Set<String> aggregationEnabledTypes = cache.getAggregationEnabledCustomizedStateTypes();

    if (cache == null || resourceMap == null) {
      throw new StageException(
          "Missing attributes in event:" + event + ". Requires DataCache|RESOURCE");
```

### ConstantValue
Value `rebalancer` is always 'null'
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
    if (rebalancer == null) {
      LogUtil.logError(logger, _eventId, "Error computing assignment for resource " + resourceName
          + ". no rebalancer found. rebalancer: " + rebalancer + " mappingCalculator: "
          + mappingCalculator);
    } else {
```

### ConstantValue
Condition `changeContext == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      _dataCache.setClusterEventId(event.getEventId());

      if (changeContext == null || changeContext.getType() != NotificationContext.Type.CALLBACK) {
        _dataCache.requireFullRefresh();
      } else {
```

### ConstantValue
Condition `cache == null` is always `false`
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageDispatchStage.java`
#### Snippet
```java
    Map<String, LiveInstance> liveInstanceMap = cache.getLiveInstances();

    if (manager == null || resourceMap == null || messageOutput == null || cache == null
        || liveInstanceMap == null) {
      throw new StageException("Missing attributes in event:" + event
```

### ConstantValue
Value `pauseSignal` is always 'null'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ManagementModeStage.java`
#### Snippet
```java
      // TODO: Should check maintenance mode after it's moved to management pipeline.
      type = ClusterManagementMode.Type.NORMAL;
      if (HelixUtil.inManagementMode(pauseSignal, liveInstanceMap, enabledLiveInstances,
          allInstanceMessages)) {
        status = ClusterManagementMode.Status.IN_PROGRESS;
```

### ConstantValue
Condition `hasMatchingRule` is always `false`
in `helix-core/src/main/java/org/apache/helix/controller/stages/ResourceValidationStage.java`
#### Snippet
```java
          Map<String, String> rule = idealStateRuleMap.get(ruleName);
          boolean matches = idealStateMatchesRule(idealState, rule);
          hasMatchingRule = hasMatchingRule || matches;
          if (matches) {
            break;
```

### ConstantValue
Condition `resource != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java
      final PropertyKey.Builder keyBuilder) {
    String resourceId = resource.getResourceName();
    if (resource != null) {
      final IdealState idealState = cache.getIdealState(resourceId);
      if (idealState == null) {
```

### ConstantValue
Value `context` is always 'null'
in `helix-core/src/main/java/org/apache/helix/controller/pipeline/Pipeline.java`
#### Snippet
```java
    _stages.add(stage);
    StageContext context = null;
    stage.init(context);
  }

```

### ConstantValue
Value `_eventThread` is always 'null'
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

      if (_eventThread == null) {
        LOG.warn(_eventThread + " has already stopped");
        return;
      }
```

### ConstantValue
Condition `weight == InstanceConfig.WEIGHT_NOT_SET` is always `false` when reached
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java
            computeInstanceTopologyMapHelper(_clusterTopologyConfig, instanceName, insConfig, null);
        int weight = insConfig.getWeight();
        if (weight < 0 || weight == InstanceConfig.WEIGHT_NOT_SET) {
          weight = DEFAULT_NODE_WEIGHT;
        }
```

### ConstantValue
Condition `methods != null` is always `true`
in `helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModelParser.java`
#### Snippet
```java
    if (stateModelInfo != null) {
      Method[] methods = clazz.getMethods();
      if (methods != null) {
        for (Method method : methods) {
          Transition annotation = method.getAnnotation(Transition.class);
```

### ConstantValue
Condition `zkConnectionManager == null` is always `false`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/impl/factory/SharedZkClientFactory.java`
#### Snippet
```java
      final ZkConnectionManager zkConnectionManager =
          getOrCreateZkConnectionManager(connectionConfig, clientConfig.getConnectInitTimeout());
      if (zkConnectionManager == null) {
        throw new ZkClientException("Failed to create a connection manager in the pool to share.");
      }
```

### ConstantValue
Condition `lockProcess != null` is always `true`
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
            } catch (InterruptedException e) {
              System.out.println(instanceName + "Interrupted");
              if (lockProcess != null) {
                lockProcess.stop();
              }
```

### ConstantValue
Condition `manager != null` is always `true`
in `helix-agent/src/main/java/org/apache/helix/agent/HelixAgentMain.java`
#### Snippet
```java
      LOG.error(e.toString());
    } finally {
      if (manager != null && manager.isConnected()) {
        manager.disconnect();
      }
```

### ConstantValue
Condition `_manager != null` is always `true`
in `helix-agent/src/main/java/org/apache/helix/agent/HelixAgentMain.java`
#### Snippet
```java
    public void run() {
      LOG.info("HelixAgentShutdownHook invoked. agent: " + _manager.getInstanceName());
      if (_manager != null && _manager.isConnected())
        _manager.disconnect();
    }
```

### ConstantValue
Condition `zkclient != null` is always `false`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
      store.connect();
    } finally {
      if (zkclient != null) {
        zkclient.close();
      }
```

### ConstantValue
Condition `timeout <= 0` is always `false`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ExternalCommand.java`
#### Snippet
```java
    _err.join(timeout);
    // timeout -= c.tick();
    if (timeout <= 0)
      throw new TimeoutException("Wait timed out");

```

### ConstantValue
Condition `connection != null` is always `true`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
       * throw ZkInterruptedException and skip ZkConnection#close()
       */
      if (connection != null) {
        try {
          /**
```

### ConstantValue
Value `createParents` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      }
      String parentDir = path.substring(0, path.lastIndexOf('/'));
      createContainer(parentDir, createParents, acl);
      createContainer(path, createParents, acl);
    }
```

### ConstantValue
Value `createParents` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      String parentDir = path.substring(0, path.lastIndexOf('/'));
      createContainer(parentDir, createParents, acl);
      createContainer(path, createParents, acl);
    }
  }
```

### ConstantValue
Value `createParents` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      }
      String parentDir = path.substring(0, path.lastIndexOf('/'));
      createPersistent(parentDir, createParents, acl);
      createPersistent(path, createParents, acl);
    }
```

### ConstantValue
Value `createParents` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      String parentDir = path.substring(0, path.lastIndexOf('/'));
      createPersistent(parentDir, createParents, acl);
      createPersistent(path, createParents, acl);
    }
  }
```

### ConstantValue
Value `children` is always 'null'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      unsubscribeChildChanges(path, listener);
      LOG.info("zkclient{}, watchForChilds failed to install no-existing watch and add listener. Path: {}", _uid, path);
      return new ChildrenSubscribeResult(children, false);
    }

```

### ConstantValue
Value `createParents` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      }
      String parentDir = path.substring(0, path.lastIndexOf('/'));
      createPersistentWithTTL(parentDir, createParents, acl, ttl);
      createPersistentWithTTL(path, createParents, acl, ttl);
    }
```

### ConstantValue
Value `createParents` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      String parentDir = path.substring(0, path.lastIndexOf('/'));
      createPersistentWithTTL(parentDir, createParents, acl, ttl);
      createPersistentWithTTL(path, createParents, acl, ttl);
    }
  }
```

### ConstantValue
Value `prefetchEnabled` is always 'true'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
        if (LOG.isDebugEnabled()) {
          LOG.debug("zkclient {} subscribed data changes for {}, listener {}, prefetch data {}",
              _uid, path, listener, prefetchEnabled);
        }
      }
```

## RuleId[id=StringConcatenationInsideStringBufferAppend]
### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/model/ConstraintItem.java`
#### Snippet
```java
  public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append(_attributes + ":" + _constraintValue);
    return sb.toString();
  }
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
    sb.append("path").append(fieldDelim).append(pair._path).append(fieldSep);
    sb.append("session").append(fieldDelim)
        .append("0x" + Long.toHexString(head.stat.getEphemeralOwner())).append(fieldSep);
    sb.append("czxid").append(fieldDelim).append("0x" + Long.toHexString(head.stat.getCzxid()))
        .append(fieldSep);
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
    sb.append("session").append(fieldDelim)
        .append("0x" + Long.toHexString(head.stat.getEphemeralOwner())).append(fieldSep);
    sb.append("czxid").append(fieldDelim).append("0x" + Long.toHexString(head.stat.getCzxid()))
        .append(fieldSep);
    sb.append("ctime").append(fieldDelim).append(head.stat.getCtime()).append(fieldSep);
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
    sb.append("ctime").append(fieldDelim).append(head.stat.getCtime()).append(fieldSep);
    sb.append("mtime").append(fieldDelim).append(head.stat.getMtime()).append(fieldSep);
    sb.append("cmzxid").append(fieldDelim).append("0x" + Long.toHexString(head.stat.getMzxid()))
        .append(fieldSep);
    sb.append("pzxid").append(fieldDelim).append("0x" + Long.toHexString(head.stat.getPzxid()))
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
    sb.append("cmzxid").append(fieldDelim).append("0x" + Long.toHexString(head.stat.getMzxid()))
        .append(fieldSep);
    sb.append("pzxid").append(fieldDelim).append("0x" + Long.toHexString(head.stat.getPzxid()))
        .append(fieldSep);
    sb.append("aversion").append(fieldDelim).append(head.stat.getAversion()).append(fieldSep);
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
        SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd-hh:mm:ss:SSS");
        String date = dateFormat.format(new Date());
        line.append(date + " ");
        line.append(beanName.toString() + " ");

```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
        String date = dateFormat.format(new Date());
        line.append(date + " ");
        line.append(beanName.toString() + " ");

        MBeanAttributeInfo[] infos = info.getAttributes();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
            if (infoMap.containsKey(outputField)) {
              Object mbeanAttributeValue = _mbeanServer.getAttribute(beanName, outputField);
              line.append(mbeanAttributeValue.toString() + " ");
            } else {
              _logger.warn(outputField + " not found");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
      StringBuilder sb = new StringBuilder();
      for (Message message : messages) {
        sb.append(message.getMsgId() + ",");
      }
      LOG.info(
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
    for (String taskId : _taskMap.keySet()) {
      MessageTaskInfo info = _taskMap.get(taskId);
      sb.append("Task: " + taskId + " fails to terminate. Message: " + info._task.getMessage() + "\n");
    }

```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `helix-core/src/main/java/org/apache/helix/controller/stages/ClusterEvent.java`
#### Snippet
```java
    StringBuilder sb = new StringBuilder();
    sb.append(String.format("Event id : %s", _eventId));
    sb.append("name:" + _eventType.name()).append("\n");
    for (String key : _eventAttributeMap.keySet()) {
      sb.append(key).append(":").append(_eventAttributeMap.get(key)).append("\n");
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuffer.append()` call
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/datamodel/ZNRecord.java`
#### Snippet
```java
  public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append(id + ", ");
    if (simpleFields != null) {
      sb.append(simpleFields);
```

## RuleId[id=IOResource]
### IOResource
'TcclAwareObjectIputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/serialize/SerializableSerializer.java`
#### Snippet
```java
    public Object deserialize(byte[] bytes) throws ZkMarshallingError {
        try {
            ObjectInputStream inputStream = new TcclAwareObjectIputStream(new ByteArrayInputStream(bytes));
            Object object = inputStream.readObject();
            return object;
```

### IOResource
'RandomAccessFile' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
        }
      }
      RandomAccessFile raf = new RandomAccessFile(changeLogDir + "/" + fileName, "r");
      raf.seek(endOffset);
      // out.writeLong(record.txid);
```

## RuleId[id=FieldMayBeStatic]
### FieldMayBeStatic
Field `_emmReason` may be 'static'
in `helix-core/src/main/java/org/apache/helix/cloud/event/helix/DefaultCloudEventCallbackImpl.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(DefaultCloudEventCallbackImpl.class);
  private final String _instanceReason = "Cloud event in DefaultCloudEventCallback at %s";
  private final String _emmReason = "Cloud event EMM in DefaultCloudEventCallback by %s at %s";

  /**
```

### FieldMayBeStatic
Field `_instanceReason` may be 'static'
in `helix-core/src/main/java/org/apache/helix/cloud/event/helix/DefaultCloudEventCallbackImpl.java`
#### Snippet
```java
public class DefaultCloudEventCallbackImpl {
  private static final Logger LOG = LoggerFactory.getLogger(DefaultCloudEventCallbackImpl.class);
  private final String _instanceReason = "Cloud event in DefaultCloudEventCallback at %s";
  private final String _emmReason = "Cloud event EMM in DefaultCloudEventCallback by %s at %s";

```

### FieldMayBeStatic
Field `SEED_PARAM` may be 'static'
in `helix-core/src/main/java/org/apache/helix/tools/RUSHrHash.java`
#### Snippet
```java
   * @var integer value used to help seed the random number generator
   */
  protected final int SEED_PARAM = 1560;

  /**
```

### FieldMayBeStatic
Field `MAX_ITERATION` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
  private LinkedHashMap<String, Integer> _stateCountMap;

  private final int MAX_ITERATION = 3;

  @Override
```

### FieldMayBeStatic
Field `INIT_RETRY_INTERVAL` may be 'static'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/util/ExponentialBackoffStrategy.java`
#### Snippet
```java

public class ExponentialBackoffStrategy {
  private final long INIT_RETRY_INTERVAL = 500;
  private final long _maxRetryInterval;
  private final boolean _addJitter;
```

## RuleId[id=Java8MapForEach]
### Java8MapForEach
Can be replaced with 'Map.forEach()'
in `helix-core/src/main/java/org/apache/helix/api/topology/ClusterTopology.java`
#### Snippet
```java
    Map<String, TrieNode> children = startNode.getChildren();
    Map<String, List<String>> results = new HashMap<>();
    children.entrySet().forEach(child -> {
      results.put(startNode.getPath() + DELIMITER + child.getKey(),
          truncatePath(_trieClusterTopology.getPathUnderNode(child.getValue()),
```

### Java8MapForEach
Can be replaced with 'Map.forEach()'
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
    TrieNode rootNode = new TrieNode("", "ROOT");
    Map<String, Map<String, String>> instanceDomainsMap = new HashMap<>();
    instanceConfigMap.entrySet().forEach(
        entry -> instanceDomainsMap.put(entry.getKey(), entry.getValue().getDomainAsMap()));

```

## RuleId[id=UtilityClassWithoutPrivateConstructor]
### UtilityClassWithoutPrivateConstructor
Class `RestSystemPropertyKeys` has only 'static' members, and lacks a 'private' constructor
in `helix-rest/src/main/java/org/apache/helix/rest/common/RestSystemPropertyKeys.java`
#### Snippet
```java
 */

public class RestSystemPropertyKeys {
  // System property for REST HTTP request timeout
  public static final String REST_HTTP_TIMEOUT_MS = "rest.http.timeout.ms";
```

### UtilityClassWithoutPrivateConstructor
Class `HttpConstants` has only 'static' members, and lacks a 'private' constructor
in `helix-rest/src/main/java/org/apache/helix/rest/common/HttpConstants.java`
#### Snippet
```java
 */

public class HttpConstants {
  public enum RestVerbs {
    GET,
```

### UtilityClassWithoutPrivateConstructor
Class `HelixRestUtils` has only 'static' members, and lacks a 'private' constructor
in `helix-rest/src/main/java/org/apache/helix/rest/common/HelixRestUtils.java`
#### Snippet
```java
 */

public class HelixRestUtils {
  /**
   * Extract namespace information from servlet path. There are 3 cases:
```

### UtilityClassWithoutPrivateConstructor
Class `HelixRestMain` has only 'static' members, and lacks a 'private' constructor
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
import org.yaml.snakeyaml.Yaml;

public class HelixRestMain {
  private static Logger LOG = LoggerFactory.getLogger(HelixRestServer.class);
  private static final String HELP = "help";
```

### UtilityClassWithoutPrivateConstructor
Class `MBeanRegistrar` has only 'static' members, and lacks a 'private' constructor
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/MBeanRegistrar.java`
#### Snippet
```java


public class MBeanRegistrar {
  private static Logger LOG = LoggerFactory.getLogger(MBeanRegistrar.class);

```

### UtilityClassWithoutPrivateConstructor
Class `SetupConsumerCluster` has only 'static' members, and lacks a 'private' constructor
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/SetupConsumerCluster.java`
#### Snippet
```java
import org.apache.helix.tools.StateModelConfigGenerator;

public class SetupConsumerCluster {
  public static final String DEFAULT_CLUSTER_NAME = "rabbitmq-consumer-cluster";
  public static final String DEFAULT_RESOURCE_NAME = "topic";
```

### UtilityClassWithoutPrivateConstructor
Class `StartClusterManager` has only 'static' members, and lacks a 'private' constructor
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/StartClusterManager.java`
#### Snippet
```java
import org.apache.helix.controller.HelixControllerMain;

public class StartClusterManager {
  public static void main(String[] args) {
    if (args.length < 1) {
```

### UtilityClassWithoutPrivateConstructor
Class `Emitter` has only 'static' members, and lacks a 'private' constructor
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Emitter.java`
#### Snippet
```java
import com.rabbitmq.client.ConnectionFactory;

public class Emitter {

  private static final String EXCHANGE_NAME = "topic_logs";
```

### UtilityClassWithoutPrivateConstructor
Class `AccessOption` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/AccessOption.java`
#### Snippet
```java
import org.apache.zookeeper.CreateMode;

public class AccessOption {
  public static int PERSISTENT = 0x1;
  public static int EPHEMERAL = 0x2;
```

### UtilityClassWithoutPrivateConstructor
Class `HelixManagerFactory` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/HelixManagerFactory.java`
#### Snippet
```java
 * factory that creates cluster managers.
 */
public final class HelixManagerFactory {
  private static final Logger LOG = LoggerFactory.getLogger(HelixManagerFactory.class);

```

### UtilityClassWithoutPrivateConstructor
Class `TaskConstants` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/task/TaskConstants.java`
#### Snippet
```java
 * Constants used in the task framework.
 */
public class TaskConstants {
  /**
   * The name of the {@link Task} state model.
```

### UtilityClassWithoutPrivateConstructor
Class `TaskUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
 * Static utility methods.
 */
public class TaskUtil {
  private static final Logger LOG = LoggerFactory.getLogger(TaskUtil.class);
  public static final String CONTEXT_NODE = "Context";
```

### UtilityClassWithoutPrivateConstructor
Class `RebalanceUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/util/RebalanceUtil.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class RebalanceUtil {
  private static final Logger LOG = LoggerFactory.getLogger(RebalanceUtil.class.getName());

```

### UtilityClassWithoutPrivateConstructor
Class `ZKClientPool` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
import org.apache.zookeeper.ZooKeeper.States;

public class ZKClientPool {
  static final Map<String, ZkClient> _zkClientMap = new ConcurrentHashMap<>();
  static final int DEFAULT_SESSION_TIMEOUT = 30 * 1000;
```

### UtilityClassWithoutPrivateConstructor
Class `PathUtils` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/util/PathUtils.java`
#### Snippet
```java
 * Path related utilities
 */
public class PathUtils {

  /**
```

### UtilityClassWithoutPrivateConstructor
Class `MessageUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/util/MessageUtil.java`
#### Snippet
```java
 * Message utils to operate on message such creating messages.
 */
public class MessageUtil {
  private static final Logger LOG = LoggerFactory.getLogger(MessageUtil.class);

```

### UtilityClassWithoutPrivateConstructor
Class `AzureConstants` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/cloud/azure/AzureConstants.java`
#### Snippet
```java
 */

public class AzureConstants {
  public static final String AZURE_TOPOLOGY = "/faultDomain/hostname";
  public static final String AZURE_FAULT_ZONE_TYPE = "faultDomain";
```

### UtilityClassWithoutPrivateConstructor
Class `HelixEventHandlingUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/cloud/event/helix/HelixEventHandlingUtil.java`
#### Snippet
```java


class HelixEventHandlingUtil {
  private static Logger LOG = LoggerFactory.getLogger(HelixEventHandlingUtil.class);

```

### UtilityClassWithoutPrivateConstructor
Class `VirtualTopologyGroupConstants` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/cloud/constants/VirtualTopologyGroupConstants.java`
#### Snippet
```java


public class VirtualTopologyGroupConstants {
  public static final String GROUP_NAME = "virtualTopologyGroupName";
  public static final String GROUP_NUMBER = "virtualTopologyGroupNumber";
```

### UtilityClassWithoutPrivateConstructor
Class `UserArgsInputKey` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/cloud/event/helix/CloudEventCallbackProperty.java`
#### Snippet
```java
   * Keys for retrieve information from the map users pass in
   */
  public static class UserArgsInputKey {
    public static final String CALLBACK_IMPL_CLASS_NAME = "callbackImplClassName";
    public static final String CLOUD_EVENT_HANDLER_CLASS_NAME = "cloudEventHandlerClassName";
```

### UtilityClassWithoutPrivateConstructor
Class `YAISCalculator` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
import java.util.Random;

public class YAISCalculator {
  static class Assignment {
    private final int numNodes;
```

### UtilityClassWithoutPrivateConstructor
Class `StateModelConfigGenerator` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/StateModelConfigGenerator.java`
#### Snippet
```java
// TODO refactor to use StateModelDefinition.Builder
@Deprecated
public class StateModelConfigGenerator {

  public static void main(String[] args) {
```

### UtilityClassWithoutPrivateConstructor
Class `IdealStateCalculatorForEspressoRelay` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorForEspressoRelay.java`
#### Snippet
```java
import org.apache.helix.model.IdealState;

public class IdealStateCalculatorForEspressoRelay {
  public static IdealState calculateRelayIdealState(List<String> partitions,
      List<String> instances, String resultRecordName, int replica, String firstValue,
```

### UtilityClassWithoutPrivateConstructor
Class `IdealStateCalculatorByShuffling` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByShuffling.java`
#### Snippet
```java
 * */

public class IdealStateCalculatorByShuffling {
  /*
   * Given the number of nodes, partitions and replica number, calculate the
```

### UtilityClassWithoutPrivateConstructor
Class `IdealStateCalculatorByRush` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
import org.apache.helix.model.IdealState.IdealStateProperty;

public class IdealStateCalculatorByRush {
  /**
   * Build the config map for RUSH algorithm. The input of RUSH algorithm groups
```

### UtilityClassWithoutPrivateConstructor
Class `IdealCalculatorByConsistentHashing` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
import org.apache.helix.model.IdealState.IdealStateProperty;

public class IdealCalculatorByConsistentHashing {
  /**
   * Interface to calculate the hash function value of a string
```

### UtilityClassWithoutPrivateConstructor
Class `TaskAdmin` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/TaskAdmin.java`
#### Snippet
```java
 * This is a wrapper of TaskDriver instance to allow command line changes of workflows and jobs.
 */
public class TaskAdmin {
  /** For logging */
  private static final Logger LOG = LoggerFactory.getLogger(TaskAdmin.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ZKLogFormatter` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class ZKLogFormatter {
  private static final Logger LOG = LoggerFactory.getLogger(ZKLogFormatter.class);
  private static DateFormat dateTimeInstance = DateFormat.getDateTimeInstance(DateFormat.SHORT,
```

### UtilityClassWithoutPrivateConstructor
Class `TestExecutor` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
 */

public class TestExecutor {
  /**
   * SIMPLE: simple field change LIST: list field change MAP: map field change ZNODE:
```

### UtilityClassWithoutPrivateConstructor
Class `CurrentStateCleanUp` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class CurrentStateCleanUp {
  private static final Logger LOG = LoggerFactory.getLogger(CurrentStateCleanUp.class);

```

### UtilityClassWithoutPrivateConstructor
Class `ToolsUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ToolsUtil.java`
#### Snippet
```java
import static org.apache.helix.tools.commandtools.IntegrationTestUtil.printUsage;

public class ToolsUtil {
  public static CommandLine processCommandLineArgs(String[] cliArgs, Options cliOptions) throws Exception {
    CommandLineParser cliParser = new GnuParser();
```

### UtilityClassWithoutPrivateConstructor
Class `ZkGrep` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
 * fail-over latency = timestamp difference between 2) and 3)
 */
public class ZkGrep {
  private static Logger LOG = LoggerFactory.getLogger(ZkGrep.class);

```

### UtilityClassWithoutPrivateConstructor
Class `ZkCopy` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
 * Tool for copying a zk/file path to another zk/file path
 */
public class ZkCopy {
  enum ZkCopyScheme {
    zk
```

### UtilityClassWithoutPrivateConstructor
Class `ZkLogCSVFormatter` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
import org.apache.helix.util.HelixUtil;

public class ZkLogCSVFormatter {
  private static final ZNRecordSerializer _deserializer = new ZNRecordSerializer();
  private static String _fieldDelim = ",";
```

### UtilityClassWithoutPrivateConstructor
Class `ClusterStateVerifier` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
 */
@Deprecated
public class ClusterStateVerifier {
  public static String cluster = "cluster";
  public static String zkServerAddress = "zkSvr";
```

### UtilityClassWithoutPrivateConstructor
Class `CallbackEventThreadPoolFactory` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventThreadPoolFactory.java`
#### Snippet
```java

// returns a thread pool object given a HelixManager identifier
public class CallbackEventThreadPoolFactory {
  private static Logger logger = LoggerFactory.getLogger(CallbackHandler.class);
  private static final int CALLBACK_EVENT_THREAD_POOL_SIZE = 10;
```

### UtilityClassWithoutPrivateConstructor
Class `DummyParticipant` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
import org.apache.helix.participant.statemachine.Transition;

public class DummyParticipant {
  // dummy master-slave state model
  @StateModelInfo(initialState = "OFFLINE", states = {
```

### UtilityClassWithoutPrivateConstructor
Class `ExampleHelper` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/examples/ExampleHelper.java`
#### Snippet
```java


public class ExampleHelper {

  public static ZkServer startZkServer(String zkAddr) {
```

### UtilityClassWithoutPrivateConstructor
Class `IdealStateExample` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java
 */

public class IdealStateExample {

  public static void main(String[] args) throws Exception {
```

### UtilityClassWithoutPrivateConstructor
Class `IdealStateBuilderExample` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateBuilderExample.java`
#### Snippet
```java


public class IdealStateBuilderExample {

  private static String buildPartitionName(String resourceName, int partitionNum) {
```

### UtilityClassWithoutPrivateConstructor
Class `Quickstart` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/examples/Quickstart.java`
#### Snippet
```java


public class Quickstart {

  private static final String ZK_ADDRESS = "localhost:2199";
```

### UtilityClassWithoutPrivateConstructor
Class `WeightAwareRebalanceUtilExample` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/examples/WeightAwareRebalanceUtilExample.java`
#### Snippet
```java


public class WeightAwareRebalanceUtilExample {
  private static String ZK_ADDRESS = "localhost:2199";
  private static String CLUSTER_NAME = "RebalanceUtilExampleCluster";
```

### UtilityClassWithoutPrivateConstructor
Class `HelixControllerMain` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/HelixControllerMain.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class HelixControllerMain {
  public static final String zkServerAddress = "zkSvr";
  public static final String cluster = "cluster";
```

### UtilityClassWithoutPrivateConstructor
Class `LogUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/LogUtil.java`
#### Snippet
```java
import org.slf4j.Logger;

public class LogUtil {
  public static void logInfo(Logger logger, String eventInfo, String message) {
    logger.info(String.format("Event %s : %s", eventInfo, message));
```

### UtilityClassWithoutPrivateConstructor
Class `LogHolder` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/messaging/handling/MessageHandlerFactory.java`
#### Snippet
```java
}

final class LogHolder {
  static final Logger LOG = LoggerFactory.getLogger(MessageHandlerFactory.class);
}
```

### UtilityClassWithoutPrivateConstructor
Class `WagedValidationUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/WagedValidationUtil.java`
#### Snippet
```java
 * A util class that contains validation-related static methods for WAGED rebalancer.
 */
public class WagedValidationUtil {
  /**
   * Validates and returns instance capacities. The validation logic ensures that all required capacity keys (in ClusterConfig) are present in InstanceConfig.
```

### UtilityClassWithoutPrivateConstructor
Class `WagedRebalanceUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/WagedRebalanceUtil.java`
#### Snippet
```java


public class WagedRebalanceUtil {

  private static final Logger LOG = LoggerFactory.getLogger(WagedRebalanceUtil.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ResourceUsageCalculator` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/ResourceUsageCalculator.java`
#### Snippet
```java
import org.apache.helix.model.ResourceAssignment;

public class ResourceUsageCalculator {
  /**
   * A convenient tool for calculating partition capacity usage based on the assignment and resource weight provider.
```

### UtilityClassWithoutPrivateConstructor
Class `ConstraintBasedAlgorithmFactory` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/constraints/ConstraintBasedAlgorithmFactory.java`
#### Snippet
```java
 * The factory class to create an instance of {@link ConstraintBasedAlgorithm}
 */
public class ConstraintBasedAlgorithmFactory {
  private static final Map<String, Float> MODEL = new HashMap<String, Float>() {
    {
```

### UtilityClassWithoutPrivateConstructor
Class `DelayedRebalanceUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/DelayedRebalanceUtil.java`
#### Snippet
```java
 * The util for supporting delayed rebalance logic.
 */
public class DelayedRebalanceUtil {
  private static final Logger LOG = LoggerFactory.getLogger(DelayedRebalanceUtil.class);

```

### UtilityClassWithoutPrivateConstructor
Class `ResourceUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceUtil.java`
#### Snippet
```java


public class ResourceUtil {
  private static final Logger LOG = LoggerFactory.getLogger(ResourceUtil.class);
  private static final ObjectMapper mapper = new ObjectMapper();
```

### UtilityClassWithoutPrivateConstructor
Class `ClusterRepresentationUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
import org.restlet.data.MediaType;

public class ClusterRepresentationUtil {
  public static final ZNRecord EMPTY_ZNRECORD = new ZNRecord("EMPTY_ZNRECORD");
  private static ObjectMapper mapper = new ObjectMapper();
```

### UtilityClassWithoutPrivateConstructor
Class `InstanceConstants` has only 'static' members, and lacks a 'private' constructor
in `helix-common/src/main/java/org/apache/helix/constants/InstanceConstants.java`
#### Snippet
```java
package org.apache.helix.constants;

public class InstanceConstants {
  public static final String INSTANCE_NOT_DISABLED = "INSTANCE_NOT_DISABLED";

```

### UtilityClassWithoutPrivateConstructor
Class `SystemPropertyKeys` has only 'static' members, and lacks a 'private' constructor
in `helix-common/src/main/java/org/apache/helix/SystemPropertyKeys.java`
#### Snippet
```java


public class SystemPropertyKeys {
  // Used to compose default values in HelixManagerProperty
  public static final String HELIX_MANAGER_PROPERTIES = "helix-manager.properties";
```

### UtilityClassWithoutPrivateConstructor
Class `LockConstants` has only 'static' members, and lacks a 'private' constructor
in `helix-lock/src/main/java/org/apache/helix/lock/helix/LockConstants.java`
#### Snippet
```java
 * Default values for each attribute if there are no current values set by user
 */
public class LockConstants {
  public static final String DEFAULT_USER_ID = "NONE";
  public static final String DEFAULT_MESSAGE_TEXT = "NONE";
```

### UtilityClassWithoutPrivateConstructor
Class `ServiceDiscoveryDemo` has only 'static' members, and lacks a 'private' constructor
in `recipes/service-discovery/src/main/java/org/apache/helix/servicediscovery/ServiceDiscoveryDemo.java`
#### Snippet
```java
import org.apache.helix.servicediscovery.ServiceDiscovery.Mode;

public class ServiceDiscoveryDemo {
  public static void main(String[] args) throws Exception {

```

### UtilityClassWithoutPrivateConstructor
Class `ZNRecordUtil` has only 'static' members, and lacks a 'private' constructor
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/util/ZNRecordUtil.java`
#### Snippet
```java
 * This utility class contains various methods for manipulating ZNRecord.
 */
public class ZNRecordUtil {

  /**
```

### UtilityClassWithoutPrivateConstructor
Class `RoutingDataConstants` has only 'static' members, and lacks a 'private' constructor
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/constant/RoutingDataConstants.java`
#### Snippet
```java
 */

public class RoutingDataConstants {

  /**
```

### UtilityClassWithoutPrivateConstructor
Class `ZkSystemPropertyKeys` has only 'static' members, and lacks a 'private' constructor
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/constant/ZkSystemPropertyKeys.java`
#### Snippet
```java
 * This class contains various ZK system property keys.
 */
public class ZkSystemPropertyKeys {

  /**
```

### UtilityClassWithoutPrivateConstructor
Class `RoutingSystemPropertyKeys` has only 'static' members, and lacks a 'private' constructor
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/constant/RoutingSystemPropertyKeys.java`
#### Snippet
```java
 * This class contains various routing-related system property keys for multi-zk clients.
 */
public class RoutingSystemPropertyKeys {

  /**
```

### UtilityClassWithoutPrivateConstructor
Class `ExceptionUtil` has only 'static' members, and lacks a 'private' constructor
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ExceptionUtil.java`
#### Snippet
```java


public class ExceptionUtil {

    public static RuntimeException convertToRuntimeException(Throwable e) {
```

### UtilityClassWithoutPrivateConstructor
Class `NetworkUtil` has only 'static' members, and lacks a 'private' constructor
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/NetworkUtil.java`
#### Snippet
```java
import java.util.Set;

public class NetworkUtil {

    public final static String OVERWRITE_HOSTNAME_SYSTEM_PROPERTY = "zkclient.hostname.overwritten";
```

### UtilityClassWithoutPrivateConstructor
Class `ClusterModelProvider` has only 'static' members, and lacks a 'private' constructor
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
 * This util class generates Cluster Model object based on the controller's data cache.
 */
public class ClusterModelProvider {

  private enum RebalanceScopeType {
```

### UtilityClassWithoutPrivateConstructor
Class `LockManagerDemo` has only 'static' members, and lacks a 'private' constructor
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java


public class LockManagerDemo {
  /**
   * LockManagerDemo clusterName, numInstances, lockGroupName, numLocks
```

### UtilityClassWithoutPrivateConstructor
Class `ZkValidationUtil` has only 'static' members, and lacks a 'private' constructor
in `metadata-store-directory-common/src/main/java/org/apache/helix/msdcommon/util/ZkValidationUtil.java`
#### Snippet
```java
 */

public class ZkValidationUtil {
  /**
   * Validates whether a given path string is a valid ZK path.
```

### UtilityClassWithoutPrivateConstructor
Class `MetadataStoreRoutingConstants` has only 'static' members, and lacks a 'private' constructor
in `metadata-store-directory-common/src/main/java/org/apache/helix/msdcommon/constant/MetadataStoreRoutingConstants.java`
#### Snippet
```java
 */

public class MetadataStoreRoutingConstants {
  public static final String ROUTING_DATA_PATH = "/METADATA_STORE_ROUTING_DATA";

```

### UtilityClassWithoutPrivateConstructor
Class `HelixViewAggregatorMain` has only 'static' members, and lacks a 'private' constructor
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class HelixViewAggregatorMain {
  private static Logger logger = LoggerFactory.getLogger(HelixViewAggregatorMain.class);
  private static final String HELP = "help";
```

### UtilityClassWithoutPrivateConstructor
Class `TaskExecutionDemo` has only 'static' members, and lacks a 'private' constructor
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
 * <LI>Submit dag</LI>
 */
public class TaskExecutionDemo {

  private static final int NUM_WORKERS = 10;
```

### UtilityClassWithoutPrivateConstructor
Class `SystemUtil` has only 'static' members, and lacks a 'private' constructor
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class SystemUtil {
  public static final String OS_NAME = System.getProperty("os.name");
  private static Logger LOG = LoggerFactory.getLogger(SystemUtil.class);
```

### UtilityClassWithoutPrivateConstructor
Class `HelixAgentMain` has only 'static' members, and lacks a 'private' constructor
in `helix-agent/src/main/java/org/apache/helix/agent/HelixAgentMain.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class HelixAgentMain {
  private static Logger LOG = LoggerFactory.getLogger(HelixAgentMain.class);

```

### UtilityClassWithoutPrivateConstructor
Class `SetupCluster` has only 'static' members, and lacks a 'private' constructor
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/SetupCluster.java`
#### Snippet
```java
import org.apache.helix.tools.StateModelConfigGenerator;

public class SetupCluster {
  public static final String DEFAULT_CLUSTER_NAME = "file-store-test";
  public static final String DEFAULT_RESOURCE_NAME = "repository";
```

### UtilityClassWithoutPrivateConstructor
Class `Test` has only 'static' members, and lacks a 'private' constructor
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
import java.util.concurrent.Executors;

public class Test {
  public static void main(String[] args) throws InterruptedException {
    while (true) {
```

### UtilityClassWithoutPrivateConstructor
Class `StartClusterManager` has only 'static' members, and lacks a 'private' constructor
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/StartClusterManager.java`
#### Snippet
```java
import org.apache.helix.controller.HelixControllerMain;

public class StartClusterManager {
  public static void main(String[] args) {
    if (args.length < 1) {
```

### UtilityClassWithoutPrivateConstructor
Class `IntegrationTest` has only 'static' members, and lacks a 'private' constructor
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java


public class IntegrationTest {

  public static void main(String[] args) throws InterruptedException {
```

## RuleId[id=DataFlowIssue]
### DataFlowIssue
Method invocation `stream` may produce `NullPointerException`
in `helix-rest/src/main/java/org/apache/helix/rest/server/service/ClusterServiceImpl.java`
#### Snippet
```java
    // Get all the instances names
    return new ClusterTopology(cluster, zones,
        instanceConfigs.stream().map(InstanceConfig::getInstanceName).collect(Collectors.toSet()));
  }

```

### DataFlowIssue
Method invocation `getJobDag` may produce `NullPointerException`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java`
#### Snippet
```java
    root.put(WorkflowProperties.WorkflowContext.name(), workflowContextNode);

    JobDag jobDag = workflowConfig.getJobDag();
    ArrayNode jobs = OBJECT_MAPPER.valueToTree(jobDag.getAllNodes());
    ObjectNode parentJobs = OBJECT_MAPPER.valueToTree(jobDag.getChildrenToParents());
```

### DataFlowIssue
Argument `node` might be null
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
        case reset:
        case resetPartitions:
          if (!validInstance(node, instanceName)) {
            return badRequest("Instance names are not match!");
          }
```

### DataFlowIssue
Argument `node` might be null
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
        break;
      case addInstanceTag:
        if (!validInstance(node, instanceName)) {
          return badRequest("Instance names are not match!");
        }
```

### DataFlowIssue
Argument `node` might be null
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
        break;
      case removeInstanceTag:
        if (!validInstance(node, instanceName)) {
          return badRequest("Instance names are not match!");
        }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
      case enablePartitions:
        admin.enablePartition(true, clusterId, instanceName,
            node.get(PerInstanceProperties.resource.name()).textValue(),
            (List<String>) OBJECT_MAPPER
                .readValue(node.get(PerInstanceProperties.partitions.name()).toString(),
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
      case disablePartitions:
        admin.enablePartition(false, clusterId, instanceName,
            node.get(PerInstanceProperties.resource.name()).textValue(),
            (List<String>) OBJECT_MAPPER
                .readValue(node.get(PerInstanceProperties.partitions.name()).toString(),
```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/GroupCommit.java`
#### Snippet
```java
              } catch (Exception e) {
                LOG.error("Fails to remove " + mergedKey + " from ZK due to ZK issue.", e);
                success = false;
              }
              if (!success) {
```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/GroupCommit.java`
#### Snippet
```java
              } catch (Exception e) {
                LOG.error("Fails to update " + mergedKey + " to ZK due to ZK issue.", e);
                success = false;
              }
              if (!success) {
```

### DataFlowIssue
Dereference of `mode` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/api/status/ClusterManagementMode.java`
#### Snippet
```java
     */
    public LiveInstance.LiveInstanceStatus getDesiredParticipantStatus() {
        switch (mode) {
            case CLUSTER_FREEZE:
                return LiveInstance.LiveInstanceStatus.FROZEN;
```

### DataFlowIssue
Method invocation `getQuotaType` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
    }

    if (_globalThreadBasedQuotaMap.containsKey(result.getQuotaType())) {
      _globalThreadBasedQuotaMap
          .put(result.getQuotaType(), _globalThreadBasedQuotaMap.get(result.getQuotaType()) - 1);
```

### DataFlowIssue
Method invocation `getJobDag` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      }
      workflowConfig = TaskUtil.getWorkflowConfig(_accessor, queue);
      if (workflowConfig.getJobDag().size() >= capacity) {
        throw new HelixException(String.format( "Failed to enqueue job, queue %s is full.", queue));
      }
```

### DataFlowIssue
Method invocation `getJobDag` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    // Fail the operation if adding new jobs will cause the queue to reach its capacity limit
    workflowConfig = TaskUtil.getWorkflowConfig(_accessor, queue);
    if (workflowConfig.getJobDag().size() + jobs.size() >= capacity) {
      throw new IllegalStateException(
          String.format("Queue %s already reaches its max capacity %d, failed to add %s", queue,
```

### DataFlowIssue
Method invocation `getMapConfigs` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    String nameSpaceJobName = TaskUtil.getNamespacedJobName(workflowName, jobName);
    JobConfig jobConfig = TaskUtil.getJobConfig(_accessor, nameSpaceJobName);
    for (String taskEntry : jobConfig.getMapConfigs().keySet()) {
      if (taskEntry.equals(taskConfig.getId())) {
        throw new HelixException(
```

### DataFlowIssue
Method invocation `tryAssign` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java
      // Try to assign the task to least used instance
      AssignableInstance instance = queue.poll();
      TaskAssignResult result = instance.tryAssign(task, quotaType);
      assignResults.put(task.getId(), result);

```

### DataFlowIssue
Method invocation `getStatusLine` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/cloud/azure/AzureCloudInstanceInformationProcessor.java`
#### Snippet
```java
            "Failed to get an HTTP Response for the request. Response: %s. Status code: %s",
            (response == null ? "NULL" : response.getStatusLine().getReasonPhrase()),
            response.getStatusLine().getStatusCode());
        throw new HelixException(errorMsg);
      }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
                    + replica
                    + ", preference-list size: "
                    + preferenceList.size()
                    + ", record was: " + _record.getId());
            return false;
```

### DataFlowIssue
Argument `keys` might be null
in `helix-core/src/main/java/org/apache/helix/model/builder/HelixConfigScopeBuilder.java`
#### Snippet
```java
    if (keys == null || (keys.length != argNum && keys.length != argNum - 1)) {
      throw new IllegalArgumentException("invalid keys. type: " + type + ", keys: "
          + Arrays.asList(keys));
    }

```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    boolean ret = true;
    if (actualList == null && expectList == null) {
      ret = true;
    } else if (actualList == null && expectList != null) {
      ret = false;
```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    boolean ret = true;
    if (actual == null && expect == null) {
      ret = true;
    } else if (actual == null && expect != null) {
      ret = false;
```

### DataFlowIssue
Method invocation `getListFields` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
  private static void removeListValue(ZNRecord record, String key) {
    if (record == null || record.getListFields() == null) {
      record.getListFields().remove(key);
    }
  }
```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
    boolean ret = true;
    if (actualMap == null && expectMap == null) {
      ret = true;
    } else if (actualMap == null && expectMap != null) {
      ret = false;
```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
        client.createPersistent(zkPath, result);
      } finally {
        input.close();
      }

```

### DataFlowIssue
Dereference of `constraints` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/YAMLClusterSetup.java`
#### Snippet
```java

    // Set state counts
    for (Map<String, String> counts : constraints.state.counts) {
      String state = counts.get("name");
      if (!stateSet.contains(state)) {
```

### DataFlowIssue
Dereference of `constraints.state` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/YAMLClusterSetup.java`
#### Snippet
```java

    // Set state counts
    for (Map<String, String> counts : constraints.state.counts) {
      String state = counts.get("name");
      if (!stateSet.contains(state)) {
```

### DataFlowIssue
Array access `lastZkSnapshot[1]` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java

      // lastZkSnapshot[1] is the parsed last snapshot by byTime
      grepZkSnapshot(lastZkSnapshot[1], patterns);

      // need to grep transaction logs between last-modified-time of snapshot and byTime also
```

### DataFlowIssue
Method invocation `getAbsolutePath` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
            // parse gunzip file
            ZKLogFormatter
                .main(new String[] { log, tmpZkLog.getAbsolutePath(), parsedZkLog.getAbsolutePath()
                });

```

### DataFlowIssue
Argument `files` might be null
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    });

    Arrays.sort(files, new Comparator<File>() {

      @Override
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    try {
      File parsedZkSnapshot =
          new File(zkParsedDir, stripGzSuffix(lastZkSnapshot.getName()) + ".parsed");
      if (!parsedZkSnapshot.exists()
          || parsedZkSnapshot.lastModified() <= lastZkSnapshot.lastModified()) {
```

### DataFlowIssue
Method invocation `getAbsolutePath` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
          // parse gunzip file
          ZKLogFormatter.main(new String[] {
              snapshot, tmpLastZkSnapshot.getAbsolutePath(), parsedZkSnapshot.getAbsolutePath()
          });

```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java

    for (int i = 1; i < instanceBatches.size(); i++) {
      result = calculateNextIdealState(instanceBatches.get(i), result);
    }

```

### DataFlowIssue
Casting `_eventTypes.toArray()` to `EventType[]` will produce `ClassCastException` for any non-null value
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java

  public EventType[] getEventTypes() {
    return (EventType[]) _eventTypes.toArray();
  }

```

### DataFlowIssue
Method invocation `getMethods` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
    }

    Method callbackMethod = listenerClass.getMethods()[0];
    try {
      Method method = _listener.getClass().getMethod(callbackMethod.getName(),
```

### DataFlowIssue
Argument `idealState` might be null
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateBuilderExample.java`
#### Snippet
```java
    }

    admin.addResource(clusterName, resourceName, idealState);

    // start helix controller
```

### DataFlowIssue
Method invocation `setCompleteTime` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/messaging/handling/BatchMessageHandler.java`
#### Snippet
```java
      }

      result.setCompleteTime(System.currentTimeMillis());
      // pass task-result to post-handle-msg
      _notificationContext.add(MapKey.HELIX_TASK_RESULT.toString(), result);
```

### DataFlowIssue
Argument `instanceNames` might be null
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    List<ExternalView> extViews = accessor.getChildValues(keyBuilder.externalViews(), true);

    Set<String> resetInstanceNames = new HashSet<String>(instanceNames);
    for (String instanceName : resetInstanceNames) {
      List<String> resetPartitionNames = new ArrayList<String>();
```

### DataFlowIssue
Argument `partitionNames` might be null
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java

    // check partition exists in resource group
    Set<String> resetPartitionNames = new HashSet<String>(partitionNames);
    Set<String> partitions =
        (idealState.getRebalanceMode() == RebalanceMode.CUSTOMIZED) ? idealState.getRecord()
```

### DataFlowIssue
Argument `resourceNames` might be null
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    List<ExternalView> extViews = accessor.getChildValues(keyBuilder.externalViews(), true);

    Set<String> resetResourceNames = new HashSet<String>(resourceNames);
    for (ExternalView extView : extViews) {
      if (!resetResourceNames.contains(extView.getResourceName())) {
```

### DataFlowIssue
Method invocation `getHostName` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
    PropertyKey instanceConfigPropertyKey = accessor.keyBuilder().instanceConfig(instanceName);
    InstanceConfig currentInstanceConfig = accessor.getProperty(instanceConfigPropertyKey);
    if (!newInstanceConfig.getHostName().equals(currentInstanceConfig.getHostName())
        || !newInstanceConfig.getPort().equals(currentInstanceConfig.getPort())) {
      throw new HelixException(
```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageThrottleStage.java`
#### Snippet
```java
      switch (valueToken) {
      case ANY:
        value = Integer.MAX_VALUE;
        break;
      default:
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/controller/stages/PersistAssignmentStage.java`
#### Snippet
```java
      }
      Set<String> nodeList = new HashSet<String>(preferenceList);
      nodeList.addAll(assignment.keySet());
      boolean hasMaster = false;
      for (String ins : nodeList) {
```

### DataFlowIssue
Unboxing of `_maxAllowedCapacity.get(capacityKey)` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
    float highestCapacityUtilization = 0;
    for (String capacityKey : _maxAllowedCapacity.keySet()) {
      float capacityValue = _maxAllowedCapacity.get(capacityKey);
      float utilization = (capacityValue - remainingCapacity.get(capacityKey) + newUsage
          .getOrDefault(capacityKey, 0)) / capacityValue;
```

### DataFlowIssue
Condition `that instanceof Replica` is redundant and can be replaced with a null check
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    @Override
    public int compareTo(Replica that) {
      if (that instanceof Replica) {
        return this.format.compareTo(that.format);
      }
```

### DataFlowIssue
Variable is already assigned to this value
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
    Map<String, ResourceAssignment> assignmentWithDelayedRebalanceAdjust = newAssignment;
    if (_partialRebalanceRunner.isAsyncPartialRebalanceEnabled()) {
      assignmentWithDelayedRebalanceAdjust =
          handleDelayedRebalanceMinActiveReplica(clusterData, resourceMap, activeNodes, newAssignment, algorithm);
    }
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
    if (instanceConfigMap == null || !instanceConfigMap.keySet().containsAll(allNodes)) {
      throw new HelixException(String.format("Config for instances %s is not found!",
              allNodes.removeAll(instanceConfigMap.keySet())));
    }
    // only compute assignments for instances with non-zero weight
```

### DataFlowIssue
Method invocation `subList` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/MultiRoundCrushRebalanceStrategy.java`
#### Snippet
```java
        int remove = numPartitions - target - 1;
        Collections.sort(partitions);
        List<String> toRemoved = new ArrayList<>(assignedPatitions.subList(0, remove));
        toRemovedMap.put(node, toRemoved);
      }
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Topology.java`
#### Snippet
```java
    if (_instanceConfigMap == null || !_instanceConfigMap.keySet().containsAll(allNodes)) {
      throw new HelixException(String.format("Config for instances %s is not found!",
          _allInstances.removeAll(_instanceConfigMap.keySet())));
    }
    _clusterTopologyConfig = ClusterTopologyConfig.createFromClusterConfig(clusterConfig);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java

          String path = paths.get(i);
          T record = records.get(i);
          cbList[i] = new ZkAsyncCallbacks.SetDataCallbackHandler();
          _zkClient.asyncSetData(path, record, -1, cbList[i]);
```

### DataFlowIssue
Array access `createCbList[i]` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java`
#### Snippet
```java
          success[i] = true;
        } else if (rc == Code.NONODE) {
          ZkAsyncCallbacks.CreateCallbackHandler createCb = createCbList[i];
          if (Code.get(createCb.getRc()) == Code.OK) {
            success[i] = true;
```

### DataFlowIssue
Method invocation `getStatesPriorityList` may produce `NullPointerException`
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
    minActiveReplica = (minActiveReplica >= 0) ? minActiveReplica : replica;

    Set<String> activeStates = new HashSet<>(stateModelDef.getStatesPriorityList());
    activeStates.remove(stateModelDef.getInitialState());
    activeStates.remove(HelixDefinedState.DROPPED.name());
```

### DataFlowIssue
Condition `that instanceof Replica` is redundant and can be replaced with a null check
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    @Override
    public int compareTo(Replica that) {
      if (that instanceof Replica) {
        return this.format.compareTo(that.format);
      }
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
    // Figure out which tags are present on which resources
    Map<String, String> tagMap = Maps.newHashMap();
    for (String resourceName : idealStateMap.keySet()) {
      String idealStateStr = idealStateMap.get(resourceName);
      String tag =
```

### DataFlowIssue
Method invocation `connect` may produce `NullPointerException`
in `helix-view-aggregator/src/main/java/org/apache/helix/view/dataprovider/SourceClusterDataProvider.java`
#### Snippet
```java
    }
    try {
      _helixManager.connect();
      for (PropertyType property : _sourceClusterConfig.getProperties()) {
        HelixConstants.ChangeType changeType;
```

### DataFlowIssue
Unboxing of `processStateCodeChar` may produce `NullPointerException`
in `helix-agent/src/main/java/org/apache/helix/agent/SystemUtil.java`
#### Snippet
```java
      }

      return ProcessStateCode.valueOf(Character.toString(processStateCodeChar));
    } else {
      throw new UnsupportedOperationException("Not supported OS: " + OS_NAME);
```

### DataFlowIssue
Method invocation `disconnect` may produce `NullPointerException`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
          } catch (Exception e) {
            System.err.println("Exception" + e);
            fileStore.disconnect();
          }
        }
```

## RuleId[id=DeprecatedIsStillUsed]
### DeprecatedIsStillUsed
Deprecated member 'HelixDataAccessorWrapper' is still used
in `helix-rest/src/main/java/org/apache/helix/rest/common/HelixDataAccessorWrapper.java`
#### Snippet
```java
   */
  @Deprecated
  public HelixDataAccessorWrapper(ZKHelixDataAccessor dataAccessor) {
    this(dataAccessor, CustomRestClientFactory.get(), HelixRestNamespace.DEFAULT_NAMESPACE_NAME);
  }
```

### DeprecatedIsStillUsed
Deprecated member 'StateModelToken' is still used
in `helix-core/src/main/java/org/apache/helix/HelixConstants.java`
#### Snippet
```java
   */
  @Deprecated
  enum StateModelToken {
    ANY_LIVEINSTANCE
  }
```

### DeprecatedIsStillUsed
Deprecated member 'typeToClassMapping' is still used
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java
      new HashMap<PropertyType, Map<Integer, String>>();
  @Deprecated // typeToClassMapping is not being used anywhere
  static final Map<PropertyType, Class<? extends HelixProperty>> typeToClassMapping =
      new HashMap<PropertyType, Class<? extends HelixProperty>>();
  static {
```

### DeprecatedIsStillUsed
Deprecated member 'instanceProperty' is still used
in `helix-core/src/main/java/org/apache/helix/PropertyPathBuilder.java`
#### Snippet
```java

  @Deprecated
  public static String instanceProperty(String clusterName, String instanceName, PropertyType type,
      String key) {
    return String.format("/%s/INSTANCES/%s/%s/%s", clusterName, instanceName, type, key);
```

### DeprecatedIsStillUsed
Deprecated member 'WORKFLOWCONTEXT' is still used
in `helix-core/src/main/java/org/apache/helix/PropertyType.java`
#### Snippet
```java
  // TASK PROPERTIES
  @Deprecated // This returns the old path for WorkflowContext
  WORKFLOWCONTEXT(Type.TASK, true, false, false, false, false),

  TASK_CONFIG_ROOT(Type.TASK, true, false, false, false, false),
```

### DeprecatedIsStillUsed
Deprecated member 'ZNRecordBucketizer' is still used
in `helix-core/src/main/java/org/apache/helix/ZNRecordBucketizer.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordBucketizer extends org.apache.helix.zookeeper.datamodel.ZNRecordBucketizer {
  /**
   * Instantiate a bucketizer with the number of buckets
```

### DeprecatedIsStillUsed
Deprecated member 'getKeys' is still used
in `helix-core/src/main/java/org/apache/helix/ConfigAccessor.java`
#### Snippet
```java
   */
  @Deprecated
  public List<String> getKeys(ConfigScopeProperty type, String clusterName, String... keys) {
    if (type == null || clusterName == null) {
      LOG.error("ClusterName|scope can't be null.");
```

### DeprecatedIsStillUsed
Deprecated member 'deserializeJobCommandConfigMap' is still used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
  // TODO: move this to the JobConfig
  @Deprecated
  public static Map<String, String> deserializeJobCommandConfigMap(String commandConfig) {
    ObjectMapper mapper = new ObjectMapper();
    try {
```

### DeprecatedIsStillUsed
Deprecated member 'cleanupWorkflowIdealStateExtView' is still used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   */
  @Deprecated
  protected static boolean cleanupWorkflowIdealStateExtView(final HelixDataAccessor accessor,
      String workflow) {
    return cleanupIdealStateExtView(accessor, workflow);
```

### DeprecatedIsStillUsed
Deprecated member 'serializeJobCommandConfigMap' is still used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
  // TODO: move this to the JobConfig
  @Deprecated
  public static String serializeJobCommandConfigMap(Map<String, String> commandConfig) {
    ObjectMapper mapper = new ObjectMapper();
    try {
```

### DeprecatedIsStillUsed
Deprecated member 'getWorkflowConfigKey' is still used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java

  @Deprecated
  public static PropertyKey getWorkflowConfigKey(final HelixDataAccessor accessor,
      String workflow) {
    return accessor.keyBuilder().resourceConfig(workflow);
```

### DeprecatedIsStillUsed
Deprecated member 'cleanupJobIdealStateExtView' is still used
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
   */
  @Deprecated
  protected static boolean cleanupJobIdealStateExtView(final HelixDataAccessor accessor,
      String job) {
    return cleanupIdealStateExtView(accessor, job);
```

### DeprecatedIsStillUsed
Deprecated member 'PropertyPathConfig' is still used
in `helix-core/src/main/java/org/apache/helix/PropertyPathConfig.java`
#### Snippet
```java
 */
@Deprecated
public class PropertyPathConfig extends PropertyPathBuilder {
}

```

### DeprecatedIsStillUsed
Deprecated member 'generateConfigForTaskStateModel' is still used
in `helix-core/src/main/java/org/apache/helix/model/TaskSMD.java`
#### Snippet
```java
   */
  @Deprecated
  public static ZNRecord generateConfigForTaskStateModel() {
    ZNRecord record = new ZNRecord(TaskConstants.STATE_MODEL_NAME);

```

### DeprecatedIsStillUsed
Deprecated member 'generateConfigForLeaderStandby' is still used
in `helix-core/src/main/java/org/apache/helix/model/LeaderStandbySMD.java`
#### Snippet
```java
   */
  @Deprecated
  public static ZNRecord generateConfigForLeaderStandby() {
    ZNRecord record = new ZNRecord("LeaderStandby");
    record.setSimpleField(StateModelDefinitionProperty.INITIAL_STATE.toString(), "OFFLINE");
```

### DeprecatedIsStillUsed
Deprecated member 'MaxForcedReassignmentsPerTask' is still used
in `helix-core/src/main/java/org/apache/helix/task/JobConfig.java`
#### Snippet
```java
     * The maximum number of times Helix will intentionally move a failing task
     */
    MaxForcedReassignmentsPerTask,
    /**
     * The number of concurrent tasks that are allowed to run on an instance.
```

### DeprecatedIsStillUsed
Deprecated member 'DEFAULT_ERROR_PARTITION_THRESHOLD_FOR_LOAD_BALANCE' is still used
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
  // By default, no load balance if any error partition
  @Deprecated
  private final static int DEFAULT_ERROR_PARTITION_THRESHOLD_FOR_LOAD_BALANCE = 0;
  // By default, no load balance if any error or recovery partition. -1 implies that the threshold
  // is not set and will be given a default value of 1
```

### DeprecatedIsStillUsed
Deprecated member 'ERROR_PARTITION_THRESHOLD_FOR_LOAD_BALANCE' is still used
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
    @Deprecated // ERROR_OR_RECOVERY_PARTITION_THRESHOLD_FOR_LOAD_BALANCE will take
    // precedence if it is set
    ERROR_PARTITION_THRESHOLD_FOR_LOAD_BALANCE, // Controller won't execute load balance state
    // transition if the number of partitons that need
    // recovery exceeds this limitation
```

### DeprecatedIsStillUsed
Deprecated member 'DELAY_REBALANCE_DISABLED' is still used
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
    TOPOLOGY_AWARE_ENABLED, // whether topology aware rebalance is enabled.
    @Deprecated
    DELAY_REBALANCE_DISABLED, // disabled the delayed rebalaning in case node goes offline.
    DELAY_REBALANCE_ENABLED, // whether the delayed rebalaning is enabled.
    DELAY_REBALANCE_TIME, // delayed time in ms that the delay time Helix should hold until
```

### DeprecatedIsStillUsed
Deprecated member 'generateConfigForScheduledTaskQueue' is still used
in `helix-core/src/main/java/org/apache/helix/model/ScheduledTaskSMD.java`
#### Snippet
```java
   */
  @Deprecated
  public static ZNRecord generateConfigForScheduledTaskQueue() {
    ZNRecord record = new ZNRecord(DefaultSchedulerMessageHandlerFactory.SCHEDULER_TASK_QUEUE);
    record.setSimpleField(StateModelDefinitionProperty.INITIAL_STATE.toString(), "OFFLINE");
```

### DeprecatedIsStillUsed
Deprecated member 'generateConfigForStorageSchemata' is still used
in `helix-core/src/main/java/org/apache/helix/model/StorageSchemataSMD.java`
#### Snippet
```java
   */
  @Deprecated
  public static ZNRecord generateConfigForStorageSchemata() {
    ZNRecord record = new ZNRecord("STORAGE_DEFAULT_SM_SCHEMATA");
    record.setSimpleField(StateModelDefinitionProperty.INITIAL_STATE.toString(), "OFFLINE");
```

### DeprecatedIsStillUsed
Deprecated member 'setInstanceEnabledForPartition' is still used
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
   */
  @Deprecated
  public void setInstanceEnabledForPartition(String partitionName, boolean enabled) {
    List<String> list =
        _record.getListField(InstanceConfigProperty.HELIX_DISABLED_PARTITION.toString());
```

### DeprecatedIsStillUsed
Deprecated member 'getDisabledPartitions' is still used
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
   */
  @Deprecated
  public List<String> getDisabledPartitions() {
    List<String> oldDisabled =
        _record.getListField(InstanceConfigProperty.HELIX_DISABLED_PARTITION.name());
```

### DeprecatedIsStillUsed
Deprecated member 'setIdealStateMode' is still used
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
   */
  @Deprecated
  public void setIdealStateMode(String mode) {
    _record.setSimpleField(IdealStateProperty.IDEAL_STATE_MODE.toString(), mode);
    RebalanceMode rebalanceMode = normalizeRebalanceMode(IdealStateModeProperty.valueOf(mode));
```

### DeprecatedIsStillUsed
Deprecated member 'getZoneId' is still used
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
   */
  @Deprecated
  public String getZoneId() {
    return _record.getSimpleField(InstanceConfigProperty.HELIX_ZONE_ID.name());
  }
```

### DeprecatedIsStillUsed
Deprecated member 'IdealStateConstants' is still used
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
   */
  @Deprecated
  public enum IdealStateConstants {
    ANY_LIVEINSTANCE
  }
```

### DeprecatedIsStillUsed
Deprecated member 'IdealStateModeProperty' is still used
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
   */
  @Deprecated
  public enum IdealStateModeProperty {
    AUTO,
    CUSTOMIZED,
```

### DeprecatedIsStillUsed
Deprecated member 'getIdealStateMode' is still used
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
   */
  @Deprecated
  public IdealStateModeProperty getIdealStateMode() {
    return _record.getEnumField(IdealStateProperty.IDEAL_STATE_MODE.toString(),
        IdealStateModeProperty.class, IdealStateModeProperty.AUTO);
```

### DeprecatedIsStillUsed
Deprecated member 'DELAY_REBALANCE_DISABLED' is still used
in `helix-core/src/main/java/org/apache/helix/model/IdealState.java`
#### Snippet
```java
    REBALANCE_DELAY,
    @Deprecated
    DELAY_REBALANCE_DISABLED,
    @Deprecated
    IDEAL_STATE_MODE,
```

### DeprecatedIsStillUsed
Deprecated member 'ConfigScopeBuilder' is still used
in `helix-core/src/main/java/org/apache/helix/model/builder/ConfigScopeBuilder.java`
#### Snippet
```java
 */
@Deprecated
public class ConfigScopeBuilder {
  private static Logger LOG = LoggerFactory.getLogger(ConfigScopeBuilder.class);

```

### DeprecatedIsStillUsed
Deprecated member 'addJobConfig' is still used
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java
     */
    @Deprecated
    public Builder addJobConfig(String job, JobConfig.Builder jobConfigBuilder) {
      return addJob(job, jobConfigBuilder);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'setCapacity' is still used
in `helix-core/src/main/java/org/apache/helix/task/Workflow.java`
#### Snippet
```java

    @Deprecated
    public Builder setCapacity(int capacity) {
      if (_workflowConfigBuilder == null) {
        _workflowConfigBuilder = new WorkflowConfig.Builder();
```

### DeprecatedIsStillUsed
Deprecated member 'GZipCompressionUtil' is still used
in `helix-core/src/main/java/org/apache/helix/util/GZipCompressionUtil.java`
#### Snippet
```java
 */
@Deprecated
public class GZipCompressionUtil extends org.apache.helix.zookeeper.util.GZipCompressionUtil {
}

```

### DeprecatedIsStillUsed
Deprecated member 'generateConfigForLeaderStandby' is still used
in `helix-core/src/main/java/org/apache/helix/tools/StateModelConfigGenerator.java`
#### Snippet
```java

  @Deprecated
  public static ZNRecord generateConfigForLeaderStandby() {
    return LeaderStandbySMD.generateConfigForLeaderStandby();
  }
```

### DeprecatedIsStillUsed
Deprecated member 'ClusterExternalViewVerifier' is still used
in `helix-core/src/main/java/org/apache/helix/tools/ClusterExternalViewVerifier.java`
#### Snippet
```java
 */
@Deprecated
public class ClusterExternalViewVerifier extends ClusterVerifier {
  private static Logger LOG = LoggerFactory.getLogger(ClusterExternalViewVerifier.class);

```

### DeprecatedIsStillUsed
Deprecated member 'ClusterEventProcessor' is still used
in `helix-core/src/main/java/org/apache/helix/common/ClusterEventProcessor.java`
#### Snippet
```java
 */
@Deprecated
public abstract class ClusterEventProcessor
    extends DedupEventProcessor<ClusterEventType, ClusterEvent> {

```

### DeprecatedIsStillUsed
Deprecated member 'TargetExternalViewCache' is still used
in `helix-core/src/main/java/org/apache/helix/common/caches/TargetExternalViewCache.java`
#### Snippet
```java
 */
@Deprecated
public class TargetExternalViewCache extends ExternalViewCache {
  public TargetExternalViewCache(String clusterName) {
    super(clusterName, PropertyType.TARGETEXTERNALVIEW);
```

### DeprecatedIsStillUsed
Deprecated member 'ClusterEventBlockingQueue' is still used
in `helix-core/src/main/java/org/apache/helix/common/ClusterEventBlockingQueue.java`
#### Snippet
```java
 */
@Deprecated
public class ClusterEventBlockingQueue {
  private static final Logger LOG = LoggerFactory.getLogger(ClusterEventBlockingQueue.class);

```

### DeprecatedIsStillUsed
Deprecated member 'ClusterLiveNodesVerifier' is still used
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/ClusterLiveNodesVerifier.java`
#### Snippet
```java

  @Deprecated
  public ClusterLiveNodesVerifier(RealmAwareZkClient zkclient, String clusterName,
      List<String> expectLiveNodes) {
    // usesExternalZkClient = true because ZkClient is given by the caller
```

### DeprecatedIsStillUsed
Deprecated member 'ExternalViewCache' is still used
in `helix-core/src/main/java/org/apache/helix/common/caches/ExternalViewCache.java`
#### Snippet
```java
 */
@Deprecated
public class ExternalViewCache extends AbstractDataCache<ExternalView> {
  private static final Logger LOG = LoggerFactory.getLogger(ExternalViewCache.class.getName());

```

### DeprecatedIsStillUsed
Deprecated member 'MasterNbInExtViewVerifier' is still used
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java

  @Deprecated
  public static class MasterNbInExtViewVerifier implements ZkVerifier {
    private final String clusterName;
    private final HelixZkClient zkClient;
```

### DeprecatedIsStillUsed
Deprecated member 'StrictMatchExternalViewVerifier' is still used
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/StrictMatchExternalViewVerifier.java`
#### Snippet
```java

  @Deprecated
  private StrictMatchExternalViewVerifier(String zkAddr, String clusterName, Set<String> resources,
      Set<String> expectLiveInstances, boolean isDeactivatedNodeAware, int waitTillVerify) {
    super(zkAddr, clusterName, waitTillVerify);
```

### DeprecatedIsStillUsed
Deprecated member 'ZkAsyncCallbacks' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkAsyncCallbacks.java`
#### Snippet
```java
 */
@Deprecated
public class ZkAsyncCallbacks
    extends org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks {
}
```

### DeprecatedIsStillUsed
Deprecated member 'SharedZkClient' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/client/SharedZkClient.java`
#### Snippet
```java
 */
@Deprecated
class SharedZkClient extends SharedZkClientFactory.InnerSharedZkClient {
  SharedZkClient(ZkConnectionManager connectionManager, ZkClientConfig clientConfig,
      SharedZkClientFactory.OnCloseCallback callback) {
```

### DeprecatedIsStillUsed
Deprecated member 'ZkConnectionManager' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/client/ZkConnectionManager.java`
#### Snippet
```java
 */
@Deprecated
class ZkConnectionManager extends org.apache.helix.zookeeper.impl.factory.ZkConnectionManager {
  /**
   * Construct and init a ZkConnection Manager.
```

### DeprecatedIsStillUsed
Deprecated member 'IZkStateListener' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/zookeeper/IZkStateListener.java`
#### Snippet
```java
 */
@Deprecated
public interface IZkStateListener extends org.apache.helix.zookeeper.zkclient.IZkStateListener {

}
```

### DeprecatedIsStillUsed
Deprecated member 'ZNRecordStreamingSerializer' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZNRecordStreamingSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class ZNRecordStreamingSerializer extends org.apache.helix.zookeeper.datamodel.serializer.ZNRecordStreamingSerializer {
}

```

### DeprecatedIsStillUsed
Deprecated member 'ByteArraySerializer' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ByteArraySerializer.java`
#### Snippet
```java
 */
@Deprecated
public class ByteArraySerializer
    extends org.apache.helix.zookeeper.datamodel.serializer.ByteArraySerializer {
}
```

### DeprecatedIsStillUsed
Deprecated member 'getMessageType' is still used
in `helix-core/src/main/java/org/apache/helix/messaging/handling/MultiTypeMessageHandlerFactory.java`
#### Snippet
```java
  @Deprecated
  // TODO remove this default implementation for backward compatibility when clean up the legacy code.
  default String getMessageType() {
    List<String> types = getMessageTypes();
    if (types == null || types.isEmpty()) {
```

### DeprecatedIsStillUsed
Deprecated member 'sendNopMessage' is still used
in `helix-core/src/main/java/org/apache/helix/messaging/DefaultMessagingService.java`
#### Snippet
```java

  @Deprecated
  public void sendNopMessage() {
    sendNopMessageInternal();
  }
```

### DeprecatedIsStillUsed
Deprecated member 'ClusterEventProcessor' is still used
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  // TODO: refactor this to use common/ClusterEventProcessor.
  @Deprecated
  private class ClusterEventProcessor extends Thread {
    private final BaseControllerDataProvider _cache;
    private final ClusterEventBlockingQueue _eventBlockingQueue;
```

### DeprecatedIsStillUsed
Deprecated member 'getMessageType' is still used
in `helix-core/src/main/java/org/apache/helix/messaging/handling/MessageHandlerFactory.java`
#### Snippet
```java
  @Deprecated
  // Please update the logic to implement MultiTypeMessageHandlerFactory.getMessageTypes instead.
  String getMessageType();

  void reset();
```

### DeprecatedIsStillUsed
Deprecated member 'ZkCacheBaseDataAccessor' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

  @Deprecated
  public ZkCacheBaseDataAccessor(String zkAddress, ZkSerializer serializer, String chrootPath,
      List<String> wtCachePaths, List<String> zkCachePaths, String monitorType, String monitorkey,
      ZkBaseDataAccessor.ZkClientType zkClientType) {
```

### DeprecatedIsStillUsed
Deprecated member 'ZkCacheBaseDataAccessor' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

  @Deprecated
  public ZkCacheBaseDataAccessor(String zkAddress, ZkSerializer serializer, String chrootPath,
      List<String> wtCachePaths, List<String> zkCachePaths, String monitorType, String monitorkey) {
    this(zkAddress, serializer, chrootPath, wtCachePaths, zkCachePaths, monitorType, monitorkey,
```

### DeprecatedIsStillUsed
Deprecated member 'ZkCacheBaseDataAccessor' is still used
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java

  @Deprecated
  public ZkCacheBaseDataAccessor(ZkBaseDataAccessor<T> baseAccessor, String chrootPath,
      List<String> wtCachePaths, List<String> zkCachePaths) {
    _baseAccessor = baseAccessor;
```

### DeprecatedIsStillUsed
Deprecated member 'AutoRebalancer' is still used
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/AutoRebalancer.java`
#### Snippet
```java
 */
@Deprecated // Use the DelayedAutoRebalancer instead
public class AutoRebalancer extends AbstractRebalancer<ResourceControllerDataProvider> {
  private static final Logger LOG = LoggerFactory.getLogger(AutoRebalancer.class);

```

### DeprecatedIsStillUsed
Deprecated member 'invokeRebalanceForResourceConfig' is still used
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/RebalanceScheduler.java`
#### Snippet
```java
   */
  @Deprecated
  public static void invokeRebalanceForResourceConfig(HelixDataAccessor accessor, String resource) {
    LOG.info("invoke rebalance for " + resource);
    PropertyKey key = accessor.keyBuilder().resourceConfig(resource);
```

### DeprecatedIsStillUsed
Deprecated member 'invokeRebalance' is still used
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/RebalanceScheduler.java`
#### Snippet
```java
   */
  @Deprecated
  public static void invokeRebalance(HelixDataAccessor accessor, String resource) {
    LOG.info("invoke rebalance for " + resource);
    PropertyKey key = accessor.keyBuilder().idealStates(resource);
```

### DeprecatedIsStillUsed
Deprecated member '_maximumJobLatencyGauge' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/JobMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _availableThreadGauge;
  @Deprecated // To be removed (replaced by jobLatencyGauge Histogram)
  private SimpleDynamicMetric<Long> _maximumJobLatencyGauge;
  @Deprecated // To be removed (replaced by jobLatencyGauge Histogram)
  private SimpleDynamicMetric<Long> _jobLatencyCount;
```

### DeprecatedIsStillUsed
Deprecated member '_jobLatencyCount' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/JobMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _maximumJobLatencyGauge;
  @Deprecated // To be removed (replaced by jobLatencyGauge Histogram)
  private SimpleDynamicMetric<Long> _jobLatencyCount;

  // Histogram
```

### DeprecatedIsStillUsed
Deprecated member 'ZkClientMonitor' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ZkClientMonitor.java`
#### Snippet
```java
 */
@Deprecated
public class ZkClientMonitor
    extends org.apache.helix.zookeeper.zkclient.metric.ZkClientMonitor {
  public ZkClientMonitor(String monitorType, String monitorKey, String monitorInstanceName,
```

### DeprecatedIsStillUsed
Deprecated member '_totalMessageReceived' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _maxSinglePartitionTopStateHandoffDuration;
  @Deprecated
  private SimpleDynamicMetric<Long> _totalMessageReceived; // This should be counter since the value behavior is ever-increasing
  private SimpleDynamicMetric<Long> _totalMessageReceivedCounter;
  // Histograms
```

### DeprecatedIsStillUsed
Deprecated member '_failedTopStateHandoffCounter' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
  // be helpful and can be used to find that out. Please find more info at https://github.com/apache/helix/pull/2381
  @Deprecated
  private SimpleDynamicMetric<Long> _failedTopStateHandoffCounter;
  @Deprecated
  private HistogramDynamicMetric _partitionTopStateNonGracefulHandoffDurationGauge;
```

### DeprecatedIsStillUsed
Deprecated member 'getFailedTopStateHandoffCounter' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java

  @Deprecated
  public long getFailedTopStateHandoffCounter() {
    return _failedTopStateHandoffCounter.getValue();
  }
```

### DeprecatedIsStillUsed
Deprecated member '_partitionTopStateNonGracefulHandoffDurationGauge' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
  private SimpleDynamicMetric<Long> _failedTopStateHandoffCounter;
  @Deprecated
  private HistogramDynamicMetric _partitionTopStateNonGracefulHandoffDurationGauge;

  private SimpleDynamicMetric<Long> _maxSinglePartitionTopStateHandoffDuration;
```

### DeprecatedIsStillUsed
Deprecated member 'increaseMessageCount' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java

  @Deprecated
  public synchronized void increaseMessageCount(long messageReceived) {
    _totalMessageReceived.updateValue(_totalMessageReceived.getValue() + messageReceived);
  }
```

### DeprecatedIsStillUsed
Deprecated member 'getPartitionTopStateNonGracefulHandoffDurationGauge' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java

  @Deprecated
  public HistogramDynamicMetric getPartitionTopStateNonGracefulHandoffDurationGauge() {
    return _partitionTopStateNonGracefulHandoffDurationGauge;
  }
```

### DeprecatedIsStillUsed
Deprecated member 'ZkClientPathMonitor' is still used
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ZkClientPathMonitor.java`
#### Snippet
```java
 */
@Deprecated
public class ZkClientPathMonitor
    extends org.apache.helix.zookeeper.zkclient.metric.ZkClientPathMonitor {
  public ZkClientPathMonitor(PredefinedPath path, String monitorType, String monitorKey,
```

### DeprecatedIsStillUsed
Deprecated member 'JacksonPayloadSerializer' is still used
in `helix-common/src/main/java/org/apache/helix/manager/zk/serializer/JacksonPayloadSerializer.java`
#### Snippet
```java
 */
@Deprecated
public class JacksonPayloadSerializer extends org.apache.helix.zookeeper.datamodel.serializer.JacksonPayloadSerializer {
}

```

### DeprecatedIsStillUsed
Deprecated member '_dataPropagationLatencyGuage' is still used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
   */
  @Deprecated
  private HistogramDynamicMetric _dataPropagationLatencyGuage;

  @Override
```

### DeprecatedIsStillUsed
Deprecated member 'DataPropagationLatencyGuage' is still used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java
     */
    @Deprecated
    DataPropagationLatencyGuage
  }

```

### DeprecatedIsStillUsed
Deprecated member 'deleteRecursive' is still used
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
   */
  @Deprecated
  public boolean deleteRecursive(String path) {
    try {
      deleteRecursively(path);
```

## RuleId[id=Convert2MethodRef]
### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-rest/src/main/java/org/apache/helix/rest/common/HelixDataAccessorWrapper.java`
#### Snippet
```java
    } else {
      zkHealthReports =
          liveInstances.stream().map(instance -> new HelixProperty(instance)).collect(Collectors.toList());
    }
    Map<String, Future<Map<String, Boolean>>> parallelTasks = new HashMap<>();
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/model/ClusterTrie.java`
#### Snippet
```java
    // /group/zone/rack/host will return ["group", "zone", "rack", "host"].
    topologyDef =
        Arrays.asList(topologyDefInConfig.split(DELIMITER)).stream().map(str -> str.trim())
            .filter(str -> !str.isEmpty()).collect(Collectors.toList()).toArray(new String[0]);
    if (topologyDef.length == 0) {
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    if (capacityData != null) {
      return capacityData.entrySet().stream().collect(
          Collectors.toMap(entry -> entry.getKey(), entry -> Integer.parseInt(entry.getValue())));
    }
    return Collections.emptyMap();
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/common/PartitionStateMap.java`
#### Snippet
```java
    _stateMap = partitionStateMap.entrySet()
        .stream()
        .collect(Collectors.toMap(e -> e.getKey(), e -> new HashMap<>(e.getValue())));
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
    return _currentAssignedReplicaMap.getOrDefault(resource, Collections.emptyMap()).entrySet()
        .stream().filter(partitionEntry -> partitionEntry.getValue().isReplicaTopState())
        .map(partitionEntry -> partitionEntry.getKey()).collect(Collectors.toSet());
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeSnapshot.java`
#### Snippet
```java
    _instanceConfigMap = ignoreNonTopologyChange ?
        dataProvider.getInstanceConfigMap().entrySet().parallelStream().collect(Collectors
            .toMap(e -> e.getKey(),
                e -> InstanceConfigTrimmer.getInstance().trimProperty(e.getValue()))) :
        new HashMap<>(dataProvider.getInstanceConfigMap());
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeSnapshot.java`
#### Snippet
```java
    _idealStateMap = ignoreNonTopologyChange ?
        dataProvider.getIdealStates().entrySet().parallelStream().collect(Collectors
            .toMap(e -> e.getKey(),
                e -> IdealStateTrimmer.getInstance().trimProperty(e.getValue()))) :
        new HashMap<>(dataProvider.getIdealStates());
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeSnapshot.java`
#### Snippet
```java
    _resourceConfigMap = ignoreNonTopologyChange ?
        dataProvider.getResourceConfigMap().entrySet().parallelStream().collect(Collectors
            .toMap(e -> e.getKey(),
                e -> ResourceConfigTrimmer.getInstance().trimProperty(e.getValue()))) :
        new HashMap<>(dataProvider.getResourceConfigMap());
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeDetector.java`
#### Snippet
```java
        })).entrySet().stream().filter(changeEntry -> !changeEntry.getValue().isEmpty()).collect(
            Collectors
                .toMap(changeEntry -> changeEntry.getKey(), changeEntry -> changeEntry.getValue()));
  }
}
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeDetector.java`
#### Snippet
```java
        })).entrySet().stream().filter(changeEntry -> !changeEntry.getValue().isEmpty()).collect(
            Collectors
                .toMap(changeEntry -> changeEntry.getKey(), changeEntry -> changeEntry.getValue()));
  }
}
```

## RuleId[id=NonSerializableFieldInSerializableClass]
### NonSerializableFieldInSerializableClass
Non-serializable field 'def' in a Serializable class
in `helix-core/src/main/java/org/apache/helix/model/BuiltInStateModelDefinitions.java`
#### Snippet
```java
  Task(new TaskSMD());

  private final StateModelDefinition def;

  private BuiltInStateModelDefinitions(StateModelDefinition def) {
```

## RuleId[id=RedundantCollectionOperation]
### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsValue()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java

        if (partitionHealth.isEmpty()
            || partitionHealth.values().contains(HealthStatus.UNHEALTHY.name())) {
          // No partitions for a resource or there exists one or more UNHEALTHY partitions in this
          // resource, UNHEALTHY
```

### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsValue()'
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAccessor.java`
#### Snippet
```java
          // resource, UNHEALTHY
          resourceHealthResult.put(resourceName, HealthStatus.UNHEALTHY.name());
        } else if (partitionHealth.values().contains(HealthStatus.PARTIAL_HEALTHY.name())) {
          // No UNHEALTHY partition, but one or more partially healthy partitions, resource is
          // partially healthy
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/task/JobDispatcher.java`
#### Snippet
```java
        if (instance != null) {
          if (currentInstanceToTaskAssignments.containsKey(instance)
              && !currentInstanceToTaskAssignments.get(instance).contains(partition)) {
            currentInstanceToTaskAssignments.get(instance).add(partition);
          }
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
      return;
    }
    if (tags.contains(tag)) {
      tags.remove(tag);
    }
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    if (enabled) {
      disabledPartitions.remove(partitionName);
      if (oldDisabledPartitions != null && oldDisabledPartitions.contains(partitionName)) {
        oldDisabledPartitions.remove(partitionName);
      }
```

### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsKey()'
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByShuffling.java`
#### Snippet
```java
      for (int j = 1; j <= replicas; j++) {
        int index = (masterNode + j * partitionList.size()) % instanceNames.size();
        while (partitionAssignment.keySet().contains(instanceNames.get(index))) {
          index = (index + 1) % instanceNames.size();
        }
```

### RedundantCollectionOperation
Unnecessary 'containsKey()' check
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
    _knownMessageIds.remove(message.getId());
    String messageTarget = getMessageTarget(message.getResourceName(), message.getPartitionName());
    if (_messageTaskMap.containsKey(messageTarget)) {
      _messageTaskMap.remove(messageTarget);
    }
```

### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsKey()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/ExternalViewComputeStage.java`
#### Snippet
```java
    // remove dead external-views
    for (String resourceName : curExtViews.keySet()) {
      if (!resourceMap.keySet().contains(resourceName)) {
        LogUtil.logInfo(LOG, _eventId, "Remove externalView for resource: " + resourceName);
        dataAccessor.removeProperty(keyBuilder.externalView(resourceName));
```

### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsValue()'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/DelayedAutoRebalancer.java`
#### Snippet
```java
    // If the load-balance finishes (all replica are migrated to new instances),
    // we should drop all partitions from previous assigned instances.
    if (!currentMapWithPreferenceList.values().contains(HelixDefinedState.ERROR.name())
        && bestPossibleStateMap.size() > numReplicas && readyToDrop(currentStateMap,
        bestPossibleStateMap, preferenceList, combinedPreferenceList)) {
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Set<Replica> orphanedPartitions = new TreeSet<Replica>(_preferredAssignment.keySet());
    for (Replica r : _existingPreferredAssignment.keySet()) {
      if (orphanedPartitions.contains(r)) {
        orphanedPartitions.remove(r);
      }
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    }
    for (Replica r : _existingNonPreferredAssignment.keySet()) {
      if (orphanedPartitions.contains(r)) {
        orphanedPartitions.remove(r);
      }
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    Set<Replica> orphanedPartitions = new TreeSet<Replica>(_preferredAssignment.keySet());
    for (Replica r : _existingPreferredAssignment.keySet()) {
      if (orphanedPartitions.contains(r)) {
        orphanedPartitions.remove(r);
      }
```

### RedundantCollectionOperation
Unnecessary 'contains()' check
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    }
    for (Replica r : _existingNonPreferredAssignment.keySet()) {
      if (orphanedPartitions.contains(r)) {
        orphanedPartitions.remove(r);
      }
```

## RuleId[id=CatchMayIgnoreException]
### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
            try {
              createTimeStamp = Long.parseLong(m.get("CREATE_TIMESTAMP"));
            } catch (Exception e) {
            }
            transitions.add(new Transition(m.get("MSG_ID"), createTimeStamp, m.get("FROM_STATE"), m
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
    try {
      topStateCount = Integer.valueOf(_statesCountMap.get(getTopState()));
    } catch (NumberFormatException ex) {

    }
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
        try {
          stateCount = Integer.parseInt(num);
        } catch (Exception e) {
        }

```

### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
        int weight = Integer.valueOf(w);
        return weight;
      } catch (NumberFormatException e) {
      }
    }
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
        try {
          timeOut = Integer.parseInt(_message.getRecord().getSimpleFields().get("TIMEOUT"));
        } catch (Exception e) {
        }
      }
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixDataAccessor.java`
#### Snippet
```java
        return new HelixProperty.Stat(stat.getVersion(), stat.getCtime(), stat.getMtime(), stat.getEphemeralOwner());
      }
    } catch (ZkNoNodeException e) {

    }
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZkCacheBaseDataAccessor.java`
#### Snippet
```java
        success = _baseAccessor.set(serverPath, data, expectVersion, options);
      }
    } catch (Exception e) {
    } finally {
      if (cache != null) {
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
          try {
            bucketSize = Integer.parseInt(jsonParameters.getParameter(JsonParameters.BUCKET_SIZE));
          } catch (Exception e) {

          }
```

### CatchMayIgnoreException
Empty `catch` block
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ResourceGroupsResource.java`
#### Snippet
```java
                Integer.parseInt(jsonParameters
                    .getParameter(JsonParameters.MAX_PARTITIONS_PER_NODE));
          } catch (Exception e) {

          }
```

### CatchMayIgnoreException
Empty `catch` block
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
          return Integer.parseInt(number);
        }
      } catch (Exception e) {

      }
```

## RuleId[id=MismatchedJavadocCode]
### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/zookeeper/ZooKeeperAccessor.java`
#### Snippet
```java
   * @param zkBaseDataAccessor
   * @param path
   * @return true if a ZNode exists, false otherwise
   */
  private Response exists(BaseDataAccessor<byte[]> zkBaseDataAccessor, String path) {
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/zookeeper/ZooKeeperAccessor.java`
#### Snippet
```java
   * @param zkBaseDataAccessor
   * @param path
   * @return true if a ZNode exists, false otherwise
   */
  private Response exists(BaseDataAccessor<byte[]> zkBaseDataAccessor, String path) {
```

### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param updaters List of update routines for records to update
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return For each child, true if the data is updated successfully, false otherwise
   */
  boolean[] updateChildren(List<String> paths, List<DataUpdater<T>> updaters, int options);
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param updaters List of update routines for records to update
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return For each child, true if the data is updated successfully, false otherwise
   */
  boolean[] updateChildren(List<String> paths, List<DataUpdater<T>> updaters, int options);
```

### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param paths paths to the ZNodes to test
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return for each path, true if a valid ZNode exists, false otherwise
   */
  boolean[] exists(List<String> paths, int options);
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param paths paths to the ZNodes to test
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return for each path, true if a valid ZNode exists, false otherwise
   */
  boolean[] exists(List<String> paths, int options);
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param records List of data with which to overwrite the corresponding ZNodes
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return For each child: true if the data was set, false otherwise
   */
  boolean[] setChildren(List<String> paths, List<T> records, int options);
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param records List of data to write to each of the path
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return For each child: true if creation succeeded, false otherwise (e.g. if the child exists)
   */
  boolean[] createChildren(List<String> paths, List<T> records, int options);
```

### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param paths paths to the ZNodes to remove
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return For each ZNode, true if successfully removed, false otherwise
   */
  boolean[] remove(List<String> paths, int options);
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param paths paths to the ZNodes to remove
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @return For each ZNode, true if successfully removed, false otherwise
   */
  boolean[] remove(List<String> paths, int options);
```

### MismatchedJavadocCode
Method is specified to return 'false' but its return type is not boolean
in `helix-core/src/main/java/org/apache/helix/BaseDataAccessor.java`
#### Snippet
```java
   * @param options Set the type of ZNode see the valid values in {@link AccessOption}
   * @param ttl TTL of the node in milliseconds, if options supports it
   * @return For each child: true if creation succeeded, false otherwise (e.g. if the child exists)
   */
  default boolean[] createChildren(List<String> paths, List<T> records, int options, long ttl) {
```

### MismatchedJavadocCode
Method is specified to return map but the return type is list
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
   * @param recipientCriteria Criteria specifying the message destinations
   * @param manager connection to the persisted data
   * @return map of evaluated criteria
   */
  public List<Map<String, String>> evaluateCriteria(Criteria recipientCriteria,
```

### MismatchedJavadocCode
Method is specified to return map but the return type is list
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
   * @param recipientCriteria Criteria specifying the message destinations
   * @param accessor connection to the persisted data
   * @return map of evaluated criteria
   */
  public List<Map<String, String>> evaluateCriteria(Criteria recipientCriteria,
```

### MismatchedJavadocCode
Method is specified to return set but the return type is map
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
   * @param resourceStateModel specified resource state model to look up
   * @param state specified current resource state to look up
   * @return set of participants to partitions mapping
   */
  public Map<String, Integer> getPartitionCountWithCurrentState(String resourceStateModel,
```

### MismatchedJavadocCode
Method is specified to return set but the return type is map
in `helix-core/src/main/java/org/apache/helix/controller/stages/CurrentStateOutput.java`
#### Snippet
```java
   * @param resourceStateModel specified resource state model to look up
   * @param state specified pending resource state to look up
   * @return set of participants to partitions mapping
   */
  public Map<String, Integer> getPartitionCountWithPendingState(String resourceStateModel,
```

### MismatchedJavadocCode
Method is specified to return set but the return type is boolean
in `helix-core/src/main/java/org/apache/helix/controller/stages/IntermediateStateCalcStage.java`
#### Snippet
```java
   * @param message                  message for load rebalance
   * @param stateModelDefinition     state model definition object for this resource
   * @return set of messages allowed for downward state transitions
   */
  private boolean isLoadBalanceDownwardStateTransition(Message message,
```

## RuleId[id=AssignmentToForLoopParameter]
### AssignmentToForLoopParameter
Assignment to for-loop parameter `offlineTimestampIndex`
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
      while (offlineTimestampIndex >= 0
          && offlineTimestamps.get(offlineTimestampIndex) > onlineWindowLeft) {
        offlineTimestampIndex--;
      }

```

## RuleId[id=UnnecessaryToStringCall]
### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestMain.java`
#### Snippet
```java
      cmd = cliParser.parse(cliOptions, cliArgs);
    } catch (ParseException pe) {
      LOG.error("RestAdminApplication: failed to parse command-line options: " + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/PerInstanceAccessor.java`
#### Snippet
```java
    }

    LOG.debug("Input fields for take/free Instance" + inputFields.toString());

    return inputFields;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `metrics-common/src/main/java/org/apache/helix/monitoring/mbeans/MBeanRegistrar.java`
#### Snippet
```java
    }

    return new ObjectName(String.format("%s:%s", domain, objectNameStr.toString()));
  }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/api/config/ViewClusterSourceConfig.java`
#### Snippet
```java
    } catch (Exception e) {
      throw new IllegalArgumentException(
          String.format("Invalid Json: %s, Exception: %s", jsonString, e.toString()));
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
    }
    if (instanceNode.size() > 0) {
      LOG.info("Current quota capacity: {}", instanceNode.toString());
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      throw new IllegalStateException(
          String.format("Queue %s already reaches its max capacity %d, failed to add %s", queue,
              capacity, jobs.toString()));
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      }
    } catch (HelixException e) {
      LOG.error("Failed to add job configs {}. Remove them all!", jobs.toString());
      for (String job : jobs) {
        String namespacedJobName = TaskUtil.getNamespacedJobName(queue, job);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
        throw new IllegalStateException(
            String.format("Queue %s already reaches its max capacity %d, failed to add %s", queue,
                capacity, jobs.toString()));
      }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
      } catch (Exception e) {
        throw new IllegalStateException(
            String.format("Could not add jobs %s to queue %s", jobs.toString(), queue), e);
      }
      return currentData;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    boolean status = _accessor.getBaseDataAccessor().update(path, updater, AccessOption.PERSISTENT);
    if (!status) {
      LOG.error("Failed to update WorkflowConfig, remove all jobs {}", jobs.toString());
      for (String job : jobs) {
        TaskUtil.removeJobConfig(_accessor, job);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
            "Failed to delete the workflow/queue %s within %d milliseconds. "
                + "The following components still remain: %s",
            workflow, timeout, failed.toString()));
  }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/util/InstanceValidationUtil.java`
#### Snippet
```java
      _logger.error(
          "Cluster config {} is not turned on, which is required for instance stability check.",
          ClusterConfig.ClusterConfigProperty.PERSIST_INTERMEDIATE_ASSIGNMENT.toString());
      return false;
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    e.printStackTrace(pw);
    logMessageStatusUpdateRecord(message, Level.HELIX_ERROR, classInfo,
        additionalInfo + sw.toString(), manager);
  }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
          + message.getToState().charAt(0) + "  " + UUID.randomUUID().toString();
    } else {
      return message.getMsgType() + " " + UUID.randomUUID().toString();
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    e.printStackTrace(pw);
    logMessageStatusUpdateRecord(message, Level.HELIX_ERROR, classInfo,
        additionalInfo + sw.toString(), accessor);
  }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/model/ClusterConfig.java`
#### Snippet
```java
        sourceConfigs.add(config.toJson());
      } catch (IOException e) {
        throw new IllegalArgumentException("Invalid source config. Error: " + e.toString());
      }
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/YAISCalculator.java`
#### Snippet
```java
            sb.append(partitionId).append(",");
          }
          System.out.println(sb.toString());
        }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/TestCommand.java`
#### Snippet
```java
    }
    if (_commandType == CommandType.MODIFY || _commandType == CommandType.VERIFY) {
      ret += _commandType.toString() + "|" + _trigger.toString() + "|" + _znodeOpArg.toString();
    } else if (_commandType == CommandType.START || _commandType == CommandType.STOP) {
      ret += _commandType.toString() + "|" + _trigger.toString() + "|" + _nodeOpArg.toString();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/TestCommand.java`
#### Snippet
```java
      ret += _commandType.toString() + "|" + _trigger.toString() + "|" + _znodeOpArg.toString();
    } else if (_commandType == CommandType.START || _commandType == CommandType.STOP) {
      ret += _commandType.toString() + "|" + _trigger.toString() + "|" + _nodeOpArg.toString();
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/TaskAdmin.java`
#### Snippet
```java
      cmd = cliParser.parse(options, args);
    } catch (ParseException pe) {
      LOG.error("CommandLineClient: failed to parse command-line options: " + pe.toString());
      printUsage(options, cmdStr);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
          }
        }
        _outputFile.println(line.toString());
        // System.out.println(line);
      }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            result = true;
            _command._finishTimestamp = System.currentTimeMillis();
            logger.info("result:" + result + ", " + _command.toString());
            _testResults.put(_command, true);
            break;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
            result = true;
            _command._finishTimestamp = System.currentTimeMillis();
            logger.info("result:" + result + ", " + _command.toString());
            _testResults.put(_command, true);
            break;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("failed to parse command-line args: " + Arrays.asList(cliArgs)
          + ", exception: " + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ToolsUtil.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkCopy.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/model/ResourceConfig.java`
#### Snippet
```java
      if (capacities.entrySet().stream().anyMatch(entry -> entry.getValue() < 0)) {
        throw new IllegalArgumentException(
            String.format("Capacity Data contains a negative value:%s", capacities.toString()));
      }
      newCapacityRecord.put(partition, _objectMapper.writeValueAsString(capacities));
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("CommandLineClient: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/tools/ClusterVerifiers/BestPossibleExternalViewVerifier.java`
#### Snippet
```java
        if (!_expectLiveInstances.equals(actualLiveNodes)) {
          LOG.warn("Live instances are not as expected. Actual live nodes: " + actualLiveNodes
              .toString());
          return false;
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
      }
      LOG.info(
          "Helix task executor is shutting down, ignore unprocessed messages : " + sb.toString());
      return;
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
              factory.reset();
            } catch (Exception ex) {
              LOG.error("Failed to reset the factory {}.", factory.toString(), ex);
            }
          });
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/manager/zk/ZKHelixAdmin.java`
#### Snippet
```java
      throw new HelixException(String.format(
          "Can't reset state for %s.%s on %s, because a pending message %s exists for resource %s",
          resourceName, partitionNames, instanceName, message.toString(),
          message.getResourceName()));
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/CustomRebalancer.java`
#### Snippet
```java
    if (LOG.isDebugEnabled()) {
      LOG.debug(String.format("Processing resource: %s", resource.getResourceName()));
      LOG.debug(String.format("Final Mapping of resource : %s", partitionMapping.toString()));
    }
    return partitionMapping;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/WagedValidationUtil.java`
#### Snippet
```java
      throw new HelixException(String.format(
          "The required capacity keys: %s are not fully configured in the resource: %s, partition: %s, weight map: %s.",
          requiredCapacityKeys.toString(), resourceConfig.getResourceName(), partitionName,
          partitionCapacity.toString()));
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/WagedValidationUtil.java`
#### Snippet
```java
          "The required capacity keys: %s are not fully configured in the resource: %s, partition: %s, weight map: %s.",
          requiredCapacityKeys.toString(), resourceConfig.getResourceName(), partitionName,
          partitionCapacity.toString()));
    }
    return partitionCapacity;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/WagedValidationUtil.java`
#### Snippet
```java
      throw new HelixException(String.format(
          "The required capacity keys: %s are not fully configured in the instance: %s, capacity map: %s.",
          requiredCapacityKeys.toString(), instanceConfig.getInstanceName(),
          instanceCapacity.toString()));
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/WagedValidationUtil.java`
#### Snippet
```java
          "The required capacity keys: %s are not fully configured in the instance: %s, capacity map: %s.",
          requiredCapacityKeys.toString(), instanceConfig.getInstanceName(),
          instanceCapacity.toString()));
    }
    return instanceCapacity;
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/AssignableNode.java`
#### Snippet
```java
        .equals(replica)) {
      LOG.warn("Replica {} is not assigned to node {}. Ignore the release call.",
          replica.toString(), getInstanceName());
      return;
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
      throw new HelixRebalanceException(String.format(
          "Input contains invalid resource(s) that cannot be rebalanced by the WAGED rebalancer. %s",
          nonCompatibleResources.toString()), HelixRebalanceException.Type.INVALID_INPUT);
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
      Map<String, Resource> resourceMap, final CurrentStateOutput currentStateOutput)
      throws HelixRebalanceException {
    LOG.info("Start computing new ideal states for resources: {}", resourceMap.keySet().toString());
    validateInput(clusterData, resourceMap);

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/WagedRebalancer.java`
#### Snippet
```java
    });
    LOG.info("Finish computing new ideal states for resources: {}",
        resourceMap.keySet().toString());
    return newIdealStates;
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/ConstraintRebalanceStrategy.java`
#### Snippet
```java
    tempStateMap.setState(_resourceName, new Partition(partition), pendingAssignment);
    LogUtil.logDebug(_logger, eventId,
        "Update constraints with pending assignment: " + tempStateMap.toString());

    for (AbstractRebalanceHardConstraint hardConstraint : _hardConstraints) {
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/WorkflowControllerDataProvider.java`
#### Snippet
```java

    if (logger.isTraceEnabled()) {
      logger.trace("Cache content: " + toString());
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/ResourceControllerDataProvider.java`
#### Snippet
```java

    if (logger.isTraceEnabled()) {
      logger.trace("Cache content: " + toString());
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/RestAdminApplication.java`
#### Snippet
```java
    } catch (ParseException pe) {
      System.err.println("RestAdminApplication: failed to parse command-line options: "
          + pe.toString());
      printUsage(cliOptions);
      System.exit(1);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
    e.printStackTrace(pw);

    String error = e.getMessage() + '\n' + sw.toString();
    Map<String, String> result = new TreeMap<String, String>();
    result.put("ERROR", error);
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/resources/ClusterRepresentationUtil.java`
#### Snippet
```java
      PrintWriter pw1 = new PrintWriter(sw1);
      e.printStackTrace(pw1);
      return "{\"ERROR\": \"" + sw1.toString() + "\"}";
    }
  }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientPathMonitor.java`
#### Snippet
```java

    ObjectName objectName = new ObjectName(String
        .format("%s,%s=%s", ZkClientMonitor.getObjectName(_type, _key, _instanceName).toString(),
            MONITOR_PATH, _path.name()));
    doRegister(attributeList, ZkClientMonitor.MBEAN_DESCRIPTION, objectName);
```

## RuleId[id=SuspiciousMethodCalls]
### SuspiciousMethodCalls
'ConcurrentHashMap\>' may not contain values of type 'String'
in `helix-core/src/main/java/org/apache/helix/controller/HierarchicalDataHolder.java`
#### Snippet
```java
            newRoot.children = new ConcurrentHashMap<>();
          }
          if (!newRoot.children.contains(child)) {
            newRoot.children.put(child, new Node<T>());
          }
```

## RuleId[id=InnerClassMayBeStatic]
### InnerClassMayBeStatic
Inner class `ConsistentHashingPlacement` may be 'static'
in `helix-core/src/main/java/org/apache/helix/task/GenericTaskAssignmentCalculator.java`
#### Snippet
```java
  }

  private class ConsistentHashingPlacement {
    private JenkinsHash _hashFunction;
    private ConsistentHashSelector _selector;
```

### InnerClassMayBeStatic
Inner class `Entry` may be 'static'
in `helix-core/src/main/java/org/apache/helix/common/DedupEventBlockingQueue.java`
#### Snippet
```java
  private final Queue<Entry> _eventQueue;

  class Entry <T, E> {
    private T _type;
    private E _event;
```

### InnerClassMayBeStatic
Inner class `BrokerResourceOnlineOfflineStateModel` may be 'static'
in `helix-core/src/main/java/org/apache/helix/examples/BrokerResourceOnlineOfflineStateModelFactory.java`
#### Snippet
```java
      initialState = "OFFLINE"
  )
  public class BrokerResourceOnlineOfflineStateModel extends StateModel {
    public BrokerResourceOnlineOfflineStateModel() {
    }
```

### InnerClassMayBeStatic
Inner class `CurrentStateUpdate` may be 'static'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/GroupMessageHandler.java`
#### Snippet
```java

public class GroupMessageHandler {
  class CurrentStateUpdate {
    final PropertyKey _key;
    final CurrentState _curStateDelta;
```

### InnerClassMayBeStatic
Inner class `MsgHandlerFactoryRegistryItem` may be 'static'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
   * Put together all registration information about a message handler factory
   */
  class MsgHandlerFactoryRegistryItem {
    private final MessageHandlerFactory _factory;
    private final int _threadPoolSize;
```

### InnerClassMayBeStatic
Inner class `StatefulRebalancerRef` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
   * GenericHelixController.
   */
  private abstract class StatefulRebalancerRef<T extends StatefulRebalancer> {
    private T _rebalancer = null;
    private boolean _isRebalancerValid = true;
```

### InnerClassMayBeStatic
Inner class `PartitionInfo` may be 'static'
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java
  }

  class PartitionInfo {
    Map<String, List<InstanceConfig>> stateInfoMap;

```

### InnerClassMayBeStatic
Inner class `ListenerContext` may be 'static'
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
  }

  protected class ListenerContext {
    private Object _context;

```

### InnerClassMayBeStatic
Inner class `WorkflowObject` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/stages/task/TaskSchedulingStage.java`
#### Snippet
```java
  }

  class WorkflowObject implements Comparable<WorkflowObject> {
    String _workflowId;
    Long _rankingValue;
```

### InnerClassMayBeStatic
Inner class `ScheduledTask` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/RebalanceScheduler.java`
#### Snippet
```java
  private static final Logger LOG = LoggerFactory.getLogger(RebalanceScheduler.class);

  private class ScheduledTask {
    long _startTime;
    Future _future;
```

### InnerClassMayBeStatic
Inner class `RebalanceInvoker` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/util/RebalanceScheduler.java`
#### Snippet
```java
   * The simplest possible runnable that will trigger a run of the controller pipeline
   */
  private class RebalanceInvoker implements Runnable {
    private final HelixManager _manager;
    private final String _resource;
```

### InnerClassMayBeStatic
Inner class `Replica` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   * and an identifier signifying a specific replica of a given partition and state.
   */
  class Replica implements Comparable<Replica> {
    private String partition;
    private int replicaId; // this is a partition-relative id
```

### InnerClassMayBeStatic
Inner class `Selector` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
   * Selection algorithm based on the "straw" bucket type as described in the CRUSH algorithm.
   */
  private class Selector {
    private final Map<Node,Long> straws = new HashMap<Node,Long>();
    private final JenkinsHash hashFunction;
```

### InnerClassMayBeStatic
Inner class `Replica` may be 'static'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
   * and an identifier signifying a specific replica of a given partition and state.
   */
  class Replica implements Comparable<Replica> {
    private String partition;
    private int replicaId; // this is a partition-relative id
```

### InnerClassMayBeStatic
Inner class `ZkThreadMetric` may be 'static'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java
  }

  class ZkThreadMetric extends DynamicMetric<ZkEventThread, ZkEventThread> {
    public ZkThreadMetric(ZkEventThread eventThread) {
      super("ZkEventThead", eventThread);
```

### InnerClassMayBeStatic
Inner class `Ref` may be 'static'
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java

  // AtomicReference<Object> ref = new AtomicReference<Object>(new Object());
  class Ref {
    Object obj;

```

### InnerClassMayBeStatic
Inner class `HighWaterMarkUpdater` may be 'static'
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
})
public class FileStoreStateModel extends StateModel {
  private final class HighWaterMarkUpdater implements DataUpdater<ZNRecord> {
    private final Message message;
    private final ChangeRecord lastRecordProcessed;
```

### InnerClassMayBeStatic
Inner class `IZkDataListenerEntry` may be 'static'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
  protected final ZkAsyncRetryThread _asyncCallRetryThread;

  private class IZkDataListenerEntry {
    final IZkDataListener _dataListener;
    final boolean _prefetchData;
```

## RuleId[id=Java9CollectionFactory]
### Java9CollectionFactory
Can be replaced with 'List.of()' call
in `helix-core/src/main/java/org/apache/helix/api/config/ViewClusterSourceConfig.java`
#### Snippet
```java
@JsonIgnoreProperties(ignoreUnknown = true)
public class ViewClusterSourceConfig {
  private static final List<PropertyType> _validPropertyTypes = Collections.unmodifiableList(
      Arrays.asList(PropertyType.INSTANCES, PropertyType.EXTERNALVIEW, PropertyType.LIVEINSTANCES));
  private static final ObjectMapper _objectMapper = new ObjectMapper();
```

### Java9CollectionFactory
Can be replaced with 'Set.copyOf()' call
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
    // TODO: becomes customizable, we need to actually implement this so that it doesn't return all
    // TODO: AssignableInstances
    return Collections.unmodifiableSet(new HashSet<>(_assignableInstanceMap.values()));
  }

```

### Java9CollectionFactory
Can be replaced with 'Map.copyOf()' call
in `helix-core/src/main/java/org/apache/helix/common/caches/AbstractDataSnapshot.java`
#### Snippet
```java

  protected AbstractDataSnapshot(Map<PropertyKey, T> cacheData) {
    _properties = Collections.unmodifiableMap(new HashMap<>(cacheData));
  }

```

### Java9CollectionFactory
Can be replaced with 'Set.copyOf()' call
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java
      final Map<PropertyKey, CurrentState> prevStateMap, final Set<PropertyKey> updatedStateKeys) {
    this(currentStateMap);
    _updatedStateKeys = Collections.unmodifiableSet(new HashSet<>(updatedStateKeys));
    _prevStateMap = Collections.unmodifiableMap(new HashMap<>(prevStateMap));
  }
```

### Java9CollectionFactory
Can be replaced with 'Map.copyOf()' call
in `helix-core/src/main/java/org/apache/helix/common/caches/CurrentStateSnapshot.java`
#### Snippet
```java
    this(currentStateMap);
    _updatedStateKeys = Collections.unmodifiableSet(new HashSet<>(updatedStateKeys));
    _prevStateMap = Collections.unmodifiableMap(new HashMap<>(prevStateMap));
  }

```

## RuleId[id=SetReplaceableByEnumSet]
### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-rest/src/main/java/org/apache/helix/rest/common/datamodel/RestSnapShot.java`
#### Snippet
```java

  public RestSnapShot(String clusterName) {
    _propertyTypes = new HashSet<>();
    _clusterName = clusterName;
  }
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/api/config/HelixConfigProperty.java`
#### Snippet
```java

  HelixConfigProperty(ConfigScopeProperty ...configScopeProperties) {
    _applicableScopes = new HashSet<>(Arrays.asList(configScopeProperties));
  }

```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/task/TaskConstants.java`
#### Snippet
```java
  public final static int DEFAULT_TASK_THREAD_POOL_SIZE = 40;

  public static final Set<TaskState> FINAL_STATES = new HashSet<>(
      Arrays.asList(TaskState.COMPLETED, TaskState.FAILED, TaskState.ABORTED, TaskState.TIMED_OUT));
}
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java

  /** The illegal job states for job to accept new tasks */
  private final static Set<TaskState> ILLEGAL_JOB_STATES_FOR_TASK_MODIFICATION = new HashSet<>(
      Arrays.asList(TaskState.TIMING_OUT, TaskState.TIMED_OUT, TaskState.FAILING, TaskState.FAILED,
          TaskState.ABORTED, TaskState.COMPLETED, TaskState.STOPPING, TaskState.STOPPED));
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    long st = System.currentTimeMillis();
    WorkflowContext ctx;
    Set<TaskState> allowedStates = new HashSet<>(Arrays.asList(targetStates));

    long timeToSleep = timeout > 100L ? 100L : timeout;
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    }

    Set<TaskState> allowedStates = new HashSet<>(Arrays.asList(states));
    // Wait for state
    long st = System.currentTimeMillis();
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/task/JobDispatcher.java`
#### Snippet
```java

  // Intermediate states (meaning they are not terminal states) for workflows and jobs
  private static final Set<TaskState> INTERMEDIATE_STATES = new HashSet<>(Arrays
      .asList(TaskState.IN_PROGRESS, TaskState.NOT_STARTED, TaskState.STOPPING, TaskState.STOPPED));
  private WorkflowControllerDataProvider _dataProvider;
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/cloud/event/helix/CloudEventCallbackProperty.java`
#### Snippet
```java
   */
  public CloudEventCallbackProperty(Map<String, String> userArgs) {
    _enabledHelixOperation = new HashSet<>();
    _userDefinedCallbackMap = new HashMap<>();
    _userArgs = userArgs;
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
    // will be aborted.
    Set<TaskState> jobStatesForAbortingTasks =
        new HashSet<>(Arrays.asList(TaskState.TIMING_OUT, TaskState.TIMED_OUT, TaskState.FAILING,
            TaskState.FAILED, TaskState.ABORTED));

```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackHandler.java`
#### Snippet
```java
    _path = propertyKey.getPath();
    _listener = listener;
    _eventTypes = new HashSet<>(Arrays.asList(eventTypes));
    _changeType = changeType;
    _lastNotificationTimeStamp = new AtomicLong(System.nanoTime());
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeSnapshot.java`
#### Snippet
```java
   */
  ResourceChangeSnapshot() {
    _changedTypes = new HashSet<>();
    _instanceConfigMap = new HashMap<>();
    _idealStateMap = new HashMap<>();
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeSnapshot.java`
#### Snippet
```java
  ResourceChangeSnapshot(ResourceControllerDataProvider dataProvider,
      boolean ignoreNonTopologyChange) {
    _changedTypes = new HashSet<>(dataProvider.getRefreshedChangeTypes());

    _instanceConfigMap = ignoreNonTopologyChange ?
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/controller/changedetector/ResourceChangeSnapshot.java`
#### Snippet
```java
   */
  ResourceChangeSnapshot(ResourceChangeSnapshot snapshot) {
    _changedTypes = new HashSet<>(snapshot._changedTypes);
    _instanceConfigMap = new HashMap<>(snapshot._instanceConfigMap);
    _idealStateMap = new HashMap<>(snapshot._idealStateMap);
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-core/src/main/java/org/apache/helix/controller/dataproviders/BaseControllerDataProvider.java`
#### Snippet
```java
   */
  protected synchronized Set<HelixConstants.ChangeType> doRefresh(HelixDataAccessor accessor) {
    Set<HelixConstants.ChangeType> refreshedTypes = new HashSet<>();

    // Refresh raw data
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/SourceClusterConfigChangeAction.java`
#### Snippet
```java
    for (Map.Entry<String, ViewClusterSourceConfig> entry : currentConfigMap.entrySet()) {
      if (oldConfigMap.containsKey(entry.getKey())) {
        Set<PropertyType> oldPropertySet = new HashSet<>(oldConfigMap.get(entry.getKey()).getProperties());
        Set<PropertyType> currentPropertySet = new HashSet<>(entry.getValue().getProperties());
        if (!oldPropertySet.equals(currentPropertySet)) {
```

### SetReplaceableByEnumSet
`HashSet<>` can be replaced with 'EnumSet'
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/SourceClusterConfigChangeAction.java`
#### Snippet
```java
      if (oldConfigMap.containsKey(entry.getKey())) {
        Set<PropertyType> oldPropertySet = new HashSet<>(oldConfigMap.get(entry.getKey()).getProperties());
        Set<PropertyType> currentPropertySet = new HashSet<>(entry.getValue().getProperties());
        if (!oldPropertySet.equals(currentPropertySet)) {
          _toAdd.add(new ViewClusterSourceConfig(entry.getValue()));
```

## RuleId[id=StringEqualsEmptyString]
### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskAssignmentCalculator.java`
#### Snippet
```java
  public static String getQuotaType(WorkflowConfig workflowConfig, JobConfig jobConfig) {
    String workflowType = workflowConfig.getWorkflowType();
    if (workflowType == null || workflowType.equals("")) {
      // Workflow type is null, so we go by the job type
      String jobType = jobConfig.getJobType();
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskAssignmentCalculator.java`
#### Snippet
```java
      // Workflow type is null, so we go by the job type
      String jobType = jobConfig.getJobType();
      if (jobType == null || jobType.equals("")) {
        // Job type is null, so we use DEFAULT
        return AssignableInstance.DEFAULT_QUOTA_TYPE;
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java

    // If quotaType is null, treat it as DEFAULT
    if (quotaType == null || quotaType.equals("")) {
      quotaType = DEFAULT_QUOTA_TYPE;
    }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
  public static boolean isGenericTaskJob(JobConfig jobConfig) {
    // Targeted jobs may have TaskConfigs, so we check whether the target resource is set
    return jobConfig.getTargetResource() == null || jobConfig.getTargetResource().equals("");
  }

```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/task/assigner/ThreadCountBasedTaskAssigner.java`
#### Snippet
```java
      return buildNoInstanceAssignment(tasks, quotaType);
    }
    if (quotaType == null || quotaType.equals("") || quotaType.equals("null")) {
      // Sometimes null is stored as a String literal
      logger.warn("Quota type is null. Assigning it as DEFAULT type!");
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
          countsMap.put(k, new Integer(0));//
        }
        if (value.equals("") || map1.get(k).equalsIgnoreCase(value)) {
          countsMap.put(k, countsMap.get(k).intValue() + 1);
        }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
      for (String instanceName : partitionAssignmentMap.keySet()) {
        if (partitionAssignmentMap.get(instanceName).equalsIgnoreCase(masterStateValue)
            && masterInstance.equals("")) {
          masterInstance = instanceName;
        } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
        for (String instanceName : partitionAssignmentMap.keySet()) {
          if (partitionAssignmentMap.get(instanceName).equalsIgnoreCase(masterStateValue)
              && masterInstance.equals("")) {
            masterInstance = instanceName;
          } else {
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
   */
  private String normalizePattern(String pattern) {
    if (pattern == null || pattern.equals("") || pattern.equals("*")) {
      pattern = "%";
    }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
    for (ZNRecordRow row : result) {
      Map<String, String> resultRow = new HashMap<String, String>();
      resultRow.put("instanceName", !recipientCriteria.getInstanceName().equals("")
          ? (!Strings.isNullOrEmpty(row.getMapSubKey()) ? row.getMapSubKey() : row.getRecordId())
          : "");
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
          : "");
      resultRow.put("resourceName",
          !recipientCriteria.getResource().equals("") ? row.getRecordId() : "");
      resultRow.put("partitionName",
          !recipientCriteria.getPartition().equals("") ? row.getMapKey() : "");
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
          !recipientCriteria.getResource().equals("") ? row.getRecordId() : "");
      resultRow.put("partitionName",
          !recipientCriteria.getPartition().equals("") ? row.getMapKey() : "");
      resultRow.put("partitionState",
          !recipientCriteria.getPartitionState().equals("") ? row.getMapValue() : "");
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/messaging/CriteriaEvaluator.java`
#### Snippet
```java
          !recipientCriteria.getPartition().equals("") ? row.getMapKey() : "");
      resultRow.put("partitionState",
          !recipientCriteria.getPartitionState().equals("") ? row.getMapValue() : "");
      selected.add(resultRow);
    }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java

    String tag = idealState.getInstanceGroupTag();
    if (tag == null || tag.equals("") || tag.equals("null")) {
      _tag = ClusterStatusMonitor.DEFAULT_TAG;
    } else {
```

## RuleId[id=UnnecessaryBoxing]
### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/WorkflowAccessor.java`
#### Snippet
```java
      @PathParam("workflowId") String workflowId,
      @QueryParam("force") @DefaultValue("false") String forceDelete) {
    boolean force = Boolean.valueOf(forceDelete);
    TaskDriver driver = getTaskDriver(clusterId);
    try {
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/HelixCloudProperty.java`
#### Snippet
```java
              Collections.singletonList(azureProperties.getProperty(CLOUD_INFO_SOURCE)));
          setCloudInfoProcessorName(azureProperties.getProperty(CLOUD_INFO_PROCESSOR_NAME));
          setCloudMaxRetry(Integer.valueOf(azureProperties.getProperty(CLOUD_MAX_RETRY)));
          setCloudConnectionTimeout(
              Long.valueOf(azureProperties.getProperty(CONNECTION_TIMEOUT_MS)));
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/HelixCloudProperty.java`
#### Snippet
```java
          setCloudMaxRetry(Integer.valueOf(azureProperties.getProperty(CLOUD_MAX_RETRY)));
          setCloudConnectionTimeout(
              Long.valueOf(azureProperties.getProperty(CONNECTION_TIMEOUT_MS)));
          setCloudRequestTimeout(Long.valueOf(azureProperties.getProperty(REQUEST_TIMEOUT_MS)));
          break;
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/HelixCloudProperty.java`
#### Snippet
```java
          setCloudConnectionTimeout(
              Long.valueOf(azureProperties.getProperty(CONNECTION_TIMEOUT_MS)));
          setCloudRequestTimeout(Long.valueOf(azureProperties.getProperty(REQUEST_TIMEOUT_MS)));
          break;
        case CUSTOMIZED:
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java

      if (cfg.containsKey(WorkflowConfigProperty.capacity.name())) {
        int capacity = Integer.valueOf(cfg.get(WorkflowConfigProperty.capacity.name()));
        if (capacity > 0) {
          setCapacity(capacity);
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java
      if (cfg.containsKey(WorkflowConfigProperty.JobPurgeInterval.name())) {
        long jobPurgeInterval =
            Long.valueOf(cfg.get(WorkflowConfigProperty.JobPurgeInterval.name()));
        if (jobPurgeInterval > 0) {
          setJobPurgeInterval(jobPurgeInterval);
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/WorkflowConfig.java`
#### Snippet
```java

      if (cfg.containsKey(WorkflowConfigProperty.FailureThreshold.name())) {
        int threshold = Integer.valueOf(cfg.get(WorkflowConfigProperty.FailureThreshold.name()));
        if (threshold >= 0) {
          setFailureThreshold(threshold);
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/WorkflowContext.java`
#### Snippet
```java

    try {
      long ret = Long.valueOf(t);
      return ret;
    } catch (NumberFormatException e) {
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
      for (final Map.Entry<String, String> resEntry : resourceCapacity.entrySet()) {
        String resourceType = resEntry.getKey();
        int capacity = Integer.valueOf(resEntry.getValue());

        if (!_totalCapacity.containsKey(resourceType)) {
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
        int totalRatio = 0;
        for (String val : typeQuotaRatio.values()) {
          totalRatio += Integer.valueOf(val);
        }

```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/assigner/AssignableInstance.java`
#### Snippet
```java
          // Calculate total quota for a given type
          String quotaType = typeQuotaEntry.getKey();
          int quotaRatio = Integer.valueOf(typeQuotaEntry.getValue());
          int quota = Math.round(capacity * (float) quotaRatio / (float) totalRatio);

```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/TaskUtil.java`
#### Snippet
```java
      throw new HelixException(String.format("Invalid partition name %s", pName));
    }
    return Integer.valueOf(pName.substring(index + 1));
  }

```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/util/RebalanceUtil.java`
#### Snippet
```java
    result.put("SlaveAssignmentMap", combinedNodeSlaveAssignmentMap);
    result.put("replicas", Integer.parseInt(state.getReplicas()));
    result.put("partitions", new Integer(state.getRecord().getListFields().size()));
    result.put("reversePartitionIndex", reversePartitionIndex);
    return result;
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/task/AbstractTaskDispatcher.java`
#### Snippet
```java
      if (jobConfig.getTaskConfig(firstTask).getConfigMap().containsKey(TASK_LATENCY_TAG)) {
        long taskDuration =
            Long.valueOf(jobConfig.getTaskConfig(firstTask).getConfigMap().get(TASK_LATENCY_TAG));
        long controllerInducedDelay =
            currentTimestamp - jobConfig.getStat().getCreationTime() - taskDuration;
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
    int topStateCount = 0;
    try {
      topStateCount = Integer.valueOf(_statesCountMap.get(getTopState()));
    } catch (NumberFormatException ex) {

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/model/Resource.java`
#### Snippet
```java

    if (enabledInResource != null) {
      return Boolean.valueOf(enabledInResource);
    }

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/model/Resource.java`
#### Snippet
```java
        _clusterConfig.getRecord().getSimpleField(HelixConfigProperty.P2P_MESSAGE_ENABLED.name()) : null;

    return enabledInCluster != null ? Boolean.valueOf(enabledInCluster) : false;
  }

```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/model/ParticipantHistory.java`
#### Snippet
```java
    if (timeStr != null) {
      try {
        offlineTime = Long.valueOf(timeStr);
      } catch (NumberFormatException ex) {
        LOG.warn("Failed to parse LAST_OFFLINE_TIME " + timeStr);
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
    @Override
    public int compare(Message m1, Message m2) {
      return new Long(m1.getCreateTimeStamp()).compareTo(new Long(m2.getCreateTimeStamp()));
    }
  };
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/model/InstanceConfig.java`
#### Snippet
```java
    if (w != null) {
      try {
        int weight = Integer.valueOf(w);
        return weight;
      } catch (NumberFormatException e) {
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByShuffling.java`
#### Snippet
```java
    List<Integer> partitionList = new ArrayList<Integer>(partitions);
    for (int i = 0; i < partitions; i++) {
      partitionList.add(new Integer(i));
    }
    Random rand = new Random(randomSeed);
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
      for (String k : map1.keySet()) {
        if (!countsMap.containsKey(k)) {
          countsMap.put(k, new Integer(0));
        } else {
          countsMap.put(k, countsMap.get(k).intValue() + 1);
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealStateCalculatorByRush.java`
#### Snippet
```java
        }
        if (!masterCountsMap.containsKey(k)) {
          masterCountsMap.put(k, new Integer(0));

        } else if (map1.get(k).equalsIgnoreCase("MASTER")) {
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
      for (String k : map1.keySet()) {
        if (!countsMap.containsKey(k)) {
          countsMap.put(k, new Integer(0));//
        }
        if (value.equals("") || map1.get(k).equalsIgnoreCase(value)) {
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/IdealCalculatorByConsistentHashing.java`
#### Snippet
```java
    for (int i = 0; i < hashRing.length; i++) {
      if (!countsMap.containsKey(hashRing[i])) {
        countsMap.put(hashRing[i], new Integer(0));//
      }
      countsMap.put(hashRing[i], countsMap.get(hashRing[i]).intValue() + 1);
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    for (TestCommand command : commandList) {
      testResults.put(command, new Boolean(false));

      TestTrigger trigger = command._trigger;
```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/IntegrationTestUtil.java`
#### Snippet
```java
      String timeoutStr = cmd.getOptionValue(timeout);
      try {
        timeoutValue = Long.valueOf(timeoutStr);
      } catch (NumberFormatException ex) {
        System.err.println(
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
    result.put("MasterAssignmentMap", nodeMasterAssignmentMap);
    result.put("SlaveAssignmentMap", combinedNodeSlaveAssignmentMap);
    result.put("replicas", new Integer(replicas + 1));
    result.put("partitions", new Integer(partitions));
    return result;
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/tools/DefaultIdealStateCalculator.java`
#### Snippet
```java
    result.put("SlaveAssignmentMap", combinedNodeSlaveAssignmentMap);
    result.put("replicas", new Integer(replicas + 1));
    result.put("partitions", new Integer(partitions));
    return result;
  }
```

### UnnecessaryBoxing
Unnecessary boxing
in `helix-core/src/main/java/org/apache/helix/manager/zk/ParticipantManager.java`
#### Snippet
```java
    try {
      autoRegistration =
          Boolean.valueOf(_helixManagerProperty.getHelixCloudProperty().getCloudEnabled());
      LOG.info("instance: " + _instanceName + " auto-registering " + _clusterName + " is "
          + autoRegistration);
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ResourceMonitor.java`
#### Snippet
```java
    int replica;
    try {
      replica = Integer.valueOf(idealState.getReplicas());
    } catch (NumberFormatException e) {
      _logger.info("Unspecified replica count for {}, skip updating the ResourceMonitor Mbean: {}", _resourceName,
```

## RuleId[id=SynchronizeOnNonFinalField]
### SynchronizeOnNonFinalField
Synchronization on a non-final field `_stateModel`
in `helix-core/src/main/java/org/apache/helix/task/TaskRunner.java`
#### Snippet
```java
   */
  private void updateCurrentState(TaskPartitionState state) {
    synchronized (_stateModel) {
      _stateModel.updateState(state.name());
      if (!setZKCurrentState(_manager.getHelixDataAccessor(), _instance, _sessionId, _taskName,
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_manager`
in `helix-core/src/main/java/org/apache/helix/manager/zk/DefaultSchedulerMessageHandlerFactory.java`
#### Snippet
```java
        newAddedScheduledTasks.setStateModelDefRef(SCHEDULER_TASK_QUEUE);

        synchronized (_manager) {
          int existingTopPartitionId = 0;
          IdealState currentTaskQueue =
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_callBackEventQueue`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java
  public void submitEventToExecutor(NotificationContext.Type eventType, NotificationContext event,
      CallbackHandler handler) {
    synchronized (_callBackEventQueue) {
      if (_isShutdown) {
        logger.error("Failed to process callback. CallbackEventExecutor is already shut down.");
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_callBackEventQueue`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java

  public void reset() {
    synchronized (_callBackEventQueue) {
      _callBackEventQueue.clear();
      if (_futureCallBackProcessEvent != null) {
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_callBackEventQueue`
in `helix-core/src/main/java/org/apache/helix/manager/zk/CallbackEventExecutor.java`
#### Snippet
```java

  private void submitPendingHandleCallBackEventToManagerThreadPool(CallbackHandler handler) {
    synchronized (_callBackEventQueue) {
      if (_callBackEventQueue.size() != 0) {
        try {
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_callback`
in `helix-core/src/main/java/org/apache/helix/messaging/AsyncCallback.java`
#### Snippet
```java
    public void run() {
      try {
        synchronized (_callback) {
          _callback._timedOut = true;
          _callback.notifyAll();
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_helixControllerFactory`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  public static void addController(GenericHelixController controller) {
    if (controller != null && controller._clusterName != null) {
      synchronized (_helixControllerFactory) {
        Set<GenericHelixController> currentControllerSet =
            _helixControllerFactory.get(controller._clusterName);
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_helixControllerFactory`
in `helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java`
#### Snippet
```java
  public static void removeController(GenericHelixController controller) {
    if (controller != null && controller._clusterName != null) {
      synchronized (_helixControllerFactory) {
        Set<GenericHelixController> currentControllerSet =
            _helixControllerFactory.get(controller._clusterName);
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_controllerOpt`
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
    logger.info(controllerName + " becoming leader from standby for " + clusterName);

    synchronized (_controllerOpt) {
      if (!_controllerOpt.isPresent()) {
        HelixManager newController = HelixManagerFactory
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_controllerOpt`
in `helix-core/src/main/java/org/apache/helix/participant/DistClusterControllerStateModel.java`
#### Snippet
```java
  @Override
  public void reset() {
    synchronized (_controllerOpt) {
      if (_controllerOpt.isPresent()) {
        _controllerOpt.get().disconnect();
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_znodeCompressCounter`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  public void increaseZnodeCompressCounter() {
    synchronized (_znodeCompressCounter) {
      _znodeCompressCounter.updateValue(_znodeCompressCounter.getValue() + 1);
    }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_outstandingRequestGauge`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  public void increaseOutstandingRequestGauge() {
    synchronized (_outstandingRequestGauge) {
      _outstandingRequestGauge.updateValue(_outstandingRequestGauge.getValue() + 1);
    }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_expiredSessionCounter`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  public void increasExpiredSessionCounter() {
    synchronized (_expiredSessionCounter) {
      _expiredSessionCounter.updateValue(_expiredSessionCounter.getValue() + 1);
    }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_outstandingRequestGauge`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  public void decreaseOutstandingRequestGauge() {
    synchronized (_outstandingRequestGauge) {
      _outstandingRequestGauge.updateValue(_outstandingRequestGauge.getValue() - 1);
    }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_stateChangeEventCounter`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  public void increaseStateChangeEventCounter() {
    synchronized (_stateChangeEventCounter) {
      _stateChangeEventCounter.updateValue(_stateChangeEventCounter.getValue() + 1);
    }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_dataChangeEventCounter`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/metric/ZkClientMonitor.java`
#### Snippet
```java

  public void increaseDataChangeEventCounter() {
    synchronized (_dataChangeEventCounter) {
      _dataChangeEventCounter.updateValue(_dataChangeEventCounter.getValue() + 1);
    }
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_isOperationDone`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java

    private void markOperationDone() {
      synchronized (_isOperationDone) {
        _isOperationDone.set(true);
        _isOperationDone.notifyAll();
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `_isOperationDone`
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
    public boolean waitForSuccess() {
      try {
        synchronized (_isOperationDone) {
          while (!_isOperationDone.get()) {
            _isOperationDone.wait();
```

### SynchronizeOnNonFinalField
Synchronization on a non-final field `lock`
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
    long start = System.currentTimeMillis();
    System.out.println(start);
    synchronized (lock) {

      if (ref.get() != null) {
```

## RuleId[id=MissingDeprecatedAnnotation]
### MissingDeprecatedAnnotation
Missing '@Deprecated' annotation
in `helix-core/src/main/java/org/apache/helix/api/listeners/ConfigChangeListener.java`
#### Snippet
```java
 * @deprecated replaced by InstanceConfigChangeListener
 */
public interface ConfigChangeListener {

  /**
```

## RuleId[id=ConditionCoveredByFurtherCondition]
### ConditionCoveredByFurtherCondition
Condition 'entity != null' covered by subsequent condition 'entity instanceof String'
in `helix-rest/src/main/java/org/apache/helix/rest/server/filters/AuditLogFilter.java`
#### Snippet
```java
      auditLogBuilder.completeTime(new Date()).responseCode(response.getStatus());
      Object entity = response.getEntity();
      if(entity != null && entity instanceof String) {
        auditLogBuilder.responseEntity((String) response.getEntity());
      }
```

### ConditionCoveredByFurtherCondition
Condition 'o == null' covered by subsequent condition '!(o instanceof PropertyKey)'
in `helix-core/src/main/java/org/apache/helix/PropertyKey.java`
#### Snippet
```java
      return true;
    }
    if (o == null || !(o instanceof PropertyKey)) {
      return false;
    }
```

### ConditionCoveredByFurtherCondition
Condition 'other == null' covered by subsequent condition '!(other instanceof ViewClusterSourceConfig)'
in `helix-core/src/main/java/org/apache/helix/api/config/ViewClusterSourceConfig.java`
#### Snippet
```java
  @Override
  public boolean equals(Object other) {
    if (other == null || !(other instanceof ViewClusterSourceConfig)) {
      return false;
    }
```

### ConditionCoveredByFurtherCondition
Condition 'curState != null' covered by subsequent condition 'curState == TaskState.ABORTED'
in `helix-core/src/main/java/org/apache/helix/task/TaskDriver.java`
#### Snippet
```java
    for (String jobNode : workflowConfig.getJobDag().getAllNodes()) {
      TaskState curState = wCtx.getJobState(jobNode);
      if (curState != null && curState == TaskState.ABORTED || curState == TaskState.COMPLETED
          || curState == TaskState.FAILED) {
        jobs.add(jobNode);
```

### ConditionCoveredByFurtherCondition
Condition 'obj == null' covered by subsequent condition '!(obj instanceof TaskExecutionInfo)'
in `helix-core/src/main/java/org/apache/helix/task/TaskExecutionInfo.java`
#### Snippet
```java
  @Override
  public boolean equals(Object obj) {
    if (obj == null || !(obj instanceof TaskExecutionInfo)) {
      return false;
    }
```

### ConditionCoveredByFurtherCondition
Condition 'obj == null' covered by subsequent condition '!(obj instanceof Partition)'
in `helix-core/src/main/java/org/apache/helix/model/Partition.java`
#### Snippet
```java
  @Override
  public boolean equals(Object obj) {
    if (obj == null || !(obj instanceof Partition)) {
      return false;
    }
```

### ConditionCoveredByFurtherCondition
Condition 'that == null' covered by subsequent condition '!(that instanceof Transition)'
in `helix-core/src/main/java/org/apache/helix/model/Transition.java`
#### Snippet
```java
  @Override
  public boolean equals(Object that) {
    if (that == null || !(that instanceof Transition)) {
      return false;
    }
```

### ConditionCoveredByFurtherCondition
Condition 'ctx != null' covered by subsequent condition 'ctx instanceof ZkAsyncCallMonitorContext'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
        _stat = stat;
        // update ctx with data size
        if (_data != null && ctx != null && ctx instanceof ZkAsyncCallMonitorContext) {
          ((ZkAsyncCallMonitorContext) ctx).setBytes(_data.length);
        }
```

### ConditionCoveredByFurtherCondition
Condition 'ctx != null' covered by subsequent condition 'ctx instanceof ZkAsyncCallMonitorContext'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
      }

      if (ctx != null && ctx instanceof ZkAsyncCallMonitorContext) {
        ZkAsyncCallMonitorContext monitor = (ZkAsyncCallMonitorContext) ctx;
        if(rc == 0) {
```

### ConditionCoveredByFurtherCondition
Condition 'ctx != null' covered by subsequent condition 'ctx instanceof ZkAsyncRetryCallContext'
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/callback/ZkAsyncCallbacks.java`
#### Snippet
```java
      // If retry is requested by passing the retry callback context, do retry if necessary.
      if (needRetry(rc)) {
        if (ctx != null && ctx instanceof ZkAsyncRetryCallContext) {
          try {
            if (((ZkAsyncRetryCallContext) ctx).requestRetry()) {
```

## RuleId[id=UnnecessaryFullyQualifiedName]
### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.rest.server.resources.helix` is unnecessary and can be removed
in `helix-rest/src/main/java/org/apache/helix/rest/server/resources/helix/ResourceAssignmentOptimizerAccessor.java`
#### Snippet
```java
public class ResourceAssignmentOptimizerAccessor extends AbstractHelixResource {
  private static Logger LOG = LoggerFactory.getLogger(
      org.apache.helix.rest.server.resources.helix.ResourceAssignmentOptimizerAccessor.class
          .getName());

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.model` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/status/ClusterManagementMode.java`
#### Snippet
```java
     * Gets the desired live instance status for this management mode.
     *
     * @return The desired {@link org.apache.helix.model.LiveInstance.LiveInstanceStatus}.
     * If participants status is not expected to change for the management mode, null is returned.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/CapacityProvider.java`
#### Snippet
```java
 * Note that all return values of the provider are supposed to be in the same unit.
 * For example, if the provider is for memory capacity of a host (total memory size is 8G, current usage is 512MB),
 * the return values could be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 8192, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 512.
 * Another example, if the provider is for partition count capacity (max count 1000 partitions, currently no partition assigned),
 * the return values should be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 1000, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 0.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/CapacityProvider.java`
#### Snippet
```java
 * Note that all return values of the provider are supposed to be in the same unit.
 * For example, if the provider is for memory capacity of a host (total memory size is 8G, current usage is 512MB),
 * the return values could be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 8192, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 512.
 * Another example, if the provider is for partition count capacity (max count 1000 partitions, currently no partition assigned),
 * the return values should be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 1000, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 0.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/CapacityProvider.java`
#### Snippet
```java
 * the return values could be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 8192, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 512.
 * Another example, if the provider is for partition count capacity (max count 1000 partitions, currently no partition assigned),
 * the return values should be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 1000, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 0.
 *
 * Moreover, while this provider is used together with a {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider PartitionWeightProvider},
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/CapacityProvider.java`
#### Snippet
```java
 * the return values could be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 8192, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 512.
 * Another example, if the provider is for partition count capacity (max count 1000 partitions, currently no partition assigned),
 * the return values should be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 1000, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 0.
 *
 * Moreover, while this provider is used together with a {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider PartitionWeightProvider},
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/CapacityProvider.java`
#### Snippet
```java
 * the return values should be {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String)} = 1000, and {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} = 0.
 *
 * Moreover, while this provider is used together with a {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider PartitionWeightProvider},
 * both providers are supposed to return values in the same unit so they can be used to estimate the resource usage of an proposed assignment.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * The return value will be used to calculate resource requirement of a proposed assignment to estimate if the assignment is possible or not.
 * In detail,
 * NewResourceUsage = {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} + SUM({@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)})
 * And for validate, the constraint checks if {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String) TotalCapacity} >= NewResourceUsage.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * The return value will be used to calculate resource requirement of a proposed assignment to estimate if the assignment is possible or not.
 * In detail,
 * NewResourceUsage = {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} + SUM({@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)})
 * And for validate, the constraint checks if {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String) TotalCapacity} >= NewResourceUsage.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * In detail,
 * NewResourceUsage = {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantUsage(String)} + SUM({@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)})
 * And for validate, the constraint checks if {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider#getParticipantCapacity(String) TotalCapacity} >= NewResourceUsage.
 *
 * For example, a database resource partition will need certain amount of storage usage, as well as CPU, memory, and network IO.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * For example, a database resource partition will need certain amount of storage usage, as well as CPU, memory, and network IO.
 * If a provider is implemented for estimating storage usage, for instance,
 * {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)} should return
 * disk size that need to be reserved by this partition. Returns 10 for 10 GB etc.
 * In addition, if another provider is implemented for estimating memory usage, {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)} should return
 * disk size that need to be reserved by this partition. Returns 10 for 10 GB etc.
 * In addition, if another provider is implemented for estimating memory usage, {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)}
 * should return max memory that could be used by this partition. Returns 100 for 100 MB memory usage etc.
 *
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * should return max memory that could be used by this partition. Returns 100 for 100 MB memory usage etc.
 *
 * While this provider is used together with a {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider CapacityProvider},
 * both providers are supposed to return values in the same unit so they can be used to estimate the resource usage of an proposed assignment.
 * For example, if the providers are designed for providing memory usage, and the {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider CapacityProvider}
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * While this provider is used together with a {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider CapacityProvider},
 * both providers are supposed to return values in the same unit so they can be used to estimate the resource usage of an proposed assignment.
 * For example, if the providers are designed for providing memory usage, and the {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider CapacityProvider}
 * returns value in the unit of MB, then {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)} should also return
 * the weight in the unit of MB.
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.api.rebalancer.constraint.dataprovider` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/api/rebalancer/constraint/dataprovider/PartitionWeightProvider.java`
#### Snippet
```java
 * both providers are supposed to return values in the same unit so they can be used to estimate the resource usage of an proposed assignment.
 * For example, if the providers are designed for providing memory usage, and the {@link org.apache.helix.api.rebalancer.constraint.dataprovider.CapacityProvider CapacityProvider}
 * returns value in the unit of MB, then {@link org.apache.helix.api.rebalancer.constraint.dataprovider.PartitionWeightProvider#getPartitionWeight(String, String)} should also return
 * the weight in the unit of MB.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.task` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/task/TaskResult.java`
#### Snippet
```java
    CANCELED,
    /** The task encountered an error from which it can not recover.
     * This is equivalent to {@link org.apache.helix.task.TaskResult.Status#FAILED}.*/
    @Deprecated
    ERROR,
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.task` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/task/TaskResult.java`
#### Snippet
```java
    COMPLETED,
    /**
     * The task was cancelled externally, i.e. {@link org.apache.helix.task.Task#cancel()} was
     * called.
     */
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.model` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/util/MessageUtil.java`
#### Snippet
```java
  /**
   * Creates a message to change participant status
   * {@link org.apache.helix.model.LiveInstance.LiveInstanceStatus}
   *
   * @param currentState current status of the live instance
```

### UnnecessaryFullyQualifiedName
Qualifier `java.lang` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/util/ConfigStringUtil.java`
#### Snippet
```java

  private ConfigStringUtil() {
    throw new java.lang.UnsupportedOperationException(
        "Utility class ConfigStringUtil and cannot be instantiated");
  }
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.common` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/common/ClusterEventProcessor.java`
#### Snippet
```java
 * style).
 *
 * This class is deprecated, please use {@link org.apache.helix.common.DedupEventProcessor}.
 */
@Deprecated
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.common` is unnecessary and can be removed
in `helix-core/src/main/java/org/apache/helix/common/ClusterEventBlockingQueue.java`
#### Snippet
```java
 * {@link BlockingQueue} interface.
 *
 * This class is deprecated, please use {@link org.apache.helix.common.DedupEventBlockingQueue}.
 */
@Deprecated
```

### UnnecessaryFullyQualifiedName
Qualifier `org.restlet.engine` is unnecessary, and can be replaced with an import
in `helix-admin-webapp/src/main/java/org/apache/helix/webapp/RestAdminApplication.java`
#### Snippet
```java

  static {
    org.restlet.engine.Engine.setLogLevel(Level.SEVERE);
  }

```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.lock.helix` is unnecessary and can be removed
in `helix-lock/src/main/java/org/apache/helix/lock/helix/ZKLockConfig.java`
#### Snippet
```java
public class ZKLockConfig {
  private static final Logger LOG =
      LoggerFactory.getLogger(org.apache.helix.lock.helix.ZKLockConfig.class.getName());
  private LockScope _lockScope;
  private String _zkAddress;
```

### UnnecessaryFullyQualifiedName
Qualifier `org.apache.helix.zookeeper.api.client` is unnecessary and can be removed
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/api/client/ChildrenSubscribeResult.java`
#### Snippet
```java


/** Represents return type of {@link org.apache.helix.zookeeper.api.client.RealmAwareZkClient#subscribeChildChanges(String, IZkChildListener, boolean)}
 *  The returned value would signal if watch installation to ZooKeeper server succeeded
 *  or not using field _isInstalled. The _children field would contains the list of child names
```

## RuleId[id=RegExpSingleCharAlternation]
### RegExpSingleCharAlternation
Single character alternation in RegExp
in `helix-core/src/main/java/org/apache/helix/HelixManagerProperties.java`
#### Snippet
```java
    }

    String[] version1Splits = version1.split("(\\.|-)");
    String[] version2Splits = version2.split("(\\.|-)");

```

### RegExpSingleCharAlternation
Single character alternation in RegExp
in `helix-core/src/main/java/org/apache/helix/HelixManagerProperties.java`
#### Snippet
```java

    String[] version1Splits = version1.split("(\\.|-)");
    String[] version2Splits = version2.split("(\\.|-)");

    if (version1Splits == null || version1Splits.length == 0 || version2Splits == null
```

## RuleId[id=ThrowablePrintStackTrace]
### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/StartClusterManager.java`
#### Snippet
```java
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
  }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerStateModel.java`
#### Snippet
```java
      } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
      }
      _thread = null;
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerThread.java`
#### Snippet
```java
      System.err.println(" [-] " + _consumerId + " on " + _partition + " is interrupted ...");
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      if (connection != null) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/ConsumerThread.java`
#### Snippet
```java
        } catch (IOException e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
      }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rabbitmq-consumer-group/src/main/java/org/apache/helix/recipes/rabbitmq/Consumer.java`
#### Snippet
```java
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    } finally {
      disconnect();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
          } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
          }
          System.out.println(i++ + "...");
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ExampleParticipant.java`
#### Snippet
```java
        }
      } catch (Exception e) {
        e.printStackTrace();
        delay = 0;
      }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKLogFormatter.java`
#### Snippet
```java
        data = dt.getData(path, stat, null);
      } catch (NoNodeException e) {
        e.printStackTrace();
      }
      // print the node
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
      } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
      }
      backoffTime *= 2;
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java
      } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
      } finally {
        if (result == false) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/CurrentStateCleanUp.java`
#### Snippet
```java
      accessor.getBaseDataAccessor().remove(pathsToRemove, AccessOption.PERSISTENT);
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      manager.disconnect();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkLogCSVFormatter.java`
#### Snippet
```java
    } catch (IOException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
  }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    } finally {
      long endTime = System.currentTimeMillis();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/tools/ClusterStateVerifier.java`
#### Snippet
```java
      } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/manager/zk/HelixGroupCommit.java`
#### Snippet
```java
            entry.wait(10);
          } catch (InterruptedException e) {
            e.printStackTrace();
            return false;
          }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/LeaderStandbyStateModelFactory.java`
#### Snippet
```java
        Thread.sleep(_transDelay);
      } catch (Exception e) {
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/OnlineOfflineStateModelFactory.java`
#### Snippet
```java
        Thread.sleep(_transDelay);
      } catch (Exception e) {
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleProcess.java`
#### Snippet
```java
          }
        } catch (Exception e) {
          e.printStackTrace();
          delay = 0;
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/DummyParticipant.java`
#### Snippet
```java
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    } finally {
      if (manager != null) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/ExampleHelper.java`
#### Snippet
```java
    } catch (IOException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/MasterSlaveStateModelFactory.java`
#### Snippet
```java
        Thread.sleep(_transDelay);
      } catch (Exception e) {
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java
        } catch (Exception e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
      }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateBuilderExample.java`
#### Snippet
```java
        } catch (Exception e) {
          // TODO Auto-generated catch block
          e.printStackTrace();
        }
      }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
      @Override
      public void onError(Exception e, ErrorCode code, ErrorType type) {
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/examples/BootstrapProcess.java`
#### Snippet
```java
          }
        } catch (Exception e) {
          e.printStackTrace();
          delay = 0;
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ParticipantStatusMonitor.java`
#### Snippet
```java
    } catch (Exception e) {
      LOG.warn(e.toString());
      e.printStackTrace();
      _beanServer = null;
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `helix-core/src/main/java/org/apache/helix/monitoring/mbeans/ParticipantStatusMonitor.java`
#### Snippet
```java
    } catch (Exception e) {
      LOG.warn(e.toString());
      e.printStackTrace();
    }
  }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
      Thread.currentThread().join();
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      if (controllerManager != null) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
              }
            } catch (Exception e) {
              e.printStackTrace();
            }
          }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/TaskExecutionDemo.java`
#### Snippet
```java
      taskCluster.submitDag(dag);
    } catch (Exception e) {
      e.printStackTrace();
      throw e;
    } finally {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/Worker.java`
#### Snippet
```java
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    } finally {
      disconnect();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogProcessor.java`
#### Snippet
```java
          checkpointFile.checkpoint(lastRecordProcessed);
        } catch (Exception e) {
          e.printStackTrace();
        }
      } while (!shutdownRequested.get());
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogProcessor.java`
#### Snippet
```java
      } while (!shutdownRequested.get());
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncDaemon.java`
#### Snippet
```java
      }
    } catch (InterruptedException e) {
      e.printStackTrace();
    }
    return false;
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java

            } catch (IOException e) {
              e.printStackTrace();
            }
            if (exitVal != 0) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
          }
        } catch (InterruptedException e) {
          e.printStackTrace();
          Thread.currentThread().interrupt();
        }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
      }
    } catch (IOException e) {
      e.printStackTrace();
    } catch (InterruptedException e) {
      e.printStackTrace();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java
      e.printStackTrace();
    } catch (InterruptedException e) {
      e.printStackTrace();
    }

```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/CheckpointFile.java`
#### Snippet
```java
        record = ChangeRecord.fromString(line);
      } catch (IOException e) {
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
      Collections.sort(array);
    } catch (Exception e) {
      e.printStackTrace();
    }
    ref.set(null);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
      // Collections.sort(array);
    } catch (Exception e) {
      e.printStackTrace();
    }
    ref.set(null);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Test.java`
#### Snippet
```java
          Collections.sort(array);
        } catch (Exception e) {
          e.printStackTrace();
        }
        ref.set(null);
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStore.java`
#### Snippet
```java
      System.err.println(" [-] " + _serverId + " is interrupted ...");
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      disconnect();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/StartClusterManager.java`
#### Snippet
```java
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
  }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
          System.out.println("Detected changes");
        } catch (InterruptedException e) {
          e.printStackTrace();
        }
      }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
      } while (count < MAX_ENTRIES_TO_READ && raf.getFilePointer() < raf.length());
    } catch (FileNotFoundException e) {
      e.printStackTrace();
    } catch (IOException e) {
      e.printStackTrace();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogReader.java`
#### Snippet
```java
      e.printStackTrace();
    } catch (IOException e) {
      e.printStackTrace();
    } finally {
      lock.unlock();
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
          + "/filestore");
    } catch (Exception e) {
      e.printStackTrace();
    } finally {
      if (server != null) {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/Replicator.java`
#### Snippet
```java
        start();
      } catch (Exception e) {
        e.printStackTrace();
      }
    }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileSystemWatchService.java`
#### Snippet
```java

        } catch (Exception e) {
          e.printStackTrace();
        }
      }
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/ChangeLogGenerator.java`
#### Snippet
```java
      write(record);
    } catch (Exception e) {
      e.printStackTrace();
      return false;
    } finally {
```

### ThrowablePrintStackTrace
Call to `printStackTrace()` should probably be replaced with more robust logging
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/FileStoreStateModel.java`
#### Snippet
```java
      manager.addExternalViewChangeListener(replicator);
    } catch (Exception e) {
      e.printStackTrace();
    }
    _partition = partition;
```

## RuleId[id=ReplaceNullCheck]
### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `helix-core/src/main/java/org/apache/helix/model/Resource.java`
#### Snippet
```java
   */
  public void setStateModelFactoryName(String factoryName) {
    if (factoryName == null) {
      _stateModelFactoryName = HelixConstants.DEFAULT_STATE_MODEL_FACTORY;
    } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `helix-core/src/main/java/org/apache/helix/messaging/handling/HelixTaskExecutor.java`
#### Snippet
```java
          metaCurState.setBatchMessageMode(message.getBatchMessageMode());
          String ftyName = message.getStateModelFactoryName();
          if (ftyName != null) {
            metaCurState.setStateModelFactoryName(ftyName);
          } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
        Rebalancer<ResourceControllerDataProvider> customizedRebalancer =
            getCustomizedRebalancer(idealState.getRebalancerClassName(), resourceName);
        if (customizedRebalancer != null) {
          rebalancer = customizedRebalancer;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `helix-core/src/main/java/org/apache/helix/controller/strategy/AutoRebalanceStrategy.java`
#### Snippet
```java
    _states = states;
    _maximumPerNode = maximumPerNode;
    if (placementScheme != null) {
      _placementScheme = placementScheme;
    } else {
```

## RuleId[id=CovariantEquals]
### CovariantEquals
`equals()` should take 'Object' as its argument
in `helix-core/src/main/java/org/apache/helix/util/StatusUpdateUtil.java`
#### Snippet
```java
    }

    public boolean equals(Transition t) {
      return (_timeStamp == t._timeStamp && _from.equals(t._from) && _to.equals(t._to));
    }
```

## RuleId[id=Anonymous2MethodRef]
### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java

    // Start special servlet for serving namespaces
    Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
      @Override public void run() {
        shutdown();
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java

    final HelixViewAggregator aggregator = new HelixViewAggregator(viewClusterName, zkAddr);
    Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
      @Override
      public void run() {
```

## RuleId[id=Java8MapApi]
### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `helix-core/src/main/java/org/apache/helix/model/CurrentState.java`
#### Snippet
```java
  private void setProperty(String partitionName, CurrentStateProperty property, String value) {
    Map<String, Map<String, String>> mapFields = _record.getMapFields();
    if (mapFields.get(partitionName) == null) {
      mapFields.put(partitionName, new TreeMap<String, String>());
    }
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `helix-core/src/main/java/org/apache/helix/common/caches/ParticipantStateCache.java`
#### Snippet
```java
        String resourceName = params[3];
        Map<String, Map<String, T>> instanceMap = allParticipantStateMap.get(instanceName);
        if (instanceMap == null) {
          instanceMap = Maps.newHashMap();
          allParticipantStateMap.put(instanceName, instanceMap);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `helix-core/src/main/java/org/apache/helix/common/caches/ParticipantStateCache.java`
#### Snippet
```java
        }
        Map<String, T> customizedMap = instanceMap.get(customizedName);
        if (customizedMap == null) {
          customizedMap = Maps.newHashMap();
          instanceMap.put(customizedName, customizedMap);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `helix-core/src/main/java/org/apache/helix/common/caches/InstanceMessagesCache.java`
#### Snippet
```java
      // get the cache
      Map<String, Message> cachedMap = _messageCache.get(instanceName);
      if (cachedMap == null) {
        cachedMap = Maps.newHashMap();
        _messageCache.put(instanceName, cachedMap);
```

### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
    if (keepOffset) {
      offset = roundOffset.get(input);
      if (offset == null) {
        offset = 0;
        roundOffset.put(input, offset);
```

### Java8MapApi
Can be replaced with single 'Map.getOrDefault' method call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/TotalCapacityConstraint.java`
#### Snippet
```java

  private boolean validate(String resource, String partition, String participant) {
    int usage = _capacityProvider.getParticipantUsage(participant) + (_pendingUsage
        .containsKey(participant) ? _pendingUsage.get(participant) : 0);
    return _partitionWeightProvider.getPartitionWeight(resource, partition) + usage
        <= _capacityProvider.getParticipantCapacity(participant);
```

### Java8MapApi
Can be replaced with single 'Map.getOrDefault' method call
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/constraint/PartitionWeightAwareEvennessConstraint.java`
#### Snippet
```java
      return 0;
    }
    double usage = _capacityProvider.getParticipantUsage(participant) + (_pendingUsage
        .containsKey(participant) ? _pendingUsage.get(participant) : 0);
    double available =
        capacity - usage - _partitionWeightProvider.getPartitionWeight(resource, partition);
```

### Java8MapApi
Can be replaced with single 'Map.getOrDefault' method call
in `recipes/task-execution/src/main/java/org/apache/helix/taskexecution/CountTask.java`
#### Snippet
```java

  private void incrementGroupCount(String group, Map<String, Integer> counts) {
    int count = (counts.containsKey(group) ? counts.get(group) : 0);
    counts.put(group, count + 1);
  }
```

## RuleId[id=Convert2Lambda]
### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-rest/src/main/java/org/apache/helix/rest/server/HelixRestServer.java`
#### Snippet
```java

    // Start special servlet for serving namespaces
    Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
      @Override public void run() {
        shutdown();
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/util/ZKClientPool.java`
#### Snippet
```java
            * _dataSampleThread.interrupt();
            */
    _dataSampleThread = new Thread(new Runnable() {
      @Override
      public void run() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/model/Message.java`
#### Snippet
```java
   * Compares the creation time of two Messages
   */
  public static final Comparator<Message> CREATE_TIME_COMPARATOR = new Comparator<Message>() {
    @Override
    public int compare(Message m1, Message m2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/tools/TestExecutor.java`
#### Snippet
```java

    // sort on trigger's start time, stable sort
    Collections.sort(commandList, new Comparator<TestCommand>() {
      @Override
      public int compare(TestCommand o1, TestCommand o2) {
```

### Convert2Lambda
Anonymous new FilenameFilter() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZKDumper.java`
#### Snippet
```java
    ZkSerializer zkSerializer = new ByteArraySerializer();
    client.setZkSerializer(zkSerializer);
    filter = new FilenameFilter() {

      @Override
```

### Convert2Lambda
Anonymous new FileFilter() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
  static File[] getSortedFiles(String dirPath, final String pattern) {
    File dir = new File(dirPath);
    File[] files = dir.listFiles(new FileFilter() {

      @Override
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/ZkGrep.java`
#### Snippet
```java
    });

    Arrays.sort(files, new Comparator<File>() {

      @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java

    // start helix controller
    new Thread(new Runnable() {

      @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateExample.java`
#### Snippet
```java
      int port = 12918 + i;
      final String instanceName = "localhost_" + port;
      new Thread(new Runnable() {

        @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateBuilderExample.java`
#### Snippet
```java

    // start helix controller
    new Thread(new Runnable() {
      @Override
      public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/examples/IdealStateBuilderExample.java`
#### Snippet
```java
      int port = 12918 + i;
      final String instanceName = "localhost_" + port;
      new Thread(new Runnable() {
        @Override
        public void run() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTable.java`
#### Snippet
```java

  private static Comparator<InstanceConfig> INSTANCE_CONFIG_COMPARATOR =
      new Comparator<InstanceConfig>() {
        @Override
        public int compare(InstanceConfig config1, InstanceConfig config2) {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/stages/BestPossibleStateCalcStage.java`
#### Snippet
```java
      final HelixManager helixManager, final ResourceControllerDataProvider cache,
      final ClusterStatusMonitor clusterStatusMonitor, final String errorMessage) {
    asyncExecute(cache.getAsyncTasksThreadPool(), new Callable<Object>() {
      @Override
      public Object call() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      // Create a thread that runs at specified interval
      _periodicRefreshExecutor = new ScheduledThreadPoolExecutor(1);
      _periodicRefreshExecutor.scheduleAtFixedRate(new Runnable() {
        @Override
        public void run() {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
      // Any parallel tasks will be skipped. So the reporting metric data is sampled.
      if (_reportingTask == null || _reportingTask.isDone()) {
        _reportingTask = _reportExecutor.submit(new Callable<Object>() {
          @Override
          public Object call() {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java`
#### Snippet
```java
      final Map<String, Map<String, Message>> pendingMessagesToPurge, ExecutorService workerPool,
      final HelixDataAccessor accessor) {
    workerPool.submit(new Callable<Object>() {
      @Override
      public Object call() {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/stages/ReadClusterDataStage.java`
#### Snippet
```java
    // TODO (harry): move this to separate stage for resource controller only
    if (dataProvider instanceof ResourceControllerDataProvider) {
      asyncExecute(dataProvider.getAsyncTasksThreadPool(), new Callable<Object>() {
        @Override public Object call() {
          // Update the cluster status gauges
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/stages/ReadClusterDataStage.java`
#### Snippet
```java
      });
    } else {
      asyncExecute(dataProvider.getAsyncTasksThreadPool(), new Callable<Object>() {
        @Override
        public Object call() {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CRUSHPlacementAlgorithm.java`
#### Snippet
```java
     */
    private void sortNodesInPlace(List<Node> nodes) {
      Collections.sort(nodes, new Comparator<Node>() {
        public int compare(Node n1, Node n2) {
          if (n2.getWeight() == n1.getWeight()) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/AbstractEvenDistributionRebalanceStrategy.java`
#### Snippet
```java
      List<Node> nodes = partitionMap.get(partition);
      // order according to score
      Collections.sort(nodes, new Comparator<Node>() {
        @Override
        public int compare(Node o1, Node o2) {
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/strategy/crushMapping/CardDealingAdjustmentAlgorithmV2.java`
#### Snippet
```java
      final Map<Node, Float> targetPartitionCount, final int randomSeed, int targetAdjustment) {
    PriorityQueue<Node> instanceQueue =
        new PriorityQueue<>(instances.size(), new Comparator<Node>() {
          @Override
          public int compare(Node node1, Node node2) {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `recipes/distributed-lock-manager/src/main/java/org/apache/helix/lockmanager/LockManagerDemo.java`
#### Snippet
```java
      for (int i = 0; i < numInstances; i++) {
        final String instanceName = "localhost_" + (12000 + i);
        processArray[i] = new Thread(new Runnable() {

          @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `helix-view-aggregator/src/main/java/org/apache/helix/view/aggregator/HelixViewAggregatorMain.java`
#### Snippet
```java

    final HelixViewAggregator aggregator = new HelixViewAggregator(viewClusterName, zkAddr);
    Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {
      @Override
      public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/RsyncInvoker.java`
#### Snippet
```java

  public boolean runInBackground() {
    backgroundThread = new Thread(new Runnable() {
      public void run() {
        try {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      final String instanceName3 = "localhost_12003";
      addConfiguration(setup, baseDir, clusterName, instanceName3);
      Thread thread1 = new Thread(new Runnable() {
        @Override
        public void run() {
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      });
      // START NODES
      Thread thread2 = new Thread(new Runnable() {

        @Override
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `recipes/rsync-replicated-file-system/src/main/java/org/apache/helix/filestore/IntegrationTest.java`
#### Snippet
```java
      });
      // START NODES
      Thread thread3 = new Thread(new Runnable() {

        @Override
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
      throw new IllegalArgumentException("Must not be done in the zookeeper event thread.");
    }
    return retryUntilConnected(new Callable<List<String>>() {
      @Override
      public List<String> call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    }

    return retryUntilConnected(new Callable<List<OpResult>>() {

      @Override
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    try {
      try {
        retryUntilConnected(new Callable<Object>() {

          @Override
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
   */
  public void addAuthInfo(final String scheme, final byte[] auth) {
    retryUntilConnected(new Callable<Object>() {
      @Override
      public Object call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    long startT = System.currentTimeMillis();
    try {
      boolean exists = retryUntilConnected(new Callable<Boolean>() {
        @Override
        public Boolean call() throws Exception {
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java
    byte[] data = null;
    try {
      data = retryUntilConnected(new Callable<byte[]>() {

        @Override
```

## RuleId[id=UnnecessaryContinue]
### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/model/StateModelDefinition.java`
#### Snippet
```java
      } else if ("R".equals(num)) {
        // wait until we get the counts for all other states
        continue;
      } else {
        int stateCount = -1;
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/model/builder/ConfigScopeBuilder.java`
#### Snippet
```java
      } catch (Exception e) {
        LOG.error("Invalid scope string: " + scope);
        continue;
      }
    }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
            _logger.error("Error:", e);
            line.append("null ");
            continue;
          }
        }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/tools/commandtools/JmxDumper.java`
#### Snippet
```java
            } catch (Exception e) {
              _logger.error("Error:", e);
              continue;
            }
          }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/tools/ClusterSetup.java`
#### Snippet
```java
            + " with ANY_LIVEINSTANCE");
        anyLiveInstance = true;
        continue;
      }
    }
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
            .contains(resourceName) || !currentAssignment.containsKey(resourceName)) {
          toBeAssignedReplicas.addAll(replicas);
          continue; // go to check next resource
        } else {
          // check for every replica assignment to identify if the related replicas need to be reassigned.
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/waged/model/ClusterModelProvider.java`
#### Snippet
```java
              // 3. if no such an instance in the current assignment, need to reassign the replica
              toBeAssignedReplicas.add(replica);
              continue; // go to check the next replica
            } else {
              Iterator<String> iter = validInstances.iterator();
```

## RuleId[id=CopyConstructorMissesField]
### CopyConstructorMissesField
Copy constructor does not copy fields '_children' and '_parent'
in `helix-core/src/main/java/org/apache/helix/controller/rebalancer/topology/Node.java`
#### Snippet
```java
  public Node() { }

  protected Node(Node node) {
    _name = node.getName();
    _type = node.getType();
```

## RuleId[id=ThreadStartInConstruction]
### ThreadStartInConstruction
Call to `start()` during object construction
in `helix-core/src/main/java/org/apache/helix/spectator/RoutingTableProvider.java`
#### Snippet
```java
    // Start Updaters
    _routerUpdater = new RouterUpdater(clusterName, sourceDataTypeMap);
    _routerUpdater.start();

    // Add listeners
```

### ThreadStartInConstruction
Call to `start()` during object construction
in `zookeeper-api/src/main/java/org/apache/helix/zookeeper/zkclient/ZkClient.java`
#### Snippet
```java

    _asyncCallRetryThread = new ZkAsyncRetryThread(zkConnection.getServers());
    _asyncCallRetryThread.start();
    LOG.debug("ZkClient created with uid {}, _asyncCallRetryThread id {}", _uid, _asyncCallRetryThread.getId());

```

## RuleId[id=CastCanBeRemovedNarrowingVariableType]
### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'quotaTypeNode' to 'ObjectNode'
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
          }
          String capacityString = String.format("%d/%d", usedCapacity, totalCapacity);
          ((ObjectNode) quotaTypeNode).put(quotaType, capacityString);
        }
        ((ObjectNode) resourceTypeNode).put(resourceType, quotaTypeNode);
```

### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'resourceTypeNode' to 'ObjectNode'
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
          ((ObjectNode) quotaTypeNode).put(quotaType, capacityString);
        }
        ((ObjectNode) resourceTypeNode).put(resourceType, quotaTypeNode);
      }
      // If onlyDisplayIfFull, do not add the JsonNode to the parent node
```

### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'instanceNode' to 'ObjectNode'
in `helix-core/src/main/java/org/apache/helix/task/AssignableInstanceManager.java`
#### Snippet
```java
        continue;
      }
      ((ObjectNode) instanceNode).put(instanceEntry.getKey(), resourceTypeNode);
    }
    if (instanceNode.size() > 0) {
```

